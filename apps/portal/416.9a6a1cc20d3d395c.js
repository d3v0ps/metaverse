(self.webpackChunk_central_factory_portal=self.webpackChunk_central_factory_portal||[]).push([[416],{5416:(oe,N,l)=>{l.r(N);var b=l(1481),c=l(7777),I=l(9283);class x{}const M="*";function U(_,s){return{type:7,name:_,definitions:s,options:{}}}function T(_,s=null){return{type:4,styles:s,timings:_}}function E(_,s=null){return{type:2,steps:_,options:s}}function h(_){return{type:6,styles:_,offset:null}}function R(_,s,a){return{type:0,name:_,styles:s,options:a}}function D(_){return{type:5,steps:_}}function L(_,s,a=null){return{type:1,expr:_,animation:s,options:a}}function O(_,s=null){return{type:8,animation:_,options:s}}function y(_,s=null){return{type:10,animation:_,options:s}}function m(_){Promise.resolve(null).then(_)}class p{constructor(s=0,a=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=s+a}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}onStart(s){this._onStartFns.push(s)}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){m(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(s=>s()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(s){this._position=this.totalTime?s*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(s){const a="start"==s?this._onStartFns:this._onDoneFns;a.forEach(v=>v()),a.length=0}}class q{constructor(s){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=s;let a=0,v=0,k=0;const $=this.players.length;0==$?m(()=>this._onFinish()):this.players.forEach(ne=>{ne.onDone(()=>{++a==$&&this._onFinish()}),ne.onDestroy(()=>{++v==$&&this._onDestroy()}),ne.onStart(()=>{++k==$&&this._onStart()})}),this.totalTime=this.players.reduce((ne,ae)=>Math.max(ne,ae.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this.players.forEach(s=>s.init())}onStart(s){this._onStartFns.push(s)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(s=>s()),this._onStartFns=[])}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(s=>s.play())}pause(){this.players.forEach(s=>s.pause())}restart(){this.players.forEach(s=>s.restart())}finish(){this._onFinish(),this.players.forEach(s=>s.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(s=>s.destroy()),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this.players.forEach(s=>s.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(s){const a=s*this.totalTime;this.players.forEach(v=>{const k=v.totalTime?Math.min(1,a/v.totalTime):1;v.setPosition(k)})}getPosition(){const s=this.players.reduce((a,v)=>null===a||v.totalTime>a.totalTime?v:a,null);return null!=s?s.getPosition():0}beforeDestroy(){this.players.forEach(s=>{s.beforeDestroy&&s.beforeDestroy()})}triggerCallback(s){const a="start"==s?this._onStartFns:this._onDoneFns;a.forEach(v=>v()),a.length=0}}function Ce(){return"undefined"!=typeof window&&void 0!==window.document}function ye(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function pe(_){switch(_.length){case 0:return new p;case 1:return _[0];default:return new q(_)}}function Q(_,s,a,v,k={},$={}){const ne=[],ae=[];let _e=-1,Le=null;if(v.forEach(Qe=>{const qe=Qe.offset,ht=qe==_e,It=ht&&Le||{};Object.keys(Qe).forEach(ct=>{let _t=ct,Tt=Qe[ct];if("offset"!==ct)switch(_t=s.normalizePropertyName(_t,ne),Tt){case"!":Tt=k[ct];break;case M:Tt=$[ct];break;default:Tt=s.normalizeStyleValue(ct,_t,Tt,ne)}It[_t]=Tt}),ht||ae.push(It),Le=It,_e=qe}),ne.length){const Qe="\n - ";throw new Error(`Unable to animate due to the following errors:${Qe}${ne.join(Qe)}`)}return ae}function z(_,s,a,v){switch(s){case"start":_.onStart(()=>v(a&&Y(a,"start",_)));break;case"done":_.onDone(()=>v(a&&Y(a,"done",_)));break;case"destroy":_.onDestroy(()=>v(a&&Y(a,"destroy",_)))}}function Y(_,s,a){const $=H(_.element,_.triggerName,_.fromState,_.toState,s||_.phaseName,a.totalTime??_.totalTime,!!a.disabled),ne=_._data;return null!=ne&&($._data=ne),$}function H(_,s,a,v,k="",$=0,ne){return{element:_,triggerName:s,fromState:a,toState:v,phaseName:k,totalTime:$,disabled:!!ne}}function J(_,s,a){let v;return _ instanceof Map?(v=_.get(s),v||_.set(s,v=a)):(v=_[s],v||(v=_[s]=a)),v}function K(_){const s=_.indexOf(":");return[_.substring(1,s),_.substr(s+1)]}let ie=(_,s)=>!1,Ee=(_,s,a)=>[];(ye()||"undefined"!=typeof Element)&&(ie=Ce()?(_,s)=>{for(;s&&s!==document.documentElement;){if(s===_)return!0;s=s.parentNode||s.host}return!1}:(_,s)=>_.contains(s),Ee=(_,s,a)=>{let v=[];if(a){const k=_.querySelectorAll(s);for(let $=0;$<k.length;$++)v.push(k[$])}else{const k=_.querySelector(s);k&&v.push(k)}return v});let ge=null,te=!1;function ue(_){ge||(ge=("undefined"!=typeof document?document.body:null)||{},te=!!ge.style&&"WebkitAppearance"in ge.style);let s=!0;return ge.style&&!function(_){return"ebkit"==_.substring(1,6)}(_)&&(s=_ in ge.style,!s&&te&&(s="Webkit"+_.charAt(0).toUpperCase()+_.substr(1)in ge.style)),s}const je=ie,Xe=Ee;function ut(_){const s={};return Object.keys(_).forEach(a=>{const v=a.replace(/([a-z])([A-Z])/g,"$1-$2");s[v]=_[a]}),s}let tt=(()=>{class _{validateStyleProperty(a){return ue(a)}matchesElement(a,v){return!1}containsElement(a,v){return je(a,v)}query(a,v,k){return Xe(a,v,k)}computeStyle(a,v,k){return k||""}animate(a,v,k,$,ne,ae=[],_e){return new p(k,$)}}return _.\u0275fac=function(a){return new(a||_)},_.\u0275prov=c.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})(),yt=(()=>{class _{}return _.NOOP=new tt,_})();const Wr="ng-enter",cr="ng-leave",sr="ng-trigger",mr=".ng-trigger",er="ng-animating",on=".ng-animating";function Ne(_){if("number"==typeof _)return _;const s=_.match(/^(-?[\.\d]+)(m?s)/);return!s||s.length<2?0:Ot(parseFloat(s[1]),s[2])}function Ot(_,s){return"s"===s?1e3*_:_}function Pt(_,s,a){return _.hasOwnProperty("duration")?_:function(_,s,a){let k,$=0,ne="";if("string"==typeof _){const ae=_.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ae)return s.push(`The provided timing value "${_}" is invalid.`),{duration:0,delay:0,easing:""};k=Ot(parseFloat(ae[1]),ae[2]);const _e=ae[3];null!=_e&&($=Ot(parseFloat(_e),ae[4]));const Le=ae[5];Le&&(ne=Le)}else k=_;if(!a){let ae=!1,_e=s.length;k<0&&(s.push("Duration values below 0 are not allowed for this animation step."),ae=!0),$<0&&(s.push("Delay values below 0 are not allowed for this animation step."),ae=!0),ae&&s.splice(_e,0,`The provided timing value "${_}" is invalid.`)}return{duration:k,delay:$,easing:ne}}(_,s,a)}function Vr(_,s={}){return Object.keys(_).forEach(a=>{s[a]=_[a]}),s}function Kr(_,s,a={}){if(s)for(let v in _)a[v]=_[v];else Vr(_,a);return a}function Lr(_,s,a){return a?s+":"+a+";":""}function zn(_){let s="";for(let a=0;a<_.style.length;a++){const v=_.style.item(a);s+=Lr(0,v,_.style.getPropertyValue(v))}for(const a in _.style)_.style.hasOwnProperty(a)&&!a.startsWith("_")&&(s+=Lr(0,$s(a),_.style[a]));_.setAttribute("style",s)}function Br(_,s,a){_.style&&(Object.keys(s).forEach(v=>{const k=Pi(v);a&&!a.hasOwnProperty(v)&&(a[v]=_.style[k]),_.style[k]=s[v]}),ye()&&zn(_))}function $r(_,s){_.style&&(Object.keys(s).forEach(a=>{const v=Pi(a);_.style[v]=""}),ye()&&zn(_))}function hn(_){return Array.isArray(_)?1==_.length?_[0]:E(_):_}const Oi=new RegExp("{{\\s*(.+?)\\s*}}","g");function cs(_){let s=[];if("string"==typeof _){let a;for(;a=Oi.exec(_);)s.push(a[1]);Oi.lastIndex=0}return s}function pn(_,s,a){const v=_.toString(),k=v.replace(Oi,($,ne)=>{let ae=s[ne];return s.hasOwnProperty(ne)||(a.push(`Please provide a value for the animation param ${ne}`),ae=""),ae.toString()});return k==v?_:k}function Dn(_){const s=[];let a=_.next();for(;!a.done;)s.push(a.value),a=_.next();return s}const ls=/-+([a-z0-9])/g;function Pi(_){return _.replace(ls,(...s)=>s[1].toUpperCase())}function $s(_){return _.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ii(_,s){return 0===_||0===s}function Ti(_,s,a){const v=Object.keys(a);if(v.length&&s.length){let $=s[0],ne=[];if(v.forEach(ae=>{$.hasOwnProperty(ae)||ne.push(ae),$[ae]=a[ae]}),ne.length)for(var k=1;k<s.length;k++){let ae=s[k];ne.forEach(function(_e){ae[_e]=lr(_,_e)})}}return s}function Sr(_,s,a){switch(s.type){case 7:return _.visitTrigger(s,a);case 0:return _.visitState(s,a);case 1:return _.visitTransition(s,a);case 2:return _.visitSequence(s,a);case 3:return _.visitGroup(s,a);case 4:return _.visitAnimate(s,a);case 5:return _.visitKeyframes(s,a);case 6:return _.visitStyle(s,a);case 8:return _.visitReference(s,a);case 9:return _.visitAnimateChild(s,a);case 10:return _.visitAnimateRef(s,a);case 11:return _.visitQuery(s,a);case 12:return _.visitStagger(s,a);default:throw new Error(`Unable to resolve animation metadata node #${s.type}`)}}function lr(_,s){return window.getComputedStyle(_)[s]}function mn(_,s){const a=[];return"string"==typeof _?_.split(/\s*,\s*/).forEach(v=>function(_,s,a){if(":"==_[0]){const _e=function(_,s){switch(_){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(a,v)=>parseFloat(v)>parseFloat(a);case":decrement":return(a,v)=>parseFloat(v)<parseFloat(a);default:return s.push(`The transition alias value "${_}" is not supported`),"* => *"}}(_,a);if("function"==typeof _e)return void s.push(_e);_=_e}const v=_.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==v||v.length<4)return a.push(`The provided transition expression "${_}" is not supported`),s;const k=v[1],$=v[2],ne=v[3];s.push(Kn(k,ne));"<"==$[0]&&!("*"==k&&"*"==ne)&&s.push(Kn(ne,k))}(v,a,s)):a.push(_),a}const Gr=new Set(["true","1"]),Vn=new Set(["false","0"]);function Kn(_,s){const a=Gr.has(_)||Vn.has(_),v=Gr.has(s)||Vn.has(s);return(k,$)=>{let ne="*"==_||_==k,ae="*"==s||s==$;return!ne&&a&&"boolean"==typeof k&&(ne=k?Gr.has(_):Vn.has(_)),!ae&&v&&"boolean"==typeof $&&(ae=$?Gr.has(s):Vn.has(s)),ne&&ae}}const De=new RegExp("s*:selfs*,?","g");function ve(_,s,a){return new Ae(_).build(s,a)}class Ae{constructor(s){this._driver=s}build(s,a){const v=new kt(a);return this._resetContextStyleTimingState(v),Sr(this,hn(s),v)}_resetContextStyleTimingState(s){s.currentQuerySelector="",s.collectedStyles={},s.collectedStyles[""]={},s.currentTime=0}visitTrigger(s,a){let v=a.queryCount=0,k=a.depCount=0;const $=[],ne=[];return"@"==s.name.charAt(0)&&a.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),s.definitions.forEach(ae=>{if(this._resetContextStyleTimingState(a),0==ae.type){const _e=ae,Le=_e.name;Le.toString().split(/\s*,\s*/).forEach(Qe=>{_e.name=Qe,$.push(this.visitState(_e,a))}),_e.name=Le}else if(1==ae.type){const _e=this.visitTransition(ae,a);v+=_e.queryCount,k+=_e.depCount,ne.push(_e)}else a.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:s.name,states:$,transitions:ne,queryCount:v,depCount:k,options:null}}visitState(s,a){const v=this.visitStyle(s.styles,a),k=s.options&&s.options.params||null;if(v.containsDynamicStyles){const $=new Set,ne=k||{};if(v.styles.forEach(ae=>{if(vr(ae)){const _e=ae;Object.keys(_e).forEach(Le=>{cs(_e[Le]).forEach(Qe=>{ne.hasOwnProperty(Qe)||$.add(Qe)})})}}),$.size){const ae=Dn($.values());a.errors.push(`state("${s.name}", ...) must define default values for all the following style substitutions: ${ae.join(", ")}`)}}return{type:0,name:s.name,style:v,options:k?{params:k}:null}}visitTransition(s,a){a.queryCount=0,a.depCount=0;const v=Sr(this,hn(s.animation),a);return{type:1,matchers:mn(s.expr,a.errors),animation:v,queryCount:a.queryCount,depCount:a.depCount,options:Tr(s.options)}}visitSequence(s,a){return{type:2,steps:s.steps.map(v=>Sr(this,v,a)),options:Tr(s.options)}}visitGroup(s,a){const v=a.currentTime;let k=0;const $=s.steps.map(ne=>{a.currentTime=v;const ae=Sr(this,ne,a);return k=Math.max(k,a.currentTime),ae});return a.currentTime=k,{type:3,steps:$,options:Tr(s.options)}}visitAnimate(s,a){const v=function(_,s){let a=null;if(_.hasOwnProperty("duration"))a=_;else if("number"==typeof _)return ds(Pt(_,s).duration,0,"");const v=_;if(v.split(/\s+/).some($=>"{"==$.charAt(0)&&"{"==$.charAt(1))){const $=ds(0,0,"");return $.dynamic=!0,$.strValue=v,$}return a=a||Pt(v,s),ds(a.duration,a.delay,a.easing)}(s.timings,a.errors);a.currentAnimateTimings=v;let k,$=s.styles?s.styles:h({});if(5==$.type)k=this.visitKeyframes($,a);else{let ne=s.styles,ae=!1;if(!ne){ae=!0;const Le={};v.easing&&(Le.easing=v.easing),ne=h(Le)}a.currentTime+=v.duration+v.delay;const _e=this.visitStyle(ne,a);_e.isEmptyStep=ae,k=_e}return a.currentAnimateTimings=null,{type:4,timings:v,style:k,options:null}}visitStyle(s,a){const v=this._makeStyleAst(s,a);return this._validateStyleAst(v,a),v}_makeStyleAst(s,a){const v=[];Array.isArray(s.styles)?s.styles.forEach(ne=>{"string"==typeof ne?ne==M?v.push(ne):a.errors.push(`The provided style string value ${ne} is not allowed.`):v.push(ne)}):v.push(s.styles);let k=!1,$=null;return v.forEach(ne=>{if(vr(ne)){const ae=ne,_e=ae.easing;if(_e&&($=_e,delete ae.easing),!k)for(let Le in ae)if(ae[Le].toString().indexOf("{{")>=0){k=!0;break}}}),{type:6,styles:v,easing:$,offset:s.offset,containsDynamicStyles:k,options:null}}_validateStyleAst(s,a){const v=a.currentAnimateTimings;let k=a.currentTime,$=a.currentTime;v&&$>0&&($-=v.duration+v.delay),s.styles.forEach(ne=>{"string"!=typeof ne&&Object.keys(ne).forEach(ae=>{if(!this._driver.validateStyleProperty(ae))return void a.errors.push(`The provided animation property "${ae}" is not a supported CSS property for animations`);const _e=a.collectedStyles[a.currentQuerySelector],Le=_e[ae];let Qe=!0;Le&&($!=k&&$>=Le.startTime&&k<=Le.endTime&&(a.errors.push(`The CSS property "${ae}" that exists between the times of "${Le.startTime}ms" and "${Le.endTime}ms" is also being animated in a parallel animation between the times of "${$}ms" and "${k}ms"`),Qe=!1),$=Le.startTime),Qe&&(_e[ae]={startTime:$,endTime:k}),a.options&&function(_,s,a){const v=s.params||{},k=cs(_);k.length&&k.forEach($=>{v.hasOwnProperty($)||a.push(`Unable to resolve the local animation param ${$} in the given list of values`)})}(ne[ae],a.options,a.errors)})})}visitKeyframes(s,a){const v={type:5,styles:[],options:null};if(!a.currentAnimateTimings)return a.errors.push("keyframes() must be placed inside of a call to animate()"),v;let $=0;const ne=[];let ae=!1,_e=!1,Le=0;const Qe=s.steps.map(Gt=>{const rr=this._makeStyleAst(Gt,a);let Dr=null!=rr.offset?rr.offset:function(_){if("string"==typeof _)return null;let s=null;if(Array.isArray(_))_.forEach(a=>{if(vr(a)&&a.hasOwnProperty("offset")){const v=a;s=parseFloat(v.offset),delete v.offset}});else if(vr(_)&&_.hasOwnProperty("offset")){const a=_;s=parseFloat(a.offset),delete a.offset}return s}(rr.styles),pr=0;return null!=Dr&&($++,pr=rr.offset=Dr),_e=_e||pr<0||pr>1,ae=ae||pr<Le,Le=pr,ne.push(pr),rr});_e&&a.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),ae&&a.errors.push("Please ensure that all keyframe offsets are in order");const qe=s.steps.length;let ht=0;$>0&&$<qe?a.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==$&&(ht=1/(qe-1));const It=qe-1,ct=a.currentTime,_t=a.currentAnimateTimings,Tt=_t.duration;return Qe.forEach((Gt,rr)=>{const Dr=ht>0?rr==It?1:ht*rr:ne[rr],pr=Dr*Tt;a.currentTime=ct+_t.delay+pr,_t.duration=pr,this._validateStyleAst(Gt,a),Gt.offset=Dr,v.styles.push(Gt)}),v}visitReference(s,a){return{type:8,animation:Sr(this,hn(s.animation),a),options:Tr(s.options)}}visitAnimateChild(s,a){return a.depCount++,{type:9,options:Tr(s.options)}}visitAnimateRef(s,a){return{type:10,animation:this.visitReference(s.animation,a),options:Tr(s.options)}}visitQuery(s,a){const v=a.currentQuerySelector,k=s.options||{};a.queryCount++,a.currentQuery=s;const[$,ne]=function(_){const s=!!_.split(/\s*,\s*/).find(a=>":self"==a);return s&&(_=_.replace(De,"")),_=_.replace(/@\*/g,mr).replace(/@\w+/g,a=>mr+"-"+a.substr(1)).replace(/:animating/g,on),[_,s]}(s.selector);a.currentQuerySelector=v.length?v+" "+$:$,J(a.collectedStyles,a.currentQuerySelector,{});const ae=Sr(this,hn(s.animation),a);return a.currentQuery=null,a.currentQuerySelector=v,{type:11,selector:$,limit:k.limit||0,optional:!!k.optional,includeSelf:ne,animation:ae,originalSelector:s.selector,options:Tr(s.options)}}visitStagger(s,a){a.currentQuery||a.errors.push("stagger() can only be used inside of query()");const v="full"===s.timings?{duration:0,delay:0,easing:"full"}:Pt(s.timings,a.errors,!0);return{type:12,animation:Sr(this,hn(s.animation),a),timings:v,options:null}}}class kt{constructor(s){this.errors=s,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function vr(_){return!Array.isArray(_)&&"object"==typeof _}function Tr(_){return _?(_=Vr(_)).params&&(_.params=function(_){return _?Vr(_):null}(_.params)):_={},_}function ds(_,s,a){return{duration:_,delay:s,easing:a}}function hs(_,s,a,v,k,$,ne=null,ae=!1){return{type:1,element:_,keyframes:s,preStyleProps:a,postStyleProps:v,duration:k,delay:$,totalTime:k+$,easing:ne,subTimeline:ae}}class ui{constructor(){this._map=new Map}get(s){return this._map.get(s)||[]}append(s,a){let v=this._map.get(s);v||this._map.set(s,v=[]),v.push(...a)}has(s){return this._map.has(s)}clear(){this._map.clear()}}const Gs=new RegExp(":enter","g"),Qs=new RegExp(":leave","g");function gr(_,s,a,v,k,$={},ne={},ae,_e,Le=[]){return(new aa).buildKeyframes(_,s,a,v,k,$,ne,ae,_e,Le)}class aa{buildKeyframes(s,a,v,k,$,ne,ae,_e,Le,Qe=[]){Le=Le||new ui;const qe=new Ri(s,a,Le,k,$,Qe,[]);qe.options=_e,qe.currentTimeline.setStyles([ne],null,qe.errors,_e),Sr(this,v,qe);const ht=qe.timelines.filter(It=>It.containsAnimation());if(ht.length&&Object.keys(ae).length){const It=ht[ht.length-1];It.allowOnlyTimelineStyles()||It.setStyles([ae],null,qe.errors,_e)}return ht.length?ht.map(It=>It.buildKeyframes()):[hs(a,[],[],[],0,0,"",!1)]}visitTrigger(s,a){}visitState(s,a){}visitTransition(s,a){}visitAnimateChild(s,a){const v=a.subInstructions.get(a.element);if(v){const k=a.createSubContext(s.options),$=a.currentTimeline.currentTime,ne=this._visitSubInstructions(v,k,k.options);$!=ne&&a.transformIntoNewTimeline(ne)}a.previousNode=s}visitAnimateRef(s,a){const v=a.createSubContext(s.options);v.transformIntoNewTimeline(),this.visitReference(s.animation,v),a.transformIntoNewTimeline(v.currentTimeline.currentTime),a.previousNode=s}_visitSubInstructions(s,a,v){let $=a.currentTimeline.currentTime;const ne=null!=v.duration?Ne(v.duration):null,ae=null!=v.delay?Ne(v.delay):null;return 0!==ne&&s.forEach(_e=>{const Le=a.appendInstructionToTimeline(_e,ne,ae);$=Math.max($,Le.duration+Le.delay)}),$}visitReference(s,a){a.updateOptions(s.options,!0),Sr(this,s.animation,a),a.previousNode=s}visitSequence(s,a){const v=a.subContextCount;let k=a;const $=s.options;if($&&($.params||$.delay)&&(k=a.createSubContext($),k.transformIntoNewTimeline(),null!=$.delay)){6==k.previousNode.type&&(k.currentTimeline.snapshotCurrentStyles(),k.previousNode=Hn);const ne=Ne($.delay);k.delayNextStep(ne)}s.steps.length&&(s.steps.forEach(ne=>Sr(this,ne,k)),k.currentTimeline.applyStylesToKeyframe(),k.subContextCount>v&&k.transformIntoNewTimeline()),a.previousNode=s}visitGroup(s,a){const v=[];let k=a.currentTimeline.currentTime;const $=s.options&&s.options.delay?Ne(s.options.delay):0;s.steps.forEach(ne=>{const ae=a.createSubContext(s.options);$&&ae.delayNextStep($),Sr(this,ne,ae),k=Math.max(k,ae.currentTimeline.currentTime),v.push(ae.currentTimeline)}),v.forEach(ne=>a.currentTimeline.mergeTimelineCollectedStyles(ne)),a.transformIntoNewTimeline(k),a.previousNode=s}_visitTiming(s,a){if(s.dynamic){const v=s.strValue;return Pt(a.params?pn(v,a.params,a.errors):v,a.errors)}return{duration:s.duration,delay:s.delay,easing:s.easing}}visitAnimate(s,a){const v=a.currentAnimateTimings=this._visitTiming(s.timings,a),k=a.currentTimeline;v.delay&&(a.incrementTime(v.delay),k.snapshotCurrentStyles());const $=s.style;5==$.type?this.visitKeyframes($,a):(a.incrementTime(v.duration),this.visitStyle($,a),k.applyStylesToKeyframe()),a.currentAnimateTimings=null,a.previousNode=s}visitStyle(s,a){const v=a.currentTimeline,k=a.currentAnimateTimings;!k&&v.getCurrentStyleProperties().length&&v.forwardFrame();const $=k&&k.easing||s.easing;s.isEmptyStep?v.applyEmptyStep($):v.setStyles(s.styles,$,a.errors,a.options),a.previousNode=s}visitKeyframes(s,a){const v=a.currentAnimateTimings,k=a.currentTimeline.duration,$=v.duration,ae=a.createSubContext().currentTimeline;ae.easing=v.easing,s.styles.forEach(_e=>{ae.forwardTime((_e.offset||0)*$),ae.setStyles(_e.styles,_e.easing,a.errors,a.options),ae.applyStylesToKeyframe()}),a.currentTimeline.mergeTimelineCollectedStyles(ae),a.transformIntoNewTimeline(k+$),a.previousNode=s}visitQuery(s,a){const v=a.currentTimeline.currentTime,k=s.options||{},$=k.delay?Ne(k.delay):0;$&&(6===a.previousNode.type||0==v&&a.currentTimeline.getCurrentStyleProperties().length)&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=Hn);let ne=v;const ae=a.invokeQuery(s.selector,s.originalSelector,s.limit,s.includeSelf,!!k.optional,a.errors);a.currentQueryTotal=ae.length;let _e=null;ae.forEach((Le,Qe)=>{a.currentQueryIndex=Qe;const qe=a.createSubContext(s.options,Le);$&&qe.delayNextStep($),Le===a.element&&(_e=qe.currentTimeline),Sr(this,s.animation,qe),qe.currentTimeline.applyStylesToKeyframe(),ne=Math.max(ne,qe.currentTimeline.currentTime)}),a.currentQueryIndex=0,a.currentQueryTotal=0,a.transformIntoNewTimeline(ne),_e&&(a.currentTimeline.mergeTimelineCollectedStyles(_e),a.currentTimeline.snapshotCurrentStyles()),a.previousNode=s}visitStagger(s,a){const v=a.parentContext,k=a.currentTimeline,$=s.timings,ne=Math.abs($.duration),ae=ne*(a.currentQueryTotal-1);let _e=ne*a.currentQueryIndex;switch($.duration<0?"reverse":$.easing){case"reverse":_e=ae-_e;break;case"full":_e=v.currentStaggerTime}const Qe=a.currentTimeline;_e&&Qe.delayNextStep(_e);const qe=Qe.currentTime;Sr(this,s.animation,a),a.previousNode=s,v.currentStaggerTime=k.currentTime-qe+(k.startTime-v.currentTimeline.startTime)}}const Hn={};class Ri{constructor(s,a,v,k,$,ne,ae,_e){this._driver=s,this.element=a,this.subInstructions=v,this._enterClassName=k,this._leaveClassName=$,this.errors=ne,this.timelines=ae,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Hn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_e||new ci(this._driver,a,0),ae.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(s,a){if(!s)return;const v=s;let k=this.options;null!=v.duration&&(k.duration=Ne(v.duration)),null!=v.delay&&(k.delay=Ne(v.delay));const $=v.params;if($){let ne=k.params;ne||(ne=this.options.params={}),Object.keys($).forEach(ae=>{(!a||!ne.hasOwnProperty(ae))&&(ne[ae]=pn($[ae],ne,this.errors))})}}_copyOptions(){const s={};if(this.options){const a=this.options.params;if(a){const v=s.params={};Object.keys(a).forEach(k=>{v[k]=a[k]})}}return s}createSubContext(s=null,a,v){const k=a||this.element,$=new Ri(this._driver,k,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(k,v||0));return $.previousNode=this.previousNode,$.currentAnimateTimings=this.currentAnimateTimings,$.options=this._copyOptions(),$.updateOptions(s),$.currentQueryIndex=this.currentQueryIndex,$.currentQueryTotal=this.currentQueryTotal,$.parentContext=this,this.subContextCount++,$}transformIntoNewTimeline(s){return this.previousNode=Hn,this.currentTimeline=this.currentTimeline.fork(this.element,s),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(s,a,v){const k={duration:a??s.duration,delay:this.currentTimeline.currentTime+(v??0)+s.delay,easing:""},$=new Zs(this._driver,s.element,s.keyframes,s.preStyleProps,s.postStyleProps,k,s.stretchStartingKeyframe);return this.timelines.push($),k}incrementTime(s){this.currentTimeline.forwardTime(this.currentTimeline.duration+s)}delayNextStep(s){s>0&&this.currentTimeline.delayNextStep(s)}invokeQuery(s,a,v,k,$,ne){let ae=[];if(k&&ae.push(this.element),s.length>0){s=(s=s.replace(Gs,"."+this._enterClassName)).replace(Qs,"."+this._leaveClassName);let Le=this._driver.query(this.element,s,1!=v);0!==v&&(Le=v<0?Le.slice(Le.length+v,Le.length):Le.slice(0,v)),ae.push(...Le)}return!$&&0==ae.length&&ne.push(`\`query("${a}")\` returned zero elements. (Use \`query("${a}", { optional: true })\` if you wish to allow this.)`),ae}}class ci{constructor(s,a,v,k){this._driver=s,this.element=a,this.startTime=v,this._elementTimelineStylesLookup=k,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(a),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(a,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(s){const a=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||a?(this.forwardTime(this.currentTime+s),a&&this.snapshotCurrentStyles()):this.startTime+=s}fork(s,a){return this.applyStylesToKeyframe(),new ci(this._driver,s,a||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(s){this.applyStylesToKeyframe(),this.duration=s,this._loadKeyframe()}_updateStyle(s,a){this._localTimelineStyles[s]=a,this._globalTimelineStyles[s]=a,this._styleSummary[s]={time:this.currentTime,value:a}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(s){s&&(this._previousKeyframe.easing=s),Object.keys(this._globalTimelineStyles).forEach(a=>{this._backFill[a]=this._globalTimelineStyles[a]||M,this._currentKeyframe[a]=M}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(s,a,v,k){a&&(this._previousKeyframe.easing=a);const $=k&&k.params||{},ne=function(_,s){const a={};let v;return _.forEach(k=>{"*"===k?(v=v||Object.keys(s),v.forEach($=>{a[$]=M})):Kr(k,!1,a)}),a}(s,this._globalTimelineStyles);Object.keys(ne).forEach(ae=>{const _e=pn(ne[ae],$,v);this._pendingStyles[ae]=_e,this._localTimelineStyles.hasOwnProperty(ae)||(this._backFill[ae]=this._globalTimelineStyles.hasOwnProperty(ae)?this._globalTimelineStyles[ae]:M),this._updateStyle(ae,_e)})}applyStylesToKeyframe(){const s=this._pendingStyles,a=Object.keys(s);0!=a.length&&(this._pendingStyles={},a.forEach(v=>{this._currentKeyframe[v]=s[v]}),Object.keys(this._localTimelineStyles).forEach(v=>{this._currentKeyframe.hasOwnProperty(v)||(this._currentKeyframe[v]=this._localTimelineStyles[v])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(s=>{const a=this._localTimelineStyles[s];this._pendingStyles[s]=a,this._updateStyle(s,a)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const s=[];for(let a in this._currentKeyframe)s.push(a);return s}mergeTimelineCollectedStyles(s){Object.keys(s._styleSummary).forEach(a=>{const v=this._styleSummary[a],k=s._styleSummary[a];(!v||k.time>v.time)&&this._updateStyle(a,k.value)})}buildKeyframes(){this.applyStylesToKeyframe();const s=new Set,a=new Set,v=1===this._keyframes.size&&0===this.duration;let k=[];this._keyframes.forEach((ae,_e)=>{const Le=Kr(ae,!0);Object.keys(Le).forEach(Qe=>{const qe=Le[Qe];"!"==qe?s.add(Qe):qe==M&&a.add(Qe)}),v||(Le.offset=_e/this.duration),k.push(Le)});const $=s.size?Dn(s.values()):[],ne=a.size?Dn(a.values()):[];if(v){const ae=k[0],_e=Vr(ae);ae.offset=0,_e.offset=1,k=[ae,_e]}return hs(this.element,k,$,ne,this.duration,this.startTime,this.easing,!1)}}class Zs extends ci{constructor(s,a,v,k,$,ne,ae=!1){super(s,a,ne.delay),this.keyframes=v,this.preStyleProps=k,this.postStyleProps=$,this._stretchStartingKeyframe=ae,this.timings={duration:ne.duration,delay:ne.delay,easing:ne.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let s=this.keyframes,{delay:a,duration:v,easing:k}=this.timings;if(this._stretchStartingKeyframe&&a){const $=[],ne=v+a,ae=a/ne,_e=Kr(s[0],!1);_e.offset=0,$.push(_e);const Le=Kr(s[0],!1);Le.offset=Ys(ae),$.push(Le);const Qe=s.length-1;for(let qe=1;qe<=Qe;qe++){let ht=Kr(s[qe],!1);ht.offset=Ys((a+ht.offset*v)/ne),$.push(ht)}v=ne,a=0,k="",s=$}return hs(this.element,s,this.preStyleProps,this.postStyleProps,v,a,k,!0)}}function Ys(_,s=3){const a=Math.pow(10,s-1);return Math.round(_*a)/a}class xi{}class ca extends xi{normalizePropertyName(s,a){return Pi(s)}normalizeStyleValue(s,a,v,k){let $="";const ne=v.toString().trim();if(Js[a]&&0!==v&&"0"!==v)if("number"==typeof v)$="px";else{const ae=v.match(/^[+-]?[\d\.]+([a-z]*)$/);ae&&0==ae[1].length&&k.push(`Please provide a CSS unit value for ${s}:${v}`)}return ne+$}}const Js=(()=>function(_){const s={};return _.forEach(a=>s[a]=!0),s}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function vn(_,s,a,v,k,$,ne,ae,_e,Le,Qe,qe,ht){return{type:0,element:_,triggerName:s,isRemovalTransition:k,fromState:a,fromStyles:$,toState:v,toStyles:ne,timelines:ae,queriedElements:_e,preStyleProps:Le,postStyleProps:Qe,totalTime:qe,errors:ht}}const an={};class Xs{constructor(s,a,v){this._triggerName=s,this.ast=a,this._stateStyles=v}match(s,a,v,k){return function(_,s,a,v,k){return _.some($=>$(s,a,v,k))}(this.ast.matchers,s,a,v,k)}buildStyles(s,a,v){const k=this._stateStyles["*"],$=this._stateStyles[s],ne=k?k.buildStyles(a,v):{};return $?$.buildStyles(a,v):ne}build(s,a,v,k,$,ne,ae,_e,Le,Qe){const qe=[],ht=this.ast.options&&this.ast.options.params||an,ct=this.buildStyles(v,ae&&ae.params||an,qe),_t=_e&&_e.params||an,Tt=this.buildStyles(k,_t,qe),Gt=new Set,rr=new Map,Dr=new Map,pr="void"===k,ns={params:{...ht,..._t}},bn=Qe?[]:gr(s,a,this.ast.animation,$,ne,ct,Tt,ns,Le,qe);let Or=0;if(bn.forEach(En=>{Or=Math.max(En.duration+En.delay,Or)}),qe.length)return vn(a,this._triggerName,v,k,pr,ct,Tt,[],[],rr,Dr,Or,qe);bn.forEach(En=>{const wn=En.element,Wu=J(rr,wn,{});En.preStyleProps.forEach(Si=>Wu[Si]=!0);const wi=J(Dr,wn,{});En.postStyleProps.forEach(Si=>wi[Si]=!0),wn!==a&&Gt.add(wn)});const en=Dn(Gt.values());return vn(a,this._triggerName,v,k,pr,ct,Tt,bn,en,rr,Dr,Or)}}class ms{constructor(s,a,v){this.styles=s,this.defaultParams=a,this.normalizer=v}buildStyles(s,a){const v={},k=Vr(this.defaultParams);return Object.keys(s).forEach($=>{const ne=s[$];null!=ne&&(k[$]=ne)}),this.styles.styles.forEach($=>{if("string"!=typeof $){const ne=$;Object.keys(ne).forEach(ae=>{let _e=ne[ae];_e.length>1&&(_e=pn(_e,k,a));const Le=this.normalizer.normalizePropertyName(ae,a);_e=this.normalizer.normalizeStyleValue(ae,Le,_e,a),v[Le]=_e})}}),v}}class qs{constructor(s,a,v){this.name=s,this.ast=a,this._normalizer=v,this.transitionFactories=[],this.states={},a.states.forEach(k=>{this.states[k.name]=new ms(k.style,k.options&&k.options.params||{},v)}),eo(this.states,"true","1"),eo(this.states,"false","0"),a.transitions.forEach(k=>{this.transitionFactories.push(new Xs(s,k,this.states))}),this.fallbackTransition=function(_,s,a){return new Xs(_,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ne,ae)=>!0],options:null,queryCount:0,depCount:0},s)}(s,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(s,a,v,k){return this.transitionFactories.find(ne=>ne.match(s,a,v,k))||null}matchStyles(s,a,v){return this.fallbackTransition.buildStyles(s,a,v)}}function eo(_,s,a){_.hasOwnProperty(s)?_.hasOwnProperty(a)||(_[a]=_[s]):_.hasOwnProperty(a)&&(_[s]=_[a])}const da=new ui;class to{constructor(s,a,v){this.bodyNode=s,this._driver=a,this._normalizer=v,this._animations={},this._playersById={},this.players=[]}register(s,a){const v=[],k=ve(this._driver,a,v);if(v.length)throw new Error(`Unable to build the animation due to the following errors: ${v.join("\n")}`);this._animations[s]=k}_buildPlayer(s,a,v){const k=s.element,$=Q(0,this._normalizer,0,s.keyframes,a,v);return this._driver.animate(k,$,s.duration,s.delay,s.easing,[],!0)}create(s,a,v={}){const k=[],$=this._animations[s];let ne;const ae=new Map;if($?(ne=gr(this._driver,a,$,Wr,cr,{},{},v,da,k),ne.forEach(Qe=>{const qe=J(ae,Qe.element,{});Qe.postStyleProps.forEach(ht=>qe[ht]=null)})):(k.push("The requested animation doesn't exist or has already been destroyed"),ne=[]),k.length)throw new Error(`Unable to create the animation due to the following errors: ${k.join("\n")}`);ae.forEach((Qe,qe)=>{Object.keys(Qe).forEach(ht=>{Qe[ht]=this._driver.computeStyle(qe,ht,M)})});const Le=pe(ne.map(Qe=>{const qe=ae.get(Qe.element);return this._buildPlayer(Qe,{},qe)}));return this._playersById[s]=Le,Le.onDestroy(()=>this.destroy(s)),this.players.push(Le),Le}destroy(s){const a=this._getPlayer(s);a.destroy(),delete this._playersById[s];const v=this.players.indexOf(a);v>=0&&this.players.splice(v,1)}_getPlayer(s){const a=this._playersById[s];if(!a)throw new Error(`Unable to find the timeline player referenced by ${s}`);return a}listen(s,a,v,k){const $=H(a,"","","");return z(this._getPlayer(s),v,$,k),()=>{}}command(s,a,v,k){if("register"==v)return void this.register(s,k[0]);if("create"==v)return void this.create(s,a,k[0]||{});const $=this._getPlayer(s);switch(v){case"play":$.play();break;case"pause":$.pause();break;case"reset":$.reset();break;case"restart":$.restart();break;case"finish":$.finish();break;case"init":$.init();break;case"setPosition":$.setPosition(parseFloat(k[0]));break;case"destroy":this.destroy(s)}}}const ro="ng-animate-queued",ki="ng-animate-disabled",ma=[],Qr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},On={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fr="__ng_removed";class so{constructor(s,a=""){this.namespaceId=a;const v=s&&s.hasOwnProperty("value");if(this.value=(v?s.value:s)??null,v){const $=Vr(s);delete $.value,this.options=$}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(s){const a=s.params;if(a){const v=this.options.params;Object.keys(a).forEach(k=>{null==v[k]&&(v[k]=a[k])})}}}const Gn="void",vs=new so(Gn);class va{constructor(s,a,v){this.id=s,this.hostElement=a,this._engine=v,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+s,Nr(a,this._hostClassName)}listen(s,a,v,k){if(!this._triggers.hasOwnProperty(a))throw new Error(`Unable to listen on the animation trigger event "${v}" because the animation trigger "${a}" doesn't exist!`);if(null==v||0==v.length)throw new Error(`Unable to listen on the animation trigger "${a}" because the provided event is undefined!`);if("start"!=(_=v)&&"done"!=_)throw new Error(`The provided animation trigger event "${v}" for the animation trigger "${a}" is not supported!`);var _;const $=J(this._elementListeners,s,[]),ne={name:a,phase:v,callback:k};$.push(ne);const ae=J(this._engine.statesByElement,s,{});return ae.hasOwnProperty(a)||(Nr(s,sr),Nr(s,sr+"-"+a),ae[a]=vs),()=>{this._engine.afterFlush(()=>{const _e=$.indexOf(ne);_e>=0&&$.splice(_e,1),this._triggers[a]||delete ae[a]})}}register(s,a){return!this._triggers[s]&&(this._triggers[s]=a,!0)}_getTrigger(s){const a=this._triggers[s];if(!a)throw new Error(`The provided animation trigger "${s}" has not been registered!`);return a}trigger(s,a,v,k=!0){const $=this._getTrigger(a),ne=new gs(this.id,a,s);let ae=this._engine.statesByElement.get(s);ae||(Nr(s,sr),Nr(s,sr+"-"+a),this._engine.statesByElement.set(s,ae={}));let _e=ae[a];const Le=new so(v,this.id);if(!(v&&v.hasOwnProperty("value"))&&_e&&Le.absorbOptions(_e.options),ae[a]=Le,_e||(_e=vs),Le.value!==Gn&&_e.value===Le.value){if(!function(_,s){const a=Object.keys(_),v=Object.keys(s);if(a.length!=v.length)return!1;for(let k=0;k<a.length;k++){const $=a[k];if(!s.hasOwnProperty($)||_[$]!==s[$])return!1}return!0}(_e.params,Le.params)){const _t=[],Tt=$.matchStyles(_e.value,_e.params,_t),Gt=$.matchStyles(Le.value,Le.params,_t);_t.length?this._engine.reportError(_t):this._engine.afterFlush(()=>{$r(s,Tt),Br(s,Gt)})}return}const ht=J(this._engine.playersByElement,s,[]);ht.forEach(_t=>{_t.namespaceId==this.id&&_t.triggerName==a&&_t.queued&&_t.destroy()});let It=$.matchTransition(_e.value,Le.value,s,Le.params),ct=!1;if(!It){if(!k)return;It=$.fallbackTransition,ct=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:a,transition:It,fromState:_e,toState:Le,player:ne,isFallbackTransition:ct}),ct||(Nr(s,ro),ne.onStart(()=>{Qn(s,ro)})),ne.onDone(()=>{let _t=this.players.indexOf(ne);_t>=0&&this.players.splice(_t,1);const Tt=this._engine.playersByElement.get(s);if(Tt){let Gt=Tt.indexOf(ne);Gt>=0&&Tt.splice(Gt,1)}}),this.players.push(ne),ht.push(ne),ne}deregister(s){delete this._triggers[s],this._engine.statesByElement.forEach((a,v)=>{delete a[s]}),this._elementListeners.forEach((a,v)=>{this._elementListeners.set(v,a.filter(k=>k.name!=s))})}clearElementCache(s){this._engine.statesByElement.delete(s),this._elementListeners.delete(s);const a=this._engine.playersByElement.get(s);a&&(a.forEach(v=>v.destroy()),this._engine.playersByElement.delete(s))}_signalRemovalForInnerTriggers(s,a){const v=this._engine.driver.query(s,mr,!0);v.forEach(k=>{if(k[Fr])return;const $=this._engine.fetchNamespacesByElement(k);$.size?$.forEach(ne=>ne.triggerLeaveAnimation(k,a,!1,!0)):this.clearElementCache(k)}),this._engine.afterFlushAnimationsDone(()=>v.forEach(k=>this.clearElementCache(k)))}triggerLeaveAnimation(s,a,v,k){const $=this._engine.statesByElement.get(s);if($){const ne=[];if(Object.keys($).forEach(ae=>{if(this._triggers[ae]){const _e=this.trigger(s,ae,Gn,k);_e&&ne.push(_e)}}),ne.length)return this._engine.markElementAsRemoved(this.id,s,!0,a),v&&pe(ne).onDone(()=>this._engine.processLeaveNode(s)),!0}return!1}prepareLeaveAnimationListeners(s){const a=this._elementListeners.get(s),v=this._engine.statesByElement.get(s);if(a&&v){const k=new Set;a.forEach($=>{const ne=$.name;if(k.has(ne))return;k.add(ne);const _e=this._triggers[ne].fallbackTransition,Le=v[ne]||vs,Qe=new so(Gn),qe=new gs(this.id,ne,s);this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:ne,transition:_e,fromState:Le,toState:Qe,player:qe,isFallbackTransition:!0})})}}removeNode(s,a){const v=this._engine;if(s.childElementCount&&this._signalRemovalForInnerTriggers(s,a),this.triggerLeaveAnimation(s,a,!0))return;let k=!1;if(v.totalAnimations){const $=v.players.length?v.playersByQueriedElement.get(s):[];if($&&$.length)k=!0;else{let ne=s;for(;ne=ne.parentNode;)if(v.statesByElement.get(ne)){k=!0;break}}}if(this.prepareLeaveAnimationListeners(s),k)v.markElementAsRemoved(this.id,s,!1,a);else{const $=s[Fr];(!$||$===Qr)&&(v.afterFlush(()=>this.clearElementCache(s)),v.destroyInnerAnimations(s),v._onRemovalComplete(s,a))}}insertNode(s,a){Nr(s,this._hostClassName)}drainQueuedTransitions(s){const a=[];return this._queue.forEach(v=>{const k=v.player;if(k.destroyed)return;const $=v.element,ne=this._elementListeners.get($);ne&&ne.forEach(ae=>{if(ae.name==v.triggerName){const _e=H($,v.triggerName,v.fromState.value,v.toState.value);_e._data=s,z(v.player,ae.phase,_e,ae.callback)}}),k.markedForDestroy?this._engine.afterFlush(()=>{k.destroy()}):a.push(v)}),this._queue=[],a.sort((v,k)=>{const $=v.transition.ast.depCount,ne=k.transition.ast.depCount;return 0==$||0==ne?$-ne:this._engine.driver.containsElement(v.element,k.element)?1:-1})}destroy(s){this.players.forEach(a=>a.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,s)}elementContainsData(s){let a=!1;return this._elementListeners.has(s)&&(a=!0),a=!!this._queue.find(v=>v.element===s)||a,a}}class oo{constructor(s,a,v){this.bodyNode=s,this.driver=a,this._normalizer=v,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(k,$)=>{}}_onRemovalComplete(s,a){this.onRemovalComplete(s,a)}get queuedPlayers(){const s=[];return this._namespaceList.forEach(a=>{a.players.forEach(v=>{v.queued&&s.push(v)})}),s}createNamespace(s,a){const v=new va(s,a,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,a)?this._balanceNamespaceList(v,a):(this.newHostElements.set(a,v),this.collectEnterElement(a)),this._namespaceLookup[s]=v}_balanceNamespaceList(s,a){const v=this._namespaceList.length-1;if(v>=0){let k=!1;for(let $=v;$>=0;$--)if(this.driver.containsElement(this._namespaceList[$].hostElement,a)){this._namespaceList.splice($+1,0,s),k=!0;break}k||this._namespaceList.splice(0,0,s)}else this._namespaceList.push(s);return this.namespacesByHostElement.set(a,s),s}register(s,a){let v=this._namespaceLookup[s];return v||(v=this.createNamespace(s,a)),v}registerTrigger(s,a,v){let k=this._namespaceLookup[s];k&&k.register(a,v)&&this.totalAnimations++}destroy(s,a){if(!s)return;const v=this._fetchNamespace(s);this.afterFlush(()=>{this.namespacesByHostElement.delete(v.hostElement),delete this._namespaceLookup[s];const k=this._namespaceList.indexOf(v);k>=0&&this._namespaceList.splice(k,1)}),this.afterFlushAnimationsDone(()=>v.destroy(a))}_fetchNamespace(s){return this._namespaceLookup[s]}fetchNamespacesByElement(s){const a=new Set,v=this.statesByElement.get(s);if(v){const k=Object.keys(v);for(let $=0;$<k.length;$++){const ne=v[k[$]].namespaceId;if(ne){const ae=this._fetchNamespace(ne);ae&&a.add(ae)}}}return a}trigger(s,a,v,k){if(Li(a)){const $=this._fetchNamespace(s);if($)return $.trigger(a,v,k),!0}return!1}insertNode(s,a,v,k){if(!Li(a))return;const $=a[Fr];if($&&$.setForRemoval){$.setForRemoval=!1,$.setForMove=!0;const ne=this.collectedLeaveElements.indexOf(a);ne>=0&&this.collectedLeaveElements.splice(ne,1)}if(s){const ne=this._fetchNamespace(s);ne&&ne.insertNode(a,v)}k&&this.collectEnterElement(a)}collectEnterElement(s){this.collectedEnterElements.push(s)}markElementAsDisabled(s,a){a?this.disabledNodes.has(s)||(this.disabledNodes.add(s),Nr(s,ki)):this.disabledNodes.has(s)&&(this.disabledNodes.delete(s),Qn(s,ki))}removeNode(s,a,v,k){if(Li(a)){const $=s?this._fetchNamespace(s):null;if($?$.removeNode(a,k):this.markElementAsRemoved(s,a,!1,k),v){const ne=this.namespacesByHostElement.get(a);ne&&ne.id!==s&&ne.removeNode(a,k)}}else this._onRemovalComplete(a,k)}markElementAsRemoved(s,a,v,k){this.collectedLeaveElements.push(a),a[Fr]={namespaceId:s,setForRemoval:k,hasAnimation:v,removedBeforeQueried:!1}}listen(s,a,v,k,$){return Li(a)?this._fetchNamespace(s).listen(a,v,k,$):()=>{}}_buildInstruction(s,a,v,k,$){return s.transition.build(this.driver,s.element,s.fromState.value,s.toState.value,v,k,s.fromState.options,s.toState.options,a,$)}destroyInnerAnimations(s){let a=this.driver.query(s,mr,!0);a.forEach(v=>this.destroyActiveAnimationsForElement(v)),0!=this.playersByQueriedElement.size&&(a=this.driver.query(s,on,!0),a.forEach(v=>this.finishActiveQueriedAnimationOnElement(v)))}destroyActiveAnimationsForElement(s){const a=this.playersByElement.get(s);a&&a.forEach(v=>{v.queued?v.markedForDestroy=!0:v.destroy()})}finishActiveQueriedAnimationOnElement(s){const a=this.playersByQueriedElement.get(s);a&&a.forEach(v=>v.finish())}whenRenderingDone(){return new Promise(s=>{if(this.players.length)return pe(this.players).onDone(()=>s());s()})}processLeaveNode(s){const a=s[Fr];if(a&&a.setForRemoval){if(s[Fr]=Qr,a.namespaceId){this.destroyInnerAnimations(s);const v=this._fetchNamespace(a.namespaceId);v&&v.clearElementCache(s)}this._onRemovalComplete(s,a.setForRemoval)}s.classList?.contains(ki)&&this.markElementAsDisabled(s,!1),this.driver.query(s,".ng-animate-disabled",!0).forEach(v=>{this.markElementAsDisabled(v,!1)})}flush(s=-1){let a=[];if(this.newHostElements.size&&(this.newHostElements.forEach((v,k)=>this._balanceNamespaceList(v,k)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let v=0;v<this.collectedEnterElements.length;v++)Nr(this.collectedEnterElements[v],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const v=[];try{a=this._flushAnimations(v,s)}finally{for(let k=0;k<v.length;k++)v[k]()}}else for(let v=0;v<this.collectedLeaveElements.length;v++)this.processLeaveNode(this.collectedLeaveElements[v]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(v=>v()),this._flushFns=[],this._whenQuietFns.length){const v=this._whenQuietFns;this._whenQuietFns=[],a.length?pe(a).onDone(()=>{v.forEach(k=>k())}):v.forEach(k=>k())}}reportError(s){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${s.join("\n")}`)}_flushAnimations(s,a){const v=new ui,k=[],$=new Map,ne=[],ae=new Map,_e=new Map,Le=new Map,Qe=new Set;this.disabledNodes.forEach(rt=>{Qe.add(rt);const lt=this.driver.query(rt,".ng-animate-queued",!0);for(let bt=0;bt<lt.length;bt++)Qe.add(lt[bt])});const qe=this.bodyNode,ht=Array.from(this.statesByElement.keys()),It=lo(ht,this.collectedEnterElements),ct=new Map;let _t=0;It.forEach((rt,lt)=>{const bt=Wr+_t++;ct.set(lt,bt),rt.forEach(Bt=>Nr(Bt,bt))});const Tt=[],Gt=new Set,rr=new Set;for(let rt=0;rt<this.collectedLeaveElements.length;rt++){const lt=this.collectedLeaveElements[rt],bt=lt[Fr];bt&&bt.setForRemoval&&(Tt.push(lt),Gt.add(lt),bt.hasAnimation?this.driver.query(lt,".ng-star-inserted",!0).forEach(Bt=>Gt.add(Bt)):rr.add(lt))}const Dr=new Map,pr=lo(ht,Array.from(Gt));pr.forEach((rt,lt)=>{const bt=cr+_t++;Dr.set(lt,bt),rt.forEach(Bt=>Nr(Bt,bt))}),s.push(()=>{It.forEach((rt,lt)=>{const bt=ct.get(lt);rt.forEach(Bt=>Qn(Bt,bt))}),pr.forEach((rt,lt)=>{const bt=Dr.get(lt);rt.forEach(Bt=>Qn(Bt,bt))}),Tt.forEach(rt=>{this.processLeaveNode(rt)})});const ns=[],bn=[];for(let rt=this._namespaceList.length-1;rt>=0;rt--)this._namespaceList[rt].drainQueuedTransitions(a).forEach(bt=>{const Bt=bt.player,ur=bt.element;if(ns.push(Bt),this.collectedEnterElements.length){const kr=ur[Fr];if(kr&&kr.setForMove)return void Bt.destroy()}const tn=!qe||!this.driver.containsElement(qe,ur),zr=Dr.get(ur),Un=ct.get(ur),Zt=this._buildInstruction(bt,v,Un,zr,tn);if(Zt.errors&&Zt.errors.length)return void bn.push(Zt);if(tn)return Bt.onStart(()=>$r(ur,Zt.fromStyles)),Bt.onDestroy(()=>Br(ur,Zt.toStyles)),void k.push(Bt);if(bt.isFallbackTransition)return Bt.onStart(()=>$r(ur,Zt.fromStyles)),Bt.onDestroy(()=>Br(ur,Zt.toStyles)),void k.push(Bt);const uu=[];Zt.timelines.forEach(kr=>{kr.stretchStartingKeyframe=!0,this.disabledNodes.has(kr.element)||uu.push(kr)}),Zt.timelines=uu,v.append(ur,Zt.timelines),ne.push({instruction:Zt,player:Bt,element:ur}),Zt.queriedElements.forEach(kr=>J(ae,kr,[]).push(Bt)),Zt.preStyleProps.forEach((kr,is)=>{const Us=Object.keys(kr);if(Us.length){let oi=_e.get(is);oi||_e.set(is,oi=new Set),Us.forEach(Ai=>oi.add(Ai))}}),Zt.postStyleProps.forEach((kr,is)=>{const Us=Object.keys(kr);let oi=Le.get(is);oi||Le.set(is,oi=new Set),Us.forEach(Ai=>oi.add(Ai))})});if(bn.length){const rt=[];bn.forEach(lt=>{rt.push(`@${lt.triggerName} has failed due to:\n`),lt.errors.forEach(bt=>rt.push(`- ${bt}\n`))}),ns.forEach(lt=>lt.destroy()),this.reportError(rt)}const Or=new Map,en=new Map;ne.forEach(rt=>{const lt=rt.element;v.has(lt)&&(en.set(lt,lt),this._beforeAnimationBuild(rt.player.namespaceId,rt.instruction,Or))}),k.forEach(rt=>{const lt=rt.element;this._getPreviousPlayers(lt,!1,rt.namespaceId,rt.triggerName,null).forEach(Bt=>{J(Or,lt,[]).push(Bt),Bt.destroy()})});const En=Tt.filter(rt=>Xt(rt,_e,Le)),wn=new Map;co(wn,this.driver,rr,Le,M).forEach(rt=>{Xt(rt,_e,Le)&&En.push(rt)});const wi=new Map;It.forEach((rt,lt)=>{co(wi,this.driver,new Set(rt),_e,"!")}),En.forEach(rt=>{const lt=wn.get(rt),bt=wi.get(rt);wn.set(rt,{...lt,...bt})});const Si=[],ou=[],au={};ne.forEach(rt=>{const{element:lt,player:bt,instruction:Bt}=rt;if(v.has(lt)){if(Qe.has(lt))return bt.onDestroy(()=>Br(lt,Bt.toStyles)),bt.disabled=!0,bt.overrideTotalTime(Bt.totalTime),void k.push(bt);let ur=au;if(en.size>1){let zr=lt;const Un=[];for(;zr=zr.parentNode;){const Zt=en.get(zr);if(Zt){ur=Zt;break}Un.push(zr)}Un.forEach(Zt=>en.set(Zt,ur))}const tn=this._buildAnimation(bt.namespaceId,Bt,Or,$,wi,wn);if(bt.setRealPlayer(tn),ur===au)Si.push(bt);else{const zr=this.playersByElement.get(ur);zr&&zr.length&&(bt.parentPlayer=pe(zr)),k.push(bt)}}else $r(lt,Bt.fromStyles),bt.onDestroy(()=>Br(lt,Bt.toStyles)),ou.push(bt),Qe.has(lt)&&k.push(bt)}),ou.forEach(rt=>{const lt=$.get(rt.element);if(lt&&lt.length){const bt=pe(lt);rt.setRealPlayer(bt)}}),k.forEach(rt=>{rt.parentPlayer?rt.syncPlayerEvents(rt.parentPlayer):rt.destroy()});for(let rt=0;rt<Tt.length;rt++){const lt=Tt[rt],bt=lt[Fr];if(Qn(lt,cr),bt&&bt.hasAnimation)continue;let Bt=[];if(ae.size){let tn=ae.get(lt);tn&&tn.length&&Bt.push(...tn);let zr=this.driver.query(lt,on,!0);for(let Un=0;Un<zr.length;Un++){let Zt=ae.get(zr[Un]);Zt&&Zt.length&&Bt.push(...Zt)}}const ur=Bt.filter(tn=>!tn.destroyed);ur.length?fo(this,lt,ur):this.processLeaveNode(lt)}return Tt.length=0,Si.forEach(rt=>{this.players.push(rt),rt.onDone(()=>{rt.destroy();const lt=this.players.indexOf(rt);this.players.splice(lt,1)}),rt.play()}),Si}elementContainsData(s,a){let v=!1;const k=a[Fr];return k&&k.setForRemoval&&(v=!0),this.playersByElement.has(a)&&(v=!0),this.playersByQueriedElement.has(a)&&(v=!0),this.statesByElement.has(a)&&(v=!0),this._fetchNamespace(s).elementContainsData(a)||v}afterFlush(s){this._flushFns.push(s)}afterFlushAnimationsDone(s){this._whenQuietFns.push(s)}_getPreviousPlayers(s,a,v,k,$){let ne=[];if(a){const ae=this.playersByQueriedElement.get(s);ae&&(ne=ae)}else{const ae=this.playersByElement.get(s);if(ae){const _e=!$||$==Gn;ae.forEach(Le=>{Le.queued||!_e&&Le.triggerName!=k||ne.push(Le)})}}return(v||k)&&(ne=ne.filter(ae=>!(v&&v!=ae.namespaceId||k&&k!=ae.triggerName))),ne}_beforeAnimationBuild(s,a,v){const $=a.element,ne=a.isRemovalTransition?void 0:s,ae=a.isRemovalTransition?void 0:a.triggerName;for(const _e of a.timelines){const Le=_e.element,Qe=Le!==$,qe=J(v,Le,[]);this._getPreviousPlayers(Le,Qe,ne,ae,a.toState).forEach(It=>{const ct=It.getRealPlayer();ct.beforeDestroy&&ct.beforeDestroy(),It.destroy(),qe.push(It)})}$r($,a.fromStyles)}_buildAnimation(s,a,v,k,$,ne){const ae=a.triggerName,_e=a.element,Le=[],Qe=new Set,qe=new Set,ht=a.timelines.map(ct=>{const _t=ct.element;Qe.add(_t);const Tt=_t[Fr];if(Tt&&Tt.removedBeforeQueried)return new p(ct.duration,ct.delay);const Gt=_t!==_e,rr=function(_){const s=[];return ho(_,s),s}((v.get(_t)||ma).map(Or=>Or.getRealPlayer())).filter(Or=>!!Or.element&&Or.element===_t),Dr=$.get(_t),pr=ne.get(_t),ns=Q(0,this._normalizer,0,ct.keyframes,Dr,pr),bn=this._buildPlayer(ct,ns,rr);if(ct.subTimeline&&k&&qe.add(_t),Gt){const Or=new gs(s,ae,_t);Or.setRealPlayer(bn),Le.push(Or)}return bn});Le.forEach(ct=>{J(this.playersByQueriedElement,ct.element,[]).push(ct),ct.onDone(()=>function(_,s,a){let v;if(_ instanceof Map){if(v=_.get(s),v){if(v.length){const k=v.indexOf(a);v.splice(k,1)}0==v.length&&_.delete(s)}}else if(v=_[s],v){if(v.length){const k=v.indexOf(a);v.splice(k,1)}0==v.length&&delete _[s]}return v}(this.playersByQueriedElement,ct.element,ct))}),Qe.forEach(ct=>Nr(ct,er));const It=pe(ht);return It.onDestroy(()=>{Qe.forEach(ct=>Qn(ct,er)),Br(_e,a.toStyles)}),qe.forEach(ct=>{J(k,ct,[]).push(It)}),It}_buildPlayer(s,a,v){return a.length>0?this.driver.animate(s.element,a,s.duration,s.delay,s.easing,v):new p(s.duration,s.delay)}}class gs{constructor(s,a,v){this.namespaceId=s,this.triggerName=a,this.element=v,this._player=new p,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(s){this._containsRealPlayer||(this._player=s,Object.keys(this._queuedCallbacks).forEach(a=>{this._queuedCallbacks[a].forEach(v=>z(s,a,void 0,v))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(s.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(s){this.totalTime=s}syncPlayerEvents(s){const a=this._player;a.triggerCallback&&s.onStart(()=>a.triggerCallback("start")),s.onDone(()=>this.finish()),s.onDestroy(()=>this.destroy())}_queueEvent(s,a){J(this._queuedCallbacks,s,[]).push(a)}onDone(s){this.queued&&this._queueEvent("done",s),this._player.onDone(s)}onStart(s){this.queued&&this._queueEvent("start",s),this._player.onStart(s)}onDestroy(s){this.queued&&this._queueEvent("destroy",s),this._player.onDestroy(s)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(s){this.queued||this._player.setPosition(s)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(s){const a=this._player;a.triggerCallback&&a.triggerCallback(s)}}function Li(_){return _&&1===_.nodeType}function uo(_,s){const a=_.style.display;return _.style.display=s??"none",a}function co(_,s,a,v,k){const $=[];a.forEach(_e=>$.push(uo(_e)));const ne=[];v.forEach((_e,Le)=>{const Qe={};_e.forEach(qe=>{const ht=Qe[qe]=s.computeStyle(Le,qe,k);(!ht||0==ht.length)&&(Le[Fr]=On,ne.push(Le))}),_.set(Le,Qe)});let ae=0;return a.forEach(_e=>uo(_e,$[ae++])),ne}function lo(_,s){const a=new Map;if(_.forEach(ae=>a.set(ae,[])),0==s.length)return a;const k=new Set(s),$=new Map;function ne(ae){if(!ae)return 1;let _e=$.get(ae);if(_e)return _e;const Le=ae.parentNode;return _e=a.has(Le)?Le:k.has(Le)?1:ne(Le),$.set(ae,_e),_e}return s.forEach(ae=>{const _e=ne(ae);1!==_e&&a.get(_e).push(ae)}),a}function Nr(_,s){_.classList?.add(s)}function Qn(_,s){_.classList?.remove(s)}function fo(_,s,a){pe(a).onDone(()=>_.processLeaveNode(s))}function ho(_,s){for(let a=0;a<_.length;a++){const v=_[a];v instanceof q?ho(v.players,s):s.push(v)}}function Xt(_,s,a){const v=a.get(_);if(!v)return!1;let k=s.get(_);return k?v.forEach($=>k.add($)):s.set(_,v),a.delete(_),!0}class tr{constructor(s,a,v){this.bodyNode=s,this._driver=a,this._normalizer=v,this._triggerCache={},this.onRemovalComplete=(k,$)=>{},this._transitionEngine=new oo(s,a,v),this._timelineEngine=new to(s,a,v),this._transitionEngine.onRemovalComplete=(k,$)=>this.onRemovalComplete(k,$)}registerTrigger(s,a,v,k,$){const ne=s+"-"+k;let ae=this._triggerCache[ne];if(!ae){const _e=[],Le=ve(this._driver,$,_e);if(_e.length)throw new Error(`The animation trigger "${k}" has failed to build due to the following errors:\n - ${_e.join("\n - ")}`);ae=function(_,s,a){return new qs(_,s,a)}(k,Le,this._normalizer),this._triggerCache[ne]=ae}this._transitionEngine.registerTrigger(a,k,ae)}register(s,a){this._transitionEngine.register(s,a)}destroy(s,a){this._transitionEngine.destroy(s,a)}onInsert(s,a,v,k){this._transitionEngine.insertNode(s,a,v,k)}onRemove(s,a,v,k){this._transitionEngine.removeNode(s,a,k||!1,v)}disableAnimations(s,a){this._transitionEngine.markElementAsDisabled(s,a)}process(s,a,v,k){if("@"==v.charAt(0)){const[$,ne]=K(v);this._timelineEngine.command($,a,ne,k)}else this._transitionEngine.trigger(s,a,v,k)}listen(s,a,v,k,$){if("@"==v.charAt(0)){const[ne,ae]=K(v);return this._timelineEngine.listen(ne,a,ae,$)}return this._transitionEngine.listen(s,a,v,k,$)}flush(s=-1){this._transitionEngine.flush(s)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Rr(_,s){let a=null,v=null;return Array.isArray(s)&&s.length?(a=or(s[0]),s.length>1&&(v=or(s[s.length-1]))):s&&(a=or(s)),a||v?new Pn(_,a,v):null}let Pn=(()=>{class _{constructor(a,v,k){this._element=a,this._startStyles=v,this._endStyles=k,this._state=0;let $=_.initialStylesByElement.get(a);$||_.initialStylesByElement.set(a,$={}),this._initialStyles=$}start(){this._state<1&&(this._startStyles&&Br(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Br(this._element,this._initialStyles),this._endStyles&&(Br(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(_.initialStylesByElement.delete(this._element),this._startStyles&&($r(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($r(this._element,this._endStyles),this._endStyles=null),Br(this._element,this._initialStyles),this._state=3)}}return _.initialStylesByElement=new WeakMap,_})();function or(_){let s=null;const a=Object.keys(_);for(let v=0;v<a.length;v++){const k=a[v];Zr(k)&&(s=s||{},s[k]=_[k])}return s}function Zr(_){return"display"===_||"position"===_}const Hr="animation",Bi="animationend";class Fi{constructor(s,a,v,k,$,ne,ae){this._element=s,this._name=a,this._duration=v,this._delay=k,this._easing=$,this._fillMode=ne,this._onDoneFn=ae,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=_e=>this._handleCallback(_e)}apply(){(function(_,s){const a=Yn(_,"").trim();let v=0;a.length&&(function(_,s){let a=0;for(let v=0;v<_.length;v++)","===_.charAt(v)&&a++;return a}(a)+1,s=`${a}, ${s}`),ji(_,"",s)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Zn(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){_s(this._element,this._name,"paused")}resume(){_s(this._element,this._name,"running")}setPosition(s){const a=bs(this._element,this._name);this._position=s*this._duration,ji(this._element,"Delay",`-${this._position}ms`,a)}getPosition(){return this._position}_handleCallback(s){const a=s._ngTestManualTimestamp||Date.now(),v=1e3*parseFloat(s.elapsedTime.toFixed(3));s.animationName==this._name&&Math.max(a-this._startTime,0)>=this._delay&&v>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Zn(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(_,s){const v=Yn(_,"").split(","),k=yr(v,s);k>=0&&(v.splice(k,1),ji(_,"",v.join(",")))}(this._element,this._name))}}function _s(_,s,a){ji(_,"PlayState",a,bs(_,s))}function bs(_,s){const a=Yn(_,"");return a.indexOf(",")>0?yr(a.split(","),s):yr([a],s)}function yr(_,s){for(let a=0;a<_.length;a++)if(_[a].indexOf(s)>=0)return a;return-1}function Zn(_,s,a){a?_.removeEventListener(Bi,s):_.addEventListener(Bi,s)}function ji(_,s,a,v){const k=Hr+s;if(null!=v){const $=_.style[k];if($.length){const ne=$.split(",");ne[v]=a,a=ne.join(",")}}_.style[k]=a}function Yn(_,s){return _.style[Hr+s]||""}class Es{constructor(s,a,v,k,$,ne,ae,_e){this.element=s,this.keyframes=a,this.animationName=v,this._duration=k,this._delay=$,this._finalStyles=ae,this._specialStyles=_e,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=ne||"linear",this.totalTime=k+$,this._buildStyler()}onStart(s){this._onStartFns.push(s)}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(s=>s()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(s=>s()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(s){this._styler.setPosition(s)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Fi(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(s){const a="start"==s?this._onStartFns:this._onDoneFns;a.forEach(v=>v()),a.length=0}beforeDestroy(){this.init();const s={};if(this.hasStarted()){const a=this._state>=3;Object.keys(this._finalStyles).forEach(v=>{"offset"!=v&&(s[v]=a?this._finalStyles[v]:lr(this.element,v))})}this.currentSnapshot=s}}class Sa extends p{constructor(s,a){super(),this.element=s,this._startingStyles={},this.__initialized=!1,this._styles=ut(a)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(s=>{this._startingStyles[s]=this.element.style[s]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(s=>this.element.style.setProperty(s,this._styles[s])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(s=>{const a=this._startingStyles[s];a?this.element.style.setProperty(s,a):this.element.style.removeProperty(s)}),this._startingStyles=null,super.destroy())}}class zi{constructor(){this._count=0}validateStyleProperty(s){return ue(s)}matchesElement(s,a){return!1}containsElement(s,a){return je(s,a)}query(s,a,v){return Xe(s,a,v)}computeStyle(s,a,v){return window.getComputedStyle(s)[a]}buildKeyframeElement(s,a,v){v=v.map(ae=>ut(ae));let k=`@keyframes ${a} {\n`,$="";v.forEach(ae=>{$=" ";const _e=parseFloat(ae.offset);k+=`${$}${100*_e}% {\n`,$+=" ",Object.keys(ae).forEach(Le=>{const Qe=ae[Le];switch(Le){case"offset":return;case"easing":return void(Qe&&(k+=`${$}animation-timing-function: ${Qe};\n`));default:return void(k+=`${$}${Le}: ${Qe};\n`)}}),k+=`${$}}\n`}),k+="}\n";const ne=document.createElement("style");return ne.textContent=k,ne}animate(s,a,v,k,$,ne=[],ae){const _e=ne.filter(Tt=>Tt instanceof Es),Le={};Ii(v,k)&&_e.forEach(Tt=>{let Gt=Tt.currentSnapshot;Object.keys(Gt).forEach(rr=>Le[rr]=Gt[rr])});const Qe=function(_){let s={};return _&&(Array.isArray(_)?_:[_]).forEach(v=>{Object.keys(v).forEach(k=>{"offset"==k||"easing"==k||(s[k]=v[k])})}),s}(a=Ti(s,a,Le));if(0==v)return new Sa(s,Qe);const qe="gen_css_kf_"+this._count++,ht=this.buildKeyframeElement(s,qe,a);(function(_){const s=_.getRootNode?.();return"undefined"!=typeof ShadowRoot&&s instanceof ShadowRoot?s:document.head})(s).appendChild(ht);const ct=Rr(s,a),_t=new Es(s,a,qe,v,k,$,Qe,ct);return _t.onDestroy(()=>{var _;(_=ht).parentNode.removeChild(_)}),_t}}class Wi{constructor(s,a,v,k){this.element=s,this.keyframes=a,this.options=v,this._specialStyles=k,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=v.duration,this._delay=v.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const s=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,s,this.options),this._finalKeyframe=s.length?s[s.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(s,a,v){return s.animate(a,v)}onStart(s){this._onStartFns.push(s)}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(s=>s()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}setPosition(s){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=s*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const s={};if(this.hasStarted()){const a=this._finalKeyframe;Object.keys(a).forEach(v=>{"offset"!=v&&(s[v]=this._finished?a[v]:lr(this.element,v))})}this.currentSnapshot=s}triggerCallback(s){const a="start"==s?this._onStartFns:this._onDoneFns;a.forEach(v=>v()),a.length=0}}class ws{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ss().toString()),this._cssKeyframesDriver=new zi}validateStyleProperty(s){return ue(s)}matchesElement(s,a){return!1}containsElement(s,a){return je(s,a)}query(s,a,v){return Xe(s,a,v)}computeStyle(s,a,v){return window.getComputedStyle(s)[a]}overrideWebAnimationsSupport(s){this._isNativeImpl=s}animate(s,a,v,k,$,ne=[],ae){if(!ae&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(s,a,v,k,$,ne);const Qe={duration:v,delay:k,fill:0==k?"both":"forwards"};$&&(Qe.easing=$);const qe={},ht=ne.filter(ct=>ct instanceof Wi);Ii(v,k)&&ht.forEach(ct=>{let _t=ct.currentSnapshot;Object.keys(_t).forEach(Tt=>qe[Tt]=_t[Tt])});const It=Rr(s,a=Ti(s,a=a.map(ct=>Kr(ct,!1)),qe));return new Wi(s,a,Qe,It)}}function Ss(){return Ce()&&Element.prototype.animate||{}}var jr=l(1457);let _o=(()=>{class _ extends x{constructor(a,v){super(),this._nextAnimationId=0,this._renderer=a.createRenderer(v.body,{id:"0",encapsulation:c.ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(a){const v=this._nextAnimationId.toString();this._nextAnimationId++;const k=Array.isArray(a)?E(a):a;return Vi(this._renderer,null,v,"register",[k]),new As(v,this._renderer)}}return _.\u0275fac=function(a){return new(a||_)(c.\u0275\u0275inject(c.RendererFactory2),c.\u0275\u0275inject(jr.DOCUMENT))},_.\u0275prov=c.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})();class As extends class{}{constructor(s,a){super(),this._id=s,this._renderer=a}create(s,a){return new Tn(this._id,s,a||{},this._renderer)}}class Tn{constructor(s,a,v,k){this.id=s,this.element=a,this._renderer=k,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",v)}_listen(s,a){return this._renderer.listen(this.element,`@@${this.id}:${s}`,a)}_command(s,...a){return Vi(this._renderer,this.element,this.id,s,a)}onDone(s){this._listen("done",s)}onStart(s){this._listen("start",s)}onDestroy(s){this._listen("destroy",s)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(s){this._command("setPosition",s)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Vi(_,s,a,v,k){return _.setProperty(s,`@@${a}:${v}`,k)}const bo="@.disabled";let fr=(()=>{class _{constructor(a,v,k){this.delegate=a,this.engine=v,this._zone=k,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),v.onRemovalComplete=($,ne)=>{const ae=ne?.parentNode($);ae&&ne.removeChild(ae,$)}}createRenderer(a,v){const $=this.delegate.createRenderer(a,v);if(!(a&&v&&v.data&&v.data.animation)){let Qe=this._rendererCache.get($);return Qe||(Qe=new Eo("",$,this.engine),this._rendererCache.set($,Qe)),Qe}const ne=v.id,ae=v.id+"-"+this._currentId;this._currentId++,this.engine.register(ae,a);const _e=Qe=>{Array.isArray(Qe)?Qe.forEach(_e):this.engine.registerTrigger(ne,ae,a,Qe.name,Qe)};return v.data.animation.forEach(_e),new Oa(this,ae,$,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(a,v,k){a>=0&&a<this._microtaskId?this._zone.run(()=>v(k)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach($=>{const[ne,ae]=$;ne(ae)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([v,k]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return _.\u0275fac=function(a){return new(a||_)(c.\u0275\u0275inject(c.RendererFactory2),c.\u0275\u0275inject(tr),c.\u0275\u0275inject(c.NgZone))},_.\u0275prov=c.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})();class Eo{constructor(s,a,v){this.namespaceId=s,this.delegate=a,this.engine=v,this.destroyNode=this.delegate.destroyNode?k=>a.destroyNode(k):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(s,a){return this.delegate.createElement(s,a)}createComment(s){return this.delegate.createComment(s)}createText(s){return this.delegate.createText(s)}appendChild(s,a){this.delegate.appendChild(s,a),this.engine.onInsert(this.namespaceId,a,s,!1)}insertBefore(s,a,v,k=!0){this.delegate.insertBefore(s,a,v),this.engine.onInsert(this.namespaceId,a,s,k)}removeChild(s,a,v){this.engine.onRemove(this.namespaceId,a,this.delegate,v)}selectRootElement(s,a){return this.delegate.selectRootElement(s,a)}parentNode(s){return this.delegate.parentNode(s)}nextSibling(s){return this.delegate.nextSibling(s)}setAttribute(s,a,v,k){this.delegate.setAttribute(s,a,v,k)}removeAttribute(s,a,v){this.delegate.removeAttribute(s,a,v)}addClass(s,a){this.delegate.addClass(s,a)}removeClass(s,a){this.delegate.removeClass(s,a)}setStyle(s,a,v,k){this.delegate.setStyle(s,a,v,k)}removeStyle(s,a,v){this.delegate.removeStyle(s,a,v)}setProperty(s,a,v){"@"==a.charAt(0)&&a==bo?this.disableAnimations(s,!!v):this.delegate.setProperty(s,a,v)}setValue(s,a){this.delegate.setValue(s,a)}listen(s,a,v){return this.delegate.listen(s,a,v)}disableAnimations(s,a){this.engine.disableAnimations(s,a)}}class Oa extends Eo{constructor(s,a,v,k){super(a,v,k),this.factory=s,this.namespaceId=a}setProperty(s,a,v){"@"==a.charAt(0)?"."==a.charAt(1)&&a==bo?this.disableAnimations(s,v=void 0===v||!!v):this.engine.process(this.namespaceId,s,a.substr(1),v):this.delegate.setProperty(s,a,v)}listen(s,a,v){if("@"==a.charAt(0)){const k=function(_){switch(_){case"body":return document.body;case"document":return document;case"window":return window;default:return _}}(s);let $=a.substr(1),ne="";return"@"!=$.charAt(0)&&([$,ne]=function(_){const s=_.indexOf(".");return[_.substring(0,s),_.substr(s+1)]}($)),this.engine.listen(this.namespaceId,k,$,ne,ae=>{this.factory.scheduleListenerCallback(ae._data||-1,v,ae)})}return this.delegate.listen(s,a,v)}}let Ta=(()=>{class _ extends tr{constructor(a,v,k){super(a.body,v,k)}ngOnDestroy(){this.flush()}}return _.\u0275fac=function(a){return new(a||_)(c.\u0275\u0275inject(jr.DOCUMENT),c.\u0275\u0275inject(yt),c.\u0275\u0275inject(xi))},_.\u0275prov=c.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})();const wo=new c.InjectionToken("AnimationModuleType"),hi=[{provide:x,useClass:_o},{provide:xi,useFactory:function(){return new ca}},{provide:tr,useClass:Ta},{provide:c.RendererFactory2,useFactory:function(_,s,a){return new fr(_,s,a)},deps:[b.se,tr,c.NgZone]}],pi=[{provide:yt,useFactory:function(){return"function"==typeof Ss()?new ws:new zi}},{provide:wo,useValue:"BrowserAnimations"},...hi],Yr=[{provide:yt,useClass:tt},{provide:wo,useValue:"NoopAnimations"},...hi];let Jn=(()=>{class _{static withConfig(a){return{ngModule:_,providers:a.disableAnimations?Yr:pi}}}return _.\u0275fac=function(a){return new(a||_)},_.\u0275mod=c.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=c.\u0275\u0275defineInjector({providers:pi,imports:[b.b2]}),_})();var _r=l(1375);const xa={properties:{id:{type:"string",description:"Id"},name:{type:"string",description:"Name"},shortName:{type:"string",description:"Short name"},description:{type:"string",description:"Description"},startUrl:{type:"string",description:"Start url"},icons:{type:"array",description:"Icons",items:{type:"object",properties:{src:{type:"string",description:"Src"},sizes:{type:"string",description:"Sizes"},type:{type:"string",description:"Type"}},required:["src","sizes","type"]}},themeColor:{type:"string",description:"Theme color"},backgroundColor:{type:"string",description:"Background color"},screenshots:{type:"array",description:"Screenshots",items:{type:"object",properties:{src:{type:"string",description:"Src"},sizes:{type:"string",description:"Sizes"},type:{type:"string",description:"Type"},platform:{type:"string",description:"Platform"},label:{type:"string",description:"Label"}},required:["src","sizes","type","platform","label"]}},iarcRatingId:{type:"string",description:"IARC rating id"},categories:{type:"array",description:"Categories",items:{type:"string",description:"Category"}},additionalProperties:{type:"object",description:"Additional properties",properties:{permissions:{type:"array",description:"Permissions",items:{type:"object",properties:{kind:{type:"string",description:"Kind",enum:["collection"]},mode:{type:"string",description:"Mode",enum:["read","write","delete"]},target:{type:"string",description:"Target"}},required:["kind","mode","target"]}},internal:{type:"boolean",description:"Internal"},starred:{type:"boolean",description:"Internal"},defaultShortcut:{type:"string",description:"Default shortcut"},sidebarShortcuts:{type:"array",description:"Sidebar shortcuts",items:{type:"string",description:"Sidebar shortcut"}}}},shortcuts:{type:"array",description:"Shortcuts",items:{type:"object",properties:{name:{type:"string",description:"Name"},url:{type:"string",description:"Url"},icons:{type:"array",description:"Icons",items:{type:"object",properties:{src:{type:"string",description:"Src"},sizes:{type:"string",description:"Sizes"},type:{type:"string",description:"Type"}},required:["src","sizes","type"]}},shortName:{type:"string",description:"Short name"},description:{type:"string",description:"Description"}},required:["name","url"]}},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","name","startUrl","createdAt","updatedAt"]},So={provide:_r.RY,useValue:{name:"storeapplications",creator:{schema:{title:"Store Store",description:"User Applications",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:xa.properties,required:["id","name","startUrl","createdAt","updatedAt"]}}},multi:!0},Ma={provide:_r.RY,useValue:{name:"userapplications",creator:{schema:{title:"User Applications",description:"User Applications",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:xa.properties,required:["id","name","startUrl","createdAt","updatedAt"]}}},multi:!0};var He=l(4995);const Ao={provide:_r.To,useValue:{name:"storeapplications",upsert:!0,data:[{id:"com.central-factory.metadrones",name:"Metadrones",description:"Game demo on how to integrate with the metaverse",startUrl:"https://aitorllamas.com/metaverse/apps/metadrones/remoteEntry.js",icons:[{src:"assets/icons/mdi/drone.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Metadrones",url:"https://aitorllamas.com/metaverse/apps/metadrones/remoteEntry.js",icons:[{src:"assets/icons/mdi/drone.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["games"],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},permissions:[],renderingType:He.B.WebpackModuleFederation,supportsBrowser:!0,internal:!1,defaultShortcut:"Metadrones",sidebarShortcuts:["Metadrones"],colors:[{variation:He.c.Primary,color:"#d1d36f"}]}},{id:"com.google.search",name:"Google Search",description:"Search the world's information, including webpages, images, videos and more.",startUrl:"https://google.com",categories:["productivity","utilities"],icons:[{src:"assets/icons/simple-icons/google.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Search",url:"https://google.com",icons:[{src:"assets/icons/simple-icons/google.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.alphabet",name:"Alphabet"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Search",sidebarShortcuts:["Search"],colors:[{variation:He.c.Primary,color:"#4285f4"}]}},{id:"com.google.drive",name:"Google Drive",description:"Create and share your work online and access your documents from anywhere. Manage documents, spreadsheets, presentations, surveys...",startUrl:"https://drive.google.com",icons:[{src:"assets/icons/simple-icons/googledrive.svg",sizes:"512x512",type:"image/svg+xml"}],categories:["productivity","utilities"],shortcuts:[{name:"Search",url:"https://drive.google.com",icons:[{src:"assets/icons/simple-icons/googledrive.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.alphabet",name:"Alphabet"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Search",sidebarShortcuts:["Search"],colors:[{variation:He.c.Primary,color:"#4285f4"}]}},{id:"com.google.keep",name:"Google Keep",description:"Quickly capture what's on your mind and get a reminder later at the right place or time. Speak a voice memo on the go and have it automatically transcribed.",startUrl:"https://keep.google.com",icons:[{src:"assets/icons/simple-icons/googlekeep.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Keep",url:"https://keep.google.com",icons:[{src:"assets/icons/simple-icons/googlekeep.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["productivity","utilities"],additionalProperties:{author:{id:"com.alphabet",name:"Alphabet"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Keep",sidebarShortcuts:["Keep"],colors:[{variation:He.c.Primary,color:"#fbbc05"}]}},{id:"com.google.maps",name:"Google Maps",description:"Get real-time navigation and more in the Maps app. Stay on web. Use the app. Directions. Drive. Walk. Bike. Public transport.",startUrl:"https://maps.google.com",icons:[{src:"assets/icons/simple-icons/googlemaps.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Maps",url:"https://maps.google.com",icons:[{src:"assets/icons/simple-icons/googlemaps.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["travel","utilites"],additionalProperties:{author:{id:"com.alphabet",name:"Alphabet"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Maps",sidebarShortcuts:["Maps"],colors:[{variation:He.c.Primary,color:"#34a853"}]}},{id:"com.google.travel",name:"Google Travel",description:"Find the best flights fast, track prices, and book with confidence.",startUrl:"https://travel.google.com",icons:[{src:"assets/icons/mdi/bag-checked.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Travel",url:"https://travel.google.com",icons:[{src:"assets/icons/mdi/bag-checked.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["finances","travel"],additionalProperties:{originalManifest:"https://www.google.com/_/TravelFrontendUi/manifest.json",author:{id:"com.alphabet",name:"Alphabet"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Travel",sidebarShortcuts:["Travel"],colors:[{variation:He.c.Primary,color:"#4285f4"}]}},{id:"com.google.flights",name:"Google Flights",description:"Find the best flights fast, track prices, and book with confidence.",startUrl:"https://flights.google.com",icons:[{src:"assets/icons/mdi/airplane.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Flights",url:"https://flights.google.com",icons:[{src:"assets/icons/mdi/airplane.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["finances","travel"],additionalProperties:{author:{id:"com.alphabet",name:"Alphabet"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Flights",sidebarShortcuts:["Flights"],colors:[{variation:He.c.Primary,color:"#4285f4"}]}},{id:"com.freenow.freenow",name:"Free Now",description:"FREE NOW is a licensed ride-hailing and multi-mobility app in 10 European countries. Book easily, pay in-app quickly and complete your trip safely!",startUrl:"https://free-now.com/",icons:[{src:"assets/icons/mdi/taxi.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Order",url:"https://free-now.com/",icons:[{src:"assets/icons/mdi/taxi.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["finances","travel"],additionalProperties:{author:{id:"com.freenow",name:"Free Now"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Order",sidebarShortcuts:["Order"],colors:[{variation:He.c.Primary,color:"#F80B2B"}]}},{id:"com.spotify.player",name:"Spotify",description:"\n      Spotify is all the music you'll ever need.\n\n      Stream free albums and hits, find a song, discover music, and download songs and podcasts with the Spotify free streaming and music player app.\n\n      Free streaming, music search and hits library \u2013 Spotify is all that and much more.\n\n      Play songs, sync music, discover music and free albums with Spotify, your go-to music downloader.\n    ",startUrl:"https://open.spotify.com",icons:[{src:"assets/icons/simple-icons/spotify.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Player",url:"https://open.spotify.com",icons:[{src:"assets/icons/simple-icons/spotify.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Search",url:"https://open.spotify.com/search",icons:[{src:"assets/icons/mdi/magnify.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Library",url:"https://open.spotify.com/collection/playlists",icons:[{src:"assets/icons/mdi/music-box-multiple.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Liked",url:"https://open.spotify.com/collection/tracks",icons:[{src:"assets/icons/mdi/heart.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["entertainment"],additionalProperties:{author:{id:"com.spotify",name:"Spotify"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Player",sidebarShortcuts:["Player"],colors:[{variation:He.c.Primary,color:"#1db954"}]}},{id:"com.ivoox.player",name:"iVoox",description:"\n      With Podcast & Radio iVoox you can listen, share and download podcasts, radio shows and much more for free, when you want, where you want.\n      Courses, conferences, classes, lectures, audio books, children\u2019s stories, audio guides, stand up comedy, stories, music and concerts, poems, biographies and even meditation sessions.\n    ",startUrl:"https://ivoox.com",icons:[{src:"assets/icons/mdi/podcast.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://ivoox.com",icons:[{src:"assets/icons/mdi/podcast.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Explore",url:"https://www.ivoox.com/audios_sa_f_1.html",icons:[{src:"assets/icons/mdi/compass.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"My Subscriptions",url:"https://www.ivoox.com/gestionar-suscripciones_je_1.html?order=date",icons:[{src:"assets/icons/mdi/eye.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Play Later",url:"https://www.ivoox.com/mis-audios_hn.html",icons:[{src:"assets/icons/mdi/bookmark.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Favorites",url:"https://www.ivoox.com/audios-que-me-gustan_hc_recomendados_1.html",icons:[{src:"assets/icons/mdi/heart.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"My Radios",url:"https://www.ivoox.com/radios-que-me-gustan_hc_recomendados_1.html",icons:[{src:"assets/icons/mdi/music-box-multiple.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["entertainment"],additionalProperties:{author:{id:"com.ivoox",name:"iVoox Podcast y Radio"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#f47721"}]}},{id:"com.netflix.netflix",name:"Netflix",description:"\n      Looking for the most talked-about TV programs and films from the around the world? They\u2019re all on Netflix.\n\n      We\u2019ve got award-winning series, films, documentaries and stand-up specials.\n    ",startUrl:"https://netflix.com",icons:[{src:"assets/icons/simple-icons/netflix.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://netflix.com",icons:[{src:"assets/icons/simple-icons/netflix.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"My List",url:"https://netflix.com/browse/my-list",icons:[{src:"assets/icons/mdi/filmstrip-box-multiple.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Latest",url:"https://netflix.com/latest",icons:[{src:"assets/icons/mdi/new-box.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["entertainment"],additionalProperties:{author:{id:"com.netflix",name:"Netflix, Inc"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#e50914"}]}},{id:"com.amazon.primevideo",name:"Prime Video",description:"\n      Watch movies, TV, and sports, including Amazon Originals like The Boys, The Marvelous Mrs. Maisel, and Tom Clancy\u2019s Jack Ryan as well as recommendations just for you.\n\n      App features:\n      \u2022 Download videos to watch offline.\n      \u2022 Rent or buy new-release movies and popular TV shows (availability varies by market).\n      \u2022 Cast from your phone or tablet to the big screen with Chromecast and Fire TV.\n      \u2022 Multi-user profiles allow creating personalized entertainment experiences.\n      \u2022 Go behind the scenes of movies and TV shows with exclusive X-Ray access, powered by IMDb (availability varies by market).\n    ",startUrl:"https://primevideo.com",icons:[{src:"assets/icons/simple-icons/primevideo.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://primevideo.com",icons:[{src:"assets/icons/simple-icons/primevideo.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"My Stuff",url:"https://primevideo.com/mystuff",icons:[{src:"assets/icons/mdi/filmstrip-box-multiple.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Channels",url:"https://primevideo.com/storefront/channels",icons:[{src:"assets/icons/mdi/youtube-tv.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["entertainment"],additionalProperties:{author:{id:"com.amazon",name:"Amazon"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#146eb4"}]}},{id:"com.google.youtube",name:"Youtube",description:"\n      See what the world is watching -- from the hottest music videos to what\u2019s popular in gaming, fashion, beauty, news, learning and more. Subscribe to channels you love, create content of your own, share with friends, and watch on any device.\n    ",startUrl:"https://youtube.com",icons:[{src:"assets/icons/simple-icons/youtube.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://youtube.com",icons:[{src:"assets/icons/simple-icons/youtube.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Subscriptions",url:"https://www.youtube.com/feed/subscriptions",icons:[{src:"assets/icons/mdi/youtube-tv.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Library",url:"https://www.youtube.com/feed/library",icons:[{src:"assets/icons/mdi/filmstrip-box-multiple.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"History",url:"https://www.youtube.com/feed/history",icons:[{src:"assets/icons/mdi/history.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Watch Later",url:"https://www.youtube.com/playlist?list=WL",icons:[{src:"assets/icons/mdi/bookmark.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["entertainment"],additionalProperties:{author:{id:"com.aplhabet",name:"Alphabet"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#ea4335"}]}},{id:"com.meta.instagram",name:"Instagram",description:"A simple, fun & creative way to capture, edit & share photos, videos & messages with friends & family.",startUrl:"https://instagram.com",icons:[{src:"assets/icons/simple-icons/instagram.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://instagram.com",icons:[{src:"assets/icons/simple-icons/instagram.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["social"],additionalProperties:{author:{id:"com.meta",name:"Meta"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#405de6"}]}},{id:"com.meta.whatsapp",name:"WhatsApp",description:"Messaging Application",startUrl:"https://web.whatsapp.com",icons:[{src:"assets/icons/simple-icons/whatsapp.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://web.whatsapp.com",icons:[{src:"assets/icons/simple-icons/whatsapp.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["social"],additionalProperties:{author:{id:"com.meta",name:"Meta"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#128c7e"}]}},{id:"com.evernote.evernote",name:"Evernote",description:"Evernote is a powerful tool that can help executives, entrepreneurs and creative people capture and arrange their ideas. All you have to do is use it. \u2014 Forbes.",startUrl:"https://evernote.com/intl/es/",icons:[{src:"assets/icons/simple-icons/evernote.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://evernote.com/intl/es/",icons:[{src:"assets/icons/simple-icons/evernote.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["productivity","utilities"],additionalProperties:{author:{id:"com.evernote",name:"Evernote"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#2dbe60"}]}},{id:"com.microsoft.github",name:"Github",description:"GitHub is where over 73 million developers shape the future of software, together.  Contribute to the open source community, manage your Git repositories and much more.",startUrl:"https://github.com",icons:[{src:"assets/icons/simple-icons/github.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://github.com",icons:[{src:"assets/icons/simple-icons/github.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["productivity","utilities"],additionalProperties:{author:{id:"com.microsoft",name:"Microsoft"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#333"}]}},{id:"com.google.mail",name:"Gmail",description:"Gmail is email that's intuitive, efficient, and useful. 15 GB of storage, less spam, and mobile access.",startUrl:"https://mail.google.com",icons:[{src:"assets/icons/simple-icons/gmail.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Inbox",url:"https://mail.google.com",icons:[{src:"assets/icons/simple-icons/gmail.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["productivity","utilities"],additionalProperties:{author:{id:"com.alphabet",name:"Alphabet"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Inbox",sidebarShortcuts:["Inbox"],colors:[{variation:He.c.Primary,color:"#ea4335"}]}},{id:"com.google.calendar",name:"Google Calendar",description:"The Google Calendar app helps you spend less time managing",startUrl:"https://calendar.google.com",icons:[{src:"assets/icons/simple-icons/googlecalendar.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Agenda",url:"https://calendar.google.com",icons:[{src:"assets/icons/simple-icons/googlecalendar.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Create Event",url:"https://calendar.google.com",icons:[{src:"assets/icons/mdi/calendar-edit.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["productivity","utilities"],additionalProperties:{author:{id:"com.alphabet",name:"Alphabet"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Agenda",sidebarShortcuts:["Agenda"],colors:[{variation:He.c.Primary,color:"#4285f4"}]}},{id:"com.doist.todoist",name:"Todoist",description:"The Ultimate Task Management Software To Organize Your Work And Life. Get All Those Tasks Out Of Your Head And Onto Your To-Do List To Regain Clarity & Do More. Trusted By Top Companies. Simple Pricing. Easy Integrations. Free Plan Available.",startUrl:"https://todoist.com/app/",icons:[{src:"assets/icons/simple-icons/todoist.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://todoist.com/app/",icons:[{src:"assets/icons/simple-icons/todoist.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["productivity","utilities"],additionalProperties:{author:{id:"com.doist",name:"Doist"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#E44433"}]}},{id:"com.amazon.shopping",name:"Amazon Shopping",description:"Free shipping on millions of items. Get the best of Shopping and Entertainment with Prime.",startUrl:"https://amazon.es",icons:[{src:"assets/icons/simple-icons/amazon.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Shopping",url:"https://amazon.es",icons:[{src:"assets/icons/mdi/basket.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["shopping"],additionalProperties:{author:{id:"com.amazon",name:"Amazon"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Shopping",sidebarShortcuts:["Shopping"],colors:[{variation:He.c.Primary,color:"#ff9900"}]}},{id:"com.microsoft.xbox",name:"Xbox Cloud Gaming",description:"Enjoy the console games you love on the devices you already have with Xbox Game Pass Ultimate and a compatible controller. You can play using an Xbox controller, Sony DualShock 4, Razer Kishi, and more.",startUrl:"https://xbox.com/play",icons:[{src:"assets/icons/simple-icons/xbox.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Player",url:"https://xbox.com/play",icons:[{src:"assets/icons/mdi/microsoft-xbox-controller.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["games"],additionalProperties:{author:{id:"com.microsoft",name:"Microsoft"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Player",sidebarShortcuts:["Player"],colors:[{variation:He.c.Primary,color:"#52b043"}]}},{id:"com.sony.psnow",name:"PS Now",description:"Discover all the PS2, PS3 and PS4 games available to stream or download on demand on PS4 from the PS Now library",startUrl:"https://playstation.com/ps-now",icons:[{src:"assets/icons/simple-icons/playstation.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Player",url:"https://playstation.com/ps-now",icons:[{src:"assets/icons/simple-icons/playstation.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["games"],additionalProperties:{author:{id:"com.sony",name:"Sony Interactive"},permissions:[],renderingType:He.B.Webview,internal:!1,defaultShortcut:"Player",sidebarShortcuts:["Player"],colors:[{variation:He.c.Primary,color:"#00a4e8"}]}},{id:"com.opensea.store",name:"OpenSea",description:"Discover, collect, and sell extraordinary NFTs",startUrl:"https://opensea.io/",categories:["shopping","finance"],icons:[{src:"assets/icons/mdi/bitcoin.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Store",url:"https://opensea.io",icons:[{src:"assets/icons/mdi/bitcoin.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.opensea",name:"OpenSea"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Store",sidebarShortcuts:["Store"],colors:[{variation:He.c.Primary,color:"#2081E2"}]}},{id:"com.zalando.shopping",name:"Zalando",description:"Descubre las \xfaltimas tendencias en ropa, calzado y complementos para mujer, hombre y ni\xf1o en Zalando.",startUrl:"https://zalando.com/",categories:["shopping","finance"],icons:[{src:"assets/icons/simple-icons/zalando.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Store",url:"https://zalando.com",icons:[{src:"assets/icons/simple-icons/zalando.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.zalando",name:"Zalando"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Store",sidebarShortcuts:["Store"],colors:[{variation:He.c.Primary,color:"#F96902"}]}},{id:"com.zara.shopping",name:"Zara",description:"Latest trends in clothing for women, men & kids at ZARA",startUrl:"https://zara.com/",categories:["shopping","finance"],icons:[{src:"assets/icons/mdi/hanger.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Store",url:"https://zara.com",icons:[{src:"assets/icons/mdi/hanger.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.zara",name:"Zara"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Store",sidebarShortcuts:["Store"],colors:[{variation:He.c.Primary,color:"#000000"}]}},{id:"com.uber.eats",name:"Uber Eats",description:"Enjoy your local restaurant favorites from the comfort of your own home. The food you want, when you want it. ",startUrl:"https://ubereats.com/",categories:["food","shopping","finance"],icons:[{src:"assets/icons/simple-icons/ubereats.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Order",url:"https://ubereats.com",icons:[{src:"assets/icons/simple-icons/ubereats.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.uber",name:"Uber"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Order",sidebarShortcuts:["Order"],colors:[{variation:He.c.Primary,color:"#09091a"}]}},{id:"com.just-eat.just-eat",name:"Just Eat",description:"Order your favourite takeaway from restaurants all over Spain on the app you love. Freshly cooked from your favourite restaurants directly to your door. Order today. More than 15k restaurants. Exclusive Offers. Pizza, sushi, thai & more. Contactless Delivery.",startUrl:"https://just-eat.es/",categories:["food","shopping","finance"],icons:[{src:"assets/icons/simple-icons/justeat.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Order",url:"https://just-eat.es/",icons:[{src:"assets/icons/simple-icons/justeat.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.just-eat",name:"Just Eat"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Order",sidebarShortcuts:["Order"],colors:[{variation:He.c.Primary,color:"#F96101"}]}},{id:"com.burgerking.burgerking",name:"Burger King",description:"Order your favourite takeaway from restaurants all over Spain on the app you love. Freshly cooked from your favourite restaurants directly to your door. Order today. More than 15k restaurants. Exclusive Offers. Pizza, sushi, thai & more. Contactless Delivery.",startUrl:"https://burgerking.es/",categories:["food","shopping","finance"],icons:[{src:"assets/icons/simple-icons/burgerking.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Order",url:"https://burgerking.es/",icons:[{src:"assets/icons/simple-icons/burgerking.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.burgerking",name:"Burger King"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Order",sidebarShortcuts:["Order"],colors:[{variation:He.c.Primary,color:"#F96101"}]}},{id:"com.discord",name:"Discord",description:"Discord is the easiest way to talk over voice, video, and text. Talk, chat, hang out, and stay close with your friends and communities.",startUrl:"https://discord.com/",categories:["social"],icons:[{src:"assets/icons/simple-icons/discord.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://discord.com/",icons:[{src:"assets/icons/simple-icons/discord.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.discord",name:"Discord"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#7289da"}]}},{id:"com.amazon.twitchtv",name:"Twitch",description:"Twitch is an interactive livestreaming service for content spanning gaming, entertainment, sports, music, and more.",startUrl:"https://twitch.tv/",categories:["entertainment"],icons:[{src:"assets/icons/simple-icons/twitch.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://twitch.tv/",icons:[{src:"assets/icons/simple-icons/twitch.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Following",url:"https://twitch.tv/directory/following",icons:[{src:"assets/icons/mdi/heart.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Explore",url:"https://twitch.tv/directory",icons:[{src:"assets/icons/mdi/compass.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.amazon",name:"Amazon"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#9146ff"}]}},{id:"com.feedly.feedly",name:"Feedly",description:"\n      Your central place to organize, read, and share the information you need to stay ahead of the next big trend in your industry.\n    ",startUrl:"https://feedly.com/",categories:["news","entertainment"],icons:[{src:"assets/icons/simple-icons/feedly.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Feed",url:"https://feedly.com/i/my/me",icons:[{src:"assets/icons/simple-icons/feedly.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Read Later",url:"https://feedly.com/i/saved/",icons:[{src:"assets/icons/mdi/bookmark.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Explore",url:"https://feedly.com/i/my/explore/",icons:[{src:"assets/icons/mdi/compass.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.feedly",name:"Feedly"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Feed",sidebarShortcuts:["Feed"],colors:[{variation:He.c.Primary,color:"#2bb24c"}]}},{id:"com.wikipedia.wikipedia",name:"Wikipedia",description:"\n      Wikipedia is a free online encyclopedia, created and edited by volunteers around the world and hosted by the Wikimedia Foundation.\n    ",startUrl:"https://wikipedia.com/",categories:["news","entertainment","magazines"],icons:[{src:"assets/icons/simple-icons/wikipedia.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://wikipedia.com/",icons:[{src:"assets/icons/simple-icons/wikipedia.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.wikipedia",name:"Wikipedia"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#636466"}]}},{id:"com.nintendo.my",name:"Nintendo",description:"My Nintendo makes playing games and interacting with Nintendo even more fun. You can earn points and redeem them to get rewards like in-game content",startUrl:"https://my.nintendo.com/",categories:["news","games"],icons:[{src:"assets/icons/simple-icons/nintendoswitch.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"My Nintendo",url:"https://my.nintendo.com/",icons:[{src:"assets/icons/simple-icons/nintendoswitch.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.nintendo",name:"Nintendo"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#e60012"}]}},{id:"com.ea.origin",name:"Origin",description:"Get great PC and Mac games on Origin. Play the latest RPGs, shooters, Sims games & more.",startUrl:"https://origin.com/",categories:["news","games"],icons:[{src:"assets/icons/simple-icons/origin.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://origin.com/",icons:[{src:"assets/icons/simple-icons/origin.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.ea",name:"EA Games"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#EB5722"}]}},{id:"com.epic.store",name:"Epic Games",description:"Epic Games, Inc. is an American video game and software developer and publisher based in Cary, North Carolina. The company was founded by Tim Sweeney as Potomac Computer Systems in 1991, originally located in his parents' house in Potomac, Maryland.",startUrl:"https://www.epicgames.com/store/",categories:["news","games"],icons:[{src:"assets/icons/simple-icons/epicgames.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://www.epicgames.com/store/",icons:[{src:"assets/icons/simple-icons/epicgames.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.epic",name:"Epic Games"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#2A2A2A"}]}},{id:"com.valve.store",name:"Steam Store",description:"\n      Steam is a video game digital distribution service by Valve. It was launched as a standalone software client in September 2003 as a way for Valve to provide automatic updates for their games, and expanded to include games from third-party publishers\n    ",startUrl:"https://store.steampowered.com",categories:["news","games"],icons:[{src:"assets/icons/simple-icons/steam.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://store.steampowered.com",icons:[{src:"assets/icons/simple-icons/steam.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.valve",name:"Valve"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#00adee"}]}},{id:"com.cdprojekt.gog",name:"GOG",description:"GOG.com is a digital distribution platform \u2013 an online store with a curated selection of games, an optional gaming client giving you freedom of choice",startUrl:"https://www.gog.com",categories:["news","games"],icons:[{src:"assets/icons/mdi/gog.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://www.gog.com",icons:[{src:"assets/icons/mdi/gog.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.cdprojekt",name:"CD Projekt"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#A8DD36"}]}},{id:"com.bbva.wallet",name:"BBVA",description:"The latest banks and financial services company and industry news with expert analysis from the BBVA, Banco Bilbao Vizcaya Argentaria.",startUrl:"https://www.bbva.es",categories:["finances","shopping"],icons:[{src:"assets/icons/mdi/bank.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://www.bbva.es",icons:[{src:"assets/icons/mdi/bank.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.bbva",name:"BBVA"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#072146"}]}},{id:"net.brandcolors.brandcolors",name:"BrandColors",description:"The biggest collection of official brand color codes around. Curated by @brandcolors and friends.",startUrl:"https://brandcolors.net/",categories:["personalization","utilities"],icons:[{src:"assets/icons/mdi/palette.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://brandcolors.net/",icons:[{src:"assets/icons/mdi/palette.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"net.brandcolors",name:"BrandColors"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["PortalPortal"],colors:[{variation:He.c.Primary,color:"#E91F63"}]}},{id:"com.templarian.materialdesignicons",name:"Material Design Icons",description:"Material Design Icons' growing icon collection allows designers and developers targeting various platforms to download icons in the format, color and size they need for any project.",startUrl:"https://materialdesignicons.com/",categories:["personalization","utilities"],icons:[{src:"assets/icons/mdi/palette-advanced.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://brandcolors.net/",icons:[{src:"assets/icons/mdi/palette-advanced.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.templarian",name:"Templarian"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#2196F3"}]}},{id:"com.simpleicons.simpleicons",name:"Simple Icons",description:"2135+ Free SVG icons for popular brands",startUrl:"https://simpleicons.org/",categories:["personalization","utilities"],icons:[{src:"assets/icons/mdi/palette-advanced.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://brandcolors.net/",icons:[{src:"assets/icons/mdi/palette-advanced.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.simpleicons",name:"Simple Icons"},renderingType:He.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:He.c.Primary,color:"#222222"}]}}]},multi:!0};var dt=l(899);const Ki={provide:_r.To,useValue:{name:"userapplications",upsert:!0,data:[{id:"com.central-factory.portal",name:"Central Factory Portal",description:"Central Factory Portal",startUrl:"/",icons:[{src:"assets/icons/mdi/open-in-app.svg",sizes:"512x512",type:"image/svg+xml"}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:dt.k.Collection,mode:dt.R.Read,target:"userpreferences"},{kind:dt.k.Collection,mode:dt.R.Read,target:"useravatars"},{kind:dt.k.Collection,mode:dt.R.Read,target:"userapplications"}]}},{id:"com.central-factory.player",name:"Player",description:"Applications Player",startUrl:"play",icons:[{src:"assets/icons/mdi/play.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Play",url:"/play",icons:[{src:"assets/icons/mdi/play.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:dt.k.Collection,mode:dt.R.Read,target:"userapplications"},{kind:dt.k.Collection,mode:dt.R.Write,target:"userapplications"},{kind:dt.k.Collection,mode:dt.R.Delete,target:"userapplications"},{kind:dt.k.Collection,mode:dt.R.Read,target:"storeapplications"},{kind:dt.k.Collection,mode:dt.R.Write,target:"storeapplications"},{kind:dt.k.Collection,mode:dt.R.Delete,target:"storeapplications"}],sidebarShortcuts:["Play"]}},{id:"com.central-factory.user-avatars",name:"User Avatars",description:"Avatars management module",startUrl:"user-avatars",icons:[{src:"assets/icons/mdi/account.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Avatar",url:"/selected-avatar",icons:[{src:"assets/icons/mdi/account.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Select Avatar",url:"/select-avatar",icons:[{src:"assets/icons/mdi/account.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:dt.k.Collection,mode:dt.R.Read,target:"useravatars"},{kind:dt.k.Collection,mode:dt.R.Write,target:"useravatars"},{kind:dt.k.Collection,mode:dt.R.Delete,target:"useravatars"},{kind:dt.k.Collection,mode:dt.R.Read,target:"userpreferences"},{kind:dt.k.Collection,mode:dt.R.Write,target:"userpreferences"}],sidebarShortcuts:["Avatar"]}},{id:"com.central-factory.inventory",name:"Inventory",description:"Assets management module",startUrl:"inventory",icons:[{src:"assets/icons/mdi/bag-personal.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Inventory",url:"/inventory",icons:[{src:"assets/icons/mdi/bag-personal.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:dt.k.Collection,mode:dt.R.Read,target:"userassets"},{kind:dt.k.Collection,mode:dt.R.Write,target:"userassets"},{kind:dt.k.Collection,mode:dt.R.Delete,target:"userassets"}],sidebarShortcuts:["Inventory"]}},{id:"com.central-factory.marketplace",name:"Marketplace",description:"Trade with Assets",startUrl:"marketplace",icons:[{src:"assets/icons/mdi/store.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Marketplace",url:"/marketplace",icons:[{src:"assets/icons/mdi/store.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:dt.k.Collection,mode:dt.R.Read,target:"userassets"},{kind:dt.k.Collection,mode:dt.R.Write,target:"userassets"},{kind:dt.k.Collection,mode:dt.R.Delete,target:"userassets"}],sidebarShortcuts:["Marketplace"]}},{id:"com.central-factory.settings",name:"Settings",description:"Settings for the Portal",startUrl:"settings",icons:[{src:"assets/icons/mdi/cog.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Settings",url:"/settings",icons:[{src:"assets/icons/mdi/cog.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{internal:!0,author:{id:"com.central-factory",name:"Central Factory"},permissions:[{kind:dt.k.Collection,mode:dt.R.Read,target:"userpreferences"},{kind:dt.k.Collection,mode:dt.R.Write,target:"userpreferences"}],sidebarShortcuts:["Settings"]}},{id:"com.central-factory.codex",name:"Codex",description:"Official documentation for the Central Factory Metaverse",startUrl:"codex",categories:["productivity"],icons:[{src:"assets/icons/mdi/book-open-page-variant.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Codex",url:"https://www.aitorllamas.com/metaverse/apps/codex",icons:[{src:"assets/icons/mdi/book-open-page-variant.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},renderingType:He.B.Webview,supportsBrowser:!0,internal:!1,permissions:[],defaultShortcut:"Codex",sidebarShortcuts:[],colors:[{variation:He.c.Primary,color:"#706fd3"}]}}]},multi:!0},Co={provide:_r.RY,useValue:{name:"userassets",creator:{schema:{title:"User Assets",description:"User assets",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},name:{type:"string",description:"Name"},model:{type:"string",description:"Model"},description:{type:"string",description:"Description"},digital:{type:"boolean",description:"Digital"},private:{type:"boolean",description:"Private"},kind:{type:"string",description:"Kind",enum:["unknown","currency","land","material","building","equipment","furniture","machine","vehicle","media-resource","other"]},url:{type:"string",description:"Url"},previewUrl:{type:"string",description:"Preview url"},currentValue:{type:"number",description:"Current value"},purchaseValue:{type:"number",description:"Purchase value"},purchaseDate:{format:"date-time",type:"string"},data:{type:"object",description:"Data"},owner:{type:"string",description:"Owner"},producer:{type:"string",description:"Producer"},permissions:{type:"array",description:"Permissions",items:{type:"object",description:"Permission"}},createdAt:{format:"date-time",type:"string",description:"Created at"},updatedAt:{format:"date-time",type:"string",description:"Updated at"}}}}},multi:!0},Fa={type:"object",description:"Appearance",properties:{format:{type:"string"},src:{type:"string"},smallPreviewUrl:{type:"string"},previewCamera:{type:"object",properties:{position:{type:"string"},rotation:{type:"string"},scale:{type:"string"}}}}},Na={provide:_r.RY,useValue:{name:"useravatars",creator:{schema:{title:"User Avatars",description:"User Avatars",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},welcomeMessage:{type:"string",description:"Welcome message"},name:{type:"string",description:"Name"},title:{type:"string",description:"Title"},selectedAppearance:Fa,appearances:{type:"array",description:"Appearances",items:Fa},scopes:{type:"array",description:"Scopes",items:{type:"object",properties:{integration:{type:"string",description:"Integration"},domain:{type:"string",description:"Domain"},scope:{type:"string",description:"Scope"}}}},skills:{type:"array",description:"Skills",items:{type:"object",properties:{domain:{type:"string",description:"Domain"},scope:{type:"string",description:"Scope"},skill:{type:"string",description:"Skill"}}}},createdAt:{format:"date-time",type:"string",description:"Created at"},updatedAt:{format:"date-time",type:"string",description:"Updated at"}}}}},multi:!0},Ua={provide:_r.RY,useValue:{name:"applicationpermissions",creator:{schema:{title:"Application Permissions",description:"Application Permissions",version:0,keyCompression:!0,primaryKey:{key:"id",fields:["appId","kind","mode","target"],separator:":"},type:"object",properties:{id:{type:"string",description:"Id"},appId:{type:"string",description:"AppId"},kind:{type:"string",description:"Kind",enum:["collection"]},mode:{type:"string",description:"Mode",enum:["read","write","delete"]},target:{type:"string",description:"Target"},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","appId","kind","mode","target"],encrypted:["kind","mode","target"]}}},multi:!0},Cs={provide:_r.RY,useValue:{name:"userpreferences",creator:{schema:{title:"User Preferences",description:"User preferences",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},key:{type:"string",description:"Key"},value:{description:"Value"},avatar:{type:"string"},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","value"]}}},multi:!0},Wt={provide:_r.To,useValue:{name:"userpreferences",upsert:!1,data:[{id:"settings.customization",key:"settings.customization",value:{theme:{name:"Default",path:"assets/themes/default/variables.css"}}}]},multi:!0};var Ds=l(43),qn=l(4438);let $i=(()=>{class _{}return _.\u0275fac=function(a){return new(a||_)},_.\u0275mod=c.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=c.\u0275\u0275defineInjector({imports:[[qn.O]]}),_})(),Do=(()=>{class _{}return _.\u0275fac=function(a){return new(a||_)},_.\u0275mod=c.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=c.\u0275\u0275defineInjector({imports:[[jr.CommonModule,qn.O,$i]]}),_})();var gn=l(2051);const Hi={production:!0,useMocks:!0,autologin:!1,showSplashScreen:!0,webUrl:"https://aitorllamas.com/metaverse/apps/codex",documentationUrl:"https://aitorllamas.com/metaverse/apps/codex/docs",blogUrl:"https://aitorllamas.com/metaverse/apps/codex/blog",developersUrl:"https://aitorllamas.com/metaverse/apps/codex/developers"};var Ur=(()=>{return(_=Ur||(Ur={})).Unknown="unknown",_.Currency="currency",_.Land="land",_.Material="material",_.Building="building",_.Equipment="equipment",_.Furniture="furniture",_.Machine="machine",_.Vehicle="vehicle",_.MediaResource="media-resource",_.Consumable="consumable",_.Other="other",Ur;var _})(),ei=(()=>{return(_=ei||(ei={})).Body="body",_.Head="head",_.Ears="ears",_.Face="face",_.Eyes="eyes",_.Nose="nose",_.Mouth="mouth",_.Neck="neck",_.Chest="chest",_.Waist="waist",_.Back="back",_.Arms="arms",_.RightArm="right-arm",_.LeftArm="left-arm",_.Wrist="wrist",_.Hands="hands",_.RightHand="right-hand",_.LeftHand="left-hand",_.Legs="legs",_.RightLeg="right-leg",_.LeftLeg="left-leg",_.Feet="feet",_.RightFoot="right-foot",_.LeftFoot="left-foot",_.Finger="finger",ei;var _})();const mi={id:"1",name:"Raven's Cloak",model:"Raven's Cloak",producer:"Shop5363155 Store",owner:"Metam",description:"Microfiber hooded cloak with fleece lining",kind:Ur.Equipment,previewUrl:"https://i.imgur.com/ukcsu1q.png",url:"https://es.aliexpress.com/item/1005001952208453.html",currentValue:23.62,purchaseValue:23.62,purchaseDate:(new Date).toISOString(),digital:!1,private:!0,data:{allowedSlots:[ei.Back],colors:["#ff0000","#00ff00","#0000ff"],isEquipped:!1}},Gi={id:"2",name:"Foundation's Coat",model:"Foundation's Coat",producer:"Shop1948549 Store",owner:"Metam",description:"Hooded coat with thick fleece lining",kind:Ur.Equipment,previewUrl:"https://i.imgur.com/w1XmjIj.png",url:"https://es.aliexpress.com/item/1005003209038453.html",currentValue:43.9,purchaseValue:43.9,purchaseDate:(new Date).toISOString(),digital:!1,private:!0,data:{allowedSlots:[ei.Chest],colors:["#ff0000","#00ff00","#0000ff"],isEquipped:!1}},Ps=((new Date).toISOString(),{provide:_r.To,useValue:{name:"userassets",upsert:!0,data:[mi,Gi]},multi:!0}),Mn={provide:_r.To,useValue:{name:"useravatars",upsert:!0,data:[{id:"1",welcomeMessage:"Hello!",name:"Thomas Anderson",title:"Software Engineer",selectedAppearance:{format:"readyplayer.me",src:"https://nerdreactor.com/wp-content/uploads/2021/12/The-Matrix-Awakens-An-Unreal-Engine-5-Experience-500x500_c.jpg",smallPreviewUrl:"https://nerdreactor.com/wp-content/uploads/2021/12/The-Matrix-Awakens-An-Unreal-Engine-5-Experience-500x500_c.jpg"},appearances:[{format:"gltf",src:"assets/avatars/samples/ed4aa425-9e13-4e51-9f2c-557dfe0db7ab/ed4aa425-9e13-4e51-9f2c-557dfe0db7ab.glb",smallPreviewUrl:"https://nerdreactor.com/wp-content/uploads/2021/12/The-Matrix-Awakens-An-Unreal-Engine-5-Experience-500x500_c.jpg",previewCamera:{position:"0 1.5 0.7",rotation:"-5 0 0",scale:"0.4 0.4 0.4"}},{format:"gltf",src:"assets/avatars/samples/65989f77-c8bf-4542-9e8a-d0f39eb76662/65989f77-c8bf-4542-9e8a-d0f39eb76662.glb",smallPreviewUrl:"assets/avatar-144.png",previewCamera:{position:"0 1.5 0.7",rotation:"-5 0 0",scale:"1 1 1"}}],scopes:[{integration:"CF",domain:"Calendars",scope:"manage"},{integration:"Google",domain:"Calendars",scope:"manage"},{integration:"NFT",domain:"Tokens",scope:"manage"}],skills:[{domain:"calendar",scope:"manage",skill:"create"},{domain:"event",scope:"manage",skill:"create"},{domain:"assets",scope:"manage",skill:"trade"}]},{id:"2",welcomeMessage:"Hello!",name:"Elliot Alderson",title:"Software Engineer",selectedAppearance:{format:"readyplayer.me",src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBYUFRUVFRUZGBgaHBoaHBoYHBkaHBkcGhwZHRkeGBocIS4lHx8rHxkYJzgnKy8xNjU1GiQ7QDs0Py40NTEBDAwMEA8QHhISHjQhISE0MTQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQxNDQ0NDQxNDQ0NDQ0NDQ/ND80PzQxPzQ0NDQxMf/AABEIAOEA4QMBIgACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAABAECAwUGBwj/xAA9EAABAwIDBQYDBwQBBAMAAAABAAIRAyEEEjEFQVFhcQYigZGh8BMysQdCUmLB0eEUcpLxgiMzosIWNLL/xAAYAQEAAwEAAAAAAAAAAAAAAAAAAQIDBP/EACMRAQEAAgMBAAIBBQAAAAAAAAABAhEDEiExQVEiBDJCYXH/2gAMAwEAAhEDEQA/AOhREWrAREQEREBERAREQEREBFQpKkVVJVHPgEzpqtHj9v4cNeDXyEaZS3MQR8zdZF/Mbio2SWt8i4A9snUniXtrMO8AMMaSBeHab4N9Fl2127Z8MjDyXmIc4CGg/NafmH6qvaLda7pF5Hg+2uKptcBlfJJzPaSQTzECNFvMB29cYNRrYmDla6GiJ1k3sd0cwp7Q616Ai12A25h65inWY4/hkB3+JuthKlW+KoiICIiAqFVVCgzIiIMSIiAiIgIiICIiAiIgpKSo2PeW03ubq1rj5A8FxL+0734ZjYOd4yudrOuYCL6Fo6AqLlpOONvxvu021cjWsY+HE94gT3dImI1P/ja64zE7XxLcoLn5twBJtv5i2YzyWHEPe9lMueAGsqOItPd+UR+J1jPMlYNnhzQ99WWggMm9511NphonmRossst+t8cNMD8c9xs94Ni4uc6/WDFjylY6JD3gCoQCWieEwLgnT+FXHs+RjRcNDnneXOJnwFteCrgaRY15cMrrFjonQiRwLSHInXqzEbNIL+DZI56QNeYWtDpGUmw033K6fE1AyqxryYynOBrpAnw05nkufp4eXlgIME35Cb+SiFi0UxeCY3j6WMWWetgS0WcHWnu8DH79dy2e0sDTzZKO6I4uObKbnhA6TzWtwbzTfDoyw4Gbi7XZfUBNliKyWw4EtIOokOB812WzO2Tw3vDM4AB2gzQDDriJjX6rl9riHTGvDS9wfHXxUGk8i8wplsRcZfHtWxdvUsSBkJz/AHmkOsd9yII5jiFt1599mw71f+1hHIEkWHP9PL0ALWXxhlNXSqIilAqFVVCgzIiIMSIiAiIgIiICIiAiIgx1BY7rFeT4qo2gGhrpDXOcwxFi5wafK8cl6R2hr5MO8wTIywN4Oo8RK8f2o8ucDMiBcaW/mVnn9014p5avp4oveCd2p/LabcbKbi6/xQ45vmIkcS0GwHl5LVYbAucYEX4zrwMCQVsBgHjUty8JP1iJ6ql01lrE2aZDpkaguuDuyuy79PFY3Y5xGU6DTW0XH1lWOw7yIg624E8zxVKeCeZiQRuP6KD1K2li8wBOsCDvOWQJ8DE8lrabjmEGDu8lsG7Je5vMatNvL3uQbEqcL7uY5buCncOtR6WKc15cDMyYPPl4rBVxJIA6Sd8idOS2FTZjxPdMjdfrblKh/wBC8mMpNptw1TcNZLH1i4NDt3qsVXW9j+yrUpOaYcCCOSsDSbqYj12/2bYgCu9p1cxpngWu09fRelBeJ9msc6hiKbw0O7wGXjNrfmvbmV7YwyAePH9VpjfGOc9XIiKygqFVVCgzIiIMSIiAiIgIiICIiAiIg1+2cGa1F7B80SOZGgK8eLwx2UiQHEFp1A3jzE/7le3hcF2e2AzE4vEuk5GVCL3k5jPKO6fArPPyba8Pt00eHI7rWMLgRDRBB8CL/USuiwPZ7EVA0mmQDx3f5Cx6yu+2d2fpMdmDACLCLQulotAEQsdWui2YvNaHYdxu4kHfc36lpWww/ZKnzMR82ojgfSF3pYFjewC8KeqNudp7IpsgZB5BW19nUyPlA8AtpW1UWufBUsXxrR4nZjDMtB6rT4nY7Js0coHuV0ddRjTVNNI5PaexWPaWwOVhbouJxuzgx0BzTwXrGJpyLLj9u4RrXEgCdbcLH6/VWxysquWM046sxzSCPmBkERYi4tu3L2bYeO/qMPSq73MBdycLO9V5TiqQNy06RvGWBrzkZdeC7j7OMXmwzmXmm4jS0O7wv5rpwrk5Y65ERaMRUKqqFBmREQYkREBERAREQEREBERBHxlbIx7/AMLXO8hK1v2cUopOe4CXuJ9bk85Wwx9Mup1GjUscPNpUX7Pv+wCfAcrn6lY8vmm/DPrtGLMx/NR2blnDFSNauNVYq9QwryFGfvU1EkRKryodZ5WwNGVR9ABZ6rSWNRUJWGFPxLIUB/JV0vKx1NFzm38NIzkaXmRBA1Hv1XUU26j0UTbNHOyBYi4jl+in/ateb4h+aQCDci3CxEeUeHltfs6rZcRXYT8zA4C1y069YPuFqMdRyOcD1HOJm/WRqs3ZOuWY+llsHhzDO8FriPUBa4fWGc3Hq6KjVVdDmFQqqoUGZERBiREQEREBERAREQFSVVEFpEqF2NpfDouYRBY97PJxjwiI6qasNLFso/1D3aAteRvOZrW26liy5Z414b/J0dAypbXxqvLcf23eS/4WmgIkxbjH1hat/brGtuGHxBjrospXRZt7G+oFG+KJNwvNtndu6r3BtSn/AMhI9CuowuL+JdvBVuXqccW/fimgLXYnaLQLkacffNc/tnFPYCLj9CuC2tiqr3GHkN3CZnoky34t11HYbV7X06biAQSCeceS0lTtkXHumAd8T5TqFzeG2cxzv+q8k/hbLneQ0W6w+zqA+Wk90axBjwBnRTdKzbd7P7TOLoezMPxM152n0W+rPD2yDIieH1XMUNm4dx7hLHi4a7Mxw6AwfG63+GGWnlJkjjrv1O/+VWp9cb2tpQWOG+Rwi+/zC1OxcW2ni6FR57rJcYk/Kx1hxJOn9y6HtXSORp5mZ00/hV7O7GblZUeJDmB/HWT9IVscus2i49rp0Oy9pVHlj6pYwPdDGCc2k66kjjot+uOq1S/+mrNpuYaTw11j8jzAJPUrsVtxZXKesOfGY2aFQqqoVqwZkREGJERAREQEREBERAVCVVEFGmCDE8uKptdrMRLRYvYWu49xzS2f8nKsLIxgJp8ZePDLP1WfJNxrw33TlKlajhQ6m1jJbBe58NazNpmMGSYMNAkwtLtfb1RzGvb/ANt7ixrvhNaHOGoAdUzQINyAuixfZUHEis8l3eD2ttBcIvGhiAIWsx/Y+kKz6ueplc5z8mT5cxlwFRzw0CSb3XPOv5dV7f4uWr16jHFrmgOFiIyEHlcg9QV6H9njKpc4VaZa0tzMda8Ru8fRaTG42kao7gqPtlbOYA8XHSy9C7M0XNptLw1s/K1ohrW20G7ik9q+W5j6j9qMCCx0NEwf1Xj1fA1Xue5kkaAAS6d8D9V7ZtmodNxsuI2vsJ2YPYSAZnLz0NtyXy7Rj805vBdm6gpF+QOqNcCKb7sc2L5pIzGYMG3dVuxNihjqv9VREvByw7K4PJ+41psB3t28BbirhMS2ze/yMQR0cteDiWuvRLY3ta0euqd7ovHLd7SWbEqSJqw0Xax5c/Lza8nM066Qt3gMM+JcfLT91DwNJ7hBDuYd/rr5rq8DhTkkhRP5F8jmu0Ozy6i4AG0Hw3++S02PxD2YOiaTix3w2DMJkQASJ3SZ9eK7XEslrmkcR/C53a7G4bDOzAOa2ixlxILyA1lv7hPQJolcz2Z22812te4uD+66d86eRXqAXA9lOz5D2Yh5aQ45mge9y78Lo4p9c39R9kVVCqqhWrnZkREGJERAREQEREBERAREQFKwRFwdQczfIgjyM+Cio10EHgZ9+qjKbicLq7bathG1GZXacrHwK5Da/ZF7yYxD8v4Sf1AXZCopVCkNVy3GV245XH1yHZ3saykczhJ3zv3rsaLO8s5FlFbi2MmSJUyTFGWVya/aomVrKDgQWlTMdtGmH954jhvPRQGVKTnEsfeZAIv0lVv1efEplMOEEab+CxPw+vvorMHig5xHMj+FMUeVKJTpRFlOpVYBBCwlqt5blM8Vy9QcSdfeq0+1SS/I5jXseWy135TLTbfK29YfNvlRKeypeXl7jJJIgeTTuCdbl8RcscfqVhMPlsAA0WaPqpatAhXLqwx6zTjzy7XYqFVVCrKsyIiDEiIgIiICIiAiIgIiICtKuVpQbjCmQ3mB9FPZZanCvhrZ93U9lbRc18rrnuMTWuXnu29gY04lzmVc1JwtIHd6756LuvijSUcZuTA5qMvVsb1eRPw9Rj306rS8m2ZriCB0bcdZVuE2aaT89Oo4t/C8l0HxXpNXAUm531HNE3kxw4rQnD03HuPadd91nZptjbWLYWFcBckkkmeJOq319+qg0anw/msFJ/qA9pg3vCmTUUyu6ks4lQsRWA4LHisWQARy8ua1Xx7zom0f9Ti4mSpTRYKDQdbjePNbBbcMc/PfikKqIt2AqFVVCgzIiIMSIiAiIgIiICIiAiIgIiIMrHd0j3dZ8JUk66KC48FTD1MpJHvwXPyzV26eLLeOlcdtl2HDnCk+q7cGAuM9BeFxlTbuOxBhuGqH+/uNHCA6BC7mi0anUnepb8t3SQY3LPf7dEunllbD7QLoNIDeAXNIHqdyjVsLjzuYOQI9IXe4/FOvD3E6Ra3ooNAh13ZnEfiP0Ubk/C29xzFDFY9rQ10Fs6OdJEe966HZWKIc3PZ2/cL8ZU9zWTIF1FrtDjYeW7+bqNqpGLcS3KOEe+KhGpGtj/KzPGUQdB4xr+2qgBxe8taZ4nUNHP3uUIbbZ7szhwF/fvctqFC2dTygR/vrzU0Lq4f7XJzfVyIi1ZCoVVUKDMiIgxIiICIiAiIgIiICIiAiKhMa26oBWN+GcZeySWxLfxDl+YcN61eJ7SYcEMY/4zycrWUu+XOOgkW9V0GxsNXa1zq+VrnmWsb9xu4Od9528xYaCdVTOzTXjl7bW4NragBaZBusr8A/SZWLE0/hPdVYO6bvaOO9wH1G+FNp7WYQO8L6XF1z6jp3UR2xDlvrvhQsRsYjQx1UzaG3gybrVVO0Advn9OCi6TLVGbNcLuNvd/oseIw4Z3uXosVTbLSTBtG7W276qE+s+ucoMCbu5a93mo1De0fEYsv7rfE7h/KmYOmGiB/s/qVjOGANrAbr+M8yp1JtlVbWomYUaKUFGpCIWPDbVpVHvptfD2Eh1N3deI4A6jfI3FdPDfNOXml3tPRWq5bMBUKqqFBmREQYkREBEVJUiqIqEqAlJWn2j2kw9GQXl7h91gnzd8o81zON7evNqNIDm8k+gj6ps62u+lRsdtGlRaX1HtYOZv4AXK8qxvaDE1jD6z2j8LDkH/jfzUBlLOQS4nrJN94J57lHZeYft2+0e37G2o0i+fvP7rfBoEn0XLbR29iK7g2rUORwBLG91txIkC5txJWAsDWnOMzbw6PlJ4gfULE9kta6xLYEjeBMT5lRatJJHa/ZZg2vxb3kWp0yWjg57ss9YDvNerOvJXkX2XbUbSxbqb7Cs34bT+dpLmDxBcOsL2EtWOX1pj8RKlPyXKbd2M45nUahYd7YzsP/ABkEeB8CuyKg42hmBjyVK1xrxzauFxTDLntcOIzeohaWpiqzbE+S9S25gwQQW3XFVtmZ3xl098VEy/a9x38Qtm417iAV2+DqZWZjb3uXI0cDkeO7Hh+66WrUmmABwVcrtOtNhhjm/fn1WxoUgFq9lUydbreBqSIoWWXLdtdkBzDiaZLK1IZg5ti5rdQSN4Fwuva31XO9s6mTB1zyDf8AJzR+qvPL4plJr1C7M9sadVjWV3hlUWJNmvjQg6Douta4ESLjiLjzXz4TZdN2Z7U1MIQ1+apROrCbt5snTpoV0TJy5Yfp68qFarZXaLDYi1OoC78Dpa7wB18FtldRlRJREMSIrSgqVB2htahQ/wC7VYw/hJlx6NEn0Wp7XdoRh2ZGH/qPBj8g0zH9F5o4Z3Fx7znGSTqTzUWrY4b9rucf27Fxh6ZPBz7DqGgz5wuW2ht3F1i7NVIb+Fndb5C/mVHFOB7971kAbFtfLoq+rzGRCyu3knqVUMMe/cLY/DAAMbvfDmrX7gBfl09+qlZDo078lcynBF+nPpxWww9HMeFp/eFhfTc0Eawd2vBEJTH2h28wOfBY24JozRMGZFjrEFo5K2hStOnI2Uik+BBQ0072lj7SHAiCNxBkEc9CF7B2I7aNxbW0a5DMSAANwrQPmb+exJb4heYYvD5uoAjnvAP1UDKJ/C4EcQQeI5yBdVym0yvop4WGo6QvMuz/ANoz6QFPFsdVYLCqyM4/uaSA7rY9V3uzNsYfEiaNVjzvaDDx1Ye8PJZ2aaY2Im1oLSCJHAiVzPwg2YYL+C63H07EQtOylcy3xWOU9bY1zGKwxzTli+nDzUzBUDEOC6Ojs8alUrYUBwUdansx4CjAUx5slKlCg7U2nToCaj2tHAm56BXkUtbLDvlcJ9p+2GZW4Zpl+YOfGjQJytPMkzG6FA272+c4FmGaaY0NR0ZyPyj7vW5XD1KhcSSSSSSSbkk6klaY4/ms8sp8ixyyPEEDkrWNuOvoqvdJlXZqsMHgRcEag9V1ewu3FaiQysfi0+fzNHJ2/ofNcm4XlWuU70izb2b/AOaYX8b/APEqi8ryonZHWPc1HxuJbSY97tGgnyUhef8AbnbeZ/8ATsPdaRn5u1jwlaWssZuua2jXdXqvqvMlxmOA0aB0srWUdOfgqBlmkannoQfRZy4NiY0975Cq3WinERPv/avNMm8e/ZVzHjT9hwvPvRZ8tj1v/CIWsaLCBdHtBMHRX0qeYxYbt6q1l9fKPfqgYZ4m45a+XRUzgkEePC2s+SspGHG1r3nqsoYCT58v2QSKcZNR7+qwVaDYkW8efvyVWMkEc7XuenALHVaQ11z01A4IEXjdfzOn0UPGU5+aZGh4aWnf/CtZU1g8N8ATylHu7p8tfK/mgiZyOYHDhzGsHyWN1O+Zhvug3HQi6zVsPmOZhgjn/KiuovF4nmNR1jXxUUbnCdqcbSAaK7nNH3aga8R1cCfVbWj9oFYfPRY/oXM/cLjc794nqE+I78P6KlxlWmVj0Kl9poHzYQ+FWfQsCwYr7SA4gsw0f3P/AEDb+a4P4o/AVY935U6xPaum2n28xVUQ0tpD8gk/5OkjwhcvXrueS57i4ne4kn1VMx4K0gqdRFtWlZGt3lGsV2WynSAb3HoPfmqMZKuCzNbG5NDE6n6furHhSXDksJbKlOk/KiyZUUIe2Lxnbv8A9mt/e76hEV6zw+q0/ld1P0VmI+70P6oihdkofM7qf/VbAfIOn/siIVhwerv7Sr2/f6j/APSIgto6+X0KzU9PfNEQZqfyP8Vh2hp4H6BURBq6evgfqVWn8vh+oVEQWu+cdf3VW/N/xRFFGFm7qPqVjxaIoEQ+/VWlEQUYsiIoSxDVZB93oqorfgG7uizD9lREgHU9SsbflCIiWwREQf/Z",smallPreviewUrl:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBYUFRUVFRUZGBgaHBoaHBoYHBkaHBkcGhwZHRkeGBocIS4lHx8rHxkYJzgnKy8xNjU1GiQ7QDs0Py40NTEBDAwMEA8QHhISHjQhISE0MTQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQxNDQ0NDQxNDQ0NDQ0NDQ/ND80PzQxPzQ0NDQxMf/AABEIAOEA4QMBIgACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAABAECAwUGBwj/xAA9EAABAwIDBQYDBwQBBAMAAAABAAIRAyEEEjEFQVFhcQYigZGh8BMysQdCUmLB0eEUcpLxgiMzosIWNLL/xAAYAQEAAwEAAAAAAAAAAAAAAAAAAQIDBP/EACMRAQEAAgMBAAIBBQAAAAAAAAABAhEDEiExQVEiBDJCYXH/2gAMAwEAAhEDEQA/AOhREWrAREQEREBERAREQEREBFQpKkVVJVHPgEzpqtHj9v4cNeDXyEaZS3MQR8zdZF/Mbio2SWt8i4A9snUniXtrMO8AMMaSBeHab4N9Fl2127Z8MjDyXmIc4CGg/NafmH6qvaLda7pF5Hg+2uKptcBlfJJzPaSQTzECNFvMB29cYNRrYmDla6GiJ1k3sd0cwp7Q616Ai12A25h65inWY4/hkB3+JuthKlW+KoiICIiAqFVVCgzIiIMSIiAiIgIiICIiAiIgpKSo2PeW03ubq1rj5A8FxL+0734ZjYOd4yudrOuYCL6Fo6AqLlpOONvxvu021cjWsY+HE94gT3dImI1P/ja64zE7XxLcoLn5twBJtv5i2YzyWHEPe9lMueAGsqOItPd+UR+J1jPMlYNnhzQ99WWggMm9511NphonmRossst+t8cNMD8c9xs94Ni4uc6/WDFjylY6JD3gCoQCWieEwLgnT+FXHs+RjRcNDnneXOJnwFteCrgaRY15cMrrFjonQiRwLSHInXqzEbNIL+DZI56QNeYWtDpGUmw033K6fE1AyqxryYynOBrpAnw05nkufp4eXlgIME35Cb+SiFi0UxeCY3j6WMWWetgS0WcHWnu8DH79dy2e0sDTzZKO6I4uObKbnhA6TzWtwbzTfDoyw4Gbi7XZfUBNliKyWw4EtIOokOB812WzO2Tw3vDM4AB2gzQDDriJjX6rl9riHTGvDS9wfHXxUGk8i8wplsRcZfHtWxdvUsSBkJz/AHmkOsd9yII5jiFt1599mw71f+1hHIEkWHP9PL0ALWXxhlNXSqIilAqFVVCgzIiIMSIiAiIgIiICIiAiIgx1BY7rFeT4qo2gGhrpDXOcwxFi5wafK8cl6R2hr5MO8wTIywN4Oo8RK8f2o8ucDMiBcaW/mVnn9014p5avp4oveCd2p/LabcbKbi6/xQ45vmIkcS0GwHl5LVYbAucYEX4zrwMCQVsBgHjUty8JP1iJ6ql01lrE2aZDpkaguuDuyuy79PFY3Y5xGU6DTW0XH1lWOw7yIg624E8zxVKeCeZiQRuP6KD1K2li8wBOsCDvOWQJ8DE8lrabjmEGDu8lsG7Je5vMatNvL3uQbEqcL7uY5buCncOtR6WKc15cDMyYPPl4rBVxJIA6Sd8idOS2FTZjxPdMjdfrblKh/wBC8mMpNptw1TcNZLH1i4NDt3qsVXW9j+yrUpOaYcCCOSsDSbqYj12/2bYgCu9p1cxpngWu09fRelBeJ9msc6hiKbw0O7wGXjNrfmvbmV7YwyAePH9VpjfGOc9XIiKygqFVVCgzIiIMSIiAiIgIiICIiAiIg1+2cGa1F7B80SOZGgK8eLwx2UiQHEFp1A3jzE/7le3hcF2e2AzE4vEuk5GVCL3k5jPKO6fArPPyba8Pt00eHI7rWMLgRDRBB8CL/USuiwPZ7EVA0mmQDx3f5Cx6yu+2d2fpMdmDACLCLQulotAEQsdWui2YvNaHYdxu4kHfc36lpWww/ZKnzMR82ojgfSF3pYFjewC8KeqNudp7IpsgZB5BW19nUyPlA8AtpW1UWufBUsXxrR4nZjDMtB6rT4nY7Js0coHuV0ddRjTVNNI5PaexWPaWwOVhbouJxuzgx0BzTwXrGJpyLLj9u4RrXEgCdbcLH6/VWxysquWM046sxzSCPmBkERYi4tu3L2bYeO/qMPSq73MBdycLO9V5TiqQNy06RvGWBrzkZdeC7j7OMXmwzmXmm4jS0O7wv5rpwrk5Y65ERaMRUKqqFBmREQYkREBERAREQEREBERBHxlbIx7/AMLXO8hK1v2cUopOe4CXuJ9bk85Wwx9Mup1GjUscPNpUX7Pv+wCfAcrn6lY8vmm/DPrtGLMx/NR2blnDFSNauNVYq9QwryFGfvU1EkRKryodZ5WwNGVR9ABZ6rSWNRUJWGFPxLIUB/JV0vKx1NFzm38NIzkaXmRBA1Hv1XUU26j0UTbNHOyBYi4jl+in/ateb4h+aQCDci3CxEeUeHltfs6rZcRXYT8zA4C1y069YPuFqMdRyOcD1HOJm/WRqs3ZOuWY+llsHhzDO8FriPUBa4fWGc3Hq6KjVVdDmFQqqoUGZERBiREQEREBERAREQFSVVEFpEqF2NpfDouYRBY97PJxjwiI6qasNLFso/1D3aAteRvOZrW26liy5Z414b/J0dAypbXxqvLcf23eS/4WmgIkxbjH1hat/brGtuGHxBjrospXRZt7G+oFG+KJNwvNtndu6r3BtSn/AMhI9CuowuL+JdvBVuXqccW/fimgLXYnaLQLkacffNc/tnFPYCLj9CuC2tiqr3GHkN3CZnoky34t11HYbV7X06biAQSCeceS0lTtkXHumAd8T5TqFzeG2cxzv+q8k/hbLneQ0W6w+zqA+Wk90axBjwBnRTdKzbd7P7TOLoezMPxM152n0W+rPD2yDIieH1XMUNm4dx7hLHi4a7Mxw6AwfG63+GGWnlJkjjrv1O/+VWp9cb2tpQWOG+Rwi+/zC1OxcW2ni6FR57rJcYk/Kx1hxJOn9y6HtXSORp5mZ00/hV7O7GblZUeJDmB/HWT9IVscus2i49rp0Oy9pVHlj6pYwPdDGCc2k66kjjot+uOq1S/+mrNpuYaTw11j8jzAJPUrsVtxZXKesOfGY2aFQqqoVqwZkREGJERAREQEREBERAVCVVEFGmCDE8uKptdrMRLRYvYWu49xzS2f8nKsLIxgJp8ZePDLP1WfJNxrw33TlKlajhQ6m1jJbBe58NazNpmMGSYMNAkwtLtfb1RzGvb/ANt7ixrvhNaHOGoAdUzQINyAuixfZUHEis8l3eD2ttBcIvGhiAIWsx/Y+kKz6ueplc5z8mT5cxlwFRzw0CSb3XPOv5dV7f4uWr16jHFrmgOFiIyEHlcg9QV6H9njKpc4VaZa0tzMda8Ru8fRaTG42kao7gqPtlbOYA8XHSy9C7M0XNptLw1s/K1ohrW20G7ik9q+W5j6j9qMCCx0NEwf1Xj1fA1Xue5kkaAAS6d8D9V7ZtmodNxsuI2vsJ2YPYSAZnLz0NtyXy7Rj805vBdm6gpF+QOqNcCKb7sc2L5pIzGYMG3dVuxNihjqv9VREvByw7K4PJ+41psB3t28BbirhMS2ze/yMQR0cteDiWuvRLY3ta0euqd7ovHLd7SWbEqSJqw0Xax5c/Lza8nM066Qt3gMM+JcfLT91DwNJ7hBDuYd/rr5rq8DhTkkhRP5F8jmu0Ozy6i4AG0Hw3++S02PxD2YOiaTix3w2DMJkQASJ3SZ9eK7XEslrmkcR/C53a7G4bDOzAOa2ixlxILyA1lv7hPQJolcz2Z22812te4uD+66d86eRXqAXA9lOz5D2Yh5aQ45mge9y78Lo4p9c39R9kVVCqqhWrnZkREGJERAREQEREBERAREQFKwRFwdQczfIgjyM+Cio10EHgZ9+qjKbicLq7bathG1GZXacrHwK5Da/ZF7yYxD8v4Sf1AXZCopVCkNVy3GV245XH1yHZ3saykczhJ3zv3rsaLO8s5FlFbi2MmSJUyTFGWVya/aomVrKDgQWlTMdtGmH954jhvPRQGVKTnEsfeZAIv0lVv1efEplMOEEab+CxPw+vvorMHig5xHMj+FMUeVKJTpRFlOpVYBBCwlqt5blM8Vy9QcSdfeq0+1SS/I5jXseWy135TLTbfK29YfNvlRKeypeXl7jJJIgeTTuCdbl8RcscfqVhMPlsAA0WaPqpatAhXLqwx6zTjzy7XYqFVVCrKsyIiDEiIgIiICIiAiIgIiICtKuVpQbjCmQ3mB9FPZZanCvhrZ93U9lbRc18rrnuMTWuXnu29gY04lzmVc1JwtIHd6756LuvijSUcZuTA5qMvVsb1eRPw9Rj306rS8m2ZriCB0bcdZVuE2aaT89Oo4t/C8l0HxXpNXAUm531HNE3kxw4rQnD03HuPadd91nZptjbWLYWFcBckkkmeJOq319+qg0anw/msFJ/qA9pg3vCmTUUyu6ks4lQsRWA4LHisWQARy8ua1Xx7zom0f9Ti4mSpTRYKDQdbjePNbBbcMc/PfikKqIt2AqFVVCgzIiIMSIiAiIgIiICIiAiIgIiIMrHd0j3dZ8JUk66KC48FTD1MpJHvwXPyzV26eLLeOlcdtl2HDnCk+q7cGAuM9BeFxlTbuOxBhuGqH+/uNHCA6BC7mi0anUnepb8t3SQY3LPf7dEunllbD7QLoNIDeAXNIHqdyjVsLjzuYOQI9IXe4/FOvD3E6Ra3ooNAh13ZnEfiP0Ubk/C29xzFDFY9rQ10Fs6OdJEe966HZWKIc3PZ2/cL8ZU9zWTIF1FrtDjYeW7+bqNqpGLcS3KOEe+KhGpGtj/KzPGUQdB4xr+2qgBxe8taZ4nUNHP3uUIbbZ7szhwF/fvctqFC2dTygR/vrzU0Lq4f7XJzfVyIi1ZCoVVUKDMiIgxIiICIiAiIgIiICIiAiKhMa26oBWN+GcZeySWxLfxDl+YcN61eJ7SYcEMY/4zycrWUu+XOOgkW9V0GxsNXa1zq+VrnmWsb9xu4Od9528xYaCdVTOzTXjl7bW4NragBaZBusr8A/SZWLE0/hPdVYO6bvaOO9wH1G+FNp7WYQO8L6XF1z6jp3UR2xDlvrvhQsRsYjQx1UzaG3gybrVVO0Advn9OCi6TLVGbNcLuNvd/oseIw4Z3uXosVTbLSTBtG7W276qE+s+ucoMCbu5a93mo1De0fEYsv7rfE7h/KmYOmGiB/s/qVjOGANrAbr+M8yp1JtlVbWomYUaKUFGpCIWPDbVpVHvptfD2Eh1N3deI4A6jfI3FdPDfNOXml3tPRWq5bMBUKqqFBmREQYkREBEVJUiqIqEqAlJWn2j2kw9GQXl7h91gnzd8o81zON7evNqNIDm8k+gj6ps62u+lRsdtGlRaX1HtYOZv4AXK8qxvaDE1jD6z2j8LDkH/jfzUBlLOQS4nrJN94J57lHZeYft2+0e37G2o0i+fvP7rfBoEn0XLbR29iK7g2rUORwBLG91txIkC5txJWAsDWnOMzbw6PlJ4gfULE9kta6xLYEjeBMT5lRatJJHa/ZZg2vxb3kWp0yWjg57ss9YDvNerOvJXkX2XbUbSxbqb7Cs34bT+dpLmDxBcOsL2EtWOX1pj8RKlPyXKbd2M45nUahYd7YzsP/ABkEeB8CuyKg42hmBjyVK1xrxzauFxTDLntcOIzeohaWpiqzbE+S9S25gwQQW3XFVtmZ3xl098VEy/a9x38Qtm417iAV2+DqZWZjb3uXI0cDkeO7Hh+66WrUmmABwVcrtOtNhhjm/fn1WxoUgFq9lUydbreBqSIoWWXLdtdkBzDiaZLK1IZg5ti5rdQSN4Fwuva31XO9s6mTB1zyDf8AJzR+qvPL4plJr1C7M9sadVjWV3hlUWJNmvjQg6Douta4ESLjiLjzXz4TZdN2Z7U1MIQ1+apROrCbt5snTpoV0TJy5Yfp68qFarZXaLDYi1OoC78Dpa7wB18FtldRlRJREMSIrSgqVB2htahQ/wC7VYw/hJlx6NEn0Wp7XdoRh2ZGH/qPBj8g0zH9F5o4Z3Fx7znGSTqTzUWrY4b9rucf27Fxh6ZPBz7DqGgz5wuW2ht3F1i7NVIb+Fndb5C/mVHFOB7971kAbFtfLoq+rzGRCyu3knqVUMMe/cLY/DAAMbvfDmrX7gBfl09+qlZDo078lcynBF+nPpxWww9HMeFp/eFhfTc0Eawd2vBEJTH2h28wOfBY24JozRMGZFjrEFo5K2hStOnI2Uik+BBQ0072lj7SHAiCNxBkEc9CF7B2I7aNxbW0a5DMSAANwrQPmb+exJb4heYYvD5uoAjnvAP1UDKJ/C4EcQQeI5yBdVym0yvop4WGo6QvMuz/ANoz6QFPFsdVYLCqyM4/uaSA7rY9V3uzNsYfEiaNVjzvaDDx1Ye8PJZ2aaY2Im1oLSCJHAiVzPwg2YYL+C63H07EQtOylcy3xWOU9bY1zGKwxzTli+nDzUzBUDEOC6Ojs8alUrYUBwUdansx4CjAUx5slKlCg7U2nToCaj2tHAm56BXkUtbLDvlcJ9p+2GZW4Zpl+YOfGjQJytPMkzG6FA272+c4FmGaaY0NR0ZyPyj7vW5XD1KhcSSSSSSSbkk6klaY4/ms8sp8ixyyPEEDkrWNuOvoqvdJlXZqsMHgRcEag9V1ewu3FaiQysfi0+fzNHJ2/ofNcm4XlWuU70izb2b/AOaYX8b/APEqi8ryonZHWPc1HxuJbSY97tGgnyUhef8AbnbeZ/8ATsPdaRn5u1jwlaWssZuua2jXdXqvqvMlxmOA0aB0srWUdOfgqBlmkannoQfRZy4NiY0975Cq3WinERPv/avNMm8e/ZVzHjT9hwvPvRZ8tj1v/CIWsaLCBdHtBMHRX0qeYxYbt6q1l9fKPfqgYZ4m45a+XRUzgkEePC2s+SspGHG1r3nqsoYCT58v2QSKcZNR7+qwVaDYkW8efvyVWMkEc7XuenALHVaQ11z01A4IEXjdfzOn0UPGU5+aZGh4aWnf/CtZU1g8N8ATylHu7p8tfK/mgiZyOYHDhzGsHyWN1O+Zhvug3HQi6zVsPmOZhgjn/KiuovF4nmNR1jXxUUbnCdqcbSAaK7nNH3aga8R1cCfVbWj9oFYfPRY/oXM/cLjc794nqE+I78P6KlxlWmVj0Kl9poHzYQ+FWfQsCwYr7SA4gsw0f3P/AEDb+a4P4o/AVY935U6xPaum2n28xVUQ0tpD8gk/5OkjwhcvXrueS57i4ne4kn1VMx4K0gqdRFtWlZGt3lGsV2WynSAb3HoPfmqMZKuCzNbG5NDE6n6furHhSXDksJbKlOk/KiyZUUIe2Lxnbv8A9mt/e76hEV6zw+q0/ld1P0VmI+70P6oihdkofM7qf/VbAfIOn/siIVhwerv7Sr2/f6j/APSIgto6+X0KzU9PfNEQZqfyP8Vh2hp4H6BURBq6evgfqVWn8vh+oVEQWu+cdf3VW/N/xRFFGFm7qPqVjxaIoEQ+/VWlEQUYsiIoSxDVZB93oqorfgG7uizD9lREgHU9SsbflCIiWwREQf/Z"},appearances:[],scopes:[],skills:[]},{id:"3",welcomeMessage:"Hello!",name:"Alan Turing",title:"Software Engineer",selectedAppearance:{format:"readyplayer.me",src:"https://upload.wikimedia.org/wikipedia/commons/a/a1/Alan_Turing_Aged_16.jpg",smallPreviewUrl:"https://upload.wikimedia.org/wikipedia/commons/a/a1/Alan_Turing_Aged_16.jpg"},appearances:[],scopes:[],skills:[]}]},multi:!0};var kn=l(3905);let ar=(()=>{class _{static forRoot({enabled:a=!1,autologin:v=!1}){const k=[];return a&&(k.push(Mn),k.push(Ps)),v&&k.push({provide:c.APP_INITIALIZER,useFactory:$=>()=>(0,kn.z)($.setupDatabase("test","test1234")),deps:[_r.v2],multi:!0}),{ngModule:_,providers:k}}}return _.\u0275fac=function(a){return new(a||_)},_.\u0275mod=c.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=c.\u0275\u0275defineInjector({}),_})();var dr=l(428),vi=l(3900),Ln=l(4004),yn=l(8505);const Ve=new c.InjectionToken("ON_DATABASE_CREATED_GUARD_FAILURE_REDIRECT_TOKEN",{providedIn:"root",factory:()=>"/select-avatar"});let Lt=(()=>{class _{constructor(a,v,k){this.entityManager=a,this.router=v,this.failureRedirectTo=k}canActivate(){return this.entityManager.getRepository("userpreferences","com.central-factory.user-avatars").pipe((0,vi.w)(a=>a.findOne({selector:{id:"userAvatars.selectedAvatar"}})),(0,Ln.U)(a=>!(!a||!a.value)),(0,yn.b)(a=>{a||this.router.navigate([this.failureRedirectTo])}))}}return _.\u0275fac=function(a){return new(a||_)(c.\u0275\u0275inject(_r.v2),c.\u0275\u0275inject(dr.Router),c.\u0275\u0275inject(Ve))},_.\u0275prov=c.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Is=new c.InjectionToken("ON_DATABASE_CREATED_GUARD_FAILURE_REDIRECT_TOKEN",{providedIn:"root",factory:()=>"/login"});let Cr=(()=>{class _{constructor(a,v,k){this.entityManager=a,this.router=v,this.failureRedirectTo=k}canActivate(){const a=this.entityManager.isDatabaseCreated();return a||this.router.navigate([this.failureRedirectTo]),a}}return _.\u0275fac=function(a){return new(a||_)(c.\u0275\u0275inject(_r.v2),c.\u0275\u0275inject(dr.Router),c.\u0275\u0275inject(Is))},_.\u0275prov=c.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const qt=new c.InjectionToken("ON_NOT_DATABASE_CREATED_GUARD_FAILURE_REDIRECT_TOKEN",{providedIn:"root",factory:()=>"/"});let Qi=(()=>{class _{constructor(a,v,k){this.entityManager=a,this.router=v,this.failureRedirectTo=k}canActivate(){const a=this.entityManager.isDatabaseCreated();return a&&this.router.navigate([this.failureRedirectTo]),!a}}return _.\u0275fac=function(a){return new(a||_)(c.\u0275\u0275inject(_r.v2),c.\u0275\u0275inject(dr.Router),c.\u0275\u0275inject(qt))},_.\u0275prov=c.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();var za=l(6961),ot=l(4918),Po=l(7165);O([h({transform:"translate3d(0, 0, 0)"}),T("{{ timing }}s {{ delay }}s",D([h({transform:"translate3d(0, 0, 0)",offset:.2}),h({transform:"translate3d(0, -30px, 0)",offset:.4}),h({transform:"translate3d(0, 0, 0)",offset:.53}),h({transform:"translate3d(0, -15px, 0)",offset:.7}),h({transform:"translate3d(0, -4px, 0)",offset:.9}),h({transform:"translate3d(0, 0, 0)",offset:1})]))],{params:{timing:1,delay:0}}),O(T("{{ timing }}s {{ delay }}s",D([h({opacity:1}),h({opacity:0}),h({opacity:1}),h({opacity:0}),h({opacity:1})])),{params:{timing:1,delay:0}}),O(T("{{ timing }}s {{ delay }}s",D([h({transform:"scale3d(1, 1, 1)"}),h({transform:"scale3d({{ scale }}, {{ scale }}, {{ scale }})"}),h({transform:"scale3d(1, 1, 1)"})])),{params:{scale:1.25,timing:1,delay:0}}),O(T("{{ timing }}s {{ delay }}s",D([h({transform:"scale3d(1, 1, 1)",offset:0}),h({transform:"scale3d(1.25, 0.75, 1)",offset:.3}),h({transform:"scale3d(0.75, 1.25, 1)",offset:.4}),h({transform:"scale3d(1.15, 0.85, 1)",offset:.5}),h({transform:"scale3d(.95, 1.05, 1)",offset:.65}),h({transform:"scale3d(1.05, .95, 1)",offset:.75}),h({transform:"scale3d(1, 1, 1)",offset:1})])),{params:{timing:1,delay:0}}),O(T("{{ timing }}s {{ delay }}s",D([h({transform:"translate3d(0, 0, 0)",offset:0}),h({transform:"translate3d(-10px, 0, 0)",offset:.1}),h({transform:"translate3d(10px, 0, 0)",offset:.2}),h({transform:"translate3d(-10px, 0, 0)",offset:.3}),h({transform:"translate3d(10px, 0, 0)",offset:.4}),h({transform:"translate3d(-10px, 0, 0)",offset:.5}),h({transform:"translate3d(10px, 0, 0)",offset:.6}),h({transform:"translate3d(-10px, 0, 0)",offset:.7}),h({transform:"translate3d(10px, 0, 0)",offset:.8}),h({transform:"translate3d(-10px, 0, 0)",offset:.9}),h({transform:"translate3d(0, 0, 0)",offset:1})])),{params:{timing:1,delay:0}}),O(T("{{ timing }}s {{ delay }}s",D([h({transform:"rotate3d(0, 0, 1, 15deg)",offset:.2}),h({transform:"rotate3d(0, 0, 1, -10deg)",offset:.4}),h({transform:"rotate3d(0, 0, 1, 5deg)",offset:.6}),h({transform:"rotate3d(0, 0, 1, -5deg)",offset:.8}),h({transform:"rotate3d(0, 0, 1, 0deg)",offset:1})])),{params:{timing:1,delay:0}}),O(T("{{ timing }}s {{ delay }}s",D([h({transform:"scale3d(1, 1, 1)",offset:0}),h({transform:"scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg)",offset:.1}),h({transform:"scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg)",offset:.2}),h({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)",offset:.3}),h({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)",offset:.4}),h({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)",offset:.5}),h({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)",offset:.6}),h({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)",offset:.7}),h({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)",offset:.8}),h({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)",offset:.9}),h({transform:"scale3d(1, 1, 1)",offset:1})])),{params:{timing:1,delay:0}}),O(T("{{ timing }}s {{ delay }}s",D([h({transform:"none",offset:0}),h({transform:"translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg)",offset:.15}),h({transform:"translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg)",offset:.3}),h({transform:"translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg)",offset:.45}),h({transform:"translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg)",offset:.6}),h({transform:"translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg)",offset:.75}),h({transform:"none",offset:1})])),{params:{timing:1,delay:0}}),O(T("{{ timing }}s {{ delay }}s",D([h({transform:"none",offset:0}),h({transform:"none",offset:.11}),h({transform:"skewX(-12.5deg) skewY(-12.5deg)",offset:.22}),h({transform:"skewX(6.25deg) skewY(6.25deg)",offset:.33}),h({transform:"skewX(-3.125deg) skewY(-3.125deg)",offset:.44}),h({transform:"skewX(1.5625deg) skewY(1.5625deg)",offset:.55}),h({transform:"skewX(-0.78125deg) skewY(-0.78125deg)",offset:.66}),h({transform:"skewX(0.390625deg) skewY(0.390625deg)",offset:.77}),h({transform:"skewX(-0.1953125deg) skewY(-0.1953125deg)",offset:.88}),h({transform:"none",offset:1})])),{params:{timing:1,delay:0}});const Yi=O(T("{{ timing }}s {{ delay }}s cubic-bezier(0.215, 0.610, 0.355, 1.000)",D([h({opacity:0,transform:"scale3d(.3, .3, .3)",offset:0}),h({transform:"scale3d(1.1, 1.1, 1.1)",offset:.2}),h({transform:"scale3d(.9, .9, .9)",offset:.4}),h({opacity:1,transform:"scale3d(1.03, 1.03, 1.03)",offset:.6}),h({transform:"scale3d(.97, .97, .97)",offset:.8}),h({opacity:1,transform:"scale3d(1, 1, 1)",offset:1})])),{params:{timing:1,delay:0}});function yi(_,s,a,v){return O(T("{{ timing }}s {{ delay }}s cubic-bezier(0.215, 0.610, 0.355, 1.000)",D([h({opacity:0,transform:"translate3d(0, {{ a }}, 0)",offset:0}),h({opacity:1,transform:"translate3d(0, {{ b }}, 0)",offset:.6}),h({transform:"translate3d(0, {{ c }}, 0)",offset:.75}),h({transform:"translate3d(0, {{ d }}, 0)",offset:.9}),h({opacity:1,transform:"none",offset:1})])),{params:{timing:1,delay:0,a:_,b:s,c:a,d:v}})}function Ts(_,s,a,v){return O(T("{{ timing }}s {{ delay }}s cubic-bezier(0.215, 0.610, 0.355, 1.000)",D([h({opacity:0,transform:"translate3d({{ a }}, 0, 0)",offset:0}),h({opacity:1,transform:"translate3d({{ b }}, 0, 0)",offset:.6}),h({transform:"translate3d({{ c }}, 0, 0)",offset:.75}),h({transform:"translate3d({{ d }}, 0, 0)",offset:.9}),h({opacity:1,transform:"none",offset:1})])),{params:{timing:1,delay:0,a:_,b:s,c:a,d:v}})}function Xi(_,s,a,v){return O(T("{{ timing }}s {{ delay }}s",D([h({transform:"translate3d(0, {{ a }}, 0)",offset:.2}),h({opacity:1,transform:"translate3d(0, {{ b }}, 0)",offset:.4}),h({opacity:1,transform:"translate3d(0, {{ c }}, 0)",offset:.45}),h({opacity:0,transform:"translate3d(0, {{ d }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:_,b:s,c:a,d:v}})}function ri(_,s){return O(T("{{ timing }}s {{ delay }}s",D([h({opacity:1,transform:"translate3d({{ a }}, 0, 0)",offset:.2}),h({opacity:0,transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:_,b:s}})}function ni(_,s){return O(T("{{ timing }}s {{ delay }}s",D([h({opacity:0,transform:"translate3d({{ a }}, 0, 0)",offset:0}),h({opacity:1,transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:_,b:s}})}function cn(_,s){return O(T("{{ timing }}s {{ delay }}s",D([h({opacity:0,transform:"translate3d(0, {{ a }}, 0)",offset:0}),h({opacity:1,transform:"translate3d(0, {{ b }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:_,b:s}})}yi("-3000px","25px","-10px","5px"),yi("3000px","-25px","10px","-5px"),Ts("-3000px","25px","-10px","5px"),Ts("3000px","-25px","10px","-5px"),O(T("{{ timing }}s {{ delay }}s",D([h({transform:"scale3d(.9, .9, .9)",offset:.2}),h({opacity:1,transform:"scale3d({{ scale }}, {{ scale }}, {{ scale }})",offset:.5}),h({opacity:1,transform:"scale3d({{ scale }}, {{ scale }}, {{ scale }})",offset:.55}),h({opacity:0,transform:"scale3d(.3, .3, .3)",offset:1})])),{params:{timing:1,delay:0,scale:1.1}}),Xi("10px","-20px","-20px","2000px"),Xi("-10px","20px","20px","-2000px"),ri("20px","-2000px"),ri("-20px","2000px"),ni(0,0),cn("-100%",0);const ko=cn("100%",0);function ii(_,s){return O(T("{{ timing }}s {{ delay }}s",D([h({opacity:1,transform:"translate3d({{ a }}, 0, 0)",offset:0}),h({opacity:0,transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:_,b:s}})}function Bn(_,s){return O(T("{{ timing }}s {{ delay }}s",D([h({opacity:1,transform:"translate3d(0, {{ a }}, 0)",offset:0}),h({opacity:0,transform:"translate3d(0, {{ b }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:_,b:s}})}function g(_,s){return O(T("{{ timing }}s {{ delay }}s",D([h({transform:"translate3d({{ a }}, 0, 0)",offset:0}),h({transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:_,b:s}})}function B(_,s){return O(T("{{ timing }}s {{ delay }}s",D([h({transform:"translate3d(0, {{ a }}, 0)",offset:0}),h({transform:"translate3d(0, {{ b }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:_,b:s}})}function Fn(_,s){return O([h({"backface-visibility":"visible"}),T("{{ timing }}s {{ delay }}s ease-in",D([h({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:0}),h({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.4}),h({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 10deg)",offset:.6}),h({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -5deg)",offset:.8}),h({transform:"perspective(400px) rotate3d(0, 0, 0, 0)",offset:1})]))],{params:{timing:1,delay:0,rotateX:_,rotateY:s}})}function hr(_,s){return O([h({"backface-visibility":"visible"}),T("{{ timing }}s {{ delay }}s",D([h({transform:"perspective(400px)",offset:0}),h({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.3}),h({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:1})]))],{params:{timing:1,delay:0,rotateX:_,rotateY:s}})}function es(_,s){return O(T("{{ timing }}s {{ delay }}s",D([h({"transform-origin":"{{ origin }}",opacity:0,transform:"rotate3d(0, 0, 1, {{ degrees }})",offset:0}),h({"transform-origin":"{{ origin }}",opacity:1,transform:"none",offset:1})])),{params:{timing:1,delay:0,origin:_,degrees:s}})}function Ei(_,s){return O(T("{{ timing }}s {{ delay }}s",D([h({"transform-origin":"{{ origin }}",opacity:1,transform:"none",offset:0}),h({"transform-origin":"{{ origin }}",opacity:0,transform:"rotate3d(0, 0, 1, {{ degrees }})",offset:1})])),{params:{timing:1,delay:0,origin:_,degrees:s}})}function Za(_,s){return O(T("{{ timing }}s {{ delay }}s cubic-bezier(0.550, 0.055, 0.675, 0.190)",D([h({opacity:0,transform:"scale3d(.1, .1, .1) translate3d(0, {{ a }}, 0)",offset:0}),h({opacity:1,transform:"scale3d(.475, .475, .475) translate3d(0, {{ b }}, 0)",offset:.6})])),{params:{timing:1,delay:0,a:_,b:s}})}function Ya(_,s){return O(T("{{ timing }}s {{ delay }}s cubic-bezier(0.550, 0.055, 0.675, 0.190)",D([h({opacity:0,transform:"scale3d(.1, .1, .1) translate3d({{ a }}, 0, 0)",offset:0}),h({opacity:1,transform:"scale3d(.475, .475, .475) translate3d({{ b }}, 0, 0)",offset:.6})])),{params:{timing:1,delay:0,a:_,b:s}})}function Ja(_,s){return O(T("{{ timing }}s {{ delay }}s cubic-bezier(0.550, 0.055, 0.675, 0.190)",D([h({opacity:1,transform:"scale3d(.475, .475, .475) translate3d(0, {{ a }}, 0)",offset:.4}),h({opacity:0,transform:"scale3d(.1, .1, .1) translate3d(0, {{ b }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:_,b:s}})}function Xa(_,s){return O(T("{{ timing }}s {{ delay }}s cubic-bezier(0.550, 0.055, 0.675, 0.190)",D([h({opacity:1,transform:"scale3d(.475, .475, .475) translate3d({{ a }}, 0, 0)",offset:.4}),h({opacity:0,transform:"scale3d(.1, .1, .1) translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:_,b:s}})}ni("-100%",0),ni("100%",0),ii(0,0),Bn("-100%",0),Bn("100%",0),ii("-100%",0),ii("100%",0),B("-100%",0),B("100%",0),g("-100%",0),g("100%",0),B(0,"-100%"),B(0,"100%"),g(0,"-100%"),g(0,"100%"),O([h({"backface-visibility":"visible"}),T("{{ timing }}s {{ delay }}s ease-out",D([h({transform:"perspective(400px) rotate3d(0, 1, 0, -360deg)",offset:0}),h({transform:"perspective(400px) scale3d(1.5, 1.5, 1.5) rotate3d(0, 1, 0, -190deg)",offset:.4}),h({transform:"perspective(400px) scale3d(1.5, 1.5, 1.5) rotate3d(0, 1, 0, -170deg)",offset:.5}),h({transform:"perspective(400px) scale3d(.95, .95, .95)",offset:.8}),h({transform:"perspective(400px)",offset:1})]))],{params:{timing:1,delay:0}}),Fn(1,0),Fn(0,1),hr(1,0),hr(0,1),O(T("{{ timing }}s {{ delay }}s",D([h({opacity:0,transform:"translate3d(100%, 0, 0) skewX(-30deg)",offset:0}),h({opacity:1,transform:"translate3d(0, 0, 0) skewX(0)",offset:1})])),{params:{timing:1,delay:0}}),O(T("{{ timing }}s {{ delay }}s ease-out",D([h({opacity:1,offset:0}),h({opacity:0,transform:"translate3d(100%, 0, 0) skewX(30deg)",offset:1})])),{params:{timing:1,delay:0}}),es("center","-200deg"),es("left bottom","-45deg"),es("right bottom","45deg"),es("left bottom","45deg"),es("right bottom","-90deg"),Ei("center","200deg"),Ei("left bottom","45deg"),Ei("right bottom","-45deg"),Ei("left bottom","-45deg"),Ei("right bottom","90deg"),O([h({"transform-origin":"top left"}),T("{{ timing }}s {{ delay }}s ease-in-out",D([h({transform:"rotate3d(0, 0, 1, 80deg)",offset:.2}),h({transform:"rotate3d(0, 0, 1, 60deg)",offset:.4}),h({transform:"rotate3d(0, 0, 1, 80deg)",offset:.6}),h({opacity:1,transform:"rotate3d(0, 0, 1, 60deg)",offset:.8}),h({opacity:0,transform:"translate3d(0, 700px, 0)",offset:1})]))],{params:{timing:1,delay:0}}),O([T("{{ timing }}s {{ delay }}s",D([h({opacity:0,transform:"scale(0.1) rotate(30deg)","transform-origin":"center bottom",offset:0}),h({opacity:.5,transform:"rotate(-10deg)",offset:.5}),h({opacity:.7,transform:"rotate(3deg)",offset:.7}),h({opacity:1,transform:"scale(1)",offset:1})]))],{params:{timing:1,delay:0}}),O([T("{{ timing }}s {{ delay }}s",D([h({opacity:0,transform:"translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg)",offset:0}),h({opacity:1,transform:"none",offset:1})]))],{params:{timing:1,delay:0}}),O([T("{{ timing }}s {{ delay }}s",D([h({opacity:1,offset:0}),h({opacity:0,transform:"translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg)",offset:1})]))],{params:{timing:1,delay:0}}),O([T("{{ timing }}s {{ delay }}s",D([h({opacity:0,transform:"scale3d(.3, .3, .3)",offset:0}),h({opacity:1,transform:"scale3d(1, 1, 1)",offset:.5})]))],{params:{timing:1,delay:0}}),Za("-1000px","10px"),Za("1000px","-10px"),Ya("-1000px","10px"),Ya("1000px","-10px"),O([T("{{ timing }}s {{ delay }}s",D([h({opacity:1,offset:0}),h({opacity:0,transform:"scale3d(.3, .3, .3)",offset:.5}),h({opacity:0,offset:1})]))],{params:{timing:1,delay:0}}),Ja("-60px","2000px"),Ja("60px","-2000px"),Xa("42px","-2000px"),Xa("-42px","2000px");var rl=l(7579),Mu=l(4128),qa=l(9300),ku=l(1884),js=l(2722),ts=l(1623),eu=l(3454),No=l(7967),nl=l(5183),Bu=l(6111),tu=l(8753),Fu=l(9750);let il=(()=>{class _{constructor(){this.title="CF Portal",this.titleClick=new c.EventEmitter}onTitleClick(){this.titleClick.emit()}}return _.\u0275fac=function(a){return new(a||_)},_.\u0275cmp=c.\u0275\u0275defineComponent({type:_,selectors:[["cf-navbar"]],inputs:{environment:"environment",title:"title"},outputs:{titleClick:"titleClick"},decls:24,vars:10,consts:[["cfBlock","navbar"],["cfBlock","navbar-section","cfMod","left"],["cfElem","title",3,"click"],["cfElem","icon","src","assets/logo.svg",3,"svgClass"],["cfElem","text"],["cfBlock","navbar-section","cfMod","right"],["cfBlock","list","cfMod","horizontal"],["cfElem","item"],["src","assets/icons/mdi/web.svg","cfElem","icon",3,"svgClass"],["cfElem","link",3,"href"],["src","assets/icons/mdi/text-box-search-outline.svg","cfElem","icon",3,"svgClass"],["src","assets/icons/mdi/post-outline.svg","cfElem","icon",3,"svgClass"],["src","assets/icons/mdi/code-tags.svg","cfElem","icon",3,"svgClass"]],template:function(a,v){1&a&&(c.\u0275\u0275elementStart(0,"div",0),c.\u0275\u0275elementStart(1,"div",1),c.\u0275\u0275elementStart(2,"h1",2),c.\u0275\u0275listener("click",function(){return v.onTitleClick()}),c.\u0275\u0275element(3,"cf-svg-icon",3),c.\u0275\u0275elementStart(4,"span",4),c.\u0275\u0275text(5),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(6,"div",5),c.\u0275\u0275elementStart(7,"ul",6),c.\u0275\u0275elementStart(8,"li",7),c.\u0275\u0275element(9,"cf-svg-icon",8),c.\u0275\u0275elementStart(10,"a",9),c.\u0275\u0275text(11,"Website"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(12,"li",7),c.\u0275\u0275element(13,"cf-svg-icon",10),c.\u0275\u0275elementStart(14,"a",9),c.\u0275\u0275text(15,"Documentation"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(16,"li",7),c.\u0275\u0275element(17,"cf-svg-icon",11),c.\u0275\u0275elementStart(18,"a",9),c.\u0275\u0275text(19,"Blog"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(20,"li",7),c.\u0275\u0275element(21,"cf-svg-icon",12),c.\u0275\u0275elementStart(22,"a",9),c.\u0275\u0275text(23," Developers "),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()),2&a&&(c.\u0275\u0275advance(3),c.\u0275\u0275property("svgClass","icon__svg"),c.\u0275\u0275advance(2),c.\u0275\u0275textInterpolate(v.title),c.\u0275\u0275advance(4),c.\u0275\u0275property("svgClass","icon__svg"),c.\u0275\u0275advance(1),c.\u0275\u0275property("href",null==v.environment?null:v.environment.webUrl,c.\u0275\u0275sanitizeUrl),c.\u0275\u0275advance(3),c.\u0275\u0275property("svgClass","icon__svg"),c.\u0275\u0275advance(1),c.\u0275\u0275property("href",null==v.environment?null:v.environment.documentationUrl,c.\u0275\u0275sanitizeUrl),c.\u0275\u0275advance(3),c.\u0275\u0275property("svgClass","icon__svg"),c.\u0275\u0275advance(1),c.\u0275\u0275property("href",null==v.environment?null:v.environment.blogUrl,c.\u0275\u0275sanitizeUrl),c.\u0275\u0275advance(3),c.\u0275\u0275property("svgClass","icon__svg"),c.\u0275\u0275advance(1),c.\u0275\u0275property("href",null==v.environment?null:v.environment.developersUrl,c.\u0275\u0275sanitizeUrl))},directives:[ts.G,No.I,eu.e,Fu.b],encapsulation:2}),_})();const Nu=function(_){return{"button--active":_}};function sl(_,s){if(1&_){const a=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementContainerStart(0),c.\u0275\u0275elementStart(1,"a",18),c.\u0275\u0275listener("click",function(){const $=c.\u0275\u0275restoreView(a).$implicit;return c.\u0275\u0275nextContext(3).onSidebarItemClick($)}),c.\u0275\u0275elementStart(2,"div",9),c.\u0275\u0275elementStart(3,"span",10),c.\u0275\u0275text(4),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(5,"button",19),c.\u0275\u0275element(6,"cf-svg-icon",20),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementContainerEnd()}if(2&_){const a=s.$implicit;c.\u0275\u0275advance(4),c.\u0275\u0275textInterpolate(a.name),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngClass",c.\u0275\u0275pureFunction1(4,Nu,a.active)),c.\u0275\u0275advance(1),c.\u0275\u0275property("src",a.icon)("svgClass","icon__svg")}}const ol=function(_){return{"background-color":_,"margin-top":"15px"}};function ru(_,s){if(1&_){const a=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"div",21),c.\u0275\u0275elementStart(1,"div",21),c.\u0275\u0275elementStart(2,"div",9),c.\u0275\u0275elementStart(3,"span",10),c.\u0275\u0275text(4),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(5,"button",22),c.\u0275\u0275listener("click",function(){const $=c.\u0275\u0275restoreView(a).$implicit;return c.\u0275\u0275nextContext(3).onRecentlyOpenedItemClick($)}),c.\u0275\u0275element(6,"cf-svg-icon",20),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()}if(2&_){const a=s.$implicit;c.\u0275\u0275advance(4),c.\u0275\u0275textInterpolate(a.name),c.\u0275\u0275advance(1),c.\u0275\u0275property("cdkDragData",a.application)("ngClass",c.\u0275\u0275pureFunction1(6,Nu,a.active))("ngStyle",c.\u0275\u0275pureFunction1(8,ol,a.color)),c.\u0275\u0275advance(1),c.\u0275\u0275property("src",a.icon)("svgClass","icon__svg")}}const jo=function(){return["/select-avatar"]},al=function(){return["applications-carousel"]};function Uo(_,s){if(1&_){const a=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"cf-sidebar-container"),c.\u0275\u0275elementStart(1,"cf-sidebar",6),c.\u0275\u0275listener("openedChange",function(k){return c.\u0275\u0275restoreView(a),c.\u0275\u0275nextContext(2).sidebarIsOpen=k}),c.\u0275\u0275elementStart(2,"div",7),c.\u0275\u0275elementStart(3,"a",8),c.\u0275\u0275listener("click",function(){c.\u0275\u0275restoreView(a);const k=c.\u0275\u0275nextContext().ngIf;return c.\u0275\u0275nextContext().onSidebarItemClick({name:"Select Avatar",routerLink:["/select-avatar"],icon:k.selectedAvatar.selectedAppearance.smallPreviewUrl,active:!1})}),c.\u0275\u0275elementStart(4,"div",9),c.\u0275\u0275elementStart(5,"span",10),c.\u0275\u0275text(6,"Account"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(7,"img",11),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(8,sl,7,6,"ng-container",12),c.\u0275\u0275elementStart(9,"div",13),c.\u0275\u0275template(10,ru,7,10,"div",14),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(11,"router-outlet",15),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(12,"div",16),c.\u0275\u0275elementStart(13,"div",17),c.\u0275\u0275element(14,"router-outlet"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()}if(2&_){const a=c.\u0275\u0275nextContext().ngIf,v=c.\u0275\u0275nextContext();c.\u0275\u0275advance(1),c.\u0275\u0275property("opened",v.sidebarIsOpen)("dock",!0)("dockedSize","80px")("showBackdrop",!0)("closeOnClickBackdrop",!0)("closeOnClickOutside",!0),c.\u0275\u0275advance(2),c.\u0275\u0275property("routerLink",c.\u0275\u0275pureFunction0(13,jo)),c.\u0275\u0275advance(4),c.\u0275\u0275property("src",a.selectedAvatar.selectedAppearance.smallPreviewUrl,c.\u0275\u0275sanitizeUrl),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngForOf",v.sidebarItems),c.\u0275\u0275advance(1),c.\u0275\u0275property("cdkDropListData",v.recentlyOpenedSidebarItems)("cdkDropListConnectedTo",c.\u0275\u0275pureFunction0(14,al)),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngForOf",v.recentlyOpenedSidebarItems),c.\u0275\u0275advance(3),c.\u0275\u0275property("@sceneContentAnimationState",v.sceneContentAnimationState)}}function ul(_,s){1&_&&(c.\u0275\u0275elementStart(0,"div",23),c.\u0275\u0275elementStart(1,"div",17),c.\u0275\u0275element(2,"router-outlet"),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd())}function cl(_,s){if(1&_){const a=c.\u0275\u0275getCurrentView();c.\u0275\u0275elementStart(0,"cf-navbar",24),c.\u0275\u0275listener("titleClick",function(){c.\u0275\u0275restoreView(a);const k=c.\u0275\u0275nextContext(2);return k.sidebarIsOpen=!k.sidebarIsOpen}),c.\u0275\u0275elementEnd()}if(2&_){const a=c.\u0275\u0275nextContext(2);c.\u0275\u0275property("title",a.title)}}const ll=function(_){return{"no-navbar":_}};function ju(_,s){if(1&_&&(c.\u0275\u0275elementContainerStart(0),c.\u0275\u0275elementStart(1,"div",1),c.\u0275\u0275elementStart(2,"div",2),c.\u0275\u0275template(3,Uo,15,15,"cf-sidebar-container",3),c.\u0275\u0275template(4,ul,3,0,"ng-template",null,4,c.\u0275\u0275templateRefExtractor),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(6,cl,1,1,"cf-navbar",5),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementContainerEnd()),2&_){const a=s.ngIf,v=c.\u0275\u0275reference(5),k=c.\u0275\u0275nextContext();c.\u0275\u0275advance(2),c.\u0275\u0275property("cfMod",c.\u0275\u0275pureFunction1(4,ll,!k.showNavbar)),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",a.selectedAvatar)("ngIfElse",v),c.\u0275\u0275advance(3),c.\u0275\u0275property("ngIf",k.showNavbar)}}const Uu=function(_){return{selectedAvatar:_}};var Er=(()=>{return(_=Er||(Er={})).Idle="Idle",_.Opened="Opened",_.Animated="Animated",Er;var _})();const zo=[{path:"",component:(()=>{class _{constructor(a,v,k,$,ne,ae){this.router=a,this.entityManager=v,this.selectedAvatarState=k,this.selectedApplicationState=$,this.recentlyOpenedApplicationsState=ne,this.customizationSettingsState=ae,this.title="Metaverse Portal",this.sidebarIsOpen=!1,this.sidebarItems=[],this.recentlyOpenedSidebarItems=[],this.showNavbar=!1,this.sceneContentAnimationState=Er.Idle,this.selectedAvatar$=this.selectedAvatarState.avatar$,this.recentlyOpenedApplications$=this.recentlyOpenedApplicationsState.applications$.pipe((0,Ln.U)(_e=>_e.reverse()),(0,Ln.U)(_e=>this.generateSidebarItems(_e))),this.destroy$=new rl.x}ngOnInit(){this.customizationSettingsState.customizationSettings$.pipe((0,Ln.U)(a=>a?.theme),(0,qa.h)(a=>void 0!==a),(0,ku.x)((a,v)=>a?.path===v?.path),(0,qa.h)((s,a)=>1<=a),(0,yn.b)(a=>{this.sceneContentAnimationState=Er.Idle,setTimeout(()=>this.sceneContentAnimationState=Er.Animated,100)}),(0,js.R)(this.destroy$)).subscribe(),this.recentlyOpenedApplications$.pipe((0,js.R)(this.destroy$),(0,yn.b)(a=>this.recentlyOpenedSidebarItems=a)).subscribe(),this.router.events.pipe((0,qa.h)(a=>a instanceof dr.NavigationEnd),(0,js.R)(this.destroy$)).subscribe(()=>{this.setSidebarItemsActive(this.sidebarItems)}),this.entityManager.initialize$.pipe((0,vi.w)(()=>(0,Mu.D)([this.entityManager.getRepository("userapplications","com.central-factory.portal")])),(0,yn.b)(([a])=>this.subscribeToDataChanges(a))).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onRecentlyOpenedItemClick(a){this.sceneContentAnimationState=Er.Idle,setTimeout(()=>{this.sceneContentAnimationState=Er.Opened,a.application&&(this.selectedApplicationState.selectApplication(a.application),this.selectedApplicationState.openSidebar())},100)}onSidebarItemClick(a){this.sceneContentAnimationState=Er.Idle,setTimeout(()=>{this.sceneContentAnimationState=Er.Opened,a.routerLink&&this.router.navigate(a.routerLink)},100)}subscribeToDataChanges(a){a.find({selector:{"additionalProperties.sidebarShortcuts":{$exists:!0}}}).pipe((0,yn.b)(v=>{this.sidebarItems=this.generateSidebarItems(v)}),(0,js.R)(this.destroy$)).subscribe()}generateSidebarItems(a){const v=a.sort((k,$)=>k.createdAt.localeCompare($.createdAt)).reduce((k,$)=>{const _e=$.shortcuts||[],Qe=($.additionalProperties?.sidebarShortcuts||[]).map(qe=>_e.find(ht=>ht.name===qe)).filter(qe=>!!qe).map(qe=>({name:qe.name,routerLink:[qe.url],icon:qe.icons&&qe.icons.length>0?qe.icons[0].src:"",color:$.additionalProperties?.colors?.find(ht=>"primary"===ht.variation)?.color||(!0===$.additionalProperties?.internal?"var(--color-base-primary-medium)":void 0),active:!1,application:$}));return k.concat(Qe)},[]);return this.setSidebarItemsActive(v),v}setSidebarItemsActive(a){a.forEach(v=>{v.active=this.router.url.startsWith(v.routerLink.join("/"))})}}return _.\u0275fac=function(a){return new(a||_)(c.\u0275\u0275directiveInject(dr.Router),c.\u0275\u0275directiveInject(_r.v2),c.\u0275\u0275directiveInject(Po.Y),c.\u0275\u0275directiveInject(ot.H),c.\u0275\u0275directiveInject(za.r),c.\u0275\u0275directiveInject(Ds.T))},_.\u0275cmp=c.\u0275\u0275defineComponent({type:_,selectors:[["cf-portal-layout"]],decls:2,vars:5,consts:[[4,"ngIf"],["cfBlock","scene"],["cfElem","body",3,"cfMod"],[4,"ngIf","ngIfElse"],["notSelectedAvatarLayout",""],["cfElem","navbar",3,"title","titleClick",4,"ngIf"],[3,"opened","dock","dockedSize","showBackdrop","closeOnClickBackdrop","closeOnClickOutside","openedChange"],[2,"margin-top","20px"],["cfBlock","sidebar-item",1,"d-block",3,"routerLink","click"],["cfElem","text"],["cfElem","text-content"],["cfElem","image",3,"src"],[4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListSortingDisabled","",3,"cdkDropListData","cdkDropListConnectedTo"],["class","d-block","cfBlock","sidebar-item",4,"ngFor","ngForOf"],["name","sidebar"],["cf-sidebar-content",""],[1,"scene__content"],["cfBlock","sidebar-item",1,"d-block",3,"click"],["cfBlock","button","cfMod","fab",2,"margin-top","15px",3,"ngClass"],["cfElem","icon",3,"src","svgClass"],["cfBlock","sidebar-item",1,"d-block"],["cdkDrag","","cfBlock","button","cfMod","fab",3,"cdkDragData","ngClass","ngStyle","click"],[1,"scene__container"],["cfElem","navbar",3,"title","titleClick"]],template:function(a,v){1&a&&(c.\u0275\u0275template(0,ju,7,6,"ng-container",0),c.\u0275\u0275pipe(1,"async")),2&a&&c.\u0275\u0275property("ngIf",c.\u0275\u0275pureFunction1(3,Uu,c.\u0275\u0275pipeBind1(1,1,v.selectedAvatar$)))},directives:[jr.NgIf,ts.G,eu.e,No.I,nl.L,Bu.k,dr.RouterLinkWithHref,jr.NgForOf,tu.Wj,dr.RouterOutlet,jr.NgClass,Fu.b,tu.Zt,jr.NgStyle,il],pipes:[jr.AsyncPipe],encapsulation:2,data:{animation:[U("sceneContentAnimationState",[L(`${Er.Idle} => ${Er.Animated}`,y(Yi)),L(`${Er.Idle} => ${Er.Opened}`,y(ko,{params:{timing:.5}}))])]}}),_})(),children:[{path:"login",loadChildren:()=>l.e(12).then(l.bind(l,12)).then(_=>_.LoginModule),canActivate:[Qi]},{path:"select-avatar",loadChildren:()=>l.e(700).then(l.bind(l,8700)).then(_=>_.SelectAvatarModule),canActivate:[Cr]},{path:"create-avatar",loadChildren:()=>l.e(4).then(l.bind(l,2004)).then(_=>_.CreateAvatarModule),canActivate:[Cr]},{path:"selected-avatar",loadChildren:()=>l.e(276).then(l.bind(l,5276)).then(_=>_.SelectedAvatarModule),canActivate:[Cr,Lt]},{path:"play",loadChildren:()=>l.e(491).then(l.bind(l,6491)).then(_=>_.PlayModule),canActivate:[Cr,Lt]},{path:"manage-applications",loadChildren:()=>l.e(835).then(l.bind(l,9835)).then(_=>_.ManageApplicationsModule),canActivate:[Cr,Lt]},{path:"inventory",loadChildren:()=>l.e(740).then(l.bind(l,2740)).then(_=>_.InventoryModule),canActivate:[Cr,Lt]},{path:"marketplace",loadChildren:()=>l.e(189).then(l.bind(l,5189)).then(_=>_.MarketplaceModule),canActivate:[Cr,Lt]},{path:"settings",loadChildren:()=>l.e(672).then(l.bind(l,6672)).then(_=>_.SettingsModule),canActivate:[Cr,Lt]},{path:"",redirectTo:"play",pathMatch:"full"}]}];let fl=(()=>{class _{}return _.\u0275fac=function(a){return new(a||_)},_.\u0275mod=c.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=c.\u0275\u0275defineInjector({imports:[[dr.RouterModule.forRoot(zo)],dr.RouterModule]}),_})();var zu=l(5861);let dl=(()=>{class _{}return _.\u0275fac=function(a){return new(a||_)},_.\u0275cmp=c.\u0275\u0275defineComponent({type:_,selectors:[["cf-spinner"]],decls:2,vars:0,consts:[["cfBlock","spinner","cfMod","3x"]],template:function(a,v){1&a&&(c.\u0275\u0275elementStart(0,"div",0),c.\u0275\u0275element(1,"div"),c.\u0275\u0275elementEnd())},directives:[ts.G,No.I],styles:["[_nghost-%COMP%]{display:contents}"]}),_})();function iu(_,s){1&_&&(c.\u0275\u0275elementStart(0,"div",8),c.\u0275\u0275element(1,"cf-spinner"),c.\u0275\u0275elementEnd())}function hl(_,s){if(1&_&&(c.\u0275\u0275elementStart(0,"p",9),c.\u0275\u0275text(1),c.\u0275\u0275elementEnd()),2&_){const a=c.\u0275\u0275nextContext();c.\u0275\u0275advance(1),c.\u0275\u0275textInterpolate1(" ",a.loadingText," ")}}var ln=(()=>{return(_=ln||(ln={})).Visible="visible",_.Hidden="hidden",ln;var _})(),qr=(()=>{return(_=qr||(qr={})).Visible="visible",_.Hidden="hidden",qr;var _})();let pl=(()=>{class _{constructor(){this.title="Portal",this.logo="assets/logo.svg",this.spinnerType="cog",this.loadingTexts=["Setting up the rockets...","Calling the crew..","Jumping to the cyber space..."],this.welcomeMessage="Welcome to the Metaverse",this.state=ln.Visible,this.logoState=qr.Hidden,this.selectedLoadingTextIndex=void 0}ngOnInit(){this.displaySplashScreen()}displaySplashScreen(){var a=this;return(0,zu.Z)(function*(){a.displayLoadingText(),yield a.wait(5e3),a.logoState=qr.Visible,a.selectedLoadingTextIndex=void 0,a.loadingText=a.welcomeMessage,yield a.wait(3e3),a.state=ln.Hidden})()}displayLoadingText(){var a=this;return(0,zu.Z)(function*(){if(a.logoState===qr.Visible)return a.selectedLoadingTextIndex=void 0,void(a.loadingText=a.welcomeMessage);const k=(void 0===a.selectedLoadingTextIndex?-1:a.selectedLoadingTextIndex)+1;if(k>=a.loadingTexts.length)return a.selectedLoadingTextIndex=void 0,yield a.wait(1e3),void a.displayLoadingText();a.selectedLoadingTextIndex=k,a.loadingText=a.loadingTexts[k],yield a.wait(1e3),a.displayLoadingText()})()}wait(a){return new Promise(v=>setTimeout(v,a))}}return _.\u0275fac=function(a){return new(a||_)},_.\u0275cmp=c.\u0275\u0275defineComponent({type:_,selectors:[["cf-splash-screen"]],inputs:{title:"title",logo:"logo",spinnerType:"spinnerType",loadingTexts:"loadingTexts",welcomeMessage:"welcomeMessage"},decls:9,vars:6,consts:[["cfBlock","splash-screen"],["cfElem","content"],["cfElem","title"],["cfElem","spinner"],["cfElem","logo"],["cfElem","logo-image","alt","logo",3,"src"],["cfElem","spinner-content",4,"ngIf"],["cfElem","loading-text",4,"ngIf"],["cfElem","spinner-content"],["cfElem","loading-text"]],template:function(a,v){1&a&&(c.\u0275\u0275elementStart(0,"div",0),c.\u0275\u0275elementStart(1,"div",1),c.\u0275\u0275elementStart(2,"h1",2),c.\u0275\u0275text(3),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementStart(4,"div",3),c.\u0275\u0275elementStart(5,"div",4),c.\u0275\u0275element(6,"img",5),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(7,iu,2,0,"div",6),c.\u0275\u0275elementEnd(),c.\u0275\u0275template(8,hl,2,1,"p",7),c.\u0275\u0275elementEnd(),c.\u0275\u0275elementEnd()),2&a&&(c.\u0275\u0275property("@splashState",v.state),c.\u0275\u0275advance(3),c.\u0275\u0275textInterpolate(v.title),c.\u0275\u0275advance(2),c.\u0275\u0275property("@logoState",v.logoState),c.\u0275\u0275advance(1),c.\u0275\u0275property("src",v.logo,c.\u0275\u0275sanitizeUrl),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf","visible"!==v.logoState),c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",v.loadingText))},directives:[ts.G,eu.e,jr.NgIf,dl],encapsulation:2,data:{animation:[U("splashState",[R(ln.Visible,h({opacity:1,display:"block"})),R(ln.Hidden,h({opacity:0,display:"none"})),L(`${ln.Hidden} => ${ln.Visible}`,[h({opacity:0}),T("1s",h({opacity:1}))]),L(`${ln.Visible} => ${ln.Hidden}`,[T("1s",h({opacity:0}))])]),U("logoState",[R(qr.Visible,h({opacity:1,display:"flex"})),R(qr.Hidden,h({opacity:0,display:"none"})),L(`${qr.Hidden} => ${qr.Visible}`,[h({display:"flex",opacity:0}),T("1s",h({opacity:1}))]),L(`${qr.Visible} => ${qr.Hidden}`,[T("1s",h({opacity:0}))])])]}}),_})();function ml(_,s){1&_&&c.\u0275\u0275element(0,"cf-splash-screen")}let vl=(()=>{class _{constructor(){this.environment=Hi}}return _.\u0275fac=function(a){return new(a||_)},_.\u0275cmp=c.\u0275\u0275defineComponent({type:_,selectors:[["cf-portal-root"]],decls:4,vars:1,consts:[["id","bgcanvas"],[4,"ngIf"],[1,"application"]],template:function(a,v){1&a&&(c.\u0275\u0275element(0,"canvas",0),c.\u0275\u0275template(1,ml,1,0,"cf-splash-screen",1),c.\u0275\u0275elementStart(2,"div",2),c.\u0275\u0275element(3,"router-outlet"),c.\u0275\u0275elementEnd()),2&a&&(c.\u0275\u0275advance(1),c.\u0275\u0275property("ngIf",v.environment.showSplashScreen))},directives:[jr.NgIf,dr.RouterOutlet,pl],styles:["#bgcanvas[_ngcontent-%COMP%]{display:block;margin:0 auto;width:100vw;height:100vh;position:fixed;z-index:-1}"]}),_})(),gl=(()=>{class _{}return _.\u0275fac=function(a){return new(a||_)},_.\u0275mod=c.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=c.\u0275\u0275defineInjector({imports:[[gn.Y,qn.O]]}),_})();var yl=l(5687);let _l=(()=>{class _{}return _.\u0275fac=function(a){return new(a||_)},_.\u0275mod=c.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=c.\u0275\u0275defineInjector({imports:[[jr.CommonModule,gn.Y,qn.O,tu._t,dr.RouterModule,gl,yl.l]]}),_})(),Wo=(()=>{class _{constructor(a){this.customizationSettingsState=a,this.renderProcessRunning=!1,this.initialize()}initialize(){this.themeChangeSubscription&&this.themeChangeSubscription.unsubscribe(),this.themeChangeSubscription=this.customizationSettingsState.customizationSettings$.pipe((0,Ln.U)(a=>a?.theme.name),(0,ku.x)((a,v)=>a===v),(0,yn.b)(a=>this.onThemeChange(a))).subscribe()}onThemeChange(a){const v=document.getElementsByClassName("application")[0];if(!v||!a)return void setTimeout(()=>this.initialize(),1e3);if(this.currentTheme===a)return;this.currentTheme=a;const k=new ResizeObserver($=>{for(const ne of $)if(ne.contentBoxSize){const ae=document.getElementById("bgcanvas"),_e=Array.isArray(ne.contentBoxSize)?ne.contentBoxSize[0]:ne.contentBoxSize;ae.width=_e.inlineSize,ae.height=window.innerHeight;const Le=this.initializeMatrix();this.renderTick(()=>this.renderMatrix(Le))}});"Matrix"===a?(v.classList.add("application--no-background-color"),k.observe(document.documentElement)):(k.unobserve(document.documentElement),clearTimeout(this.renderTimeout),delete this.renderTimeout,this.renderProcessRunning=!1,v.classList.remove("application--no-background-color"))}initializeMatrix(){const k=document.getElementById("bgcanvas"),$=k.getContext("2d"),ne=[],ae=Math.ceil(k.height/20);for(let _e=0;_e<k.width/20;++_e)ne.push({x:20*_e,stackHeight:10+Math.random()*ae,stackCounter:0});return{tileSize:20,fadeFactor:.05,canvas:k,ctx:$,maxStackHeight:ae,columns:ne}}renderTick(a,v=50){this.renderProcessRunning?console.warn("render process already running"):(this.renderProcessRunning=!0,a(),this.renderTimeout=window.setTimeout(()=>{this.renderProcessRunning=!1,this.renderTick(a,v)},v))}renderMatrix({ctx:a,fadeFactor:v,canvas:k,tileSize:$,maxStackHeight:ne,columns:ae}){a.fillStyle="rgba( 0 , 0 , 0 , "+v+" )",a.fillRect(0,0,k.width,k.height),a.font=$-2+"px monospace",a.fillStyle="#22b455";for(let _e=0;_e<ae.length;++_e){const Le=String.fromCharCode(33+Math.floor(94*Math.random()));a.fillText(Le,ae[_e].x,ae[_e].stackCounter*$+$),++ae[_e].stackCounter>=ae[_e].stackHeight&&(ae[_e].stackHeight=10+Math.random()*ne,ae[_e].stackCounter=0)}}}return _.\u0275fac=function(a){return new(a||_)(c.\u0275\u0275inject(Ds.T))},_.\u0275prov=c.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),su=(()=>{class _{}return _.\u0275fac=function(a){return new(a||_)},_.\u0275mod=c.\u0275\u0275defineNgModule({type:_,bootstrap:[vl]}),_.\u0275inj=c.\u0275\u0275defineInjector({providers:[{provide:c.APP_INITIALIZER,useFactory:()=>()=>null,deps:[Ds.T,Wo],multi:!0},So,Ma,Ua,Cs,Na,Co,Ao,Ki,Wt],imports:[[b.b2,Jn,I.HttpClientModule,gn.Y.forRoot(),_l,Do,fl,ar.forRoot({enabled:Hi.useMocks,autologin:Hi.autologin})]]}),_})();Hi.production&&(0,c.enableProdMode)(),b.q6().bootstrapModule(su).catch(_=>console.error(_))},4995:(oe,N,l)=>{l.d(N,{B:()=>b,c:()=>c});var b=(()=>{return(I=b||(b={})).Webview="webview",I.WebpackModuleFederation="webpack-module-federation",I.Unknown="unknown",b;var I})(),c=(()=>{return(I=c||(c={})).Primary="primary",I.Secondary="secondary",I.Success="success",I.Warning="warning",I.Danger="danger",I.Info="info",I.Light="light",I.Dark="dark",c;var I})()},3266:(oe,N,l)=>{l.d(N,{o:()=>h,O:()=>R});var b=l(9841),c=l(4004),I=l(1375),x=l(1135),F=l(3900),M=l(4128),U=l(8505),T=l(7777);let P=(()=>{class D{constructor(O){this.entityManager=O,this.applications$=new x.X([]),this.entityManager.initialize$.pipe((0,F.w)(()=>(0,M.D)([this.entityManager.getRepository("storeapplications","com.central-factory.player")])),(0,U.b)(([w])=>{this.storeApplicationsRepository=w,this.subscribeToDataChanges()})).subscribe()}subscribeToDataChanges(){if(!this.storeApplicationsRepository)throw new Error("Repositories not initialized");this.storeApplicationsRepository.observe().pipe((0,U.b)(O=>this.applications$.next(O))).subscribe()}}return D.\u0275fac=function(O){return new(O||D)(T.\u0275\u0275inject(I.v2))},D.\u0275prov=T.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();var E=l(3395),h=(()=>{return(D=h||(h={}))[D.User=0]="User",D[D.Store=1]="Store",h;var D})();let R=(()=>{class D{constructor(O,w){this.storeApplicationsState=O,this.userApplicationsState=w,this.applications$=(0,b.a)([this.storeApplicationsState.applications$,this.userApplicationsState.applications$]).pipe((0,c.U)(([y,u])=>[...u.map(o=>({origin:h.User,application:o})),...y.map(o=>({origin:h.Store,application:o}))].filter((o,m,p)=>p.findIndex(q=>o.application.id===q.application.id)===m)))}}return D.\u0275fac=function(O){return new(O||D)(T.\u0275\u0275inject(P),T.\u0275\u0275inject(E.g))},D.\u0275prov=T.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac,providedIn:"root"}),D})()},6961:(oe,N,l)=>{l.d(N,{r:()=>x});var b=l(1135),c=l(7777);let x=(()=>{class F{constructor(){this.applications$=new b.X([]),this.maxApplications=10}addApplication(U){const T=this.applications$.getValue();T.find(E=>E.id===U.id)||(T.length>=this.maxApplications&&T.shift(),T.unshift(U),this.applications$.next(T))}}return F.\u0275fac=function(U){return new(U||F)},F.\u0275prov=c.\u0275\u0275defineInjectable({token:F,factory:F.\u0275fac,providedIn:"root"}),F})()},4918:(oe,N,l)=>{l.d(N,{H:()=>U});var b=l(3266),c=l(1135),I=l(4004),x=l(8505),F=l(7777);let U=(()=>{class T{constructor(E){this.availableApplicationsState=E,this.application$=new c.X(void 0),this.sidebarIsOpen$=new c.X(!1)}listenForChanges(E){this.changesSubscription&&this.changesSubscription.unsubscribe(),E?this.changesSubscription=this.availableApplicationsState.applications$.pipe((0,I.U)(h=>h.find(R=>R.application.id===E)),(0,x.b)(h=>this.application$.next(h?.application))).subscribe():this.application$.next(void 0)}selectApplication(E){this.listenForChanges(E.id)}unselectApplication(){this.listenForChanges(void 0)}openSidebar(){this.sidebarIsOpen$.next(!0)}closeSidebar(){this.sidebarIsOpen$.next(!1)}}return T.\u0275fac=function(E){return new(E||T)(F.\u0275\u0275inject(b.O))},T.\u0275prov=F.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},3395:(oe,N,l)=>{l.d(N,{g:()=>T});var b=l(1375),c=l(1135),I=l(3900),x=l(4128),F=l(8505),M=l(7777);let T=(()=>{class P{constructor(h){this.entityManager=h,this.applications$=new c.X([]),this.entityManager.initialize$.pipe((0,I.w)(()=>(0,x.D)([this.entityManager.getRepository("userapplications","com.central-factory.player")])),(0,F.b)(([R])=>{this.userApplicationsRepository=R,this.subscribeToDataChanges()})).subscribe()}addApplication(h){if(!this.userApplicationsRepository)throw new Error("Repositories not initialized");return this.userApplicationsRepository.upsert(h)}subscribeToDataChanges(){if(!this.userApplicationsRepository)throw new Error("Repositories not initialized");this.userApplicationsRepository.observe().pipe((0,F.b)(h=>this.applications$.next(h))).subscribe()}}return P.\u0275fac=function(h){return new(h||P)(M.\u0275\u0275inject(b.v2))},P.\u0275prov=M.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},7165:(oe,N,l)=>{l.d(N,{Y:()=>E});var b=l(1375),c=l(1135),I=l(3900),x=l(4128),F=l(8505),M=l(2843),U=l(9646),T=l(7777);let E=(()=>{class h{constructor(D){this.entityManager=D,this.avatar$=new c.X(void 0),this.entityManager.initialize$.pipe((0,I.w)(()=>(0,x.D)([this.entityManager.getRepository("userpreferences","com.central-factory.user-avatars"),this.entityManager.getRepository("useravatars","com.central-factory.user-avatars")])),(0,F.b)(([L,O])=>{this.userPreferencesRepository=L,this.userAvatarsRepository=O,this.subscribeToDataChanges()})).subscribe()}selectAvatar(D){return this.userPreferencesRepository?this.userPreferencesRepository.upsert({id:"userAvatars.selectedAvatar",key:"userAvatars.selectedAvatar",value:D.id}):(0,M._)(()=>new Error("Repositories not initialized"))}subscribeToDataChanges(){if(!this.userAvatarsRepository||!this.userPreferencesRepository)throw new Error("Repositories not initialized");this.userPreferencesRepository.observeOne({selector:{id:"userAvatars.selectedAvatar"}}).pipe((0,I.w)(D=>D&&this.userAvatarsRepository?this.userAvatarsRepository.findOne({selector:{id:D.value}}):(0,U.of)(void 0)),(0,F.b)(D=>this.avatar$.next(D))).subscribe()}}return h.\u0275fac=function(D){return new(D||h)(T.\u0275\u0275inject(b.v2))},h.\u0275prov=T.\u0275\u0275defineInjectable({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},899:(oe,N,l)=>{l.d(N,{k:()=>b,R:()=>c});var b=(()=>((b||(b={})).Collection="collection",b))(),c=(()=>{return(I=c||(c={})).Read="read",I.Write="write",I.Delete="delete",c;var I})()},1375:(oe,N,l)=>{l.d(N,{RY:()=>Bf,To:()=>Ff,v2:()=>Dv});var b={};l.r(b),l.d(b,{default:()=>_o});var E,h,c=l(7777),I=l(1611),x=l.n(I);function F(e){return"$"+e}function M(e){return e.substring(1)}function U(){this._store={}}function T(e){if(this._store=new U,e&&Array.isArray(e))for(var t=0,r=e.length;t<r;t++)this.add(e[t])}U.prototype.get=function(e){var t=F(e);return this._store[t]},U.prototype.set=function(e,t){var r=F(e);return this._store[r]=t,!0},U.prototype.has=function(e){return F(e)in this._store},U.prototype.delete=function(e){var t=F(e),r=t in this._store;return delete this._store[t],r},U.prototype.forEach=function(e){for(var t=Object.keys(this._store),r=0,n=t.length;r<n;r++){var i=t[r];e(this._store[i],i=M(i))}},Object.defineProperty(U.prototype,"size",{get:function(){return Object.keys(this._store).length}}),T.prototype.add=function(e){return this._store.set(e,!0)},T.prototype.has=function(e){return this._store.has(e)},T.prototype.forEach=function(e){this._store.forEach(function(t,r){e(r)})},Object.defineProperty(T.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(E=Set,h=Map):(E=T,h=U);var R=l(3894),D=l.n(R),L=l(2302),O=l.n(L);function w(e,t,r){Error.call(this,r),this.status=e,this.name=t,this.message=r,this.error=!0}D()(w,Error),w.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new w(401,"unauthorized","Name or password is incorrect.");var u=new w(400,"bad_request","Missing JSON list of 'docs'"),o=new w(404,"not_found","missing"),m=new w(409,"conflict","Document update conflict"),p=new w(400,"bad_request","_id field must contain a string"),q=new w(412,"missing_id","_id is required for puts"),de=new w(400,"bad_request","Only reserved document ids may start with underscore."),ye=(new w(412,"precondition_failed","Database not open"),new w(500,"unknown_error","Database encountered an unknown error")),pe=new w(500,"badarg","Some query argument is invalid"),z=(new w(400,"invalid_request","Request was invalid"),new w(400,"query_parse_error","Some query parameter is invalid")),Y=new w(500,"doc_validation","Bad special document member"),H=new w(400,"bad_request","Something wrong with the request"),J=new w(400,"bad_request","Document must be a JSON object"),ie=(new w(404,"not_found","Database not found"),new w(500,"indexed_db_went_bad","unknown")),ge=(new w(500,"web_sql_went_bad","unknown"),new w(500,"levelDB_went_went_bad","unknown"),new w(403,"forbidden","Forbidden by design doc validate_doc_update function"),new w(400,"bad_request","Invalid rev format")),ue=(new w(412,"file_exists","The database could not be created, the file already exists."),new w(412,"missing_stub","A pre-existing attachment stub wasn't found"));function je(e,t){function r(n){for(var i=Object.getOwnPropertyNames(e),f=0,d=i.length;f<d;f++)"function"!=typeof e[i[f]]&&(this[i[f]]=e[i[f]]);void 0!==n&&(this.reason=n)}return r.prototype=w.prototype,new r(t)}function Xe(e){if("object"!=typeof e){var t=e;(e=ye).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}new w(413,"invalid_url","Provided URL is invalid");var ut=l(9069),tt=l.n(ut);const wr=l(3306).v4;var cr=function(e){return atob(e)},sr=function(e){return btoa(e)};function mr(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(f){if("TypeError"!==f.name)throw f;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}function er(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),i=0;i<t;i++)n[i]=e.charCodeAt(i);return r}function on(e,t){return mr([er(e)],{type:t})}function Ne(e,t){return on(cr(e),t)}function Pt(e,t){var r=new FileReader,n="function"==typeof r.readAsBinaryString;r.onloadend=function(i){var f=i.target.result||"";if(n)return t(f);t(function(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,i=0;i<n;i++)t+=String.fromCharCode(r[i]);return t}(f))},n?r.readAsBinaryString(e):r.readAsArrayBuffer(e)}function Qt(e,t){Pt(e,function(r){t(r)})}var Lr=l(3625),zn=l.n(Lr),Br=self.setImmediate||self.setTimeout;function Oi(e,t,r,n,i){(r>0||n<t.size)&&(t=function(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.slice(t,r)}(t,r,n)),function(e,t){var r=new FileReader;r.onloadend=function(n){var i=n.target.result||new ArrayBuffer(0);t(i)},r.readAsArrayBuffer(e)}(t,function(f){e.append(f),i()})}function cs(e,t,r,n,i){(r>0||n<t.length)&&(t=t.substring(r,n)),e.appendBinary(t),i()}function pn(e,t){var r="string"==typeof e,n=r?e.length:e.size,i=Math.min(32768,n),f=Math.ceil(n/i),d=0,S=r?new(zn()):new(zn().ArrayBuffer),j=r?cs:Oi;function W(){Br(re)}function X(){var Se=function(e){return sr(e)}(S.end(!0));t(Se),S.destroy()}function re(){var fe=d*i;d++,j(S,e,fe,fe+i,d<f?W:X)}re()}function Dn(e){return zn().hash(e)}var ve,$n,Ii=Function.prototype.toString,Ti=Ii.call(Object);function lr(e){var t,r,n;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=lr(e[r]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return function(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),n=new Uint8Array(e);return r.set(n),t}(e);var t=e.size,r=e.type;return"function"==typeof e.slice?e.slice(0,t,r):e.webkitSlice(0,t,r)}(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&Ii.call(r)==Ti}(e))return e;for(r in t={},e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=lr(e[r]);void 0!==i&&(t[r]=i)}return t}function Wn(e){var t=!1;return x()(function(r){if(t)throw new Error("once called more than once");t=!0,e.apply(this,r)})}function mn(e){return x()(function(t){t=lr(t);var r=this,n="function"==typeof t[t.length-1]&&t.pop(),i=new Promise(function(f,d){var S;try{var j=Wn(function(W,X){W?d(W):f(X)});t.push(j),(S=e.apply(r,t))&&"function"==typeof S.then&&f(S)}catch(W){d(W)}});return n&&i.then(function(f){n(null,f)},n),i})}function nr(e,t){return mn(x()(function(r){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var n=this;return function(e,t,r){if(e.constructor.listeners("debug").length){for(var n=["api",e.name,t],i=0;i<r.length-1;i++)n.push(r[i]);e.constructor.emit("debug",n);var f=r[r.length-1];r[r.length-1]=function(d,S){var j=["api",e.name,t];j=j.concat(d?["error",d]:["success",S]),e.constructor.emit("debug",j),f(d,S)}}}(n,e,r),this.taskqueue.isReady?t.apply(this,r):new Promise(function(i,f){n.taskqueue.addTask(function(d){d?f(d):i(n[e].apply(n,r))})})}))}function Gr(e,t){for(var r={},n=0,i=t.length;n<i;n++){var f=t[n];f in e&&(r[f]=e[f])}return r}function Kn(e){return e}function fs(e){return[{ok:e}]}function De(e,t,r){var n=t.docs,i=new h;n.forEach(function(ee){i.has(ee.id)?i.get(ee.id).push(ee):i.set(ee.id,[ee])});var f=i.size,d=0,S=new Array(f);var re=[];i.forEach(function(ee,le){re.push(le)});var fe=0;!function Se(){if(!(fe>=re.length)){var ee=Math.min(fe+6,re.length),le=re.slice(fe,ee);(function(ee,le){ee.forEach(function(we,Oe){var be=le+Oe,ke=i.get(we),xe=Gr(ke[0],["atts_since","attachments"]);xe.open_revs=ke.map(function(We){return We.rev}),xe.open_revs=xe.open_revs.filter(Kn);var Ge=Kn;0===xe.open_revs.length&&(delete xe.open_revs,Ge=fs),["revs","attachments","binary","ajax","latest"].forEach(function(We){We in t&&(xe[We]=t[We])}),e.get(we,xe,function(We,Ke){var Et;Et=We?[{error:We}]:Ge(Ke),function(ee,le,we){S[ee]={id:le,docs:we},function(){var ee;++d===f&&(ee=[],S.forEach(function(le){le.docs.forEach(function(we){ee.push({id:le.id,docs:[we]})})}),r(null,{results:ee}))}()}(be,we,Et),Se()})})})(le,fe),fe+=le.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),ve=!!localStorage.getItem("_pouch_check_localstorage")}catch{ve=!1}function se(){return ve}function ze(){var e;tt().call(this),this._listeners={},e=this,se()&&addEventListener("storage",function(t){e.emit(t.key)})}function it(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}D()(ze,tt()),ze.prototype.addListener=function(e,t,r,n){if(!this._listeners[t]){var i=this,f=!1;this._listeners[t]=d,this.on(e,d)}function d(){if(i._listeners[t])if(f)f="waiting";else{f=!0;var S=Gr(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);r.changes(S).on("change",function(W){W.seq>n.since&&!n.cancelled&&(n.since=W.seq,n.onChange(W))}).on("complete",function(){"waiting"===f&&O()(d),f=!1}).on("error",function(){f=!1})}}},ze.prototype.removeListener=function(e,t){t in this._listeners&&(tt().prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},ze.prototype.notifyLocalWindows=function(e){se()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},ze.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)},$n="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};var Tr=$n;function ui(e){for(var t=[],r=0,n=e.length;r<n;r++)t=t.concat(e[r]);return t}function Qs(e){var t;if(e?"string"!=typeof e?t=je(p):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=je(de)):t=je(q),t)throw t}function gr(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(it("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function Hn(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function Ri(e){var t=Hn(e);return t?t.join("/"):null}function xi(e,t){var r=[],n=[];for(var i in t)t.hasOwnProperty(i)&&(r.push(i),n.push(t[i]));return r.push(e),Function.apply(null,r).apply(null,n)}function li(e,t,r){return new Promise(function(n,i){e.get(t,function(f,d){if(f){if(404!==f.status)return i(f);d={}}var S=d._rev,j=r(d);if(!j)return n({updated:!1,rev:S});j._id=t,j._rev=S,n(function(e,t,r){return e.put(t).then(function(n){return{updated:!0,rev:n.rev}},function(n){if(409!==n.status)throw n;return li(e,t._id,r)})}(e,j,r))})})}function Js(e,t){var r=lr(e);return t?(delete r._rev_tree,Dn(JSON.stringify(r))):wr().replace(/-/g,"").toLowerCase()}var Mi=wr;function vn(e){for(var t,r,n,f,i=e.rev_tree.slice();f=i.pop();){var d=f.ids,S=d[2],j=f.pos;if(S.length)for(var W=0,X=S.length;W<X;W++)i.push({pos:j+1,ids:S[W]});else{var re=!!d[1].deleted,fe=d[0];(!t||(n!==re?n:r!==j?r<j:t<fe))&&(t=fe,r=j,n=re)}}return r+"-"+t}function an(e,t){for(var n,r=e.slice();n=r.pop();)for(var i=n.pos,f=n.ids,d=f[2],S=t(0===d.length,i,f[0],n.ctx,f[1]),j=0,W=d.length;j<W;j++)r.push({pos:i+1,ids:d[j],ctx:S})}function Xs(e,t){return e.pos-t.pos}function ps(e){var t=[];an(e,function(i,f,d,S,j){i&&t.push({rev:f+"-"+d,pos:f,opts:j})}),t.sort(Xs).reverse();for(var r=0,n=t.length;r<n;r++)delete t[r].pos;return t}function ms(e){for(var t=vn(e),r=ps(e.rev_tree),n=[],i=0,f=r.length;i<f;i++){var d=r[i];d.rev!==t&&!d.opts.deleted&&n.push(d.rev)}return n}function qs(e){for(var n,t=[],r=e.slice();n=r.pop();){var i=n.pos,f=n.ids,d=f[0],S=f[1],j=f[2],W=0===j.length,X=n.history?n.history.slice():[];X.push({id:d,opts:S}),W&&t.push({pos:i+1-X.length,ids:X});for(var re=0,fe=j.length;re<fe;re++)r.push({pos:i+1,ids:j[re],history:X})}return t.reverse()}function fa(e,t){return e.pos-t.pos}function da(e,t,r){var n=function(e,t,r){for(var f,n=0,i=e.length;n<i;)r(e[f=n+i>>>1],t)<0?n=f+1:i=f;return n}(e,t,r);e.splice(n,0,t)}function to(e,t){for(var r,n,i=t,f=e.length;i<f;i++){var d=e[i],S=[d.id,d.opts,[]];n?(n[2].push(S),n=S):r=n=S}return r}function ro(e,t){return e[0]<t[0]?-1:1}function no(e,t){for(var r=[{tree1:e,tree2:t}],n=!1;r.length>0;){var i=r.pop(),f=i.tree1,d=i.tree2;(f[1].status||d[1].status)&&(f[1].status="available"===f[1].status||"available"===d[1].status?"available":"missing");for(var S=0;S<d[2].length;S++)if(f[2][0]){for(var j=!1,W=0;W<f[2].length;W++)f[2][W][0]===d[2][S][0]&&(r.push({tree1:f[2][W],tree2:d[2][S]}),j=!0);j||(n="new_branch",da(f[2],d[2][S],ro))}else n="new_leaf",f[2][0]=d[2][S]}return{conflicts:n,tree:e}}function ki(e,t,r){var d,n=[],i=!1,f=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var S=0,j=e.length;S<j;S++){var W=e[S];if(W.pos===t.pos&&W.ids[0]===t.ids[0])d=no(W.ids,t.ids),n.push({pos:W.pos,ids:d.tree}),i=i||d.conflicts,f=!0;else if(!0!==r){var X=W.pos<t.pos?W:t,re=W.pos<t.pos?t:W,Se=[],he=[];for(he.push({ids:X.ids,diff:re.pos-X.pos,parent:null,parentIdx:null});he.length>0;){var ee=he.pop();if(0!==ee.diff)for(var le=ee.ids[2],we=0,Oe=le.length;we<Oe;we++)he.push({ids:le[we],diff:ee.diff-1,parent:ee.ids,parentIdx:we});else ee.ids[0]===re.ids[0]&&Se.push(ee)}var be=Se[0];be?(d=no(be.ids,re.ids),be.parent[2][be.parentIdx]=d.tree,n.push({pos:X.pos,ids:X.ids}),i=i||d.conflicts,f=!0):n.push(W)}else n.push(W)}return f||n.push(t),n.sort(fa),{tree:n,conflicts:i||"internal_node"}}function io(e,t,r){var n=ki(e,t),i=function(e,t){for(var n,i,r=qs(e),f=0,d=r.length;f<d;f++){var W,S=r[f],j=S.ids;if(j.length>t){n||(n={});var X=j.length-t;W={pos:S.pos+X,ids:to(j,X)};for(var re=0;re<X;re++)n[S.pos+re+"-"+j[re].id]=!0}else W={pos:S.pos,ids:to(j,0)};i=i?ki(i,W,!0).tree:[W]}return n&&an(i,function(Se,he,ee){delete n[he+"-"+ee]}),{tree:i,revs:n?Object.keys(n):[]}}(n.tree,r);return{tree:i.tree,stemmedRevs:i.revs,conflicts:n.conflicts}}function ma(e){return e.ids}function Qr(e,t){t||(t=vn(e));for(var i,r=t.substring(t.indexOf("-")+1),n=e.rev_tree.map(ma);i=n.pop();){if(i[0]===r)return!!i[1].deleted;n=n.concat(i[2])}}function On(e){return/^_local/.test(e)}function Gn(e){return e.reduce(function(t,r){return t[r]=!0,t},{})}var vs=Gn(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),va=Gn(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function oo(e){if(!/^\d+-/.test(e))return je(ge);var t=e.indexOf("-"),r=e.substring(0,t),n=e.substring(t+1);return{prefix:parseInt(r,10),id:n}}function ao(e,t,r){r||(r={deterministic_revs:!0});var n,i,f,d={status:"available"};if(e._deleted&&(d.deleted=!0),t)if(e._id||(e._id=Mi()),i=Js(e,r.deterministic_revs),e._rev){if((f=oo(e._rev)).error)return f;e._rev_tree=[{pos:f.prefix,ids:[f.id,{status:"missing"},[[i,d,[]]]]}],n=f.prefix+1}else e._rev_tree=[{pos:1,ids:[i,d,[]]}],n=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var r=e.start-e.ids.length+1,n=e.ids,i=[n[0],t,[]],f=1,d=n.length;f<d;f++)i=[n[f],{status:"missing"},[i]];return[{pos:r,ids:i}]}(e._revisions,d),n=e._revisions.start,i=e._revisions.ids[0]),!e._rev_tree){if((f=oo(e._rev)).error)return f;e._rev_tree=[{pos:n=f.prefix,ids:[i=f.id,d,[]]}]}Qs(e._id),e._rev=n+"-"+i;var S={metadata:{},data:{}};for(var j in e)if(Object.prototype.hasOwnProperty.call(e,j)){var W="_"===j[0];if(W&&!vs[j]){var X=je(Y,j);throw X.message=Y.message+": "+j,X}W&&!va[j]?S.metadata[j.slice(1)]=e[j]:S.data[j]=e[j]}return S}function uo(e,t,r){if(e.stub)return r();"string"==typeof e.data?function(e,t,r){var n=function(e){try{return cr(e)}catch{return{error:je(pe,"Attachment is not a valid base64 string")}}}(e.data);if(n.error)return r(n.error);e.length=n.length,e.data="blob"===t?on(n,e.content_type):"base64"===t?sr(n):n,pn(n,function(i){e.digest="md5-"+i,r()})}(e,t,r):function(e,t,r){pn(e.data,function(n){e.digest="md5-"+n,e.length=e.data.size||e.data.length||0,"binary"===t?Qt(e.data,function(i){e.data=i,r()}):"base64"===t?function(e,t){Qt(e,function(r){t(sr(r))})}(e.data,function(i){e.data=i,r()}):r()})}(e,t,r)}function Qn(e,t,r,n,i,f,d,S,j){e=e||1e3;var X=S.new_edits,re=new h,fe=0,Se=t.length;function he(){++fe===Se&&j&&j()}t.forEach(function(ee,le){if(ee._id&&On(ee._id))r[ee._deleted?"_removeLocal":"_putLocal"](ee,{ctx:i},function(be,ke){f[le]=be||ke,he()});else{var Oe=ee.metadata.id;re.has(Oe)?(Se--,re.get(Oe).push([ee,le])):re.set(Oe,[[ee,le]])}}),re.forEach(function(ee,le){var we=0;function Oe(){++we<ee.length?be():he()}function be(){var ke=ee[we],xe=ke[0],Ge=ke[1];if(n.has(le))!function(e,t,r,n,i,f,d,S){if(function(e,t){for(var d,r=e.slice(),n=t.split("-"),i=parseInt(n[0],10),f=n[1];d=r.pop();){if(d.pos===i&&d.ids[0]===f)return!0;for(var S=d.ids[2],j=0,W=S.length;j<W;j++)r.push({pos:d.pos+1,ids:S[j]})}return!1}(t.rev_tree,r.metadata.rev)&&!S)return n[i]=r,f();var j=t.winningRev||vn(t),W="deleted"in t?t.deleted:Qr(t,j),X="deleted"in r.metadata?r.metadata.deleted:Qr(r.metadata),re=/^1-/.test(r.metadata.rev);if(W&&!X&&S&&re){var fe=r.data;fe._rev=j,fe._id=r.metadata.id,r=ao(fe,S)}var Se=io(t.rev_tree,r.metadata.rev_tree[0],e);if(S&&(W&&X&&"new_leaf"!==Se.conflicts||!W&&"new_leaf"!==Se.conflicts||W&&!X&&"new_branch"===Se.conflicts)){var ee=je(m);return n[i]=ee,f()}var le=r.metadata.rev;r.metadata.rev_tree=Se.tree,r.stemmedRevs=Se.stemmedRevs||[],t.rev_map&&(r.metadata.rev_map=t.rev_map);var we=vn(r.metadata),Oe=Qr(r.metadata,we),be=W===Oe?0:W<Oe?-1:1;d(r,we,Oe,le===we?Oe:Qr(r.metadata,le),!0,be,i,f)}(e,n.get(le),xe,f,Ge,Oe,d,X);else{var We=io([],xe.metadata.rev_tree[0],e);xe.metadata.rev_tree=We.tree,xe.stemmedRevs=We.stemmedRevs||[],function(ee,le,we){var Oe=vn(ee.metadata),be=Qr(ee.metadata,Oe);if("was_delete"in S&&be)return f[le]=je(o,"deleted"),we();var ke=X&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(ee);if(ke){var xe=je(m);return f[le]=xe,we()}d(ee,Oe,be,be,!1,be?0:1,le,we)}(xe,Ge,Oe)}}be()})}var fo=l(2899);function ho(e){try{return JSON.stringify(e)}catch{return fo.stringify(e)}}var Xt="document-store",tr="by-sequence",Rr="attach-store",Pn="attach-seq-store",or="meta-store",Zr="local-store",ys="detect-blob-support";function Hr(e){return function(t){var r="unknown_error";t.target&&t.target.error&&(r=t.target.error.name||t.target.error.message),e(je(ie,r))}}function Bi(e,t,r){return{data:ho(e),winningRev:t,deletedOrLocal:r?"1":"0",seq:e.seq,id:e.id}}function In(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch{return fo.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function Fi(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function _s(e,t,r,n){r?n(e?"string"!=typeof e?e:Ne(e,t):mr([""],{type:t})):e?"string"!=typeof e?Pt(e,function(i){n(sr(i))}):n(e):n("")}function po(e,t,r,n){var i=Object.keys(e._attachments||{});if(!i.length)return n&&n();var f=0;function d(){++f===i.length&&n&&n()}i.forEach(function(j){t.attachments&&t.include_docs?function(j,W){var X=j._attachments[W],re=X.digest;r.objectStore(Rr).get(re).onsuccess=function(Se){X.body=Se.target.result.body,d()}}(e,j):(e._attachments[j].stub=!0,d())})}function Ni(e,t){return Promise.all(e.map(function(r){if(r.doc&&r.doc._attachments){var n=Object.keys(r.doc._attachments);return Promise.all(n.map(function(i){var f=r.doc._attachments[i];if("body"in f){var d=f.body,S=f.content_type;return new Promise(function(j){_s(d,S,t,function(W){r.doc._attachments[i]=Tr(Gr(f,["digest","content_type"]),{data:W}),j()})})}}))}}))}function bs(e,t,r){var n=[],i=r.objectStore(tr),f=r.objectStore(Rr),d=r.objectStore(Pn),S=e.length;function j(){--S||!n.length||n.forEach(function(X){d.index("digestSeq").count(IDBKeyRange.bound(X+"::",X+"::\uffff",!1,!1)).onsuccess=function(fe){fe.target.result||f.delete(X)}})}e.forEach(function(X){i.index("_doc_id_rev").getKey(t+"::"+X).onsuccess=function(Se){var he=Se.target.result;if("number"!=typeof he)return j();i.delete(he),d.index("seq").openCursor(IDBKeyRange.only(he)).onsuccess=function(le){var we=le.target.result;if(we){var Oe=we.value.digestSeq.split("::")[0];n.push(Oe),d.delete(we.primaryKey),we.continue()}else j()}}})}function yr(e,t,r){try{return{txn:e.transaction(t,r)}}catch(n){return{error:n}}}var Zn=new ze;function ji(e,t,r,n,i,f){for(var S,j,W,X,re,fe,Se,he,d=t.docs,ee=0,le=d.length;ee<le;ee++){var we=d[ee];we._id&&On(we._id)||(we=d[ee]=ao(we,r.new_edits,e)).error&&!Se&&(Se=we)}if(Se)return f(Se);var Oe=!1,be=0,ke=new Array(d.length),xe=new h,Ge=!1;function Et(){Oe=!0,Dt()}function Dt(){!he||!Oe||(he.docCount+=be,fe.put(he))}function Ft(){Ge||(Zn.notify(n._meta.name),f(null,ke))}function Ut($e,et,st,vt,at,gt,pt,Ye){$e.metadata.winningRev=et,$e.metadata.deleted=st;var mt=$e.data;if(mt._id=$e.metadata.id,mt._rev=$e.metadata.rev,vt&&(mt._deleted=!0),mt._attachments&&Object.keys(mt._attachments).length)return function($e,et,st,vt,at,gt){var Ye=0,mt=Object.keys($e.data._attachments);function Ct(){Ye===mt.length&&Ie($e,et,st,vt,at,gt)}function Ht(){Ye++,Ct()}mt.forEach(function(Vt){var zt=$e.data._attachments[Vt];if(zt.stub)Ye++,Ct();else{var Kt=zt.data;delete zt.data,zt.revpos=parseInt(et,10),function($e,et,st){X.count($e).onsuccess=function(at){if(at.target.result)return st();X.put({digest:$e,body:et}).onsuccess=st}}(zt.digest,Kt,Ht)}})}($e,et,st,at,pt,Ye);be+=gt,Dt(),Ie($e,et,st,at,pt,Ye)}function Ie($e,et,st,vt,at,gt){var pt=$e.data,Ye=$e.metadata;function mt(zt){var Kt=$e.stemmedRevs||[];vt&&n.auto_compaction&&(Kt=Kt.concat(function(e){var t=[];return an(e.rev_tree,function(r,n,i,f,d){"available"===d.status&&!r&&(t.push(n+"-"+i),d.status="missing")}),t}($e.metadata))),Kt&&Kt.length&&bs(Kt,$e.metadata.id,S),Ye.seq=zt.target.result;var ir=Bi(Ye,et,st);j.put(ir).onsuccess=Ht}function Ht(){ke[at]={ok:!0,id:Ye.id,rev:Ye.rev},xe.set($e.metadata.id,$e.metadata),function($e,et,st){var vt=0,at=Object.keys($e.data._attachments||{});if(!at.length)return st();function gt(){++vt===at.length&&st()}function pt(mt){var Ht=re.put({seq:et,digestSeq:$e.data._attachments[mt].digest+"::"+et});Ht.onsuccess=gt,Ht.onerror=function(Vt){Vt.preventDefault(),Vt.stopPropagation(),gt()}}for(var Ye=0;Ye<at.length;Ye++)pt(at[Ye])}($e,Ye.seq,gt)}pt._doc_id_rev=Ye.id+"::"+Ye.rev,delete pt._id,delete pt._rev;var Vt=W.put(pt);Vt.onsuccess=mt,Vt.onerror=function(zt){zt.preventDefault(),zt.stopPropagation(),W.index("_doc_id_rev").getKey(pt._doc_id_rev).onsuccess=function(dn){W.put(pt,dn.target.result).onsuccess=mt}}}!function(e,t,r){if(!e.length)return r();var i,n=0;function f(){n++,e.length===n&&(i?r(i):r())}e.forEach(function(d){var S=d.data&&d.data._attachments?Object.keys(d.data._attachments):[],j=0;if(!S.length)return f();function W(re){i=re,++j===S.length&&f()}for(var X in d.data._attachments)d.data._attachments.hasOwnProperty(X)&&uo(d.data._attachments[X],t,W)})}(d,n._meta.blobSupport?"blob":"base64",function($e){if($e)return f($e);!function(){var et=yr(i,[Xt,tr,Rr,Zr,Pn,or],"readwrite");if(et.error)return f(et.error);(S=et.txn).onabort=Hr(f),S.ontimeout=Hr(f),S.oncomplete=Ft,j=S.objectStore(Xt),W=S.objectStore(tr),X=S.objectStore(Rr),re=S.objectStore(Pn),(fe=S.objectStore(or)).get(or).onsuccess=function(st){he=st.target.result,Dt()},function($e){var et=[];if(d.forEach(function(gt){gt.data&&gt.data._attachments&&Object.keys(gt.data._attachments).forEach(function(pt){var Ye=gt.data._attachments[pt];Ye.stub&&et.push(Ye.digest)})}),!et.length)return $e();var vt,st=0;et.forEach(function(gt){!function($e,et){X.get($e).onsuccess=function(vt){if(vt.target.result)et();else{var at=je(ue,"unknown stub attachment with digest "+$e);at.status=412,et(at)}}}(gt,function(pt){pt&&!vt&&(vt=pt),++st===et.length&&$e(vt)})})}(function(st){if(st)return Ge=!0,f(st);!function(){if(d.length)for(var $e=0,vt=0,at=d.length;vt<at;vt++){var gt=d[vt];gt._id&&On(gt._id)?et():j.get(gt.metadata.id).onsuccess=st}function et(){++$e===d.length&&Qn(e.revs_limit,d,n,xe,S,ke,Ut,r,Et)}function st(Ye){var mt=In(Ye.target.result);mt&&xe.set(mt.id,mt),et()}}()})}()})}function Yn(e,t,r,n,i){var d,S,j;function W(Se){S=Se.target.result,d&&i(d,S,j)}function X(Se){d=Se.target.result,S&&i(d,S,j)}function fe(Se){var he=Se.target.result;if(!he)return i();i([he.key],[he.value],he)}-1===n&&(n=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&n>1&&!r?(j={continue:function(){if(!d.length)return i();var he,Se=d[d.length-1];if(t&&t.upper)try{he=IDBKeyRange.bound(Se,t.upper,!0,t.upperOpen)}catch(ee){if("DataError"===ee.name&&0===ee.code)return i()}else he=IDBKeyRange.lowerBound(Se,!0);d=null,S=null,e.getAll(t=he,n).onsuccess=W,e.getAllKeys(t,n).onsuccess=X}},e.getAll(t,n).onsuccess=W,e.getAllKeys(t,n).onsuccess=X):r?e.openCursor(t,"prev").onsuccess=fe:e.openCursor(t).onsuccess=fe}var Ui=!1,zi=[];function vo(){Ui||!zi.length||(Ui=!0,zi.shift()())}function go(e,t,r,n){if((e=lr(e)).continuous){var i=r+":"+Mi();return Zn.addListener(r,i,t,e),Zn.notify(r),{cancel:function(){Zn.removeListener(r,i)}}}var f=e.doc_ids&&new E(e.doc_ids);e.since=e.since||0;var d=e.since,S="limit"in e?e.limit:-1;0===S&&(S=1);var fe,Se,he,ee,j=[],W=0,X=function(e){var t={},r=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(i){i.doc||(i.doc={});var f=r&&function(e,t,r){try{return!e(t,r)}catch(i){var n="Filter function threw: "+i.toString();return je(H,n)}}(e.filter,i.doc,t);if("object"==typeof f)return f;if(f)return!1;if(e.include_docs){if(!e.attachments)for(var d in i.doc._attachments)i.doc._attachments.hasOwnProperty(d)&&(i.doc._attachments[d].stub=!0)}else delete i.doc;return!0}}(e),re=new h;function we(Ke,Et,ft,Dt){return ft.seq!==Et?Dt():ft.winningRev===Ke._rev?Dt(ft,Ke):void(ee.get(Ke._id+"::"+ft.winningRev).onsuccess=function(wt){Dt(ft,Fi(wt.target.result))})}function be(){e.complete(null,{results:j,last_seq:d})}var xe=[Xt,tr];e.attachments&&xe.push(Rr);var Ge=yr(n,xe,"readonly");if(Ge.error)return e.complete(Ge.error);(fe=Ge.txn).onabort=Hr(e.complete),fe.oncomplete=function(){!e.continuous&&e.attachments?Ni(j).then(be):be()},Se=fe.objectStore(tr),he=fe.objectStore(Xt),ee=Se.index("_doc_id_rev"),Yn(Se,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,S,function(Ke,Et,ft){if(ft&&Ke.length){var Dt=new Array(Ke.length),jt=new Array(Ke.length),Rt=0;Et.forEach(function(Ut,Ie){!function(Ke,Et,ft){if(f&&!f.has(Ke._id))return ft();var Dt=re.get(Ke._id);if(Dt)return we(Ke,Et,Dt,ft);he.get(Ke._id).onsuccess=function(jt){Dt=In(jt.target.result),re.set(Ke._id,Dt),we(Ke,Et,Dt,ft)}}(Fi(Ut),Ke[Ie],function(Je,$e){jt[Ie]=Je,Dt[Ie]=$e,++Rt===Ke.length&&function(){for(var Ut=[],Ie=0,Me=Dt.length;Ie<Me&&W!==S;Ie++){var Ue=Dt[Ie];Ue&&Ut.push(Ft(jt[Ie],Ue))}Promise.all(Ut).then(function($e){for(var et=0,st=$e.length;et<st;et++)$e[et]&&e.onChange($e[et])}).catch(e.complete),W!==S&&ft.continue()}()})})}function Ft(Ut,Ie){var Me=e.processChange(Ie,Ut,e);d=Me.seq=Ut.seq;var Ue=X(Me);return"object"==typeof Ue?Promise.reject(Ue):Ue?(W++,e.return_docs&&j.push(Me),e.attachments&&e.include_docs?new Promise(function(Je){po(Ie,e,fe,function(){Ni([Me],e.binary).then(function(){Je(Me)})})}):Promise.resolve(Me)):Promise.resolve()}})}var Wi,fi=new h,ws=new h;function yo(e,t){var r=this;!function(e,t,r){zi.push(function(){e(function(f,d){(function(e,t,r,n){try{e(t,r)}catch(i){n.emit("error",i)}})(t,f,d,r),Ui=!1,O()(function(){vo()})})}),vo()}(function(n){!function(e,t,r){var n=t.name,i=null;function d(he,ee){var le=he.objectStore(Xt);le.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),le.openCursor().onsuccess=function(we){var Oe=we.target.result;if(Oe){var be=Oe.value,ke=Qr(be);be.deletedOrLocal=ke?"1":"0",le.put(be),Oe.continue()}else ee()}}function j(he,ee){var le=he.objectStore(Zr),we=he.objectStore(Xt),Oe=he.objectStore(tr);we.openCursor().onsuccess=function(ke){var xe=ke.target.result;if(xe){var Ge=xe.value,We=Ge.id,Ke=On(We),Et=vn(Ge);if(Ke){var ft=We+"::"+Et,Dt=We+"::",jt=We+"::~",Ft=Oe.index("_doc_id_rev"),wt=IDBKeyRange.bound(Dt,jt,!1,!1),Rt=Ft.openCursor(wt);Rt.onsuccess=function(Ut){if(Rt=Ut.target.result){var Ie=Rt.value;Ie._doc_id_rev===ft&&le.put(Ie),Oe.delete(Rt.primaryKey),Rt.continue()}else we.delete(xe.primaryKey),xe.continue()}}else xe.continue()}else ee&&ee()}}function X(he,ee){var le=he.objectStore(tr),we=he.objectStore(Rr),Oe=he.objectStore(Pn);we.count().onsuccess=function(ke){if(!ke.target.result)return ee();le.openCursor().onsuccess=function(Ge){var We=Ge.target.result;if(!We)return ee();for(var Ke=We.value,Et=We.primaryKey,ft=Object.keys(Ke._attachments||{}),Dt={},jt=0;jt<ft.length;jt++)Dt[Ke._attachments[ft[jt]].digest]=!0;var wt=Object.keys(Dt);for(jt=0;jt<wt.length;jt++)Oe.put({seq:Et,digestSeq:wt[jt]+"::"+Et});We.continue()}}}function re(he){var le=he.objectStore(tr),we=he.objectStore(Xt);we.openCursor().onsuccess=function(be){var Ke,Et,ft,Dt,ke=be.target.result;if(ke){var xe=function(be){return be.data?In(be):(be.deleted="1"===be.deletedOrLocal,be)}(ke.value);if(xe.winningRev=xe.winningRev||vn(xe),xe.seq)return We();Ke=xe.id+"::",Et=xe.id+"::\uffff",ft=le.index("_doc_id_rev").openCursor(IDBKeyRange.bound(Ke,Et)),Dt=0,ft.onsuccess=function(jt){var Ft=jt.target.result;if(!Ft)return xe.seq=Dt,We();var wt=Ft.primaryKey;wt>Dt&&(Dt=wt),Ft.continue()}}function We(){var Ke=Bi(xe,xe.winningRev,xe.deleted);we.put(Ke).onsuccess=function(){ke.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=mn(function(he){he(null,e._meta.instanceId)}),e._bulkDocs=function(ee,le,we){ji(t,ee,le,e,i,we)},e._get=function(ee,le,we){var Oe,be,ke,xe=le.ctx;if(!xe){var Ge=yr(i,[Xt,tr,Rr],"readonly");if(Ge.error)return we(Ge.error);xe=Ge.txn}function We(){we(ke,{doc:Oe,metadata:be,ctx:xe})}xe.objectStore(Xt).get(ee).onsuccess=function(Ke){if(!(be=In(Ke.target.result)))return ke=je(o,"missing"),We();var Et;if(le.rev)Et=le.latest?function(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var i=n.pos,f=n.ids,d=f[0],S=f[1],j=f[2],W=0===j.length,X=n.history?n.history.slice():[];if(X.push({id:d,pos:i,opts:S}),W)for(var re=0,fe=X.length;re<fe;re++){var Se=X[re];if(Se.pos+"-"+Se.id===e)return i+"-"+d}for(var ee=0,le=j.length;ee<le;ee++)r.push({pos:i+1,ids:j[ee],history:X})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(le.rev,be):le.rev;else if(Et=be.winningRev,Qr(be))return ke=je(o,"deleted"),We();var Dt=xe.objectStore(tr),jt=be.id+"::"+Et;Dt.index("_doc_id_rev").get(jt).onsuccess=function(Ft){if((Oe=Ft.target.result)&&(Oe=Fi(Oe)),!Oe)return ke=je(o,"missing"),We();We()}}},e._getAttachment=function(he,ee,le,we,Oe){var be;if(we.ctx)be=we.ctx;else{var ke=yr(i,[Xt,tr,Rr],"readonly");if(ke.error)return Oe(ke.error);be=ke.txn}var xe=le.digest,Ge=le.content_type;be.objectStore(Rr).get(xe).onsuccess=function(We){_s(We.target.result.body,Ge,we.binary,function(Et){Oe(null,Et)})}},e._info=function(ee){var le,we,Oe=yr(i,[or,tr],"readonly");if(Oe.error)return ee(Oe.error);var be=Oe.txn;be.objectStore(or).get(or).onsuccess=function(ke){we=ke.target.result.docCount},be.objectStore(tr).openCursor(null,"prev").onsuccess=function(ke){var xe=ke.target.result;le=xe?xe.key:0},be.oncomplete=function(){ee(null,{doc_count:we,update_seq:le,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(ee,le){!function(e,t,r){var X,re,d="keys"in e&&e.keys,S=e.skip||0,j="number"==typeof e.limit?e.limit:-1;if(!d&&(X=function(e,t,r,n,i){try{if(e&&t)return i?IDBKeyRange.bound(t,e,!r,!1):IDBKeyRange.bound(e,t,!1,!r);if(e)return i?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return i?IDBKeyRange.lowerBound(t,!r):IDBKeyRange.upperBound(t,!r);if(n)return IDBKeyRange.only(n)}catch(f){return{error:f}}return null}("startkey"in e&&e.startkey,"endkey"in e&&e.endkey,!1!==e.inclusive_end,"key"in e&&e.key,e.descending),(re=X&&X.error)&&("DataError"!==re.name||0!==re.code)))return r(je(ie,re.name));var fe=[Xt,tr,or];e.attachments&&fe.push(Rr);var Se=yr(t,fe,"readonly");if(Se.error)return r(Se.error);var he=Se.txn;he.oncomplete=function(){e.attachments?Ni(be,e.binary).then(jt):jt()},he.onabort=Hr(r);var ke,xe,Rt,ee=he.objectStore(Xt),le=he.objectStore(tr),we=he.objectStore(or),Oe=le.index("_doc_id_rev"),be=[];function Ke(wt,Rt){var Ut={id:Rt.id,key:Rt.id,value:{rev:wt}};Rt.deleted?d&&(be.push(Ut),Ut.value.deleted=!0,Ut.doc=null):S--<=0&&(be.push(Ut),e.include_docs&&function(wt,Rt,Ut){Oe.get(wt.id+"::"+Ut).onsuccess=function(Ue){if(Rt.doc=Fi(Ue.target.result)||{},e.conflicts){var Je=ms(wt);Je.length&&(Rt.doc._conflicts=Je)}po(Rt.doc,e,he)}}(Rt,Ut,wt))}function Et(wt){for(var Rt=0,Ut=wt.length;Rt<Ut&&be.length!==j;Rt++){var Ie=wt[Rt];if(Ie.error&&d)be.push(Ie);else{var Me=In(Ie);Ke(Me.winningRev,Me)}}}function ft(wt,Rt,Ut){!Ut||(Et(Rt),be.length<j&&Ut.continue())}function jt(){var wt={total_rows:ke,offset:e.skip,rows:be};e.update_seq&&void 0!==xe&&(wt.update_seq=xe),r(null,wt)}if(we.get(or).onsuccess=function(wt){ke=wt.target.result.docCount},e.update_seq&&(Rt=function(wt){wt.target.result&&wt.target.result.length>0&&(xe=wt.target.result[0])},le.openCursor(null,"prev").onsuccess=function(Ie){var Me=Ie.target.result,Ue=void 0;return Me&&Me.key&&(Ue=Me.key),Rt({target:{result:[Ue]}})}),!re&&0!==j){if(d)return function(e,t,r){var n=new Array(e.length),i=0;e.forEach(function(f,d){t.get(f).onsuccess=function(S){n[d]=S.target.result?S.target.result:{key:f,error:"not_found"},++i===e.length&&r(e,n,{})}})}(e.keys,ee,ft);if(-1===j)return function(e,t,r){if("function"!=typeof e.getAll){var n=[];e.openCursor(t).onsuccess=function(f){var d=f.target.result;d?(n.push(d.value),d.continue()):r({target:{result:n}})}}else e.getAll(t).onsuccess=r}(ee,X,function(wt){var Rt=wt.target.result;e.descending&&(Rt=Rt.reverse()),Et(Rt)});Yn(ee,X,e.descending,j+S,ft)}}(ee,i,le)},e._changes=function(ee){return go(ee,e,n,i)},e._close=function(he){i.close(),fi.delete(n),he()},e._getRevisionTree=function(he,ee){var le=yr(i,[Xt],"readonly");if(le.error)return ee(le.error);le.txn.objectStore(Xt).get(he).onsuccess=function(be){var ke=In(be.target.result);ke?ee(null,ke.rev_tree):ee(je(o))}},e._doCompaction=function(he,ee,le){var Oe=yr(i,[Xt,tr,Rr,Pn],"readwrite");if(Oe.error)return le(Oe.error);var be=Oe.txn;be.objectStore(Xt).get(he).onsuccess=function(xe){var Ge=In(xe.target.result);an(Ge.rev_tree,function(Et,ft,Dt,jt,Ft){-1!==ee.indexOf(ft+"-"+Dt)&&(Ft.status="missing")}),bs(ee,he,be);var We=Ge.winningRev,Ke=Ge.deleted;be.objectStore(Xt).put(Bi(Ge,We,Ke))},be.onabort=Hr(le),be.oncomplete=function(){le()}},e._getLocal=function(he,ee){var le=yr(i,[Zr],"readonly");if(le.error)return ee(le.error);var Oe=le.txn.objectStore(Zr).get(he);Oe.onerror=Hr(ee),Oe.onsuccess=function(be){var ke=be.target.result;ke?(delete ke._doc_id_rev,ee(null,ke)):ee(je(o))}},e._putLocal=function(he,ee,le){"function"==typeof ee&&(le=ee,ee={}),delete he._revisions;var we=he._rev,Oe=he._id;he._rev=we?"0-"+(parseInt(we.split("-")[1],10)+1):"0-1";var ke,be=ee.ctx;if(!be){var xe=yr(i,[Zr],"readwrite");if(xe.error)return le(xe.error);(be=xe.txn).onerror=Hr(le),be.oncomplete=function(){ke&&le(null,ke)}}var We,Ge=be.objectStore(Zr);we?(We=Ge.get(Oe)).onsuccess=function(Ke){var Et=Ke.target.result;Et&&Et._rev===we?Ge.put(he).onsuccess=function(){ke={ok:!0,id:he._id,rev:he._rev},ee.ctx&&le(null,ke)}:le(je(m))}:((We=Ge.add(he)).onerror=function(Ke){le(je(m)),Ke.preventDefault(),Ke.stopPropagation()},We.onsuccess=function(){ke={ok:!0,id:he._id,rev:he._rev},ee.ctx&&le(null,ke)})},e._removeLocal=function(he,ee,le){"function"==typeof ee&&(le=ee,ee={});var we=ee.ctx;if(!we){var Oe=yr(i,[Zr],"readwrite");if(Oe.error)return le(Oe.error);(we=Oe.txn).oncomplete=function(){be&&le(null,be)}}var be,ke=he._id,xe=we.objectStore(Zr),Ge=xe.get(ke);Ge.onerror=Hr(le),Ge.onsuccess=function(We){var Ke=We.target.result;Ke&&Ke._rev===he._rev?(xe.delete(ke),be={ok:!0,id:ke,rev:"0-0"},ee.ctx&&le(null,be)):le(je(o))}},e._destroy=function(he,ee){Zn.removeAllListeners(n);var le=ws.get(n);le&&le.result&&(le.result.close(),fi.delete(n));var we=indexedDB.deleteDatabase(n);we.onsuccess=function(){ws.delete(n),se()&&n in localStorage&&delete localStorage[n],ee(null,{ok:!0})},we.onerror=Hr(ee)};var fe=fi.get(n);if(fe)return i=fe.idb,e._meta=fe.global,O()(function(){r(null,e)});var Se=indexedDB.open(n,5);ws.set(n,Se),Se.onupgradeneeded=function(he){var ee=he.target.result;if(he.oldVersion<1)return function(he){var ee=he.createObjectStore(Xt,{keyPath:"id"});he.createObjectStore(tr,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),he.createObjectStore(Rr,{keyPath:"digest"}),he.createObjectStore(or,{keyPath:"id",autoIncrement:!1}),he.createObjectStore(ys),ee.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),he.createObjectStore(Zr,{keyPath:"_id"});var le=he.createObjectStore(Pn,{autoIncrement:!0});le.createIndex("seq","seq"),le.createIndex("digestSeq","digestSeq",{unique:!0})}(ee);var le=he.currentTarget.transaction;he.oldVersion<3&&function(he){he.createObjectStore(Zr,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(ee),he.oldVersion<4&&function(he){var ee=he.createObjectStore(Pn,{autoIncrement:!0});ee.createIndex("seq","seq"),ee.createIndex("digestSeq","digestSeq",{unique:!0})}(ee);var we=[d,j,X,re],Oe=he.oldVersion;!function be(){var ke=we[Oe-1];Oe++,ke&&ke(le,be)}()},Se.onsuccess=function(he){(i=he.target.result).onversionchange=function(){i.close(),fi.delete(n)},i.onabort=function(We){it("error","Database has a global failure",We.target.error),i.close(),fi.delete(n)};var we,Oe,be,ke,ee=i.transaction([or,ys,Xt],"readwrite"),le=!1;function xe(){void 0===be||!le||(e._meta={name:n,instanceId:ke,blobSupport:be},fi.set(n,{idb:i,global:e._meta}),r(null,e))}function Ge(){if(void 0!==Oe&&void 0!==we){var We=n+"_id";We in we?ke=we[We]:we[We]=ke=Mi(),we.docCount=Oe,ee.objectStore(or).put(we)}}ee.objectStore(or).get(or).onsuccess=function(We){we=We.target.result||{id:or},Ge()},function(e,t){e.objectStore(Xt).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(n){Oe=n.target.result,Ge()}}(ee),Wi||(Wi=function(e){return new Promise(function(t){var r=mr([""]),n=e.objectStore(ys).put(r,"key");n.onsuccess=function(){var i=navigator.userAgent.match(/Chrome\/(\d+)/),f=navigator.userAgent.match(/Edge\//);t(f||!i||parseInt(i[1],10)>=43)},n.onerror=e.onabort=function(i){i.preventDefault(),i.stopPropagation(),t(!1)}}).catch(function(){return!1})}(ee)),Wi.then(function(We){be=We,xe()}),ee.oncomplete=function(){le=!0,xe()},ee.onabort=Hr(r)},Se.onerror=function(he){var ee=he.target.error&&he.target.error.message;ee?-1!==ee.indexOf("stored database is a higher version")&&(ee=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):ee="Failed to open indexedDB, are you in private browsing mode?",it("error",ee),r(je(ie,ee))}}(r,e,n)},t,r.constructor)}yo.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch{return!1}};const _o=function(e){e.adapter("idb",yo,!0)};function As(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tn(e,t,r){return t&&As(e.prototype,t),r&&As(e,r),e}var Vi=l(2559),di=l.n(Vi),bo=l(8624),fr=l.n(bo),Eo=l(4966),Oa=l.n(Eo),Pa=l(1452),Ia=l.n(Pa),Ta=l(9456),Ra=l.n(Ta);function Nt(e){var t=e.split("-"),r="RxDB";return t.forEach(function(n){r+=Ao(n)}),r+="Plugin",new Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { "+r+" } from 'rxdb/plugins/"+e+"';\n            addRxPlugin("+r+");\n        ")}function hi(e){return"string"!=typeof e&&(e=JSON.stringify(e)),Ia().hash("rxdb-specific-hash-salt"+e)}var pi=0;function Yr(){var e=(new Date).getTime();return e<=pi&&(e=pi+1),pi=e,e}function Jn(){return new Promise(function(e){return setTimeout(e,0)})}function Cu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){return setTimeout(t,e)})}Promise.resolve(!0);var un=Promise.resolve(!1),So=Promise.resolve(null),Rn=Promise.resolve();function Ao(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)}function dt(e){for(;"."===e.charAt(0);)e=e.substr(1);for(;"."===e.slice(-1);)e=e.slice(0,-1);return e}function La(e){if(!e)throw new Error("ensureNotFalsy() is falsy");return e}function Ki(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return e;if(!t&&Array.isArray(e))return e.sort(function(n,i){return"string"==typeof n&&"string"==typeof i?n.localeCompare(i):"object"==typeof n?1:-1}).map(function(n){return Ki(n,t)});if("object"==typeof e&&!Array.isArray(e)){if(e instanceof RegExp)return e;var r={};return Object.keys(e).sort(function(n,i){return n.localeCompare(i)}).forEach(function(n){r[n]=Ki(e[n],t)}),r}return e}function Ba(e,t){return t instanceof RegExp?t.toString():t}function Co(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",r="abcdefghijklmnopqrstuvwxyz",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}function Xn(e){var t={db:e};return"string"==typeof e&&(t={adapter:e,db:void 0}),t}var xr=function(e){return e&&Oa()(e,!1)};function Wt(e){return Object.assign({},e)}function $i(e){var t={};for(var r in e)if(e.hasOwnProperty(r))if("object"==typeof e[r]){var n=$i(e[r]);for(var i in n)!n.hasOwnProperty(i)||(t[r+"."+i]=n[i])}else t[r]=e[r];return t}function gn(e){return function(e){var t=e.split("-");return{height:parseInt(t[0],10),hash:t[1]}}(e).height}function Ur(e,t,r){return Object.defineProperty(e,t,{get:function(){return r}}),r}function ei(e){return!(!e.includes("/")&&!e.includes("\\"))}function mi(e,t){var r=e.get(t);if(!r)throw new Error("missing value from map "+t);return r}Ra()();var Gi_toString=function(t){return"undefined"!=typeof Buffer&&t instanceof Buffer?Jn().then(function(){return t.toString()}):new Promise(function(r){var n=new FileReader;n.addEventListener("loadend",function(f){r(f.target.result)}),"[object Uint8Array]"===Object.prototype.toString.call(t)&&(t=new Blob([t])),n.readAsText(t)})};function Jr(e,t){return(Jr=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n})(e,t)}function Os(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Jr(e,t)}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(e)}function Oo(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mn(e,t,r){return(Mn=Oo()?Reflect.construct:function(i,f,d){var S=[null];S.push.apply(S,f);var W=new(Function.bind.apply(i,S));return d&&Jr(W,d.prototype),W}).apply(null,arguments)}function kn(e){var t="function"==typeof Map?new Map:void 0;return kn=function(n){if(null===n||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return Mn(n,arguments,xn(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Jr(i,n)},kn(e)}var ar={isDevMode:function(){return!1},deepFreezeWhenDevMode:function(t){return t},validatePassword:function(t){throw Nt("encryption")},tunnelErrorMessage:function(t){return"RxDB Error-Code "+t+".\n        - To find out what this means, use the dev-mode-plugin https://pubkey.github.io/rxdb/custom-build.html#dev-mode\n        - Or search for this code https://github.com/pubkey/rxdb/search?q="+t+"\n        "}};function vi(e,t,r){return"RxError ("+t+"):\n"+e+"\n"+function(e){var t="";return 0===Object.keys(e).length||(t+="Given parameters: {\n",t+=Object.keys(e).map(function(r){var n="[object Object]";try{n=JSON.stringify(e[r],function(i,f){return void 0===f?null:f},2)}catch{}return r+":"+n}).join("\n"),t+="}"),t}(r)}var Ln=function(e){function t(n,i){var f,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},S=vi(i,n,d);return(f=e.call(this,S)||this).code=n,f.message=S,f.parameters=d,f.rxdb=!0,f}return Os(t,e),t.prototype.toString=function(){return this.message},Tn(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}]),t}(kn(Error)),yn=function(e){function t(n,i){var f,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},S=vi(i,n,d);return(f=e.call(this,S)||this).code=n,f.message=S,f.parameters=d,f.rxdb=!0,f}return Os(t,e),t.prototype.toString=function(){return this.message},Tn(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}]),t}(kn(TypeError));function Ve(e,t){return new Ln(e,ar.tunnelErrorMessage(e),t)}function Lt(e,t){return new yn(e,ar.tunnelErrorMessage(e),t)}var Cr={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],postDestroyRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],createRxQuery:[],preQueryMatcher:[],preSortComparator:[],prePrepareQuery:[],preWriteToStorageInstance:[],postReadFromInstance:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[]};function qt(e,t){Cr[e].forEach(function(r){return r(t)})}function Qi(e,t){return Promise.all(Cr[e].map(function(r){return r(t)}))}var ot=l(5861),Po=l(7757),Te=l.n(Po),gi=l(1135),$t=l(4004),Io=l(1884),Pu="_rxdb_internal";function _n(e){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,ot.Z)(Te().mark(function e(t){var r;return Te().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return r=t.prepareQuery({selector:{}}),d.next=3,t.query(r);case 3:return d.abrupt("return",d.sent.documents);case 6:case"end":return d.stop()}},e)}))).apply(this,arguments)}function Yi(e,t){return yi.apply(this,arguments)}function yi(){return(yi=(0,ot.Z)(Te().mark(function e(t,r){var i;return Te().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,t.findDocumentsById([r],!1);case 2:if(!(i=d.sent.get(r))){d.next=8;break}return d.abrupt("return",i);case 8:return d.abrupt("return",null);case 9:case"end":return d.stop()}},e)}))).apply(this,arguments)}function Ro(e,t){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,ot.Z)(Te().mark(function e(t,r){var n,f;return Te().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,t.bulkWrite([r]);case 2:if(!((n=S.sent).error.size>0)){S.next=8;break}throw n.error.values().next().value;case 8:return f=n.success.values().next().value,S.abrupt("return",f);case 10:case"end":return S.stop()}},e)}))).apply(this,arguments)}function xs(e,t){return xo.apply(this,arguments)}function xo(){return(xo=(0,ot.Z)(Te().mark(function e(t,r){var i;return Te().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,t.findLocalDocumentsById([r]);case 2:if(i=d.sent.get(r)){d.next=8;break}return d.abrupt("return",null);case 8:return d.abrupt("return",i);case 9:case"end":return d.stop()}},e)}))).apply(this,arguments)}function qi(e,t,r,n){var i,d;if("DELETE"!==t.change.operation)if(n){var f={collection:n,doc:t.change.doc};qt("postReadFromInstance",f),i=n._crypter.decrypt(i=f.doc)}else i=t.change.doc;if("INSERT"!==t.change.operation)if(n){var S={collection:n,doc:t.change.previous};qt("postReadFromInstance",S),d=n._crypter.decrypt(d=S.doc)}else d=t.change.previous;return{eventId:t.eventId,documentId:t.documentId,databaseToken:r.token,collectionName:n?n.name:void 0,startTime:t.startTime,endTime:t.endTime,isLocal:e,operation:t.change.operation,documentData:ar.deepFreezeWhenDevMode(i),previousDocumentData:ar.deepFreezeWhenDevMode(d)}}function Mo(e,t){return ni.apply(this,arguments)}function ni(){return ni=(0,ot.Z)(Te().mark(function e(t,r){var n,i,d,S=arguments;return Te().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:n=S.length>2&&void 0!==S[2]&&S[2],i={previous:r.previous?cn(t,Wt(r.previous)):void 0,document:cn(t,Wt(r.document))};case 2:return W.prev=3,W.next=6,t.database.lockedRun(function(){return Ro(t.storageInstance,i)});case 6:return d=Ms(t,W.sent),W.abrupt("return",d);case 11:return W.prev=11,W.t0=W.catch(3),W.delegateYield(Te().mark(function X(){var re,fe,Se;return Te().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(fe=(re=W.t0).documentId,!n||409!==re.status){ee.next=11;break}return ee.next=5,t.database.lockedRun(function(){return Yi(t.storageInstance,fe)});case 5:if(Se=ee.sent){ee.next=8;break}throw Ve("SNH",{args:{writeRow:r}});case 8:i.previous=Se,ee.next=16;break;case 11:if(409!==re.status){ee.next=15;break}throw Ve("COL19",{collection:t.name,id:fe,pouchDbError:re,data:r});case 15:throw re;case 16:case"end":return ee.stop()}},X)})(),"t1",14);case 14:W.next=2;break;case 16:case"end":return W.stop()}},e,null,[[3,11]])})),ni.apply(this,arguments)}function cn(e,t){ar.isDevMode()&&e.schema.fillPrimaryKey(t),t=e._crypter.encrypt(t);var r={collection:e,doc:t};return qt("preWriteToStorageInstance",r),r.doc}function Ms(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={collection:e,doc:t};return qt("postReadFromInstance",n),r?n.doc:e._crypter.decrypt(n.doc)}function _i(e,t){var r=e.schema.fillObjectWithDefaults(t);return e.schema.fillPrimaryKey(r)}function ko(e){return e+"-local"}function ks(e,t,r,n){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,ot.Z)(Te().mark(function e(t,r,n,i){var f;return Te().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return n.broadcastChannel=r.broadcastChannel,W.next=3,Promise.all([r.storage.createStorageInstance(n),r.storage.createKeyObjectStorageInstance({databaseName:r.name,collectionName:ko(t),options:i,idleQueue:r.idleQueue,broadcastChannel:r.broadcastChannel})]);case 3:return W.abrupt("return",{storageInstance:(f=W.sent)[0],localDocumentsStore:f[1]});case 7:case"end":return W.stop()}},e)}))).apply(this,arguments)}function ii(e,t){var r;return{version:e,type:"object",primaryKey:t,properties:(r={},r[t]={type:"string"},r),required:[t]}}function Bn(e,t){var r=t;return r=dt(r="properties."+(r=r.replace(/\./g,".properties."))),fr().get(e,r)}var e,bi={get _data(){if(this.isInstanceOfRxDocument)return this._dataSync$.getValue()},get primaryPath(){if(this.isInstanceOfRxDocument)return this.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){if(this.isInstanceOfRxDocument)return this._data._rev},get deleted$(){if(this.isInstanceOfRxDocument)return this._isDeleted$.asObservable()},get deleted(){if(this.isInstanceOfRxDocument)return this._isDeleted$.getValue()},get $(){return this._dataSync$.asObservable().pipe((0,$t.U)(function(t){return ar.deepFreezeWhenDevMode(t)}))},_handleChangeEvent:function(t){if(t.documentId===this.primary){var n=gn(((e=t).documentData?e.documentData:e.previousDocumentData)._rev);if(!(gn(this._data._rev)>n))switch(t.operation){case"INSERT":break;case"UPDATE":this._dataSync$.next(t.documentData);break;case"DELETE":this.collection._docCache.delete(this.primary),this._isDeleted$.next(!0)}}var e},$emit:function(t){return this.collection.$emit(t)},get$:function(t){if(t.includes(".item."))throw Ve("DOC1",{path:t});if(t===this.primaryPath)throw Ve("DOC2");if(this.collection.schema.finalFields.includes(t))throw Ve("DOC3",{path:t});if(!Bn(this.collection.schema.jsonSchema,t))throw Ve("DOC4",{path:t});return this._dataSync$.pipe((0,$t.U)(function(n){return fr().get(n,t)}),(0,Io.x)())},populate:function(t){var r=Bn(this.collection.schema.jsonSchema,t),n=this.get(t);if(!n)return So;if(!r)throw Ve("DOC5",{path:t});if(!r.ref)throw Ve("DOC6",{path:t,schemaObj:r});var i=this.collection.database.collections[r.ref];if(!i)throw Ve("DOC7",{ref:r.ref,path:t,schemaObj:r});return"array"===r.type?i.findByIds(n).then(function(f){var d=f.values();return Array.from(d)}):i.findOne(n).exec()},get:function(t){if(this._data){var r=fr().get(this._data,t);return"object"!=typeof r||Array.isArray(r)?ar.deepFreezeWhenDevMode(r):(r=xr(r),Bo(this.collection.schema,r,t,this),r)}},toJSON:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)return ar.deepFreezeWhenDevMode(this._data);var r=Wt(this._data);return delete r._rev,delete r._attachments,ar.deepFreezeWhenDevMode(r)},set:function(t,r){if(!this._isTemporary)throw Lt("DOC16",{objPath:t,value:r});if("string"!=typeof t)throw Lt("DOC15",{objPath:t,value:r});if(!Object.is(this.get(t),r)){var n=t.split(".");n.pop();var i=n.join(".");if(void 0===fr().get(this._data,i))throw Ve("DOC10",{childpath:t,rootPath:i});return fr().set(this._data,t,r),this}},update:function(t){throw Nt("update")},putAttachment:function(){throw Nt("attachments")},getAttachment:function(){throw Nt("attachments")},allAttachments:function(){throw Nt("attachments")},get allAttachments$(){throw Nt("attachments")},atomicUpdate:function(t){var r=this;return new Promise(function(n,i){r._atomicQueue=r._atomicQueue.then((0,ot.Z)(Te().mark(function f(){var d,S,j;return Te().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:d=!1;case 1:if(d){X.next=24;break}return S=r._dataSync$.getValue(),X.prev=3,X.next=6,t(xr(r._dataSync$.getValue()),r);case 6:return j=X.sent,r.collection&&(j=r.collection.schema.fillObjectWithDefaults(j)),X.next=10,r._saveData(j,S);case 10:d=!0,X.next=22;break;case 13:if(X.prev=13,X.t0=X.catch(3),!(e=X.t0).parameters||!e.parameters.pouchDbError||409!==e.parameters.pouchDbError.status){X.next=20;break}return X.next=18,Jn();case 18:X.next=22;break;case 20:return i(X.t0),X.abrupt("return");case 22:X.next=1;break;case 24:n(r);case 25:case"end":return X.stop()}var e},f,null,[[3,13]])})))})},atomicPatch:function(t){return this.atomicUpdate(function(r){return Object.entries(t).forEach(function(n){r[n[0]]=n[1]}),r})},_saveData:(e=(0,ot.Z)(Te().mark(function r(n,i){return Te().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(n=n,!this._isDeleted$.getValue()){d.next=3;break}throw Ve("DOC11",{id:this.primary,document:this});case 3:return this.collection.schema.validateChange(i,n),d.next=6,this.collection._runHooks("pre","save",n,this);case 6:return this.collection.schema.validate(n),d.next=9,Mo(this.collection,{previous:i,document:n});case 9:return d.abrupt("return",this.collection._runHooks("post","save",n,this));case 10:case"end":return d.stop()}},r,this)})),function(r,n){return e.apply(this,arguments)}),save:function(){var t=this;if(!this._isTemporary)throw Ve("DOC17",{id:this.primary,document:this});return this.collection.insert(this).then(function(){return t._isTemporary=!1,t.collection._docCache.set(t.primary,t),t._dataSync$.next(t._data),!0})},remove:function(){var t=this;if(this.deleted)return Promise.reject(Ve("DOC13",{document:this,id:this.primary}));var r=Wt(this._data);return this.collection._runHooks("pre","remove",r,this).then(function(){return r._deleted=!0,Yr(),Mo(t.collection,{previous:t._data,document:r})}).then(function(){return t.collection._runHooks("post","remove",r,t)}).then(function(){return t})},destroy:function(){throw Ve("DOC14")}};function Lo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bi,t=function(n,i){this.collection=n,this._isTemporary=!1,this._dataSync$=new gi.X(i),this._isDeleted$=new gi.X(!1),this._atomicQueue=Rn,this.isInstanceOfRxDocument=!0};return t.prototype=e,t}function Bo(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!==t){var i=Bn(e.jsonSchema,r);void 0!==i&&(i.properties&&(i=i.properties),Object.keys(i).forEach(function(f){var d=dt(r+"."+f);t.__defineGetter__(f,function(){var S=n||this;if(S.get&&"function"==typeof S.get)return S.get(d)}),Object.defineProperty(t,f+"$",{get:function(){return(n||this).get$(d)},enumerable:!1,configurable:!1}),Object.defineProperty(t,f+"_",{get:function(){return(n||this).populate(d)},enumerable:!1,configurable:!1}),t.__defineSetter__(f,function(S){return(n||this).set(d,S)})}))}}function V(e,t,r){if(r[t.schema.primaryPath]&&r[t.schema.primaryPath].startsWith("_design"))return null;var n=new e(t,r);return qt("createRxDocument",n),n}function C(e){return void 0!==e&&!!e.isInstanceOfRxDocument}var g=function(){function e(r){this.jsonSchema=r,this.indexes=function(e){return(e.indexes||[]).map(function(t){return Array.isArray(t)?t:[t]})}(this.jsonSchema),this.primaryPath=G(this.jsonSchema.primaryKey),this.finalFields=function(e){var t=Object.keys(e.properties).filter(function(n){return e.properties[n].final}),r=G(e.primaryKey);return t.push(r),"string"!=typeof e.primaryKey&&e.primaryKey.fields.forEach(function(n){return t.push(n)}),t}(this.jsonSchema),this.jsonSchema.required=this.jsonSchema.required.concat(this.finalFields).filter(function(n){return!n.includes(".")}).filter(function(n,i,f){return f.indexOf(n)===i})}var t=e.prototype;return t.validateChange=function(n,i){var f=this;this.finalFields.forEach(function(d){if(!di()(n[d],i[d]))throw Ve("DOC9",{dataBefore:n,dataAfter:i,fieldName:d,schema:f.jsonSchema})})},t.validate=function(n,i){throw Nt("validate")},t.fillObjectWithDefaults=function(n){return n=Wt(n),Object.entries(this.defaultValues).filter(function(i){var f=i[0];return!n.hasOwnProperty(f)||void 0===n[f]}).forEach(function(i){return n[i[0]]=i[1]}),n},t.getDocumentPrototype=function(){var n={};return Bo(this,n,""),Ur(this,"getDocumentPrototype",function(){return n}),n},t.getPrimaryOfDocumentData=function(n){return ce(this.jsonSchema,n)},t.fillPrimaryKey=function(n){var i=Wt(n),f=ce(this.jsonSchema,n),d=n[this.primaryPath];if(d&&d!==f)throw Ve("DOC19",{args:{documentData:n,existingPrimary:d,newPrimary:f},schema:this.jsonSchema});return i[this.primaryPath]=f,i},Tn(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"normalized",get:function(){return Ur(this,"normalized",function(e){var t=Ki(xr(e));return e.indexes&&(t.indexes=Array.from(e.indexes)),t}(this.jsonSchema))}},{key:"topLevelFields",get:function(){return Object.keys(this.normalized.properties)}},{key:"defaultValues",get:function(){var n={};return Object.entries(this.normalized.properties).filter(function(i){return i[1].hasOwnProperty("default")}).forEach(function(i){return n[i[0]]=i[1].default}),Ur(this,"defaultValues",n)}},{key:"crypt",get:function(){return!!(this.jsonSchema.encrypted&&this.jsonSchema.encrypted.length>0||this.jsonSchema.attachments&&this.jsonSchema.attachments.encrypted)}},{key:"encryptedPaths",get:function(){return this.jsonSchema.encrypted||[]}},{key:"hash",get:function(){return Ur(this,"hash",hi(this.normalized))}}]),e}();function G(e){return"string"==typeof e?e:e.key}function ce(e,t){if("string"==typeof e.primaryKey)return t[e.primaryKey];var r=e.primaryKey;return r.fields.map(function(n){var i=fr().get(t,n);if(void 0===i)throw Ve("DOC18",{args:{field:n,documentData:t}});return i}).join(r.separator)}function nt(e){return(e=xr(e)).additionalProperties=!1,e.hasOwnProperty("keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes||[],e.required=e.required||[],e.encrypted=e.encrypted||[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.version=e.version||0,e}function St(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&qt("preCreateRxSchema",e);var r=new g(nt(e));return qt("createRxSchema",r),r}var Mr=function(){function e(r,n){this.password=r,this.schema=n}var t=e.prototype;return t._encryptString=function(n){throw Nt("encryption")},t._decryptString=function(n){throw Nt("encryption")},t.encrypt=function(n){var i=this;if(!this.password)return n;var f=(n=Wt(n))._attachments;delete n._attachments;var d=xr(n);return f&&(d._attachments=f),this.schema.encryptedPaths.forEach(function(S){var j=fr().get(d,S);if(void 0!==j){var W=JSON.stringify(j),X=i._encryptString(W);fr().set(d,S,X)}}),d},t.decrypt=function(n){var i=this;if(!this.password)return n;var f=(n=Wt(n))._attachments;delete n._attachments;var d=xr(n);return f&&(d._attachments=f),this.schema.encryptedPaths.forEach(function(S){var j=fr().get(d,S);if(void 0!==j){var W=i._decryptString(j),X=JSON.parse(W);fr().set(d,S,X)}}),d},e}();function Fn(e,t){return new Mr(e,t)}var Nn=l(3905),si=l(6451),hr=l(5577),Xr=l(9300),jn=l(7579),Bs=l(6063);class Fs extends jn.x{constructor(t=1/0,r=1/0,n=Bs.l){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:f,_windowTime:d}=this;r||(n.push(t),!i&&n.push(f.now()+d)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:i}=this,f=i.slice();for(let d=0;d<f.length&&!t.closed;d+=n?1:2)t.next(f[d]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:i}=this,f=(i?1:2)*t;if(t<1/0&&f<n.length&&n.splice(0,n.length-f),!i){const d=r.now();let S=0;for(let j=1;j<n.length&&n[j]<=d;j+=2)S=j;S&&n.splice(0,S+1)}}}var es=l(3099);function Tu(e,t,r){var n,i;let f,d=!1;return e&&"object"==typeof e?(f=null!==(n=e.bufferSize)&&void 0!==n?n:1/0,t=null!==(i=e.windowTime)&&void 0!==i?i:1/0,d=!!e.refCount,r=e.scheduler):f=e??1/0,(0,es.B)({connector:()=>new Fs(f,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:d})}var Ns=l(8505),Va=new WeakMap,Ka=new WeakMap;function Ei(e){if(!Ka.has(e)){var t=Lo(function(e){if(!Va.has(e)){var t=e.schema.getDocumentPrototype(),r=function(e){var t={};return Object.entries(e.methods).forEach(function(r){t[r[0]]=r[1]}),t}(e),i={};[t,r,bi].forEach(function(f){Object.getOwnPropertyNames(f).forEach(function(S){var j=Object.getOwnPropertyDescriptor(f,S),W=!0;(S.startsWith("_")||S.endsWith("_")||S.startsWith("$")||S.endsWith("$"))&&(W=!1),"function"==typeof j.value?Object.defineProperty(i,S,{get:function(){return j.value.bind(this)},enumerable:W,configurable:!1}):(j.enumerable=W,j.configurable=!1,j.writable&&(j.writable=!1),Object.defineProperty(i,S,j))})}),Va.set(e,i)}return Va.get(e)}(e));Ka.set(e,t)}return Ka.get(e)}function Fo(e,t){var r=t[e.schema.primaryPath],n=e._docCache.get(r);if(n)return n;var i=V(Ei(e),e,ar.deepFreezeWhenDevMode(t));return e._docCache.set(r,i),e._runHooksSync("post","create",t,i),qt("postCreateRxDocument",i),i}var $a=function(e){e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Ha=function(e){e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Ga=function(e){var t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Qa=function(e){var t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Ru=function(e){e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);for(var t=e.queryParams.primaryKey,r=e.previousResults,n=0;n<r.length;n++)if(r[n][t]===e.changeEvent.id){r.splice(n,1);break}},xu=function(e){var t=e.changeEvent.id,r=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,r)}else if(e.previousResults.find(function(i){return i[e.queryParams.primaryKey]===t}))return;!function(e,t,r,n){var i=e,f=i.length-1,d=0,S=0;if(0===i.length)return i.push(t),i;for(;d<=f;)r(i[S=d+(f-d>>1)],t)<=0?d=S+1:f=S-1;r(i[S],t)<=0&&S++,i.splice(S,0,t)}(e.previousResults,r,e.queryParams.sortComparator)},qc=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],el={doNothing:function(e){},insertFirst:$a,insertLast:Ha,removeFirstItem:Ga,removeLastItem:Qa,removeFirstInsertLast:function(e){Ga(e),Ha(e)},removeLastInsertFirst:function(e){Qa(e),$a(e)},removeFirstInsertFirst:function(e){Ga(e),$a(e)},removeLastInsertLast:function(e){Qa(e),Ha(e)},removeExisting:Ru,replaceExisting:function(e){for(var t=e.changeEvent.doc,r=e.queryParams.primaryKey,n=e.previousResults,i=0;i<n.length;i++)if(n[i][r]===e.changeEvent.id){n[i]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}},alwaysWrong:function(e){var t={_id:"wrongHuman"+(new Date).getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},insertAtSortPosition:xu,removeExistingAndInsertAtSortPosition:function(e){Ru(e),xu(e)},runFullQueryAgain:function(e){throw new Error("Action runFullQueryAgain must be implemented by yourself")},unknownAction:function(e){throw new Error("Action unknownAction should never be called")}};function Mu(e){return e?"1":"0"}function ru(e,t){for(var r=[],n=0,i=e.length;n<i;n+=t)r.push(e.substring(n,n+t));return r}function Uo(e){return e.charCodeAt(0)-40}!function(e){void 0===e&&(e=6);for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=r.length,i=0;i<e;i++)r.charAt(Math.floor(Math.random()*n))}(4);var rs="UNKNOWN";function zo(e){return e[e.length-1]}var en,Wo=function(e){return!!e.queryParams.limit},Dr={0:function(e){return"INSERT"===e.changeEvent.operation},1:function(e){return"UPDATE"===e.changeEvent.operation},2:function(e){return"DELETE"===e.changeEvent.operation},3:Wo,4:function(e){return 1===e.queryParams.limit},5:function(e){return!!(e.queryParams.skip&&e.queryParams.skip>0)},6:function(e){return 0===e.previousResults.length},7:function(e){return e.changeEvent.previous===rs},8:function(e){return Wo(e)&&e.previousResults.length>=e.queryParams.limit},9:function(e){var t=e.previousResults[0];return!(!t||t[e.queryParams.primaryKey]!==e.changeEvent.id)},10:function(e){var t=zo(e.previousResults);return!(!t||t[e.queryParams.primaryKey]!==e.changeEvent.id)},11:function(e){var t=e.queryParams.sortFields,r=e.changeEvent.previous,n=e.changeEvent.doc;if(!n)return!1;if(!r||r===rs)return!0;for(var i=0;i<t.length;i++){var f=t[i];if(fr().get(r,f)!==fr().get(n,f))return!0}return!1},12:function(e){var t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);for(var n=e.queryParams.primaryKey,i=e.previousResults,f=0;f<i.length;f++)if(i[f][n]===t)return!0;return!1},13:function(e){var t=e.changeEvent.previous;if(!t||t===rs)return!1;var r=e.previousResults[0];return!!r&&(r[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,r)<0)},14:function(e){var t=e.changeEvent.previous;if(!t||t===rs)return!1;var r=zo(e.previousResults);return!!r&&(r[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,r)>0)},15:function(e){var t=e.changeEvent.doc;if(!t)return!1;var r=e.previousResults[0];return!!r&&(r[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,r)<0)},16:function(e){var t=e.changeEvent.doc;if(!t)return!1;var r=zo(e.previousResults);return!!r&&(r[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,r)>0)},17:function(e){var t=e.changeEvent.previous;return!(!t||t===rs)&&e.queryParams.queryMatcher(t)},18:function(e){var t=e.changeEvent.doc;return!!t&&e.queryParams.queryMatcher(t)}};var wn=function(e){return function(e,t,r){for(var n=e,i=e.l;;){if("number"==typeof(n=n[Mu(t[i](r))])||"string"==typeof n)return n;i=n.l}}((en||(en=function(e){for(var t=new Map,n=2+2*parseInt(e.charAt(0)+e.charAt(1),10),f=ru(e.substring(2,n),2),d=0;d<f.length;d++){var j=(S=f[d]).charAt(0),W=Uo(S.charAt(1));t.set(j,W)}var re=ru(e.substring(n,e.length-3),4);for(d=0;d<re.length;d++){j=(S=re[d]).charAt(0);var S,fe=S.charAt(1),Se=S.charAt(2),he=Uo(S.charAt(3));if(!t.has(fe))throw new Error("missing node with id "+fe);if(!t.has(Se))throw new Error("missing node with id "+Se);var ee=t.get(fe),le=t.get(Se);t.set(j,{l:he,0:ee,1:le})}var Oe=e.slice(-3),be=Oe.charAt(0),ke=Oe.charAt(1);return{l:Uo(Oe.charAt(2)),0:t.get(be),1:t.get(ke)}}("14a2b0c/d1e,f+g5h.i4j*k-l)m(n6ohk1pdf1qef1rin-sjn-ton-ugn-vmn-whn-xkn-yln-zdf5{ef5|wx5}df7~dz7\x7fef7\xa1bk7\xa2e{7\xa3g|7\xa4ry7\xa5dp7\xa6gk7\xa7eq7\xa8gt7\xa9ac7\xaamv7\xabgu7\xacnm7\xadiy7\xaenw7\xaf\xa4s8\xb0\xab\xa68\xb1\xack8\xb2\xaam8\xb3\xaev8\xb4\xabn8\xb5\xacn8\xb6vm8\xb7xv8\xb8mn8\xb9\xadj8\xba\xaem8\xbbxm8\xbc\xad\xb93\xbd}~3\xbe\xa9\xb03\xbf\x7f\xa23\xc0\xa1\xa33\xc1m\xb13\xc2\xae\xba3\xc3m\xba3\xc4\xa9\xb43\xc5b\xae3\xc6m\xb53\xc7m\xbb3\xc8x\xbb3\xc9kn3\xcam\xb83\xcb\xbcj6\xcc\xc2m6\xcd\xc6\xc36\xce\xc8m6\xcfnm6\xd0\xca\xc76\xd1\xcc\xce,\xd2\xcd\xd0,\xd3\xc5\xc9,\xd4\xb2\xb6,\xd5\xb3\xb7,\xd6\xaen,\xd7\xba\xbb,\xd8mf9\xd9\xcb\xc19\xdaym9\xdbm\xcf9\xdc\xd1\xd29\xddz{2\xdepq2\xdf\xbd\xbf2\xe0\xbe\xc02\xe1\xa5\xa72\xe2\xb0\xa82\xe3\xc4\xd32\xe4\xb4\xd62\xe5\xddn0\xe6\xden0\xe7\xd8\xdb0\xe8\xd9\xdc0\xe9\xdfn0\xea\xe0\xe30\xeb\xb2\xd40\xec\xaf\xd50\xed\xe1n0\xee\xe2\xe40\xef\xb9\xd70\xf0\xe7v/\xf1\xe5\xe6/\xf2\xe7\xeb/\xf3\xe8\xec/\xf4\xe9\xed/\xf5\xea\xee/\xf6\xday/\xf7\xf2m(\xf8\xf3\xef(\xf9\xf6y(\xfa\xf7\xf8:\xfb\xf4\xf5:\xfcm\xf9:\xfd\xf0\xf14\xfe\xfa\xfb4\xff\xfe\xfd*\u0100\xfcm*\xff\u0100.")),en),Dr,e)};function au(e,t){return t.sort&&0!==t.sort.length?t.sort.map(function(r){return Object.keys(r)[0]}):[e]}var rt=new WeakMap;function bt(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var r=function(e){if(rt.has(e))return rt.get(e);var t=e.collection,r=e.getPreparedQuery(),n=t.schema.primaryPath,i=t.storageInstance.getSortComparator(r),d=t.storageInstance.getQueryMatcher(r),j={primaryKey:e.collection.schema.primaryPath,skip:r.skip,limit:r.limit,sortFields:au(n,e.mangoQuery),sortComparator:function(X,re){var fe={docA:X,docB:re,rxQuery:e};return qt("preSortComparator",fe),i(fe.docA,fe.docB)},queryMatcher:function(X){var re={doc:X,rxQuery:e};return qt("preQueryMatcher",re),d(re.doc)}};return rt.set(e,j),j}(e),n=e._resultsData.slice(),i=e._resultsDataMap,f=!1,d=t.find(function(S){var j=function(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:ar.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}(S),X=function(e){var t=wn(e);return qc[t]}({queryParams:r,changeEvent:j,previousResults:n,keyDocumentMap:i});return"runFullQueryAgain"===X||("doNothing"!==X?(f=!0,function(e,t,r,n,i){(0,el[e])({queryParams:t,changeEvent:r,previousResults:n,keyDocumentMap:i})}(X,r,j,n,i),!1):void 0)});return d?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:f,newResults:n}}var Bt=function(){function e(){this._map=new Map}return e.prototype.getByQuery=function(n){var i=n.toString();return this._map.has(i)||this._map.set(i,n),this._map.get(i)},e}();function ur(){return new Bt}function tn(e,t){t.uncached=!0;var r=t.toString();e._map.delete(r)}function zr(e){return e.refCount$.observers.length}var cu=(100,3e4,function(n,i){if(!(i._map.size<100)){for(var f=Yr()-3e4,d=[],j=0,W=Array.from(i._map.values());j<W.length;j++){var X=W[j];if(!(zr(X)>0)){if(0===X._lastEnsureEqual&&X._creationTime<f){tn(i,X);continue}d.push(X)}}var re=d.length-100;re<=0||d.sort(function(he,ee){return he._lastEnsureEqual-ee._lastEnsureEqual}).slice(0,re).forEach(function(he){return tn(i,he)})}}),kr=new WeakSet;var Us=0,Ai=function(){function e(r,n,i){this.id=++Us,this._execOverDatabaseCount=0,this._creationTime=Yr(),this._lastEnsureEqual=0,this.other={},this.uncached=!1,this.refCount$=new gi.X(null),this._latestChangeEvent=-1,this._resultsData=null,this._resultsDataMap=new Map,this._lastExecStart=0,this._lastExecEnd=0,this._resultsDocs$=new gi.X(null),this._ensureEqualQueue=un,this.op=r,this.mangoQuery=n,this.collection=i,n||(n={selector:{}})}var t=e.prototype;return t._setResultData=function(n){var i=this,f=function(e,t){return t.map(function(r){return Fo(e,r)})}(this.collection,n),d=this.collection.schema.primaryPath;return this._resultsDataMap=new Map,this._resultsData=f.map(function(S){var j=S._dataSync$.getValue();return i._resultsDataMap.set(j[d],j),j}),this._resultsDocs$.next(f),f},t._execOverDatabase=function(){var i,n=this;switch(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=Yr(),this.op){case"find":i=this.collection._queryStorageInstance(this);break;case"findOne":i=this.collection._queryStorageInstance(this,1);break;default:throw Ve("QU1",{collection:this.collection.name,op:this.op})}return i.then(function(f){return n._lastExecEnd=Yr(),f})},t.exec=function(n){var i=this;if(n&&"findOne"!==this.op)throw Ve("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return $u(this).then(function(){return(0,Nn.z)(i.$)}).then(function(f){if(!f&&n)throw Ve("QU10",{collection:i.collection.name,query:i.mangoQuery,op:i.op});return f})},t.toString=function(){var n=Ki({op:this.op,query:this.mangoQuery,other:this.other},!0),i=JSON.stringify(n,Ba);return this.toString=function(){return i},i},t.getPreparedQuery=function(){var n={rxQuery:this,mangoQuery:xr(this.mangoQuery)};qt("prePrepareQuery",n);var i=this.collection.storageInstance.prepareQuery(n.mangoQuery);return this.getPreparedQuery=function(){return i},i},t.doesDocumentDataMatch=function(n){return!n._deleted&&this.queryMatcher(cn(this.collection,n))},t.remove=function(){var n;return this.exec().then(function(i){return n=i,Array.isArray(i)?Promise.all(i.map(function(f){return f.remove()})):i.remove()}).then(function(){return n})},t.update=function(n){throw Nt("update")},t.where=function(n){throw Nt("query-builder")},t.sort=function(n){throw Nt("query-builder")},t.skip=function(n){throw Nt("query-builder")},t.limit=function(n){throw Nt("query-builder")},Tn(e,[{key:"$",get:function(){var n=this;if(!this._$){var i=this._resultsDocs$.pipe((0,hr.z)(function(d){return $u(n).then(function(S){return!S&&d})}),(0,Xr.h)(function(d){return!!d}),(0,$t.U)(function(d){return d.slice(0)}),(0,$t.U)(function(d){return"findOne"===n.op?0===d.length?null:d[0]:d}),Tu({bufferSize:1,refCount:!0})).asObservable(),f=this.collection.$.pipe((0,Ns.b)(function(){return $u(n)}),(0,Xr.h)(function(){return!1}));this._$=(0,si.T)(i,f,this.refCount$.pipe((0,Xr.h)(function(){return!1})))}return this._$}},{key:"queryMatcher",get:function(){return Ur(this,"queryMatcher",this.collection.storageInstance.getQueryMatcher(this.getPreparedQuery()))}},{key:"asRxQuery",get:function(){return this}}]),e}();function bl(e){return e.collection._queryCache.getByQuery(e)}function Ku(e,t,r){if(t&&"object"!=typeof t)throw Lt("QU7",{queryObj:t});if(Array.isArray(t))throw Lt("QU8",{queryObj:t});qt("preCreateRxQuery",{op:e,queryObj:t,collection:r});var n=new Ai(e,t,r);return qt("createRxQuery",n=bl(n)),function(e){kr.has(e)||(kr.add(e),Jn().then(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"object"==typeof window&&window.requestIdleCallback?new Promise(function(t){return window.requestIdleCallback(t,{timeout:e})}):Cu(0)}(200)}).then(function(){e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),kr.delete(e)}))}(r),n}function El(e){return e._latestChangeEvent>=e.asRxQuery.collection._changeEventBuffer.counter}function $u(e){return e.collection.database.destroyed||El(e)?un:(e._ensureEqualQueue=e._ensureEqualQueue.then(function(){return function(e){if(e._lastEnsureEqual=Yr(),e.collection.database.destroyed||El(e))return un;var t=!1,r=!1;if(-1===e._latestChangeEvent&&(r=!0),!r){var n=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(null===n)r=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.counter,n=n.filter(function(S){return!S.startTime||e._lastExecStart<S.startTime&&(!S.endTime||e._lastExecEnd<S.endTime)});var i=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(n),f=bt(e,i);f.runFullQueryAgain?r=!0:f.changed&&(t=!0,e._setResultData(f.newResults))}}if(r){var d=e.collection._changeEventBuffer.counter;return e._execOverDatabase().then(function(S){return e._latestChangeEvent=d,di()(S,e._resultsData)||(t=!0,e._setResultData(S)),t})}return t}(e)}),e._ensureEqualQueue)}var Uf=l(8675),zf=function(){function e(){this._map=new Map,this._map=new Map}var t=e.prototype;return t.get=function(n){return this._map.get(n)},t.set=function(n,i){return this._map.set(n,i)},t.delete=function(n){return this._map.delete(n)},e}();function Wf(){return new zf}var Vf=function(){function e(r){var n=this;this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=r,this.subs.push(this.collection.$.pipe((0,Xr.h)(function(i){return!i.isLocal})).subscribe(function(i){return n._handleChangeEvent(i)}))}var t=e.prototype;return t._handleChangeEvent=function(n){for(this.counter++,this.buffer.push(n),this.eventCounterMap.set(n,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},t.getArrayIndexByPointer=function(n){var f=this.eventCounterMap.get(this.buffer[0]);return n<f?null:n-f},t.getFrom=function(n){var i=[],f=this.getArrayIndexByPointer(n);if(null===f)return null;for(;;){var d=this.buffer[f];if(f++,!d)return i;i.push(d)}},t.runFrom=function(n,i){var f=this.getFrom(n);if(null===f)throw new Error("out of bounds");f.forEach(function(d){return i(d)})},t.reduceByLastOfDoc=function(n){return n.slice(0)},t.hasChangeWithRevision=function(n){for(var i=this.buffer.length;i>0;){i--;var f=this.buffer[i];if(f.documentData&&f.documentData._rev===n)return!0}return!1},t.destroy=function(){this.subs.forEach(function(n){return n.unsubscribe()})},e}();function Kf(e){return new Vf(e)}var wl=["pre","post"],Sl=["insert","save","remove","create"],Al=!1,lu=function(){function e(r,n,i,f,d){var S=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},j=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},W=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},X=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},re=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},fe=arguments.length>10&&void 0!==arguments[10]?arguments[10]:cu,Se=arguments.length>11&&void 0!==arguments[11]?arguments[11]:{};this._isInMemory=!1,this.destroyed=!1,this._atomicUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._repStates=new Set,this._docCache=Wf(),this._queryCache=ur(),this._crypter={},this._observable$={},this._changeEventBuffer={},this.database=r,this.name=n,this.schema=i,this.storageInstance=f,this.localDocumentsStore=d,this.instanceCreationOptions=S,this.migrationStrategies=j,this.methods=W,this.attachments=X,this.options=re,this.cacheReplacementPolicy=fe,this.statics=Se,$f(this.asRxCollection)}var t=e.prototype;return t.prepare=function(){var r=(0,ot.Z)(Te().mark(function i(f){var S,j,d=this;return Te().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:this._crypter=Fn(this.database.password,this.schema),this._observable$=this.database.$.pipe((0,Xr.h)(function(re){return re.collectionName===d.name})),this._changeEventBuffer=Kf(this.asRxCollection),S=this.storageInstance.changeStream().pipe((0,$t.U)(function(re){return qi(!1,re,d.database,d)})).subscribe(function(re){d.$emit(re)}),this._subs.push(S),j=this.localDocumentsStore.changeStream().pipe((0,$t.U)(function(re){return qi(!0,re,d.database,d)})).subscribe(function(re){return d.$emit(re)}),this._subs.push(j),this._subs.push(this._observable$.pipe((0,Xr.h)(function(re){return!re.isLocal})).subscribe(function(re){var fe=d._docCache.get(re.documentId);fe&&fe._handleChangeEvent(re)}));case 8:case"end":return X.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.migrationNeeded=function(){throw Nt("migration")},t.getDataMigrator=function(){throw Nt("migration")},t.migrate=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getDataMigrator().migrate(n)},t.migratePromise=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getDataMigrator().migratePromise(n)},t._queryStorageInstance=function(){var r=(0,ot.Z)(Te().mark(function i(f,d){var j,W,re,S=this,fe=arguments;return Te().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return j=fe.length>2&&void 0!==fe[2]&&fe[2],W=f.getPreparedQuery(),d&&(W.limit=d),he.next=5,this.database.lockedRun(function(){return S.storageInstance.query(W)});case 5:return re=he.sent.documents.map(function(ee){return Ms(S,ee,j)}),he.abrupt("return",re);case 8:case"end":return he.stop()}},i,this)}));return function(i,f){return r.apply(this,arguments)}}(),t.$emit=function(n){return this.database.$emit(n)},t.insert=function(){var r=(0,ot.Z)(Te().mark(function i(f){var d,S,j,W;return Te().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(d=null,!C(f)){re.next=6;break}if((d=f)._isTemporary){re.next=5;break}throw Ve("COL1",{data:f});case 5:f=d.toJSON();case 6:return S=_i(this,f),j=d,re.next=10,this._runHooks("pre","insert",S);case 10:return this.schema.validate(S),re.next=13,Mo(this,{document:S});case 13:return W=re.sent,d?d._dataSync$.next(W):j=Fo(this,W),re.next=17,this._runHooks("post","insert",S,j);case 17:return re.abrupt("return",j);case 18:case"end":return re.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.bulkInsert=function(){var r=(0,ot.Z)(Te().mark(function i(f){var S,j,W,X,re,fe,Se,d=this;return Te().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(0!==f.length){ee.next=2;break}return ee.abrupt("return",{success:[],error:[]});case 2:return S=f.map(function(le){return _i(d,le)}),ee.next=5,Promise.all(S.map(function(le){return d._runHooks("pre","insert",le).then(function(){return d.schema.validate(le),le})}));case 5:return W=(j=ee.sent).map(function(le){return{document:cn(d,le)}}),X=new Map,j.forEach(function(le){X.set(le[d.schema.primaryPath],le)}),ee.next=11,this.database.lockedRun(function(){return d.storageInstance.bulkWrite(W)});case 11:return re=ee.sent,fe=Array.from(re.success.entries()),Se=fe.map(function(le){var Oe=le[1],be=mi(X,le[0]);return be._rev=Oe._rev,Fo(d,be)}),ee.next=16,Promise.all(Se.map(function(le){return d._runHooks("post","insert",X.get(le.primary),le)}));case 16:return ee.abrupt("return",{success:Se,error:Array.from(re.error.values())});case 17:case"end":return ee.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.bulkRemove=function(){var r=(0,ot.Z)(Te().mark(function i(f){var S,j,W,X,re,fe,Se,d=this;return Te().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(0!==f.length){ee.next=2;break}return ee.abrupt("return",{success:[],error:[]});case 2:return ee.next=4,this.findByIds(f);case 4:return S=ee.sent,j=[],W=new Map,Array.from(S.values()).forEach(function(le){var we=xr(le.toJSON(!0));j.push(we),W.set(le.primary,we)}),ee.next=10,Promise.all(j.map(function(le){return d._runHooks("pre","remove",le,S.get(le[d.schema.primaryPath]))}));case 10:return X=j.map(function(le){var we=Wt(le);return we._deleted=!0,{previous:cn(d,le),document:cn(d,we)}}),ee.next=13,this.database.lockedRun(function(){return d.storageInstance.bulkWrite(X)});case 13:return re=ee.sent,fe=Array.from(re.success.keys()),ee.next=17,Promise.all(fe.map(function(le){return d._runHooks("post","remove",W.get(le),S.get(le))}));case 17:return Se=fe.map(function(le){return S.get(le)}),ee.abrupt("return",{success:Se,error:Array.from(re.error.values())});case 19:case"end":return ee.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.upsert=function(n){var i=this,f=_i(this,n),d=f[this.schema.primaryPath];if(!d)throw Ve("COL3",{primaryPath:this.schema.primaryPath,data:f,schema:this.schema.jsonSchema});return this.findOne(d).exec().then(function(S){return S&&!S.deleted?(f._rev=S._rev,S.atomicUpdate(function(){return f}).then(function(){return S})):i.insert(n)})},t.atomicUpsert=function(n){var S,i=this,f=_i(this,n),d=f[this.schema.primaryPath];if(!d)throw Ve("COL4",{data:n});return S=(S=this._atomicUpsertQueues.has(d)?this._atomicUpsertQueues.get(d):Rn).then(function(){return function(e,t,r){var n=e._docCache.get(t);return n?Promise.resolve({doc:n,inserted:!1}):e.findOne(t).exec().then(function(i){return i?{doc:i,inserted:!1}:e.insert(r).then(function(f){return{doc:f,inserted:!0}})})}(i,d,f)}).then(function(j){return j.inserted?j.doc:function(e,t){return e.atomicUpdate(function(r){return t._rev=r._rev,r._data=t,r._data}).then(function(){return e})}(j.doc,f).then(function(){return Jn()}).then(function(){return Jn()}).then(function(){return Jn()}).then(function(){return j.doc})}),this._atomicUpsertQueues.set(d,S),S},t.find=function(n){if("string"==typeof n)throw Ve("COL5",{queryObj:n});return n||(n={selector:{}}),Ku("find",n,this)},t.findOne=function(n){var i;if("string"==typeof n){var f;i=Ku("findOne",{selector:(f={},f[this.schema.primaryPath]=n,f)},this)}else{if(n||(n={selector:{}}),n.limit)throw Ve("QU6");i=Ku("findOne",n,this)}if("number"==typeof n||Array.isArray(n))throw Lt("COL6",{queryObj:n});return i},t.findByIds=function(){var r=(0,ot.Z)(Te().mark(function i(f){var S,j,d=this;return Te().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(S=new Map,j=[],f.forEach(function(fe){var Se=d._docCache.get(fe);Se?S.set(fe,Se):j.push(fe)}),!(j.length>0)){re.next=8;break}return re.next=6,this.storageInstance.findDocumentsById(j,!1);case 6:Array.from(re.sent.values()).forEach(function(fe){fe=Ms(d,fe);var Se=Fo(d,fe);S.set(Se.primary,Se)});case 8:return re.abrupt("return",S);case 9:case"end":return re.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.findByIds$=function(n){var i=this,f=null,d=-1,S=this.findByIds(n).then(function(j){d=i._changeEventBuffer.counter,f=j});return this.$.pipe((0,Uf.O)(null),(0,hr.z)(function(j){return S.then(function(){return j})}),(0,hr.z)(function(){var j=(0,ot.Z)(Te().mark(function W(X){var re,fe;return Te().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(re=La(f),null!==(fe=i._changeEventBuffer.getFrom(d+1))){ee.next=10;break}return ee.next=5,i.findByIds(n);case 5:d=i._changeEventBuffer.counter,Array.from(ee.sent.entries()).forEach(function(le){return re.set(le[0],le[1])}),ee.next=11;break;case 10:fe.filter(function(le){return n.includes(le.documentId)}).forEach(function(le){var we=le.operation;"INSERT"===we||"UPDATE"===we?re.set(le.documentId,i._docCache.get(le.documentId)):re.delete(le.documentId)});case 11:return ee.abrupt("return",re);case 12:case"end":return ee.stop()}},W)}));return function(W){return j.apply(this,arguments)}}()),(0,Xr.h)(function(j){return!!j}),Tu({bufferSize:1,refCount:!0}))},t.exportJSON=function(){throw Nt("json-dump")},t.importJSON=function(n){throw Nt("json-dump")},t.syncCouchDB=function(n){throw Nt("replication")},t.syncGraphQL=function(n){throw Nt("replication-graphql")},t.inMemory=function(){throw Nt("in-memory")},t.addHook=function(n,i,f){var d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof f)throw Lt("COL7",{key:i,when:n});if(!wl.includes(n))throw Lt("COL8",{key:i,when:n});if(!Sl.includes(i))throw Ve("COL9",{key:i});if("post"===n&&"create"===i&&!0===d)throw Ve("COL10",{when:n,key:i,parallel:d});var S=f.bind(this),j=d?"parallel":"series";this.hooks[i]=this.hooks[i]||{},this.hooks[i][n]=this.hooks[i][n]||{series:[],parallel:[]},this.hooks[i][n][j].push(S)},t.getHooks=function(n,i){try{return this.hooks[i][n]}catch{return{series:[],parallel:[]}}},t._runHooks=function(n,i,f,d){var S=this.getHooks(n,i);return S?function(e,t){return e.reduce(function(r,n){return r.then(n)},Promise.resolve(void 0))}(S.series.map(function(W){return function(){return W(f,d)}})).then(function(){return Promise.all(S.parallel.map(function(W){return W(f,d)}))}):Rn},t._runHooksSync=function(n,i,f,d){var S=this.getHooks(n,i);!S||S.series.forEach(function(j){return j(f,d)})},t.newDocument=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n=this.schema.fillObjectWithDefaults(n);var i=V(Ei(this),this,n);return i._isTemporary=!0,this._runHooksSync("post","create",n,i),i},t.destroy=function(){var n=this;return this.destroyed?un:(this._onDestroyCall&&this._onDestroyCall(),this._subs.forEach(function(i){return i.unsubscribe()}),this._changeEventBuffer&&this._changeEventBuffer.destroy(),Array.from(this._repStates).forEach(function(i){return i.cancel()}),Promise.all([this.storageInstance.close(),this.localDocumentsStore.close()]).then(function(){return delete n.database.collections[n.name],n.destroyed=!0,Qi("postDestroyRxCollection",n).then(function(){return!0})}))},t.remove=function(){return this.database.removeCollection(this.name)},Tn(e,[{key:"$",get:function(){return this._observable$}},{key:"insert$",get:function(){return this.$.pipe((0,Xr.h)(function(n){return"INSERT"===n.operation}))}},{key:"update$",get:function(){return this.$.pipe((0,Xr.h)(function(n){return"UPDATE"===n.operation}))}},{key:"remove$",get:function(){return this.$.pipe((0,Xr.h)(function(n){return"DELETE"===n.operation}))}},{key:"onDestroy",get:function(){var n=this;return this._onDestroy||(this._onDestroy=new Promise(function(i){return n._onDestroyCall=i})),this._onDestroy}},{key:"asRxCollection",get:function(){return this}}]),e}();function $f(e){if(!Al){Al=!0;var t=Object.getPrototypeOf(e);Sl.forEach(function(r){wl.map(function(n){var i=n+Ao(r);t[i]=function(f,d){return this.addHook(n,r,f,d)}})})}}function Qf(e,t){var r=e.database,n=e.name,i=e.schema,f=e.instanceCreationOptions,d=void 0===f?{}:f,S=e.migrationStrategies,j=void 0===S?{}:S,W=e.autoMigrate,X=void 0===W||W,re=e.statics,fe=void 0===re?{}:re,Se=e.methods,he=void 0===Se?{}:Se,ee=e.attachments,le=void 0===ee?{}:ee,we=e.options,Oe=void 0===we?{}:we,be=e.cacheReplacementPolicy,ke=void 0===be?cu:be;ar.isDevMode()&&Object.keys(he).filter(function(Ge){return i.topLevelFields.includes(Ge)}).forEach(function(Ge){throw Ve("COL18",{funName:Ge})});var xe={databaseName:r.name,collectionName:n,schema:i.jsonSchema,options:d,idleQueue:r.idleQueue};return qt("preCreateRxStorageInstance",xe),ks(n,r,xe,d).then(function(Ge){var We=new lu(r,n,i,Ge.storageInstance,Ge.localDocumentsStore,d,j,he,le,Oe,ke,fe);return We.prepare(t).then(function(){Object.entries(fe).forEach(function(Et){var Dt=Et[1];Object.defineProperty(We,Et[0],{get:function(){return Dt.bind(We)}})});var Ke=Rn;return X&&0!==We.schema.version&&(Ke=We.migratePromise()),Ke}).then(function(){return qt("createRxCollection",We),We}).catch(function(Ke){return Promise.all([Ge.storageInstance.close(),Ge.localDocumentsStore.close()]).then(function(){return Promise.reject(Ke)})})})}var Hu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function Gu(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var r=e._pHM.get(t);e._hPM.delete(r),e._pHM.delete(t)}e._iC.delete(t)}}function Qu(e){e._tryIR||0===e._iC.size||(e._tryIR=!0,setTimeout(function(){e.isIdle()?setTimeout(function(){e.isIdle()?(function(e){0!==e._iC.size&&(e._iC.values().next().value._manRes(),setTimeout(function(){return Qu(e)},0))}(e),e._tryIR=!1):e._tryIR=!1},0):e._tryIR=!1},0))}Hu.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,Qu(this)},wrapCall:function(t){var n,r=this;this.lock();try{n=t()}catch(i){throw this.unlock(),i}return n.then&&"function"==typeof n.then?n.then(function(i){return r.unlock(),i}).catch(function(i){throw r.unlock(),i}):(this.unlock(),n)},requestIdlePromise:function(t){var r=this;t=t||{};var n,i=new Promise(function(S){return n=S});if(i._manRes=function(){Gu(r,i),n()},t.timeout){var d=setTimeout(function(){i._manRes()},t.timeout);i._timeoutObj=d}return this._iC.add(i),Qu(this),i},cancelIdlePromise:function(t){Gu(this,t)},requestIdleCallback:function(t,r){var n=this._lHN++,i=this.requestIdlePromise(r);return this._hPM.set(n,i),this._pHM.set(i,n),i.then(function(){return t()}),n},cancelIdleCallback:function(t){var r=this._hPM.get(t);this.cancelIdlePromise(r)},clear:function(){var t=this;this._iC.forEach(function(r){return Gu(t,r)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}},Promise.resolve(!1);var ss=Promise.resolve();function Cl(e){return e||(e=0),new Promise(function(t){return setTimeout(t,e)})}function Zu(){return Math.random().toString(36).substring(2)}var Dl=0,Yu=0;function fu(){var e=(new Date).getTime();return e===Dl?1e3*e+ ++Yu:(Dl=e,Yu=0,1e3*e)}var du="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);const od={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(r){t.messagesCallback&&t.messagesCallback(r.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),ss}catch(r){return Promise.reject(r)}},canBeUsed:function(){if(du&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 150},microSeconds:fu};var Ju=function(){function e(t){this.ttl=t,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(t){return this.set.has(t)},e.prototype.add=function(t){var r=this;this.timeMap.set(t,Ol()),this.set.add(t),setTimeout(function(){!function(e){for(var t=Ol()-e.ttl,r=e.set[Symbol.iterator]();;){var n=r.next().value;if(!n)return;if(!(e.timeMap.get(n)<t))return;e.timeMap.delete(n),e.set.delete(n)}}(r)},0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function Ol(){return(new Date).getTime()}function Xu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var Sn="messages";function Pl(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function Il(e){e.closed||Tl(e).then(function(){return Cl(e.options.idb.fallbackInterval)}).then(function(){return Il(e)})}function Tl(e){return e.closed||!e.messagesCallback?ss:function(e,t){var r=e.transaction(Sn).objectStore(Sn),n=[];return new Promise(function(f){(function(){try{var f=IDBKeyRange.bound(t+1,1/0);return r.openCursor(f)}catch{return r.openCursor()}}()).onsuccess=function(d){var S=d.target.result;S?S.value.id<t+1?S.continue(t+1):(n.push(S.value),S.continue()):f(n)}})}(e.db,e.lastCursorId).then(function(t){var r=t.filter(function(n){return!!n}).map(function(n){return n.id>e.lastCursorId&&(e.lastCursorId=n.id),n}).filter(function(n){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(n,e)}).sort(function(n,i){return n.time-i.time});return r.forEach(function(n){e.messagesCallback&&(e.eMIs.add(n.id),e.messagesCallback(n.data))}),ss})}const Ad={create:function(e,t){return t=Xu(t),function(e){var n=Pl().open("pubkey.broadcast-channel-0-"+e,1);return n.onupgradeneeded=function(f){f.target.result.createObjectStore(Sn,{keyPath:"id",autoIncrement:!0})},new Promise(function(f,d){n.onerror=function(S){return d(S)},n.onsuccess=function(){f(n.result)}})}(e).then(function(r){var n={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:Zu(),eMIs:new Ju(2*t.idb.ttl),writeBlockPromise:ss,messagesCallback:null,readQueuePromises:[],db:r};return r.onclose=function(){n.closed=!0,t.idb.onclose&&t.idb.onclose()},Il(n),n})},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t,Tl(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return function(e,t,r){var i={uuid:t,time:(new Date).getTime(),data:r},f=e.transaction([Sn],"readwrite");return new Promise(function(d,S){f.oncomplete=function(){return d()},f.onerror=function(W){return S(W)},f.objectStore(Sn).add(i)})}(e.db,e.uuid,t)}).then(function(){0===Math.floor(11*Math.random()+0)&&function(e,t){(function(e,t){var r=(new Date).getTime()-t,n=e.transaction(Sn).objectStore(Sn),i=[];return new Promise(function(f){n.openCursor().onsuccess=function(d){var S=d.target.result;if(S){var j=S.value;if(!(j.time<r))return void f(i);i.push(j),S.continue()}else f(i)}})})(e,t).then(function(r){return Promise.all(r.map(function(n){return function(e,t){var r=e.transaction([Sn],"readwrite").objectStore(Sn).delete(t);return new Promise(function(n){r.onsuccess=function(){return n()}})}(e,n.id)}))})}(e.db,e.options.idb.ttl)}),e.writeBlockPromise},canBeUsed:function(){return!du&&!!Pl()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:fu};function Rl(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function xl(e){return"pubkey.broadcastChannel-"+e}function Ml(){if(du)return!1;var e=Rl();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}const Ld={create:function(e,t){if(t=Xu(t),!Ml())throw new Error("BroadcastChannel: localstorage cannot be used");var r=Zu(),n=new Ju(t.localstorage.removeTimeout),i={channelName:e,uuid:r,eMIs:n};return i.listener=function(e,t){var r=xl(e),n=function(f){f.key===r&&t(JSON.parse(f.newValue))};return window.addEventListener("storage",n),n}(e,function(f){!i.messagesCallback||f.uuid!==r&&(!f.token||n.has(f.token)||f.data.time&&f.data.time<i.messagesCallbackTime||(n.add(f.token),i.messagesCallback(f.data)))}),i},close:function(e){!function(e){window.removeEventListener("storage",e)}(e.listener)},onMessage:function(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(r){Cl().then(function(){var n=xl(e.channelName),i={token:Zu(),time:(new Date).getTime(),data:t,uuid:e.uuid},f=JSON.stringify(i);Rl().setItem(n,f);var d=document.createEvent("Event");d.initEvent("storage",!0,!0),d.key=n,d.newValue=f,window.dispatchEvent(d),r()})})},canBeUsed:Ml,type:"localstorage",averageResponseTime:function(){var t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?240:120},microSeconds:fu};var Bd=fu,qu=new Set;const Kd={create:function(e){var t={name:e,messagesCallback:null};return qu.add(t),t},close:function(e){qu.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(r){return setTimeout(function(){Array.from(qu).filter(function(i){return i.name===e.name}).filter(function(i){return i!==e}).filter(function(i){return!!i.messagesCallback}).forEach(function(i){return i.messagesCallback(t)}),r()},5)})},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:Bd};var kl=[od,Ad,Ld],ec=function(t,r){this.name=t,this.options=Xu(r),this.method=function(e){var t=[].concat(e.methods,kl).filter(Boolean);if(e.type){if("simulate"===e.type)return Kd;var r=t.find(function(i){return i.type===e.type});if(r)return r;throw new Error("method-type "+e.type+" not found")}!e.webWorkerSupport&&!du&&(t=t.filter(function(i){return"idb"!==i.type}));var n=t.find(function(i){return i.canBeUsed()});if(n)return n;throw new Error("No useable method found in "+JSON.stringify(kl.map(function(i){return i.type})))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,function(e){var t=e.method.create(e.name,e.options);!function(e){return!(!e||"function"!=typeof e.then)}(t)?e._state=t:(e._prepP=t,t.then(function(r){e._state=r}))}(this)};function Ll(e,t,r){var i={time:e.method.microSeconds(),type:t,data:r};return(e._prepP?e._prepP:ss).then(function(){var d=e.method.postMessage(e._state,i);return e._uMP.add(d),d.catch().then(function(){return e._uMP.delete(d)}),d})}function Bl(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Fl(e,t,r){e._addEL[t].push(r),function(e){if(!e._iL&&Bl(e)){var t=function(i){e._addEL[i.type].forEach(function(f){i.time>=f.time&&f.fn(i.data)})},r=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,r)}):(e._iL=!0,e.method.onMessage(e._state,t,r))}}(e)}function Nl(e,t,r){e._addEL[t]=e._addEL[t].filter(function(n){return n!==r}),function(e){if(e._iL&&!Bl(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}ec._pubkey=!0,ec.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return Ll(this,"message",t)},postInternal:function(t){return Ll(this,"internal",t)},set onmessage(e){var r={time:this.method.microSeconds(),fn:e};Nl(this,"message",this._onML),e&&"function"==typeof e?(this._onML=r,Fl(this,"message",r)):this._onML=null},addEventListener:function(t,r){Fl(this,t,{time:this.method.microSeconds(),fn:r})},removeEventListener:function(t,r){Nl(this,t,this._addEL[t].find(function(i){return i.fn===r}))},close:function(){var t=this;if(!this.closed){this.closed=!0;var r=this._prepP?this._prepP:ss;return this._onML=null,this._addEL.message=[],r.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(n){return n()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var rc=new Set,hu=function(){function e(r,n,i,f,d){var S=arguments.length>5&&void 0!==arguments[5]&&arguments[5],j=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},W=arguments.length>7?arguments[7]:void 0,X=arguments.length>8?arguments[8]:void 0,re=arguments.length>9?arguments[9]:void 0,fe=arguments.length>10?arguments[10]:void 0;this.token=Co(10),this._subs=[],this.destroyed=!1,this.subject=new jn.x,this.observable$=this.subject.asObservable(),this.broadcastChannel$=new jn.x,this.name=r,this.storage=n,this.instanceCreationOptions=i,this.password=f,this.multiInstance=d,this.eventReduce=S,this.options=j,this.idleQueue=W,this.internalStore=X,this.localDocumentsStore=re,this.broadcastChannel=fe,this.collections={}}var t=e.prototype;return t.dangerousRemoveCollectionInfo=function(){var r=(0,ot.Z)(Te().mark(function i(){var d;return Te().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,_n(this.internalStore);case 2:return d=j.sent.map(function(W){var X=Wt(W);return X._deleted=!0,{previous:W,document:X}}),j.next=6,this.internalStore.bulkWrite(d);case 6:case"end":return j.stop()}},i,this)}));return function(){return r.apply(this,arguments)}}(),t.$emit=function(n){this.subject.next(n),n.databaseToken===this.token&&function(e,t){if(e.destroyed)return un;e.multiInstance&&!function(e){return!(!e.collectionName||"_"!==e.collectionName.charAt(0))}(t)&&e.broadcastChannel&&e.broadcastChannel.postMessage({cE:t,storageToken:e.storageToken}).then(function(){return!0})}(this,n)},t.removeCollectionDoc=function(){var r=(0,ot.Z)(Te().mark(function i(f,d){var j,W,X,S=this;return Te().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return j=pu(f,d),fe.next=3,Yi(this.internalStore,j);case 3:if(W=fe.sent){fe.next=6;break}throw Ve("SNH",{name:f,schema:d});case 6:return(X=Wt(W))._deleted=!0,fe.next=10,this.lockedRun(function(){return S.internalStore.bulkWrite([{document:X,previous:W}])});case 10:case"end":return fe.stop()}},i,this)}));return function(i,f){return r.apply(this,arguments)}}(),t.addCollections=function(){var r=(0,ot.Z)(Te().mark(function i(f){var j,W,re,fe,d=this;return Te().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,this.lockedRun(function(){return d.internalStore.findDocumentsById(Object.keys(f).map(function(ee){return pu(ee,f[ee].schema)}),!1)});case 2:return j={},Array.from(he.sent.entries()).forEach(function(ee){j[ee[0]]=ee[1]}),W={},he.next=8,Promise.all(Object.entries(f).map(function(ee){var le=ee[0],we=ee[1],Oe=le,be=j[pu(le,f[Oe].schema)],ke=Wt(we);ke.name=Oe;var xe=St(we.schema);if(W[Oe]=xe.hash,ke.schema=xe,ke.database=d,xe.crypt&&!d.password)throw Ve("DB7",{name:le});if(d.collections[le])throw Ve("DB3",{name:le});if(be&&be.schemaHash!==W[Oe])throw Ve("DB6",{name:le,previousSchemaHash:be.schemaHash,schemaHash:W[Oe]});var Ge=Wt(we);return Ge.database=d,Ge.name=le,qt("preCreateRxCollection",Ge),Qf(ke,!!be)}));case 8:if(re=[],fe={},he.sent.forEach(function(ee){var le=ee.name;fe[le]=ee;var we=pu(le,f[le].schema);j[we]||re.push({document:{collectionName:we,schemaHash:W[le],schema:ee.schema.normalized,version:ee.schema.version,_attachments:{}}}),d.collections[le]=ee,d[le]||Object.defineProperty(d,le,{get:function(){return d.collections[le]}})}),!(re.length>0)){he.next=15;break}return he.next=15,this.lockedRun(function(){return d.internalStore.bulkWrite(re)});case 15:return he.abrupt("return",fe);case 16:case"end":return he.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.removeCollection=function(n){var i=this,f=Rn;return this.collections[n]&&(f=this.collections[n].destroy()),f.then(function(){return function(e,t){return sc.apply(this,arguments)}(i,n)}).then(function(d){return Promise.all(d.map(function(S){return ks(n,i,{databaseName:i.name,collectionName:n,idleQueue:i.idleQueue,schema:ii(S,"collectionName"),options:i.instanceCreationOptions},{})}))}).then(function(d){return Promise.all(d.map(function(S){return i.lockedRun(function(){return Promise.all([S.storageInstance.remove(),S.localDocumentsStore.remove()])})}))}).then(function(){})},t.lockedRun=function(n){return this.idleQueue.wrapCall(n)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(){throw Nt("json-dump")},t.importJSON=function(n){throw Nt("json-dump")},t.server=function(n){throw Nt("server")},t.backup=function(n){throw Nt("backup")},t.leaderElector=function(){throw Nt("leader-election")},t.isLeader=function(){throw Nt("leader-election")},t.waitForLeadership=function(){throw Nt("leader-election")},t.migrationStates=function(){throw Nt("migration")},t.destroy=function(){var n=this;return this.destroyed||(qt("preDestroyRxDatabase",this),this.destroyed=!0,this._subs.map(function(i){return i.unsubscribe()}),"pseudoInstance"===this.name)?un:this.requestIdlePromise().then(function(){return Promise.all(Object.keys(n.collections).map(function(i){return n.collections[i]}).map(function(i){return i.destroy()}))}).then(function(){return n.internalStore.close()}).then(function(){return n.localDocumentsStore.close()}).then(function(){return n.broadcastChannel?n.broadcastChannel.close():null}).then(function(){return rc.delete(n.name)}).then(function(){return!0})},t.remove=function(){var n=this;return this.destroy().then(function(){return function(e,t){return uc.apply(this,arguments)}(n.name,n.storage)})},Tn(e,[{key:"$",get:function(){return this.observable$}}]),e}();function Yd(e){return ic.apply(this,arguments)}function ic(){return ic=(0,ot.Z)(Te().mark(function e(t){var r,n,i;return Te().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return r="storageToken",d.next=3,xs(t.localDocumentsStore,r);case 3:if(n=d.sent){d.next=11;break}return i=Co(10),d.next=8,t.localDocumentsStore.bulkWrite([{document:{_id:r,value:i,_attachments:{}}}]);case 8:return d.abrupt("return",i);case 11:return d.abrupt("return",n.value);case 12:case"end":return d.stop()}},e)})),ic.apply(this,arguments)}function pu(e,t){return e+"-"+t.version}function sc(){return sc=(0,ot.Z)(Te().mark(function e(t,r){var i;return Te().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,t.lockedRun(function(){return _n(t.internalStore)});case 2:return i=d.sent.filter(function(S){return S.collectionName.split("-")[0]===r}),d.abrupt("return",Promise.all(i.map(function(S){var j=Wt(S);return j._deleted=!0,t.lockedRun(function(){return Ro(t.internalStore,{previous:S,document:j})})})).then(function(){return i.map(function(S){return S.version})}));case 5:case"end":return d.stop()}},e)})),sc.apply(this,arguments)}function qd(e){if(!e.broadcastChannel)throw Ve("SNH",{args:{rxDatabase:e}});e.broadcastChannel.addEventListener("message",function(t){t.storageToken===e.storageToken&&t.cE.databaseToken!==e.token&&e.broadcastChannel$.next(t.cE)}),e._subs.push(e.broadcastChannel$.subscribe(function(t){e.$emit(t)}))}function jl(e,t,r,n,i){return oc.apply(this,arguments)}function oc(){return oc=(0,ot.Z)(Te().mark(function e(t,r,n,i,f){var d;return Te().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,t.createStorageInstance({databaseName:r,collectionName:Pu,schema:ii(0,"collectionName"),options:n,idleQueue:i,broadcastChannel:f});case 2:return d=W.sent,W.next=5,t.createKeyObjectStorageInstance({databaseName:r,collectionName:"",options:n,idleQueue:i,broadcastChannel:f});case 5:return W.abrupt("return",{internalStore:d,localDocumentsStore:W.sent});case 7:case"end":return W.stop()}},e)})),oc.apply(this,arguments)}function ac(){return ac=(0,ot.Z)(Te().mark(function e(t){var r;return Te().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=t.localDocumentsStore.changeStream().subscribe(function(f){t.$emit(qi(!0,f,t))}),t._subs.push(r),i.next=4,Yd(t);case 4:t.storageToken=i.sent,t.multiInstance&&qd(t);case 6:case"end":return i.stop()}},e)})),ac.apply(this,arguments)}function uc(){return uc=(0,ot.Z)(Te().mark(function e(t,r){var n,i,f;return Te().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return n=new Hu,S.next=3,jl(r,t,{},n);case 3:return i=S.sent,S.next=6,_n(i.internalStore);case 6:return f=S.sent,S.next=9,Promise.all(f.map(function(){var j=(0,ot.Z)(Te().mark(function W(X){var fe,Se,he,ee,le,we,Oe,be;return Te().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return fe=X.schema,Se=X.collectionName.split("-"),he=Se[0],ee=parseInt(Se[1],10),le=G(fe.primaryKey),xe.next=8,Promise.all([r.createStorageInstance({databaseName:t,collectionName:he,schema:ii(ee,le),options:{},idleQueue:n}),r.createKeyObjectStorageInstance({databaseName:t,collectionName:ko(he),options:{},idleQueue:n})]);case 8:return Oe=(we=xe.sent)[0],be=we[1],xe.next=13,Promise.all([Oe.remove(),be.remove()]);case 13:case"end":return xe.stop()}},W)}));return function(W){return j.apply(this,arguments)}}()));case 9:return S.abrupt("return",Promise.all([i.internalStore.remove(),i.localDocumentsStore.remove()]));case 10:case"end":return S.stop()}},e)})),uc.apply(this,arguments)}var nh={RxSchema:g.prototype,Crypter:Mr.prototype,RxDocument:bi,RxQuery:Ai.prototype,RxCollection:lu.prototype,RxDatabase:hu.prototype},cc=new Set;function Vo(e){if(qt("preAddRxPlugin",{plugin:e,plugins:cc}),!cc.has(e)){if(cc.add(e),!e.rxdb)throw Lt("PL1",{plugin:e});e.prototypes&&Object.entries(e.prototypes).forEach(function(t){return(0,t[1])(nh[t[0]])}),e.overwritable&&Object.assign(ar,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(function(t){return Cr[t[0]].push(t[1])})}}var lc,fc,dc,Ul={UT1:"given name is no string or empty",UT2:"collection- and database-names must match the regex to be compatible with couchdb databases.\n    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/\n    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'",UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",PL1:"Given plugin is not RxDB plugin. Pouchdb plugins must be added via addPouchPlugin()",PL2:"You tried importy a RxDB plugin to pouchdb. Use addRxPlugin() instead.",P1:"PouchDB.getBatch: limit must be > 2",P2:"bulkWrite() cannot be called with an empty array",P3:"bulkAddRevisions cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU7:"query must be an object",QU8:"query cannot be an array",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase.[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://pubkey.github.io/rxdb/questions-answers.html#cant-change-the-schema",DB7:"RxDatabase.addCollections(): schema encrypted but no password given",DB8:"RxDatabase.create(): A RxDatabase with the same name and adapter already exists.\nMake sure to use this combination only once or set ignoreDuplicate to true if you do this intentional",DB9:"RxDatabase.create(): Adapter not added. Use RxDB.plugin(require('pouchdb-adapter-[adaptername]');",DB10:"RxDatabase.create(): To use leveldown-adapters, you have to add the leveldb-plugin. Use RxDB.plugin(require('pouchdb-adapter-leveldb'));",DB11:"RxDatabase.create(): Invalid db-name, folder-paths must not have an ending slash",COL1:"RxDocument.insert() You cannot insert an existing document",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.atomicUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL19:"Document document update conflict, when changing a document you must work on the previous revision",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): cant save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",AT1:"to use attachments, please define this in your schema",EN1:"password is no string",EN2:"validatePassword: min-length of password not complied",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ cant use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not useable on local documents",LD7:"Local document already exists",RC1:"Replication: already added",RC2:"RxCollection.syncCouchDB() query must be from the same RxCollection",RC3:"RxCollection.syncCouchDB() Do not use a collection's pouchdb as remote, use the collection instead",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await inital replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await inital replication if multiInstance because the replication might run on another instance",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",DEV1:"dev-mode added multiple times, this is likely because you have mixed up the import from the the plugins/core and the full RxDB",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",IM1:"InMemory: Memory-Adapter must be added. Use addPouchPlugin(require('pouchdb-adapter-memory'));",IM2:"inMemoryCollection.sync(): Do not replicate with the in-memory instance. Replicate with the parent instead",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"cannot find sub schema by key",SNH:"This should never happen"},ah=new(Lo(bi));function zl(){if(!dc){var t=Object.getOwnPropertyNames(ah),r=Object.getOwnPropertyNames(bi);dc=[].concat(t,r,["deleted","synced"])}return dc}function ch(e){return function r(n,i){"object"==typeof n&&Object.keys(n).forEach(function(f){n.properties||function(n,i,f){if("string"==typeof n&&"object"==typeof i&&!Array.isArray(i)&&function(e){if(""!==e&&"_deleted"!==e){if(["properties","language"].includes(e))throw Ve("SC23",{fieldName:e});var t="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",r=new RegExp(t);if(!e.match(r))throw Ve("SC1",{regex:t,fieldName:e})}}(n),i.hasOwnProperty("item")&&"array"!==i.type)throw Ve("SC2",{fieldName:n});if(i.hasOwnProperty("required")&&"boolean"==typeof i.required)throw Ve("SC24",{fieldName:n});if(i.hasOwnProperty("ref"))if(Array.isArray(i.type)){if(i.type.length>2||!i.type.includes("string")||!i.type.includes("null"))throw Ve("SC4",{fieldName:n})}else switch(i.type){case"string":break;case"array":if(!i.items||!i.items.type||"string"!==i.items.type)throw Ve("SC3",{fieldName:n});break;default:throw Ve("SC4",{fieldName:n})}var d=f.split(".").length>=2;if(d){if(i.primary)throw Ve("SC6",{path:f,primary:i.primary});if(i.default)throw Ve("SC7",{path:f})}if(!d&&"_"===n.charAt(0)){if("_deleted"===n)return;throw Ve("SC8",{fieldName:n})}}(f,n[f],i);var d=i;"properties"!==f&&(d=d+"."+f),r(n[f],d)})}(e,""),!0}function Wl(e){for(var t=e.split("."),r="",n=0;n<t.length;n+=1)r=r.concat("[]"!==t[n]?".properties.".concat(t[n]):".items");return dt(r)}function hc(e){!e||Object.entries(e).forEach(function(t){var r=t[0],n=t[1];if("string"!=typeof r)throw Lt("COL14",{name:r});if(r.startsWith("_"))throw Lt("COL15",{name:r});if("function"!=typeof n)throw Lt("COL16",{name:r,type:typeof r});if(function(){if(!lc){var e=new lu,t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));lc=[].concat(t,r)}return lc}().includes(r)||zl().includes(r))throw Ve("COL17",{name:r})})}var Vl="^[a-z][_$a-z0-9\\-]*$",mh=new RegExp(Vl);function Kl(e){if("string"!=typeof e||0===e.length)throw Lt("UT1",{name:e});if(ei(e))return!0;if(!e.match(mh))throw Ve("UT2",{regex:Vl,givenName:e});return!0}var gh=l(4949),yh=l.n(gh),$l="dev-mode",bh={name:$l,rxdb:!0,overwritable:{isDevMode:function(){return!0},deepFreezeWhenDevMode:function(e){return e&&yh()(e)},tunnelErrorMessage:function(t){if(!Ul[t])throw console.error("RxDB: Error-Code not known: "+t),new Error("Error-Code "+t+" not known, contact the maintainer");return Ul[t]}},hooks:{preAddRxPlugin:function(t){if(t.plugin.name===$l)throw Ve("DEV1",{plugins:t.plugins})},preCreateRxSchema:function(e){if(!e.primaryKey)throw Ve("SC30",{schema:e});if(!e.hasOwnProperty("properties"))throw Ve("SC29",{schema:e});if(e.properties._rev)throw Ve("SC10",{schema:e});if(!e.hasOwnProperty("version")||"number"!=typeof e.version||e.version<0)throw Ve("SC11",{version:e.version});if(ch(e),function(e){if(!e.primaryKey)throw Ve("SC30",{schema:e});function t(d){if(!d)throw Ve("SC33",{schema:e});var S=d.type;if(!S||!["string","number","integer"].includes(S))throw Ve("SC32",{schema:e,args:{schemaPart:d}})}if("string"==typeof e.primaryKey)t(e.properties[e.primaryKey]);else{var i=e.primaryKey;t(Bn(e,i.key)),i.fields.forEach(function(d){t(Bn(e,d))})}}(e),Object.keys(e.properties).forEach(function(t){var r=e.properties[t];if(t===e.primaryKey){if(e.indexes&&e.indexes.includes(t))throw Ve("SC13",{value:r,schema:e});if(r.unique)throw Ve("SC14",{value:r,schema:e});if(e.encrypted&&e.encrypted.includes(t))throw Ve("SC15",{value:r,schema:e});if("string"!==r.type)throw Ve("SC16",{value:r,schema:e})}if(zl().includes(t))throw Ve("SC17",{key:t,schema:e})}),e.indexes){if(!Array.isArray(e.indexes))throw Ve("SC18",{indexes:e.indexes,schema:e});e.indexes.forEach(function(t){if("string"!=typeof t&&!Array.isArray(t))throw Ve("SC19",{index:t,schema:e});if(Array.isArray(t))for(var r=0;r<t.length;r+=1)if("string"!=typeof t[r])throw Ve("SC20",{index:t,schema:e})})}if(Object.keys(e).includes("compoundIndexes"))throw Ve("SC25",{schema:e});Object.keys($i(e)).map(function(t){var r=t.split(".");return r.pop(),r.join(".")}).filter(function(t){return""!==t}).filter(function(t,r,n){return n.indexOf(t)===r}).filter(function(t){return!!fr().get(e,t).index}).forEach(function(t){throw Ve("SC26",{index:dt(t=(t=t.replace("properties.","")).replace(/\.properties\./g,".")),schema:e})}),(e.indexes||[]).reduce(function(t,r){return Array.isArray(r)?t.concat(r):t.push(r),t},[]).filter(function(t,r,n){return n.indexOf(t)===r}).map(function(t){var r=Wl(t),n=fr().get(e,r);if(!n||"object"!=typeof n)throw Ve("SC21",{index:t,schema:e});return{indexPath:t,schemaObj:n}}).filter(function(t){return"string"!==t.schemaObj.type&&"integer"!==t.schemaObj.type&&"number"!==t.schemaObj.type}).forEach(function(t){throw Ve("SC22",{key:t.indexPath,type:t.schemaObj.type,schema:e})}),Object.keys($i(e)).map(function(t){var r=t.split(".");return r.pop(),r.join(".")}).filter(function(t){return""!==t&&"attachments"!==t}).filter(function(t,r,n){return n.indexOf(t)===r}).filter(function(t){return!!fr().get(e,t).encrypted}).forEach(function(t){throw Ve("SC27",{index:dt(t=(t=t.replace("properties.","")).replace(/\.properties\./g,".")),schema:e})}),e.encrypted&&e.encrypted.forEach(function(t){var r=Wl(t),n=fr().get(e,r);if(!n||"object"!=typeof n)throw Ve("SC28",{field:t,schema:e})})},preCreateRxDatabase:function(t){!function(e){if(Kl(e.name),ei(e.name)&&(e.name.endsWith("/")||e.name.endsWith("\\")))throw Ve("DB11",{name:e.name})}(t)},preCreateRxCollection:function(t){if(function(e){if(function(){if(!fc){var e=new hu("pseudoInstance","memory"),t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));fc=[].concat(t,r),e.destroy()}return fc}().includes(e.name))throw Ve("DB5",{name:e.name});Kl(e.name)}(t),"_"===t.name.charAt(0))throw Ve("DB2",{name:t.name});if(!t.schema)throw Ve("DB4",{name:t.name,args:t})},preCreateRxQuery:function(t){!function(e){if("[object Object]"!==Object.prototype.toString.call(e.queryObj))throw Lt("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj});var r=["selector","limit","skip","sort"];Object.keys(e.queryObj).forEach(function(n){if(!r.includes(n))throw Lt("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj,key:n})})}(t)},createRxCollection:function(t){hc(t.statics),hc(t.methods),hc(t.attachments),t.schema&&t.migrationStrategies&&function(e,t){if("object"!=typeof t||Array.isArray(t))throw Lt("COL11",{schema:e});var r=function(e){var r=0;return new Array(e.version?e.version:0).fill(0).map(function(){return r++})}(e);if(r.length!==Object.keys(t).length)throw Ve("COL12",{have:Object.keys(t),should:r});r.map(function(n){return{v:n,s:t[n+1]}}).filter(function(n){return"function"!=typeof n.s}).forEach(function(n){throw Lt("COL13",{version:n.v,type:typeof n,schema:e})})}(t.schema,t.migrationStrategies)}}},Eh=l(7466),Hl=l.n(Eh),wh=l(4384),Ch=function(t){return function(e,t){return Hl().encrypt(e,t).toString()}(t,this.password)},Dh=function(t){var r=function(e,t){return Hl().decrypt(e,t).toString(wh)}(t,this.password);return r};function pc(){return pc=(0,ot.Z)(Te().mark(function e(t){var r,n,i,f;return Te().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(t.password){S.next=2;break}return S.abrupt("return",un);case 2:return r=hi(t.password),n="pwHash",S.next=6,xs(t.localDocumentsStore,n);case 6:if(i=S.sent){S.next=14;break}return f={_id:n,value:r,_attachments:{}},S.next=11,t.localDocumentsStore.bulkWrite([{document:f}]);case 11:case 20:return S.abrupt("return",!0);case 14:if(r===i.value){S.next=20;break}return S.next=17,t.destroy();case 17:throw Ve("DB1",{passwordHash:hi(t.password),existingPasswordHash:i.value});case 21:case"end":return S.stop()}},e)})),pc.apply(this,arguments)}var Ih={Crypter:function(t){t._encryptString=Ch,t._decryptString=Dh}},Th={validatePassword:function(t){if(t&&"string"!=typeof t)throw Lt("EN1",{password:t});if(t&&t.length<8)throw Ve("EN2",{minPassLength:8,password:t})}},Rh={name:"encryption",rxdb:!0,prototypes:Ih,overwritable:Th,hooks:{createRxDatabase:function(t){return function(e){return pc.apply(this,arguments)}(t)}}},xh=("undefined"!=typeof AbortController&&AbortController,fetch),mu=Headers;function Pr(e,t){if(e===t)return 0;e=os(e),t=os(t);var r=gc(e),n=gc(t);if(r-n!=0)return r-n;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var i=Pr(e[n],t[n]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var r=Object.keys(e),n=Object.keys(t),i=Math.min(r.length,n.length),f=0;f<i;f++){var d=Pr(r[f],n[f]);if(0!==d||0!==(d=Pr(e[r[f]],t[n[f]])))return d}return r.length===n.length?0:r.length>n.length?1:-1}(e,t)}function os(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var n=0;n<r;n++)e[n]=os(t[n])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var i in e={},t)if(t.hasOwnProperty(i)){var f=t[i];void 0!==f&&(e[i]=os(f))}}}return e}function An(e){return gc(e=os(e))+""+function(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),r=parseInt(t[1],10),n=e<0,i=n?"0":"2",d=function(e,t,r){var n=function(e,t,r){for(var n="",i=3-e.length;n.length<i;)n+="0";return n}(e);return n+e}(((n?-r:r)- -324).toString());i+=""+d;var S=Math.abs(parseFloat(t[0]));n&&(S=10-S);var j=S.toFixed(20);return i+""+j.replace(/\.?0+$/,"")}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),n=-1,i=r.length,f="";if(t)for(;++n<i;)f+=An(r[n]);else for(;++n<i;){var d=r[n];f+=An(d)+An(e[d])}return f}return""}(e)+"\0"}function Bh(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var f="0"===e[t];t++;var d="",S=e.substring(t,t+3),j=parseInt(S,10)+-324;for(f&&(j=-j),t+=3;;){var W=e[t];if("\0"===W)break;d+=W,t++}n=1===(d=d.split(".")).length?parseInt(d,10):parseFloat(d[0]+"."+d[1]),f&&(n-=10),0!==j&&(n=parseFloat(n+"e"+j))}return{num:n,length:t-r}}function Fh(e,t){var r=e.pop();if(t.length){var n=t[t.length-1];r===n.element&&(t.pop(),n=t[t.length-1]);var i=n.element,f=n.index;Array.isArray(i)?i.push(r):f===e.length-2?i[e.pop()]=r:e.push(r)}}function gc(e){var r=["boolean","number","string","object"].indexOf(typeof e);return~r?null===e?1:Array.isArray(e)?5:r<3?r+2:r+3:Array.isArray(e)?5:void 0}function yc(e,t){for(var r=e,n=0,i=t.length;n<i&&(r=r[t[n]]);n++);return r}function Vh(e,t,r){for(var n=0,i=t.length;n<i-1;n++){var f=t[n];e=e[f]=e[f]||{}}e[t[i-1]]=r}function _c(e,t){return e<t?-1:e>t?1:0}function Ko(e){for(var t=[],r="",n=0,i=e.length;n<i;n++){var f=e[n];"."===f?n>0&&"\\"===e[n-1]?r=r.substring(0,r.length-1)+".":(t.push(r),r=""):r+=f}return t.push(r),t}var Kh=["$or","$nor","$not"];function Zl(e){return Kh.indexOf(e)>-1}function rn(e){return Object.keys(e)[0]}function bc(e){return e[rn(e)]}function $o(e){var t={};return e.forEach(function(r){Object.keys(r).forEach(function(n){var i=r[n];if("object"!=typeof i&&(i={$eq:i}),Zl(n))t[n]=i instanceof Array?i.map(function(d){return $o([d])}):$o([i]);else{var f=t[n]=t[n]||{};Object.keys(i).forEach(function(d){var S=i[d];return"$gt"===d||"$gte"===d?function(e,t,r){void 0===r.$eq&&(void 0!==r.$gte?"$gte"===e?t>r.$gte&&(r.$gte=t):t>=r.$gte&&(delete r.$gte,r.$gt=t):void 0!==r.$gt?"$gte"===e?t>r.$gt&&(delete r.$gt,r.$gte=t):t>r.$gt&&(r.$gt=t):r[e]=t)}(d,S,f):"$lt"===d||"$lte"===d?function(e,t,r){void 0===r.$eq&&(void 0!==r.$lte?"$lte"===e?t<r.$lte&&(r.$lte=t):t<=r.$lte&&(delete r.$lte,r.$lt=t):void 0!==r.$lt?"$lte"===e?t<r.$lt&&(delete r.$lt,r.$lte=t):t<r.$lt&&(r.$lt=t):r[e]=t)}(d,S,f):"$ne"===d?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(S,f):"$eq"===d?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(S,f):void(f[d]=S)})}})}),t}function Yl(e){for(var t in e){if(Array.isArray(e))for(var r in e)e[r].$and&&(e[r]=$o(e[r].$and));var n=e[t];"object"==typeof n&&Yl(n)}return e}function Jl(e,t){for(var r in e){"$and"===r&&(t=!0);var n=e[r];"object"==typeof n&&(t=Jl(n,t))}return t}function Ec(e){var t=lr(e),r=!1;Jl(t,!1)&&("$and"in(t=Yl(t))&&(t=$o(t.$and)),r=!0),["$or","$nor"].forEach(function(S){S in t&&t[S].forEach(function(j){for(var W=Object.keys(j),X=0;X<W.length;X++){var re=W[X],fe=j[re];("object"!=typeof fe||null===fe)&&(j[re]={$eq:fe})}})}),"$not"in t&&(t.$not=$o([t.$not]));for(var n=Object.keys(t),i=0;i<n.length;i++){var f=n[i],d=t[f];"object"!=typeof d||null===d?d={$eq:d}:"$ne"in d&&!r&&(d.$ne=[d.$ne]),t[f]=d}return t}function vu(e,t,r){if(e=e.filter(function(d){return zs(d.doc,t.selector,r)}),t.sort){var n=function(e){function t(r){return e.map(function(n){var f=Ko(rn(n));return yc(r,f)})}return function(r,n){var d=Pr(t(r.doc),t(n.doc));return 0!==d?d:_c(r.doc._id,n.doc._id)}}(t.sort);e=e.sort(n),"string"!=typeof t.sort[0]&&"desc"===bc(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var i=t.skip||0;e=e.slice(i,("limit"in t?t.limit:e.length)+i)}return e}function zs(e,t,r){return r.every(function(n){var i=t[n],f=Ko(n),d=yc(e,f);return Zl(n)?function(e,t,r){return"$or"===e?t.some(function(n){return zs(r,n,Object.keys(n))}):"$not"===e?!zs(r,t,Object.keys(t)):!t.find(function(n){return zs(r,n,Object.keys(n))})}(n,i,e):wc(i,e,f,d)})}function wc(e,t,r,n){return!e||("object"==typeof e?Object.keys(e).every(function(i){return function(e,t,r,n,i){if(!ql[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return ql[e](t,r,n,i)}(i,t,e[i],r,n)}):e===n)}function Ho(e){return null!=e}function as(e){return void 0!==e}function Xl(e,t){return t.some(function(r){return e instanceof Array?e.indexOf(r)>-1:e===r})}var ql={$elemMatch:function(e,t,r,n){return!(!Array.isArray(n)||0===n.length)&&n.some("object"==typeof n[0]?function(i){return zs(i,t,Object.keys(t))}:function(i){return wc(t,e,r,i)})},$allMatch:function(e,t,r,n){return!(!Array.isArray(n)||0===n.length)&&n.every("object"==typeof n[0]?function(i){return zs(i,t,Object.keys(t))}:function(i){return wc(t,e,r,i)})},$eq:function(e,t,r,n){return as(n)&&0===Pr(n,t)},$gte:function(e,t,r,n){return as(n)&&Pr(n,t)>=0},$gt:function(e,t,r,n){return as(n)&&Pr(n,t)>0},$lte:function(e,t,r,n){return as(n)&&Pr(n,t)<=0},$lt:function(e,t,r,n){return as(n)&&Pr(n,t)<0},$exists:function(e,t,r,n){return t?as(n):!as(n)},$mod:function(e,t,r,n){return Ho(n)&&function(e,t){var r=t[0],n=t[1];if(0===r)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(n,10)!==n)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%r===n}(n,t)},$ne:function(e,t,r,n){return t.every(function(i){return 0!==Pr(n,i)})},$in:function(e,t,r,n){return Ho(n)&&Xl(n,t)},$nin:function(e,t,r,n){return Ho(n)&&!Xl(n,t)},$size:function(e,t,r,n){return Ho(n)&&function(e,t){return e.length===t}(n,t)},$all:function(e,t,r,n){return Array.isArray(n)&&function(e,t){return t.every(function(r){return e.indexOf(r)>-1})}(n,t)},$regex:function(e,t,r,n){return Ho(n)&&function(e,t){return new RegExp(t).test(e)}(n,t)},$type:function(e,t,r,n){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(n,t)}};function op(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter)return t(new Error('selector invalid for filter "'+("string"==typeof e.filter?e.filter:"function")+'"'));t()}function ap(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=Ri(e.view):e.filter=Ri(e.filter))}function up(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!gr(e.db)}function cp(e,t){var r=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var n=je(H,"`view` filter parameter not found or invalid.");return r(n)}var i=Hn(t.view);e.db.get("_design/"+i[0],function(d,S){if(e.isCancelled)return r(null,{status:"cancelled"});if(d)return r(Xe(d));var j=S&&S.views&&S.views[i[1]]&&S.views[i[1]].map;if(!j)return r(je(o,S.views?"missing json key: "+i[1]:"missing json key: views"));t.filter=function(e){return xi(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{})}(j),e.doChanges(t)})}else if(t.selector)t.filter=function(d){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=vu([{doc:e}],{selector:t=Ec(t)},Object.keys(t));return n&&1===n.length}(d,t.selector)},e.doChanges(t);else{var f=Hn(t.filter);e.db.get("_design/"+f[0],function(d,S){if(e.isCancelled)return r(null,{status:"cancelled"});if(d)return r(Xe(d));var j=S&&S.filters&&S.filters[f[1]];if(!j)return r(je(o,S&&S.filters?"missing json key: "+f[1]:"missing json key: filters"));t.filter=function(e){return xi('"use strict";\nreturn '+e+";",{})}(j),e.doChanges(t)})}}function Go(e,t,r){tt().call(this);var n=this;this.db=e;var i=(t=t?lr(t):{}).complete=Wn(function(S,j){S?function(e,t){return"listenerCount"in e?e.listenerCount(t):tt().listenerCount(e,t)}(n,"error")>0&&n.emit("error",S):n.emit("complete",j),n.removeAllListeners(),e.removeListener("destroyed",f)});function f(){n.cancel()}r&&(n.on("complete",function(S){r(null,S)}),n.on("error",r)),e.once("destroyed",f),t.onChange=function(S,j,W){n.isCancelled||function(e,t,r,n){try{e.emit("change",t,r,n)}catch(i){it("error",'Error in .on("change", function):',i)}}(n,S,j,W)};var d=new Promise(function(S,j){t.complete=function(W,X){W?j(W):S(X)}});n.once("cancel",function(){e.removeListener("destroyed",f),t.complete(null,{status:"cancelled"})}),this.then=d.then.bind(d),this.catch=d.catch.bind(d),this.then(function(S){i(null,S)},i),e.taskqueue.isReady?n.validateChanges(t):e.taskqueue.addTask(function(S){S?t.complete(S):n.isCancelled?n.emit("cancel"):n.validateChanges(t)})}function hp(e,t,r){var n=[{rev:e._rev}];"all_docs"===r.style&&(n=ps(t.rev_tree).map(function(f){return{rev:f.rev}}));var i={id:t.id,changes:n,doc:e};return Qr(t,e._rev)&&(i.deleted=!0),r.conflicts&&(i.doc._conflicts=ms(t),i.doc._conflicts.length||delete i.doc._conflicts),i}function ef(e,t){return e<t?-1:e>t?1:0}function Sc(e,t){return function(r,n){r||n[0]&&n[0].error?((r=r||n[0]).docId=t,e(r)):e(null,n.length?n[0]:n)}}function mp(e,t){var r=ef(e._id,t._id);return 0!==r?r:ef(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function tf(e){var t=e._compactionQueue[0],r=t.opts,n=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(i){i&&i.last_seq&&(r.last_seq=i.last_seq),e._compact(r,function(f,d){f?n(f):n(null,d),O()(function(){e._compactionQueue.shift(),e._compactionQueue.length&&tf(e)})})})}function Yt(){for(var e in tt().call(this),Yt.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function Qo(){this.isReady=!1,this.failed=!1,this.queue=[]}function At(e,t){if(!(this instanceof At))return new At(e,t);var r=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=lr(t),r.auto_compaction=t.auto_compaction,r.prefix=At.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var i=function(e,t){var r=e.match(/([a-z-]*):\/\/(.*)/);if(r)return{name:/https?/.test(r[1])?r[1]+"://"+r[2]:r[2],adapter:r[1]};var n=At.adapters,i=At.preferredAdapters,f=At.prefix,d=t.adapter;if(!d)for(var S=0;S<i.length&&"idb"===(d=i[S])&&"websql"in n&&se()&&localStorage["_pouch__websqldb_"+f+e];++S)it("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var j=n[d];return{name:j&&"use_prefix"in j&&!j.use_prefix?e:f+e,adapter:d}}((t.prefix||"")+e,t);if(t.name=i.name,t.adapter=t.adapter||i.adapter,r.name=e,r._adapter=t.adapter,At.emit("debug",["adapter","Picked adapter: ",t.adapter]),!At.adapters[t.adapter]||!At.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);Yt.call(r),r.taskqueue=new Qo,r.adapter=t.adapter,At.adapters[t.adapter].call(r,t,function(f){if(f)return r.taskqueue.fail(f);(function(e){function t(n){e.removeListener("closed",r),n||e.constructor.emit("destroyed",e.name)}function r(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",r),e.constructor.emit("ref",e)})(r),r.emit("created",r),At.emit("created",r.name),r.taskqueue.ready(r)})}D()(Go,tt()),Go.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Go.prototype.validateChanges=function(e){var t=e.complete,r=this;At._changesFilterPlugin?At._changesFilterPlugin.validate(e,function(n){if(n)return t(n);r.doChanges(e)}):r.doChanges(e)},Go.prototype.doChanges=function(e){var t=this,r=e.complete;if("live"in(e=lr(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=hp,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(At._changesFilterPlugin){if(At._changesFilterPlugin.normalize(e),At._changesFilterPlugin.shouldFilter(this,e))return At._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(f){f in e&&it("warn",'The "'+f+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=r;var n=this.db._changes(e);if(n&&"function"==typeof n.cancel){var i=t.cancel;t.cancel=x()(function(f){n.cancel(),i.apply(this,f)})}}else this.db.info().then(function(f){t.isCancelled?r(null,{status:"cancelled"}):(e.since=f.update_seq,t.doChanges(e))},r)},D()(Yt,tt()),Yt.prototype.post=nr("post",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e))return r(je(J));this.bulkDocs({docs:[e]},t,Sc(r,e._id))}),Yt.prototype.put=nr("put",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e))return r(je(J));if(Qs(e._id),On(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,r):this._putLocal(e,r);var d,S,W,X,n=this;function f(d){"function"==typeof n._put&&!1!==t.new_edits?n._put(e,t,d):n.bulkDocs({docs:[e]},t,Sc(d,e._id))}t.force&&e._rev?(S=(d=e._rev.split("-"))[1],W=parseInt(d[0],10)+1,X=Js(),e._revisions={start:W,ids:[X,S]},e._rev=W+"-"+X,t.new_edits=!1,f(function(d){r(d,d?null:{ok:!0,id:e._id,rev:e._rev})})):f(r)}),Yt.prototype.putAttachment=nr("putAttachment",function(e,t,r,n,i){var f=this;function d(S){var j="_rev"in S?parseInt(S._rev,10):0;return S._attachments=S._attachments||{},S._attachments[t]={content_type:i,data:n,revpos:++j},f.put(S)}return"function"==typeof i&&(i=n,n=r,r=null),void 0===i&&(i=n,n=r,r=null),i||it("warn","Attachment",t,"on document",e,"is missing content_type"),f.get(e).then(function(S){if(S._rev!==r)throw je(m);return d(S)},function(S){if(S.reason===o.message)return d({_id:e});throw S})}),Yt.prototype.removeAttachment=nr("removeAttachment",function(e,t,r,n){var i=this;i.get(e,function(f,d){if(f)n(f);else{if(d._rev===r)return d._attachments?(delete d._attachments[t],0===Object.keys(d._attachments).length&&delete d._attachments,void i.put(d,n)):n();n(je(m))}})}),Yt.prototype.remove=nr("remove",function(e,t,r,n){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof r&&(n=r,r={})):(i=e,"function"==typeof t?(n=t,r={}):(n=r,r=t)),(r=r||{}).was_delete=!0;var f={_id:i._id,_rev:i._rev||r.rev,_deleted:!0};if(On(f._id)&&"function"==typeof this._removeLocal)return this._removeLocal(i,n);this.bulkDocs({docs:[f]},r,Sc(n,f._id))}),Yt.prototype.revsDiff=nr("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={});var n=Object.keys(e);if(!n.length)return r(null,{});var i=0,f=new h;function d(j,W){f.has(j)||f.set(j,{missing:[]}),f.get(j).missing.push(W)}n.map(function(j){this._getRevisionTree(j,function(W,X){if(W&&404===W.status&&"missing"===W.message)f.set(j,{missing:e[j]});else{if(W)return r(W);!function(j,W){var X=e[j].slice(0);an(W,function(re,fe,Se,he,ee){var le=fe+"-"+Se,we=X.indexOf(le);-1!==we&&(X.splice(we,1),"available"!==ee.status&&d(j,le))}),X.forEach(function(re){d(j,re)})}(j,X)}if(++i===n.length){var re={};return f.forEach(function(fe,Se){re[Se]=fe}),r(null,re)}})},this)}),Yt.prototype.bulkGet=nr("bulkGet",function(e,t){De(this,e,t)}),Yt.prototype.compactDocument=nr("compactDocument",function(e,t,r){var n=this;this._getRevisionTree(e,function(i,f){if(i)return r(i);var d=function(e){var t={},r=[];return an(e,function(n,i,f,d){var S=i+"-"+f;return n&&(t[S]=0),void 0!==d&&r.push({from:d,to:S}),S}),r.reverse(),r.forEach(function(n){t[n.from]=void 0===t[n.from]?1+t[n.to]:Math.min(t[n.from],1+t[n.to])}),t}(f),S=[],j=[];Object.keys(d).forEach(function(W){d[W]>t&&S.push(W)}),an(f,function(W,X,re,fe,Se){var he=X+"-"+re;"available"===Se.status&&-1!==S.indexOf(he)&&j.push(he)}),n._doCompaction(e,j,r)})}),Yt.prototype.compact=nr("compact",function(e,t){"function"==typeof e&&(t=e,e={});var r=this;e=e||{},r._compactionQueue=r._compactionQueue||[],r._compactionQueue.push({opts:e,callback:t}),1===r._compactionQueue.length&&tf(r)}),Yt.prototype._compact=function(e,t){var r=this,i=[];r.changes({return_docs:!1,last_seq:e.last_seq||0}).on("change",function(S){i.push(r.compactDocument(S.id,0))}).on("complete",function(S){var j=S.last_seq;Promise.all(i).then(function(){return li(r,"_local/compaction",function(X){return(!X.last_seq||X.last_seq<j)&&(X.last_seq=j,X)})}).then(function(){t(null,{ok:!0})}).catch(t)}).on("error",t)},Yt.prototype.get=nr("get",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"string"!=typeof e)return r(je(p));if(On(e)&&"function"==typeof this._getLocal)return this._getLocal(e,r);var n=[],i=this;function f(){var j=[],W=n.length;if(!W)return r(null,j);n.forEach(function(X){i.get(e,{rev:X,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},function(re,fe){if(re)j.push({missing:X});else{for(var Se,he=0,ee=j.length;he<ee;he++)if(j[he].ok&&j[he].ok._rev===fe._rev){Se=!0;break}Se||j.push({ok:fe})}--W||r(null,j)})})}if(!t.open_revs)return this._get(e,t,function(j,W){if(j)return j.docId=e,r(j);var X=W.doc,re=W.metadata,fe=W.ctx;if(t.conflicts){var Se=ms(re);Se.length&&(X._conflicts=Se)}if(Qr(re,X._rev)&&(X._deleted=!0),t.revs||t.revs_info){for(var he=X._rev.split("-"),ee=parseInt(he[0],10),le=he[1],we=qs(re.rev_tree),Oe=null,be=0;be<we.length;be++){var ke=we[be],xe=ke.ids.map(function(Ft){return Ft.id}).indexOf(le);(xe===ee-1||!Oe&&-1!==xe)&&(Oe=ke)}if(!Oe)return(j=new Error("invalid rev tree")).docId=e,r(j);var We=Oe.ids.map(function(Ft){return Ft.id}).indexOf(X._rev.split("-")[1])+1;if(Oe.ids.splice(We,Oe.ids.length-We),Oe.ids.reverse(),t.revs&&(X._revisions={start:Oe.pos+Oe.ids.length-1,ids:Oe.ids.map(function(Ft){return Ft.id})}),t.revs_info){var Et=Oe.pos+Oe.ids.length;X._revs_info=Oe.ids.map(function(Ft){return{rev:--Et+"-"+Ft.id,status:Ft.opts.status}})}}if(t.attachments&&X._attachments){var ft=X._attachments,Dt=Object.keys(ft).length;if(0===Dt)return r(null,X);Object.keys(ft).forEach(function(Ft){this._getAttachment(X._id,Ft,ft[Ft],{rev:X._rev,binary:t.binary,ctx:fe},function(wt,Rt){var Ut=X._attachments[Ft];Ut.data=Rt,delete Ut.stub,delete Ut.length,--Dt||r(null,X)})},i)}else{if(X._attachments)for(var jt in X._attachments)X._attachments.hasOwnProperty(jt)&&(X._attachments[jt].stub=!0);r(null,X)}});if("all"===t.open_revs)this._getRevisionTree(e,function(j,W){if(j)return r(j);n=ps(W).map(function(X){return X.rev}),f()});else{if(!Array.isArray(t.open_revs))return r(je(ye,"function_clause"));n=t.open_revs;for(var d=0;d<n.length;d++){var S=n[d];if("string"!=typeof S||!/^\d+-/.test(S))return r(je(ge))}f()}}),Yt.prototype.getAttachment=nr("getAttachment",function(e,t,r,n){var i=this;r instanceof Function&&(n=r,r={}),this._get(e,r,function(f,d){return f?n(f):d.doc._attachments&&d.doc._attachments[t]?(r.ctx=d.ctx,r.binary=!0,void i._getAttachment(e,t,d.doc._attachments[t],r,n)):n(je(o))})}),Yt.prototype.allDocs=nr("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var r=["startkey","endkey","key"].filter(function(n){return n in e})[0];if(r)return void t(je(z,"Query parameter `"+r+"` is not compatible with multi-get"));if(!gr(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)}),Yt.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new Go(this,e,t)},Yt.prototype.close=nr("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),Yt.prototype.info=nr("info",function(e){var t=this;this._info(function(r,n){if(r)return e(r);n.db_name=n.db_name||t.name,n.auto_compaction=!(!t.auto_compaction||gr(t)),n.adapter=t.adapter,e(null,n)})}),Yt.prototype.id=nr("id",function(e){return this._id(e)}),Yt.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Yt.prototype.bulkDocs=nr("bulkDocs",function(e,t,r){if("function"==typeof t&&(r=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return r(je(u));for(var n=0;n<e.docs.length;++n)if("object"!=typeof e.docs[n]||Array.isArray(e.docs[n]))return r(je(J));var i;if(e.docs.forEach(function(S){S._attachments&&Object.keys(S._attachments).forEach(function(j){i=i||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(j),S._attachments[j].content_type||it("warn","Attachment",j,"on document",S._id,"is missing content_type")})}),i)return r(je(H,i));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var f=this;!t.new_edits&&!gr(f)&&e.docs.sort(mp),function(e){for(var t=0;t<e.length;t++){var r=e[t];if(r._deleted)delete r._attachments;else if(r._attachments)for(var n=Object.keys(r._attachments),i=0;i<n.length;i++){var f=n[i];r._attachments[f]=Gr(r._attachments[f],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var d=e.docs.map(function(S){return S._id});return this._bulkDocs(e,t,function(S,j){if(S)return r(S);if(t.new_edits||(j=j.filter(function(re){return re.error})),!gr(f))for(var W=0,X=j.length;W<X;W++)j[W].id=j[W].id||d[W];r(null,j)})}),Yt.prototype.registerDependentDatabase=nr("registerDependentDatabase",function(e,t){var r=new this.constructor(e,this.__opts);li(this,"_local/_pouch_dependentDbs",function(i){return i.dependentDbs=i.dependentDbs||{},!i.dependentDbs[e]&&(i.dependentDbs[e]=!0,i)}).then(function(){t(null,{db:r})}).catch(t)}),Yt.prototype.destroy=nr("destroy",function(e,t){"function"==typeof e&&(t=e,e={});var r=this,n=!("use_prefix"in r)||r.use_prefix;function i(){r._destroy(e,function(f,d){if(f)return t(f);r._destroyed=!0,r.emit("destroyed"),t(null,d||{ok:!0})})}if(gr(r))return i();r.get("_local/_pouch_dependentDbs",function(f,d){if(f)return 404!==f.status?t(f):i();var j=r.constructor,W=Object.keys(d.dependentDbs).map(function(X){var re=n?X.replace(new RegExp("^"+j.prefix),""):X;return new j(re,r.__opts).destroy()});Promise.all(W).then(i,t)})}),Qo.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},Qo.prototype.fail=function(e){this.failed=e,this.execute()},Qo.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},Qo.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},D()(At,Yt),At.adapters={},At.preferredAdapters=[],At.prefix="_pouch_";var rf=new(tt());(function(e){Object.keys(tt().prototype).forEach(function(r){"function"==typeof tt().prototype[r]&&(e[r]=rf[r].bind(rf))});var t=e._destructionListeners=new h;e.on("ref",function(n){t.has(n.name)||t.set(n.name,[]),t.get(n.name).push(n)}),e.on("unref",function(n){if(t.has(n.name)){var i=t.get(n.name),f=i.indexOf(n);f<0||(i.splice(f,1),i.length>1?t.set(n.name,i):t.delete(n.name))}}),e.on("destroyed",function(n){if(t.has(n)){var i=t.get(n);t.delete(n),i.forEach(function(f){f.emit("destroyed",!0)})}})})(At),At.adapter=function(e,t,r){t.valid()&&(At.adapters[e]=t,r&&At.preferredAdapters.push(e))},At.plugin=function(e){if("function"==typeof e)e(At);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){At.prototype[t]=e[t]})}return this.__defaults&&(At.__defaults=Tr({},this.__defaults)),At},At.defaults=function(e){function t(r,n){if(!(this instanceof t))return new t(r,n);n=n||{},r&&"object"==typeof r&&(r=(n=r).name,delete n.name),n=Tr({},t.__defaults,n),At.call(this,r,n)}return D()(t,At),t.preferredAdapters=At.preferredAdapters.slice(),Object.keys(At).forEach(function(r){r in t||(t[r]=At[r])}),t.__defaults=Tr({},this.__defaults,e),t},At.fetch=function(e,t){return xh(e,t)},At.plugin(function(e){e._changesFilterPlugin={validate:op,normalize:ap,shouldFilter:up,filter:cp}}),At.version="7.2.2";const gu=At;function us(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,us)}catch{}}function Ac(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Ac)}catch{}}function Cc(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Cc)}catch{}}function nf(e,t){return t&&e.then(function(r){O()(function(){t(null,r)})},function(r){O()(function(){t(r)})}),e}function Dc(e,t){return function(){var r=arguments,n=this;return e.add(function(){return t.apply(n,r)})}}function sf(e){var t=new E(e),r=new Array(t.size),n=-1;return t.forEach(function(i){r[++n]=i}),r}function Oc(e){var t=new Array(e.size),r=-1;return e.forEach(function(n,i){t[++r]=i}),t}function Zo(){this.promise=new Promise(function(e){e()})}function af(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function uf(e,t,r,n,i,f){var S,d=function(e,t){return af(e)+af(t)+"undefined"}(r,n);if(!i&&(S=e._cachedViews=e._cachedViews||{})[d])return S[d];var j=e.info().then(function(W){var X=W.db_name+"-mrview-"+(i?"temp":Dn(d));return li(e,"_local/"+f,function(fe){fe.views=fe.views||{};var Se=t;-1===Se.indexOf("/")&&(Se=t+"/"+t);var he=fe.views[Se]=fe.views[Se]||{};if(!he[X])return he[X]=!0,fe}).then(function(){return e.registerDependentDatabase(X).then(function(fe){var Se=fe.db;Se.auto_compaction=!0;var he={name:X,db:Se,sourceDB:e,adapter:e.adapter,mapFun:r,reduceFun:n};return he.db.get("_local/lastSeq").catch(function(ee){if(404!==ee.status)throw ee}).then(function(ee){return he.seq=ee?ee.seq:0,S&&he.db.once("destroyed",function(){delete S[d]}),he})})})});return S&&(S[d]=j),j}D()(us,Error),D()(Ac,Error),D()(Cc,Error),Zo.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},Zo.prototype.finish=function(){return this.promise};var cf={},lf=new Zo;function Pc(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function df(e,t){try{e.emit("error",t)}catch{it("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),it("error",t)}}function hf(e){return(e=lr(e)).index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function Yo(e,t,r,n){var i,f;r.headers=new mu({"Content-type":"application/json"}),e.fetch(t,r).then(function(d){return i=d.status,f=d.ok,d.json()}).then(function(d){if(f)n(null,d);else{d.status=i;var S=Xe(d);n(S)}}).catch(n)}function Ip(e,t,r){t=hf(t),Yo(e,"_index",{method:"POST",body:JSON.stringify(t)},r)}function Tp(e,t,r){Yo(e,"_find",{method:"POST",body:JSON.stringify(t)},r)}function Rp(e,t,r){Yo(e,"_explain",{method:"POST",body:JSON.stringify(t)},r)}function xp(e,t){Yo(e,"_index",{method:"GET"},t)}function Mp(e,t,r){var n=t.ddoc,f=t.name;return n?f?void Yo(e,"_index/"+[n,t.type||"json",f].map(encodeURIComponent).join("/"),{method:"DELETE"},r):r(new Error("you must provide an index's name")):r(new Error("you must provide an index's ddoc"))}function pf(e){return function(){for(var t=arguments.length,r=new Array(t),n=-1;++n<t;)r[n]=arguments[n];return e.call(this,r)}}function Jo(e){return pf(function(t){var r=t.pop(),n=e.apply(this,t);return function(e,t){e.then(function(r){O()(function(){t(null,r)})},function(r){O()(function(){t(r)})})}(n,r),n})}var Ic=pf(function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];Array.isArray(i)?t=t.concat(Ic.apply(null,i)):t.push(i)}return t});function Tc(e){for(var t={},r=0,n=e.length;r<n;r++)t=Tr(t,e[r]);return t}function mf(e,t){for(var r=0,n=Math.min(e.length,t.length);r<n;r++)if(e[r]!==t[r])return!1;return!0}function vf(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}var Yp=function(e,t,r,n){function i(Ie,Me,Ue){try{Me(Ue)}catch(Je){df(Ie,Je)}}function f(Ie,Me,Ue,Je,$e){try{return{output:Me(Ue,Je,$e)}}catch(et){return df(Ie,et),{error:et}}}function d(Ie,Me){var Ue=Pr(Ie.key,Me.key);return 0!==Ue?Ue:Pr(Ie.value,Me.value)}function S(Ie,Me,Ue){return Ue=Ue||0,"number"==typeof Me?Ie.slice(Ue,Me+Ue):Ue>0?Ie.slice(Ue):Ie}function j(Ie){var Me=Ie.value;return Me&&"object"==typeof Me&&Me._id||Ie.id}function X(Ie){return function(Me){return Ie.include_docs&&Ie.attachments&&Ie.binary&&function(Ie){Ie.rows.forEach(function(Me){var Ue=Me.doc&&Me.doc._attachments;!Ue||Object.keys(Ue).forEach(function(Je){var $e=Ue[Je];Ue[Je].data=Ne($e.data,$e.content_type)})})}(Me),Me}}function re(Ie,Me,Ue,Je){var $e=Me[Ie];void 0!==$e&&(Je&&($e=encodeURIComponent(JSON.stringify($e))),Ue.push(Ie+"="+$e))}function fe(Ie){if(void 0!==Ie){var Me=Number(Ie);return isNaN(Me)||Me!==parseInt(Ie,10)?Ie:Me}}function ee(Ie,Me){var Ue=Ie.descending?"endkey":"startkey",Je=Ie.descending?"startkey":"endkey";if(void 0!==Ie[Ue]&&void 0!==Ie[Je]&&Pr(Ie[Ue],Ie[Je])>0)throw new us("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(Me.reduce&&!1!==Ie.reduce){if(Ie.include_docs)throw new us("{include_docs:true} is invalid for reduce");if(Ie.keys&&Ie.keys.length>1&&!Ie.group&&!Ie.group_level)throw new us("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function($e){var et=function(Ie){if(Ie){if("number"!=typeof Ie)return new us('Invalid value for integer: "'+Ie+'"');if(Ie<0)return new us('Invalid value for positive integer: "'+Ie+'"')}}(Ie[$e]);if(et)throw et})}function be(Ie){return function(Me){if(404===Me.status)return Ie;throw Me}}function Ge(Ie){var Me="string"==typeof Ie?Ie:Ie.name,Ue=cf[Me];return Ue||(Ue=cf[Me]=new Zo),Ue}function We(Ie){return Dc(Ge(Ie),function(){return function(Ie){var Me,Ue;var $e=t(Ie.mapFun,function(mt,Ct){var Ht={id:Ue._id,key:os(mt)};null!=Ct&&(Ht.value=os(Ct)),Me.push(Ht)}),et=Ie.seq||0;function st(mt,Ct){return function(){return function(Ie,Me,Ue){var Je="_local/lastSeq";return Ie.db.get(Je).catch(be({_id:Je,seq:0})).then(function($e){var et=Oc(Me);return Promise.all(et.map(function(st){return function(Ie,Me,Ue){var Je="_local/doc_"+Ie,$e={_id:Je,keys:[]},et=Ue.get(Ie),st=et[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(et[1])?Promise.resolve($e):Me.db.get(Je).catch(be($e))).then(function(Ye){return function(Ye){return Ye.keys.length?Me.db.allDocs({keys:Ye.keys,include_docs:!0}):Promise.resolve({rows:[]})}(Ye).then(function(mt){return function(Ye,mt){for(var Ct=[],Ht=new E,Vt=0,zt=mt.rows.length;Vt<zt;Vt++){var ir=mt.rows[Vt].doc;if(ir&&(Ct.push(ir),Ht.add(ir._id),ir._deleted=!st.has(ir._id),!ir._deleted)){var dn=st.get(ir._id);"value"in dn&&(ir.value=dn.value)}}var sn=Oc(st);return sn.forEach(function(na){if(!Ht.has(na)){var ia={_id:na},Nf=st.get(na);"value"in Nf&&(ia.value=Nf.value),Ct.push(ia)}}),Ye.keys=sf(sn.concat(Ye.keys)),Ct.push(Ye),Ct}(Ye,mt)})})}(st,Ie,Me)})).then(function(st){var vt=ui(st);return $e.seq=Ue,vt.push($e),Ie.db.bulkDocs({docs:vt})})})}(Ie,mt,Ct)}}var vt=new Zo;function at(){return Ie.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:et,limit:50}).then(gt)}function gt(mt){var Ct=mt.results;if(Ct.length){var Ht=function(mt){for(var Ct=new h,Ht=0,Vt=mt.length;Ht<Vt;Ht++){var zt=mt[Ht];if("_"!==zt.doc._id[0]){Me=[],(Ue=zt.doc)._deleted||i(Ie.sourceDB,$e,Ue),Me.sort(d);var Kt=Ye(Me);Ct.set(zt.doc._id,[Kt,zt.changes])}et=zt.seq}return Ct}(Ct);if(vt.add(st(Ht,et)),!(Ct.length<50))return at()}}function Ye(mt){for(var Ht,Ct=new h,Vt=0,zt=mt.length;Vt<zt;Vt++){var Kt=mt[Vt],ir=[Kt.key,Kt.id];Vt>0&&0===Pr(Kt.key,Ht)&&ir.push(Vt),Ct.set(An(ir),Kt),Ht=Kt.key}return Ct}return at().then(function(){return vt.finish()}).then(function(){Ie.seq=et})}(Ie)})()}function ft(Ie,Me){return Dc(Ge(Ie),function(){return function(Ie,Me){var Ue,Je=Ie.reduceFun&&!1!==Me.reduce,$e=Me.skip||0;function et(Vt){return Vt.include_docs=!0,Ie.db.allDocs(Vt).then(function(zt){return Ue=zt.total_rows,zt.rows.map(function(Kt){if("value"in Kt.doc&&"object"==typeof Kt.doc.value&&null!==Kt.doc.value){var ir=Object.keys(Kt.doc.value).sort(),dn=["id","key","value"];if(!(ir<dn||ir>dn))return Kt.doc.value}var sn=function(e){for(var t=[],r=[],n=0;;){var i=e[n++];if("\0"!==i)switch(i){case"1":t.push(null);break;case"2":t.push("1"===e[n]),n++;break;case"3":var f=Bh(e,n);t.push(f.num),n+=f.length;break;case"4":for(var d="";;){var S=e[n];if("\0"===S)break;d+=S,n++}d=d.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(d);break;case"5":var j={element:[],index:t.length};t.push(j.element),r.push(j);break;case"6":var W={element:{},index:t.length};t.push(W.element),r.push(W);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}else{if(1===t.length)return t.pop();Fh(t,r)}}}(Kt.doc._id);return{key:sn[0],id:sn[1],value:"value"in Kt.doc?Kt.doc.value:null}})})}function st(Vt){var zt;if(zt=Je?function(Ie,Me,Ue){0===Ue.group_level&&delete Ue.group_level;var Je=Ue.group||Ue.group_level,$e=r(Ie.reduceFun),et=[],st=isNaN(Ue.group_level)?Number.POSITIVE_INFINITY:Ue.group_level;Me.forEach(function(Ye){var mt=et[et.length-1],Ct=Je?Ye.key:null;if(Je&&Array.isArray(Ct)&&(Ct=Ct.slice(0,st)),mt&&0===Pr(mt.groupKey,Ct))return mt.keys.push([Ye.key,Ye.id]),void mt.values.push(Ye.value);et.push({keys:[[Ye.key,Ye.id]],values:[Ye.value],groupKey:Ct})}),Me=[];for(var vt=0,at=et.length;vt<at;vt++){var gt=et[vt],pt=f(Ie.sourceDB,$e,gt.keys,gt.values,!1);if(pt.error&&pt.error instanceof Cc)throw pt.error;Me.push({value:pt.error?null:pt.output,key:gt.groupKey})}return{rows:S(Me,Ue.limit,Ue.skip)}}(Ie,Vt,Me):{total_rows:Ue,offset:$e,rows:Vt},Me.update_seq&&(zt.update_seq=Ie.seq),Me.include_docs){var Kt=sf(Vt.map(j));return Ie.sourceDB.allDocs({keys:Kt,include_docs:!0,conflicts:Me.conflicts,attachments:Me.attachments,binary:Me.binary}).then(function(ir){var dn=new h;return ir.rows.forEach(function(sn){dn.set(sn.id,sn.doc)}),Vt.forEach(function(sn){var na=j(sn),ia=dn.get(na);ia&&(sn.doc=ia)}),zt})}return zt}if(void 0!==Me.keys&&!Me.keys.length&&(Me.limit=0,delete Me.keys),void 0!==Me.keys){var at=Me.keys.map(function(Vt){var zt={startkey:An([Vt]),endkey:An([Vt,{}])};return Me.update_seq&&(zt.update_seq=!0),et(zt)});return Promise.all(at).then(ui).then(st)}var pt,Ye,gt={descending:Me.descending};if(Me.update_seq&&(gt.update_seq=!0),"start_key"in Me&&(pt=Me.start_key),"startkey"in Me&&(pt=Me.startkey),"end_key"in Me&&(Ye=Me.end_key),"endkey"in Me&&(Ye=Me.endkey),void 0!==pt&&(gt.startkey=An(Me.descending?[pt,{}]:[pt])),void 0!==Ye){var mt=!1!==Me.inclusive_end;Me.descending&&(mt=!mt),gt.endkey=An(mt?[Ye,{}]:[Ye])}if(void 0!==Me.key){var Ct=An([Me.key]),Ht=An([Me.key,{}]);gt.descending?(gt.endkey=Ct,gt.startkey=Ht):(gt.startkey=Ct,gt.endkey=Ht)}return Je||("number"==typeof Me.limit&&(gt.limit=Me.limit),gt.skip=$e),et(gt).then(st)}(Ie,Me)})()}var Ut=function(e){return x()(function(t){var r=t.pop(),n=e.apply(this,t);return"function"==typeof r&&nf(n,r),n})}(function(){var Ie=this;return"function"==typeof Ie._viewCleanup?function(Ie){return new Promise(function(Me,Ue){Ie._viewCleanup(function(Je,$e){if(Je)return Ue(Je);Me($e)})})}(Ie):gr(Ie)?function(Ie){return Ie.fetch("_view_cleanup",{headers:new mu({"Content-Type":"application/json"}),method:"POST"}).then(function(Me){return Me.json()})}(Ie):function(Ie){return Ie.get("_local/"+e).then(function(Me){var Ue=new h;Object.keys(Me.views).forEach(function($e){var et=Pc($e),st="_design/"+et[0],vt=et[1],at=Ue.get(st);at||(at=new E,Ue.set(st,at)),at.add(vt)});var Je={keys:Oc(Ue),include_docs:!0};return Ie.allDocs(Je).then(function($e){var et={};$e.rows.forEach(function(at){var gt=at.key.substring(8);Ue.get(at.key).forEach(function(pt){var Ye=gt+"/"+pt;Me.views[Ye]||(Ye=pt);var mt=Object.keys(Me.views[Ye]),Ct=at.doc&&at.doc.views&&at.doc.views[pt];mt.forEach(function(Ht){et[Ht]=et[Ht]||Ct})})});var vt=Object.keys(et).filter(function(at){return!et[at]}).map(function(at){return Dc(Ge(at),function(){return new Ie.constructor(at,Ie.__opts).destroy()})()});return Promise.all(vt).then(function(){return{ok:!0}})})},be({ok:!0}))}(Ie)});return{query:function(Ie,Me,Ue){var Je=this;"function"==typeof Me&&(Ue=Me,Me={}),Me=Me?function(Ie){return Ie.group_level=fe(Ie.group_level),Ie.limit=fe(Ie.limit),Ie.skip=fe(Ie.skip),Ie}(Me):{},"function"==typeof Ie&&(Ie={map:Ie});var $e=Promise.resolve().then(function(){return function(Ie,Me,Ue){if("function"==typeof Ie._query)return function(Ie,Me,Ue){return new Promise(function(Je,$e){Ie._query(Me,Ue,function(et,st){if(et)return $e(et);Je(st)})})}(Ie,Me,Ue);if(gr(Ie))return function(Ie,Me,Ue){var $e,st,vt,Je=[],et="GET";if(re("reduce",Ue,Je),re("include_docs",Ue,Je),re("attachments",Ue,Je),re("limit",Ue,Je),re("descending",Ue,Je),re("group",Ue,Je),re("group_level",Ue,Je),re("skip",Ue,Je),re("stale",Ue,Je),re("conflicts",Ue,Je),re("startkey",Ue,Je,!0),re("start_key",Ue,Je,!0),re("endkey",Ue,Je,!0),re("end_key",Ue,Je,!0),re("inclusive_end",Ue,Je),re("key",Ue,Je,!0),re("update_seq",Ue,Je),Je=""===(Je=Je.join("&"))?"":"?"+Je,void 0!==Ue.keys){var gt="keys="+encodeURIComponent(JSON.stringify(Ue.keys));gt.length+Je.length+1<=2e3?Je+=("?"===Je[0]?"&":"?")+gt:(et="POST","string"==typeof Me?$e={keys:Ue.keys}:Me.keys=Ue.keys)}if("string"==typeof Me){var pt=Pc(Me);return Ie.fetch("_design/"+pt[0]+"/_view/"+pt[1]+Je,{headers:new mu({"Content-Type":"application/json"}),method:et,body:JSON.stringify($e)}).then(function(Ye){return st=Ye.ok,vt=Ye.status,Ye.json()}).then(function(Ye){if(!st)throw Ye.status=vt,Xe(Ye);return Ye.rows.forEach(function(mt){if(mt.value&&mt.value.error&&"builtin_reduce_error"===mt.value.error)throw new Error(mt.reason)}),Ye}).then(X(Ue))}return $e=$e||{},Object.keys(Me).forEach(function(Ye){$e[Ye]=Array.isArray(Me[Ye])?Me[Ye]:Me[Ye].toString()}),Ie.fetch("_temp_view"+Je,{headers:new mu({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify($e)}).then(function(Ye){return st=Ye.ok,vt=Ye.status,Ye.json()}).then(function(Ye){if(!st)throw Ye.status=vt,Xe(Ye);return Ye}).then(X(Ue))}(Ie,Me,Ue);if("string"!=typeof Me)return ee(Ue,Me),lf.add(function(){return uf(Ie,"temp_view/temp_view",Me.map,Me.reduce,!0,e).then(function(at){return function(e,t){return e.then(function(r){return t().then(function(){return r})},function(r){return t().then(function(){throw r})})}(We(at).then(function(){return ft(at,Ue)}),function(){return at.db.destroy()})})}),lf.finish();var Je=Me,$e=Pc(Je),st=$e[1];return Ie.get("_design/"+$e[0]).then(function(vt){var at=vt.views&&vt.views[st];if(!at)throw new Ac("ddoc "+vt._id+" has no view named "+st);return n(vt,st),ee(Ue,at),uf(Ie,Je,at.map,at.reduce,!1,e).then(function(pt){return"ok"===Ue.stale||"update_after"===Ue.stale?("update_after"===Ue.stale&&O()(function(){We(pt)}),ft(pt,Ue)):We(pt).then(function(){return ft(pt,Ue)})})})}(Je,Ie,Me)});return nf($e,Ue),$e},viewCleanup:Ut}}("indexes",function(e,t){return function(e,t){var r=function(e){for(var t=0,r=e.length;t<r;t++)if(-1!==e[t].indexOf("."))return!1;return!0}(e),n=1===e.length;return r?n?function(e,t){return function(r){t(r[e])}}(e[0],t):function(e,t){return function(r){for(var n=[],i=0,f=e.length;i<f;i++)n.push(r[e[i]]);t(n)}}(e,t):n?function(e,t){var r=Ko(e);return function(n){for(var i=n,f=0,d=r.length;f<d;f++)if(void 0===(i=i[r[f]]))return;t(i)}}(e[0],t):function(e,t){return function(r){for(var n=[],i=0,f=e.length;i<f;i++){for(var d=Ko(e[i]),S=r,j=0,W=d.length;j<W;j++)if(void 0===(S=S[d[j]]))return;n.push(S)}t(n)}}(e,t)}(Object.keys(e.fields),t)},function(){throw new Error("reduce not supported")},function(e,t){var r=e.views[t];if(!r.map||!r.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")});function Rc(e){return e._customFindAbstractMapper||Yp}function gf(e){return e.fields=e.fields.map(function(t){if("string"==typeof t){var r={};return r[t]="asc",r}return t}),e}function qp(e,t){for(var r=[],n=0;n<t.def.fields.length;n++){var i=rn(t.def.fields[n]);r.push(e[i])}return r}function yf(e){return e.allDocs({startkey:"_design/",endkey:"_design/\uffff",include_docs:!0}).then(function(t){var r={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return r.indexes=Ic(r.indexes,t.rows.filter(function(n){return"query"===n.doc.language}).map(function(n){return(void 0!==n.doc.views?Object.keys(n.doc.views):[]).map(function(f){return{ddoc:n.id,name:f,type:"json",def:gf(n.doc.views[f].options.def)}})})),r.indexes.sort(function(n,i){return _c(n.name,i.name)}),r.total_rows=r.indexes.length,r})}var xc={"\uffff":{}};const am={queryOpts:{limit:0,startkey:xc,endkey:null},inMemoryFields:[]};function um(e,t){for(var r=e.def.fields.map(rn),n=0,i=r.length;n<i;n++)if(t===r[n])return!0;return!1}function cm(e,t){return"$eq"!==rn(e[t])}function _f(e,t){var r=t.def.fields.map(rn);return e.slice().sort(function(n,i){var f=r.indexOf(n),d=r.indexOf(i);return-1===f&&(f=Number.MAX_VALUE),-1===d&&(d=Number.MAX_VALUE),_c(f,d)})}function dm(e,t,r,n){var i=Ic(e,function(e,t,r){for(var n=!1,i=0,f=(r=_f(r,e)).length;i<f;i++){var d=r[i];if(n||!um(e,d))return r.slice(i);i<f-1&&cm(t,d)&&(n=!0)}return[]}(t,r,n),function(e){var t=[];return Object.keys(e).forEach(function(r){Object.keys(e[r]).forEach(function(i){"$ne"===i&&t.push(r)})}),t}(r));return _f(function(e){for(var t={},r=0;r<e.length;r++)t["$"+e[r]]=!0;return Object.keys(t).map(function(n){return n.substring(1)})}(i),t)}var pm=["$eq","$gt","$gte","$lt","$lte"];function bf(e){return-1===pm.indexOf(e)}function vm(e,t,r,n){var i=e.def.fields.map(rn);return!!function(e,t,r){if(t){var n=function(e,t){return!(e.length>t.length)&&mf(e,t)}(t,e),i=mf(r,e);return n&&i}return function(e,t){e=e.slice();for(var r=0,n=t.length;r<n;r++){var i=t[r];if(!e.length)break;var f=e.indexOf(i);if(-1===f)return!1;e.splice(f,1)}return!0}(r,e)}(i,t,r)&&function(e,t){var n=t[e[0]];return void 0===n||!(1===Object.keys(n).length&&"$ne"===rn(n))}(i,n)}function Em(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function Dm(e,t){var r=e.selector,n=e.sort;if(function(e){return Object.keys(e).map(function(r){return e[r]}).some(function(r){return"object"==typeof r&&0===Object.keys(r).length})}(r))return Tr({},am,{index:t[0]});var i=function(e,t){var i,r=Object.keys(e),n=t?t.map(rn):[];return i=r.length>=n.length?r:n,0===n.length?{fields:i}:{fields:i=i.sort(function(f,d){var S=n.indexOf(f);-1===S&&(S=Number.MAX_VALUE);var j=n.indexOf(d);return-1===j&&(j=Number.MAX_VALUE),S<j?-1:S>j?1:0}),sortOrder:t.map(rn)}}(r,n),f=i.fields,S=function(e,t,r,n,i){var f=function(e,t,r,n){return n.filter(function(i){return vm(i,r,t,e)})}(e,t,r,n);if(0===f.length){if(i)throw{error:"no_usable_index",message:"There is no index available for this selector."};var d=n[0];return d.defaultUsed=!0,d}if(1===f.length&&!i)return f[0];var S=function(e){for(var t={},r=0,n=e.length;r<n;r++)t[e[r]]=!0;return t}(t);if(i){var W="_design/"+i[0],X=2===i.length&&i[1],re=f.find(function(fe){return!!(X&&fe.ddoc===W&&X===fe.name||fe.ddoc===W)});if(!re)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return re}return function(e,t){for(var r=null,n=-1,i=0,f=e.length;i<f;i++){var d=e[i],S=t(d);S>n&&(n=S,r=d)}return r}(f,function(fe){for(var Se=fe.def.fields.map(rn),he=0,ee=0,le=Se.length;ee<le;ee++)S[Se[ee]]&&he++;return he})}(r,f,i.sortOrder,t,e.use_index),j=function(e,t){return t.defaultUsed?function(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}(e):1===t.def.fields.length?function(e,t){var d,r=rn(t.def.fields[0]),n=e[r]||{},i=[];return Object.keys(n).forEach(function(S){bf(S)&&i.push(r);var W=function(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}return{startkey:null}}(S,n[S]);d=d?Tc([d,W]):W}),{queryOpts:d,inMemoryFields:i}}(e,t):function(e,t){var d,S,r=t.def.fields.map(rn),n=[],i=[],f=[];function j(Et){!1!==d&&i.push(null),!1!==S&&f.push(xc),n=r.slice(Et)}for(var W=0,X=r.length;W<X;W++){var fe=e[r[W]];if(!fe||!Object.keys(fe).length){j(W);break}if(Object.keys(fe).some(bf)){j(W);break}if(W>0){var Se="$gt"in fe||"$gte"in fe||"$lt"in fe||"$lte"in fe,he=Object.keys(e[r[W-1]]),ee=vf(he,["$eq"]),le=vf(he,Object.keys(fe));if(Se&&!ee&&!le){j(W);break}}for(var Oe=Object.keys(fe),be=null,ke=0;ke<Oe.length;ke++){var xe=Oe[ke],We=Em(xe,fe[xe]);be=be?Tc([be,We]):We}i.push("startkey"in be?be.startkey:null),f.push("endkey"in be?be.endkey:xc),"inclusive_start"in be&&(d=be.inclusive_start),"inclusive_end"in be&&(S=be.inclusive_end)}var Ke={startkey:i,endkey:f};return void 0!==d&&(Ke.inclusive_start=d),void 0!==S&&(Ke.inclusive_end=S),{queryOpts:Ke,inMemoryFields:n}}(e,t)}(r,S);return{queryOpts:j.queryOpts,index:S,inMemoryFields:dm(j.inMemoryFields,S,r,f)}}function Ef(e,t,r){return t.selector&&(t.selector=Ec(t.selector)),t.sort&&(t.sort=function(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(t){if("string"==typeof t){var r={};return r[t]="asc",r}return t})}(t.sort)),t.use_index&&(t.use_index=function(e){var t=[];return"string"==typeof e?t.push(e):t=e,t.map(function(r){return r.replace("_design/","")})}(t.use_index)),function(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}(t),yf(e).then(function(n){e.constructor.emit("debug",["find","planning query",t]);var i=Dm(t,n.indexes);e.constructor.emit("debug",["find","query plan",i]);var f=i.index;!function(e,t){if(t.defaultUsed&&e.sort){var r=e.sort.filter(function(n){return"_id"!==Object.keys(n)[0]}).map(function(n){return Object.keys(n)[0]});if(r.length>0)throw new Error('Cannot sort on field(s) "'+r.join(",")+'" when using the default index')}}(t,f);var d=Tr({include_docs:!0,reduce:!1,indexes_count:n.total_rows},i.queryOpts);return"startkey"in d&&"endkey"in d&&Pr(d.startkey,d.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===bc(t.sort[0])&&(d.descending=!0,d=function(e){var t=lr(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}(d)),i.inMemoryFields.length||("limit"in t&&(d.limit=t.limit),"skip"in t&&(d.skip=t.skip)),r?Promise.resolve(i,d):Promise.resolve().then(function(){if("_all_docs"===f.name)return function(e,t){var r=lr(t);return r.descending?("endkey"in r&&"string"!=typeof r.endkey&&(r.endkey=""),"startkey"in r&&"string"!=typeof r.startkey&&(r.limit=0)):("startkey"in r&&"string"!=typeof r.startkey&&(r.startkey=""),"endkey"in r&&"string"!=typeof r.endkey&&(r.limit=0)),"key"in r&&"string"!=typeof r.key&&(r.limit=0),r.limit>0&&r.indexes_count&&(r.original_limit=r.limit,r.limit+=r.indexes_count),e.allDocs(r).then(function(n){return n.rows=n.rows.filter(function(i){return!/^_design\//.test(i.id)}),r.original_limit&&(r.limit=r.original_limit),n.rows=n.rows.slice(0,r.limit),n})}(e,d);var j=function(e){return e.ddoc.substring(8)+"/"+e.name}(f);return Rc(e).query.call(e,j,d)}).then(function(j){!1===d.inclusive_start&&(j.rows=function(e,t,r){for(var n=r.def.fields,i=0,f=e.length;i<f;i++){var S=qp(e[i].doc,r);if(1===n.length)S=S[0];else for(;S.length>t.length;)S.pop();if(Math.abs(Pr(S,t))>0)break}return i>0?e.slice(i):e}(j.rows,d.startkey,f)),i.inMemoryFields.length&&(j.rows=vu(j.rows,t,i.inMemoryFields));var W={docs:j.rows.map(function(X){var re=X.doc;return t.fields?function(e,t){for(var r={},n=0,i=t.length;n<i;n++){var f=Ko(t[n]),d=yc(e,f);void 0!==d&&Vh(r,f,d)}return r}(re,t.fields):re})};return f.defaultUsed&&(W.warning="No matching index found, create an index to optimize query time."),W}))})}var Rm=Jo(function(e,t){var n,r=lr((t=hf(t)).index);function i(){return n||(n=Dn(JSON.stringify(t)))}t.index=gf(t.index),function(e){var t=e.fields.filter(function(r){return"asc"===bc(r)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}(t.index);var f=t.name||"idx-"+i(),d=t.ddoc||"idx-"+i(),S="_design/"+d,j=!1,W=!1;return e.constructor.emit("debug",["find","creating index",S]),li(e,S,function(re){return re._rev&&"query"!==re.language&&(j=!0),re.language="query",re.views=re.views||{},!(W=!!re.views[f])&&(re.views[f]={map:{fields:Tc(t.index.fields)},reduce:"_count",options:{def:r}},re)}).then(function(){if(j)throw new Error('invalid language for ddoc with id "'+S+'" (should be "query")')}).then(function(){var re=d+"/"+f;return Rc(e).query.call(e,re,{limit:0,reduce:!1}).then(function(){return{id:S,name:f,result:W?"exists":"created"}})})}),xm=Jo(Ef),Mm=Jo(function(e,t){return Ef(e,t,!0).then(function(r){return{dbname:e.name,index:r.index,selector:t.selector,range:{start_key:r.queryOpts.startkey,end_key:r.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}})}),km=Jo(yf),Lm=Jo(function(e,t){if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var r=t.ddoc,n=t.name;return li(e,r,function(f){return 1===Object.keys(f.views).length&&f.views[n]?{_id:r,_deleted:!0}:(delete f.views[n],f)}).then(function(){return Rc(e).viewCleanup.apply(e)}).then(function(){return{ok:!0}})}),Ws={};Ws.createIndex=mn(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));(gr(this)?Ip:Rm)(this,e,t)}),Ws.find=mn(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));(gr(this)?Tp:xm)(this,e,t)}),Ws.explain=mn(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to explain()"));(gr(this)?Rp:Mm)(this,e,t)}),Ws.getIndexes=mn(function(e){(gr(this)?xp:km)(this,e)}),Ws.deleteIndex=mn(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));(gr(this)?Mp:Lm)(this,e,t)});const Bm=Ws;var wf=!1,Sf=new Map;function Af(e){var t=[e.name,e.adapter].join("|"),r=Sf.get(t);return r||(r={subject:new jn.x,obliviousSet:new Ju(6e4)},Sf.set(t,r)),r}var Fm=0;function Cf(e){if(e.rxdb)throw Lt("PL2",{plugin:e});"object"==typeof e&&e.default&&(e=e.default),gu.plugin(e)}Cf(Bm),function(){if(!wf){wf=!0;var e=gu.prototype.bulkDocs,t=function(){var r=(0,ot.Z)(Te().mark(function n(i,f,d){var j,W,X,re,fe,Se,ee,S=this;return Te().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if(j=Yr(),W=Fm++,"function"==typeof f&&(d=f,f={}),f||(f={}),Array.isArray(i)?X=i:void 0===i?X=[]:(X=i.docs,i.hasOwnProperty("new_edits")&&(f.new_edits=i.new_edits)),0!==X.length){we.next=7;break}throw Ve("SNH",{args:{body:i,options:f}});case 7:if(re=new Map,!f.hasOwnProperty("new_edits")||!1!==f.new_edits){we.next=18;break}return fe=X.map(function(Oe){return Oe._id}),we.next=12,this.changes({live:!1,since:0,doc_ids:fe,style:"all_docs"});case 12:return Se=we.sent,we.next=15,Promise.all(Se.results.map(function(){var Oe=(0,ot.Z)(Te().mark(function be(ke){return Te().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:return We.next=2,S.get(ke.id,{rev:ke.changes[0].rev,deleted:"ok",revs:!!f.set_new_edit_as_latest_revision,style:"all_docs"});case 2:return We.abrupt("return",We.sent);case 4:case"end":return We.stop()}},be)}));return function(be){return Oe.apply(this,arguments)}}()));case 15:we.sent.forEach(function(Oe){return re.set(Oe._id,Oe)}),f.set_new_edit_as_latest_revision&&X.forEach(function(Oe){var ke=re.get(Oe._id);if(ke){var xe=Oe._rev.split("-"),Ge=parseInt(xe[0],10),We=xe[1];Oe._revisions={start:Ge,ids:ke._revisions.ids},Oe._revisions.ids.unshift(We),delete ke._revisions}});case 18:return(ee=Wt(f)).isDeeper=!0,we.abrupt("return",e.call(this,X,ee,function(Oe,be){if(Oe){if(!d)throw Oe;d(Oe)}else{if(!f.isDeeper){var ke=Yr(),xe={emitId:W,writeDocs:X,writeOptions:f,writeResult:be,previousDocs:re,startTime:j,endTime:ke};Af(S).subject.next(xe)}if(!d)return be;d(null,be)}}));case 21:case"end":return we.stop()}},n,this)}));return function(i,f,d){return r.apply(this,arguments)}}();gu.plugin({bulkDocs:t})}}();var Xo=gu,Vs=new Set,_u="_local/",Df="_design/";function Of(e){return new Promise(function(t){pn(e,function(r){t("md5-"+r)})})}function Pf(e,t){return"_id"===e||t[e]||((t=Wt(t))[e]=t._id,delete t._id),t}function Cn(e,t){var r=Pf(e,t);return delete(r=Wt(r))._revisions,r._attachments={},t._attachments&&Object.entries(t._attachments).forEach(function(n){var f=n[1];r._attachments[n[0]]=f.data?{data:f.data,type:f.type?f.type:f.content_type}:{digest:f.digest,type:f.type?f.type:f.content_type,length:f.length}}),r}function If(e,t){var r=Mc(e,t);return(r=Wt(r))._attachments={},t._attachments&&Object.entries(t._attachments).forEach(function(n){var f=n[1];r._attachments[n[0]]=f.data?{data:f.data,content_type:f.type}:{digest:f.digest,content_type:f.type,length:f.length,stub:!0}}),r}function Mc(e,t){if("_id"===e)return t;var r=t[e],n=Wt(t);return delete n[e],n._id=r,n}function Um(e){return e.substring(_u.length)}function Tf(e,t,r){if(!t)throw new Error("primary missing !!");return(e?"local":"non-local")+"|"+t+"|"+r}function zm(e,t){if(!t)throw Ve("SNH",{args:{pouchDoc:t}});var r=t._id,n=Cn(e,t),i=gn(n._rev);return t._deleted?{operation:"DELETE",id:r,doc:null,previous:n}:1===i?{operation:"INSERT",id:r,doc:n,previous:null}:{operation:"UPDATE",id:r,doc:n,previous:"UNKNOWN"}}function kc(e,t){if("_id"===t)return e;if(Array.isArray(e))return e.map(function(n){return kc(n,t)});if("object"==typeof e){var r={};return Object.entries(e).forEach(function(n){var i=n[0],f=n[1];i===t?r._id=f:r[i]=i.startsWith("$")?kc(f,t):f}),r}return e}function qo(e){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,ot.Z)(Te().mark(function e(t){var r;return Te().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(t){i.next=2;break}return i.abrupt("return",{});case 2:return r={},i.next=5,Promise.all(Object.entries(t).map(function(){var f=(0,ot.Z)(Te().mark(function d(S){var j,W,X,re;return Te().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(j=S[0],(W=S[1]).type){ee.next=3;break}throw Ve("SNH",{args:{obj:W}});case 3:if(!W.data){ee.next=15;break}return X=W,ee.next=7,Of(X.data);case 7:return re=ee.sent,ee.next=10,Gi_toString(X.data);case 10:r[j]={digest:re,length:ee.sent.length,type:X.type},ee.next=16;break;case 15:r[j]=W;case 16:case"end":return ee.stop()}},d)}));return function(d){return f.apply(this,arguments)}}()));case 5:return i.abrupt("return",r);case 6:case"end":return i.stop()}},e)})),Lc.apply(this,arguments)}var Wm=function(){function e(r,n,i,f,d){var S=this;this.changes$=new jn.x,this.subs=[],this.databaseName=r,this.collectionName=n,this.schema=i,this.internals=f,this.options=d,Vs.add(this),this.primaryPath=G(this.schema.primaryKey);var j=Af(this.internals.pouch);this.emittedEventIds=j.obliviousSet;var W=j.subject.subscribe(function(){var X=(0,ot.Z)(Te().mark(function re(fe){var Se,he;return Te().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(!fe.writeOptions.hasOwnProperty("new_edits")||fe.writeOptions.new_edits){le.next=4;break}return le.next=3,Promise.all(fe.writeDocs.map(function(){var we=(0,ot.Z)(Te().mark(function Oe(be){var ke,xe,Ge;return Te().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:return ke=be._id,be=Cn(S.primaryPath,be),Ke.next=4,qo(be._attachments);case 4:if(be._attachments=Ke.sent,(xe=fe.previousDocs.get(ke))&&(xe=Cn(S.primaryPath,xe)),!(xe&&gn(xe._rev)>gn(be._rev))){Ke.next=9;break}return Ke.abrupt("return");case 9:if(xe||!be._deleted){Ke.next=11;break}return Ke.abrupt("return");case 11:if(!(xe&&xe._deleted&&be._deleted)){Ke.next=13;break}return Ke.abrupt("return");case 13:if(xe&&!xe._deleted||be._deleted){Ke.next=17;break}Ge={operation:"INSERT",doc:be,id:ke,previous:null},Ke.next=27;break;case 17:if(!be._deleted||!xe||xe._deleted){Ke.next=22;break}xe._rev=be._rev,Ge={operation:"DELETE",doc:null,id:ke,previous:xe},Ke.next=27;break;case 22:if(!xe){Ke.next=26;break}Ge={operation:"UPDATE",doc:be,id:ke,previous:xe},Ke.next=27;break;case 26:throw Ve("SNH",{args:{writeDoc:be}});case 27:S.addEventToChangeStream(Ge,fe.startTime,fe.endTime);case 28:case"end":return Ke.stop()}},Oe)}));return function(Oe){return we.apply(this,arguments)}}()));case 3:case 9:return le.abrupt("return");case 4:if(fe.writeOptions.custom){le.next=10;break}return Se=new Map,fe.writeDocs.forEach(function(we){return Se.set(we._id,we)}),le.next=9,Promise.all(fe.writeResult.map(function(){var we=(0,ot.Z)(Te().mark(function Oe(be){var ke,xe,Ge;return Te().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:if(!(ke=be.id).startsWith(Df)&&!ke.startsWith(_u)){Ke.next=3;break}return Ke.abrupt("return");case 3:return xe=mi(Se,be.id),Ke.next=6,qo(xe._attachments);case 6:xe._attachments=Ke.sent,(xe=Wt(xe))._rev=be.rev,Ge=zm(S.primaryPath,xe),S.addEventToChangeStream(Ge);case 11:case"end":return Ke.stop()}},Oe)}));return function(Oe){return we.apply(this,arguments)}}()));case 10:return he=fe.writeOptions.custom.writeRowById,le.next=13,Promise.all(fe.writeResult.map(function(){var we=(0,ot.Z)(Te().mark(function Oe(be){var ke,xe,Ge,We,Ke;return Te().wrap(function(ft){for(;;)switch(ft.prev=ft.next){case 0:if(!be.error){ft.next=2;break}return ft.abrupt("return");case 2:return xe=mi(he,ke=be.id),Ge=Cn(S.primaryPath,xe.document),ft.next=7,qo(Ge._attachments);case 7:if(Ge._attachments=ft.sent,Ge._rev=be.rev,xe.previous&&!xe.previous._deleted){ft.next=13;break}We={operation:"INSERT",doc:Ge,id:ke,previous:null},ft.next=23;break;case 13:if(!xe.document._deleted){ft.next=22;break}return Ke=Cn(S.primaryPath,xe.previous),ft.next=17,qo(Ke._attachments);case 17:Ke._attachments=ft.sent,Ke._rev=be.rev,We={operation:"DELETE",doc:null,id:be.id,previous:Ke},ft.next=23;break;case 22:We={operation:"UPDATE",doc:Ge,id:be.id,previous:xe.previous};case 23:xe.document._deleted&&(!xe.previous||xe.previous._deleted)||S.addEventToChangeStream(We,fe.startTime,fe.endTime);case 24:case"end":return ft.stop()}},Oe)}));return function(Oe){return we.apply(this,arguments)}}()));case 13:case"end":return le.stop()}},re)}));return function(re){return X.apply(this,arguments)}}());this.subs.push(W)}var t=e.prototype;return t.addEventToChangeStream=function(n,i,f){var d="DELETE"===n.operation?n.previous:n.doc,j=d[G(this.schema.primaryKey)],W=Tf(!1,j,d._rev);this.emittedEventIds.has(W)||(this.emittedEventIds.add(W),this.changes$.next({eventId:W,documentId:j,change:n,startTime:i,endTime:f}))},t.close=function(){return this.subs.forEach(function(n){return n.unsubscribe()}),Vs.delete(this),Rn},t.remove=function(){var r=(0,ot.Z)(Te().mark(function i(){return Te().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return this.subs.forEach(function(S){return S.unsubscribe()}),Vs.delete(this),d.next=4,this.internals.pouch.destroy();case 4:case"end":return d.stop()}},i,this)}));return function(){return r.apply(this,arguments)}}(),t.getSortComparator=function(n){var i,f=this,d=G(this.schema.primaryKey),S=n.sort?n.sort:[(i={},i[d]="asc",i)],j=Object.keys(n.selector).filter(function(X){return!X.startsWith("$")});return function(re,fe){if(re[d]===fe[d])throw Ve("SNH",{args:{a:re,b:fe},primaryPath:d});var Se=[re,fe].map(function(ee){return{doc:Mc(f.primaryPath,ee)}}),he=vu(Se,{selector:{},sort:S},j);if(2!==he.length)throw Ve("SNH",{query:n,primaryPath:f.primaryPath,args:{rows:Se,sortedRows:he}});return he[0].doc._id===Se[0].doc._id?-1:1}},t.getQueryMatcher=function(n){var i=this,f=Ec(n.selector);return function(j){var re=vu([{doc:Mc(i.primaryPath,j)}],{selector:f},Object.keys(n.selector));return re&&1===re.length}},t.prepareQuery=function(n){var i=this,f=G(this.schema.primaryKey),d=n;if(d.sort&&d.sort.forEach(function(j){var W=Object.keys(j)[0],X=["$gt","$gte","$lt","$lte"];if(!d.selector[W]||!Object.keys(d.selector[W]).some(function(Se){return X.includes(Se)})){var fe=Bn(i.schema,W);if(!fe)throw Ve("QU5",{query:d,key:W});switch(d.selector[W]||(d.selector[W]={}),fe.type){case"number":case"integer":d.selector[W].$gt=-1e28;break;case"string":"string"!=typeof d.selector[W]&&(d.selector[W].$gt="");break;default:d.selector[W].$gt=null}}}),d.selector[f]&&d.selector[f].$regex)throw Ve("QU4",{path:f,query:n});if(d.sort){var S=d.sort.map(function(j){var W,X=Object.keys(j)[0],re=Object.values(j)[0];return(W={})[X===f?"_id":X]=re,W});d.sort=S}return Object.entries(d.selector).forEach(function(j){var W=j[0],X=j[1];"object"==typeof X&&null!==X&&!Array.isArray(X)&&0===Object.keys(X).length&&delete d.selector[W]}),d.selector=kc(d.selector,this.primaryPath),d},t.bulkAddRevisions=function(){var r=(0,ot.Z)(Te().mark(function i(f){var S,d=this;return Te().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(0!==f.length){W.next=2;break}throw Ve("P3",{args:{documents:f}});case 2:return S=f.map(function(X){return If(d.primaryPath,X)}),W.next=5,this.internals.pouch.bulkDocs(S,{new_edits:!1,set_new_edit_as_latest_revision:!0});case 5:case"end":return W.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.bulkWrite=function(){var r=(0,ot.Z)(Te().mark(function i(f){var S,j,W,X,d=this;return Te().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(0!==f.length){fe.next=2;break}throw Ve("P2",{args:{documentWrites:f}});case 2:return S=new Map,j=f.map(function(Se){S.set(Se.document[d.primaryPath],Se);var ee=If(d.primaryPath,Se.document);return Se.previous&&(ee._rev=Se.previous._rev),ee}),fe.next=6,this.internals.pouch.bulkDocs(j,{custom:{writeRowById:S}});case 6:return W=fe.sent,X={success:new Map,error:new Map},fe.next=10,Promise.all(W.map(function(){var Se=(0,ot.Z)(Te().mark(function he(ee){var le,Oe;return Te().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:if(le=mi(S,ee.id),!ee.error){ke.next=6;break}X.error.set(ee.id,{isError:!0,status:409,documentId:ee.id,writeRow:le}),ke.next=18;break;case 6:if(Oe=Wt(le.document),(Oe=Pf(d.primaryPath,Oe))._rev=ee.rev,Oe._attachments={},le.document._attachments){ke.next=14;break}le.document._attachments={},ke.next=17;break;case 14:return ke.next=16,qo(le.document._attachments);case 16:Oe._attachments=ke.sent;case 17:X.success.set(ee.id,Oe);case 18:case"end":return ke.stop()}},he)}));return function(he){return Se.apply(this,arguments)}}()));case 10:return fe.abrupt("return",X);case 11:case"end":return fe.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.query=function(){var r=(0,ot.Z)(Te().mark(function i(f){var j,d=this;return Te().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,this.internals.pouch.find(f);case 2:return j={documents:X.sent.docs.map(function(re){return Cn(d.primaryPath,re)})},X.abrupt("return",j);case 5:case"end":return X.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.getAttachmentData=function(){var r=(0,ot.Z)(Te().mark(function i(f,d){return Te().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this.internals.pouch.getAttachment(f,d);case 2:return W.abrupt("return",W.sent);case 4:case"end":return W.stop()}},i,this)}));return function(i,f){return r.apply(this,arguments)}}(),t.findDocumentsById=function(){var r=(0,ot.Z)(Te().mark(function i(f,d){var j,W,X,re,S=this;return Te().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(!d){Se.next=8;break}return Se.next=3,this.internals.pouch.changes({live:!1,since:0,doc_ids:f,style:"all_docs"});case 3:return j=Se.sent,W=new Map,Se.next=7,Promise.all(j.results.map(function(){var he=(0,ot.Z)(Te().mark(function ee(le){var Oe;return Te().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return ke.next=2,S.internals.pouch.get(le.id,{rev:le.changes[0].rev,deleted:"ok",style:"all_docs"});case 2:Oe=Cn(S.primaryPath,ke.sent),W.set(le.id,Oe);case 5:case"end":return ke.stop()}},ee)}));return function(ee){return he.apply(this,arguments)}}()));case 7:return Se.abrupt("return",W);case 8:return Se.next=10,this.internals.pouch.allDocs({include_docs:!0,keys:f});case 10:return X=Se.sent,re=new Map,X.rows.filter(function(he){return!!he.doc}).forEach(function(he){var ee=he.doc;ee=Cn(S.primaryPath,ee),re.set(he.id,ee)}),Se.abrupt("return",re);case 14:case"end":return Se.stop()}},i,this)}));return function(i,f){return r.apply(this,arguments)}}(),t.changeStream=function(){return this.changes$.asObservable()},t.getChangedDocuments=function(){var r=(0,ot.Z)(Te().mark(function i(f){var d,S,j;return Te().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return d={live:!1,limit:f.limit,include_docs:!1,since:f.sinceSequence,descending:"before"===f.direction},re.next=3,this.internals.pouch.changes(d);case 3:return j=(S=re.sent).results.filter(function(fe){return!fe.id.startsWith(Df)}).map(function(fe){return{id:fe.id,sequence:fe.seq}}),re.abrupt("return",{changedDocuments:j,lastSequence:S.last_seq});case 7:case"end":return re.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),e}(),Vm=function(){function e(r,n,i,f){this.changes$=new jn.x,this.databaseName=r,this.collectionName=n,this.internals=i,this.options=f,Vs.add(this)}var t=e.prototype;return t.close=function(){return Vs.delete(this),Rn},t.remove=function(){var r=(0,ot.Z)(Te().mark(function i(){return Te().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return Vs.delete(this),d.next=3,this.internals.pouch.destroy();case 3:case"end":return d.stop()}},i,this)}));return function(){return r.apply(this,arguments)}}(),t.bulkWrite=function(){var r=(0,ot.Z)(Te().mark(function i(f){var S,j,W,X,re,fe,d=this;return Te().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(0!==f.length){he.next=2;break}throw Ve("P2",{args:{documentWrites:f}});case 2:return S=new Map,j=f.map(function(ee){S.set(ee.document._id,ee);var le=Wt(ee.document);return le._id=_u+le._id,ee.previous&&(le._rev=ee.previous._rev),le}),W=Yr(),he.next=7,this.internals.pouch.bulkDocs(j);case 7:return X=he.sent,re=Yr(),fe={success:new Map,error:new Map},X.forEach(function(ee){ee.id=Um(ee.id);var le=mi(S,ee.id);if(ee.error)fe.error.set(ee.id,{isError:!0,status:409,documentId:ee.id,writeRow:le});else{var be,Oe=Wt(le.document);if(Oe._rev=ee.rev,Oe._attachments={},fe.success.set(ee.id,Oe),le.previous)if(le.document._deleted){var ke=Wt(le.previous);ke._rev=ee.rev,be={operation:"DELETE",doc:null,id:ee.id,previous:ke}}else be={operation:"UPDATE",doc:Oe,id:ee.id,previous:le.previous};else be={operation:"INSERT",doc:Oe,id:ee.id,previous:null};if(!le.document._deleted||le.previous&&!le.previous._deleted){var xe="DELETE"===be.operation?be.previous:be.doc,Ge=Tf(!0,xe._id,xe._rev?xe._rev:"");d.changes$.next({eventId:Ge,documentId:ee.id,change:be,startTime:W,endTime:re})}}}),he.abrupt("return",fe);case 12:case"end":return he.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.findLocalDocumentsById=function(){var r=(0,ot.Z)(Te().mark(function i(f){var S,d=this;return Te().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return S=new Map,W.next=3,Promise.all(f.map(function(){var X=(0,ot.Z)(Te().mark(function re(fe){var Se,he;return Te().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return Se=_u+fe,le.prev=1,le.next=4,d.internals.pouch.get(Se);case 4:(he=le.sent)._id=fe,S.set(fe,he),le.next=11;break;case 9:le.prev=9,le.t0=le.catch(1);case 11:case"end":return le.stop()}},re,null,[[1,9]])}));return function(re){return X.apply(this,arguments)}}()));case 3:return W.abrupt("return",S);case 4:case"end":return W.stop()}},i)}));return function(i){return r.apply(this,arguments)}}(),t.changeStream=function(){return this.changes$.asObservable()},e}(),Km=function(){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.name="pouchdb",this.adapter=r,this.pouchSettings=n,$m(r)}var t=e.prototype;return t.hash=function(n){return Of(n)},t.createPouch=function(){var r=(0,ot.Z)(Te().mark(function i(f,d){var S,j,W;return Te().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return S={location:f,adapter:Xn(this.adapter),settings:d},j=Object.assign({},S.adapter,this.pouchSettings,S.settings),W=new Xo(S.location,j),re.abrupt("return",W);case 4:case"end":return re.stop()}},i,this)}));return function(i,f){return r.apply(this,arguments)}}(),t.createStorageInstance=function(){var r=(0,ot.Z)(Te().mark(function i(f){var d,S;return Te().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return d=Rf(f.databaseName,f.collectionName,f.schema.version),W.next=3,this.createPouch(d,f.options);case 3:return S=W.sent,W.next=6,Hm(S,f.schema);case 6:return W.abrupt("return",new Wm(f.databaseName,f.collectionName,f.schema,{pouch:S},f.options));case 7:case"end":return W.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.createKeyObjectStorageInstance=function(){var r=(0,ot.Z)(Te().mark(function i(f){var d,S;return Te().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return(d=Wt(f.options)).auto_compaction=!1,d.revs_limit=1,S=Rf(f.databaseName,f.collectionName,0),X.next=6,this.createPouch(S,f.options);case 6:return X.abrupt("return",new Vm(f.databaseName,f.collectionName,{pouch:X.sent},f.options));case 8:case"end":return X.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),e}();function $m(e){if("string"==typeof e){if(!Xo.adapters||!Xo.adapters[e])throw Ve("DB9",{adapter:e})}else if(function(e){if(!e||"function"!=typeof e.super_)throw Ve("UT4",{adapter:e})}(e),!Xo.adapters||!Xo.adapters.leveldb)throw Ve("DB10",{adapter:e})}function Hm(e,t){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,ot.Z)(Te().mark(function e(t,r){var n,f;return Te().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(r.indexes){S.next=2;break}return S.abrupt("return");case 2:return n=G(r.primaryKey),S.next=5,t.getIndexes();case 5:return f=new Set(S.sent.indexes.map(function(j){return j.name})),S.next=9,Promise.all(r.indexes.map(function(){var j=(0,ot.Z)(Te().mark(function W(X){var re,fe;return Te().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(re=(re=Array.isArray(X)?X:[X]).map(function(ee){return ee===n?"_id":ee}),fe="idx-rxdb-index-"+re.join(","),!f.has(fe)){he.next=5;break}return he.abrupt("return");case 5:return he.abrupt("return",t.createIndex({name:fe,ddoc:fe,index:{fields:re}}));case 6:case"end":return he.stop()}},W)}));return function(W){return j.apply(this,arguments)}}()));case 9:case"end":return S.stop()}},e)})),Bc.apply(this,arguments)}function Rf(e,t,r){var n=e+"-rxdb-"+r+"-";if(t.includes("/")){var i=t.split("/"),f=i.pop();return i.join("/")+"/"+n+f}return n+t}function Gm(e,t){if(!e)throw new Error("adapter missing");return new Km(e,t)}var Qm=["__proto__","constructor","prototype"];function ea(e,t){Object.keys(t).forEach(function(r){Qm.includes(r)||(void 0===e[r]?e[r]=t[r]:ta(t[r])?ea(e[r],t[r]):e[r]=t[r])})}function ta(e){return"[object Object]"===e.toString()}var bu=function(){function e(r){if(this.options={},this._conditions={},this._fields={},r){var n=this;r.selector&&n.find(r.selector),r.limit&&n.limit(r.limit),r.skip&&n.skip(r.skip),r.sort&&r.sort.forEach(function(i){return n.sort(i)})}}var t=e.prototype;return t.where=function(n,i){if(!arguments.length)return this;var f=typeof arguments[0];if("string"===f)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"===f&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw Lt("MQ1",{path:arguments[0]})},t.equals=function(n){return this._ensurePath("equals"),this._conditions[this._path]=n,this},t.eq=function(n){return this._ensurePath("eq"),this._conditions[this._path]=n,this},t.or=function(n){var i=this._conditions.$or||(this._conditions.$or=[]);return Array.isArray(n)||(n=[n]),i.push.apply(i,n),this},t.nor=function(n){var i=this._conditions.$nor||(this._conditions.$nor=[]);return Array.isArray(n)||(n=[n]),i.push.apply(i,n),this},t.and=function(n){var i=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(n)||(n=[n]),i.push.apply(i,n),this},t.mod=function(n,i){var f,d;1===arguments.length?(this._ensurePath("mod"),f=arguments[0],d=this._path):2!==arguments.length||Array.isArray(arguments[1])?3===arguments.length?(f=arguments.slice(1),d=arguments[0]):(f=arguments[1],d=arguments[0]):(this._ensurePath("mod"),f=arguments.slice(),d=this._path);var S=this._conditions[d]||(this._conditions[d]={});return S.$mod=f,this},t.exists=function(n,i){var f,d;0===arguments.length?(this._ensurePath("exists"),f=this._path,d=!0):1===arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),f=this._path,d=arguments[0]):(f=arguments[0],d=!0):2===arguments.length&&(f=arguments[0],d=arguments[1]);var S=this._conditions[f]||(this._conditions[f]={});return S.$exists=d,this},t.elemMatch=function(n,i){if(null===arguments[0])throw Lt("MQ2");var f,d,S;if("function"==typeof arguments[0])this._ensurePath("elemMatch"),d=this._path,f=arguments[0];else if(ta(arguments[0]))this._ensurePath("elemMatch"),d=this._path,S=arguments[0];else if("function"==typeof arguments[1])d=arguments[0],f=arguments[1];else{if(!arguments[1]||!ta(arguments[1]))throw Lt("MQ2");d=arguments[0],S=arguments[1]}f&&(f(S=new e),S=S._conditions);var j=this._conditions[d]||(this._conditions[d]={});return j.$elemMatch=S,this},t.sort=function(n){var i=this;if(!n)return this;var f,d=typeof n;if(Array.isArray(n)){f=n.length;for(var S=0;S<n.length;++S)Ym(this.options,n[S][0],n[S][1]);return this}if(1===arguments.length&&"string"===d){f=(n=n.split(/\s+/)).length;for(var j=0;j<f;++j){var W=n[j];if(W){var X="-"===W[0]?-1:1;-1===X&&(W=W.substring(1)),kf(this.options,W,X)}}return this}if(ta(n)){var re=Object.keys(n);return re.forEach(function(fe){return kf(i.options,fe,n[fe])}),this}throw Lt("MQ3",{args:arguments})},t.merge=function(n){if(!n)return this;if(!Lf(n))throw Lt("MQ4",{source:n});return n instanceof e?(n._conditions&&ea(this._conditions,n._conditions),n._fields&&(this._fields||(this._fields={}),ea(this._fields,n._fields)),n.options&&(this.options||(this.options={}),ea(this.options,n.options)),n._distinct&&(this._distinct=n._distinct),this):(ea(this._conditions,n),this)},t.find=function(n){return Lf(n)&&this.merge(n),this},t._ensurePath=function(n){if(!this._path)throw Ve("MQ5",{method:n})},t.toJSON=function(){var n={selector:this._conditions};return this.options.skip&&(n.skip=this.options.skip),this.options.limit&&(n.limit=this.options.limit),this.options.sort&&(n.sort=function(e){return Object.entries(e).map(function(t){var r;return(r={})[t[0]]=1===t[1]?"asc":"desc",r})}(this.options.sort)),{query:n,path:this._path}},e}(),xf=["limit","skip","maxScan","batchSize","comment"];xf.forEach(function(e){bu.prototype[e]=function(t){return this.options[e]=t,this}});var Mf=["gt","gte","lt","lte","ne","in","nin","all","regex","size"];function kf(e,t,r){if(Array.isArray(e.sort))throw Lt("MQ6",{opts:e,field:t,value:r});if(r&&r.$meta)(e.sort||(e.sort={}))[t]={$meta:r.$meta};else{var i=String(r||1).toLowerCase();if(!/^(?:ascending|asc|descending|desc|1|-1)$/.test(i))throw Array.isArray(r)&&(r="["+r+"]"),Lt("MQ7",{field:t,value:r});var f=e.sort||(e.sort={}),d=r.toString().replace("asc","1").replace("ascending","1").replace("desc","-1").replace("descending","-1");f[t]=parseInt(d,10)}}function Ym(e,t,r){if(e.sort=e.sort||[],!Array.isArray(e.sort))throw Lt("MQ8",{opts:e,field:t,value:r});e.sort.push([t,r])}function Lf(e){return e instanceof bu||ta(e)}Mf.forEach(function(e){bu.prototype[e]=function(){var t,r;1===arguments.length?(this._ensurePath(e),r=arguments[0],t=this._path):(r=arguments[1],t=arguments[0]);var n=null===this._conditions[t]||"object"==typeof this._conditions[t]?this._conditions[t]:this._conditions[t]={};return n["$"+e]=r,this}});var Fc="queryBuilderPath";function Nc(e,t){e[t]=function(r){return function(e,t,r){var n=function(e){return new bu(e)}(xr(e.mangoQuery));e.other[Fc]&&(n._path=e.other[Fc]),n[t](r);var i=n.toJSON(),f=new Ai(e.op,i.query,e.collection);return i.path&&(f.other[Fc]=i.path),bl(f)}(this,t,r)}}var qm={name:"query-builder",rxdb:!0,prototypes:{RxQuery:function(t){["where","equals","eq","or","nor","and","mod","exists","elemMatch","sort"].forEach(function(r){Nc(t,r)}),xf.forEach(function(r){Nc(t,r)}),Mf.forEach(function(r){Nc(t,r)})}}},ev=l(9790),tv=l.n(ev);function rv(e){var t=this._data,r=tv()(t,e);return this._saveData(r,t)}function nv(e){return this.exec().then(function(t){return t?Array.isArray(t)?Promise.all(t.map(function(r){return r.update(e)})).then(function(){return t}):t.update(e).then(function(){return t}):null})}var sv={RxDocument:function(t){t.update=rv},RxQuery:function(t){t.update=nv}},ov={name:"update",rxdb:!0,prototypes:sv},av=l(8167),uv=l.n(av),jc=new Map;function Uc(e){var t=e.hash;if(!jc.has(t)){var r=uv()(e.jsonSchema);jc.set(t,r)}return jc.get(t)}var wu,cv=function(t){var r=Uc(this);if(r(t))return t;throw Ve("VD2",{errors:r.errors,obj:t,schema:this.jsonSchema})},dv={RxSchema:function(t){t._getValidator=Uc,t.validate=cv}},hv={createRxSchema:function(t){"object"==typeof window&&window.requestIdleCallback&&window.requestIdleCallback(function(){Uc(t)})}},pv={name:"validate",rxdb:!0,prototypes:dv,hooks:hv},Jt=l(3900),fn=l(2843),Ci=l(9646),Eu=l(9770),ai=l(2076),ra=l(4128),mv=new Uint8Array(16);function vv(){if(!wu&&!(wu="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wu(mv)}const gv=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,_v=function(e){return"string"==typeof e&&gv.test(e)};for(var Ir=[],zc=0;zc<256;++zc)Ir.push((zc+256).toString(16).substr(1));const Sv=function(e,t,r){var n=(e=e||{}).random||(e.rng||vv)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(Ir[e[t+0]]+Ir[e[t+1]]+Ir[e[t+2]]+Ir[e[t+3]]+"-"+Ir[e[t+4]]+Ir[e[t+5]]+"-"+Ir[e[t+6]]+Ir[e[t+7]]+"-"+Ir[e[t+8]]+Ir[e[t+9]]+"-"+Ir[e[t+10]]+Ir[e[t+11]]+Ir[e[t+12]]+Ir[e[t+13]]+Ir[e[t+14]]+Ir[e[t+15]]).toLowerCase();if(!_v(r))throw TypeError("Stringified UUID is invalid");return r}(n)};let Av=(()=>{class e{constructor(){this.isInitialized=!1}initialize(r){this.isInitialized?console.warn("PermissionsService already initialized"):(this.collection=r,this.isInitialized=!0)}requestPermissions(r){return(0,Eu.P)(()=>this.isInitialized&&this.collection?(0,ai.D)(this.collection.bulkInsert(r)).pipe((0,$t.U)(({success:n})=>!!n)):(0,fn._)(()=>new Error("PermissionsService not initialized")))}hasPermission(r){return(0,Eu.P)(()=>{if(!this.isInitialized||!this.collection)return(0,fn._)(()=>new Error("PermissionsService not initialized"));const n=this.collection.findOne({selector:{id:`${r.appId}:${r.kind}:${r.mode}:${r.target}`}});return(0,ai.D)(n.exec()).pipe((0,$t.U)(i=>!!i))})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=c.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var nn=l(899);class Cv{constructor(t,r,n){this.appId=t,this.collection=r,this.acl=n}insert(t){return this.requestPermission(nn.R.Write).pipe((0,Jt.w)(()=>this.collection.insert(t)),(0,$t.U)(r=>r.toJSON()))}upsert(t){return this.requestPermission(nn.R.Write).pipe((0,Jt.w)(()=>this.collection.upsert(t)),(0,$t.U)(r=>r.toJSON()))}findOne(t){return this.requestPermission(nn.R.Read).pipe((0,Jt.w)(()=>this.collection.findOne(t).exec()),(0,$t.U)(r=>r?r.toJSON():null))}find(t){return this.requestPermission(nn.R.Read).pipe((0,Jt.w)(()=>this.collection.find(t).exec()),(0,$t.U)(r=>r.map(n=>n.toJSON())))}observe(t){return this.requestPermission(nn.R.Read).pipe((0,Jt.w)(()=>this.collection.find(t).$),(0,$t.U)(r=>r.map(n=>n.toJSON())))}observeOne(t){return this.observe(t).pipe((0,$t.U)(r=>r.length>0?r[0]:null))}update(t,r){return this.requestPermission(nn.R.Write).pipe((0,Jt.w)(()=>this.collection.find(t).update(r)),(0,$t.U)(n=>n.map(i=>i.toJSON())))}remove(t){return this.requestPermission(nn.R.Write).pipe((0,Jt.w)(()=>this.collection.find(t).remove()),(0,$t.U)(r=>r.map(n=>n.toJSON())))}putAttachment(t,r,n=!1){return this.requestPermission(nn.R.Write).pipe((0,Jt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Jt.w)(i=>i?i.putAttachment(r,n):(0,fn._)(()=>new Error("No document found for id "+t))),(0,$t.U)(i=>i.id))}getAttachment(t,r){return this.requestPermission(nn.R.Read).pipe((0,Jt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Jt.w)(n=>n?(0,Ci.of)(n.getAttachment(r)):(0,fn._)(()=>new Error("No document found for id "+t))),(0,Jt.w)(n=>n?(0,ai.D)(n.getData()).pipe((0,$t.U)(i=>({id:n.id,data:i,type:n.type}))):(0,fn._)(()=>new Error("No attachment found for id "+r))))}getAllAttachments(t){return this.requestPermission(nn.R.Read).pipe((0,Jt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Jt.w)(r=>r?(0,Ci.of)(r.allAttachments()):(0,fn._)(()=>new Error("No document found for id "+t))),(0,Jt.w)(r=>(0,ra.D)(r.map(n=>(0,ai.D)(n.getData()).pipe((0,$t.U)(i=>({id:n.id,data:i,type:n.type})))))))}removeAttachment(t,r){return this.requestPermission(nn.R.Write).pipe((0,Jt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Jt.w)(n=>{if(!n)return(0,fn._)(()=>new Error("No document found for id "+t));const i=n.getAttachment(r);return i?i.remove():(0,fn._)(()=>new Error("No attachment found for id "+r))}))}observeAttachments(t){return this.requestPermission(nn.R.Read).pipe((0,Jt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Jt.w)(r=>r?r.allAttachments$:(0,fn._)(()=>new Error("No document found for id "+t))),(0,Jt.w)(r=>(0,ra.D)(r.map(n=>(0,ai.D)(n.getData()).pipe((0,$t.U)(i=>({id:n.id,data:i,type:n.type})))))))}requestPermission(t){return this.acl.hasPermission({appId:this.appId,kind:nn.k.Collection,mode:t,target:this.collection.name}).pipe((0,Jt.w)(r=>r?(0,Ci.of)(r):(0,fn._)(()=>new Error(`No permission to perform action ${t} on ${this.collection.name} with appId ${this.appId}`))))}}Cf(b),Vo(bh),Vo(pv),Vo(Rh),Vo(qm),Vo(ov);const Bf=new c.InjectionToken("ENTITY_MANAGER_BASE_COLLECTIONS_TOKEN"),Ff=new c.InjectionToken("ENTITY_MANAGER_INITIAL_DATA_TOKEN");let Dv=(()=>{class e{constructor(r,n,i){this.acl=r,this.baseCollections=n,this.initialData=i,this.initialize$=new Fs(0)}setupDatabase(r,n){return this.createDatabase(r,n).pipe((0,Jt.w)(i=>this.addBaseCollections(i)),(0,Ns.b)(i=>this.acl.initialize(i.applicationpermissions)),(0,Jt.w)(i=>this.addInitialData(i)),(0,Ns.b)(()=>this.initialize$.next()),(0,$t.U)(()=>{}))}isDatabaseCreated(){return void 0!==this._dbInstance}getRepository(r,n){if(!this._dbInstance)return(0,fn._)(()=>new Error("Database not initialized"));const i=this._dbInstance.collections[r];if(!i)return(0,fn._)(()=>new Error("Collection not initialized"));const f=new Cv(n,i,this.acl);return(0,Ci.of)(f)}createDatabase(r,n){return(0,Eu.P)(()=>(0,ai.D)(function(e){var Se,t=e.storage,r=e.instanceCreationOptions,n=e.name,i=e.password,f=e.multiInstance,d=void 0===f||f,S=e.eventReduce,j=void 0!==S&&S,W=e.ignoreDuplicate,X=void 0!==W&&W,re=e.options,fe=void 0===re?{}:re;qt("preCreateRxDatabase",{storage:t,instanceCreationOptions:r,name:n,password:i,multiInstance:d,eventReduce:j,ignoreDuplicate:X,options:fe}),i&&ar.validatePassword(i),X||function(e){if(rc.has(e))throw Ve("DB8",{name:e,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}(n),rc.add(n),d&&(Se=new ec("RxDB:"+n+":socket"));var he=new Hu;return jl(t,n,r,he,Se).then(function(ee){var le=new hu(n,t,r,i,d,j,fe,he,ee.internalStore,ee.localDocumentsStore,Se);return function(e){return ac.apply(this,arguments)}(le).then(function(){return Qi("createRxDatabase",le)}).then(function(){return le})})}({name:r,password:n,storage:Gm("idb")})).pipe((0,Ns.b)(i=>this._dbInstance=i)))}addBaseCollections(r){const n=this.baseCollections.reduce((i,f)=>Object.assign(i,{[f.name]:f.creator}),{});return(0,Eu.P)(()=>(0,ai.D)(r.addCollections(n)).pipe((0,Ns.b)(i=>{Object.values(i).forEach(f=>{f.preInsert(d=>{const S=(new Date).toISOString();d.id=d.id||Sv(),d.createdAt=d.createdAt||S,d.updatedAt=d.updatedAt||S},!1),f.preSave((d,S)=>{const j=(new Date).toISOString();d.createdAt=S.createdAt||j,d.updatedAt=j},!1)})})))}addInitialData(r){return(0,ra.D)(this.initialData.map(n=>{const i=r[n.name],f=!("upsert"in n)||n.upsert;return(0,ra.D)(n.data.map(d=>(f?(0,Ci.of)(!0):(0,ai.D)(i.findOne({selector:{id:d.id}}).exec()).pipe((0,$t.U)(j=>!j))).pipe((0,Jt.w)(j=>j?(0,ai.D)(i.upsert(d)).pipe((0,Jt.w)(()=>{if("userapplications"!==n.name)return(0,Ci.of)(void 0);const W=(d.additionalProperties?.permissions||[]).map(X=>({...X,appId:d.id,id:`${d.id}:${X.kind}:${X.mode}:${X.target}`}));return W.length?(0,ra.D)(W.map(X=>r.applicationpermissions.upsert(X))):(0,Ci.of)(void 0)})):(0,Ci.of)(void 0)))))}))}}return e.\u0275fac=function(r){return new(r||e)(c.\u0275\u0275inject(Av),c.\u0275\u0275inject(Bf),c.\u0275\u0275inject(Ff))},e.\u0275prov=c.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},43:(oe,N,l)=>{l.d(N,{T:()=>R});var b=l(1457),I=l(1375),x=l(1135),F=l(3900),M=l(4128),U=l(8505),T=l(2843),P=l(9841),E=l(7777);let R=(()=>{class D{constructor(O,w){this.document=O,this.entityManager=w,this.customizationSettings$=new x.X(void 0),this.entityManager.initialize$.pipe((0,F.w)(()=>(0,M.D)([this.entityManager.getRepository("userpreferences","com.central-factory.settings")])),(0,U.b)(([y])=>{this.userPreferencesRepository=y,this.subscribeToDataChanges()})).subscribe()}setCustomizationSettings(O,w){return this.userPreferencesRepository?this.userPreferencesRepository.upsert({id:"settings.customization"+(w?`.${w}`:""),key:"settings.customization",value:O,avatar:w}):(0,T._)(()=>new Error("Repositories not initialized"))}subscribeToDataChanges(){if(!this.userPreferencesRepository)throw new Error("Repositories not initialized");this.customizationSettings$.pipe((0,U.b)(O=>{!O||O.theme&&this.loadThemeFromUrl(O.theme.path)})).subscribe(),(0,P.a)([this.userPreferencesRepository.observeOne({selector:{key:"userAvatars.selectedAvatar"}}),this.userPreferencesRepository.observe({selector:{key:"settings.customization"}})]).pipe((0,U.b)(([O,w])=>{if(w.length<=0)return;const y=w.find(u=>u.avatar===O?.value)||w[0];this.customizationSettings$.next(y.value)})).subscribe()}loadThemeFromUrl(O){if(this.activeThemeLinkElem&&this.activeThemeLinkElem?.href.endsWith(O))return;const y=this.document.getElementsByTagName("head")[0],u=this.document.createElement("link");u.rel="stylesheet",u.href=O,y.appendChild(u),this.activeThemeLinkElem&&y.removeChild(this.activeThemeLinkElem),this.activeThemeLinkElem=u}}return D.\u0275fac=function(O){return new(O||D)(E.\u0275\u0275inject(b.DOCUMENT),E.\u0275\u0275inject(I.v2))},D.\u0275prov=E.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac,providedIn:"root"}),D})()},4438:(oe,N,l)=>{l.d(N,{O:()=>I});var b=l(7777);let I=(()=>{class x{}return x.\u0275fac=function(M){return new(M||x)},x.\u0275mod=b.\u0275\u0275defineNgModule({type:x}),x.\u0275inj=b.\u0275\u0275defineInjector({}),x})()},1894:(oe,N,l)=>{l.d(N,{t:()=>I});var b=l(7777);let I=(()=>{class x{constructor(){this.separators={el:"__",mod:"--",val:"-"},this.ignoreValues=!1,this.modCase="kebab"}setMods(M,U,T,P,E,h){Object.keys(T).forEach(R=>{if(P[R]){if(T[R]===P[R])return;h.removeClass(E.nativeElement,this.generateClass(M,U,R,P[R]))}T[R]&&h.addClass(E.nativeElement,this.generateClass(M,U,R,T[R]))}),Object.keys(P).forEach(R=>{!(R in T)&&P[R]&&h.removeClass(E.nativeElement,this.generateClass(M,U,R,P[R]))})}generateClass(M,U,T,P){this.ignoreValues&&(P=!!P),"string"!=typeof P&&"boolean"!=typeof P&&(P=!!P);let E=M;return U&&(E+=this.separators.el+U),T&&(T=this.modNameHandler(T),E+=this.separators.mod+T,"boolean"!=typeof P&&null!=P&&(E+=this.separators.val+P)),E}parseMods(M){if("string"==typeof M&&(M=M.split(/\s+/)),Array.isArray(M)){const U=M;M={},U.forEach(T=>{M[T]=!0})}else if("object"!=typeof M)return{};return M}modNameHandler(M){switch(this.modCase){case"kebab":return M?M.replace(/[A-Z]/g,function(U){return"-"+U.toLowerCase()}).replace(/$\-/,""):"";case"snake":return M?M.replace(/[A-Z]/g,function(U){return"_"+U.toLowerCase()}).replace(/$\-/,""):"";default:return M}}}return x.\u0275fac=function(M){return new(M||x)},x.\u0275prov=b.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},1623:(oe,N,l)=>{l.d(N,{G:()=>x});var b=l(7777),I=l(1894);let x=(()=>{class F{constructor(U,T,P,E){this.bemService=E,this.name=P,this.element=U,this.renderer=T,T.addClass(U.nativeElement,this.bemService.generateClass(P))}ngOnChanges(){if(JSON.stringify(this.cfMod)!==this._modSerialized){this._modSerialized=JSON.stringify(this.cfMod);let U=this.cfMod;const{renderer:T,element:P,name:E}=this;U=this.bemService.parseMods(U),this.bemService.setMods(E,"",U,this._mods||{},P,T),this._mods=this._mods===U?Object.assign({},U):U}}}return F.\u0275fac=function(U){return new(U||F)(b.\u0275\u0275directiveInject(b.ElementRef),b.\u0275\u0275directiveInject(b.Renderer2),b.\u0275\u0275injectAttribute("cfBlock"),b.\u0275\u0275directiveInject(I.t))},F.\u0275dir=b.\u0275\u0275defineDirective({type:F,selectors:[["","cfBlock",""]],inputs:{cfMod:"cfMod"},features:[b.\u0275\u0275NgOnChangesFeature]}),F})()},3454:(oe,N,l)=>{l.d(N,{e:()=>F});var b=l(7777),I=l(1894),x=l(1623);let F=(()=>{class M{constructor(T,P,E,h,R){this.bemService=R,this.blockName=h.name,this.name=E,this.element=T,this.renderer=P,P.addClass(T.nativeElement,this.bemService.generateClass(h.name,E))}ngOnChanges(){if(JSON.stringify(this.cfMod)!==this._modSerialized){this._modSerialized=JSON.stringify(this.cfMod);let T=this.cfMod;const{renderer:P,element:E,blockName:h,name:R}=this;T=this.bemService.parseMods(T),this.bemService.setMods(h,R,T,this._mods||{},E,P),this._mods=this._mods===T?Object.assign({},T):T}}}return M.\u0275fac=function(T){return new(T||M)(b.\u0275\u0275directiveInject(b.ElementRef),b.\u0275\u0275directiveInject(b.Renderer2),b.\u0275\u0275injectAttribute("cfElem"),b.\u0275\u0275directiveInject(x.G),b.\u0275\u0275directiveInject(I.t))},M.\u0275dir=b.\u0275\u0275defineDirective({type:M,selectors:[["","cfElem",""]],inputs:{cfMod:"cfMod"},features:[b.\u0275\u0275NgOnChangesFeature]}),M})()},7967:(oe,N,l)=>{l.d(N,{I:()=>I});var b=l(7777);let I=(()=>{class x{}return x.\u0275fac=function(M){return new(M||x)},x.\u0275dir=b.\u0275\u0275defineDirective({type:x,selectors:[["","cfMod",""]]}),x})()},5183:(oe,N,l)=>{l.d(N,{L:()=>T});var b=l(1457),I=l(7777);function F(P,E){if(1&P){const h=I.\u0275\u0275getCurrentView();I.\u0275\u0275elementStart(0,"div",2),I.\u0275\u0275listener("click",function(){return I.\u0275\u0275restoreView(h),I.\u0275\u0275nextContext()._onBackdropClicked()}),I.\u0275\u0275elementEnd()}if(2&P){const h=I.\u0275\u0275nextContext();I.\u0275\u0275property("ngClass",h.backdropClass)}}const M=[[["cf-sidebar"],["","cf-sidebar",""]],[["","cf-sidebar-content",""]]],U=["cf-sidebar,[cf-sidebar]","[cf-sidebar-content]"];let T=(()=>{class P{constructor(h,R){this._ref=h,this.animate=!0,this.allowSidebarBackdropControl=!0,this.showBackdrop=!1,this.showBackdropChange=new I.EventEmitter,this.backdropClick=new I.EventEmitter,this._sidebars=[],this._isBrowser=(0,b.isPlatformBrowser)(R)}ngAfterContentInit(){!this._isBrowser||this._onToggle()}ngOnChanges(h){!this._isBrowser||h.showBackdrop&&this.showBackdropChange.emit(h.showBackdrop.currentValue)}ngOnDestroy(){!this._isBrowser||this._unsubscribe()}_addSidebar(h){this._sidebars.push(h),this._subscribe(h)}_removeSidebar(h){const R=this._sidebars.indexOf(h);-1!==R&&this._sidebars.splice(R,1)}_getContentStyle(){let h=0,R=0,D=0,L=0,O="",w="",y="";for(const u of this._sidebars)if(u._isModeSlide&&u.opened&&(O=`translate${u._isLeftOrRight?"X":"Y"}(${u._isLeftOrTop?"":"-"}${u._isLeftOrRight?u._width:u._height}px)`),u._isModePush&&u.opened||u.dock){let o=0;switch(u._isModeSlide&&u.opened?u._isLeftOrRight?y="100%":w="100%":o=u._isDocked||u._isModeOver&&u.dock?u._dockedSize:u._isLeftOrRight?u._width:u._height,u.position){case"left":h=Math.max(h,o);break;case"right":R=Math.max(R,o);break;case"top":D=Math.max(D,o);break;case"bottom":L=Math.max(L,o)}}return{padding:`${D}px ${R}px ${L}px ${h}px`,webkitTransform:O,transform:O,height:w,width:y}}_onBackdropClicked(){let h=!1;for(const R of this._sidebars)R.opened&&R.showBackdrop&&R.closeOnClickBackdrop&&(R.close(),h=!0);h&&this.backdropClick.emit()}_subscribe(h){h.openStart.subscribe(()=>this._onToggle()),h.sidebarOpen.subscribe(()=>this._markForCheck()),h.closeStart.subscribe(()=>this._onToggle()),h.sidebarClose.subscribe(()=>this._markForCheck()),h.modeChange.subscribe(()=>this._markForCheck()),h.positionChange.subscribe(()=>this._markForCheck()),h._onRerender.subscribe(()=>this._markForCheck())}_unsubscribe(){for(const h of this._sidebars)h.openStart.unsubscribe(),h.sidebarOpen.unsubscribe(),h.closeStart.unsubscribe(),h.sidebarClose.unsubscribe(),h.modeChange.unsubscribe(),h.positionChange.unsubscribe(),h._onRerender.unsubscribe()}_onToggle(){if(this._sidebars.length>0&&this.allowSidebarBackdropControl){const h=this._sidebars.some(R=>R.opened&&R.showBackdrop);this.showBackdrop=h,this.showBackdropChange.emit(h)}setTimeout(()=>{this._markForCheck()})}_markForCheck(){this._ref.markForCheck()}}return P.\u0275fac=function(h){return new(h||P)(I.\u0275\u0275directiveInject(I.ChangeDetectorRef),I.\u0275\u0275directiveInject(I.PLATFORM_ID))},P.\u0275cmp=I.\u0275\u0275defineComponent({type:P,selectors:[["cf-sidebar-container"]],inputs:{animate:"animate",allowSidebarBackdropControl:"allowSidebarBackdropControl",showBackdrop:"showBackdrop",contentClass:"contentClass",backdropClass:"backdropClass"},outputs:{showBackdropChange:"showBackdropChange",backdropClick:"backdropClick"},features:[I.\u0275\u0275NgOnChangesFeature],ngContentSelectors:U,decls:4,vars:5,consts:[["aria-hidden","true","class","cf-sidebar__backdrop",3,"ngClass","click",4,"ngIf"],[1,"cf-sidebar__content",3,"ngClass","ngStyle"],["aria-hidden","true",1,"cf-sidebar__backdrop",3,"ngClass","click"]],template:function(h,R){1&h&&(I.\u0275\u0275projectionDef(M),I.\u0275\u0275template(0,F,1,1,"div",0),I.\u0275\u0275projection(1),I.\u0275\u0275elementStart(2,"div",1),I.\u0275\u0275projection(3,1),I.\u0275\u0275elementEnd()),2&h&&(I.\u0275\u0275property("ngIf",R.showBackdrop),I.\u0275\u0275advance(2),I.\u0275\u0275classProp("cf-sidebar__content--animate",R.animate),I.\u0275\u0275property("ngClass",R.contentClass)("ngStyle",R._getContentStyle()))},directives:[b.NgIf,b.NgClass,b.NgStyle],encapsulation:2,changeDetection:0}),P})()},6111:(oe,N,l)=>{l.d(N,{k:()=>T});var b=l(1457),c=l(7777),F=l(5183);const M=["sidebar"],U=["*"];let T=(()=>{class P{constructor(h,R,D){if(this._container=h,this._ref=R,this.opened=!1,this.openedChange=new c.EventEmitter,this.mode="over",this.dock=!1,this.dockedSize="0px",this.position="start",this.animate=!0,this.autoCollapseOnInit=!0,this.trapFocus=!1,this.autoFocus=!0,this.showBackdrop=!1,this.closeOnClickBackdrop=!1,this.closeOnClickOutside=!1,this.keyClose=!1,this.keyCode=27,this.contentInit=new c.EventEmitter,this.openStart=new c.EventEmitter,this.sidebarOpen=new c.EventEmitter,this.closeStart=new c.EventEmitter,this.sidebarClose=new c.EventEmitter,this.transitionEnd=new c.EventEmitter,this.modeChange=new c.EventEmitter,this.positionChange=new c.EventEmitter,this._onRerender=new c.EventEmitter,this._focusableElementsString="a[href], area[href], input:not([disabled]), select:not([disabled]),textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], [contenteditable]",this._tabIndexAttr="__tabindex__",this._tabIndexIndicatorAttr="__ngsidebar-tabindex__",this._clickEvent="click",this._onClickOutsideAttached=!1,this._onKeyDownAttached=!1,this._onResizeAttached=!1,!this._container)throw new Error("<cf-sidebar> must be inside a <cf-sidebar-container>. See https://github.com/arkon/ng-sidebar#usage for more info.");this._isBrowser=(0,b.isPlatformBrowser)(D),this._isBrowser&&"undefined"!=typeof window&&"undefined"!=typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!("onclick"in window)&&(this._clickEvent="touchstart"),this._normalizePosition(),this.open=this.open.bind(this),this._onTransitionEnd=this._onTransitionEnd.bind(this),this._onFocusTrap=this._onFocusTrap.bind(this),this._onClickOutside=this._onClickOutside.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._collapse=this._collapse.bind(this)}ngOnInit(){!this._isBrowser||(this.animate&&(this._shouldAnimate=!0,this.animate=!1),this._container._addSidebar(this),this.autoCollapseOnInit&&this._collapse())}ngAfterContentInit(){this.contentInit.emit()}ngOnChanges(h){!this._isBrowser||(h.animate&&this._shouldAnimate&&(this._shouldAnimate=h.animate.currentValue),h.closeOnClickOutside&&(h.closeOnClickOutside.currentValue?this._initCloseClickListener():this._destroyCloseClickListener()),h.keyClose&&(h.keyClose.currentValue?this._initCloseKeyDownListener():this._destroyCloseKeyDownListener()),h.position&&(this._normalizePosition(),setTimeout(()=>{this.positionChange.emit(h.position.currentValue)})),h.mode&&setTimeout(()=>{this.modeChange.emit(h.mode.currentValue)}),h.dock&&this.triggerRerender(),h.opened&&(this._shouldAnimate&&(this.animate=!0,this._shouldAnimate=!1),h.opened.currentValue?this.open():this.close()),(h.autoCollapseHeight||h.autoCollapseWidth)&&this._initCollapseListeners())}ngOnDestroy(){!this._isBrowser||(this._destroyCloseListeners(),this._destroyCollapseListeners(),this._container._removeSidebar(this))}open(){!this._isBrowser||(this.opened=!0,this.openedChange.emit(!0),this.openStart.emit(),this._ref.detectChanges(),setTimeout(()=>{this.animate&&!this._isModeSlide?this._elSidebar.nativeElement.addEventListener("transitionend",this._onTransitionEnd):(this._setFocused(),this._initCloseListeners(),this.opened&&this.sidebarOpen.emit())}))}close(){!this._isBrowser||(this.opened=!1,this.openedChange.emit(!1),this.closeStart.emit(),this._ref.detectChanges(),setTimeout(()=>{this.animate&&!this._isModeSlide?this._elSidebar.nativeElement.addEventListener("transitionend",this._onTransitionEnd):(this._setFocused(),this._destroyCloseListeners(),this.opened||this.sidebarClose.emit())}))}triggerRerender(){!this._isBrowser||setTimeout(()=>{this._onRerender.emit()})}_getStyle(){let h="";if(!this.opened){const R="translate"+(this._isLeftOrRight?"X":"Y");h=`${R}(${(this._isLeftOrTop?"-":"")+"100%"})`,this.dock&&this._dockedSize>0&&(!this._isModeSlide||!this.opened)&&(h+=` ${R}(${this._isLeftOrTop?"+":"-"}${this.dockedSize})`)}return{webkitTransform:h,transform:h}}_onTransitionEnd(h){h.target===this._elSidebar.nativeElement&&h.propertyName.endsWith("transform")&&(this._setFocused(),this.opened?(this._initCloseListeners(),this.sidebarOpen.emit()):(this._destroyCloseListeners(),this.sidebarClose.emit()),this.transitionEnd.emit(),this._elSidebar.nativeElement.removeEventListener("transitionend",this._onTransitionEnd))}get _shouldTrapFocus(){return this.opened&&this.trapFocus}_focusFirstItem(){this._focusableElements&&this._focusableElements.length>0&&this._focusableElements[0].focus()}_onFocusTrap(h){this._shouldTrapFocus&&!this._elSidebar.nativeElement.contains(h.target)&&this._focusFirstItem()}_setFocused(){if(this._focusableElements=Array.from(this._elSidebar.nativeElement.querySelectorAll(this._focusableElementsString)),this.opened){this._focusedBeforeOpen=document.activeElement;for(const h of this._focusableElements){const R=h.getAttribute(this._tabIndexAttr),D=null!==h.getAttribute(this._tabIndexIndicatorAttr);null!==R?(h.setAttribute("tabindex",R),h.removeAttribute(this._tabIndexAttr)):D&&(h.removeAttribute("tabindex"),h.removeAttribute(this._tabIndexIndicatorAttr))}this.autoFocus&&this._focusFirstItem(),document.addEventListener("focus",this._onFocusTrap,!0)}else{for(const h of this._focusableElements){const R=h.getAttribute("tabindex");h.setAttribute("tabindex","-1"),h.setAttribute(this._tabIndexIndicatorAttr,""),null!==R&&h.setAttribute(this._tabIndexAttr,R)}document.removeEventListener("focus",this._onFocusTrap,!0),this._focusedBeforeOpen&&this.autoFocus&&this._isModeOver&&(this._focusedBeforeOpen.focus(),this._focusedBeforeOpen=null)}}_initCloseListeners(){this._initCloseClickListener(),this._initCloseKeyDownListener()}_initCloseClickListener(){setTimeout(()=>{this.opened&&this.closeOnClickOutside&&!this._onClickOutsideAttached&&(document.addEventListener(this._clickEvent,this._onClickOutside),this._onClickOutsideAttached=!0)})}_initCloseKeyDownListener(){setTimeout(()=>{this.opened&&this.keyClose&&!this._onKeyDownAttached&&(document.addEventListener("keydown",this._onKeyDown),this._onKeyDownAttached=!0)})}_destroyCloseListeners(){this._destroyCloseClickListener(),this._destroyCloseKeyDownListener()}_destroyCloseClickListener(){this._onClickOutsideAttached&&(document.removeEventListener(this._clickEvent,this._onClickOutside),this._onClickOutsideAttached=!1)}_destroyCloseKeyDownListener(){this._onKeyDownAttached&&(document.removeEventListener("keydown",this._onKeyDown),this._onKeyDownAttached=!1)}_onClickOutside(h){this._onClickOutsideAttached&&this._elSidebar&&!this._elSidebar.nativeElement.contains(h.target)&&this.close()}_onKeyDown(h){(h=h||window.event).keyCode===this.keyCode&&this.close()}_initCollapseListeners(){(this.autoCollapseHeight||this.autoCollapseWidth)&&setTimeout(()=>{this._onResizeAttached||(window.addEventListener("resize",this._collapse),this._onResizeAttached=!0)})}_destroyCollapseListeners(){this._onResizeAttached&&(window.removeEventListener("resize",this._collapse),this._onResizeAttached=!1)}_collapse(){const h=window.innerHeight,R=window.innerWidth;this.autoCollapseHeight&&(h<=this.autoCollapseHeight&&this.opened?(this._wasCollapsed=!0,this.close()):h>this.autoCollapseHeight&&this._wasCollapsed&&(this.open(),this._wasCollapsed=!1)),this.autoCollapseWidth&&(R<=this.autoCollapseWidth&&this.opened?(this._wasCollapsed=!0,this.close()):R>this.autoCollapseWidth&&this._wasCollapsed&&(this.open(),this._wasCollapsed=!1))}get _height(){return this._elSidebar.nativeElement?this._isDocked?this._dockedSize:this._elSidebar.nativeElement.offsetHeight:0}get _width(){return this._elSidebar.nativeElement?this._isDocked?this._dockedSize:this._elSidebar.nativeElement.offsetWidth:0}get _dockedSize(){return parseFloat(this.dockedSize)}get _isModeOver(){return"over"===this.mode}get _isModePush(){return"push"===this.mode}get _isModeSlide(){return"slide"===this.mode}get _isDocked(){return!(!this.dock||!this.dockedSize||this.opened)}get _isLeftOrTop(){return"left"===this.position||"top"===this.position}get _isLeftOrRight(){return"left"===this.position||"right"===this.position}get _isInert(){return!this.opened&&!this.dock}_normalizePosition(){const h=(()=>{let P="ltr";return"undefined"!=typeof window&&(P=window.getComputedStyle?window.getComputedStyle(document.body,null).getPropertyValue("direction"):document.body.currentStyle.direction),"ltr"===P})();"start"===this.position?this.position=h?"left":"right":"end"===this.position&&(this.position=h?"right":"left")}}return P.\u0275fac=function(h){return new(h||P)(c.\u0275\u0275directiveInject(F.L,8),c.\u0275\u0275directiveInject(c.ChangeDetectorRef),c.\u0275\u0275directiveInject(c.PLATFORM_ID))},P.\u0275cmp=c.\u0275\u0275defineComponent({type:P,selectors:[["cf-sidebar"]],viewQuery:function(h,R){if(1&h&&c.\u0275\u0275viewQuery(M,5),2&h){let D;c.\u0275\u0275queryRefresh(D=c.\u0275\u0275loadQuery())&&(R._elSidebar=D.first)}},inputs:{opened:"opened",mode:"mode",dock:"dock",dockedSize:"dockedSize",position:"position",animate:"animate",autoCollapseHeight:"autoCollapseHeight",autoCollapseWidth:"autoCollapseWidth",autoCollapseOnInit:"autoCollapseOnInit",sidebarClass:"sidebarClass",ariaLabel:"ariaLabel",trapFocus:"trapFocus",autoFocus:"autoFocus",showBackdrop:"showBackdrop",closeOnClickBackdrop:"closeOnClickBackdrop",closeOnClickOutside:"closeOnClickOutside",keyClose:"keyClose",keyCode:"keyCode"},outputs:{openedChange:"openedChange",contentInit:"contentInit",openStart:"openStart",sidebarOpen:"sidebarOpen",closeStart:"closeStart",sidebarClose:"sidebarClose",transitionEnd:"transitionEnd",modeChange:"modeChange",positionChange:"positionChange",_onRerender:"_onRerender"},features:[c.\u0275\u0275NgOnChangesFeature],ngContentSelectors:U,decls:3,vars:15,consts:[["role","complementary",3,"ngClass","ngStyle"],["sidebar",""]],template:function(h,R){1&h&&(c.\u0275\u0275projectionDef(),c.\u0275\u0275elementStart(0,"aside",0,1),c.\u0275\u0275projection(2),c.\u0275\u0275elementEnd()),2&h&&(c.\u0275\u0275classMapInterpolate3("cf-sidebar cf-sidebar--",R.opened?"opened":"closed"," cf-sidebar--",R.position," cf-sidebar--",R.mode,""),c.\u0275\u0275classProp("cf-sidebar--docked",R._isDocked)("cf-sidebar--inert",R._isInert)("cf-sidebar--animate",R.animate),c.\u0275\u0275property("ngClass",R.sidebarClass)("ngStyle",R._getStyle()),c.\u0275\u0275attribute("aria-hidden",!R.opened)("aria-label",R.ariaLabel))},directives:[b.NgClass,b.NgStyle],encapsulation:2,changeDetection:0}),P})()},5687:(oe,N,l)=>{l.d(N,{l:()=>F});var b=l(1457),I=l(7777);let F=(()=>{class M{}return M.\u0275fac=function(T){return new(T||M)},M.\u0275mod=I.\u0275\u0275defineNgModule({type:M}),M.\u0275inj=I.\u0275\u0275defineInjector({imports:[[b.CommonModule]]}),M})()},5028:(oe,N,l)=>{l.d(N,{M6:()=>L,Kb:()=>w});var b=l(1457),I=l(7777),F=l(9646),M=l(2843),U=l(4004),T=l(8505),P=l(262),E=l(8746),h=l(3099),R=l(7191);const D=new I.InjectionToken("SERVER_URL");let L=(()=>{class y{constructor(o,m,p,q){this.loader=o,this.platformId=m,this.serverUrl=p,this._document=q,this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map,this.document=this._document}addSvg(o,m){if(!this.iconsByUrl.has(o)){const p=this.document.createElement("DIV");p.innerHTML=m;const q=p.querySelector("svg");this.iconsByUrl.set(o,q)}}loadSvg(o,m=o){if(this.serverUrl&&null===o.match(/^(http(s)?):/)&&(m=o=this.serverUrl+o),this.iconsByUrl.has(m))return(0,F.of)(this.iconsByUrl.get(m));if(this.iconsLoadingByUrl.has(m))return this.iconsLoadingByUrl.get(m);const p=this.loader.getSvg(o).pipe((0,U.U)(q=>{const de=this.document.createElement("DIV");return de.innerHTML=q,de.querySelector("svg")}),(0,T.b)(q=>this.iconsByUrl.set(m,q)),(0,P.K)(q=>(console.error(q),(0,M._)(q))),(0,E.x)(()=>this.iconsLoadingByUrl.delete(m)),(0,h.B)());return this.iconsLoadingByUrl.set(m,p),p}getSvgByName(o){return this.iconsByUrl.has(o)?(0,F.of)(this.iconsByUrl.get(o)):this.iconsLoadingByUrl.has(o)?this.iconsLoadingByUrl.get(o):(0,M._)(`No svg with name '${o}' has been loaded`)}unloadSvg(o){this.iconsByUrl.has(o)&&this.iconsByUrl.delete(o)}}return y.\u0275fac=function(o){return new(o||y)(I.\u0275\u0275inject(R.S),I.\u0275\u0275inject(I.PLATFORM_ID),I.\u0275\u0275inject(D,8),I.\u0275\u0275inject(b.DOCUMENT,8))},y.\u0275prov=I.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y})();const w={provide:L,deps:[[new I.Optional,new I.SkipSelf,L],R.S,[I.PLATFORM_ID],[new I.Optional,D],[new I.Optional,b.DOCUMENT]],useFactory:function(y,u,o,m,p){return y||new L(u,o,m,p)}}},9750:(oe,N,l)=>{l.d(N,{b:()=>M});var b=l(7777),I=l(5028);const x=["*"];class F{constructor(){this.loaded=!1}}let M=(()=>{class U{constructor(P,E,h,R,D){this.element=P,this.differs=E,this.renderer=h,this.iconReg=R,this.cdr=D,this.stretch=!1,this.applyClass=!1,this.helper=new F,this._svgStyle=null}set svgStyle(P){this._svgStyle=P,!this.helper.differ&&P&&(this.helper.differ=this.differs.find(P).create())}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}ngOnChanges(P){const E=this.element.nativeElement.firstChild;(P.src||P.name)&&(this.helper.loaded&&this.destroy(),this.init()),P.stretch&&this.stylize(),P.applyClass&&(this.applyClass?this.setClass(E,null,this.klass):this.setClass(E,this.klass,null)),P.svgClass&&this.setClass(E,P.svgClass.previousValue,P.svgClass.currentValue),P.klass&&(this.setClass(this.element.nativeElement,P.klass.previousValue,P.klass.currentValue),this.setClass(E,P.klass.previousValue,this.applyClass?P.klass.currentValue:null)),P.viewBox&&(this.helper.loaded&&this.destroy(),this.init()),P.svgAriaLabel&&this.doAria(P.svgAriaLabel.currentValue)}ngDoCheck(){if(this.helper.svg&&this.helper.differ){const P=this.helper.differ.diff(this._svgStyle);P&&this.applyChanges(P)}}init(){if(this.name){const P=this.iconReg.getSvgByName(this.name);P&&(this.helper.icnSub=P.subscribe(E=>this.initSvg(E)))}else if(this.src){const P=this.iconReg.loadSvg(this.src);P&&(this.helper.icnSub=P.subscribe(E=>this.initSvg(E)))}else this.element.nativeElement.innerHTML="",this.cdr.markForCheck()}initSvg(P){!this.helper.loaded&&P&&(this.setSvg(P),this.resetDiffer())}destroy(){this.helper.icnSub&&this.helper.icnSub.unsubscribe(),this.helper=new F}resetDiffer(){this._svgStyle&&!this.helper.differ&&(this.helper.differ=this.differs.find(this._svgStyle).create())}setSvg(P){if(!this.helper.loaded&&P){this.helper.svg=P;const E=P.cloneNode(!0),h=this.element.nativeElement;if(h.innerHTML="",this.renderer.appendChild(h,E),this.helper.loaded=!0,this.copyNgContentAttribute(h,E),this.klass&&this.applyClass&&this.setClass(h.firstChild,null,this.klass),this.svgClass&&this.setClass(h.firstChild,null,this.svgClass),this.viewBox)if("auto"===this.viewBox){const R=E.getAttribute("width"),D=E.getAttribute("height");D&&R&&(this.renderer.setAttribute(E,"viewBox",`0 0 ${R} ${D}`),this.renderer.removeAttribute(E,"width"),this.renderer.removeAttribute(E,"height"))}else""!==this.viewBox&&(this.renderer.setAttribute(E,"viewBox",this.viewBox),this.renderer.removeAttribute(E,"width"),this.renderer.removeAttribute(E,"height"));this.stylize(),void 0===this.svgAriaLabel&&h.firstChild.hasAttribute("aria-label")||this.doAria(this.svgAriaLabel||""),this.cdr.markForCheck()}}copyNgContentAttribute(P,E){const h=P.attributes,R=h.length;for(let D=0;D<R;D+=1){const L=h.item(D);if(L&&L.name.startsWith("_ngcontent")){this.setNgContentAttribute(E,L.name);break}}}setNgContentAttribute(P,E){this.renderer.setAttribute(P,E,"");const h=P.childNodes.length;for(let R=0;R<h;R+=1){const D=P.childNodes[R];D instanceof Element&&this.setNgContentAttribute(D,E)}}stylize(){if(this.helper.svg){const P=this.element.nativeElement.firstChild;!0===this.stretch?this.renderer.setAttribute(P,"preserveAspectRatio","none"):!1===this.stretch&&this.renderer.removeAttribute(P,"preserveAspectRatio")}}applyChanges(P){P.forEachRemovedItem(E=>this.setStyle(E.key,null)),P.forEachAddedItem(E=>this.setStyle(E.key,E.currentValue)),P.forEachChangedItem(E=>this.setStyle(E.key,E.currentValue))}setStyle(P,E){const[h,R]=P.split("."),D=this.element.nativeElement.firstChild;null!==(E=null!==E&&R?`${E}${R}`:E)?this.renderer.setStyle(D,h,E):this.renderer.removeStyle(D,h)}setClass(P,E,h){if(P){if(E){const R=(Array.isArray(E)?E:E.split(" ")).filter(D=>D);for(const D of R)this.renderer.removeClass(P,D)}if(h){const R=(Array.isArray(h)?h:h.split(" ")).filter(D=>D);for(const D of R)this.renderer.addClass(P,D)}}}doAria(P){const E=this.element.nativeElement.firstChild;E&&(""===P?(this.renderer.setAttribute(E,"aria-hidden","true"),this.renderer.removeAttribute(E,"aria-label")):(this.renderer.removeAttribute(E,"aria-hidden"),this.renderer.setAttribute(E,"aria-label",P)))}}return U.\u0275fac=function(P){return new(P||U)(b.\u0275\u0275directiveInject(b.ElementRef),b.\u0275\u0275directiveInject(b.KeyValueDiffers),b.\u0275\u0275directiveInject(b.Renderer2),b.\u0275\u0275directiveInject(I.M6),b.\u0275\u0275directiveInject(b.ChangeDetectorRef))},U.\u0275cmp=b.\u0275\u0275defineComponent({type:U,selectors:[["cf-svg-icon"]],inputs:{src:"src",name:"name",stretch:"stretch",applyClass:"applyClass",svgClass:"svgClass",klass:["class","klass"],viewBox:"viewBox",svgAriaLabel:"svgAriaLabel",svgStyle:"svgStyle"},features:[b.\u0275\u0275NgOnChangesFeature],ngContentSelectors:x,decls:1,vars:0,template:function(P,E){1&P&&(b.\u0275\u0275projectionDef(),b.\u0275\u0275projection(0))},encapsulation:2}),U})()},2051:(oe,N,l)=>{l.d(N,{Y:()=>U});var b=l(1457),I=l(7777),F=l(5028),M=l(7191);let U=(()=>{class T{static forRoot(E={}){return{ngModule:T,providers:[F.Kb,E.loader||{provide:M.S,useClass:M.o}]}}}return T.\u0275fac=function(E){return new(E||T)},T.\u0275mod=I.\u0275\u0275defineNgModule({type:T}),T.\u0275inj=I.\u0275\u0275defineInjector({imports:[[b.CommonModule]]}),T})()},7191:(oe,N,l)=>{l.d(N,{S:()=>F,o:()=>M});var b=l(9283),I=l(7777);class F{}let M=(()=>{class U extends F{constructor(P){super(),this.http=P}getSvg(P){return this.http.get(P,{responseType:"text"})}}return U.\u0275fac=function(P){return new(P||U)(I.\u0275\u0275inject(b.HttpClient))},U.\u0275prov=I.\u0275\u0275defineInjectable({token:U,factory:U.\u0275fac}),U})()},1611:oe=>{oe.exports=function(l){return function(){var b=arguments.length;if(b){for(var c=[],I=-1;++I<b;)c[I]=arguments[I];return l.call(this,c)}return l.call(this,[])}}},5834:(oe,N,l)=>{var b=l(5203),c=l(5685),I=c(b("String.prototype.indexOf"));oe.exports=function(F,M){var U=b(F,!!M);return"function"==typeof U&&I(F,".prototype.")>-1?c(U):U}},5685:(oe,N,l)=>{var b=l(4444),c=l(5203),I=c("%Function.prototype.apply%"),x=c("%Function.prototype.call%"),F=c("%Reflect.apply%",!0)||b.call(x,I),M=c("%Object.getOwnPropertyDescriptor%",!0),U=c("%Object.defineProperty%",!0),T=c("%Math.max%");if(U)try{U({},"a",{value:1})}catch{U=null}oe.exports=function(h){var R=F(b,x,arguments);if(M&&U){var D=M(R,"length");D.configurable&&U(R,"length",{value:1+T(0,h.length-(arguments.length-1))})}return R};var P=function(){return F(b,I,arguments)};U?U(oe.exports,"apply",{value:P}):oe.exports.apply=P},7466:function(oe,N,l){var b;oe.exports=(b=l(7585),l(8319),l(9493),l(7865),l(3057),function(){var c=b,x=c.lib.BlockCipher,F=c.algo,M=[],U=[],T=[],P=[],E=[],h=[],R=[],D=[],L=[],O=[];!function(){for(var u=[],o=0;o<256;o++)u[o]=o<128?o<<1:o<<1^283;var m=0,p=0;for(o=0;o<256;o++){var q=p^p<<1^p<<2^p<<3^p<<4;M[m]=q=q>>>8^255&q^99,U[q]=m;var pe,de=u[m],Ce=u[de],ye=u[Ce];T[m]=(pe=257*u[q]^16843008*q)<<24|pe>>>8,P[m]=pe<<16|pe>>>16,E[m]=pe<<8|pe>>>24,h[m]=pe,R[q]=(pe=16843009*ye^65537*Ce^257*de^16843008*m)<<24|pe>>>8,D[q]=pe<<16|pe>>>16,L[q]=pe<<8|pe>>>24,O[q]=pe,m?(m=de^u[u[u[ye^de]]],p^=u[u[p]]):m=p=1}}();var w=[0,1,2,4,8,16,32,64,128,27,54],y=F.AES=x.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var o=this._keyPriorReset=this._key,m=o.words,p=o.sigBytes/4,de=4*((this._nRounds=p+6)+1),Ce=this._keySchedule=[],ye=0;ye<de;ye++)ye<p?Ce[ye]=m[ye]:(u=Ce[ye-1],ye%p?p>6&&ye%p==4&&(u=M[u>>>24]<<24|M[u>>>16&255]<<16|M[u>>>8&255]<<8|M[255&u]):(u=M[(u=u<<8|u>>>24)>>>24]<<24|M[u>>>16&255]<<16|M[u>>>8&255]<<8|M[255&u],u^=w[ye/p|0]<<24),Ce[ye]=Ce[ye-p]^u);for(var pe=this._invKeySchedule=[],Q=0;Q<de;Q++){if(ye=de-Q,Q%4)var u=Ce[ye];else u=Ce[ye-4];pe[Q]=Q<4||ye<=4?u:R[M[u>>>24]]^D[M[u>>>16&255]]^L[M[u>>>8&255]]^O[M[255&u]]}}},encryptBlock:function(u,o){this._doCryptBlock(u,o,this._keySchedule,T,P,E,h,M)},decryptBlock:function(u,o){var m=u[o+1];u[o+1]=u[o+3],u[o+3]=m,this._doCryptBlock(u,o,this._invKeySchedule,R,D,L,O,U),m=u[o+1],u[o+1]=u[o+3],u[o+3]=m},_doCryptBlock:function(u,o,m,p,q,de,Ce,ye){for(var pe=this._nRounds,Q=u[o]^m[0],z=u[o+1]^m[1],Y=u[o+2]^m[2],H=u[o+3]^m[3],J=4,K=1;K<pe;K++){var ie=p[Q>>>24]^q[z>>>16&255]^de[Y>>>8&255]^Ce[255&H]^m[J++],Ee=p[z>>>24]^q[Y>>>16&255]^de[H>>>8&255]^Ce[255&Q]^m[J++],Fe=p[Y>>>24]^q[H>>>16&255]^de[Q>>>8&255]^Ce[255&z]^m[J++],me=p[H>>>24]^q[Q>>>16&255]^de[z>>>8&255]^Ce[255&Y]^m[J++];Q=ie,z=Ee,Y=Fe,H=me}ie=(ye[Q>>>24]<<24|ye[z>>>16&255]<<16|ye[Y>>>8&255]<<8|ye[255&H])^m[J++],Ee=(ye[z>>>24]<<24|ye[Y>>>16&255]<<16|ye[H>>>8&255]<<8|ye[255&Q])^m[J++],Fe=(ye[Y>>>24]<<24|ye[H>>>16&255]<<16|ye[Q>>>8&255]<<8|ye[255&z])^m[J++],me=(ye[H>>>24]<<24|ye[Q>>>16&255]<<16|ye[z>>>8&255]<<8|ye[255&Y])^m[J++],u[o]=ie,u[o+1]=Ee,u[o+2]=Fe,u[o+3]=me},keySize:8});c.AES=x._createHelper(y)}(),b.AES)},3057:function(oe,N,l){var I,x,F,M,U,T,E,R,D,O,w,y,o,p,de,Ce,pe,Q,b;oe.exports=(b=l(7585),l(7865),void(b.lib.Cipher||(I=b,x=I.lib,F=x.Base,M=x.WordArray,U=x.BufferedBlockAlgorithm,T=I.enc,E=T.Base64,R=I.algo.EvpKDF,D=x.Cipher=U.extend({cfg:F.extend(),createEncryptor:function(z,Y){return this.create(this._ENC_XFORM_MODE,z,Y)},createDecryptor:function(z,Y){return this.create(this._DEC_XFORM_MODE,z,Y)},init:function(z,Y,H){this.cfg=this.cfg.extend(H),this._xformMode=z,this._key=Y,this.reset()},reset:function(){U.reset.call(this),this._doReset()},process:function(z){return this._append(z),this._process()},finalize:function(z){return z&&this._append(z),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function z(Y){return"string"==typeof Y?Q:Ce}return function(Y){return{encrypt:function(H,J,K){return z(J).encrypt(Y,H,J,K)},decrypt:function(H,J,K){return z(J).decrypt(Y,H,J,K)}}}}()}),x.StreamCipher=D.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),O=I.mode={},w=x.BlockCipherMode=F.extend({createEncryptor:function(z,Y){return this.Encryptor.create(z,Y)},createDecryptor:function(z,Y){return this.Decryptor.create(z,Y)},init:function(z,Y){this._cipher=z,this._iv=Y}}),y=O.CBC=function(){var z=w.extend();function Y(H,J,K){var ie,Ee=this._iv;Ee?(ie=Ee,this._iv=undefined):ie=this._prevBlock;for(var Fe=0;Fe<K;Fe++)H[J+Fe]^=ie[Fe]}return z.Encryptor=z.extend({processBlock:function(H,J){var K=this._cipher,ie=K.blockSize;Y.call(this,H,J,ie),K.encryptBlock(H,J),this._prevBlock=H.slice(J,J+ie)}}),z.Decryptor=z.extend({processBlock:function(H,J){var K=this._cipher,ie=K.blockSize,Ee=H.slice(J,J+ie);K.decryptBlock(H,J),Y.call(this,H,J,ie),this._prevBlock=Ee}}),z}(),o=(I.pad={}).Pkcs7={pad:function(z,Y){for(var H=4*Y,J=H-z.sigBytes%H,K=J<<24|J<<16|J<<8|J,ie=[],Ee=0;Ee<J;Ee+=4)ie.push(K);var Fe=M.create(ie,J);z.concat(Fe)},unpad:function(z){z.sigBytes-=255&z.words[z.sigBytes-1>>>2]}},x.BlockCipher=D.extend({cfg:D.cfg.extend({mode:y,padding:o}),reset:function(){var z;D.reset.call(this);var Y=this.cfg,H=Y.iv,J=Y.mode;this._xformMode==this._ENC_XFORM_MODE?z=J.createEncryptor:(z=J.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==z?this._mode.init(this,H&&H.words):(this._mode=z.call(J,this,H&&H.words),this._mode.__creator=z)},_doProcessBlock:function(z,Y){this._mode.processBlock(z,Y)},_doFinalize:function(){var z,Y=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Y.pad(this._data,this.blockSize),z=this._process(!0)):(z=this._process(!0),Y.unpad(z)),z},blockSize:4}),p=x.CipherParams=F.extend({init:function(z){this.mixIn(z)},toString:function(z){return(z||this.formatter).stringify(this)}}),de=(I.format={}).OpenSSL={stringify:function(z){var H=z.ciphertext,J=z.salt;return(J?M.create([1398893684,1701076831]).concat(J).concat(H):H).toString(E)},parse:function(z){var Y,H=E.parse(z),J=H.words;return 1398893684==J[0]&&1701076831==J[1]&&(Y=M.create(J.slice(2,4)),J.splice(0,4),H.sigBytes-=16),p.create({ciphertext:H,salt:Y})}},Ce=x.SerializableCipher=F.extend({cfg:F.extend({format:de}),encrypt:function(z,Y,H,J){J=this.cfg.extend(J);var K=z.createEncryptor(H,J),ie=K.finalize(Y),Ee=K.cfg;return p.create({ciphertext:ie,key:H,iv:Ee.iv,algorithm:z,mode:Ee.mode,padding:Ee.padding,blockSize:z.blockSize,formatter:J.format})},decrypt:function(z,Y,H,J){return J=this.cfg.extend(J),Y=this._parse(Y,J.format),z.createDecryptor(H,J).finalize(Y.ciphertext)},_parse:function(z,Y){return"string"==typeof z?Y.parse(z,this):z}}),pe=(I.kdf={}).OpenSSL={execute:function(z,Y,H,J){J||(J=M.random(8));var K=R.create({keySize:Y+H}).compute(z,J),ie=M.create(K.words.slice(Y),4*H);return K.sigBytes=4*Y,p.create({key:K,iv:ie,salt:J})}},Q=x.PasswordBasedCipher=Ce.extend({cfg:Ce.cfg.extend({kdf:pe}),encrypt:function(z,Y,H,J){var K=(J=this.cfg.extend(J)).kdf.execute(H,z.keySize,z.ivSize);J.iv=K.iv;var ie=Ce.encrypt.call(this,z,Y,K.key,J);return ie.mixIn(K),ie},decrypt:function(z,Y,H,J){J=this.cfg.extend(J),Y=this._parse(Y,J.format);var K=J.kdf.execute(H,z.keySize,z.ivSize,Y.salt);return J.iv=K.iv,Ce.decrypt.call(this,z,Y,K.key,J)}}))))},7585:function(oe,N,l){var b;oe.exports=(b=b||function(c,I){var x;if("undefined"!=typeof window&&window.crypto&&(x=window.crypto),"undefined"!=typeof self&&self.crypto&&(x=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(x=globalThis.crypto),!x&&"undefined"!=typeof window&&window.msCrypto&&(x=window.msCrypto),!x&&"undefined"!=typeof global&&global.crypto&&(x=global.crypto),!x)try{x=l(2480)}catch{}var F=function(){if(x){if("function"==typeof x.getRandomValues)try{return x.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof x.randomBytes)try{return x.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},M=Object.create||function(){function u(){}return function(o){var m;return u.prototype=o,m=new u,u.prototype=null,m}}(),U={},T=U.lib={},P=T.Base={extend:function(u){var o=M(this);return u&&o.mixIn(u),(!o.hasOwnProperty("init")||this.init===o.init)&&(o.init=function(){o.$super.init.apply(this,arguments)}),o.init.prototype=o,o.$super=this,o},create:function(){var u=this.extend();return u.init.apply(u,arguments),u},init:function(){},mixIn:function(u){for(var o in u)u.hasOwnProperty(o)&&(this[o]=u[o]);u.hasOwnProperty("toString")&&(this.toString=u.toString)},clone:function(){return this.init.prototype.extend(this)}},E=T.WordArray=P.extend({init:function(u,o){u=this.words=u||[],this.sigBytes=null!=o?o:4*u.length},toString:function(u){return(u||R).stringify(this)},concat:function(u){var o=this.words,m=u.words,p=this.sigBytes,q=u.sigBytes;if(this.clamp(),p%4)for(var de=0;de<q;de++)o[p+de>>>2]|=(m[de>>>2]>>>24-de%4*8&255)<<24-(p+de)%4*8;else for(var ye=0;ye<q;ye+=4)o[p+ye>>>2]=m[ye>>>2];return this.sigBytes+=q,this},clamp:function(){var u=this.words,o=this.sigBytes;u[o>>>2]&=4294967295<<32-o%4*8,u.length=c.ceil(o/4)},clone:function(){var u=P.clone.call(this);return u.words=this.words.slice(0),u},random:function(u){for(var o=[],m=0;m<u;m+=4)o.push(F());return new E.init(o,u)}}),h=U.enc={},R=h.Hex={stringify:function(u){for(var o=u.words,m=u.sigBytes,p=[],q=0;q<m;q++){var de=o[q>>>2]>>>24-q%4*8&255;p.push((de>>>4).toString(16)),p.push((15&de).toString(16))}return p.join("")},parse:function(u){for(var o=u.length,m=[],p=0;p<o;p+=2)m[p>>>3]|=parseInt(u.substr(p,2),16)<<24-p%8*4;return new E.init(m,o/2)}},D=h.Latin1={stringify:function(u){for(var o=u.words,m=u.sigBytes,p=[],q=0;q<m;q++)p.push(String.fromCharCode(o[q>>>2]>>>24-q%4*8&255));return p.join("")},parse:function(u){for(var o=u.length,m=[],p=0;p<o;p++)m[p>>>2]|=(255&u.charCodeAt(p))<<24-p%4*8;return new E.init(m,o)}},L=h.Utf8={stringify:function(u){try{return decodeURIComponent(escape(D.stringify(u)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(u){return D.parse(unescape(encodeURIComponent(u)))}},O=T.BufferedBlockAlgorithm=P.extend({reset:function(){this._data=new E.init,this._nDataBytes=0},_append:function(u){"string"==typeof u&&(u=L.parse(u)),this._data.concat(u),this._nDataBytes+=u.sigBytes},_process:function(u){var o,m=this._data,p=m.words,q=m.sigBytes,de=this.blockSize,ye=q/(4*de),pe=(ye=u?c.ceil(ye):c.max((0|ye)-this._minBufferSize,0))*de,Q=c.min(4*pe,q);if(pe){for(var z=0;z<pe;z+=de)this._doProcessBlock(p,z);o=p.splice(0,pe),m.sigBytes-=Q}return new E.init(o,Q)},clone:function(){var u=P.clone.call(this);return u._data=this._data.clone(),u},_minBufferSize:0}),y=(T.Hasher=O.extend({cfg:P.extend(),init:function(u){this.cfg=this.cfg.extend(u),this.reset()},reset:function(){O.reset.call(this),this._doReset()},update:function(u){return this._append(u),this._process(),this},finalize:function(u){return u&&this._append(u),this._doFinalize()},blockSize:16,_createHelper:function(u){return function(o,m){return new u.init(m).finalize(o)}},_createHmacHelper:function(u){return function(o,m){return new y.HMAC.init(u,m).finalize(o)}}}),U.algo={});return U}(Math),b)},8319:function(oe,N,l){var b,x;oe.exports=(b=l(7585),x=b.lib.WordArray,b.enc.Base64={stringify:function(T){var P=T.words,E=T.sigBytes,h=this._map;T.clamp();for(var R=[],D=0;D<E;D+=3)for(var y=(P[D>>>2]>>>24-D%4*8&255)<<16|(P[D+1>>>2]>>>24-(D+1)%4*8&255)<<8|P[D+2>>>2]>>>24-(D+2)%4*8&255,u=0;u<4&&D+.75*u<E;u++)R.push(h.charAt(y>>>6*(3-u)&63));var o=h.charAt(64);if(o)for(;R.length%4;)R.push(o);return R.join("")},parse:function(T){var P=T.length,E=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var R=0;R<E.length;R++)h[E.charCodeAt(R)]=R}var D=E.charAt(64);if(D){var L=T.indexOf(D);-1!==L&&(P=L)}return function(T,P,E){for(var h=[],R=0,D=0;D<P;D++)if(D%4){var L=E[T.charCodeAt(D-1)]<<D%4*2,O=E[T.charCodeAt(D)]>>>6-D%4*2;h[R>>>2]|=(L|O)<<24-R%4*8,R++}return x.create(h,R)}(T,P,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},b.enc.Base64)},4384:function(oe,N,l){oe.exports=l(7585).enc.Utf8},7865:function(oe,N,l){var c,I,x,F,M,T,b;oe.exports=(b=l(7585),l(5162),l(3764),F=(I=(c=b).lib).WordArray,T=(M=c.algo).EvpKDF=(x=I.Base).extend({cfg:x.extend({keySize:4,hasher:M.MD5,iterations:1}),init:function(P){this.cfg=this.cfg.extend(P)},compute:function(P,E){for(var h,R=this.cfg,D=R.hasher.create(),L=F.create(),O=L.words,w=R.keySize,y=R.iterations;O.length<w;){h&&D.update(h),h=D.update(P).finalize(E),D.reset();for(var u=1;u<y;u++)h=D.finalize(h),D.reset();L.concat(h)}return L.sigBytes=4*w,L}}),c.EvpKDF=function(P,E,h){return T.create(h).compute(P,E)},b.EvpKDF)},3764:function(oe,N,l){var b,M;oe.exports=(b=l(7585),M=b.enc.Utf8,void(b.algo.HMAC=b.lib.Base.extend({init:function(P,E){P=this._hasher=new P.init,"string"==typeof E&&(E=M.parse(E));var h=P.blockSize,R=4*h;E.sigBytes>R&&(E=P.finalize(E)),E.clamp();for(var D=this._oKey=E.clone(),L=this._iKey=E.clone(),O=D.words,w=L.words,y=0;y<h;y++)O[y]^=1549556828,w[y]^=909522486;D.sigBytes=L.sigBytes=R,this.reset()},reset:function(){var P=this._hasher;P.reset(),P.update(this._iKey)},update:function(P){return this._hasher.update(P),this},finalize:function(P){var E=this._hasher,h=E.finalize(P);return E.reset(),E.finalize(this._oKey.clone().concat(h))}})))},9493:function(oe,N,l){var b;oe.exports=(b=l(7585),function(c){var I=b,x=I.lib,F=x.WordArray,M=x.Hasher,U=I.algo,T=[];!function(){for(var L=0;L<64;L++)T[L]=4294967296*c.abs(c.sin(L+1))|0}();var P=U.MD5=M.extend({_doReset:function(){this._hash=new F.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(L,O){for(var w=0;w<16;w++){var y=O+w,u=L[y];L[y]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var o=this._hash.words,m=L[O+0],p=L[O+1],q=L[O+2],de=L[O+3],Ce=L[O+4],ye=L[O+5],pe=L[O+6],Q=L[O+7],z=L[O+8],Y=L[O+9],H=L[O+10],J=L[O+11],K=L[O+12],ie=L[O+13],Ee=L[O+14],Fe=L[O+15],me=o[0],ge=o[1],te=o[2],ue=o[3];me=E(me,ge,te,ue,m,7,T[0]),ue=E(ue,me,ge,te,p,12,T[1]),te=E(te,ue,me,ge,q,17,T[2]),ge=E(ge,te,ue,me,de,22,T[3]),me=E(me,ge,te,ue,Ce,7,T[4]),ue=E(ue,me,ge,te,ye,12,T[5]),te=E(te,ue,me,ge,pe,17,T[6]),ge=E(ge,te,ue,me,Q,22,T[7]),me=E(me,ge,te,ue,z,7,T[8]),ue=E(ue,me,ge,te,Y,12,T[9]),te=E(te,ue,me,ge,H,17,T[10]),ge=E(ge,te,ue,me,J,22,T[11]),me=E(me,ge,te,ue,K,7,T[12]),ue=E(ue,me,ge,te,ie,12,T[13]),te=E(te,ue,me,ge,Ee,17,T[14]),me=h(me,ge=E(ge,te,ue,me,Fe,22,T[15]),te,ue,p,5,T[16]),ue=h(ue,me,ge,te,pe,9,T[17]),te=h(te,ue,me,ge,J,14,T[18]),ge=h(ge,te,ue,me,m,20,T[19]),me=h(me,ge,te,ue,ye,5,T[20]),ue=h(ue,me,ge,te,H,9,T[21]),te=h(te,ue,me,ge,Fe,14,T[22]),ge=h(ge,te,ue,me,Ce,20,T[23]),me=h(me,ge,te,ue,Y,5,T[24]),ue=h(ue,me,ge,te,Ee,9,T[25]),te=h(te,ue,me,ge,de,14,T[26]),ge=h(ge,te,ue,me,z,20,T[27]),me=h(me,ge,te,ue,ie,5,T[28]),ue=h(ue,me,ge,te,q,9,T[29]),te=h(te,ue,me,ge,Q,14,T[30]),me=R(me,ge=h(ge,te,ue,me,K,20,T[31]),te,ue,ye,4,T[32]),ue=R(ue,me,ge,te,z,11,T[33]),te=R(te,ue,me,ge,J,16,T[34]),ge=R(ge,te,ue,me,Ee,23,T[35]),me=R(me,ge,te,ue,p,4,T[36]),ue=R(ue,me,ge,te,Ce,11,T[37]),te=R(te,ue,me,ge,Q,16,T[38]),ge=R(ge,te,ue,me,H,23,T[39]),me=R(me,ge,te,ue,ie,4,T[40]),ue=R(ue,me,ge,te,m,11,T[41]),te=R(te,ue,me,ge,de,16,T[42]),ge=R(ge,te,ue,me,pe,23,T[43]),me=R(me,ge,te,ue,Y,4,T[44]),ue=R(ue,me,ge,te,K,11,T[45]),te=R(te,ue,me,ge,Fe,16,T[46]),me=D(me,ge=R(ge,te,ue,me,q,23,T[47]),te,ue,m,6,T[48]),ue=D(ue,me,ge,te,Q,10,T[49]),te=D(te,ue,me,ge,Ee,15,T[50]),ge=D(ge,te,ue,me,ye,21,T[51]),me=D(me,ge,te,ue,K,6,T[52]),ue=D(ue,me,ge,te,de,10,T[53]),te=D(te,ue,me,ge,H,15,T[54]),ge=D(ge,te,ue,me,p,21,T[55]),me=D(me,ge,te,ue,z,6,T[56]),ue=D(ue,me,ge,te,Fe,10,T[57]),te=D(te,ue,me,ge,pe,15,T[58]),ge=D(ge,te,ue,me,ie,21,T[59]),me=D(me,ge,te,ue,Ce,6,T[60]),ue=D(ue,me,ge,te,J,10,T[61]),te=D(te,ue,me,ge,q,15,T[62]),ge=D(ge,te,ue,me,Y,21,T[63]),o[0]=o[0]+me|0,o[1]=o[1]+ge|0,o[2]=o[2]+te|0,o[3]=o[3]+ue|0},_doFinalize:function(){var L=this._data,O=L.words,w=8*this._nDataBytes,y=8*L.sigBytes;O[y>>>5]|=128<<24-y%32;var u=c.floor(w/4294967296),o=w;O[15+(y+64>>>9<<4)]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),O[14+(y+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),L.sigBytes=4*(O.length+1),this._process();for(var m=this._hash,p=m.words,q=0;q<4;q++){var de=p[q];p[q]=16711935&(de<<8|de>>>24)|4278255360&(de<<24|de>>>8)}return m},clone:function(){var L=M.clone.call(this);return L._hash=this._hash.clone(),L}});function E(L,O,w,y,u,o,m){var p=L+(O&w|~O&y)+u+m;return(p<<o|p>>>32-o)+O}function h(L,O,w,y,u,o,m){var p=L+(O&y|w&~y)+u+m;return(p<<o|p>>>32-o)+O}function R(L,O,w,y,u,o,m){var p=L+(O^w^y)+u+m;return(p<<o|p>>>32-o)+O}function D(L,O,w,y,u,o,m){var p=L+(w^(O|~y))+u+m;return(p<<o|p>>>32-o)+O}I.MD5=M._createHelper(P),I.HmacMD5=M._createHmacHelper(P)}(Math),b.MD5)},5162:function(oe,N,l){var c,I,x,F,U,T,b;oe.exports=(b=l(7585),x=(I=(c=b).lib).WordArray,U=[],T=c.algo.SHA1=(F=I.Hasher).extend({_doReset:function(){this._hash=new x.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(P,E){for(var h=this._hash.words,R=h[0],D=h[1],L=h[2],O=h[3],w=h[4],y=0;y<80;y++){if(y<16)U[y]=0|P[E+y];else{var u=U[y-3]^U[y-8]^U[y-14]^U[y-16];U[y]=u<<1|u>>>31}var o=(R<<5|R>>>27)+w+U[y];o+=y<20?1518500249+(D&L|~D&O):y<40?1859775393+(D^L^O):y<60?(D&L|D&O|L&O)-1894007588:(D^L^O)-899497514,w=O,O=L,L=D<<30|D>>>2,D=R,R=o}h[0]=h[0]+R|0,h[1]=h[1]+D|0,h[2]=h[2]+L|0,h[3]=h[3]+O|0,h[4]=h[4]+w|0},_doFinalize:function(){var P=this._data,E=P.words,h=8*this._nDataBytes,R=8*P.sigBytes;return E[R>>>5]|=128<<24-R%32,E[14+(R+64>>>9<<4)]=Math.floor(h/4294967296),E[15+(R+64>>>9<<4)]=h,P.sigBytes=4*E.length,this._process(),this._hash},clone:function(){var P=F.clone.call(this);return P._hash=this._hash.clone(),P}}),c.SHA1=F._createHelper(T),c.HmacSHA1=F._createHmacHelper(T),b.SHA1)},6952:(oe,N,l)=>{var b=l(1356),c=l(3407),I=l(2e3),x=l(2342),F=l(9235),M=l(2374),U=Date.prototype.getTime;function P(R){return null==R}function E(R){return!(!R||"object"!=typeof R||"number"!=typeof R.length||"function"!=typeof R.copy||"function"!=typeof R.slice||R.length>0&&"number"!=typeof R[0])}oe.exports=function T(R,D,L){var O=L||{};return!!(O.strict?I(R,D):R===D)||(!R||!D||"object"!=typeof R&&"object"!=typeof D?O.strict?I(R,D):R==D:function(R,D,L){var O,w;if(typeof R!=typeof D||P(R)||P(D)||R.prototype!==D.prototype||c(R)!==c(D))return!1;var y=x(R),u=x(D);if(y!==u)return!1;if(y||u)return R.source===D.source&&F(R)===F(D);if(M(R)&&M(D))return U.call(R)===U.call(D);var o=E(R),m=E(D);if(o!==m)return!1;if(o||m){if(R.length!==D.length)return!1;for(O=0;O<R.length;O++)if(R[O]!==D[O])return!1;return!0}if(typeof R!=typeof D)return!1;try{var p=b(R),q=b(D)}catch{return!1}if(p.length!==q.length)return!1;for(p.sort(),q.sort(),O=p.length-1;O>=0;O--)if(p[O]!=q[O])return!1;for(O=p.length-1;O>=0;O--)if(!T(R[w=p[O]],D[w],L))return!1;return!0}(R,D,O))}},4949:oe=>{oe.exports=function N(l){return Object.freeze(l),Object.getOwnPropertyNames(l).forEach(function(b){l.hasOwnProperty(b)&&null!==l[b]&&("object"==typeof l[b]||"function"==typeof l[b])&&!Object.isFrozen(l[b])&&N(l[b])}),l}},2358:(oe,N,l)=>{var b=l(1356),c="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),I=Object.prototype.toString,x=Array.prototype.concat,F=Object.defineProperty,T=F&&function(){var h={};try{for(var R in F(h,"x",{enumerable:!1,value:h}),h)return!1;return h.x===h}catch{return!1}}(),P=function(h,R,D,L){R in h&&(!function(h){return"function"==typeof h&&"[object Function]"===I.call(h)}(L)||!L())||(T?F(h,R,{configurable:!0,enumerable:!1,value:D,writable:!0}):h[R]=D)},E=function(h,R){var D=arguments.length>2?arguments[2]:{},L=b(R);c&&(L=x.call(L,Object.getOwnPropertySymbols(R)));for(var O=0;O<L.length;O+=1)P(h,L[O],R[L[O]],D[L[O]])};E.supportsDescriptors=!!T,oe.exports=E},9069:oe=>{var b,N="object"==typeof Reflect?Reflect:null,l=N&&"function"==typeof N.apply?N.apply:function(m,p,q){return Function.prototype.apply.call(m,p,q)};b=N&&"function"==typeof N.ownKeys?N.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var I=Number.isNaN||function(m){return m!=m};function x(){x.init.call(this)}oe.exports=x,oe.exports.once=function(o,m){return new Promise(function(p,q){function de(ye){o.removeListener(m,Ce),q(ye)}function Ce(){"function"==typeof o.removeListener&&o.removeListener("error",de),p([].slice.call(arguments))}u(o,m,Ce,{once:!0}),"error"!==m&&function(o,m,p){"function"==typeof o.on&&u(o,"error",m,{once:!0})}(o,de)})},x.EventEmitter=x,x.prototype._events=void 0,x.prototype._eventsCount=0,x.prototype._maxListeners=void 0;var F=10;function M(o){if("function"!=typeof o)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof o)}function U(o){return void 0===o._maxListeners?x.defaultMaxListeners:o._maxListeners}function T(o,m,p,q){var de,Ce,ye;if(M(p),void 0===(Ce=o._events)?(Ce=o._events=Object.create(null),o._eventsCount=0):(void 0!==Ce.newListener&&(o.emit("newListener",m,p.listener?p.listener:p),Ce=o._events),ye=Ce[m]),void 0===ye)ye=Ce[m]=p,++o._eventsCount;else if("function"==typeof ye?ye=Ce[m]=q?[p,ye]:[ye,p]:q?ye.unshift(p):ye.push(p),(de=U(o))>0&&ye.length>de&&!ye.warned){ye.warned=!0;var pe=new Error("Possible EventEmitter memory leak detected. "+ye.length+" "+String(m)+" listeners added. Use emitter.setMaxListeners() to increase limit");pe.name="MaxListenersExceededWarning",pe.emitter=o,pe.type=m,pe.count=ye.length,function(o){console&&console.warn&&console.warn(o)}(pe)}return o}function P(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(o,m,p){var q={fired:!1,wrapFn:void 0,target:o,type:m,listener:p},de=P.bind(q);return de.listener=p,q.wrapFn=de,de}function h(o,m,p){var q=o._events;if(void 0===q)return[];var de=q[m];return void 0===de?[]:"function"==typeof de?p?[de.listener||de]:[de]:p?function(o){for(var m=new Array(o.length),p=0;p<m.length;++p)m[p]=o[p].listener||o[p];return m}(de):D(de,de.length)}function R(o){var m=this._events;if(void 0!==m){var p=m[o];if("function"==typeof p)return 1;if(void 0!==p)return p.length}return 0}function D(o,m){for(var p=new Array(m),q=0;q<m;++q)p[q]=o[q];return p}function u(o,m,p,q){if("function"==typeof o.on)q.once?o.once(m,p):o.on(m,p);else{if("function"!=typeof o.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof o);o.addEventListener(m,function de(Ce){q.once&&o.removeEventListener(m,de),p(Ce)})}}Object.defineProperty(x,"defaultMaxListeners",{enumerable:!0,get:function(){return F},set:function(o){if("number"!=typeof o||o<0||I(o))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+o+".");F=o}}),x.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},x.prototype.setMaxListeners=function(m){if("number"!=typeof m||m<0||I(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},x.prototype.getMaxListeners=function(){return U(this)},x.prototype.emit=function(m){for(var p=[],q=1;q<arguments.length;q++)p.push(arguments[q]);var de="error"===m,Ce=this._events;if(void 0!==Ce)de=de&&void 0===Ce.error;else if(!de)return!1;if(de){var ye;if(p.length>0&&(ye=p[0]),ye instanceof Error)throw ye;var pe=new Error("Unhandled error."+(ye?" ("+ye.message+")":""));throw pe.context=ye,pe}var Q=Ce[m];if(void 0===Q)return!1;if("function"==typeof Q)l(Q,this,p);else{var z=Q.length,Y=D(Q,z);for(q=0;q<z;++q)l(Y[q],this,p)}return!0},x.prototype.on=x.prototype.addListener=function(m,p){return T(this,m,p,!1)},x.prototype.prependListener=function(m,p){return T(this,m,p,!0)},x.prototype.once=function(m,p){return M(p),this.on(m,E(this,m,p)),this},x.prototype.prependOnceListener=function(m,p){return M(p),this.prependListener(m,E(this,m,p)),this},x.prototype.off=x.prototype.removeListener=function(m,p){var q,de,Ce,ye,pe;if(M(p),void 0===(de=this._events))return this;if(void 0===(q=de[m]))return this;if(q===p||q.listener===p)0==--this._eventsCount?this._events=Object.create(null):(delete de[m],de.removeListener&&this.emit("removeListener",m,q.listener||p));else if("function"!=typeof q){for(Ce=-1,ye=q.length-1;ye>=0;ye--)if(q[ye]===p||q[ye].listener===p){pe=q[ye].listener,Ce=ye;break}if(Ce<0)return this;0===Ce?q.shift():function(o,m){for(;m+1<o.length;m++)o[m]=o[m+1];o.pop()}(q,Ce),1===q.length&&(de[m]=q[0]),void 0!==de.removeListener&&this.emit("removeListener",m,pe||p)}return this},x.prototype.removeAllListeners=function(m){var p,q,de;if(void 0===(q=this._events))return this;if(void 0===q.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==q[m]&&(0==--this._eventsCount?this._events=Object.create(null):delete q[m]),this;if(0===arguments.length){var ye,Ce=Object.keys(q);for(de=0;de<Ce.length;++de)"removeListener"!==(ye=Ce[de])&&this.removeAllListeners(ye);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(p=q[m]))this.removeListener(m,p);else if(void 0!==p)for(de=p.length-1;de>=0;de--)this.removeListener(m,p[de]);return this},x.prototype.listeners=function(m){return h(this,m,!0)},x.prototype.rawListeners=function(m){return h(this,m,!1)},x.listenerCount=function(o,m){return"function"==typeof o.listenerCount?o.listenerCount(m):R.call(o,m)},x.prototype.listenerCount=R,x.prototype.eventNames=function(){return this._eventsCount>0?b(this._events):[]}},2559:oe=>{oe.exports=function N(l,b){if(l===b)return!0;if(l&&b&&"object"==typeof l&&"object"==typeof b){if(l.constructor!==b.constructor)return!1;var c,I,x;if(Array.isArray(l)){if((c=l.length)!=b.length)return!1;for(I=c;0!=I--;)if(!N(l[I],b[I]))return!1;return!0}if(l.constructor===RegExp)return l.source===b.source&&l.flags===b.flags;if(l.valueOf!==Object.prototype.valueOf)return l.valueOf()===b.valueOf();if(l.toString!==Object.prototype.toString)return l.toString()===b.toString();if((c=(x=Object.keys(l)).length)!==Object.keys(b).length)return!1;for(I=c;0!=I--;)if(!Object.prototype.hasOwnProperty.call(b,x[I]))return!1;for(I=c;0!=I--;){var F=x[I];if(!N(l[F],b[F]))return!1}return!0}return l!=l&&b!=b}},9076:oe=>{var N=Object.prototype.hasOwnProperty,l=Object.prototype.toString;oe.exports=function(c,I,x){if("[object Function]"!==l.call(I))throw new TypeError("iterator must be a function");var F=c.length;if(F===+F)for(var M=0;M<F;M++)I.call(x,c[M],M,c);else for(var U in c)N.call(c,U)&&I.call(x,c[U],U,c)}},3457:oe=>{var N="Function.prototype.bind called on incompatible ",l=Array.prototype.slice,b=Object.prototype.toString,c="[object Function]";oe.exports=function(x){var F=this;if("function"!=typeof F||b.call(F)!==c)throw new TypeError(N+F);for(var U,M=l.call(arguments,1),T=function(){if(this instanceof U){var D=F.apply(this,M.concat(l.call(arguments)));return Object(D)===D?D:this}return F.apply(x,M.concat(l.call(arguments)))},P=Math.max(0,F.length-M.length),E=[],h=0;h<P;h++)E.push("$"+h);if(U=Function("binder","return function ("+E.join(",")+"){ return binder.apply(this,arguments); }")(T),F.prototype){var R=function(){};R.prototype=F.prototype,U.prototype=new R,R.prototype=null}return U}},4444:(oe,N,l)=>{var b=l(3457);oe.exports=Function.prototype.bind||b},1227:(oe,N,l)=>{for(var b=l(6788),c=l(7549),I=/[\{\[]/,x=/[\}\]]/,F=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],M={},U=0;U<F.length;U++)M[F[U]]=!0;var T=function(h){return c(h)&&!M.hasOwnProperty(h)},P={s:function(h){return""+h},d:function(h){return""+Number(h)},o:function(h){return JSON.stringify(h)}},E=function(){var h=[],R=0,D={},L=function(y){for(var u="";u.length<2*R;)u+="  ";h.push(u+y)},O=function(y){return x.test(y.trim()[0])&&I.test(y[y.length-1])?(R--,L(y),void R++):I.test(y[y.length-1])?(L(y),void R++):x.test(y.trim()[0])?(R--,void L(y)):void L(y)},w=function(y){if(!y)return w;if(1===arguments.length&&y.indexOf("\n")>-1)for(var u=y.trim().split("\n"),o=0;o<u.length;o++)O(u[o].trim());else O(b.format.apply(b,arguments));return w};return w.scope={},w.formats=P,w.sym=function(y){return(!y||!T(y))&&(y="tmp"),D[y]||(D[y]=0),y+(D[y]++||"")},w.property=function(y,u){return 1===arguments.length&&(u=y,y=""),c(u+="")?y?y+"."+u:u:y?y+"["+JSON.stringify(u)+"]":JSON.stringify(u)},w.toString=function(){return h.join("\n")},w.toFunction=function(y){y||(y={});var u="return ("+w.toString()+")";Object.keys(w.scope).forEach(function(p){y[p]||(y[p]=w.scope[p])});var o=Object.keys(y).map(function(p){return p}),m=o.map(function(p){return y[p]});return Function.apply(null,o.concat(u)).apply(null,m)},arguments.length&&w.apply(null,arguments),w};E.formats=P,oe.exports=E},2562:(oe,N,l)=>{var b=l(7549),c=function(I,x){return b(x)?I+"."+x:I+"["+JSON.stringify(x)+"]"};c.valid=b,c.property=function(I){return b(I)?I:JSON.stringify(I)},oe.exports=c},5203:(oe,N,l)=>{var b,c=SyntaxError,I=Function,x=TypeError,F=function(pe){try{return I('"use strict"; return ('+pe+").constructor;")()}catch{}},M=Object.getOwnPropertyDescriptor;if(M)try{M({},"")}catch{M=null}var U=function(){throw new x},T=M?function(){try{return U}catch{try{return M(arguments,"callee").get}catch{return U}}}():U,P=l(2969)(),E=Object.getPrototypeOf||function(pe){return pe.__proto__},h={},R="undefined"==typeof Uint8Array?b:E(Uint8Array),D={"%AggregateError%":"undefined"==typeof AggregateError?b:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?b:ArrayBuffer,"%ArrayIteratorPrototype%":P?E([][Symbol.iterator]()):b,"%AsyncFromSyncIteratorPrototype%":b,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?b:Atomics,"%BigInt%":"undefined"==typeof BigInt?b:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?b:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?b:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?b:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?b:FinalizationRegistry,"%Function%":I,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?b:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?b:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?b:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":P?E(E([][Symbol.iterator]())):b,"%JSON%":"object"==typeof JSON?JSON:b,"%Map%":"undefined"==typeof Map?b:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&P?E((new Map)[Symbol.iterator]()):b,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?b:Promise,"%Proxy%":"undefined"==typeof Proxy?b:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?b:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?b:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&P?E((new Set)[Symbol.iterator]()):b,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?b:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":P?E(""[Symbol.iterator]()):b,"%Symbol%":P?Symbol:b,"%SyntaxError%":c,"%ThrowTypeError%":T,"%TypedArray%":R,"%TypeError%":x,"%Uint8Array%":"undefined"==typeof Uint8Array?b:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?b:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?b:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?b:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?b:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?b:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?b:WeakSet},L=function pe(Q){var z;if("%AsyncFunction%"===Q)z=F("async function () {}");else if("%GeneratorFunction%"===Q)z=F("function* () {}");else if("%AsyncGeneratorFunction%"===Q)z=F("async function* () {}");else if("%AsyncGenerator%"===Q){var Y=pe("%AsyncGeneratorFunction%");Y&&(z=Y.prototype)}else if("%AsyncIteratorPrototype%"===Q){var H=pe("%AsyncGenerator%");H&&(z=E(H.prototype))}return D[Q]=z,z},O={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=l(4444),y=l(3164),u=w.call(Function.call,Array.prototype.concat),o=w.call(Function.apply,Array.prototype.splice),m=w.call(Function.call,String.prototype.replace),p=w.call(Function.call,String.prototype.slice),q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,de=/\\(\\)?/g,Ce=function(Q){var z=p(Q,0,1),Y=p(Q,-1);if("%"===z&&"%"!==Y)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===Y&&"%"!==z)throw new c("invalid intrinsic syntax, expected opening `%`");var H=[];return m(Q,q,function(J,K,ie,Ee){H[H.length]=ie?m(Ee,de,"$1"):K||J}),H},ye=function(Q,z){var H,Y=Q;if(y(O,Y)&&(Y="%"+(H=O[Y])[0]+"%"),y(D,Y)){var J=D[Y];if(J===h&&(J=L(Y)),void 0===J&&!z)throw new x("intrinsic "+Q+" exists, but is not available. Please file an issue!");return{alias:H,name:Y,value:J}}throw new c("intrinsic "+Q+" does not exist!")};oe.exports=function(Q,z){if("string"!=typeof Q||0===Q.length)throw new x("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof z)throw new x('"allowMissing" argument must be a boolean');var Y=Ce(Q),H=Y.length>0?Y[0]:"",J=ye("%"+H+"%",z),K=J.name,ie=J.value,Ee=!1,Fe=J.alias;Fe&&(H=Fe[0],o(Y,u([0,1],Fe)));for(var me=1,ge=!0;me<Y.length;me+=1){var te=Y[me],ue=p(te,0,1),Re=p(te,-1);if(('"'===ue||"'"===ue||"`"===ue||'"'===Re||"'"===Re||"`"===Re)&&ue!==Re)throw new c("property names with quotes must have matching quotes");if(("constructor"===te||!ge)&&(Ee=!0),y(D,K="%"+(H+="."+te)+"%"))ie=D[K];else if(null!=ie){if(!(te in ie)){if(!z)throw new x("base intrinsic for "+Q+" exists, but the property is not available.");return}if(M&&me+1>=Y.length){var je=M(ie,te);ie=(ge=!!je)&&"get"in je&&!("originalValue"in je.get)?je.get:ie[te]}else ge=y(ie,te),ie=ie[te];ge&&!Ee&&(D[K]=ie)}}return ie}},2969:(oe,N,l)=>{var b="undefined"!=typeof Symbol&&Symbol,c=l(1983);oe.exports=function(){return"function"==typeof b&&"function"==typeof Symbol&&"symbol"==typeof b("foo")&&"symbol"==typeof Symbol("bar")&&c()}},1983:oe=>{oe.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var l={},b=Symbol("test"),c=Object(b);if("string"==typeof b||"[object Symbol]"!==Object.prototype.toString.call(b)||"[object Symbol]"!==Object.prototype.toString.call(c))return!1;for(b in l[b]=42,l)return!1;if("function"==typeof Object.keys&&0!==Object.keys(l).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(l).length)return!1;var x=Object.getOwnPropertySymbols(l);if(1!==x.length||x[0]!==b||!Object.prototype.propertyIsEnumerable.call(l,b))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var F=Object.getOwnPropertyDescriptor(l,b);if(42!==F.value||!0!==F.enumerable)return!1}return!0}},6259:(oe,N,l)=>{var b=l(1983);oe.exports=function(){return b()&&!!Symbol.toStringTag}},3164:(oe,N,l)=>{var b=l(4444);oe.exports=b.call(Function.call,Object.prototype.hasOwnProperty)},3894:oe=>{oe.exports="function"==typeof Object.create?function(l,b){b&&(l.super_=b,l.prototype=Object.create(b.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}))}:function(l,b){if(b){l.super_=b;var c=function(){};c.prototype=b.prototype,l.prototype=new c,l.prototype.constructor=l}}},3407:(oe,N,l)=>{var b=l(6259)(),I=l(5834)("Object.prototype.toString"),x=function(T){return!(b&&T&&"object"==typeof T&&Symbol.toStringTag in T)&&"[object Arguments]"===I(T)},F=function(T){return!!x(T)||null!==T&&"object"==typeof T&&"number"==typeof T.length&&T.length>=0&&"[object Array]"!==I(T)&&"[object Function]"===I(T.callee)},M=function(){return x(arguments)}();x.isLegacyArguments=F,oe.exports=M?x:F},2374:(oe,N,l)=>{var b=Date.prototype.getDay,I=Object.prototype.toString,F=l(6259)();oe.exports=function(U){return"object"==typeof U&&null!==U&&(F?function(U){try{return b.call(U),!0}catch{return!1}}(U):"[object Date]"===I.call(U))}},9456:oe=>{oe.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||"undefined"!=typeof process&&"object"==typeof process.versions&&!!process.versions.electron||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}},110:(oe,N,l)=>{var U,b=Object.prototype.toString,c=Function.prototype.toString,I=/^\s*(?:function)?\*/,x=l(6259)(),F=Object.getPrototypeOf;oe.exports=function(P){if("function"!=typeof P)return!1;if(I.test(c.call(P)))return!0;if(!x)return"[object GeneratorFunction]"===b.call(P);if(!F)return!1;if(void 0===U){var h=function(){if(!x)return!1;try{return Function("return function*() {}")()}catch{}}();U=!!h&&F(h)}return F(P)===U}},1570:oe=>{var N=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l=/\/\d{1,3}(?=%|$)/,b=/\//,c=/%.*$/,I=/([^0-9a-f:/%])/i,x=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function F(T){if(!N.test(T))return!1;var P=T.split(".");if(4!==P.length||"0"===P[0][0]&&P[0].length>1||"0"===P[1][0]&&P[1].length>1||"0"===P[2][0]&&P[2].length>1||"0"===P[3][0]&&P[3].length>1)return!1;var E=Number(P[0]),h=Number(P[1]),R=Number(P[2]),D=Number(P[3]);return E>=0&&E<256&&h>=0&&h<256&&R>=0&&R<256&&D>=0&&D<256}function M(T){var P=T.replace(l,""),E=T.length!==P.length;if(E||!E&&b.test(T))return!1;var h=P.replace(c,""),R=h.lastIndexOf(":");if(-1===R)return!1;var O=F(h.substring(R+1))?h.substring(0,R+1)+"1234:5678":h;if(I.test(O)||x.test(O))return!1;var w=O.split("::");if(w.length>2)return!1;if(2===w.length){var y=""===w[0]?[]:w[0].split(":"),u=""===w[1]?[]:w[1].split(":");if(8-(y.length+u.length)<=0)return!1}else if(8!==O.split(":").length)return!1;return!0}function U(T){return F(T)||M(T)}oe.exports=function(P){if(P||(P={}),4===P.version)return F;if(6===P.version)return M;if(null==P.version)return U;throw new Error("Unknown version: "+P.version)},oe.exports.__all_regexes__=[N,l,b,c,I,x]},1367:(oe,N,l)=>{var b=l(1570),c=/\s/,I=/^[a-zA-Z0-9.-]+$/,x=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,F=/^\+[0-9][0-9 ]{5,27}[0-9]$/,M=/ {2}/,U=/ /g;N["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,N.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,N.time=/^\d{2}:\d{2}:\d{2}$/,N.email=function(T){return-1!==T.indexOf("@")&&!c.test(T)},N["ip-address"]=N.ipv4=b({version:4}),N.ipv6=b({version:6}),N.uri=/^[a-zA-Z][a-zA-Z0-9+\-.]*:[^\s]*$/,N.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,N.hostname=function(T){if(!I.test(T))return!1;for(var P=T.split("."),E=0;E<P.length;E++)if(!x.test(P[E]))return!1;return!0},N.alpha=/^[a-zA-Z]+$/,N.alphanumeric=/^[a-zA-Z0-9]+$/,N.style=/.:\s*[^;]/g,N.phone=function(T){if(!F.test(T)||M.test(T))return!1;var P=T.substring(1).replace(U,"").length;return P>=7&&P<=15},N["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/},8167:(oe,N,l)=>{var b=l(2562),c=l(1227),I=l(6936),x=l(1995),F=l(1367),U={any:function(){return"true"},null:function(R){return R+" === null"},boolean:function(R){return"typeof "+R+' === "boolean"'},array:function(R){return"Array.isArray("+R+")"},object:function(R){return"typeof "+R+' === "object" && '+R+" && !Array.isArray("+R+")"},number:function(R){return"typeof "+R+' === "number" && isFinite('+R+")"},integer:function(R){return"typeof "+R+' === "number" && (Math.floor('+R+") === "+R+" || "+R+" > 9007199254740992 || "+R+" < -9007199254740992)"},string:function(R){return"typeof "+R+' === "string"'}},T=function(R,D){D=Math.min(-1===D?R.length:D,R.length);for(var L=[],O=0;O<D;O++)L.push("object"==typeof R[O]?JSON.stringify(R[O]):R[O]);for(O=1;O<L.length;O++)if(L.indexOf(L[O])!==O)return!1;return!0},P=function(R,D){var O=(0|D)!==D?Math.pow(10,D.toString().split(".").pop().length):1;return!(O>1?((0|R)!==R?Math.pow(10,R.toString().split(".").pop().length):1)>O||Math.round(O*R)%(O*D):R%D)},E=function(R,D,L){return L>-1&&D.length>L||R.test(D)},h=function(R,D,L,O,w){var y=w?x(F,w.formats):F,u={unique:T,formats:y,isMultipleOf:P,testLimitedRegex:E},o=!!w&&!!w.verbose,m=!(!w||void 0===w.greedy)&&w.greedy,p={},q=[],de=function(J){var K=J+(p[J]=(p[J]||0)+1);return q.push(K),K},Ce=function(J){var K=JSON.stringify(J);try{for(var ie=/\[([^\[\]"]+)\]/;ie.test(K);)K=K.replace(ie,Ee);return K}catch{return JSON.stringify(J)}function Ee(Fe,me){if(-1===q.indexOf(me))throw new Error("Unreplaceable");return'." + '+me+' + "'}},ye={},pe=function(J){if(ye[J])return ye[J];var K=de("pattern");return u[K]=new RegExp(J),ye[J]=K,K},Q=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],z=function(){var J=Q.shift();return Q.push(J+J[0]),q.push(J),J},Y=function(J,K,ie,Ee,Fe){var me=K.properties,ge=K.type,te=!1;Array.isArray(K.items)&&(me={},K.items.forEach(function(Ot,Pt){me[Pt]=Ot}),ge="array",te=!0);var ue=0,Re=function(Ot,Pt,Qt){H("errors++"),!0===ie&&(H("if (validate.errors === null) validate.errors = []"),o?H("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",Ce(Pt||J),JSON.stringify(Ot),Qt||J,JSON.stringify(ge),JSON.stringify(Fe)):H("validate.errors.push({field:%s,message:%s})",Ce(Pt||J),JSON.stringify(Ot)))};!0===K.required?(ue++,H("if (%s === undefined) {",J),Re("is required"),H("} else {")):(ue++,H("if (%s !== undefined) {",J));var je=[].concat(ge).map(function(Ot){if(Ot&&!U.hasOwnProperty(Ot))throw new Error("Unknown type: "+Ot);return U[Ot||"any"](J)}).join(" || ")||"true";if("true"!==je&&(ue++,H("if (!(%s)) {",je),Re("is the wrong type"),H("} else {")),te)if(!1===K.additionalItems)H("if (%s.length > %d) {",J,K.items.length),Re("has additional items"),H("}");else if(K.additionalItems){var Xe=z();H("for (var %s = %d; %s < %s.length; %s++) {",Xe,K.items.length,Xe,J,Xe),Y(J+"["+Xe+"]",K.additionalItems,ie,Ee,Fe.concat("additionalItems")),H("}")}if(K.format&&y[K.format]){"string"!==ge&&F[K.format]&&H("if (%s) {",U.string(J));var ut=de("format");u[ut]=y[K.format],"function"==typeof u[ut]?H("if (!%s(%s)) {",ut,J):H("if (!testLimitedRegex(%s, %s, %d)) {",ut,J,void 0===K.maxLength?-1:K.maxLength),Re("must be "+K.format+" format"),H("}"),"string"!==ge&&F[K.format]&&H("}")}if(Array.isArray(K.required)&&(ut=de("missing"),H("var %s = 0",ut),H("if ((%s)) {","object"!==ge?U.object(J):"true"),K.required.map(function(Pt){var Qt=b(J,Pt);H("if (%s === undefined) {",Qt),Re("is required",Qt),H("%s++",ut),H("}")}),H("}"),m||(H("if (%s === 0) {",ut),ue++)),K.uniqueItems&&("array"!==ge&&H("if (%s) {",U.array(J)),H("if (!(unique(%s, %d))) {",J,K.maxItems||-1),Re("must be unique"),H("}"),"array"!==ge&&H("}")),K.enum){var yt=K.enum.some(function(Ot){return"object"==typeof Ot});H("if (%s) {",K.enum.map(yt?function(Ot){return"JSON.stringify("+J+") !== JSON.stringify("+JSON.stringify(Ot)+")"}:function(Ot){return J+" !== "+JSON.stringify(Ot)}).join(" && ")||"false"),Re("must be an enum value"),H("}")}if(K.dependencies&&("object"!==ge&&H("if (%s) {",U.object(J)),Object.keys(K.dependencies).forEach(function(Ot){var Pt=K.dependencies[Ot];"string"==typeof Pt&&(Pt=[Pt]),Array.isArray(Pt)&&(H("if (%s !== undefined && !(%s)) {",b(J,Ot),Pt.map(function(Vr){return b(J,Vr)+" !== undefined"}).join(" && ")||"true"),Re("dependencies not set"),H("}")),"object"==typeof Pt&&(H("if (%s !== undefined) {",b(J,Ot)),Y(J,Pt,ie,Ee,Fe.concat(["dependencies",Ot])),H("}"))}),"object"!==ge&&H("}")),K.additionalProperties||!1===K.additionalProperties){"object"!==ge&&H("if (%s) {",U.object(J)),Xe=z();var Mt=de("keys"),cr=Object.keys(me||{}).map(function(Pt){return Mt+"["+Xe+"] !== "+JSON.stringify(Pt)}).concat(Object.keys(K.patternProperties||{}).map(function(Pt){return"!"+pe(Pt)+".test("+Mt+"["+Xe+"])"})).join(" && ")||"true";H("var %s = Object.keys(%s)",Mt,J)("for (var %s = 0; %s < %s.length; %s++) {",Xe,Xe,Mt,Xe)("if (%s) {",cr),!1===K.additionalProperties?(Ee&&H("delete %s",J+"["+Mt+"["+Xe+"]]"),Re("has additional properties",null,JSON.stringify(J+".")+" + "+Mt+"["+Xe+"]")):Y(J+"["+Mt+"["+Xe+"]]",K.additionalProperties,ie,Ee,Fe.concat(["additionalProperties"])),H("}")("}"),"object"!==ge&&H("}")}if(K.$ref){var sr=function(R,D,L){var O=function(p){return p&&p.id===L?p:"object"==typeof p&&p?Object.keys(p).reduce(function(q,de){return q||O(p[de])},null):null},w=O(R);if(w)return w;L=(L=L.replace(/^#/,"")).replace(/\/$/,"");try{return I.get(R,decodeURI(L))}catch{var u,y=L.indexOf("#");if(0!==y)if(-1===y)u=D[L];else{u=D[L.slice(0,y)];var m=L.slice(y).replace(/^#/,"");try{return I.get(u,m)}catch{}}else u=D[L];return u||null}}(L,w&&w.schemas||{},K.$ref);if(sr){var mr=D[K.$ref];mr||(D[K.$ref]=function(Qt){return mr(Qt)},mr=h(sr,D,L,!1,w)),ut=de("ref"),u[ut]=mr,H("if (!(%s(%s))) {",ut,J),Re("referenced schema does not match"),H("}")}}if(K.not){var er=de("prev");H("var %s = errors",er),Y(J,K.not,!1,Ee,Fe.concat("not")),H("if (%s === errors) {",er),Re("negative schema matches"),H("} else {")("errors = %s",er)("}")}if(K.items&&!te&&("array"!==ge&&H("if (%s) {",U.array(J)),Xe=z(),H("for (var %s = 0; %s < %s.length; %s++) {",Xe,Xe,J,Xe),Y(J+"["+Xe+"]",K.items,ie,Ee,Fe.concat("items")),H("}"),"array"!==ge&&H("}")),K.patternProperties&&("object"!==ge&&H("if (%s) {",U.object(J)),Mt=de("keys"),Xe=z(),H("var %s = Object.keys(%s)",Mt,J)("for (var %s = 0; %s < %s.length; %s++) {",Xe,Xe,Mt,Xe),Object.keys(K.patternProperties).forEach(function(Qt){var Vr=pe(Qt);H("if (%s.test(%s)) {",Vr,Mt+"["+Xe+"]"),Y(J+"["+Mt+"["+Xe+"]]",K.patternProperties[Qt],ie,Ee,Fe.concat(["patternProperties",Qt])),H("}")}),H("}"),"object"!==ge&&H("}")),K.pattern){var on=pe(K.pattern);"string"!==ge&&H("if (%s) {",U.string(J)),H("if (!(testLimitedRegex(%s, %s, %d))) {",on,J,void 0===K.maxLength?-1:K.maxLength),Re("pattern mismatch"),H("}"),"string"!==ge&&H("}")}if(K.allOf&&K.allOf.forEach(function(Ot,Pt){Y(J,Ot,ie,Ee,Fe.concat(["allOf",Pt]))}),K.anyOf&&K.anyOf.length&&(er=de("prev"),K.anyOf.forEach(function(Pt,Qt){0===Qt?H("var %s = errors",er):H("if (errors !== %s) {",er)("errors = %s",er),Y(J,Pt,!1,!1,Fe)}),K.anyOf.forEach(function(Pt,Qt){Qt&&H("}")}),H("if (%s !== errors) {",er),Re("no schemas match"),H("}")),K.oneOf&&K.oneOf.length){er=de("prev");var Ne=de("passes");H("var %s = errors",er)("var %s = 0",Ne),K.oneOf.forEach(function(Pt,Qt){Y(J,Pt,!1,!1,Fe),H("if (%s === errors) {",er)("%s++",Ne)("} else {")("errors = %s",er)("}")}),H("if (%s !== 1) {",Ne),Re("no (or more than one) schemas match"),H("}")}for(void 0!==K.multipleOf&&("number"!==ge&&"integer"!==ge&&H("if (%s) {",U.number(J)),H("if (!isMultipleOf(%s, %d)) {",J,K.multipleOf),Re("has a remainder"),H("}"),"number"!==ge&&"integer"!==ge&&H("}")),void 0!==K.maxProperties&&("object"!==ge&&H("if (%s) {",U.object(J)),H("if (Object.keys(%s).length > %d) {",J,K.maxProperties),Re("has more properties than allowed"),H("}"),"object"!==ge&&H("}")),void 0!==K.minProperties&&("object"!==ge&&H("if (%s) {",U.object(J)),H("if (Object.keys(%s).length < %d) {",J,K.minProperties),Re("has less properties than allowed"),H("}"),"object"!==ge&&H("}")),void 0!==K.maxItems&&("array"!==ge&&H("if (%s) {",U.array(J)),H("if (%s.length > %d) {",J,K.maxItems),Re("has more items than allowed"),H("}"),"array"!==ge&&H("}")),void 0!==K.minItems&&("array"!==ge&&H("if (%s) {",U.array(J)),H("if (%s.length < %d) {",J,K.minItems),Re("has less items than allowed"),H("}"),"array"!==ge&&H("}")),void 0!==K.maxLength&&("string"!==ge&&H("if (%s) {",U.string(J)),H("if (%s.length > %d) {",J,K.maxLength),Re("has longer length than allowed"),H("}"),"string"!==ge&&H("}")),void 0!==K.minLength&&("string"!==ge&&H("if (%s) {",U.string(J)),H("if (%s.length < %d) {",J,K.minLength),Re("has less length than allowed"),H("}"),"string"!==ge&&H("}")),void 0!==K.minimum&&("number"!==ge&&"integer"!==ge&&H("if (%s) {",U.number(J)),H("if (%s %s %d) {",J,K.exclusiveMinimum?"<=":"<",K.minimum),Re("is less than minimum"),H("}"),"number"!==ge&&"integer"!==ge&&H("}")),void 0!==K.maximum&&("number"!==ge&&"integer"!==ge&&H("if (%s) {",U.number(J)),H("if (%s %s %d) {",J,K.exclusiveMaximum?">=":">",K.maximum),Re("is more than maximum"),H("}"),"number"!==ge&&"integer"!==ge&&H("}")),me&&Object.keys(me).forEach(function(Ot){Array.isArray(ge)&&-1!==ge.indexOf("null")&&H("if (%s !== null) {",J),Y(b(J,Ot),me[Ot],ie,Ee,Fe.concat(te?Ot:["properties",Ot])),Array.isArray(ge)&&-1!==ge.indexOf("null")&&H("}")});ue--;)H("}")},H=c("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return Y("data",R,O,w&&w.filter,[]),H("return errors === 0")("}"),(H=H.toFunction(u)).errors=null,Object.defineProperty&&Object.defineProperty(H,"error",{get:function(){return H.errors?H.errors.map(function(J){return J.field+" "+J.message}).join("\n"):""}}),H.toJSON=function(){return R},H};oe.exports=function(R,D){return"string"==typeof R&&(R=JSON.parse(R)),h(R,{},R,!0,D)},oe.exports.filter=function(R,D){var L=oe.exports(R,x(D,{filter:!0}));return function(O){return L(O),O}}},7549:oe=>{oe.exports=function(l){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(l)}},2342:(oe,N,l)=>{var I,x,F,M,b=l(5834),c=l(6259)();if(c){I=b("Object.prototype.hasOwnProperty"),x=b("RegExp.prototype.exec"),F={};var U=function(){throw F};M={toString:U,valueOf:U},"symbol"==typeof Symbol.toPrimitive&&(M[Symbol.toPrimitive]=U)}var T=b("Object.prototype.toString"),P=Object.getOwnPropertyDescriptor;oe.exports=c?function(R){if(!R||"object"!=typeof R)return!1;var D=P(R,"lastIndex");if(!D||!I(D,"value"))return!1;try{x(R,M)}catch(O){return O===F}}:function(R){return!(!R||"object"!=typeof R&&"function"!=typeof R)&&"[object RegExp]"===T(R)}},597:(oe,N,l)=>{var b=l(9076),c=l(7029),I=l(5834),x=I("Object.prototype.toString"),F=l(6259)(),M="undefined"==typeof globalThis?global:globalThis,U=c(),T=I("Array.prototype.indexOf",!0)||function(O,w){for(var y=0;y<O.length;y+=1)if(O[y]===w)return y;return-1},P=I("String.prototype.slice"),E={},h=l(8555),R=Object.getPrototypeOf;F&&h&&R&&b(U,function(L){var O=new M[L];if(Symbol.toStringTag in O){var w=R(O),y=h(w,Symbol.toStringTag);if(!y){var u=R(w);y=h(u,Symbol.toStringTag)}E[L]=y.get}}),oe.exports=function(O){if(!O||"object"!=typeof O)return!1;if(!F||!(Symbol.toStringTag in O)){var w=P(x(O),8,-1);return T(U,w)>-1}return!!h&&function(O){var w=!1;return b(E,function(y,u){if(!w)try{w=y.call(O)===u}catch{}}),w}(O)}},6936:(oe,N)=>{var l=/~/,b=/~[01]/g;function c(P){switch(P){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+P)}function I(P){return l.test(P)?P.replace(b,c):P}function F(P){if("string"==typeof P){if(""===(P=P.split("/"))[0])return P;throw new Error("Invalid JSON pointer.")}if(Array.isArray(P)){for(const E of P)if("string"!=typeof E&&"number"!=typeof E)throw new Error("Invalid JSON pointer. Must be of type string or number.");return P}throw new Error("Invalid JSON pointer.")}function M(P,E){if("object"!=typeof P)throw new Error("Invalid input object.");var h=(E=F(E)).length;if(1===h)return P;for(var R=1;R<h;){if(P=P[I(E[R++])],h===R)return P;if("object"!=typeof P)return}}function U(P,E,h){if("object"!=typeof P)throw new Error("Invalid input object.");if(0===(E=F(E)).length)throw new Error("Invalid JSON pointer for set.");return function(P,E,h){for(var R,D,L=1,O=E.length;L<O;){if("constructor"===E[L]||"prototype"===E[L]||"__proto__"===E[L])return P;if(R=I(E[L++]),D=O>L,void 0===P[R]&&(Array.isArray(P)&&"-"===R&&(R=P.length),D&&(P[R]=""!==E[L]&&E[L]<1/0||"-"===E[L]?[]:{})),!D)break;P=P[R]}var w=P[R];return void 0===h?delete P[R]:P[R]=h,w}(P,E,h)}N.get=M,N.set=U,N.compile=function(P){var E=F(P);return{get:function(h){return M(h,E)},set:function(h,R){return U(h,E,R)}}}},9790:(oe,N,l)=>{function b(pe){return pe&&"object"==typeof pe&&"default"in pe?pe.default:pe}var c=b(l(8309)),I=b(l(6952)),x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},F=Object.assign||function(pe){for(var Q=1;Q<arguments.length;Q++){var z=arguments[Q];for(var Y in z)Object.prototype.hasOwnProperty.call(z,Y)&&(pe[Y]=z[Y])}return pe},E=function(pe,Q){Object.keys(pe).forEach(function(z){Q(pe[z],z)})},R=function(pe){return!!("undefined"!=typeof Uint8Array&&pe instanceof Uint8Array||pe&&pe.$Uint8ArrayPolyfill)},D_each=E,L=function(Q){return Array.isArray(Q)&&!R(Q)},O=function(Q){return L(Q)||u(Q)},y=function(Q){return/^[0-9]+$/.test(Q)},u=function(pe){return!(!pe||"number"==typeof pe||"string"==typeof pe||"boolean"==typeof pe||L(pe)||null===pe||pe instanceof RegExp||"function"==typeof pe||pe instanceof Date||R(pe))},o=function(pe){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof pe&&Q.field&&(pe+=" for field '"+Q.field+"'");var z=new Error(pe);return z.name="ModifyJsError",z},m_each=E,q=function(Q,z,Y){if(Y=Y||{},!u(z))throw o("Modifier must be an object");var J,H=function(Q,z){if(!u(Q))return!1;var Y=void 0;return D_each(Q,function(H,J){var K="$"===J.substr(0,1);if(void 0===Y)Y=K;else if(Y!==K)throw new Error("Inconsistent operator: "+JSON.stringify(Q))}),!!Y}(z=c(z));if(H?(J=c(Q),m_each(z,function(K,ie){var Ee=ye[ie];if(!Ee)throw o("Invalid modifier specified "+ie);m_each(K,function(Fe,me){if(""===me)throw o("An empty update path is not valid.");var ge=me.split(".");if(!function(pe,Q){return pe.every(function(z){return Q&&Q(z)||z})}(ge))throw o("The update path '"+me+"' contains an empty field name, which is not allowed.");var te=de(J,ge,{noCreate:Ce[ie],forbidArray:"$rename"===ie,arrayIndices:Y.arrayIndices}),ue=ge.pop();Ee(te,ue,Fe,me,J)})})):J=z,Y.returnInsteadOfReplacing)return J;m_each(Object.keys(Q),function(K){"_id"!==K&&delete Q[K]}),m_each(J,function(K,ie){Q[ie]=K})},de=function(Q,z,Y){Y=Y||{};for(var H=!1,J=0;J<z.length;J++){var K=J===z.length-1,ie=z[J];if(!O(Q)){if(Y.noCreate)return;var Fe=o("cannot use the part '"+ie+"' to traverse "+Q);throw Fe.setPropertyError=!0,Fe}if(Q instanceof Array){if(Y.forbidArray)return null;if("$"===ie){if(H)throw o("Too many positional (i.e. '$') elements");if(!Y.arrayIndices||!Y.arrayIndices.length)throw o("The positional operator did not find the match needed from the query");ie=Y.arrayIndices[0],H=!0}else{if(!y(ie)){if(Y.noCreate)return;throw o("can't append to array using string field name ["+ie+"]")}ie=parseInt(ie)}if(K&&(z[J]=ie),Y.noCreate&&ie>=Q.length)return;for(;Q.length<ie;)Q.push(null);if(!K)if(Q.length===ie)Q.push({});else if("object"!==x(Q[ie]))throw o("can't modify field '"+z[J+1]+"' of list value "+JSON.stringify(Q[ie]))}else if(!(ie in Q)){if(Y.noCreate)return;K||(Q[ie]={})}if(K)return Q;Q=Q[ie]}},Ce={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},ye={$currentDate:function(Q,z,Y){if("object"===(void 0===Y?"undefined":x(Y))&&Y.hasOwnProperty("$type")){if("date"!==Y.$type)throw o("Minimongo does currently only support the date type in $currentDate modifiers",{field:z})}else if(!0!==Y)throw o("Invalid $currentDate modifier",{field:z});Q[z]=new Date},$min:function(Q,z,Y){if("number"!=typeof Y)throw o("Modifier $min allowed for numbers only",{field:z});if(z in Q){if("number"!=typeof Q[z])throw o("Cannot apply $min modifier to non-number",{field:z});Q[z]>Y&&(Q[z]=Y)}else Q[z]=Y},$max:function(Q,z,Y){if("number"!=typeof Y)throw o("Modifier $max allowed for numbers only",{field:z});if(z in Q){if("number"!=typeof Q[z])throw o("Cannot apply $max modifier to non-number",{field:z});Q[z]<Y&&(Q[z]=Y)}else Q[z]=Y},$inc:function(Q,z,Y){if("number"!=typeof Y)throw o("Modifier $inc allowed for numbers only",{field:z});if(z in Q){if("number"!=typeof Q[z])throw o("Cannot apply $inc modifier to non-number",{field:z});Q[z]+=Y}else Q[z]=Y},$set:function(Q,z,Y){var H,pe;if("object"!==(void 0===(pe=Q)?"undefined":x(pe))||null===pe)throw(H=o("Cannot set property on non-object field",{field:z})).setPropertyError=!0,H;if(null===Q)throw(H=o("Cannot set property on null",{field:z})).setPropertyError=!0,H;Q[z]=Y},$setOnInsert:function(Q,z,Y){},$unset:function(Q,z,Y){void 0!==Q&&(Q instanceof Array?z in Q&&(Q[z]=null):delete Q[z])},$push:function(Q,z,Y){if(void 0===Q[z]&&(Q[z]=[]),!(Q[z]instanceof Array))throw o("Cannot apply $push modifier to non-array",{field:z});if(Y&&Y.$each){var H=Y.$each;if(!(H instanceof Array))throw o("$each must be an array",{field:z});var J=void 0;if("$position"in Y){if("number"!=typeof Y.$position)throw o("$position must be a numeric value",{field:z});if(Y.$position<0)throw o("$position in $push must be zero or positive",{field:z});J=Y.$position}var K=void 0;if("$slice"in Y){if("number"!=typeof Y.$slice)throw o("$slice must be a numeric value",{field:z});if(Y.$slice>0)throw o("$slice in $push must be zero or negative",{field:z});K=Y.$slice}if(Y.$sort)throw o("$sort in $push not implemented yet");if(void 0===J)for(var Ee=0;Ee<H.length;Ee++)Q[z].push(H[Ee]);else{var Fe=[J,0];for(Ee=0;Ee<H.length;Ee++)Fe.push(H[Ee]);Array.prototype.splice.apply(Q[z],Fe)}void 0!==K&&(Q[z]=0===K?[]:Q[z].slice(K))}else Q[z].push(Y)},$pushAll:function(Q,z,Y){if(!("object"===(void 0===Y?"undefined":x(Y))&&Y instanceof Array))throw o("Modifier $pushAll/pullAll allowed for arrays only");var H=Q[z];if(void 0===H)Q[z]=Y;else{if(!(H instanceof Array))throw o("Cannot apply $pushAll modifier to non-array",{field:z});for(var J=0;J<Y.length;J++)H.push(Y[J])}},$addToSet:function(Q,z,Y){var H=!1;"object"===(void 0===Y?"undefined":x(Y))&&"$each"===Object.keys(Y)[0]&&(H=!0);var K=H?Y.$each:[Y],ie=Q[z];if(void 0===ie)Q[z]=K;else{if(!(ie instanceof Array))throw o("Cannot apply $addToSet modifier to non-array",{field:z});m_each(K,function(Ee){for(var Fe=0;Fe<ie.length;Fe++)if(I(Ee,ie[Fe]))return;ie.push(Ee)})}},$pop:function(Q,z,Y){if(void 0!==Q){var H=Q[z];if(void 0!==H){if(!(H instanceof Array))throw o("Cannot apply $pop modifier to non-array",{field:z});"number"==typeof Y&&Y<0?H.splice(0,1):H.pop()}}},$pull:function(Q,z,Y){if(void 0!==Q){var H=Q[z];if(void 0!==H)throw H instanceof Array?o("$pull not implemented yet"):o("Cannot apply $pull/pullAll modifier to non-array",{field:z})}},$pullAll:function(Q,z,Y){if(!("object"===(void 0===Y?"undefined":x(Y))&&Y instanceof Array))throw o("Modifier $pushAll/pullAll allowed for arrays only",{field:z});if(void 0!==Q){var H=Q[z];if(void 0!==H){if(!(H instanceof Array))throw o("Cannot apply $pull/pullAll modifier to non-array",{field:z});for(var J=[],K=0;K<H.length;K++){for(var ie=!1,Ee=0;Ee<Y.length;Ee++)if(I(H[K],Y[Ee])){ie=!0;break}ie||J.push(H[K])}Q[z]=J}}},$rename:function(Q,z,Y,H,J){if(H===Y)throw o("$rename source must differ from target",{field:z});if(null===Q)throw o("$rename source field invalid",{field:z});if("string"!=typeof Y)throw o("$rename target must be a string",{field:z});if(Y.indexOf("\0")>-1)throw o("The 'to' field for $rename cannot contain an embedded null byte",{field:z});if(void 0!==Q){var K=Q[z];delete Q[z];var ie=Y.split("."),Ee=de(J,ie,{forbidArray:!0});if(null===Ee)throw o("$rename target field invalid",{field:z});Ee[ie.pop()]=K}},$bit:function(Q,z,Y){throw o("$bit is not supported",{field:z})}};oe.exports=function(pe,Q,z){if(!z||!z.each)return q(pe,Q,F({},z,{returnInsteadOfReplacing:!0}))}},8309:oe=>{var N=function(){"use strict";function l(E,h){return null!=h&&E instanceof h}var b,c,I;try{b=Map}catch{b=function(){}}try{c=Set}catch{c=function(){}}try{I=Promise}catch{I=function(){}}function x(E,h,R,D,L){"object"==typeof h&&(R=h.depth,D=h.prototype,L=h.includeNonEnumerable,h=h.circular);var O=[],w=[],y="undefined"!=typeof Buffer;return void 0===h&&(h=!0),void 0===R&&(R=1/0),function u(o,m){if(null===o)return null;if(0===m)return o;var p,q;if("object"!=typeof o)return o;if(l(o,b))p=new b;else if(l(o,c))p=new c;else if(l(o,I))p=new I(function(J,K){o.then(function(ie){J(u(ie,m-1))},function(ie){K(u(ie,m-1))})});else if(x.__isArray(o))p=[];else if(x.__isRegExp(o))p=new RegExp(o.source,P(o)),o.lastIndex&&(p.lastIndex=o.lastIndex);else if(x.__isDate(o))p=new Date(o.getTime());else{if(y&&Buffer.isBuffer(o))return p=Buffer.allocUnsafe?Buffer.allocUnsafe(o.length):new Buffer(o.length),o.copy(p),p;l(o,Error)?p=Object.create(o):void 0===D?(q=Object.getPrototypeOf(o),p=Object.create(q)):(p=Object.create(D),q=D)}if(h){var de=O.indexOf(o);if(-1!=de)return w[de];O.push(o),w.push(p)}for(var Ce in l(o,b)&&o.forEach(function(J,K){var ie=u(K,m-1),Ee=u(J,m-1);p.set(ie,Ee)}),l(o,c)&&o.forEach(function(J){var K=u(J,m-1);p.add(K)}),o){var ye;q&&(ye=Object.getOwnPropertyDescriptor(q,Ce)),(!ye||null!=ye.set)&&(p[Ce]=u(o[Ce],m-1))}if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(o);for(Ce=0;Ce<pe.length;Ce++){var Q=pe[Ce];(z=Object.getOwnPropertyDescriptor(o,Q))&&!z.enumerable&&!L||(p[Q]=u(o[Q],m-1),z.enumerable||Object.defineProperty(p,Q,{enumerable:!1}))}}if(L){var Y=Object.getOwnPropertyNames(o);for(Ce=0;Ce<Y.length;Ce++){var z,H=Y[Ce];(z=Object.getOwnPropertyDescriptor(o,H))&&z.enumerable||(p[H]=u(o[H],m-1),Object.defineProperty(p,H,{enumerable:!1}))}}return p}(E,R)}function F(E){return Object.prototype.toString.call(E)}function P(E){var h="";return E.global&&(h+="g"),E.ignoreCase&&(h+="i"),E.multiline&&(h+="m"),h}return x.clonePrototype=function(h){if(null===h)return null;var R=function(){};return R.prototype=h,new R},x.__objToStr=F,x.__isDate=function(E){return"object"==typeof E&&"[object Date]"===F(E)},x.__isArray=function(E){return"object"==typeof E&&"[object Array]"===F(E)},x.__isRegExp=function(E){return"object"==typeof E&&"[object RegExp]"===F(E)},x.__getRegExpFlags=P,x}();oe.exports&&(oe.exports=N)},1175:oe=>{var N=function(l){return l!=l};oe.exports=function(b,c){return 0===b&&0===c?1/b==1/c:!!(b===c||N(b)&&N(c))}},2e3:(oe,N,l)=>{var b=l(2358),c=l(5685),I=l(1175),x=l(6305),F=l(3859),M=c(x(),Object);b(M,{getPolyfill:x,implementation:I,shim:F}),oe.exports=M},6305:(oe,N,l)=>{var b=l(1175);oe.exports=function(){return"function"==typeof Object.is?Object.is:b}},3859:(oe,N,l)=>{var b=l(6305),c=l(2358);oe.exports=function(){var x=b();return c(Object,{is:x},{is:function(){return Object.is!==x}}),x}},2450:(oe,N,l)=>{var b;if(!Object.keys){var c=Object.prototype.hasOwnProperty,I=Object.prototype.toString,x=l(9978),F=Object.prototype.propertyIsEnumerable,M=!F.call({toString:null},"toString"),U=F.call(function(){},"prototype"),T=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],P=function(D){var L=D.constructor;return L&&L.prototype===D},E={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var D in window)try{if(!E["$"+D]&&c.call(window,D)&&null!==window[D]&&"object"==typeof window[D])try{P(window[D])}catch{return!0}}catch{return!0}return!1}();b=function(L){var O=null!==L&&"object"==typeof L,w="[object Function]"===I.call(L),y=x(L),u=O&&"[object String]"===I.call(L),o=[];if(!O&&!w&&!y)throw new TypeError("Object.keys called on a non-object");var m=U&&w;if(u&&L.length>0&&!c.call(L,0))for(var p=0;p<L.length;++p)o.push(String(p));if(y&&L.length>0)for(var q=0;q<L.length;++q)o.push(String(q));else for(var de in L)(!m||"prototype"!==de)&&c.call(L,de)&&o.push(String(de));if(M)for(var Ce=function(D){if("undefined"==typeof window||!h)return P(D);try{return P(D)}catch{return!1}}(L),ye=0;ye<T.length;++ye)(!Ce||"constructor"!==T[ye])&&c.call(L,T[ye])&&o.push(T[ye]);return o}}oe.exports=b},1356:(oe,N,l)=>{var b=Array.prototype.slice,c=l(9978),I=Object.keys,x=I?function(U){return I(U)}:l(2450),F=Object.keys;x.shim=function(){if(Object.keys){var U=function(){var T=Object.keys(arguments);return T&&T.length===arguments.length}(1,2);U||(Object.keys=function(P){return c(P)?F(b.call(P)):F(P)})}else Object.keys=x;return Object.keys||x},oe.exports=x},9978:oe=>{var N=Object.prototype.toString;oe.exports=function(b){var c=N.call(b),I="[object Arguments]"===c;return I||(I="[object Array]"!==c&&null!==b&&"object"==typeof b&&"number"==typeof b.length&&b.length>=0&&"[object Function]"===N.call(b.callee)),I}},8624:function(oe,N){var l,b,c;!function(I,x){"use strict";"object"==typeof oe.exports?oe.exports=x():(b=[],void 0!==(c="function"==typeof(l=x)?l.apply(N,b):l)&&(oe.exports=c))}(0,function(){"use strict";var I=Object.prototype.toString;function x(D,L){return null!=D&&Object.prototype.hasOwnProperty.call(D,L)}function F(D){if(!D||T(D)&&0===D.length)return!0;if("string"!=typeof D){for(var L in D)if(x(D,L))return!1;return!0}return!1}function M(D){return I.call(D)}var T=Array.isArray||function(D){return"[object Array]"===I.call(D)};function E(D){var L=parseInt(D);return L.toString()===D?L:D}function h(D){var O,y,L=function(o){return Object.keys(L).reduce(function(m,p){return"create"===p||"function"==typeof L[p]&&(m[p]=L[p].bind(L,o)),m},{})};function w(o,m){if(O(o,m))return o[m]}function u(o,m,p,q){if("number"==typeof m&&(m=[m]),!m||0===m.length)return o;if("string"==typeof m)return u(o,m.split(".").map(E),p,q);var de=m[0],Ce=y(o,de);return 1===m.length?((void 0===Ce||!q)&&(o[de]=p),Ce):(void 0===Ce&&(o[de]="number"==typeof m[1]?[]:{}),u(o[de],m.slice(1),p,q))}return O=(D=D||{}).includeInheritedProps?function(){return!0}:function(o,m){return"number"==typeof m&&Array.isArray(o)||x(o,m)},y=D.includeInheritedProps?function(o,m){"string"!=typeof m&&"number"!=typeof m&&(m=String(m));var p=w(o,m);if("__proto__"===m||"prototype"===m||"constructor"===m&&"function"==typeof p)throw new Error("For security reasons, object's magic properties cannot be set");return p}:function(o,m){return w(o,m)},L.has=function(o,m){if("number"==typeof m?m=[m]:"string"==typeof m&&(m=m.split(".")),!m||0===m.length)return!!o;for(var p=0;p<m.length;p++){var q=E(m[p]);if(!("number"==typeof q&&T(o)&&q<o.length||(D.includeInheritedProps?q in Object(o):x(o,q))))return!1;o=o[q]}return!0},L.ensureExists=function(o,m,p){return u(o,m,p,!0)},L.set=function(o,m,p,q){return u(o,m,p,q)},L.insert=function(o,m,p,q){var de=L.get(o,m);q=~~q,T(de)||L.set(o,m,de=[]),de.splice(q,0,p)},L.empty=function(o,m){var p,q;if(!F(m)&&null!=o&&(p=L.get(o,m))){if("string"==typeof p)return L.set(o,m,"");if(function(D){return"boolean"==typeof D||"[object Boolean]"===M(D)}(p))return L.set(o,m,!1);if("number"==typeof p)return L.set(o,m,0);if(T(p))p.length=0;else{if(!function(D){return"object"==typeof D&&"[object Object]"===M(D)}(p))return L.set(o,m,null);for(q in p)O(p,q)&&delete p[q]}}},L.push=function(o,m){var p=L.get(o,m);T(p)||L.set(o,m,p=[]),p.push.apply(p,Array.prototype.slice.call(arguments,2))},L.coalesce=function(o,m,p){for(var q,de=0,Ce=m.length;de<Ce;de++)if(void 0!==(q=L.get(o,m[de])))return q;return p},L.get=function(o,m,p){if("number"==typeof m&&(m=[m]),!m||0===m.length)return o;if(null==o)return p;if("string"==typeof m)return L.get(o,m.split("."),p);var q=E(m[0]),de=y(o,q);return void 0===de?p:1===m.length?de:L.get(o[q],m.slice(1),p)},L.del=function(m,p){if("number"==typeof p&&(p=[p]),null==m||F(p))return m;if("string"==typeof p)return L.del(m,p.split("."));var q=E(p[0]);return y(m,q),O(m,q)?1!==p.length?L.del(m[q],p.slice(1)):(T(m)?m.splice(q,1):delete m[q],m):m},L}var R=h();return R.create=h,R.withInheritedProps=h({includeInheritedProps:!0}),R})},3625:oe=>{oe.exports=function(N){"use strict";var b=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function I(w,y){var u=w[0],o=w[1],m=w[2],p=w[3];o=((o+=((m=((m+=((p=((p+=((u=((u+=(o&m|~o&p)+y[0]-680876936|0)<<7|u>>>25)+o|0)&o|~u&m)+y[1]-389564586|0)<<12|p>>>20)+u|0)&u|~p&o)+y[2]+606105819|0)<<17|m>>>15)+p|0)&p|~m&u)+y[3]-1044525330|0)<<22|o>>>10)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o&m|~o&p)+y[4]-176418897|0)<<7|u>>>25)+o|0)&o|~u&m)+y[5]+1200080426|0)<<12|p>>>20)+u|0)&u|~p&o)+y[6]-1473231341|0)<<17|m>>>15)+p|0)&p|~m&u)+y[7]-45705983|0)<<22|o>>>10)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o&m|~o&p)+y[8]+1770035416|0)<<7|u>>>25)+o|0)&o|~u&m)+y[9]-1958414417|0)<<12|p>>>20)+u|0)&u|~p&o)+y[10]-42063|0)<<17|m>>>15)+p|0)&p|~m&u)+y[11]-1990404162|0)<<22|o>>>10)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o&m|~o&p)+y[12]+1804603682|0)<<7|u>>>25)+o|0)&o|~u&m)+y[13]-40341101|0)<<12|p>>>20)+u|0)&u|~p&o)+y[14]-1502002290|0)<<17|m>>>15)+p|0)&p|~m&u)+y[15]+1236535329|0)<<22|o>>>10)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o&p|m&~p)+y[1]-165796510|0)<<5|u>>>27)+o|0)&m|o&~m)+y[6]-1069501632|0)<<9|p>>>23)+u|0)&o|u&~o)+y[11]+643717713|0)<<14|m>>>18)+p|0)&u|p&~u)+y[0]-373897302|0)<<20|o>>>12)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o&p|m&~p)+y[5]-701558691|0)<<5|u>>>27)+o|0)&m|o&~m)+y[10]+38016083|0)<<9|p>>>23)+u|0)&o|u&~o)+y[15]-660478335|0)<<14|m>>>18)+p|0)&u|p&~u)+y[4]-405537848|0)<<20|o>>>12)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o&p|m&~p)+y[9]+568446438|0)<<5|u>>>27)+o|0)&m|o&~m)+y[14]-1019803690|0)<<9|p>>>23)+u|0)&o|u&~o)+y[3]-187363961|0)<<14|m>>>18)+p|0)&u|p&~u)+y[8]+1163531501|0)<<20|o>>>12)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o&p|m&~p)+y[13]-1444681467|0)<<5|u>>>27)+o|0)&m|o&~m)+y[2]-51403784|0)<<9|p>>>23)+u|0)&o|u&~o)+y[7]+1735328473|0)<<14|m>>>18)+p|0)&u|p&~u)+y[12]-1926607734|0)<<20|o>>>12)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o^m^p)+y[5]-378558|0)<<4|u>>>28)+o|0)^o^m)+y[8]-2022574463|0)<<11|p>>>21)+u|0)^u^o)+y[11]+1839030562|0)<<16|m>>>16)+p|0)^p^u)+y[14]-35309556|0)<<23|o>>>9)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o^m^p)+y[1]-1530992060|0)<<4|u>>>28)+o|0)^o^m)+y[4]+1272893353|0)<<11|p>>>21)+u|0)^u^o)+y[7]-155497632|0)<<16|m>>>16)+p|0)^p^u)+y[10]-1094730640|0)<<23|o>>>9)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o^m^p)+y[13]+681279174|0)<<4|u>>>28)+o|0)^o^m)+y[0]-358537222|0)<<11|p>>>21)+u|0)^u^o)+y[3]-722521979|0)<<16|m>>>16)+p|0)^p^u)+y[6]+76029189|0)<<23|o>>>9)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o^m^p)+y[9]-640364487|0)<<4|u>>>28)+o|0)^o^m)+y[12]-421815835|0)<<11|p>>>21)+u|0)^u^o)+y[15]+530742520|0)<<16|m>>>16)+p|0)^p^u)+y[2]-995338651|0)<<23|o>>>9)+m|0,o=((o+=((p=((p+=(o^((u=((u+=(m^(o|~p))+y[0]-198630844|0)<<6|u>>>26)+o|0)|~m))+y[7]+1126891415|0)<<10|p>>>22)+u|0)^((m=((m+=(u^(p|~o))+y[14]-1416354905|0)<<15|m>>>17)+p|0)|~u))+y[5]-57434055|0)<<21|o>>>11)+m|0,o=((o+=((p=((p+=(o^((u=((u+=(m^(o|~p))+y[12]+1700485571|0)<<6|u>>>26)+o|0)|~m))+y[3]-1894986606|0)<<10|p>>>22)+u|0)^((m=((m+=(u^(p|~o))+y[10]-1051523|0)<<15|m>>>17)+p|0)|~u))+y[1]-2054922799|0)<<21|o>>>11)+m|0,o=((o+=((p=((p+=(o^((u=((u+=(m^(o|~p))+y[8]+1873313359|0)<<6|u>>>26)+o|0)|~m))+y[15]-30611744|0)<<10|p>>>22)+u|0)^((m=((m+=(u^(p|~o))+y[6]-1560198380|0)<<15|m>>>17)+p|0)|~u))+y[13]+1309151649|0)<<21|o>>>11)+m|0,o=((o+=((p=((p+=(o^((u=((u+=(m^(o|~p))+y[4]-145523070|0)<<6|u>>>26)+o|0)|~m))+y[11]-1120210379|0)<<10|p>>>22)+u|0)^((m=((m+=(u^(p|~o))+y[2]+718787259|0)<<15|m>>>17)+p|0)|~u))+y[9]-343485551|0)<<21|o>>>11)+m|0,w[0]=u+w[0]|0,w[1]=o+w[1]|0,w[2]=m+w[2]|0,w[3]=p+w[3]|0}function x(w){var u,y=[];for(u=0;u<64;u+=4)y[u>>2]=w.charCodeAt(u)+(w.charCodeAt(u+1)<<8)+(w.charCodeAt(u+2)<<16)+(w.charCodeAt(u+3)<<24);return y}function F(w){var u,y=[];for(u=0;u<64;u+=4)y[u>>2]=w[u]+(w[u+1]<<8)+(w[u+2]<<16)+(w[u+3]<<24);return y}function M(w){var o,m,p,q,de,Ce,y=w.length,u=[1732584193,-271733879,-1732584194,271733878];for(o=64;o<=y;o+=64)I(u,x(w.substring(o-64,o)));for(m=(w=w.substring(o-64)).length,p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<m;o+=1)p[o>>2]|=w.charCodeAt(o)<<(o%4<<3);if(p[o>>2]|=128<<(o%4<<3),o>55)for(I(u,p),o=0;o<16;o+=1)p[o]=0;return q=(q=8*y).toString(16).match(/(.*?)(.{0,8})$/),de=parseInt(q[2],16),Ce=parseInt(q[1],16)||0,p[14]=de,p[15]=Ce,I(u,p),u}function T(w){var u,y="";for(u=0;u<4;u+=1)y+=b[w>>8*u+4&15]+b[w>>8*u&15];return y}function P(w){var y;for(y=0;y<w.length;y+=1)w[y]=T(w[y]);return w.join("")}function E(w){return/[\u0080-\uFFFF]/.test(w)&&(w=unescape(encodeURIComponent(w))),w}function L(w){var o,y=[],u=w.length;for(o=0;o<u-1;o+=2)y.push(parseInt(w.substr(o,2),16));return String.fromCharCode.apply(String,y)}function O(){this.reset()}return P(M("hello")),"undefined"!=typeof ArrayBuffer&&!ArrayBuffer.prototype.slice&&function(){function w(y,u){return(y=0|y||0)<0?Math.max(y+u,0):Math.min(y,u)}ArrayBuffer.prototype.slice=function(y,u){var q,de,Ce,ye,o=this.byteLength,m=w(y,o),p=o;return undefined!==u&&(p=w(u,o)),m>p?new ArrayBuffer(0):(q=p-m,de=new ArrayBuffer(q),Ce=new Uint8Array(de),ye=new Uint8Array(this,m,q),Ce.set(ye),de)}}(),O.prototype.append=function(w){return this.appendBinary(E(w)),this},O.prototype.appendBinary=function(w){this._buff+=w,this._length+=w.length;var u,y=this._buff.length;for(u=64;u<=y;u+=64)I(this._hash,x(this._buff.substring(u-64,u)));return this._buff=this._buff.substring(u-64),this},O.prototype.end=function(w){var o,p,y=this._buff,u=y.length,m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(o=0;o<u;o+=1)m[o>>2]|=y.charCodeAt(o)<<(o%4<<3);return this._finish(m,u),p=P(this._hash),w&&(p=L(p)),this.reset(),p},O.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},O.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},O.prototype.setState=function(w){return this._buff=w.buff,this._length=w.length,this._hash=w.hash,this},O.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},O.prototype._finish=function(w,y){var o,m,p,u=y;if(w[u>>2]|=128<<(u%4<<3),u>55)for(I(this._hash,w),u=0;u<16;u+=1)w[u]=0;o=(o=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),m=parseInt(o[2],16),p=parseInt(o[1],16)||0,w[14]=m,w[15]=p,I(this._hash,w)},O.hash=function(w,y){return O.hashBinary(E(w),y)},O.hashBinary=function(w,y){var o=P(M(w));return y?L(o):o},(O.ArrayBuffer=function(){this.reset()}).prototype.append=function(w){var o,y=function(w,y,u){var o=new Uint8Array(w.byteLength+y.byteLength);return o.set(new Uint8Array(w)),o.set(new Uint8Array(y),w.byteLength),u?o:o.buffer}(this._buff.buffer,w,!0),u=y.length;for(this._length+=w.byteLength,o=64;o<=u;o+=64)I(this._hash,F(y.subarray(o-64,o)));return this._buff=o-64<u?new Uint8Array(y.buffer.slice(o-64)):new Uint8Array(0),this},O.ArrayBuffer.prototype.end=function(w){var m,p,y=this._buff,u=y.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(m=0;m<u;m+=1)o[m>>2]|=y[m]<<(m%4<<3);return this._finish(o,u),p=P(this._hash),w&&(p=L(p)),this.reset(),p},O.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},O.ArrayBuffer.prototype.getState=function(){var w=O.prototype.getState.call(this);return w.buff=function(w){return String.fromCharCode.apply(null,new Uint8Array(w))}(w.buff),w},O.ArrayBuffer.prototype.setState=function(w){return w.buff=function(w,y){var p,u=w.length,o=new ArrayBuffer(u),m=new Uint8Array(o);for(p=0;p<u;p+=1)m[p]=w.charCodeAt(p);return y?m:o}(w.buff,!0),O.prototype.setState.call(this,w)},O.ArrayBuffer.prototype.destroy=O.prototype.destroy,O.ArrayBuffer.prototype._finish=O.prototype._finish,O.ArrayBuffer.hash=function(w,y){var o=P(function(w){var o,m,p,q,de,Ce,y=w.length,u=[1732584193,-271733879,-1732584194,271733878];for(o=64;o<=y;o+=64)I(u,F(w.subarray(o-64,o)));for(m=(w=o-64<y?w.subarray(o-64):new Uint8Array(0)).length,p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<m;o+=1)p[o>>2]|=w[o]<<(o%4<<3);if(p[o>>2]|=128<<(o%4<<3),o>55)for(I(u,p),o=0;o<16;o+=1)p[o]=0;return q=(q=8*y).toString(16).match(/(.*?)(.{0,8})$/),de=parseInt(q[2],16),Ce=parseInt(q[1],16)||0,p[14]=de,p[15]=Ce,I(u,p),u}(new Uint8Array(w)));return y?L(o):o},O}()},2302:(oe,N,l)=>{var c,I,b=[l(4703),l(3328),l(6139),l(5675),l(1767),l(3259)],x=-1,F=[],M=!1;function U(){!c||!I||(c=!1,I.length?F=I.concat(F):x=-1,F.length&&T())}function T(){if(!c){M=!1,c=!0;for(var L=F.length,O=setTimeout(U);L;){for(I=F,F=[];I&&++x<L;)I[x].run();x=-1,L=F.length}I=null,x=-1,c=!1,clearTimeout(O)}}for(var P,E=-1,h=b.length;++E<h;)if(b[E]&&b[E].test&&b[E].test()){P=b[E].install(T);break}function R(L,O){this.fun=L,this.array=O}R.prototype.run=function(){var L=this.fun,O=this.array;switch(O.length){case 0:return L();case 1:return L(O[0]);case 2:return L(O[0],O[1]);case 3:return L(O[0],O[1],O[2]);default:return L.apply(null,O)}},oe.exports=function(L){var O=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)O[w-1]=arguments[w];F.push(new R(L,O)),!M&&!c&&(M=!0,P())}},5675:(oe,N)=>{N.test=function(){return!global.setImmediate&&void 0!==global.MessageChannel},N.install=function(l){var b=new global.MessageChannel;return b.port1.onmessage=l,function(){b.port2.postMessage(0)}}},6139:(oe,N)=>{var l=global.MutationObserver||global.WebKitMutationObserver;N.test=function(){return l},N.install=function(b){var c=0,I=new l(b),x=global.document.createTextNode("");return I.observe(x,{characterData:!0}),function(){x.data=c=++c%2}}},3328:(oe,N)=>{N.test=function(){return"function"==typeof global.queueMicrotask},N.install=function(l){return function(){global.queueMicrotask(l)}}},1767:(oe,N)=>{N.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")},N.install=function(l){return function(){var b=global.document.createElement("script");return b.onreadystatechange=function(){l(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},global.document.documentElement.appendChild(b),l}}},3259:(oe,N)=>{N.test=function(){return!0},N.install=function(l){return function(){setTimeout(l,0)}}},2448:(oe,N)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;const l=[];for(let I=0;I<256;++I)l.push((I+256).toString(16).substr(1));N.default=function(I,x){const F=x||0;return(l[I[F+0]]+l[I[F+1]]+l[I[F+2]]+l[I[F+3]]+"-"+l[I[F+4]]+l[I[F+5]]+"-"+l[I[F+6]]+l[I[F+7]]+"-"+l[I[F+8]]+l[I[F+9]]+"-"+l[I[F+10]]+l[I[F+11]]+l[I[F+12]]+l[I[F+13]]+l[I[F+14]]+l[I[F+15]]).toLowerCase()}},3306:(oe,N,l)=>{Object.defineProperty(N,"v1",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(N,"v3",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(N,"v4",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(N,"v5",{enumerable:!0,get:function(){return F.default}});var c=M(l(9110)),I=M(l(8693)),x=M(l(491)),F=M(l(8518));function M(U){return U&&U.__esModule?U:{default:U}}},872:(oe,N)=>{function c(D){return 14+(D+64>>>9<<4)+1}function F(D,L){const O=(65535&D)+(65535&L);return(D>>16)+(L>>16)+(O>>16)<<16|65535&O}function U(D,L,O,w,y,u){return F(function(D,L){return D<<L|D>>>32-L}(F(F(L,D),F(w,u)),y),O)}function T(D,L,O,w,y,u,o){return U(L&O|~L&w,D,L,y,u,o)}function P(D,L,O,w,y,u,o){return U(L&w|O&~w,D,L,y,u,o)}function E(D,L,O,w,y,u,o){return U(L^O^w,D,L,y,u,o)}function h(D,L,O,w,y,u,o){return U(O^(L|~w),D,L,y,u,o)}Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0,N.default=function(D){if("string"==typeof D){const L=unescape(encodeURIComponent(D));D=new Uint8Array(L.length);for(let O=0;O<L.length;++O)D[O]=L.charCodeAt(O)}return function(D){const L=[],O=32*D.length,w="0123456789abcdef";for(let y=0;y<O;y+=8){const u=D[y>>5]>>>y%32&255,o=parseInt(w.charAt(u>>>4&15)+w.charAt(15&u),16);L.push(o)}return L}(function(D,L){D[L>>5]|=128<<L%32,D[c(L)-1]=L;let O=1732584193,w=-271733879,y=-1732584194,u=271733878;for(let o=0;o<D.length;o+=16){const m=O,p=w,q=y,de=u;O=T(O,w,y,u,D[o],7,-680876936),u=T(u,O,w,y,D[o+1],12,-389564586),y=T(y,u,O,w,D[o+2],17,606105819),w=T(w,y,u,O,D[o+3],22,-1044525330),O=T(O,w,y,u,D[o+4],7,-176418897),u=T(u,O,w,y,D[o+5],12,1200080426),y=T(y,u,O,w,D[o+6],17,-1473231341),w=T(w,y,u,O,D[o+7],22,-45705983),O=T(O,w,y,u,D[o+8],7,1770035416),u=T(u,O,w,y,D[o+9],12,-1958414417),y=T(y,u,O,w,D[o+10],17,-42063),w=T(w,y,u,O,D[o+11],22,-1990404162),O=T(O,w,y,u,D[o+12],7,1804603682),u=T(u,O,w,y,D[o+13],12,-40341101),y=T(y,u,O,w,D[o+14],17,-1502002290),w=T(w,y,u,O,D[o+15],22,1236535329),O=P(O,w,y,u,D[o+1],5,-165796510),u=P(u,O,w,y,D[o+6],9,-1069501632),y=P(y,u,O,w,D[o+11],14,643717713),w=P(w,y,u,O,D[o],20,-373897302),O=P(O,w,y,u,D[o+5],5,-701558691),u=P(u,O,w,y,D[o+10],9,38016083),y=P(y,u,O,w,D[o+15],14,-660478335),w=P(w,y,u,O,D[o+4],20,-405537848),O=P(O,w,y,u,D[o+9],5,568446438),u=P(u,O,w,y,D[o+14],9,-1019803690),y=P(y,u,O,w,D[o+3],14,-187363961),w=P(w,y,u,O,D[o+8],20,1163531501),O=P(O,w,y,u,D[o+13],5,-1444681467),u=P(u,O,w,y,D[o+2],9,-51403784),y=P(y,u,O,w,D[o+7],14,1735328473),w=P(w,y,u,O,D[o+12],20,-1926607734),O=E(O,w,y,u,D[o+5],4,-378558),u=E(u,O,w,y,D[o+8],11,-2022574463),y=E(y,u,O,w,D[o+11],16,1839030562),w=E(w,y,u,O,D[o+14],23,-35309556),O=E(O,w,y,u,D[o+1],4,-1530992060),u=E(u,O,w,y,D[o+4],11,1272893353),y=E(y,u,O,w,D[o+7],16,-155497632),w=E(w,y,u,O,D[o+10],23,-1094730640),O=E(O,w,y,u,D[o+13],4,681279174),u=E(u,O,w,y,D[o],11,-358537222),y=E(y,u,O,w,D[o+3],16,-722521979),w=E(w,y,u,O,D[o+6],23,76029189),O=E(O,w,y,u,D[o+9],4,-640364487),u=E(u,O,w,y,D[o+12],11,-421815835),y=E(y,u,O,w,D[o+15],16,530742520),w=E(w,y,u,O,D[o+2],23,-995338651),O=h(O,w,y,u,D[o],6,-198630844),u=h(u,O,w,y,D[o+7],10,1126891415),y=h(y,u,O,w,D[o+14],15,-1416354905),w=h(w,y,u,O,D[o+5],21,-57434055),O=h(O,w,y,u,D[o+12],6,1700485571),u=h(u,O,w,y,D[o+3],10,-1894986606),y=h(y,u,O,w,D[o+10],15,-1051523),w=h(w,y,u,O,D[o+1],21,-2054922799),O=h(O,w,y,u,D[o+8],6,1873313359),u=h(u,O,w,y,D[o+15],10,-30611744),y=h(y,u,O,w,D[o+6],15,-1560198380),w=h(w,y,u,O,D[o+13],21,1309151649),O=h(O,w,y,u,D[o+4],6,-145523070),u=h(u,O,w,y,D[o+11],10,-1120210379),y=h(y,u,O,w,D[o+2],15,718787259),w=h(w,y,u,O,D[o+9],21,-343485551),O=F(O,m),w=F(w,p),y=F(y,q),u=F(u,de)}return[O,w,y,u]}(function(D){if(0===D.length)return[];const L=8*D.length,O=new Uint32Array(c(L));for(let w=0;w<L;w+=8)O[w>>5]|=(255&D[w/8])<<w%32;return O}(D),8*D.length))}},5468:(oe,N)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=function(){if(!l)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(b)};const l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),b=new Uint8Array(16)},209:(oe,N)=>{function l(x,F,M,U){switch(x){case 0:return F&M^~F&U;case 1:case 3:return F^M^U;case 2:return F&M^F&U^M&U}}function b(x,F){return x<<F|x>>>32-F}Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0,N.default=function(x){const F=[1518500249,1859775393,2400959708,3395469782],M=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof x){const E=unescape(encodeURIComponent(x));x=[];for(let h=0;h<E.length;++h)x.push(E.charCodeAt(h))}x.push(128);const T=Math.ceil((x.length/4+2)/16),P=new Array(T);for(let E=0;E<T;++E){const h=new Uint32Array(16);for(let R=0;R<16;++R)h[R]=x[64*E+4*R]<<24|x[64*E+4*R+1]<<16|x[64*E+4*R+2]<<8|x[64*E+4*R+3];P[E]=h}P[T-1][14]=8*(x.length-1)/Math.pow(2,32),P[T-1][14]=Math.floor(P[T-1][14]),P[T-1][15]=8*(x.length-1)&4294967295;for(let E=0;E<T;++E){const h=new Uint32Array(80);for(let y=0;y<16;++y)h[y]=P[E][y];for(let y=16;y<80;++y)h[y]=b(h[y-3]^h[y-8]^h[y-14]^h[y-16],1);let R=M[0],D=M[1],L=M[2],O=M[3],w=M[4];for(let y=0;y<80;++y){const u=Math.floor(y/20),o=b(R,5)+l(u,D,L,O)+w+F[u]+h[y]>>>0;w=O,O=L,L=b(D,30)>>>0,D=R,R=o}M[0]=M[0]+R>>>0,M[1]=M[1]+D>>>0,M[2]=M[2]+L>>>0,M[3]=M[3]+O>>>0,M[4]=M[4]+w>>>0}return[M[0]>>24&255,M[0]>>16&255,M[0]>>8&255,255&M[0],M[1]>>24&255,M[1]>>16&255,M[1]>>8&255,255&M[1],M[2]>>24&255,M[2]>>16&255,M[2]>>8&255,255&M[2],M[3]>>24&255,M[3]>>16&255,M[3]>>8&255,255&M[3],M[4]>>24&255,M[4]>>16&255,M[4]>>8&255,255&M[4]]}},9110:(oe,N,l)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;var b=I(l(5468)),c=I(l(2448));function I(E){return E&&E.__esModule?E:{default:E}}let x,F,M=0,U=0;N.default=function(E,h,R){let D=h&&R||0;const L=h||[];let O=(E=E||{}).node||x,w=void 0!==E.clockseq?E.clockseq:F;if(null==O||null==w){const q=E.random||(E.rng||b.default)();null==O&&(O=x=[1|q[0],q[1],q[2],q[3],q[4],q[5]]),null==w&&(w=F=16383&(q[6]<<8|q[7]))}let y=void 0!==E.msecs?E.msecs:Date.now(),u=void 0!==E.nsecs?E.nsecs:U+1;const o=y-M+(u-U)/1e4;if(o<0&&void 0===E.clockseq&&(w=w+1&16383),(o<0||y>M)&&void 0===E.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");M=y,U=u,F=w,y+=122192928e5;const m=(1e4*(268435455&y)+u)%4294967296;L[D++]=m>>>24&255,L[D++]=m>>>16&255,L[D++]=m>>>8&255,L[D++]=255&m;const p=y/4294967296*1e4&268435455;L[D++]=p>>>8&255,L[D++]=255&p,L[D++]=p>>>24&15|16,L[D++]=p>>>16&255,L[D++]=w>>>8|128,L[D++]=255&w;for(let q=0;q<6;++q)L[D+q]=O[q];return h||(0,c.default)(L)}},8693:(oe,N,l)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;var b=I(l(1657)),c=I(l(872));function I(M){return M&&M.__esModule?M:{default:M}}var F=(0,b.default)("v3",48,c.default);N.default=F},1657:(oe,N,l)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=function(T,P,E){function h(R,D,L,O){const w=L&&O||0;if("string"==typeof R&&(R=function(T){T=unescape(encodeURIComponent(T));const P=[];for(let E=0;E<T.length;++E)P.push(T.charCodeAt(E));return P}(R)),"string"==typeof D&&(D=function(T){const P=[];return T.replace(/[a-fA-F0-9]{2}/g,function(E){P.push(parseInt(E,16))}),P}(D)),!Array.isArray(R))throw TypeError("value must be an array of bytes");if(!Array.isArray(D)||16!==D.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");const y=E(D.concat(R));if(y[6]=15&y[6]|P,y[8]=63&y[8]|128,L)for(let u=0;u<16;++u)L[w+u]=y[u];return L||(0,b.default)(y)}try{h.name=T}catch{}return h.DNS=F,h.URL=M,h},N.URL=N.DNS=void 0;var T,b=(T=l(2448))&&T.__esModule?T:{default:T};const F="6ba7b810-9dad-11d1-80b4-00c04fd430c8";N.DNS=F;const M="6ba7b811-9dad-11d1-80b4-00c04fd430c8";N.URL=M},491:(oe,N,l)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;var b=I(l(5468)),c=I(l(2448));function I(M){return M&&M.__esModule?M:{default:M}}N.default=function(M,U,T){"string"==typeof M&&(U="binary"===M?new Uint8Array(16):null,M=null);const P=(M=M||{}).random||(M.rng||b.default)();if(P[6]=15&P[6]|64,P[8]=63&P[8]|128,U){const E=T||0;for(let h=0;h<16;++h)U[E+h]=P[h];return U}return(0,c.default)(P)}},8518:(oe,N,l)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;var b=I(l(1657)),c=I(l(209));function I(M){return M&&M.__esModule?M:{default:M}}var F=(0,b.default)("v5",80,c.default);N.default=F},7854:oe=>{var N=function(l){"use strict";var I,b=Object.prototype,c=b.hasOwnProperty,x="function"==typeof Symbol?Symbol:{},F=x.iterator||"@@iterator",M=x.asyncIterator||"@@asyncIterator",U=x.toStringTag||"@@toStringTag";function T(K,ie,Ee){return Object.defineProperty(K,ie,{value:Ee,enumerable:!0,configurable:!0,writable:!0}),K[ie]}try{T({},"")}catch{T=function(ie,Ee,Fe){return ie[Ee]=Fe}}function P(K,ie,Ee,Fe){var ge=Object.create((ie&&ie.prototype instanceof w?ie:w).prototype),te=new Y(Fe||[]);return ge._invoke=function(K,ie,Ee){var Fe=h;return function(ge,te){if(Fe===D)throw new Error("Generator is already running");if(Fe===L){if("throw"===ge)throw te;return J()}for(Ee.method=ge,Ee.arg=te;;){var ue=Ee.delegate;if(ue){var Re=pe(ue,Ee);if(Re){if(Re===O)continue;return Re}}if("next"===Ee.method)Ee.sent=Ee._sent=Ee.arg;else if("throw"===Ee.method){if(Fe===h)throw Fe=L,Ee.arg;Ee.dispatchException(Ee.arg)}else"return"===Ee.method&&Ee.abrupt("return",Ee.arg);Fe=D;var je=E(K,ie,Ee);if("normal"===je.type){if(Fe=Ee.done?L:R,je.arg===O)continue;return{value:je.arg,done:Ee.done}}"throw"===je.type&&(Fe=L,Ee.method="throw",Ee.arg=je.arg)}}}(K,Ee,te),ge}function E(K,ie,Ee){try{return{type:"normal",arg:K.call(ie,Ee)}}catch(Fe){return{type:"throw",arg:Fe}}}l.wrap=P;var h="suspendedStart",R="suspendedYield",D="executing",L="completed",O={};function w(){}function y(){}function u(){}var o={};T(o,F,function(){return this});var m=Object.getPrototypeOf,p=m&&m(m(H([])));p&&p!==b&&c.call(p,F)&&(o=p);var q=u.prototype=w.prototype=Object.create(o);function de(K){["next","throw","return"].forEach(function(ie){T(K,ie,function(Ee){return this._invoke(ie,Ee)})})}function Ce(K,ie){function Ee(ge,te,ue,Re){var je=E(K[ge],K,te);if("throw"!==je.type){var Xe=je.arg,ut=Xe.value;return ut&&"object"==typeof ut&&c.call(ut,"__await")?ie.resolve(ut.__await).then(function(tt){Ee("next",tt,ue,Re)},function(tt){Ee("throw",tt,ue,Re)}):ie.resolve(ut).then(function(tt){Xe.value=tt,ue(Xe)},function(tt){return Ee("throw",tt,ue,Re)})}Re(je.arg)}var Fe;this._invoke=function(ge,te){function ue(){return new ie(function(Re,je){Ee(ge,te,Re,je)})}return Fe=Fe?Fe.then(ue,ue):ue()}}function pe(K,ie){var Ee=K.iterator[ie.method];if(Ee===I){if(ie.delegate=null,"throw"===ie.method){if(K.iterator.return&&(ie.method="return",ie.arg=I,pe(K,ie),"throw"===ie.method))return O;ie.method="throw",ie.arg=new TypeError("The iterator does not provide a 'throw' method")}return O}var Fe=E(Ee,K.iterator,ie.arg);if("throw"===Fe.type)return ie.method="throw",ie.arg=Fe.arg,ie.delegate=null,O;var me=Fe.arg;return me?me.done?(ie[K.resultName]=me.value,ie.next=K.nextLoc,"return"!==ie.method&&(ie.method="next",ie.arg=I),ie.delegate=null,O):me:(ie.method="throw",ie.arg=new TypeError("iterator result is not an object"),ie.delegate=null,O)}function Q(K){var ie={tryLoc:K[0]};1 in K&&(ie.catchLoc=K[1]),2 in K&&(ie.finallyLoc=K[2],ie.afterLoc=K[3]),this.tryEntries.push(ie)}function z(K){var ie=K.completion||{};ie.type="normal",delete ie.arg,K.completion=ie}function Y(K){this.tryEntries=[{tryLoc:"root"}],K.forEach(Q,this),this.reset(!0)}function H(K){if(K){var ie=K[F];if(ie)return ie.call(K);if("function"==typeof K.next)return K;if(!isNaN(K.length)){var Ee=-1,Fe=function me(){for(;++Ee<K.length;)if(c.call(K,Ee))return me.value=K[Ee],me.done=!1,me;return me.value=I,me.done=!0,me};return Fe.next=Fe}}return{next:J}}function J(){return{value:I,done:!0}}return y.prototype=u,T(q,"constructor",u),T(u,"constructor",y),y.displayName=T(u,U,"GeneratorFunction"),l.isGeneratorFunction=function(K){var ie="function"==typeof K&&K.constructor;return!!ie&&(ie===y||"GeneratorFunction"===(ie.displayName||ie.name))},l.mark=function(K){return Object.setPrototypeOf?Object.setPrototypeOf(K,u):(K.__proto__=u,T(K,U,"GeneratorFunction")),K.prototype=Object.create(q),K},l.awrap=function(K){return{__await:K}},de(Ce.prototype),T(Ce.prototype,M,function(){return this}),l.AsyncIterator=Ce,l.async=function(K,ie,Ee,Fe,me){void 0===me&&(me=Promise);var ge=new Ce(P(K,ie,Ee,Fe),me);return l.isGeneratorFunction(ie)?ge:ge.next().then(function(te){return te.done?te.value:ge.next()})},de(q),T(q,U,"Generator"),T(q,F,function(){return this}),T(q,"toString",function(){return"[object Generator]"}),l.keys=function(K){var ie=[];for(var Ee in K)ie.push(Ee);return ie.reverse(),function Fe(){for(;ie.length;){var me=ie.pop();if(me in K)return Fe.value=me,Fe.done=!1,Fe}return Fe.done=!0,Fe}},l.values=H,Y.prototype={constructor:Y,reset:function(K){if(this.prev=0,this.next=0,this.sent=this._sent=I,this.done=!1,this.delegate=null,this.method="next",this.arg=I,this.tryEntries.forEach(z),!K)for(var ie in this)"t"===ie.charAt(0)&&c.call(this,ie)&&!isNaN(+ie.slice(1))&&(this[ie]=I)},stop:function(){this.done=!0;var ie=this.tryEntries[0].completion;if("throw"===ie.type)throw ie.arg;return this.rval},dispatchException:function(K){if(this.done)throw K;var ie=this;function Ee(Re,je){return ge.type="throw",ge.arg=K,ie.next=Re,je&&(ie.method="next",ie.arg=I),!!je}for(var Fe=this.tryEntries.length-1;Fe>=0;--Fe){var me=this.tryEntries[Fe],ge=me.completion;if("root"===me.tryLoc)return Ee("end");if(me.tryLoc<=this.prev){var te=c.call(me,"catchLoc"),ue=c.call(me,"finallyLoc");if(te&&ue){if(this.prev<me.catchLoc)return Ee(me.catchLoc,!0);if(this.prev<me.finallyLoc)return Ee(me.finallyLoc)}else if(te){if(this.prev<me.catchLoc)return Ee(me.catchLoc,!0)}else{if(!ue)throw new Error("try statement without catch or finally");if(this.prev<me.finallyLoc)return Ee(me.finallyLoc)}}}},abrupt:function(K,ie){for(var Ee=this.tryEntries.length-1;Ee>=0;--Ee){var Fe=this.tryEntries[Ee];if(Fe.tryLoc<=this.prev&&c.call(Fe,"finallyLoc")&&this.prev<Fe.finallyLoc){var me=Fe;break}}me&&("break"===K||"continue"===K)&&me.tryLoc<=ie&&ie<=me.finallyLoc&&(me=null);var ge=me?me.completion:{};return ge.type=K,ge.arg=ie,me?(this.method="next",this.next=me.finallyLoc,O):this.complete(ge)},complete:function(K,ie){if("throw"===K.type)throw K.arg;return"break"===K.type||"continue"===K.type?this.next=K.arg:"return"===K.type?(this.rval=this.arg=K.arg,this.method="return",this.next="end"):"normal"===K.type&&ie&&(this.next=ie),O},finish:function(K){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var Ee=this.tryEntries[ie];if(Ee.finallyLoc===K)return this.complete(Ee.completion,Ee.afterLoc),z(Ee),O}},catch:function(K){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var Ee=this.tryEntries[ie];if(Ee.tryLoc===K){var Fe=Ee.completion;if("throw"===Fe.type){var me=Fe.arg;z(Ee)}return me}}throw new Error("illegal catch attempt")},delegateYield:function(K,ie,Ee){return this.delegate={iterator:H(K),resultName:ie,nextLoc:Ee},"next"===this.method&&(this.arg=I),O}},l}(oe.exports);try{regeneratorRuntime=N}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=N:Function("r","regeneratorRuntime = r")(N)}},4468:oe=>{var N=Object,l=TypeError;oe.exports=function(){if(null!=this&&this!==N(this))throw new l("RegExp.prototype.flags getter called on non-object");var c="";return this.global&&(c+="g"),this.ignoreCase&&(c+="i"),this.multiline&&(c+="m"),this.dotAll&&(c+="s"),this.unicode&&(c+="u"),this.sticky&&(c+="y"),c}},9235:(oe,N,l)=>{var b=l(2358),c=l(5685),I=l(4468),x=l(6343),F=l(1956),M=c(I);b(M,{getPolyfill:x,implementation:I,shim:F}),oe.exports=M},6343:(oe,N,l)=>{var b=l(4468),c=l(2358).supportsDescriptors,I=Object.getOwnPropertyDescriptor,x=TypeError;oe.exports=function(){if(!c)throw new x("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var M=I(RegExp.prototype,"flags");if(M&&"function"==typeof M.get&&"boolean"==typeof/a/.dotAll)return M.get}return b}},1956:(oe,N,l)=>{var b=l(2358).supportsDescriptors,c=l(6343),I=Object.getOwnPropertyDescriptor,x=Object.defineProperty,F=TypeError,M=Object.getPrototypeOf,U=/a/;oe.exports=function(){if(!b||!M)throw new F("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var P=c(),E=M(U),h=I(E,"flags");return(!h||h.get!==P)&&x(E,"flags",{configurable:!0,enumerable:!1,get:P}),P}},4966:oe=>{var N=function(){"use strict";function l(E,h){return null!=h&&E instanceof h}var b,c,I;try{b=Map}catch{b=function(){}}try{c=Set}catch{c=function(){}}try{I=Promise}catch{I=function(){}}function x(E,h,R,D,L){"object"==typeof h&&(R=h.depth,D=h.prototype,L=h.includeNonEnumerable,h=h.circular);var O=[],w=[],y="undefined"!=typeof Buffer;return void 0===h&&(h=!0),void 0===R&&(R=1/0),function u(o,m){if(null===o)return null;if(0===m)return o;var p,q;if("object"!=typeof o)return o;if(l(o,b))p=new b;else if(l(o,c))p=new c;else if(l(o,I))p=new I(function(J,K){o.then(function(ie){J(u(ie,m-1))},function(ie){K(u(ie,m-1))})});else if(x.__isArray(o))p=[];else if(x.__isRegExp(o))p=new RegExp(o.source,P(o)),o.lastIndex&&(p.lastIndex=o.lastIndex);else if(x.__isDate(o))p=new Date(o.getTime());else{if(y&&Buffer.isBuffer(o))return p=Buffer.allocUnsafe?Buffer.allocUnsafe(o.length):new Buffer(o.length),o.copy(p),p;l(o,Error)?p=Object.create(o):void 0===D?(q=Object.getPrototypeOf(o),p=Object.create(q)):(p=Object.create(D),q=D)}if(h){var de=O.indexOf(o);if(-1!=de)return w[de];O.push(o),w.push(p)}for(var Ce in l(o,b)&&o.forEach(function(J,K){var ie=u(K,m-1),Ee=u(J,m-1);p.set(ie,Ee)}),l(o,c)&&o.forEach(function(J){var K=u(J,m-1);p.add(K)}),o){var ye;q&&(ye=Object.getOwnPropertyDescriptor(q,Ce)),(!ye||null!=ye.set)&&(p[Ce]=u(o[Ce],m-1))}if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(o);for(Ce=0;Ce<pe.length;Ce++){var Q=pe[Ce];(z=Object.getOwnPropertyDescriptor(o,Q))&&!z.enumerable&&!L||(p[Q]=u(o[Q],m-1),z.enumerable||Object.defineProperty(p,Q,{enumerable:!1}))}}if(L){var Y=Object.getOwnPropertyNames(o);for(Ce=0;Ce<Y.length;Ce++){var z,H=Y[Ce];(z=Object.getOwnPropertyDescriptor(o,H))&&z.enumerable||(p[H]=u(o[H],m-1),Object.defineProperty(p,H,{enumerable:!1}))}}return p}(E,R)}function F(E){return Object.prototype.toString.call(E)}function P(E){var h="";return E.global&&(h+="g"),E.ignoreCase&&(h+="i"),E.multiline&&(h+="m"),h}return x.clonePrototype=function(h){if(null===h)return null;var R=function(){};return R.prototype=h,new R},x.__objToStr=F,x.__isDate=function(E){return"object"==typeof E&&"[object Date]"===F(E)},x.__isArray=function(E){return"object"==typeof E&&"[object Array]"===F(E)},x.__isRegExp=function(E){return"object"==typeof E&&"[object RegExp]"===F(E)},x.__getRegExpFlags=P,x}();oe.exports&&(oe.exports=N)},1135:(oe,N,l)=>{l.d(N,{X:()=>c});var b=l(7579);class c extends b.x{constructor(x){super(),this._value=x}get value(){return this.getValue()}_subscribe(x){const F=super._subscribe(x);return!F.closed&&x.next(this._value),F}getValue(){const{hasError:x,thrownError:F,_value:M}=this;if(x)throw F;return this._throwIfClosed(),M}next(x){super.next(this._value=x)}}},8306:(oe,N,l)=>{l.d(N,{y:()=>E});var b=l(930),c=l(727),I=l(8822),x=l(4671);var U=l(2416),T=l(576),P=l(2806);let E=(()=>{class L{constructor(w){w&&(this._subscribe=w)}lift(w){const y=new L;return y.source=this,y.operator=w,y}subscribe(w,y,u){const o=function(L){return L&&L instanceof b.Lv||function(L){return L&&(0,T.m)(L.next)&&(0,T.m)(L.error)&&(0,T.m)(L.complete)}(L)&&(0,c.Nn)(L)}(w)?w:new b.Hp(w,y,u);return(0,P.x)(()=>{const{operator:m,source:p}=this;o.add(m?m.call(o,p):p?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(w){try{return this._subscribe(w)}catch(y){w.error(y)}}forEach(w,y){return new(y=h(y))((u,o)=>{const m=new b.Hp({next:p=>{try{w(p)}catch(q){o(q),m.unsubscribe()}},error:o,complete:u});this.subscribe(m)})}_subscribe(w){var y;return null===(y=this.source)||void 0===y?void 0:y.subscribe(w)}[I.L](){return this}pipe(...w){return function(L){return 0===L.length?x.y:1===L.length?L[0]:function(w){return L.reduce((y,u)=>u(y),w)}}(w)(this)}toPromise(w){return new(w=h(w))((y,u)=>{let o;this.subscribe(m=>o=m,m=>u(m),()=>y(o))})}}return L.create=O=>new L(O),L})();function h(L){var O;return null!==(O=L??U.v.Promise)&&void 0!==O?O:Promise}},7579:(oe,N,l)=>{l.d(N,{x:()=>U});var b=l(8306),c=l(727);const x=(0,l(3888).d)(P=>function(){P(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var F=l(8737),M=l(2806);let U=(()=>{class P extends b.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(h){const R=new T(this,this);return R.operator=h,R}_throwIfClosed(){if(this.closed)throw new x}next(h){(0,M.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const R=this.observers.slice();for(const D of R)D.next(h)}})}error(h){(0,M.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=h;const{observers:R}=this;for(;R.length;)R.shift().error(h)}})}complete(){(0,M.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:h}=this;for(;h.length;)h.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var h;return(null===(h=this.observers)||void 0===h?void 0:h.length)>0}_trySubscribe(h){return this._throwIfClosed(),super._trySubscribe(h)}_subscribe(h){return this._throwIfClosed(),this._checkFinalizedStatuses(h),this._innerSubscribe(h)}_innerSubscribe(h){const{hasError:R,isStopped:D,observers:L}=this;return R||D?c.Lc:(L.push(h),new c.w0(()=>(0,F.P)(L,h)))}_checkFinalizedStatuses(h){const{hasError:R,thrownError:D,isStopped:L}=this;R?h.error(D):L&&h.complete()}asObservable(){const h=new b.y;return h.source=this,h}}return P.create=(E,h)=>new T(E,h),P})();class T extends U{constructor(E,h){super(),this.destination=E,this.source=h}next(E){var h,R;null===(R=null===(h=this.destination)||void 0===h?void 0:h.next)||void 0===R||R.call(h,E)}error(E){var h,R;null===(R=null===(h=this.destination)||void 0===h?void 0:h.error)||void 0===R||R.call(h,E)}complete(){var E,h;null===(h=null===(E=this.destination)||void 0===E?void 0:E.complete)||void 0===h||h.call(E)}_subscribe(E){var h,R;return null!==(R=null===(h=this.source)||void 0===h?void 0:h.subscribe(E))&&void 0!==R?R:c.Lc}}},930:(oe,N,l)=>{l.d(N,{Hp:()=>D,Lv:()=>R});var b=l(576),c=l(727),I=l(2416),x=l(7849),F=l(5032);const M=P("C",void 0,void 0);function P(u,o,m){return{kind:u,value:o,error:m}}var E=l(3410),h=l(2806);class R extends c.w0{constructor(o){super(),this.isStopped=!1,o?(this.destination=o,(0,c.Nn)(o)&&o.add(this)):this.destination=y}static create(o,m,p){return new D(o,m,p)}next(o){this.isStopped?w(P("N",o,void 0),this):this._next(o)}error(o){this.isStopped?w(P("E",void 0,o),this):(this.isStopped=!0,this._error(o))}complete(){this.isStopped?w(M,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(o){this.destination.next(o)}_error(o){try{this.destination.error(o)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class D extends R{constructor(o,m,p){let q;if(super(),(0,b.m)(o))q=o;else if(o){let de;({next:q,error:m,complete:p}=o),this&&I.v.useDeprecatedNextContext?(de=Object.create(o),de.unsubscribe=()=>this.unsubscribe()):de=o,q=null==q?void 0:q.bind(de),m=null==m?void 0:m.bind(de),p=null==p?void 0:p.bind(de)}this.destination={next:q?L(q):F.Z,error:L(m??O),complete:p?L(p):F.Z}}}function L(u,o){return(...m)=>{try{u(...m)}catch(p){I.v.useDeprecatedSynchronousErrorHandling?(0,h.O)(p):(0,x.h)(p)}}}function O(u){throw u}function w(u,o){const{onStoppedNotification:m}=I.v;m&&E.z.setTimeout(()=>m(u,o))}const y={closed:!0,next:F.Z,error:O,complete:F.Z}},727:(oe,N,l)=>{l.d(N,{Lc:()=>M,w0:()=>F,Nn:()=>U});var b=l(576);const I=(0,l(3888).d)(P=>function(h){P(this),this.message=h?`${h.length} errors occurred during unsubscription:\n${h.map((R,D)=>`${D+1}) ${R.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=h});var x=l(8737);class F{constructor(E){this.initialTeardown=E,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let E;if(!this.closed){this.closed=!0;const{_parentage:h}=this;if(h)if(this._parentage=null,Array.isArray(h))for(const L of h)L.remove(this);else h.remove(this);const{initialTeardown:R}=this;if((0,b.m)(R))try{R()}catch(L){E=L instanceof I?L.errors:[L]}const{_teardowns:D}=this;if(D){this._teardowns=null;for(const L of D)try{T(L)}catch(O){E=E??[],O instanceof I?E=[...E,...O.errors]:E.push(O)}}if(E)throw new I(E)}}add(E){var h;if(E&&E!==this)if(this.closed)T(E);else{if(E instanceof F){if(E.closed||E._hasParent(this))return;E._addParent(this)}(this._teardowns=null!==(h=this._teardowns)&&void 0!==h?h:[]).push(E)}}_hasParent(E){const{_parentage:h}=this;return h===E||Array.isArray(h)&&h.includes(E)}_addParent(E){const{_parentage:h}=this;this._parentage=Array.isArray(h)?(h.push(E),h):h?[h,E]:E}_removeParent(E){const{_parentage:h}=this;h===E?this._parentage=null:Array.isArray(h)&&(0,x.P)(h,E)}remove(E){const{_teardowns:h}=this;h&&(0,x.P)(h,E),E instanceof F&&E._removeParent(this)}}F.EMPTY=(()=>{const P=new F;return P.closed=!0,P})();const M=F.EMPTY;function U(P){return P instanceof F||P&&"closed"in P&&(0,b.m)(P.remove)&&(0,b.m)(P.add)&&(0,b.m)(P.unsubscribe)}function T(P){(0,b.m)(P)?P():P.unsubscribe()}},2416:(oe,N,l)=>{l.d(N,{v:()=>b});const b={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3905:(oe,N,l)=>{l.d(N,{z:()=>I});var b=l(6805),c=l(930);function I(x,F){const M="object"==typeof F;return new Promise((U,T)=>{const P=new c.Hp({next:E=>{U(E),P.unsubscribe()},error:T,complete:()=>{M?U(F.defaultValue):T(new b.K)}});x.subscribe(P)})}},9841:(oe,N,l)=>{l.d(N,{a:()=>E});var b=l(8306),c=l(4742),I=l(2076),x=l(4671),F=l(3268),M=l(3269),U=l(1810),T=l(5403),P=l(9672);function E(...D){const L=(0,M.yG)(D),O=(0,M.jO)(D),{args:w,keys:y}=(0,c.D)(D);if(0===w.length)return(0,I.D)([],L);const u=new b.y(function(D,L,O=x.y){return w=>{R(L,()=>{const{length:y}=D,u=new Array(y);let o=y,m=y;for(let p=0;p<y;p++)R(L,()=>{const q=(0,I.D)(D[p],L);let de=!1;q.subscribe(new T.Q(w,Ce=>{u[p]=Ce,de||(de=!0,m--),m||w.next(O(u.slice()))},()=>{--o||w.complete()}))},w)},w)}}(w,L,y?o=>(0,U.n)(y,o):x.y));return O?u.pipe((0,F.Z)(O)):u}function R(D,L,O){D?(0,P.f)(O,D,L):L()}},7272:(oe,N,l)=>{l.d(N,{z:()=>F});var b=l(8189),I=l(3269),x=l(2076);function F(...M){return(0,b.J)(1)((0,x.D)(M,(0,I.yG)(M)))}},9770:(oe,N,l)=>{l.d(N,{P:()=>I});var b=l(8306),c=l(8421);function I(x){return new b.y(F=>{(0,c.Xf)(x()).subscribe(F)})}},515:(oe,N,l)=>{l.d(N,{E:()=>c});const c=new(l(8306).y)(F=>F.complete())},4128:(oe,N,l)=>{l.d(N,{D:()=>T});var b=l(8306),c=l(4742),I=l(8421),x=l(3269),F=l(5403),M=l(3268),U=l(1810);function T(...P){const E=(0,x.jO)(P),{args:h,keys:R}=(0,c.D)(P),D=new b.y(L=>{const{length:O}=h;if(!O)return void L.complete();const w=new Array(O);let y=O,u=O;for(let o=0;o<O;o++){let m=!1;(0,I.Xf)(h[o]).subscribe(new F.Q(L,p=>{m||(m=!0,u--),w[o]=p},()=>y--,void 0,()=>{(!y||!m)&&(u||L.next(R?(0,U.n)(R,w):w),L.complete())}))}});return E?D.pipe((0,M.Z)(E)):D}},2076:(oe,N,l)=>{l.d(N,{D:()=>Ce});var b=l(8421),c=l(9672),I=l(4482),x=l(5403);function F(ye,pe=0){return(0,I.e)((Q,z)=>{Q.subscribe(new x.Q(z,Y=>(0,c.f)(z,ye,()=>z.next(Y),pe),()=>(0,c.f)(z,ye,()=>z.complete(),pe),Y=>(0,c.f)(z,ye,()=>z.error(Y),pe)))})}function M(ye,pe=0){return(0,I.e)((Q,z)=>{z.add(ye.schedule(()=>Q.subscribe(z),pe))})}var P=l(8306),h=l(2202),R=l(576);function L(ye,pe){if(!ye)throw new Error("Iterable cannot be null");return new P.y(Q=>{(0,c.f)(Q,pe,()=>{const z=ye[Symbol.asyncIterator]();(0,c.f)(Q,pe,()=>{z.next().then(Y=>{Y.done?Q.complete():Q.next(Y.value)})},0,!0)})})}var O=l(3670),w=l(8239),y=l(1144),u=l(6495),o=l(2206),m=l(4532),p=l(3260);function Ce(ye,pe){return pe?function(ye,pe){if(null!=ye){if((0,O.c)(ye))return function(ye,pe){return(0,b.Xf)(ye).pipe(M(pe),F(pe))}(ye,pe);if((0,y.z)(ye))return function(ye,pe){return new P.y(Q=>{let z=0;return pe.schedule(function(){z===ye.length?Q.complete():(Q.next(ye[z++]),Q.closed||this.schedule())})})}(ye,pe);if((0,w.t)(ye))return function(ye,pe){return(0,b.Xf)(ye).pipe(M(pe),F(pe))}(ye,pe);if((0,o.D)(ye))return L(ye,pe);if((0,u.T)(ye))return function(ye,pe){return new P.y(Q=>{let z;return(0,c.f)(Q,pe,()=>{z=ye[h.h](),(0,c.f)(Q,pe,()=>{let Y,H;try{({value:Y,done:H}=z.next())}catch(J){return void Q.error(J)}H?Q.complete():Q.next(Y)},0,!0)}),()=>(0,R.m)(null==z?void 0:z.return)&&z.return()})}(ye,pe);if((0,p.L)(ye))return function(ye,pe){return L((0,p.Q)(ye),pe)}(ye,pe)}throw(0,m.z)(ye)}(ye,pe):(0,b.Xf)(ye)}},4968:(oe,N,l)=>{l.d(N,{R:()=>E});var b=l(8421),c=l(8306),I=l(5577),x=l(1144),F=l(576),M=l(3268);const U=["addListener","removeListener"],T=["addEventListener","removeEventListener"],P=["on","off"];function E(O,w,y,u){if((0,F.m)(y)&&(u=y,y=void 0),u)return E(O,w,y).pipe((0,M.Z)(u));const[o,m]=function(O){return(0,F.m)(O.addEventListener)&&(0,F.m)(O.removeEventListener)}(O)?T.map(p=>q=>O[p](w,q,y)):function(O){return(0,F.m)(O.addListener)&&(0,F.m)(O.removeListener)}(O)?U.map(h(O,w)):function(O){return(0,F.m)(O.on)&&(0,F.m)(O.off)}(O)?P.map(h(O,w)):[];if(!o&&(0,x.z)(O))return(0,I.z)(p=>E(p,w,y))((0,b.Xf)(O));if(!o)throw new TypeError("Invalid event target");return new c.y(p=>{const q=(...de)=>p.next(1<de.length?de:de[0]);return o(q),()=>m(q)})}function h(O,w){return y=>u=>O[y](w,u)}},8421:(oe,N,l)=>{l.d(N,{Xf:()=>D});var b=l(655),c=l(1144),I=l(8239),x=l(8306),F=l(3670),M=l(2206),U=l(4532),T=l(6495),P=l(3260),E=l(576),h=l(7849),R=l(8822);function D(p){if(p instanceof x.y)return p;if(null!=p){if((0,F.c)(p))return function(p){return new x.y(q=>{const de=p[R.L]();if((0,E.m)(de.subscribe))return de.subscribe(q);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(p);if((0,c.z)(p))return function(p){return new x.y(q=>{for(let de=0;de<p.length&&!q.closed;de++)q.next(p[de]);q.complete()})}(p);if((0,I.t)(p))return function(p){return new x.y(q=>{p.then(de=>{q.closed||(q.next(de),q.complete())},de=>q.error(de)).then(null,h.h)})}(p);if((0,M.D)(p))return u(p);if((0,T.T)(p))return function(p){return new x.y(q=>{for(const de of p)if(q.next(de),q.closed)return;q.complete()})}(p);if((0,P.L)(p))return function(p){return u((0,P.Q)(p))}(p)}throw(0,U.z)(p)}function u(p){return new x.y(q=>{(function(p,q){var de,Ce,ye,pe;return(0,b.mG)(this,void 0,void 0,function*(){try{for(de=(0,b.KL)(p);!(Ce=yield de.next()).done;)if(q.next(Ce.value),q.closed)return}catch(Q){ye={error:Q}}finally{try{Ce&&!Ce.done&&(pe=de.return)&&(yield pe.call(de))}finally{if(ye)throw ye.error}}q.complete()})})(p,q).catch(de=>q.error(de))})}},6451:(oe,N,l)=>{l.d(N,{T:()=>M});var b=l(8189),c=l(8421),I=l(515),x=l(3269),F=l(2076);function M(...U){const T=(0,x.yG)(U),P=(0,x._6)(U,1/0),E=U;return E.length?1===E.length?(0,c.Xf)(E[0]):(0,b.J)(P)((0,F.D)(E,T)):I.E}},9646:(oe,N,l)=>{l.d(N,{of:()=>I});var b=l(3269),c=l(2076);function I(...x){const F=(0,b.yG)(x);return(0,c.D)(x,F)}},2843:(oe,N,l)=>{l.d(N,{_:()=>I});var b=l(8306),c=l(576);function I(x,F){const M=(0,c.m)(x)?x:()=>x,U=T=>T.error(M());return new b.y(F?T=>F.schedule(U,0,T):U)}},5963:(oe,N,l)=>{l.d(N,{H:()=>F});var b=l(8306),c=l(4986),I=l(3532);function F(M=0,U,T=c.P){let P=-1;return null!=U&&((0,I.K)(U)?T=U:P=U),new b.y(E=>{let h=function(M){return M instanceof Date&&!isNaN(M)}(M)?+M-T.now():M;h<0&&(h=0);let R=0;return T.schedule(function(){E.closed||(E.next(R++),0<=P?this.schedule(void 0,P):E.complete())},h)})}},5403:(oe,N,l)=>{l.d(N,{Q:()=>c});var b=l(930);class c extends b.Lv{constructor(x,F,M,U,T){super(x),this.onFinalize=T,this._next=F?function(P){try{F(P)}catch(E){x.error(E)}}:super._next,this._error=U?function(P){try{U(P)}catch(E){x.error(E)}finally{this.unsubscribe()}}:super._error,this._complete=M?function(){try{M()}catch(P){x.error(P)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var x;const{closed:F}=this;super.unsubscribe(),!F&&(null===(x=this.onFinalize)||void 0===x||x.call(this))}}},3601:(oe,N,l)=>{l.d(N,{e:()=>U});var b=l(4986),c=l(4482),I=l(8421),x=l(5403),M=l(5963);function U(T,P=b.P){return function(T){return(0,c.e)((P,E)=>{let h=!1,R=null,D=null,L=!1;const O=()=>{if(null==D||D.unsubscribe(),D=null,h){h=!1;const y=R;R=null,E.next(y)}L&&E.complete()},w=()=>{D=null,L&&E.complete()};P.subscribe(new x.Q(E,y=>{h=!0,R=y,D||(0,I.Xf)(T()).subscribe(D=new x.Q(E,O,w))},()=>{L=!0,(!h||!D||D.closed)&&E.complete()}))})}(()=>(0,M.H)(T,P))}},262:(oe,N,l)=>{l.d(N,{K:()=>x});var b=l(8421),c=l(5403),I=l(4482);function x(F){return(0,I.e)((M,U)=>{let E,T=null,P=!1;T=M.subscribe(new c.Q(U,void 0,void 0,h=>{E=(0,b.Xf)(F(h,x(F)(M))),T?(T.unsubscribe(),T=null,E.subscribe(U)):P=!0})),P&&(T.unsubscribe(),T=null,E.subscribe(U))})}},1884:(oe,N,l)=>{l.d(N,{x:()=>x});var b=l(4671),c=l(4482),I=l(5403);function x(M,U=b.y){return M=M??F,(0,c.e)((T,P)=>{let E,h=!0;T.subscribe(new I.Q(P,R=>{const D=U(R);(h||!M(E,D))&&(h=!1,E=D,P.next(R))}))})}function F(M,U){return M===U}},9300:(oe,N,l)=>{l.d(N,{h:()=>I});var b=l(4482),c=l(5403);function I(x,F){return(0,b.e)((M,U)=>{let T=0;M.subscribe(new c.Q(U,P=>x.call(F,P,T++)&&U.next(P)))})}},8746:(oe,N,l)=>{l.d(N,{x:()=>c});var b=l(4482);function c(I){return(0,b.e)((x,F)=>{try{x.subscribe(F)}finally{F.add(I)}})}},4004:(oe,N,l)=>{l.d(N,{U:()=>I});var b=l(4482),c=l(5403);function I(x,F){return(0,b.e)((M,U)=>{let T=0;M.subscribe(new c.Q(U,P=>{U.next(x.call(F,P,T++))}))})}},8189:(oe,N,l)=>{l.d(N,{J:()=>I});var b=l(5577),c=l(4671);function I(x=1/0){return(0,b.z)(c.y,x)}},5577:(oe,N,l)=>{l.d(N,{z:()=>T});var b=l(4004),c=l(8421),I=l(4482),F=(l(9672),l(5403)),U=l(576);function T(P,E,h=1/0){return(0,U.m)(E)?T((R,D)=>(0,b.U)((L,O)=>E(R,L,D,O))((0,c.Xf)(P(R,D))),h):("number"==typeof E&&(h=E),(0,I.e)((R,D)=>function(P,E,h,R,D,L,O,w){const y=[];let u=0,o=0,m=!1;const p=()=>{m&&!y.length&&!u&&E.complete()},q=Ce=>u<R?de(Ce):y.push(Ce),de=Ce=>{u++;let ye=!1;(0,c.Xf)(h(Ce,o++)).subscribe(new F.Q(E,pe=>{E.next(pe)},()=>{ye=!0},void 0,()=>{if(ye)try{for(u--;y.length&&u<R;){const pe=y.shift();de(pe)}p()}catch(pe){E.error(pe)}}))};return P.subscribe(new F.Q(E,q,()=>{m=!0,p()})),()=>{}}(R,D,P,h)))}},3099:(oe,N,l)=>{l.d(N,{B:()=>M});var b=l(2076),c=l(5698),I=l(7579),x=l(930),F=l(4482);function M(T={}){const{connector:P=(()=>new I.x),resetOnError:E=!0,resetOnComplete:h=!0,resetOnRefCountZero:R=!0}=T;return D=>{let L=null,O=null,w=null,y=0,u=!1,o=!1;const m=()=>{null==O||O.unsubscribe(),O=null},p=()=>{m(),L=w=null,u=o=!1},q=()=>{const de=L;p(),null==de||de.unsubscribe()};return(0,F.e)((de,Ce)=>{y++,!o&&!u&&m();const ye=w=w??P();Ce.add(()=>{y--,0===y&&!o&&!u&&(O=U(q,R))}),ye.subscribe(Ce),L||(L=new x.Hp({next:pe=>ye.next(pe),error:pe=>{o=!0,m(),O=U(p,E,pe),ye.error(pe)},complete:()=>{u=!0,m(),O=U(p,h),ye.complete()}}),(0,b.D)(de).subscribe(L))})(D)}}function U(T,P,...E){return!0===P?(T(),null):!1===P?null:P(...E).pipe((0,c.q)(1)).subscribe(()=>T())}},8675:(oe,N,l)=>{l.d(N,{O:()=>x});var b=l(7272),c=l(3269),I=l(4482);function x(...F){const M=(0,c.yG)(F);return(0,I.e)((U,T)=>{(M?(0,b.z)(F,U,M):(0,b.z)(F,U)).subscribe(T)})}},3900:(oe,N,l)=>{l.d(N,{w:()=>x});var b=l(8421),c=l(4482),I=l(5403);function x(F,M){return(0,c.e)((U,T)=>{let P=null,E=0,h=!1;const R=()=>h&&!P&&T.complete();U.subscribe(new I.Q(T,D=>{null==P||P.unsubscribe();let L=0;const O=E++;(0,b.Xf)(F(D,O)).subscribe(P=new I.Q(T,w=>T.next(M?M(D,w,O,L++):w),()=>{P=null,R()}))},()=>{h=!0,R()}))})}},5698:(oe,N,l)=>{l.d(N,{q:()=>x});var b=l(515),c=l(4482),I=l(5403);function x(F){return F<=0?()=>b.E:(0,c.e)((M,U)=>{let T=0;M.subscribe(new I.Q(U,P=>{++T<=F&&(U.next(P),F<=T&&U.complete())}))})}},2722:(oe,N,l)=>{l.d(N,{R:()=>F});var b=l(4482),c=l(5403),I=l(8421),x=l(5032);function F(M){return(0,b.e)((U,T)=>{(0,I.Xf)(M).subscribe(new c.Q(T,()=>T.complete(),x.Z)),!T.closed&&U.subscribe(T)})}},8505:(oe,N,l)=>{l.d(N,{b:()=>F});var b=l(576),c=l(4482),I=l(5403),x=l(4671);function F(M,U,T){const P=(0,b.m)(M)||U||T?{next:M,error:U,complete:T}:M;return P?(0,c.e)((E,h)=>{var R;null===(R=P.subscribe)||void 0===R||R.call(P);let D=!0;E.subscribe(new I.Q(h,L=>{var O;null===(O=P.next)||void 0===O||O.call(P,L),h.next(L)},()=>{var L;D=!1,null===(L=P.complete)||void 0===L||L.call(P),h.complete()},L=>{var O;D=!1,null===(O=P.error)||void 0===O||O.call(P,L),h.error(L)},()=>{var L,O;D&&(null===(L=P.unsubscribe)||void 0===L||L.call(P)),null===(O=P.finalize)||void 0===O||O.call(P)}))}):x.y}},4408:(oe,N,l)=>{l.d(N,{o:()=>F});var b=l(727);class c extends b.w0{constructor(U,T){super()}schedule(U,T=0){return this}}const I={setInterval(...M){const{delegate:U}=I;return((null==U?void 0:U.setInterval)||setInterval)(...M)},clearInterval(M){const{delegate:U}=I;return((null==U?void 0:U.clearInterval)||clearInterval)(M)},delegate:void 0};var x=l(8737);class F extends c{constructor(U,T){super(U,T),this.scheduler=U,this.work=T,this.pending=!1}schedule(U,T=0){if(this.closed)return this;this.state=U;const P=this.id,E=this.scheduler;return null!=P&&(this.id=this.recycleAsyncId(E,P,T)),this.pending=!0,this.delay=T,this.id=this.id||this.requestAsyncId(E,this.id,T),this}requestAsyncId(U,T,P=0){return I.setInterval(U.flush.bind(U,this),P)}recycleAsyncId(U,T,P=0){if(null!=P&&this.delay===P&&!1===this.pending)return T;I.clearInterval(T)}execute(U,T){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const P=this._execute(U,T);if(P)return P;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(U,T){let E,P=!1;try{this.work(U)}catch(h){P=!0,E=h||new Error("Scheduled action threw falsy error")}if(P)return this.unsubscribe(),E}unsubscribe(){if(!this.closed){const{id:U,scheduler:T}=this,{actions:P}=T;this.work=this.state=this.scheduler=null,this.pending=!1,(0,x.P)(P,this),null!=U&&(this.id=this.recycleAsyncId(T,U,null)),this.delay=null,super.unsubscribe()}}}},7565:(oe,N,l)=>{l.d(N,{v:()=>I});var b=l(6063);class c{constructor(F,M=c.now){this.schedulerActionCtor=F,this.now=M}schedule(F,M=0,U){return new this.schedulerActionCtor(this,F).schedule(U,M)}}c.now=b.l.now;class I extends c{constructor(F,M=c.now){super(F,M),this.actions=[],this._active=!1,this._scheduled=void 0}flush(F){const{actions:M}=this;if(this._active)return void M.push(F);let U;this._active=!0;do{if(U=F.execute(F.state,F.delay))break}while(F=M.shift());if(this._active=!1,U){for(;F=M.shift();)F.unsubscribe();throw U}}}},6406:(oe,N,l)=>{l.d(N,{Z:()=>U});var b=l(4408),c=l(727);const I={schedule(P){let E=requestAnimationFrame,h=cancelAnimationFrame;const{delegate:R}=I;R&&(E=R.requestAnimationFrame,h=R.cancelAnimationFrame);const D=E(L=>{h=void 0,P(L)});return new c.w0(()=>null==h?void 0:h(D))},requestAnimationFrame(...P){const{delegate:E}=I;return((null==E?void 0:E.requestAnimationFrame)||requestAnimationFrame)(...P)},cancelAnimationFrame(...P){const{delegate:E}=I;return((null==E?void 0:E.cancelAnimationFrame)||cancelAnimationFrame)(...P)},delegate:void 0};var F=l(7565);const U=new class extends F.v{flush(E){this._active=!0;const h=this._scheduled;this._scheduled=void 0;const{actions:R}=this;let D;E=E||R.shift();do{if(D=E.execute(E.state,E.delay))break}while((E=R[0])&&E.id===h&&R.shift());if(this._active=!1,D){for(;(E=R[0])&&E.id===h&&R.shift();)E.unsubscribe();throw D}}}(class extends b.o{constructor(E,h){super(E,h),this.scheduler=E,this.work=h}requestAsyncId(E,h,R=0){return null!==R&&R>0?super.requestAsyncId(E,h,R):(E.actions.push(this),E._scheduled||(E._scheduled=I.requestAnimationFrame(()=>E.flush(void 0))))}recycleAsyncId(E,h,R=0){if(null!=R&&R>0||null==R&&this.delay>0)return super.recycleAsyncId(E,h,R);E.actions.some(D=>D.id===h)||(I.cancelAnimationFrame(h),E._scheduled=void 0)}})},3101:(oe,N,l)=>{l.d(N,{E:()=>L});var b=l(4408);let I,c=1;const x={};function F(w){return w in x&&(delete x[w],!0)}const M={setImmediate(w){const y=c++;return x[y]=!0,I||(I=Promise.resolve()),I.then(()=>F(y)&&w()),y},clearImmediate(w){F(w)}},{setImmediate:T,clearImmediate:P}=M,E={setImmediate(...w){const{delegate:y}=E;return((null==y?void 0:y.setImmediate)||T)(...w)},clearImmediate(w){const{delegate:y}=E;return((null==y?void 0:y.clearImmediate)||P)(w)},delegate:void 0};var R=l(7565);const L=new class extends R.v{flush(y){this._active=!0;const u=this._scheduled;this._scheduled=void 0;const{actions:o}=this;let m;y=y||o.shift();do{if(m=y.execute(y.state,y.delay))break}while((y=o[0])&&y.id===u&&o.shift());if(this._active=!1,m){for(;(y=o[0])&&y.id===u&&o.shift();)y.unsubscribe();throw m}}}(class extends b.o{constructor(y,u){super(y,u),this.scheduler=y,this.work=u}requestAsyncId(y,u,o=0){return null!==o&&o>0?super.requestAsyncId(y,u,o):(y.actions.push(this),y._scheduled||(y._scheduled=E.setImmediate(y.flush.bind(y,void 0))))}recycleAsyncId(y,u,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(y,u,o);y.actions.some(m=>m.id===u)||(E.clearImmediate(u),y._scheduled=void 0)}})},4986:(oe,N,l)=>{l.d(N,{z:()=>I,P:()=>x});var b=l(4408);const I=new(l(7565).v)(b.o),x=I},6063:(oe,N,l)=>{l.d(N,{l:()=>b});const b={now:()=>(b.delegate||Date).now(),delegate:void 0}},3410:(oe,N,l)=>{l.d(N,{z:()=>b});const b={setTimeout(...c){const{delegate:I}=b;return((null==I?void 0:I.setTimeout)||setTimeout)(...c)},clearTimeout(c){const{delegate:I}=b;return((null==I?void 0:I.clearTimeout)||clearTimeout)(c)},delegate:void 0}},2202:(oe,N,l)=>{l.d(N,{h:()=>c});const c="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},8822:(oe,N,l)=>{l.d(N,{L:()=>b});const b="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(oe,N,l)=>{l.d(N,{K:()=>c});const c=(0,l(3888).d)(I=>function(){I(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(oe,N,l)=>{l.d(N,{jO:()=>x,yG:()=>F,_6:()=>M});var b=l(576),c=l(3532);function I(U){return U[U.length-1]}function x(U){return(0,b.m)(I(U))?U.pop():void 0}function F(U){return(0,c.K)(I(U))?U.pop():void 0}function M(U,T){return"number"==typeof I(U)?U.pop():T}},4742:(oe,N,l)=>{l.d(N,{D:()=>F});const{isArray:b}=Array,{getPrototypeOf:c,prototype:I,keys:x}=Object;function F(U){if(1===U.length){const T=U[0];if(b(T))return{args:T,keys:null};if(function(U){return U&&"object"==typeof U&&c(U)===I}(T)){const P=x(T);return{args:P.map(E=>T[E]),keys:P}}}return{args:U,keys:null}}},8737:(oe,N,l)=>{function b(c,I){if(c){const x=c.indexOf(I);0<=x&&c.splice(x,1)}}l.d(N,{P:()=>b})},3888:(oe,N,l)=>{function b(c){const x=c(F=>{Error.call(F),F.stack=(new Error).stack});return x.prototype=Object.create(Error.prototype),x.prototype.constructor=x,x}l.d(N,{d:()=>b})},1810:(oe,N,l)=>{function b(c,I){return c.reduce((x,F,M)=>(x[F]=I[M],x),{})}l.d(N,{n:()=>b})},2806:(oe,N,l)=>{l.d(N,{x:()=>I,O:()=>x});var b=l(2416);let c=null;function I(F){if(b.v.useDeprecatedSynchronousErrorHandling){const M=!c;if(M&&(c={errorThrown:!1,error:null}),F(),M){const{errorThrown:U,error:T}=c;if(c=null,U)throw T}}else F()}function x(F){b.v.useDeprecatedSynchronousErrorHandling&&c&&(c.errorThrown=!0,c.error=F)}},9672:(oe,N,l)=>{function b(c,I,x,F=0,M=!1){const U=I.schedule(function(){x(),M?c.add(this.schedule(null,F)):this.unsubscribe()},F);if(c.add(U),!M)return U}l.d(N,{f:()=>b})},4671:(oe,N,l)=>{function b(c){return c}l.d(N,{y:()=>b})},1144:(oe,N,l)=>{l.d(N,{z:()=>b});const b=c=>c&&"number"==typeof c.length&&"function"!=typeof c},2206:(oe,N,l)=>{l.d(N,{D:()=>c});var b=l(576);function c(I){return Symbol.asyncIterator&&(0,b.m)(null==I?void 0:I[Symbol.asyncIterator])}},576:(oe,N,l)=>{function b(c){return"function"==typeof c}l.d(N,{m:()=>b})},3670:(oe,N,l)=>{l.d(N,{c:()=>I});var b=l(8822),c=l(576);function I(x){return(0,c.m)(x[b.L])}},6495:(oe,N,l)=>{l.d(N,{T:()=>I});var b=l(2202),c=l(576);function I(x){return(0,c.m)(null==x?void 0:x[b.h])}},8239:(oe,N,l)=>{l.d(N,{t:()=>c});var b=l(576);function c(I){return(0,b.m)(null==I?void 0:I.then)}},3260:(oe,N,l)=>{l.d(N,{Q:()=>I,L:()=>x});var b=l(655),c=l(576);function I(F){return(0,b.FC)(this,arguments,function*(){const U=F.getReader();try{for(;;){const{value:T,done:P}=yield(0,b.qq)(U.read());if(P)return yield(0,b.qq)(void 0);yield yield(0,b.qq)(T)}}finally{U.releaseLock()}})}function x(F){return(0,c.m)(null==F?void 0:F.getReader)}},3532:(oe,N,l)=>{l.d(N,{K:()=>c});var b=l(576);function c(I){return I&&(0,b.m)(I.schedule)}},4482:(oe,N,l)=>{l.d(N,{A:()=>c,e:()=>I});var b=l(576);function c(x){return(0,b.m)(null==x?void 0:x.lift)}function I(x){return F=>{if(c(F))return F.lift(function(M){try{return x(M,this)}catch(U){this.error(U)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(oe,N,l)=>{l.d(N,{Z:()=>x});var b=l(4004);const{isArray:c}=Array;function x(F){return(0,b.U)(M=>function(F,M){return c(M)?F(...M):F(M)}(F,M))}},5032:(oe,N,l)=>{function b(){}l.d(N,{Z:()=>b})},7849:(oe,N,l)=>{l.d(N,{h:()=>I});var b=l(2416),c=l(3410);function I(x){c.z.setTimeout(()=>{const{onUnhandledError:F}=b.v;if(!F)throw x;F(x)})}},4532:(oe,N,l)=>{function b(c){return new TypeError(`You provided ${null!==c&&"object"==typeof c?"an invalid object":`'${c}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}l.d(N,{z:()=>b})},1452:oe=>{oe.exports=function(N){"use strict";var b=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function I(w,y){var u=w[0],o=w[1],m=w[2],p=w[3];o=((o+=((m=((m+=((p=((p+=((u=((u+=(o&m|~o&p)+y[0]-680876936|0)<<7|u>>>25)+o|0)&o|~u&m)+y[1]-389564586|0)<<12|p>>>20)+u|0)&u|~p&o)+y[2]+606105819|0)<<17|m>>>15)+p|0)&p|~m&u)+y[3]-1044525330|0)<<22|o>>>10)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o&m|~o&p)+y[4]-176418897|0)<<7|u>>>25)+o|0)&o|~u&m)+y[5]+1200080426|0)<<12|p>>>20)+u|0)&u|~p&o)+y[6]-1473231341|0)<<17|m>>>15)+p|0)&p|~m&u)+y[7]-45705983|0)<<22|o>>>10)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o&m|~o&p)+y[8]+1770035416|0)<<7|u>>>25)+o|0)&o|~u&m)+y[9]-1958414417|0)<<12|p>>>20)+u|0)&u|~p&o)+y[10]-42063|0)<<17|m>>>15)+p|0)&p|~m&u)+y[11]-1990404162|0)<<22|o>>>10)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o&m|~o&p)+y[12]+1804603682|0)<<7|u>>>25)+o|0)&o|~u&m)+y[13]-40341101|0)<<12|p>>>20)+u|0)&u|~p&o)+y[14]-1502002290|0)<<17|m>>>15)+p|0)&p|~m&u)+y[15]+1236535329|0)<<22|o>>>10)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o&p|m&~p)+y[1]-165796510|0)<<5|u>>>27)+o|0)&m|o&~m)+y[6]-1069501632|0)<<9|p>>>23)+u|0)&o|u&~o)+y[11]+643717713|0)<<14|m>>>18)+p|0)&u|p&~u)+y[0]-373897302|0)<<20|o>>>12)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o&p|m&~p)+y[5]-701558691|0)<<5|u>>>27)+o|0)&m|o&~m)+y[10]+38016083|0)<<9|p>>>23)+u|0)&o|u&~o)+y[15]-660478335|0)<<14|m>>>18)+p|0)&u|p&~u)+y[4]-405537848|0)<<20|o>>>12)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o&p|m&~p)+y[9]+568446438|0)<<5|u>>>27)+o|0)&m|o&~m)+y[14]-1019803690|0)<<9|p>>>23)+u|0)&o|u&~o)+y[3]-187363961|0)<<14|m>>>18)+p|0)&u|p&~u)+y[8]+1163531501|0)<<20|o>>>12)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o&p|m&~p)+y[13]-1444681467|0)<<5|u>>>27)+o|0)&m|o&~m)+y[2]-51403784|0)<<9|p>>>23)+u|0)&o|u&~o)+y[7]+1735328473|0)<<14|m>>>18)+p|0)&u|p&~u)+y[12]-1926607734|0)<<20|o>>>12)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o^m^p)+y[5]-378558|0)<<4|u>>>28)+o|0)^o^m)+y[8]-2022574463|0)<<11|p>>>21)+u|0)^u^o)+y[11]+1839030562|0)<<16|m>>>16)+p|0)^p^u)+y[14]-35309556|0)<<23|o>>>9)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o^m^p)+y[1]-1530992060|0)<<4|u>>>28)+o|0)^o^m)+y[4]+1272893353|0)<<11|p>>>21)+u|0)^u^o)+y[7]-155497632|0)<<16|m>>>16)+p|0)^p^u)+y[10]-1094730640|0)<<23|o>>>9)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o^m^p)+y[13]+681279174|0)<<4|u>>>28)+o|0)^o^m)+y[0]-358537222|0)<<11|p>>>21)+u|0)^u^o)+y[3]-722521979|0)<<16|m>>>16)+p|0)^p^u)+y[6]+76029189|0)<<23|o>>>9)+m|0,o=((o+=((m=((m+=((p=((p+=((u=((u+=(o^m^p)+y[9]-640364487|0)<<4|u>>>28)+o|0)^o^m)+y[12]-421815835|0)<<11|p>>>21)+u|0)^u^o)+y[15]+530742520|0)<<16|m>>>16)+p|0)^p^u)+y[2]-995338651|0)<<23|o>>>9)+m|0,o=((o+=((p=((p+=(o^((u=((u+=(m^(o|~p))+y[0]-198630844|0)<<6|u>>>26)+o|0)|~m))+y[7]+1126891415|0)<<10|p>>>22)+u|0)^((m=((m+=(u^(p|~o))+y[14]-1416354905|0)<<15|m>>>17)+p|0)|~u))+y[5]-57434055|0)<<21|o>>>11)+m|0,o=((o+=((p=((p+=(o^((u=((u+=(m^(o|~p))+y[12]+1700485571|0)<<6|u>>>26)+o|0)|~m))+y[3]-1894986606|0)<<10|p>>>22)+u|0)^((m=((m+=(u^(p|~o))+y[10]-1051523|0)<<15|m>>>17)+p|0)|~u))+y[1]-2054922799|0)<<21|o>>>11)+m|0,o=((o+=((p=((p+=(o^((u=((u+=(m^(o|~p))+y[8]+1873313359|0)<<6|u>>>26)+o|0)|~m))+y[15]-30611744|0)<<10|p>>>22)+u|0)^((m=((m+=(u^(p|~o))+y[6]-1560198380|0)<<15|m>>>17)+p|0)|~u))+y[13]+1309151649|0)<<21|o>>>11)+m|0,o=((o+=((p=((p+=(o^((u=((u+=(m^(o|~p))+y[4]-145523070|0)<<6|u>>>26)+o|0)|~m))+y[11]-1120210379|0)<<10|p>>>22)+u|0)^((m=((m+=(u^(p|~o))+y[2]+718787259|0)<<15|m>>>17)+p|0)|~u))+y[9]-343485551|0)<<21|o>>>11)+m|0,w[0]=u+w[0]|0,w[1]=o+w[1]|0,w[2]=m+w[2]|0,w[3]=p+w[3]|0}function x(w){var u,y=[];for(u=0;u<64;u+=4)y[u>>2]=w.charCodeAt(u)+(w.charCodeAt(u+1)<<8)+(w.charCodeAt(u+2)<<16)+(w.charCodeAt(u+3)<<24);return y}function F(w){var u,y=[];for(u=0;u<64;u+=4)y[u>>2]=w[u]+(w[u+1]<<8)+(w[u+2]<<16)+(w[u+3]<<24);return y}function M(w){var o,m,p,q,de,Ce,y=w.length,u=[1732584193,-271733879,-1732584194,271733878];for(o=64;o<=y;o+=64)I(u,x(w.substring(o-64,o)));for(m=(w=w.substring(o-64)).length,p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<m;o+=1)p[o>>2]|=w.charCodeAt(o)<<(o%4<<3);if(p[o>>2]|=128<<(o%4<<3),o>55)for(I(u,p),o=0;o<16;o+=1)p[o]=0;return q=(q=8*y).toString(16).match(/(.*?)(.{0,8})$/),de=parseInt(q[2],16),Ce=parseInt(q[1],16)||0,p[14]=de,p[15]=Ce,I(u,p),u}function T(w){var u,y="";for(u=0;u<4;u+=1)y+=b[w>>8*u+4&15]+b[w>>8*u&15];return y}function P(w){var y;for(y=0;y<w.length;y+=1)w[y]=T(w[y]);return w.join("")}function E(w){return/[\u0080-\uFFFF]/.test(w)&&(w=unescape(encodeURIComponent(w))),w}function L(w){var o,y=[],u=w.length;for(o=0;o<u-1;o+=2)y.push(parseInt(w.substr(o,2),16));return String.fromCharCode.apply(String,y)}function O(){this.reset()}return P(M("hello")),"undefined"!=typeof ArrayBuffer&&!ArrayBuffer.prototype.slice&&function(){function w(y,u){return(y=0|y||0)<0?Math.max(y+u,0):Math.min(y,u)}ArrayBuffer.prototype.slice=function(y,u){var q,de,Ce,ye,o=this.byteLength,m=w(y,o),p=o;return undefined!==u&&(p=w(u,o)),m>p?new ArrayBuffer(0):(q=p-m,de=new ArrayBuffer(q),Ce=new Uint8Array(de),ye=new Uint8Array(this,m,q),Ce.set(ye),de)}}(),O.prototype.append=function(w){return this.appendBinary(E(w)),this},O.prototype.appendBinary=function(w){this._buff+=w,this._length+=w.length;var u,y=this._buff.length;for(u=64;u<=y;u+=64)I(this._hash,x(this._buff.substring(u-64,u)));return this._buff=this._buff.substring(u-64),this},O.prototype.end=function(w){var o,p,y=this._buff,u=y.length,m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(o=0;o<u;o+=1)m[o>>2]|=y.charCodeAt(o)<<(o%4<<3);return this._finish(m,u),p=P(this._hash),w&&(p=L(p)),this.reset(),p},O.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},O.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},O.prototype.setState=function(w){return this._buff=w.buff,this._length=w.length,this._hash=w.hash,this},O.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},O.prototype._finish=function(w,y){var o,m,p,u=y;if(w[u>>2]|=128<<(u%4<<3),u>55)for(I(this._hash,w),u=0;u<16;u+=1)w[u]=0;o=(o=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),m=parseInt(o[2],16),p=parseInt(o[1],16)||0,w[14]=m,w[15]=p,I(this._hash,w)},O.hash=function(w,y){return O.hashBinary(E(w),y)},O.hashBinary=function(w,y){var o=P(M(w));return y?L(o):o},(O.ArrayBuffer=function(){this.reset()}).prototype.append=function(w){var o,y=function(w,y,u){var o=new Uint8Array(w.byteLength+y.byteLength);return o.set(new Uint8Array(w)),o.set(new Uint8Array(y),w.byteLength),u?o:o.buffer}(this._buff.buffer,w,!0),u=y.length;for(this._length+=w.byteLength,o=64;o<=u;o+=64)I(this._hash,F(y.subarray(o-64,o)));return this._buff=o-64<u?new Uint8Array(y.buffer.slice(o-64)):new Uint8Array(0),this},O.ArrayBuffer.prototype.end=function(w){var m,p,y=this._buff,u=y.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(m=0;m<u;m+=1)o[m>>2]|=y[m]<<(m%4<<3);return this._finish(o,u),p=P(this._hash),w&&(p=L(p)),this.reset(),p},O.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},O.ArrayBuffer.prototype.getState=function(){var w=O.prototype.getState.call(this);return w.buff=function(w){return String.fromCharCode.apply(null,new Uint8Array(w))}(w.buff),w},O.ArrayBuffer.prototype.setState=function(w){return w.buff=function(w,y){var p,u=w.length,o=new ArrayBuffer(u),m=new Uint8Array(o);for(p=0;p<u;p+=1)m[p]=w.charCodeAt(p);return y?m:o}(w.buff,!0),O.prototype.setState.call(this,w)},O.ArrayBuffer.prototype.destroy=O.prototype.destroy,O.ArrayBuffer.prototype._finish=O.prototype._finish,O.ArrayBuffer.hash=function(w,y){var o=P(function(w){var o,m,p,q,de,Ce,y=w.length,u=[1732584193,-271733879,-1732584194,271733878];for(o=64;o<=y;o+=64)I(u,F(w.subarray(o-64,o)));for(m=(w=o-64<y?w.subarray(o-64):new Uint8Array(0)).length,p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],o=0;o<m;o+=1)p[o>>2]|=w[o]<<(o%4<<3);if(p[o>>2]|=128<<(o%4<<3),o>55)for(I(u,p),o=0;o<16;o+=1)p[o]=0;return q=(q=8*y).toString(16).match(/(.*?)(.{0,8})$/),de=parseInt(q[2],16),Ce=parseInt(q[1],16)||0,p[14]=de,p[15]=Ce,I(u,p),u}(new Uint8Array(w)));return y?L(o):o},O}()},1451:oe=>{oe.exports=function(l){return l&&"object"==typeof l&&"function"==typeof l.copy&&"function"==typeof l.fill&&"function"==typeof l.readUInt8}},8791:(oe,N,l)=>{var b=l(3407),c=l(110),I=l(2031),x=l(597);function F(Ne){return Ne.call.bind(Ne)}var M="undefined"!=typeof BigInt,U="undefined"!=typeof Symbol,T=F(Object.prototype.toString),P=F(Number.prototype.valueOf),E=F(String.prototype.valueOf),h=F(Boolean.prototype.valueOf);if(M)var R=F(BigInt.prototype.valueOf);if(U)var D=F(Symbol.prototype.valueOf);function L(Ne,Ot){if("object"!=typeof Ne)return!1;try{return Ot(Ne),!0}catch{return!1}}function z(Ne){return"[object Map]"===T(Ne)}function H(Ne){return"[object Set]"===T(Ne)}function K(Ne){return"[object WeakMap]"===T(Ne)}function Ee(Ne){return"[object WeakSet]"===T(Ne)}function me(Ne){return"[object ArrayBuffer]"===T(Ne)}function ge(Ne){return"undefined"!=typeof ArrayBuffer&&(me.working?me(Ne):Ne instanceof ArrayBuffer)}function te(Ne){return"[object DataView]"===T(Ne)}function ue(Ne){return"undefined"!=typeof DataView&&(te.working?te(Ne):Ne instanceof DataView)}N.isArgumentsObject=b,N.isGeneratorFunction=c,N.isTypedArray=x,N.isPromise=function(Ne){return"undefined"!=typeof Promise&&Ne instanceof Promise||null!==Ne&&"object"==typeof Ne&&"function"==typeof Ne.then&&"function"==typeof Ne.catch},N.isArrayBufferView=function(Ne){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(Ne):x(Ne)||ue(Ne)},N.isUint8Array=function(Ne){return"Uint8Array"===I(Ne)},N.isUint8ClampedArray=function(Ne){return"Uint8ClampedArray"===I(Ne)},N.isUint16Array=function(Ne){return"Uint16Array"===I(Ne)},N.isUint32Array=function(Ne){return"Uint32Array"===I(Ne)},N.isInt8Array=function(Ne){return"Int8Array"===I(Ne)},N.isInt16Array=function(Ne){return"Int16Array"===I(Ne)},N.isInt32Array=function(Ne){return"Int32Array"===I(Ne)},N.isFloat32Array=function(Ne){return"Float32Array"===I(Ne)},N.isFloat64Array=function(Ne){return"Float64Array"===I(Ne)},N.isBigInt64Array=function(Ne){return"BigInt64Array"===I(Ne)},N.isBigUint64Array=function(Ne){return"BigUint64Array"===I(Ne)},z.working="undefined"!=typeof Map&&z(new Map),N.isMap=function(Ne){return"undefined"!=typeof Map&&(z.working?z(Ne):Ne instanceof Map)},H.working="undefined"!=typeof Set&&H(new Set),N.isSet=function(Ne){return"undefined"!=typeof Set&&(H.working?H(Ne):Ne instanceof Set)},K.working="undefined"!=typeof WeakMap&&K(new WeakMap),N.isWeakMap=function(Ne){return"undefined"!=typeof WeakMap&&(K.working?K(Ne):Ne instanceof WeakMap)},Ee.working="undefined"!=typeof WeakSet&&Ee(new WeakSet),N.isWeakSet=function(Ne){return Ee(Ne)},me.working="undefined"!=typeof ArrayBuffer&&me(new ArrayBuffer),N.isArrayBuffer=ge,te.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&te(new DataView(new ArrayBuffer(1),0,1)),N.isDataView=ue;var Re="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function je(Ne){return"[object SharedArrayBuffer]"===T(Ne)}function Xe(Ne){return void 0!==Re&&(void 0===je.working&&(je.working=je(new Re)),je.working?je(Ne):Ne instanceof Re)}function wr(Ne){return L(Ne,P)}function Wr(Ne){return L(Ne,E)}function cr(Ne){return L(Ne,h)}function sr(Ne){return M&&L(Ne,R)}function mr(Ne){return U&&L(Ne,D)}N.isSharedArrayBuffer=Xe,N.isAsyncFunction=function(Ne){return"[object AsyncFunction]"===T(Ne)},N.isMapIterator=function(Ne){return"[object Map Iterator]"===T(Ne)},N.isSetIterator=function(Ne){return"[object Set Iterator]"===T(Ne)},N.isGeneratorObject=function(Ne){return"[object Generator]"===T(Ne)},N.isWebAssemblyCompiledModule=function(Ne){return"[object WebAssembly.Module]"===T(Ne)},N.isNumberObject=wr,N.isStringObject=Wr,N.isBooleanObject=cr,N.isBigIntObject=sr,N.isSymbolObject=mr,N.isBoxedPrimitive=function(Ne){return wr(Ne)||Wr(Ne)||cr(Ne)||sr(Ne)||mr(Ne)},N.isAnyArrayBuffer=function(Ne){return"undefined"!=typeof Uint8Array&&(ge(Ne)||Xe(Ne))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ne){Object.defineProperty(N,Ne,{enumerable:!1,value:function(){throw new Error(Ne+" is not supported in userland")}})})},6788:(oe,N,l)=>{var b=Object.getOwnPropertyDescriptors||function(ue){for(var Re=Object.keys(ue),je={},Xe=0;Xe<Re.length;Xe++)je[Re[Xe]]=Object.getOwnPropertyDescriptor(ue,Re[Xe]);return je},c=/%[sdj%]/g;N.format=function(te){if(!p(te)){for(var ue=[],Re=0;Re<arguments.length;Re++)ue.push(M(arguments[Re]));return ue.join(" ")}Re=1;for(var je=arguments,Xe=je.length,ut=String(te).replace(c,function(yt){if("%%"===yt)return"%";if(Re>=Xe)return yt;switch(yt){case"%s":return String(je[Re++]);case"%d":return Number(je[Re++]);case"%j":try{return JSON.stringify(je[Re++])}catch{return"[Circular]"}default:return yt}}),tt=je[Re];Re<Xe;tt=je[++Re])u(tt)||!ye(tt)?ut+=" "+tt:ut+=" "+M(tt);return ut},N.deprecate=function(te,ue){if("undefined"!=typeof process&&!0===process.noDeprecation)return te;if("undefined"==typeof process)return function(){return N.deprecate(te,ue).apply(this,arguments)};var Re=!1;return function(){if(!Re){if(process.throwDeprecation)throw new Error(ue);process.traceDeprecation?console.trace(ue):console.error(ue),Re=!0}return te.apply(this,arguments)}};var I={},x=/^$/;if(process.env.NODE_DEBUG){var F=process.env.NODE_DEBUG;F=F.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),x=new RegExp("^"+F+"$","i")}function M(te,ue){var Re={seen:[],stylize:T};return arguments.length>=3&&(Re.depth=arguments[2]),arguments.length>=4&&(Re.colors=arguments[3]),y(ue)?Re.showHidden=ue:ue&&N._extend(Re,ue),de(Re.showHidden)&&(Re.showHidden=!1),de(Re.depth)&&(Re.depth=2),de(Re.colors)&&(Re.colors=!1),de(Re.customInspect)&&(Re.customInspect=!0),Re.colors&&(Re.stylize=U),E(Re,te,Re.depth)}function U(te,ue){var Re=M.styles[ue];return Re?"\x1b["+M.colors[Re][0]+"m"+te+"\x1b["+M.colors[Re][1]+"m":te}function T(te,ue){return te}function E(te,ue,Re){if(te.customInspect&&ue&&z(ue.inspect)&&ue.inspect!==N.inspect&&(!ue.constructor||ue.constructor.prototype!==ue)){var je=ue.inspect(Re,te);return p(je)||(je=E(te,je,Re)),je}var Xe=function(te,ue){if(de(ue))return te.stylize("undefined","undefined");if(p(ue)){var Re="'"+JSON.stringify(ue).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return te.stylize(Re,"string")}return m(ue)?te.stylize(""+ue,"number"):y(ue)?te.stylize(""+ue,"boolean"):u(ue)?te.stylize("null","null"):void 0}(te,ue);if(Xe)return Xe;var ut=Object.keys(ue),tt=function(te){var ue={};return te.forEach(function(Re,je){ue[Re]=!0}),ue}(ut);if(te.showHidden&&(ut=Object.getOwnPropertyNames(ue)),Q(ue)&&(ut.indexOf("message")>=0||ut.indexOf("description")>=0))return R(ue);if(0===ut.length){if(z(ue))return te.stylize("[Function"+(ue.name?": "+ue.name:"")+"]","special");if(Ce(ue))return te.stylize(RegExp.prototype.toString.call(ue),"regexp");if(pe(ue))return te.stylize(Date.prototype.toString.call(ue),"date");if(Q(ue))return R(ue)}var cr,xt="",Mt=!1,wr=["{","}"];return w(ue)&&(Mt=!0,wr=["[","]"]),z(ue)&&(xt=" [Function"+(ue.name?": "+ue.name:"")+"]"),Ce(ue)&&(xt=" "+RegExp.prototype.toString.call(ue)),pe(ue)&&(xt=" "+Date.prototype.toUTCString.call(ue)),Q(ue)&&(xt=" "+R(ue)),0!==ut.length||Mt&&0!=ue.length?Re<0?Ce(ue)?te.stylize(RegExp.prototype.toString.call(ue),"regexp"):te.stylize("[Object]","special"):(te.seen.push(ue),cr=Mt?function(te,ue,Re,je,Xe){for(var ut=[],tt=0,yt=ue.length;tt<yt;++tt)Ee(ue,String(tt))?ut.push(L(te,ue,Re,je,String(tt),!0)):ut.push("");return Xe.forEach(function(xt){xt.match(/^\d+$/)||ut.push(L(te,ue,Re,je,xt,!0))}),ut}(te,ue,Re,tt,ut):ut.map(function(sr){return L(te,ue,Re,tt,sr,Mt)}),te.seen.pop(),function(te,ue,Re){var Xe=te.reduce(function(ut,tt){return tt.indexOf("\n"),ut+tt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Xe>60?Re[0]+(""===ue?"":ue+"\n ")+" "+te.join(",\n  ")+" "+Re[1]:Re[0]+ue+" "+te.join(", ")+" "+Re[1]}(cr,xt,wr)):wr[0]+xt+wr[1]}function R(te){return"["+Error.prototype.toString.call(te)+"]"}function L(te,ue,Re,je,Xe,ut){var tt,yt,xt;if((xt=Object.getOwnPropertyDescriptor(ue,Xe)||{value:ue[Xe]}).get?yt=te.stylize(xt.set?"[Getter/Setter]":"[Getter]","special"):xt.set&&(yt=te.stylize("[Setter]","special")),Ee(je,Xe)||(tt="["+Xe+"]"),yt||(te.seen.indexOf(xt.value)<0?(yt=u(Re)?E(te,xt.value,null):E(te,xt.value,Re-1)).indexOf("\n")>-1&&(yt=ut?yt.split("\n").map(function(Mt){return"  "+Mt}).join("\n").substr(2):"\n"+yt.split("\n").map(function(Mt){return"   "+Mt}).join("\n")):yt=te.stylize("[Circular]","special")),de(tt)){if(ut&&Xe.match(/^\d+$/))return yt;(tt=JSON.stringify(""+Xe)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(tt=tt.substr(1,tt.length-2),tt=te.stylize(tt,"name")):(tt=tt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),tt=te.stylize(tt,"string"))}return tt+": "+yt}function w(te){return Array.isArray(te)}function y(te){return"boolean"==typeof te}function u(te){return null===te}function m(te){return"number"==typeof te}function p(te){return"string"==typeof te}function de(te){return void 0===te}function Ce(te){return ye(te)&&"[object RegExp]"===H(te)}function ye(te){return"object"==typeof te&&null!==te}function pe(te){return ye(te)&&"[object Date]"===H(te)}function Q(te){return ye(te)&&("[object Error]"===H(te)||te instanceof Error)}function z(te){return"function"==typeof te}function H(te){return Object.prototype.toString.call(te)}function J(te){return te<10?"0"+te.toString(10):te.toString(10)}N.debuglog=function(te){if(te=te.toUpperCase(),!I[te])if(x.test(te)){var ue=process.pid;I[te]=function(){var Re=N.format.apply(N,arguments);console.error("%s %d: %s",te,ue,Re)}}else I[te]=function(){};return I[te]},N.inspect=M,M.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},M.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},N.types=l(8791),N.isArray=w,N.isBoolean=y,N.isNull=u,N.isNullOrUndefined=function(te){return null==te},N.isNumber=m,N.isString=p,N.isSymbol=function(te){return"symbol"==typeof te},N.isUndefined=de,N.isRegExp=Ce,N.types.isRegExp=Ce,N.isObject=ye,N.isDate=pe,N.types.isDate=pe,N.isError=Q,N.types.isNativeError=Q,N.isFunction=z,N.isPrimitive=function(te){return null===te||"boolean"==typeof te||"number"==typeof te||"string"==typeof te||"symbol"==typeof te||void 0===te},N.isBuffer=l(1451);var K=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ie(){var te=new Date,ue=[J(te.getHours()),J(te.getMinutes()),J(te.getSeconds())].join(":");return[te.getDate(),K[te.getMonth()],ue].join(" ")}function Ee(te,ue){return Object.prototype.hasOwnProperty.call(te,ue)}N.log=function(){console.log("%s - %s",ie(),N.format.apply(N,arguments))},N.inherits=l(3894),N._extend=function(te,ue){if(!ue||!ye(ue))return te;for(var Re=Object.keys(ue),je=Re.length;je--;)te[Re[je]]=ue[Re[je]];return te};var Fe="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function me(te,ue){if(!te){var Re=new Error("Promise was rejected with a falsy value");Re.reason=te,te=Re}return ue(te)}N.promisify=function(ue){if("function"!=typeof ue)throw new TypeError('The "original" argument must be of type Function');if(Fe&&ue[Fe]){var Re;if("function"!=typeof(Re=ue[Fe]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Re,Fe,{value:Re,enumerable:!1,writable:!1,configurable:!0}),Re}function Re(){for(var je,Xe,ut=new Promise(function(xt,Mt){je=xt,Xe=Mt}),tt=[],yt=0;yt<arguments.length;yt++)tt.push(arguments[yt]);tt.push(function(xt,Mt){xt?Xe(xt):je(Mt)});try{ue.apply(this,tt)}catch(xt){Xe(xt)}return ut}return Object.setPrototypeOf(Re,Object.getPrototypeOf(ue)),Fe&&Object.defineProperty(Re,Fe,{value:Re,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Re,b(ue))},N.promisify.custom=Fe,N.callbackify=function(te){if("function"!=typeof te)throw new TypeError('The "original" argument must be of type Function');function ue(){for(var Re=[],je=0;je<arguments.length;je++)Re.push(arguments[je]);var Xe=Re.pop();if("function"!=typeof Xe)throw new TypeError("The last argument must be of type Function");var ut=this,tt=function(){return Xe.apply(ut,arguments)};te.apply(this,Re).then(function(yt){process.nextTick(tt.bind(null,null,yt))},function(yt){process.nextTick(me.bind(null,yt,tt))})}return Object.setPrototypeOf(ue,Object.getPrototypeOf(te)),Object.defineProperties(ue,b(te)),ue}},2899:(oe,N)=>{function l(b,c,I){var x=I[I.length-1];b===x.element&&(I.pop(),x=I[I.length-1]);var F=x.element,M=x.index;Array.isArray(F)?F.push(b):M===c.length-2?F[c.pop()]=b:c.push(b)}N.stringify=function(c){var I=[];I.push({obj:c});for(var F,M,T,P,h,R,D,L,O,x="";F=I.pop();)if(M=F.obj,x+=F.prefix||"",T=F.val||"")x+=T;else if("object"!=typeof M)x+=void 0===M?null:JSON.stringify(M);else if(null===M)x+="null";else if(Array.isArray(M)){for(I.push({val:"]"}),P=M.length-1;P>=0;P--)I.push({obj:M[P],prefix:0===P?"":","});I.push({val:"["})}else{for(R in h=[],M)M.hasOwnProperty(R)&&h.push(R);for(I.push({val:"}"}),P=h.length-1;P>=0;P--)L=M[D=h[P]],O=P>0?",":"",O+=JSON.stringify(D)+":",I.push({obj:L,prefix:O});I.push({val:"{"})}return x},N.parse=function(b){for(var F,M,U,T,P,E,h,R,D,c=[],I=[],x=0;;)if("}"!==(F=b[x++])&&"]"!==F&&void 0!==F)switch(F){case" ":case"\t":case"\n":case":":case",":break;case"n":x+=3,l(null,c,I);break;case"t":x+=3,l(!0,c,I);break;case"f":x+=4,l(!1,c,I);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(M="",x--;;){if(U=b[x++],!/[\d\.\-e\+]/.test(U)){x--;break}M+=U}l(parseFloat(M),c,I);break;case'"':for(T="",P=void 0,E=0;'"'!==(h=b[x++])||"\\"===P&&E%2==1;)T+=h,"\\"===(P=h)?E++:E=0;l(JSON.parse('"'+T+'"'),c,I);break;case"[":c.push((R={element:[],index:c.length}).element),I.push(R);break;case"{":c.push((D={element:{},index:c.length}).element),I.push(D);break;default:throw new Error("unexpectedly reached end of input: "+F)}else{if(1===c.length)return c.pop();l(c.pop(),c,I)}}},2031:(oe,N,l)=>{var b=l(9076),c=l(7029),I=l(5834),x=I("Object.prototype.toString"),F=l(6259)(),M="undefined"==typeof globalThis?global:globalThis,U=c(),T=I("String.prototype.slice"),P={},E=l(8555),h=Object.getPrototypeOf;F&&E&&h&&b(U,function(L){if("function"==typeof M[L]){var O=new M[L];if(Symbol.toStringTag in O){var w=h(O),y=E(w,Symbol.toStringTag);if(!y){var u=h(w);y=E(u,Symbol.toStringTag)}P[L]=y.get}}});var D=l(597);oe.exports=function(O){return!!D(O)&&(F&&Symbol.toStringTag in O?function(O){var w=!1;return b(P,function(y,u){if(!w)try{var o=y.call(O);o===u&&(w=o)}catch{}}),w}(O):T(x(O),8,-1))}},1995:oe=>{oe.exports=function(){for(var b={},c=0;c<arguments.length;c++){var I=arguments[c];for(var x in I)N.call(I,x)&&(b[x]=I[x])}return b};var N=Object.prototype.hasOwnProperty},7757:(oe,N,l)=>{oe.exports=l(7854)},655:(oe,N,l)=>{function T(Q,z,Y,H){return new(Y||(Y=Promise))(function(K,ie){function Ee(ge){try{me(H.next(ge))}catch(te){ie(te)}}function Fe(ge){try{me(H.throw(ge))}catch(te){ie(te)}}function me(ge){ge.done?K(ge.value):function(K){return K instanceof Y?K:new Y(function(ie){ie(K)})}(ge.value).then(Ee,Fe)}me((H=H.apply(Q,z||[])).next())})}function y(Q){return this instanceof y?(this.v=Q,this):new y(Q)}function u(Q,z,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,H=Y.apply(Q,z||[]),K=[];return J={},ie("next"),ie("throw"),ie("return"),J[Symbol.asyncIterator]=function(){return this},J;function ie(ue){H[ue]&&(J[ue]=function(Re){return new Promise(function(je,Xe){K.push([ue,Re,je,Xe])>1||Ee(ue,Re)})})}function Ee(ue,Re){try{!function(ue){ue.value instanceof y?Promise.resolve(ue.value.v).then(me,ge):te(K[0][2],ue)}(H[ue](Re))}catch(je){te(K[0][3],je)}}function me(ue){Ee("next",ue)}function ge(ue){Ee("throw",ue)}function te(ue,Re){ue(Re),K.shift(),K.length&&Ee(K[0][0],K[0][1])}}function m(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y,z=Q[Symbol.asyncIterator];return z?z.call(Q):(Q=function(Q){var z="function"==typeof Symbol&&Symbol.iterator,Y=z&&Q[z],H=0;if(Y)return Y.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&H>=Q.length&&(Q=void 0),{value:Q&&Q[H++],done:!Q}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),Y={},H("next"),H("throw"),H("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function H(K){Y[K]=Q[K]&&function(ie){return new Promise(function(Ee,Fe){!function(K,ie,Ee,Fe){Promise.resolve(Fe).then(function(me){K({value:me,done:Ee})},ie)}(Ee,Fe,(ie=Q[K](ie)).done,ie.value)})}}}l.d(N,{mG:()=>T,qq:()=>y,FC:()=>u,KL:()=>m})},2480:()=>{},4703:()=>{},7029:oe=>{var N=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],l="undefined"==typeof globalThis?global:globalThis;oe.exports=function(){for(var c=[],I=0;I<N.length;I++)"function"==typeof l[N[I]]&&(c[c.length]=N[I]);return c}},8555:(oe,N,l)=>{var c=l(5203)("%Object.getOwnPropertyDescriptor%",!0);if(c)try{c([],"length")}catch{c=null}oe.exports=c},8753:(oe,N,l)=>{l.d(N,{Zt:()=>Lo,Hk:()=>Ls,Wj:()=>Ms,_t:()=>Bo});var b=l(7777),c=l(1457);function I(V){return null!=V&&"false"!=`${V}`}function x(V,C=0){return function(V){return!isNaN(parseFloat(V))&&!isNaN(Number(V))}(V)?Number(V):C}function T(V){return V instanceof b.ElementRef?V.nativeElement:V}var E=l(7579),h=l(9646),R=l(8306),D=l(4968),L=l(6406),w=(l(3101),l(3601)),y=l(9300);let u;try{u="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch{u=!1}let Ce,J,o=(()=>{class V{constructor(g){this._platformId=g,this.isBrowser=this._platformId?(0,c.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!u)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return V.\u0275fac=function(g){return new(g||V)(b.\u0275\u0275inject(b.PLATFORM_ID))},V.\u0275prov=b.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function pe(V){return function(){if(null==Ce&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ce=!0}))}finally{Ce=Ce||!1}return Ce}()?V:!!V.capture}function ie(V){if(function(){if(null==J){const V="undefined"!=typeof document?document.head:null;J=!(!V||!V.createShadowRoot&&!V.attachShadow)}return J}()){const C=V.getRootNode?V.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&C instanceof ShadowRoot)return C}return null}function Fe(V){return V.composedPath?V.composedPath()[0]:V.target}let tt=(()=>{class V{constructor(g,B,G){this._ngZone=g,this._platform=B,this._scrolled=new E.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=G}register(g){this.scrollContainers.has(g)||this.scrollContainers.set(g,g.elementScrolled().subscribe(()=>this._scrolled.next(g)))}deregister(g){const B=this.scrollContainers.get(g);B&&(B.unsubscribe(),this.scrollContainers.delete(g))}scrolled(g=20){return this._platform.isBrowser?new R.y(B=>{this._globalSubscription||this._addGlobalListener();const G=g>0?this._scrolled.pipe((0,w.e)(g)).subscribe(B):this._scrolled.subscribe(B);return this._scrolledCount++,()=>{G.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,h.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((g,B)=>this.deregister(B)),this._scrolled.complete()}ancestorScrolled(g,B){const G=this.getAncestorScrollContainers(g);return this.scrolled(B).pipe((0,y.h)(ce=>!ce||G.indexOf(ce)>-1))}getAncestorScrollContainers(g){const B=[];return this.scrollContainers.forEach((G,ce)=>{this._scrollableContainsElement(ce,g)&&B.push(ce)}),B}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(g,B){let G=T(B),ce=g.getElementRef().nativeElement;do{if(G==ce)return!0}while(G=G.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const g=this._getWindow();return(0,D.R)(g.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return V.\u0275fac=function(g){return new(g||V)(b.\u0275\u0275inject(b.NgZone),b.\u0275\u0275inject(o),b.\u0275\u0275inject(c.DOCUMENT,8))},V.\u0275prov=b.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),Mt=(()=>{class V{constructor(g,B,G){this._platform=g,this._change=new E.x,this._changeListener=ce=>{this._change.next(ce)},this._document=G,B.runOutsideAngular(()=>{if(g.isBrowser){const ce=this._getWindow();ce.addEventListener("resize",this._changeListener),ce.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const g=this._getWindow();g.removeEventListener("resize",this._changeListener),g.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const g={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),g}getViewportRect(){const g=this.getViewportScrollPosition(),{width:B,height:G}=this.getViewportSize();return{top:g.top,left:g.left,bottom:g.top+G,right:g.left+B,height:G,width:B}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const g=this._document,B=this._getWindow(),G=g.documentElement,ce=G.getBoundingClientRect();return{top:-ce.top||g.body.scrollTop||B.scrollY||G.scrollTop||0,left:-ce.left||g.body.scrollLeft||B.scrollX||G.scrollLeft||0}}change(g=20){return g>0?this._change.pipe((0,w.e)(g)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const g=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:g.innerWidth,height:g.innerHeight}:{width:0,height:0}}}return V.\u0275fac=function(g){return new(g||V)(b.\u0275\u0275inject(o),b.\u0275\u0275inject(b.NgZone),b.\u0275\u0275inject(c.DOCUMENT,8))},V.\u0275prov=b.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),er=(()=>{class V{}return V.\u0275fac=function(g){return new(g||V)},V.\u0275mod=b.\u0275\u0275defineNgModule({type:V}),V.\u0275inj=b.\u0275\u0275defineInjector({}),V})();var Na=l(4986),ja=l(5963),Xn=l(727),Cs=l(6451),xr=l(2722),Wt=l(8675),Ds=l(4004),qn=l(5698),$i=l(8505),Do=l(3900);const gn=new b.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,b.inject)(c.DOCUMENT)}});let Ur=(()=>{class V{constructor(g){if(this.value="ltr",this.change=new b.EventEmitter,g){const G=g.documentElement?g.documentElement.dir:null,ce=(g.body?g.body.dir:null)||G;this.value="ltr"===ce||"rtl"===ce?ce:"ltr"}}ngOnDestroy(){this.change.complete()}}return V.\u0275fac=function(g){return new(g||V)(b.\u0275\u0275inject(gn,8))},V.\u0275prov=b.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function Gi(V,C,g){for(let B in C)if(C.hasOwnProperty(B)){const G=C[B];G?V.setProperty(B,G,g?.has(B)?"important":""):V.removeProperty(B)}return V}function Jr(V,C){const g=C?"":"none";Gi(V.style,{"touch-action":C?"":"none","-webkit-user-drag":C?"":"none","-webkit-tap-highlight-color":C?"":"transparent","user-select":g,"-ms-user-select":g,"-webkit-user-select":g,"-moz-user-select":g})}function Os(V,C,g){Gi(V.style,{position:C?"":"fixed",top:C?"":"0",opacity:C?"":"0",left:C?"":"-999em"},g)}function xn(V,C){return C&&"none"!=C?V+" "+C:V}function Ps(V){const C=V.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(V)*C}function Mn(V,C){return V.getPropertyValue(C).split(",").map(B=>B.trim())}function kn(V){const C=V.getBoundingClientRect();return{top:C.top,right:C.right,bottom:C.bottom,left:C.left,width:C.width,height:C.height,x:C.x,y:C.y}}function ar(V,C,g){const{top:B,bottom:G,left:ce,right:Pe}=V;return g>=B&&g<=G&&C>=ce&&C<=Pe}function dr(V,C,g){V.top+=C,V.bottom=V.top+V.height,V.left+=g,V.right=V.left+V.width}function vi(V,C,g,B){const{top:G,right:ce,bottom:Pe,left:Be,width:Ze,height:nt}=V,St=Ze*C,br=nt*C;return B>G-br&&B<Pe+br&&g>Be-St&&g<ce+St}class Ln{constructor(C,g){this._document=C,this._viewportRuler=g,this.positions=new Map}clear(){this.positions.clear()}cache(C){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),C.forEach(g=>{this.positions.set(g,{scrollPosition:{top:g.scrollTop,left:g.scrollLeft},clientRect:kn(g)})})}handleScroll(C){const g=Fe(C),B=this.positions.get(g);if(!B)return null;const G=B.scrollPosition;let ce,Pe;if(g===this._document){const nt=this._viewportRuler.getViewportScrollPosition();ce=nt.top,Pe=nt.left}else ce=g.scrollTop,Pe=g.scrollLeft;const Be=G.top-ce,Ze=G.left-Pe;return this.positions.forEach((nt,St)=>{nt.clientRect&&g!==St&&g.contains(St)&&dr(nt.clientRect,Be,Ze)}),G.top=ce,G.left=Pe,{top:Be,left:Ze}}}function yn(V){const C=V.cloneNode(!0),g=C.querySelectorAll("[id]"),B=V.nodeName.toLowerCase();C.removeAttribute("id");for(let G=0;G<g.length;G++)g[G].removeAttribute("id");return"canvas"===B?Cr(V,C):("input"===B||"select"===B||"textarea"===B)&&Is(V,C),Ve("canvas",V,C,Cr),Ve("input, textarea, select",V,C,Is),C}function Ve(V,C,g,B){const G=C.querySelectorAll(V);if(G.length){const ce=g.querySelectorAll(V);for(let Pe=0;Pe<G.length;Pe++)B(G[Pe],ce[Pe])}}let Lt=0;function Is(V,C){"file"!==C.type&&(C.value=V.value),"radio"===C.type&&C.name&&(C.name=`mat-clone-${C.name}-${Lt++}`)}function Cr(V,C){const g=C.getContext("2d");if(g)try{g.drawImage(V,0,0)}catch{}}const qt=pe({passive:!0}),Qi=pe({passive:!1}),ot=new Set(["position"]);class Po{constructor(C,g,B,G,ce,Pe){this._config=g,this._document=B,this._ngZone=G,this._viewportRuler=ce,this._dragDropRegistry=Pe,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new E.x,this._pointerMoveSubscription=Xn.w0.EMPTY,this._pointerUpSubscription=Xn.w0.EMPTY,this._scrollSubscription=Xn.w0.EMPTY,this._resizeSubscription=Xn.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new E.x,this.started=new E.x,this.released=new E.x,this.ended=new E.x,this.entered=new E.x,this.exited=new E.x,this.dropped=new E.x,this.moved=this._moveEvents,this._pointerDown=Be=>{if(this.beforeStarted.next(),this._handles.length){const Ze=this._handles.find(nt=>Be.target&&(Be.target===nt||nt.contains(Be.target)));Ze&&!this._disabledHandles.has(Ze)&&!this.disabled&&this._initializeDragSequence(Ze,Be)}else this.disabled||this._initializeDragSequence(this._rootElement,Be)},this._pointerMove=Be=>{const Ze=this._getPointerPositionOnPage(Be);if(!this._hasStartedDragging){if(Math.abs(Ze.x-this._pickupPositionOnPage.x)+Math.abs(Ze.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Fn=Date.now()>=this._dragStartTime+this._getDragStartDelay(Be),Nn=this._dropContainer;if(!Fn)return void this._endDragSequence(Be);(!Nn||!Nn.isDragging()&&!Nn.isReceiving())&&(Be.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(Be)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),Be.preventDefault();const nt=this._getConstrainedPointerPosition(Ze);if(this._hasMoved=!0,this._lastKnownPointerPosition=Ze,this._updatePointerDirectionDelta(nt),this._dropContainer)this._updateActiveDropContainer(nt,Ze);else{const St=this._activeTransform;St.x=nt.x-this._pickupPositionOnPage.x+this._passiveTransform.x,St.y=nt.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(St.x,St.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:nt,event:Be,distance:this._getDragDistance(nt),delta:this._pointerDirectionDelta})})},this._pointerUp=Be=>{this._endDragSequence(Be)},this.withRootElement(C).withParent(g.parentDragRef||null),this._parentPositions=new Ln(B,ce),Pe.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(C){const g=I(C);g!==this._disabled&&(this._disabled=g,this._toggleNativeDragInteractions(),this._handles.forEach(B=>Jr(B,g)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(C){this._handles=C.map(B=>T(B)),this._handles.forEach(B=>Jr(B,this.disabled)),this._toggleNativeDragInteractions();const g=new Set;return this._disabledHandles.forEach(B=>{this._handles.indexOf(B)>-1&&g.add(B)}),this._disabledHandles=g,this}withPreviewTemplate(C){return this._previewTemplate=C,this}withPlaceholderTemplate(C){return this._placeholderTemplate=C,this}withRootElement(C){const g=T(C);return g!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{g.addEventListener("mousedown",this._pointerDown,Qi),g.addEventListener("touchstart",this._pointerDown,qt)}),this._initialTransform=void 0,this._rootElement=g),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(C){return this._boundaryElement=C?T(C):null,this._resizeSubscription.unsubscribe(),C&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(C){return this._parentDragRef=C,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(C){!this._disabledHandles.has(C)&&this._handles.indexOf(C)>-1&&(this._disabledHandles.add(C),Jr(C,!0))}enableHandle(C){this._disabledHandles.has(C)&&(this._disabledHandles.delete(C),Jr(C,this.disabled))}withDirection(C){return this._direction=C,this}_withDropContainer(C){this._dropContainer=C}getFreeDragPosition(){const C=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:C.x,y:C.y}}setFreeDragPosition(C){return this._activeTransform={x:0,y:0},this._passiveTransform.x=C.x,this._passiveTransform.y=C.y,this._dropContainer||this._applyRootElementTransform(C.x,C.y),this}withPreviewContainer(C){return this._previewContainer=C,this}_sortFromLastPointerPosition(){const C=this._lastKnownPointerPosition;C&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(C),C)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(C){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(C),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const g=this._getPointerPositionOnPage(C);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(g),dropPoint:g})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(C){$t(C)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const g=this._dropContainer;if(g){const B=this._rootElement,G=B.parentNode,ce=this._placeholder=this._createPlaceholderElement(),Pe=this._anchor=this._anchor||this._document.createComment(""),Be=this._getShadowRoot();G.insertBefore(Pe,B),this._initialTransform=B.style.transform||"",this._preview=this._createPreviewElement(),Os(B,!1,ot),this._document.body.appendChild(G.replaceChild(ce,B)),this._getPreviewInsertionPoint(G,Be).appendChild(this._preview),this.started.next({source:this}),g.start(),this._initialContainer=g,this._initialIndex=g.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(g?g.getScrollableParents():[])}_initializeDragSequence(C,g){this._parentDragRef&&g.stopPropagation();const B=this.isDragging(),G=$t(g),ce=!G&&0!==g.button,Pe=this._rootElement,Be=Fe(g),Ze=!G&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),nt=G?function(V){const C=V.touches&&V.touches[0]||V.changedTouches&&V.changedTouches[0];return!(!C||-1!==C.identifier||null!=C.radiusX&&1!==C.radiusX||null!=C.radiusY&&1!==C.radiusY)}(g):0===(V=g).offsetX&&0===V.offsetY;var V;if(Be&&Be.draggable&&"mousedown"===g.type&&g.preventDefault(),B||ce||Ze||nt)return;if(this._handles.length){const Mr=Pe.style;this._rootElementTapHighlight=Mr.webkitTapHighlightColor||"",Mr.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Mr=>this._updateOnScroll(Mr)),this._boundaryElement&&(this._boundaryRect=kn(this._boundaryElement));const St=this._previewTemplate;this._pickupPositionInElement=St&&St.template&&!St.matchSize?{x:0,y:0}:this._getPointerPositionInElement(C,g);const br=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(g);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:br.x,y:br.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,g)}_cleanupDragArtifacts(C){Os(this._rootElement,!0,ot),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const g=this._dropContainer,B=g.getItemIndex(this),G=this._getPointerPositionOnPage(C),ce=this._getDragDistance(G),Pe=g._isOverContainer(G.x,G.y);this.ended.next({source:this,distance:ce,dropPoint:G}),this.dropped.next({item:this,currentIndex:B,previousIndex:this._initialIndex,container:g,previousContainer:this._initialContainer,isPointerOverContainer:Pe,distance:ce,dropPoint:G}),g.drop(this,B,this._initialIndex,this._initialContainer,Pe,ce,G),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:C,y:g},{x:B,y:G}){let ce=this._initialContainer._getSiblingContainerFromPosition(this,C,g);!ce&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(C,g)&&(ce=this._initialContainer),ce&&ce!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=ce,this._dropContainer.enter(this,C,g,ce===this._initialContainer&&ce.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:ce,currentIndex:ce.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(B,G),this._dropContainer._sortItem(this,C,g,this._pointerDirectionDelta),this._applyPreviewTransform(C-this._pickupPositionInElement.x,g-this._pickupPositionInElement.y))}_createPreviewElement(){const C=this._previewTemplate,g=this.previewClass,B=C?C.template:null;let G;if(B&&C){const ce=C.matchSize?this._rootElement.getBoundingClientRect():null,Pe=C.viewContainer.createEmbeddedView(B,C.context);Pe.detectChanges(),G=Io(Pe,this._document),this._previewRef=Pe,C.matchSize?To(G,ce):G.style.transform=Te(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const ce=this._rootElement;G=yn(ce),To(G,ce.getBoundingClientRect()),this._initialTransform&&(G.style.transform=this._initialTransform)}return Gi(G.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},ot),Jr(G,!1),G.classList.add("cdk-drag-preview"),G.setAttribute("dir",this._direction),g&&(Array.isArray(g)?g.forEach(ce=>G.classList.add(ce)):G.classList.add(g)),G}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const C=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(C.left,C.top);const g=function(V){const C=getComputedStyle(V),g=Mn(C,"transition-property"),B=g.find(Be=>"transform"===Be||"all"===Be);if(!B)return 0;const G=g.indexOf(B),ce=Mn(C,"transition-duration"),Pe=Mn(C,"transition-delay");return Ps(ce[G])+Ps(Pe[G])}(this._preview);return 0===g?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(B=>{const G=Pe=>{(!Pe||Fe(Pe)===this._preview&&"transform"===Pe.propertyName)&&(this._preview?.removeEventListener("transitionend",G),B(),clearTimeout(ce))},ce=setTimeout(G,1.5*g);this._preview.addEventListener("transitionend",G)}))}_createPlaceholderElement(){const C=this._placeholderTemplate,g=C?C.template:null;let B;return g?(this._placeholderRef=C.viewContainer.createEmbeddedView(g,C.context),this._placeholderRef.detectChanges(),B=Io(this._placeholderRef,this._document)):B=yn(this._rootElement),B.classList.add("cdk-drag-placeholder"),B}_getPointerPositionInElement(C,g){const B=this._rootElement.getBoundingClientRect(),G=C===this._rootElement?null:C,ce=G?G.getBoundingClientRect():B,Pe=$t(g)?g.targetTouches[0]:g,Be=this._getViewportScrollPosition();return{x:ce.left-B.left+(Pe.pageX-ce.left-Be.left),y:ce.top-B.top+(Pe.pageY-ce.top-Be.top)}}_getPointerPositionOnPage(C){const g=this._getViewportScrollPosition(),B=$t(C)?C.touches[0]||C.changedTouches[0]||{pageX:0,pageY:0}:C,G=B.pageX-g.left,ce=B.pageY-g.top;if(this._ownerSVGElement){const Pe=this._ownerSVGElement.getScreenCTM();if(Pe){const Be=this._ownerSVGElement.createSVGPoint();return Be.x=G,Be.y=ce,Be.matrixTransform(Pe.inverse())}}return{x:G,y:ce}}_getConstrainedPointerPosition(C){const g=this._dropContainer?this._dropContainer.lockAxis:null;let{x:B,y:G}=this.constrainPosition?this.constrainPosition(C,this):C;if("x"===this.lockAxis||"x"===g?G=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===g)&&(B=this._pickupPositionOnPage.x),this._boundaryRect){const{x:ce,y:Pe}=this._pickupPositionInElement,Be=this._boundaryRect,Ze=this._previewRect,nt=Be.top+Pe,St=Be.bottom-(Ze.height-Pe);B=gi(B,Be.left+ce,Be.right-(Ze.width-ce)),G=gi(G,nt,St)}return{x:B,y:G}}_updatePointerDirectionDelta(C){const{x:g,y:B}=C,G=this._pointerDirectionDelta,ce=this._pointerPositionAtLastDirectionChange,Pe=Math.abs(g-ce.x),Be=Math.abs(B-ce.y);return Pe>this._config.pointerDirectionChangeThreshold&&(G.x=g>ce.x?1:-1,ce.x=g),Be>this._config.pointerDirectionChangeThreshold&&(G.y=B>ce.y?1:-1,ce.y=B),G}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const C=this._handles.length>0||!this.isDragging();C!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=C,Jr(this._rootElement,C))}_removeRootElementListeners(C){C.removeEventListener("mousedown",this._pointerDown,Qi),C.removeEventListener("touchstart",this._pointerDown,qt)}_applyRootElementTransform(C,g){const B=Te(C,g),G=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=G.transform&&"none"!=G.transform?G.transform:""),G.transform=xn(B,this._initialTransform)}_applyPreviewTransform(C,g){const B=this._previewTemplate?.template?void 0:this._initialTransform,G=Te(C,g);this._preview.style.transform=xn(G,B)}_getDragDistance(C){const g=this._pickupPositionOnPage;return g?{x:C.x-g.x,y:C.y-g.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:C,y:g}=this._passiveTransform;if(0===C&&0===g||this.isDragging()||!this._boundaryElement)return;const B=this._boundaryElement.getBoundingClientRect(),G=this._rootElement.getBoundingClientRect();if(0===B.width&&0===B.height||0===G.width&&0===G.height)return;const ce=B.left-G.left,Pe=G.right-B.right,Be=B.top-G.top,Ze=G.bottom-B.bottom;B.width>G.width?(ce>0&&(C+=ce),Pe>0&&(C-=Pe)):C=0,B.height>G.height?(Be>0&&(g+=Be),Ze>0&&(g-=Ze)):g=0,(C!==this._passiveTransform.x||g!==this._passiveTransform.y)&&this.setFreeDragPosition({y:g,x:C})}_getDragStartDelay(C){const g=this.dragStartDelay;return"number"==typeof g?g:$t(C)?g.touch:g?g.mouse:0}_updateOnScroll(C){const g=this._parentPositions.handleScroll(C);if(g){const B=Fe(C);this._boundaryRect&&B!==this._boundaryElement&&B.contains(this._boundaryElement)&&dr(this._boundaryRect,g.top,g.left),this._pickupPositionOnPage.x+=g.left,this._pickupPositionOnPage.y+=g.top,this._dropContainer||(this._activeTransform.x-=g.left,this._activeTransform.y-=g.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const C=this._parentPositions.positions.get(this._document);return C?C.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=ie(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(C,g){const B=this._previewContainer||"global";if("parent"===B)return C;if("global"===B){const G=this._document;return g||G.fullscreenElement||G.webkitFullscreenElement||G.mozFullScreenElement||G.msFullscreenElement||G.body}return T(B)}}function Te(V,C){return`translate3d(${Math.round(V)}px, ${Math.round(C)}px, 0)`}function gi(V,C,g){return Math.max(C,Math.min(g,V))}function $t(V){return"t"===V.type[0]}function Io(V,C){const g=V.rootNodes;if(1===g.length&&g[0].nodeType===C.ELEMENT_NODE)return g[0];const B=C.createElement("div");return g.forEach(G=>B.appendChild(G)),B}function To(V,C){V.style.width=`${C.width}px`,V.style.height=`${C.height}px`,V.style.transform=Te(C.left,C.top)}function _n(V,C){return Math.max(0,Math.min(C,V))}class yi{constructor(C,g,B,G,ce){this._dragDropRegistry=g,this._ngZone=G,this._viewportRuler=ce,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new E.x,this.entered=new E.x,this.exited=new E.x,this.dropped=new E.x,this.sorted=new E.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Xn.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new E.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(V=0,C=Na.z){return V<0&&(V=0),(0,ja.H)(V,V,C)}(0,L.Z).pipe((0,xr.R)(this._stopScrollTimers)).subscribe(()=>{const Pe=this._scrollNode,Be=this.autoScrollStep;1===this._verticalScrollDirection?Pe.scrollBy(0,-Be):2===this._verticalScrollDirection&&Pe.scrollBy(0,Be),1===this._horizontalScrollDirection?Pe.scrollBy(-Be,0):2===this._horizontalScrollDirection&&Pe.scrollBy(Be,0)})},this.element=T(C),this._document=B,this.withScrollableParents([this.element]),g.registerDropContainer(this),this._parentPositions=new Ln(B,ce)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(C,g,B,G){let ce;this._draggingStarted(),null==G?(ce=this.sortingDisabled?this._draggables.indexOf(C):-1,-1===ce&&(ce=this._getItemIndexFromPointerPosition(C,g,B))):ce=G;const Pe=this._activeDraggables,Be=Pe.indexOf(C),Ze=C.getPlaceholderElement();let nt=Pe[ce];if(nt===C&&(nt=Pe[ce+1]),Be>-1&&Pe.splice(Be,1),nt&&!this._dragDropRegistry.isDragging(nt)){const St=nt.getRootElement();St.parentElement.insertBefore(Ze,St),Pe.splice(ce,0,C)}else if(this._shouldEnterAsFirstChild(g,B)){const St=Pe[0].getRootElement();St.parentNode.insertBefore(Ze,St),Pe.unshift(C)}else T(this.element).appendChild(Ze),Pe.push(C);Ze.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:C,container:this,currentIndex:this.getItemIndex(C)})}exit(C){this._reset(),this.exited.next({item:C,container:this})}drop(C,g,B,G,ce,Pe,Be){this._reset(),this.dropped.next({item:C,currentIndex:g,previousIndex:B,container:this,previousContainer:G,isPointerOverContainer:ce,distance:Pe,dropPoint:Be})}withItems(C){const g=this._draggables;return this._draggables=C,C.forEach(B=>B._withDropContainer(this)),this.isDragging()&&(g.filter(G=>G.isDragging()).every(G=>-1===C.indexOf(G))?this._reset():this._cacheItems()),this}withDirection(C){return this._direction=C,this}connectedTo(C){return this._siblings=C.slice(),this}withOrientation(C){return this._orientation=C,this}withScrollableParents(C){const g=T(this.element);return this._scrollableElements=-1===C.indexOf(g)?[g,...C]:C.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(C){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(B=>B.drag===C):this._draggables.indexOf(C)}isReceiving(){return this._activeSiblings.size>0}_sortItem(C,g,B,G){if(this.sortingDisabled||!this._clientRect||!vi(this._clientRect,.05,g,B))return;const ce=this._itemPositions,Pe=this._getItemIndexFromPointerPosition(C,g,B,G);if(-1===Pe&&ce.length>0)return;const Be="horizontal"===this._orientation,Ze=ce.findIndex(hr=>hr.drag===C),nt=ce[Pe],br=nt.clientRect,Mr=Ze>Pe?1:-1,Fn=this._getItemOffsetPx(ce[Ze].clientRect,br,Mr),Nn=this._getSiblingOffsetPx(Ze,ce,Mr),si=ce.slice();(function(V,C,g){const B=_n(C,V.length-1),G=_n(g,V.length-1);if(B===G)return;const ce=V[B],Pe=G<B?-1:1;for(let Be=B;Be!==G;Be+=Pe)V[Be]=V[Be+Pe];V[G]=ce})(ce,Ze,Pe),this.sorted.next({previousIndex:Ze,currentIndex:Pe,container:this,item:C}),ce.forEach((hr,Xr)=>{if(si[Xr]===hr)return;const jn=hr.drag===C,Bs=jn?Fn:Nn,Fs=jn?C.getPlaceholderElement():hr.drag.getRootElement();hr.offset+=Bs,Be?(Fs.style.transform=xn(`translate3d(${Math.round(hr.offset)}px, 0, 0)`,hr.initialTransform),dr(hr.clientRect,0,Bs)):(Fs.style.transform=xn(`translate3d(0, ${Math.round(hr.offset)}px, 0)`,hr.initialTransform),dr(hr.clientRect,Bs,0))}),this._previousSwap.overlaps=ar(br,g,B),this._previousSwap.drag=nt.drag,this._previousSwap.delta=Be?G.x:G.y}_startScrollingIfNecessary(C,g){if(this.autoScrollDisabled)return;let B,G=0,ce=0;if(this._parentPositions.positions.forEach((Pe,Be)=>{Be===this._document||!Pe.clientRect||B||vi(Pe.clientRect,.05,C,g)&&([G,ce]=function(V,C,g,B){const G=Ts(C,B),ce=Ji(C,g);let Pe=0,Be=0;if(G){const Ze=V.scrollTop;1===G?Ze>0&&(Pe=1):V.scrollHeight-Ze>V.clientHeight&&(Pe=2)}if(ce){const Ze=V.scrollLeft;1===ce?Ze>0&&(Be=1):V.scrollWidth-Ze>V.clientWidth&&(Be=2)}return[Pe,Be]}(Be,Pe.clientRect,C,g),(G||ce)&&(B=Be))}),!G&&!ce){const{width:Pe,height:Be}=this._viewportRuler.getViewportSize(),Ze={width:Pe,height:Be,top:0,right:Pe,bottom:Be,left:0};G=Ts(Ze,g),ce=Ji(Ze,C),B=window}B&&(G!==this._verticalScrollDirection||ce!==this._horizontalScrollDirection||B!==this._scrollNode)&&(this._verticalScrollDirection=G,this._horizontalScrollDirection=ce,this._scrollNode=B,(G||ce)&&B?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const C=T(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=C.msScrollSnapType||C.scrollSnapType||"",C.scrollSnapType=C.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const C=T(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(C).clientRect}_cacheItemPositions(){const C="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(g=>{const B=g.getVisibleElement();return{drag:g,offset:0,initialTransform:B.style.transform||"",clientRect:kn(B)}}).sort((g,B)=>C?g.clientRect.left-B.clientRect.left:g.clientRect.top-B.clientRect.top)}_reset(){this._isDragging=!1;const C=T(this.element).style;C.scrollSnapType=C.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(g=>{const B=g.getRootElement();if(B){const G=this._itemPositions.find(ce=>ce.drag===g)?.initialTransform;B.style.transform=G||""}}),this._siblings.forEach(g=>g._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(C,g,B){const G="horizontal"===this._orientation,ce=g[C].clientRect,Pe=g[C+-1*B];let Be=ce[G?"width":"height"]*B;if(Pe){const Ze=G?"left":"top",nt=G?"right":"bottom";-1===B?Be-=Pe.clientRect[Ze]-ce[nt]:Be+=ce[Ze]-Pe.clientRect[nt]}return Be}_getItemOffsetPx(C,g,B){const G="horizontal"===this._orientation;let ce=G?g.left-C.left:g.top-C.top;return-1===B&&(ce+=G?g.width-C.width:g.height-C.height),ce}_shouldEnterAsFirstChild(C,g){if(!this._activeDraggables.length)return!1;const B=this._itemPositions,G="horizontal"===this._orientation;if(B[0].drag!==this._activeDraggables[0]){const Pe=B[B.length-1].clientRect;return G?C>=Pe.right:g>=Pe.bottom}{const Pe=B[0].clientRect;return G?C<=Pe.left:g<=Pe.top}}_getItemIndexFromPointerPosition(C,g,B,G){const ce="horizontal"===this._orientation,Pe=this._itemPositions.findIndex(({drag:Be,clientRect:Ze})=>{if(Be===C)return!1;if(G){const nt=ce?G.x:G.y;if(Be===this._previousSwap.drag&&this._previousSwap.overlaps&&nt===this._previousSwap.delta)return!1}return ce?g>=Math.floor(Ze.left)&&g<Math.floor(Ze.right):B>=Math.floor(Ze.top)&&B<Math.floor(Ze.bottom)});return-1!==Pe&&this.sortPredicate(Pe,C,this)?Pe:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(C,g){return null!=this._clientRect&&ar(this._clientRect,C,g)}_getSiblingContainerFromPosition(C,g,B){return this._siblings.find(G=>G._canReceive(C,g,B))}_canReceive(C,g,B){if(!this._clientRect||!ar(this._clientRect,g,B)||!this.enterPredicate(C,this))return!1;const G=this._getShadowRoot().elementFromPoint(g,B);if(!G)return!1;const ce=T(this.element);return G===ce||ce.contains(G)}_startReceiving(C,g){const B=this._activeSiblings;!B.has(C)&&g.every(G=>this.enterPredicate(G,this)||this._draggables.indexOf(G)>-1)&&(B.add(C),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(C){this._activeSiblings.delete(C),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(C=>{if(this.isDragging()){const g=this._parentPositions.handleScroll(C);g&&(this._itemPositions.forEach(({clientRect:B})=>{dr(B,g.top,g.left)}),this._itemPositions.forEach(({drag:B})=>{this._dragDropRegistry.isDragging(B)&&B._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const C=ie(T(this.element));this._cachedShadowRoot=C||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const C=this._activeDraggables.filter(g=>g.isDragging());this._siblings.forEach(g=>g._startReceiving(this,C))}}function Ts(V,C){const{top:g,bottom:B,height:G}=V,ce=.05*G;return C>=g-ce&&C<=g+ce?1:C>=B-ce&&C<=B+ce?2:0}function Ji(V,C){const{left:g,right:B,width:G}=V,ce=.05*G;return C>=g-ce&&C<=g+ce?1:C>=B-ce&&C<=B+ce?2:0}const ti=pe({passive:!1,capture:!0});let Ro=(()=>{class V{constructor(g,B){this._ngZone=g,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=G=>G.isDragging(),this.pointerMove=new E.x,this.pointerUp=new E.x,this.scroll=new E.x,this._preventDefaultWhileDragging=G=>{this._activeDragInstances.length>0&&G.preventDefault()},this._persistentTouchmoveListener=G=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&G.preventDefault(),this.pointerMove.next(G))},this._document=B}registerDropContainer(g){this._dropInstances.has(g)||this._dropInstances.add(g)}registerDragItem(g){this._dragInstances.add(g),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,ti)})}removeDropContainer(g){this._dropInstances.delete(g)}removeDragItem(g){this._dragInstances.delete(g),this.stopDragging(g),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,ti)}startDragging(g,B){if(!(this._activeDragInstances.indexOf(g)>-1)&&(this._activeDragInstances.push(g),1===this._activeDragInstances.length)){const G=B.type.startsWith("touch");this._globalListeners.set(G?"touchend":"mouseup",{handler:ce=>this.pointerUp.next(ce),options:!0}).set("scroll",{handler:ce=>this.scroll.next(ce),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:ti}),G||this._globalListeners.set("mousemove",{handler:ce=>this.pointerMove.next(ce),options:ti}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((ce,Pe)=>{this._document.addEventListener(Pe,ce.handler,ce.options)})})}}stopDragging(g){const B=this._activeDragInstances.indexOf(g);B>-1&&(this._activeDragInstances.splice(B,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(g){return this._activeDragInstances.indexOf(g)>-1}scrolled(g){const B=[this.scroll];return g&&g!==this._document&&B.push(new R.y(G=>this._ngZone.runOutsideAngular(()=>{const Pe=Be=>{this._activeDragInstances.length&&G.next(Be)};return g.addEventListener("scroll",Pe,!0),()=>{g.removeEventListener("scroll",Pe,!0)}}))),(0,Cs.T)(...B)}ngOnDestroy(){this._dragInstances.forEach(g=>this.removeDragItem(g)),this._dropInstances.forEach(g=>this.removeDropContainer(g)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((g,B)=>{this._document.removeEventListener(B,g.handler,g.options)}),this._globalListeners.clear()}}return V.\u0275fac=function(g){return new(g||V)(b.\u0275\u0275inject(b.NgZone),b.\u0275\u0275inject(c.DOCUMENT))},V.\u0275prov=b.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();const Rs={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Xi=(()=>{class V{constructor(g,B,G,ce){this._document=g,this._ngZone=B,this._viewportRuler=G,this._dragDropRegistry=ce}createDrag(g,B=Rs){return new Po(g,B,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(g){return new yi(g,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return V.\u0275fac=function(g){return new(g||V)(b.\u0275\u0275inject(c.DOCUMENT),b.\u0275\u0275inject(b.NgZone),b.\u0275\u0275inject(Mt),b.\u0275\u0275inject(Ro))},V.\u0275prov=b.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();const ri=new b.InjectionToken("CDK_DRAG_PARENT"),xs=new b.InjectionToken("CdkDropListGroup"),qi=new b.InjectionToken("CDK_DRAG_CONFIG");let ni=0;const cn=new b.InjectionToken("CdkDropList");let Ms=(()=>{class V{constructor(g,B,G,ce,Pe,Be,Ze){this.element=g,this._changeDetectorRef=G,this._scrollDispatcher=ce,this._dir=Pe,this._group=Be,this._destroyed=new E.x,this.connectedTo=[],this.id="cdk-drop-list-"+ni++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new b.EventEmitter,this.entered=new b.EventEmitter,this.exited=new b.EventEmitter,this.sorted=new b.EventEmitter,this._unsortedItems=new Set,this._dropListRef=B.createDropList(g),this._dropListRef.data=this,Ze&&this._assignDefaults(Ze),this._dropListRef.enterPredicate=(nt,St)=>this.enterPredicate(nt.data,St.data),this._dropListRef.sortPredicate=(nt,St,br)=>this.sortPredicate(nt,St.data,br.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),V._dropLists.push(this),Be&&Be._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(g){this._dropListRef.disabled=this._disabled=I(g)}addItem(g){this._unsortedItems.add(g),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(g){this._unsortedItems.delete(g),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((g,B)=>g._dragRef.getVisibleElement().compareDocumentPosition(B._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const g=V._dropLists.indexOf(this);g>-1&&V._dropLists.splice(g,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(g){this._dir&&this._dir.change.pipe((0,Wt.O)(this._dir.value),(0,xr.R)(this._destroyed)).subscribe(B=>g.withDirection(B)),g.beforeStarted.subscribe(()=>{const B=function(V){return Array.isArray(V)?V:[V]}(this.connectedTo).map(G=>"string"==typeof G?V._dropLists.find(Pe=>Pe.id===G):G);if(this._group&&this._group._items.forEach(G=>{-1===B.indexOf(G)&&B.push(G)}),!this._scrollableParentsResolved){const G=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(ce=>ce.getElementRef().nativeElement);this._dropListRef.withScrollableParents(G),this._scrollableParentsResolved=!0}g.disabled=this.disabled,g.lockAxis=this.lockAxis,g.sortingDisabled=I(this.sortingDisabled),g.autoScrollDisabled=I(this.autoScrollDisabled),g.autoScrollStep=x(this.autoScrollStep,2),g.connectedTo(B.filter(G=>G&&G!==this).map(G=>G._dropListRef)).withOrientation(this.orientation)})}_handleEvents(g){g.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),g.entered.subscribe(B=>{this.entered.emit({container:this,item:B.item.data,currentIndex:B.currentIndex})}),g.exited.subscribe(B=>{this.exited.emit({container:this,item:B.item.data}),this._changeDetectorRef.markForCheck()}),g.sorted.subscribe(B=>{this.sorted.emit({previousIndex:B.previousIndex,currentIndex:B.currentIndex,container:this,item:B.item.data})}),g.dropped.subscribe(B=>{this.dropped.emit({previousIndex:B.previousIndex,currentIndex:B.currentIndex,previousContainer:B.previousContainer.data,container:B.container.data,item:B.item.data,isPointerOverContainer:B.isPointerOverContainer,distance:B.distance,dropPoint:B.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(g){const{lockAxis:B,draggingDisabled:G,sortingDisabled:ce,listAutoScrollDisabled:Pe,listOrientation:Be}=g;this.disabled=G??!1,this.sortingDisabled=ce??!1,this.autoScrollDisabled=Pe??!1,this.orientation=Be||"vertical",B&&(this.lockAxis=B)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(g=>g._dragRef))}}return V._dropLists=[],V.\u0275fac=function(g){return new(g||V)(b.\u0275\u0275directiveInject(b.ElementRef),b.\u0275\u0275directiveInject(Xi),b.\u0275\u0275directiveInject(b.ChangeDetectorRef),b.\u0275\u0275directiveInject(tt),b.\u0275\u0275directiveInject(Ur,8),b.\u0275\u0275directiveInject(xs,12),b.\u0275\u0275directiveInject(qi,8))},V.\u0275dir=b.\u0275\u0275defineDirective({type:V,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(g,B){2&g&&(b.\u0275\u0275attribute("id",B.id),b.\u0275\u0275classProp("cdk-drop-list-disabled",B.disabled)("cdk-drop-list-dragging",B._dropListRef.isDragging())("cdk-drop-list-receiving",B._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[b.\u0275\u0275ProvidersFeature([{provide:xs,useValue:void 0},{provide:cn,useExisting:V}])]}),V})();const _i=new b.InjectionToken("CdkDragHandle"),ks=new b.InjectionToken("CdkDragPlaceholder");let Ls=(()=>{class V{constructor(g){this.templateRef=g}}return V.\u0275fac=function(g){return new(g||V)(b.\u0275\u0275directiveInject(b.TemplateRef))},V.\u0275dir=b.\u0275\u0275defineDirective({type:V,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[b.\u0275\u0275ProvidersFeature([{provide:ks,useExisting:V}])]}),V})();const ii=new b.InjectionToken("CdkDragPreview");let Lo=(()=>{class V{constructor(g,B,G,ce,Pe,Be,Ze,nt,St,br,Mr){this.element=g,this.dropContainer=B,this._ngZone=ce,this._viewContainerRef=Pe,this._dir=Ze,this._changeDetectorRef=St,this._selfHandle=br,this._parentDrag=Mr,this._destroyed=new E.x,this.started=new b.EventEmitter,this.released=new b.EventEmitter,this.ended=new b.EventEmitter,this.entered=new b.EventEmitter,this.exited=new b.EventEmitter,this.dropped=new b.EventEmitter,this.moved=new R.y(Fn=>{const Nn=this._dragRef.moved.pipe((0,Ds.U)(si=>({source:this,pointerPosition:si.pointerPosition,event:si.event,delta:si.delta,distance:si.distance}))).subscribe(Fn);return()=>{Nn.unsubscribe()}}),this._dragRef=nt.createDrag(g,{dragStartThreshold:Be&&null!=Be.dragStartThreshold?Be.dragStartThreshold:5,pointerDirectionChangeThreshold:Be&&null!=Be.pointerDirectionChangeThreshold?Be.pointerDirectionChangeThreshold:5,zIndex:Be?.zIndex}),this._dragRef.data=this,V._dragInstances.push(this),Be&&this._assignDefaults(Be),B&&(this._dragRef._withDropContainer(B._dropListRef),B.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(g){this._disabled=I(g),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,qn.q)(1),(0,xr.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(g){const B=g.rootElementSelector,G=g.freeDragPosition;B&&!B.firstChange&&this._updateRootElement(),G&&!G.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const g=V._dragInstances.indexOf(this);g>-1&&V._dragInstances.splice(g,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const g=this.element.nativeElement;let B=g;this.rootElementSelector&&(B=void 0!==g.closest?g.closest(this.rootElementSelector):g.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(B||g)}_getBoundaryElement(){const g=this.boundaryElement;return g?"string"==typeof g?this.element.nativeElement.closest(g):T(g):null}_syncInputs(g){g.beforeStarted.subscribe(()=>{if(!g.isDragging()){const B=this._dir,G=this.dragStartDelay,ce=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,Pe=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;g.disabled=this.disabled,g.lockAxis=this.lockAxis,g.dragStartDelay="object"==typeof G&&G?G:x(G),g.constrainPosition=this.constrainPosition,g.previewClass=this.previewClass,g.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(ce).withPreviewTemplate(Pe).withPreviewContainer(this.previewContainer||"global"),B&&g.withDirection(B.value)}}),g.beforeStarted.pipe((0,qn.q)(1)).subscribe(()=>{if(this._parentDrag)return void g.withParent(this._parentDrag._dragRef);let B=this.element.nativeElement.parentElement;for(;B;){if(B.classList.contains("cdk-drag")){g.withParent(V._dragInstances.find(G=>G.element.nativeElement===B)?._dragRef||null);break}B=B.parentElement}})}_handleEvents(g){g.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),g.released.subscribe(()=>{this.released.emit({source:this})}),g.ended.subscribe(B=>{this.ended.emit({source:this,distance:B.distance,dropPoint:B.dropPoint}),this._changeDetectorRef.markForCheck()}),g.entered.subscribe(B=>{this.entered.emit({container:B.container.data,item:this,currentIndex:B.currentIndex})}),g.exited.subscribe(B=>{this.exited.emit({container:B.container.data,item:this})}),g.dropped.subscribe(B=>{this.dropped.emit({previousIndex:B.previousIndex,currentIndex:B.currentIndex,previousContainer:B.previousContainer.data,container:B.container.data,isPointerOverContainer:B.isPointerOverContainer,item:this,distance:B.distance,dropPoint:B.dropPoint})})}_assignDefaults(g){const{lockAxis:B,dragStartDelay:G,constrainPosition:ce,previewClass:Pe,boundaryElement:Be,draggingDisabled:Ze,rootElementSelector:nt,previewContainer:St}=g;this.disabled=Ze??!1,this.dragStartDelay=G||0,B&&(this.lockAxis=B),ce&&(this.constrainPosition=ce),Pe&&(this.previewClass=Pe),Be&&(this.boundaryElement=Be),nt&&(this.rootElementSelector=nt),St&&(this.previewContainer=St)}_setupHandlesListener(){this._handles.changes.pipe((0,Wt.O)(this._handles),(0,$i.b)(g=>{const B=g.filter(G=>G._parentDrag===this).map(G=>G.element);this._selfHandle&&this.rootElementSelector&&B.push(this.element),this._dragRef.withHandles(B)}),(0,Do.w)(g=>(0,Cs.T)(...g.map(B=>B._stateChanges.pipe((0,Wt.O)(B))))),(0,xr.R)(this._destroyed)).subscribe(g=>{const B=this._dragRef,G=g.element.nativeElement;g.disabled?B.disableHandle(G):B.enableHandle(G)})}}return V._dragInstances=[],V.\u0275fac=function(g){return new(g||V)(b.\u0275\u0275directiveInject(b.ElementRef),b.\u0275\u0275directiveInject(cn,12),b.\u0275\u0275directiveInject(c.DOCUMENT),b.\u0275\u0275directiveInject(b.NgZone),b.\u0275\u0275directiveInject(b.ViewContainerRef),b.\u0275\u0275directiveInject(qi,8),b.\u0275\u0275directiveInject(Ur,8),b.\u0275\u0275directiveInject(Xi),b.\u0275\u0275directiveInject(b.ChangeDetectorRef),b.\u0275\u0275directiveInject(_i,10),b.\u0275\u0275directiveInject(ri,12))},V.\u0275dir=b.\u0275\u0275defineDirective({type:V,selectors:[["","cdkDrag",""]],contentQueries:function(g,B,G){if(1&g&&(b.\u0275\u0275contentQuery(G,ii,5),b.\u0275\u0275contentQuery(G,ks,5),b.\u0275\u0275contentQuery(G,_i,5)),2&g){let ce;b.\u0275\u0275queryRefresh(ce=b.\u0275\u0275loadQuery())&&(B._previewTemplate=ce.first),b.\u0275\u0275queryRefresh(ce=b.\u0275\u0275loadQuery())&&(B._placeholderTemplate=ce.first),b.\u0275\u0275queryRefresh(ce=b.\u0275\u0275loadQuery())&&(B._handles=ce)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(g,B){2&g&&b.\u0275\u0275classProp("cdk-drag-disabled",B.disabled)("cdk-drag-dragging",B._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[b.\u0275\u0275ProvidersFeature([{provide:ri,useExisting:V}]),b.\u0275\u0275NgOnChangesFeature]}),V})(),Bo=(()=>{class V{}return V.\u0275fac=function(g){return new(g||V)},V.\u0275mod=b.\u0275\u0275defineNgModule({type:V}),V.\u0275inj=b.\u0275\u0275defineInjector({providers:[Xi],imports:[er]}),V})()},1481:(oe,N,l)=>{l.d(N,{b2:()=>sr,H7:()=>Gr,q6:()=>Wr,se:()=>J});var b=l(1457),c=l(7777);class I extends b.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class x extends I{static makeCurrent(){(0,b.\u0275setRootDomAdapter)(new x)}onAndCancel(ve,se,Ae){return ve.addEventListener(se,Ae,!1),()=>{ve.removeEventListener(se,Ae,!1)}}dispatchEvent(ve,se){ve.dispatchEvent(se)}remove(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}createElement(ve,se){return(se=se||this.getDefaultDocument()).createElement(ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ve){return ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(ve){return ve instanceof DocumentFragment}getGlobalEventTarget(ve,se){return"window"===se?window:"document"===se?ve:"body"===se?ve.body:null}getBaseHref(ve){const se=(F=F||document.querySelector("base"),F?F.getAttribute("href"):null);return null==se?null:function(De){U=U||document.createElement("a"),U.setAttribute("href",De);const ve=U.pathname;return"/"===ve.charAt(0)?ve:`/${ve}`}(se)}resetBaseElement(){F=null}getUserAgent(){return window.navigator.userAgent}getCookie(ve){return(0,b.\u0275parseCookieValue)(document.cookie,ve)}}let U,F=null;const P=new c.InjectionToken("TRANSITION_ID"),h=[{provide:c.APP_INITIALIZER,useFactory:function(De,ve,se){return()=>{se.get(c.ApplicationInitStatus).donePromise.then(()=>{const Ae=(0,b.\u0275getDOM)(),ze=ve.querySelectorAll(`style[ng-transition="${De}"]`);for(let it=0;it<ze.length;it++)Ae.remove(ze[it])})}},deps:[P,b.DOCUMENT,c.Injector],multi:!0}];class R{static init(){(0,c.setTestabilityGetter)(new R)}addToWindow(ve){c.\u0275global.getAngularTestability=(Ae,ze=!0)=>{const it=ve.findTestabilityInTree(Ae,ze);if(null==it)throw new Error("Could not find testability for element.");return it},c.\u0275global.getAllAngularTestabilities=()=>ve.getAllTestabilities(),c.\u0275global.getAllAngularRootElements=()=>ve.getAllRootElements(),c.\u0275global.frameworkStabilizers||(c.\u0275global.frameworkStabilizers=[]),c.\u0275global.frameworkStabilizers.push(Ae=>{const ze=c.\u0275global.getAllAngularTestabilities();let it=ze.length,kt=!1;const Ar=function(vr){kt=kt||vr,it--,0==it&&Ae(kt)};ze.forEach(function(vr){vr.whenStable(Ar)})})}findTestabilityInTree(ve,se,Ae){return null==se?null:ve.getTestability(se)??(Ae?(0,b.\u0275getDOM)().isShadowRoot(se)?this.findTestabilityInTree(ve,se.host,!0):this.findTestabilityInTree(ve,se.parentElement,!0):null)}}let D=(()=>{class De{build(){return new XMLHttpRequest}}return De.\u0275fac=function(se){return new(se||De)},De.\u0275prov=c.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})();const L=new c.InjectionToken("EventManagerPlugins");let O=(()=>{class De{constructor(se,Ae){this._zone=Ae,this._eventNameToPlugin=new Map,se.forEach(ze=>ze.manager=this),this._plugins=se.slice().reverse()}addEventListener(se,Ae,ze){return this._findPluginFor(Ae).addEventListener(se,Ae,ze)}addGlobalEventListener(se,Ae,ze){return this._findPluginFor(Ae).addGlobalEventListener(se,Ae,ze)}getZone(){return this._zone}_findPluginFor(se){const Ae=this._eventNameToPlugin.get(se);if(Ae)return Ae;const ze=this._plugins;for(let it=0;it<ze.length;it++){const kt=ze[it];if(kt.supports(se))return this._eventNameToPlugin.set(se,kt),kt}throw new Error(`No event manager plugin found for event ${se}`)}}return De.\u0275fac=function(se){return new(se||De)(c.\u0275\u0275inject(L),c.\u0275\u0275inject(c.NgZone))},De.\u0275prov=c.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})();class w{constructor(ve){this._doc=ve}addGlobalEventListener(ve,se,Ae){const ze=(0,b.\u0275getDOM)().getGlobalEventTarget(this._doc,ve);if(!ze)throw new Error(`Unsupported event target ${ze} for event ${se}`);return this.addEventListener(ze,se,Ae)}}let y=(()=>{class De{constructor(){this._stylesSet=new Set}addStyles(se){const Ae=new Set;se.forEach(ze=>{this._stylesSet.has(ze)||(this._stylesSet.add(ze),Ae.add(ze))}),this.onStylesAdded(Ae)}onStylesAdded(se){}getAllStyles(){return Array.from(this._stylesSet)}}return De.\u0275fac=function(se){return new(se||De)},De.\u0275prov=c.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})(),u=(()=>{class De extends y{constructor(se){super(),this._doc=se,this._hostNodes=new Map,this._hostNodes.set(se.head,[])}_addStylesToHost(se,Ae,ze){se.forEach(it=>{const kt=this._doc.createElement("style");kt.textContent=it,ze.push(Ae.appendChild(kt))})}addHost(se){const Ae=[];this._addStylesToHost(this._stylesSet,se,Ae),this._hostNodes.set(se,Ae)}removeHost(se){const Ae=this._hostNodes.get(se);Ae&&Ae.forEach(o),this._hostNodes.delete(se)}onStylesAdded(se){this._hostNodes.forEach((Ae,ze)=>{this._addStylesToHost(se,ze,Ae)})}ngOnDestroy(){this._hostNodes.forEach(se=>se.forEach(o))}}return De.\u0275fac=function(se){return new(se||De)(c.\u0275\u0275inject(b.DOCUMENT))},De.\u0275prov=c.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})();function o(De){(0,b.\u0275getDOM)().remove(De)}const m={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},p=/%COMP%/g;function z(De,ve,se){for(let Ae=0;Ae<ve.length;Ae++){let ze=ve[Ae];Array.isArray(ze)?z(De,ze,se):(ze=ze.replace(p,De),se.push(ze))}return se}function Y(De){return ve=>{if("__ngUnwrap__"===ve)return De;!1===De(ve)&&(ve.preventDefault(),ve.returnValue=!1)}}let J=(()=>{class De{constructor(se,Ae,ze){this.eventManager=se,this.sharedStylesHost=Ae,this.appId=ze,this.rendererByCompId=new Map,this.defaultRenderer=new K(se)}createRenderer(se,Ae){if(!se||!Ae)return this.defaultRenderer;switch(Ae.encapsulation){case c.ViewEncapsulation.Emulated:{let ze=this.rendererByCompId.get(Ae.id);return ze||(ze=new Fe(this.eventManager,this.sharedStylesHost,Ae,this.appId),this.rendererByCompId.set(Ae.id,ze)),ze.applyToHost(se),ze}case 1:case c.ViewEncapsulation.ShadowDom:return new me(this.eventManager,this.sharedStylesHost,se,Ae);default:if(!this.rendererByCompId.has(Ae.id)){const ze=z(Ae.id,Ae.styles,[]);this.sharedStylesHost.addStyles(ze),this.rendererByCompId.set(Ae.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return De.\u0275fac=function(se){return new(se||De)(c.\u0275\u0275inject(O),c.\u0275\u0275inject(u),c.\u0275\u0275inject(c.APP_ID))},De.\u0275prov=c.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})();class K{constructor(ve){this.eventManager=ve,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ve,se){return se?document.createElementNS(m[se]||se,ve):document.createElement(ve)}createComment(ve){return document.createComment(ve)}createText(ve){return document.createTextNode(ve)}appendChild(ve,se){ve.appendChild(se)}insertBefore(ve,se,Ae){ve&&ve.insertBefore(se,Ae)}removeChild(ve,se){ve&&ve.removeChild(se)}selectRootElement(ve,se){let Ae="string"==typeof ve?document.querySelector(ve):ve;if(!Ae)throw new Error(`The selector "${ve}" did not match any elements`);return se||(Ae.textContent=""),Ae}parentNode(ve){return ve.parentNode}nextSibling(ve){return ve.nextSibling}setAttribute(ve,se,Ae,ze){if(ze){se=ze+":"+se;const it=m[ze];it?ve.setAttributeNS(it,se,Ae):ve.setAttribute(se,Ae)}else ve.setAttribute(se,Ae)}removeAttribute(ve,se,Ae){if(Ae){const ze=m[Ae];ze?ve.removeAttributeNS(ze,se):ve.removeAttribute(`${Ae}:${se}`)}else ve.removeAttribute(se)}addClass(ve,se){ve.classList.add(se)}removeClass(ve,se){ve.classList.remove(se)}setStyle(ve,se,Ae,ze){ze&(c.RendererStyleFlags2.DashCase|c.RendererStyleFlags2.Important)?ve.style.setProperty(se,Ae,ze&c.RendererStyleFlags2.Important?"important":""):ve.style[se]=Ae}removeStyle(ve,se,Ae){Ae&c.RendererStyleFlags2.DashCase?ve.style.removeProperty(se):ve.style[se]=""}setProperty(ve,se,Ae){ve[se]=Ae}setValue(ve,se){ve.nodeValue=se}listen(ve,se,Ae){return"string"==typeof ve?this.eventManager.addGlobalEventListener(ve,se,Y(Ae)):this.eventManager.addEventListener(ve,se,Y(Ae))}}class Fe extends K{constructor(ve,se,Ae,ze){super(ve),this.component=Ae;const it=z(ze+"-"+Ae.id,Ae.styles,[]);se.addStyles(it),this.contentAttr="_ngcontent-%COMP%".replace(p,ze+"-"+Ae.id),this.hostAttr="_nghost-%COMP%".replace(p,ze+"-"+Ae.id)}applyToHost(ve){super.setAttribute(ve,this.hostAttr,"")}createElement(ve,se){const Ae=super.createElement(ve,se);return super.setAttribute(Ae,this.contentAttr,""),Ae}}class me extends K{constructor(ve,se,Ae,ze){super(ve),this.sharedStylesHost=se,this.hostEl=Ae,this.shadowRoot=Ae.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const it=z(ze.id,ze.styles,[]);for(let kt=0;kt<it.length;kt++){const Ar=document.createElement("style");Ar.textContent=it[kt],this.shadowRoot.appendChild(Ar)}}nodeOrShadowRoot(ve){return ve===this.hostEl?this.shadowRoot:ve}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ve,se){return super.appendChild(this.nodeOrShadowRoot(ve),se)}insertBefore(ve,se,Ae){return super.insertBefore(this.nodeOrShadowRoot(ve),se,Ae)}removeChild(ve,se){return super.removeChild(this.nodeOrShadowRoot(ve),se)}parentNode(ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ve)))}}let ge=(()=>{class De extends w{constructor(se){super(se)}supports(se){return!0}addEventListener(se,Ae,ze){return se.addEventListener(Ae,ze,!1),()=>this.removeEventListener(se,Ae,ze)}removeEventListener(se,Ae,ze){return se.removeEventListener(Ae,ze)}}return De.\u0275fac=function(se){return new(se||De)(c.\u0275\u0275inject(b.DOCUMENT))},De.\u0275prov=c.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})();const te=["alt","control","meta","shift"],Re={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},je={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xe={alt:De=>De.altKey,control:De=>De.ctrlKey,meta:De=>De.metaKey,shift:De=>De.shiftKey};let ut=(()=>{class De extends w{constructor(se){super(se)}supports(se){return null!=De.parseEventName(se)}addEventListener(se,Ae,ze){const it=De.parseEventName(Ae),kt=De.eventCallback(it.fullKey,ze,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,b.\u0275getDOM)().onAndCancel(se,it.domEventName,kt))}static parseEventName(se){const Ae=se.toLowerCase().split("."),ze=Ae.shift();if(0===Ae.length||"keydown"!==ze&&"keyup"!==ze)return null;const it=De._normalizeKey(Ae.pop());let kt="";if(te.forEach(vr=>{const $n=Ae.indexOf(vr);$n>-1&&(Ae.splice($n,1),kt+=vr+".")}),kt+=it,0!=Ae.length||0===it.length)return null;const Ar={};return Ar.domEventName=ze,Ar.fullKey=kt,Ar}static getEventFullKey(se){let Ae="",ze=function(De){let ve=De.key;if(null==ve){if(ve=De.keyIdentifier,null==ve)return"Unidentified";ve.startsWith("U+")&&(ve=String.fromCharCode(parseInt(ve.substring(2),16)),3===De.location&&je.hasOwnProperty(ve)&&(ve=je[ve]))}return Re[ve]||ve}(se);return ze=ze.toLowerCase()," "===ze?ze="space":"."===ze&&(ze="dot"),te.forEach(it=>{it!=ze&&Xe[it](se)&&(Ae+=it+".")}),Ae+=ze,Ae}static eventCallback(se,Ae,ze){return it=>{De.getEventFullKey(it)===se&&ze.runGuarded(()=>Ae(it))}}static _normalizeKey(se){return"esc"===se?"escape":se}}return De.\u0275fac=function(se){return new(se||De)(c.\u0275\u0275inject(b.DOCUMENT))},De.\u0275prov=c.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})();const Wr=(0,c.createPlatformFactory)(c.platformCore,"browser",[{provide:c.PLATFORM_ID,useValue:b.\u0275PLATFORM_BROWSER_ID},{provide:c.PLATFORM_INITIALIZER,useValue:function(){x.makeCurrent(),R.init()},multi:!0},{provide:b.DOCUMENT,useFactory:function(){return(0,c.\u0275setDocument)(document),document},deps:[]}]),cr=[{provide:c.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:c.ErrorHandler,useFactory:function(){return new c.ErrorHandler},deps:[]},{provide:L,useClass:ge,multi:!0,deps:[b.DOCUMENT,c.NgZone,c.PLATFORM_ID]},{provide:L,useClass:ut,multi:!0,deps:[b.DOCUMENT]},{provide:J,useClass:J,deps:[O,u,c.APP_ID]},{provide:c.RendererFactory2,useExisting:J},{provide:y,useExisting:u},{provide:u,useClass:u,deps:[b.DOCUMENT]},{provide:c.Testability,useClass:c.Testability,deps:[c.NgZone]},{provide:O,useClass:O,deps:[L,c.NgZone]},{provide:b.XhrFactory,useClass:D,deps:[]}];let sr=(()=>{class De{constructor(se){if(se)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(se){return{ngModule:De,providers:[{provide:c.APP_ID,useValue:se.appId},{provide:P,useExisting:c.APP_ID},h]}}}return De.\u0275fac=function(se){return new(se||De)(c.\u0275\u0275inject(De,12))},De.\u0275mod=c.\u0275\u0275defineNgModule({type:De}),De.\u0275inj=c.\u0275\u0275defineInjector({providers:cr,imports:[b.CommonModule,c.ApplicationModule]}),De})();"undefined"!=typeof window&&window;let Gr=(()=>{class De{}return De.\u0275fac=function(se){return new(se||De)},De.\u0275prov=c.\u0275\u0275defineInjectable({token:De,factory:function(se){let Ae=null;return Ae=se?new(se||De):c.\u0275\u0275inject(Kn),Ae},providedIn:"root"}),De})(),Kn=(()=>{class De extends Gr{constructor(se){super(),this._doc=se}sanitize(se,Ae){if(null==Ae)return null;switch(se){case c.SecurityContext.NONE:return Ae;case c.SecurityContext.HTML:return(0,c.\u0275allowSanitizationBypassAndThrow)(Ae,"HTML")?(0,c.\u0275unwrapSafeValue)(Ae):(0,c.\u0275_sanitizeHtml)(this._doc,String(Ae)).toString();case c.SecurityContext.STYLE:return(0,c.\u0275allowSanitizationBypassAndThrow)(Ae,"Style")?(0,c.\u0275unwrapSafeValue)(Ae):Ae;case c.SecurityContext.SCRIPT:if((0,c.\u0275allowSanitizationBypassAndThrow)(Ae,"Script"))return(0,c.\u0275unwrapSafeValue)(Ae);throw new Error("unsafe value used in a script context");case c.SecurityContext.URL:return(0,c.\u0275getSanitizationBypassType)(Ae),(0,c.\u0275allowSanitizationBypassAndThrow)(Ae,"URL")?(0,c.\u0275unwrapSafeValue)(Ae):(0,c.\u0275_sanitizeUrl)(String(Ae));case c.SecurityContext.RESOURCE_URL:if((0,c.\u0275allowSanitizationBypassAndThrow)(Ae,"ResourceURL"))return(0,c.\u0275unwrapSafeValue)(Ae);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${se} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(se){return(0,c.\u0275bypassSanitizationTrustHtml)(se)}bypassSecurityTrustStyle(se){return(0,c.\u0275bypassSanitizationTrustStyle)(se)}bypassSecurityTrustScript(se){return(0,c.\u0275bypassSanitizationTrustScript)(se)}bypassSecurityTrustUrl(se){return(0,c.\u0275bypassSanitizationTrustUrl)(se)}bypassSecurityTrustResourceUrl(se){return(0,c.\u0275bypassSanitizationTrustResourceUrl)(se)}}return De.\u0275fac=function(se){return new(se||De)(c.\u0275\u0275inject(b.DOCUMENT))},De.\u0275prov=c.\u0275\u0275defineInjectable({token:De,factory:function(se){let Ae=null;return Ae=se?new se:function(De){return new Kn(De.get(b.DOCUMENT))}(c.\u0275\u0275inject(c.Injector)),Ae},providedIn:"root"}),De})()},5861:(oe,N,l)=>{function b(I,x,F,M,U,T,P){try{var E=I[T](P),h=E.value}catch(R){return void F(R)}E.done?x(h):Promise.resolve(h).then(M,U)}function c(I){return function(){var x=this,F=arguments;return new Promise(function(M,U){var T=I.apply(x,F);function P(h){b(T,M,U,P,E,"next",h)}function E(h){b(T,M,U,P,E,"throw",h)}P(void 0)})}}l.d(N,{Z:()=>c})}}]);