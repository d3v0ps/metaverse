(self.webpackChunk_central_factory_portal=self.webpackChunk_central_factory_portal||[]).push([[12],{12:(I,c,o)=>{o.r(c),o.d(c,{LoginModule:()=>k});var d=o(1457),l=o(4006),f=o(4438),u=o(2051),i=o(428),p=o(6435),m=o(3354),v=o(8505),g=o(262),S=o(2843),e=o(7777),y=o(1623),h=o(9750),B=o(3454),E=o(7967);function b(t,s){1&t&&(e.\u0275\u0275elementStart(0,"label",15),e.\u0275\u0275text(1,"Invalid Password"),e.\u0275\u0275elementEnd())}const L=[{path:"",component:(()=>{class t{constructor(n,r){this.entityManager=n,this.router=r,this.form=new m.cw({name:new m.NI("",[m.kI.required]),password:new m.NI("",[m.kI.required,m.kI.minLength(8)])})}onFormSubmit(){if(!this.form.valid)return;const{name:n,password:r}=this.form.value;this.entityManager.setupDatabase(n,r).pipe((0,v.b)(()=>this.router.navigate(["/"])),(0,g.K)(a=>(a.rxdb&&"DB1"===a.code&&this.form.controls.password.setErrors({invalidPassword:!0}),(0,S._)(()=>a)))).subscribe()}onRandomizePasswordButtonClick(){this.form.controls.password.setValue(Math.random().toString(36).slice(-8))}}return t.\u0275fac=function(n){return new(n||t)(e.\u0275\u0275directiveInject(p.v2),e.\u0275\u0275directiveInject(i.Router))},t.\u0275cmp=e.\u0275\u0275defineComponent({type:t,selectors:[["cf-login"]],decls:22,vars:3,consts:[["cfBlock","scene-content"],["cfBlock","login-form"],["cfBlock","form",3,"formGroup","submit"],["cfBlock","form-group"],["cfBlock","form-label","for","name"],["cfBlock","form-control","type","name","id","name","formControlName","name",1,"input"],["cfBlock","form-label","for","password"],["cfBlock","input-group"],["cfBlock","form-control","type","text","id","password","formControlName","password",1,"input"],["cfBlock","input-group-append","type","button",1,"button","button--primary",3,"click"],["src","assets/icons/mdi/dice-multiple.svg","cfElem","icon",3,"svgClass"],["cfBlock","form-info","for","password"],["cfBlock","form-error",4,"ngIf"],["cfBlock","form-buttons"],["cfBlock","button","cfMod","primary","type","submit"],["cfBlock","form-error"]],template:function(n,r){1&n&&(e.\u0275\u0275elementStart(0,"div",0),e.\u0275\u0275elementStart(1,"h2"),e.\u0275\u0275text(2,"Access to the Metaverse"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"div",1),e.\u0275\u0275elementStart(4,"form",2),e.\u0275\u0275listener("submit",function(){return r.onFormSubmit()}),e.\u0275\u0275elementStart(5,"div",3),e.\u0275\u0275elementStart(6,"label",4),e.\u0275\u0275text(7,"Name"),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(8,"input",5),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(9,"div",3),e.\u0275\u0275elementStart(10,"label",6),e.\u0275\u0275text(11,"Password"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",7),e.\u0275\u0275element(13,"input",8),e.\u0275\u0275elementStart(14,"button",9),e.\u0275\u0275listener("click",function(){return r.onRandomizePasswordButtonClick()}),e.\u0275\u0275element(15,"cf-svg-icon",10),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"label",11),e.\u0275\u0275text(17,"We don't store your password, make sure you remember it. Otherwise you will lose your data."),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(18,b,2,0,"label",12),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"div",13),e.\u0275\u0275elementStart(20,"button",14),e.\u0275\u0275text(21," Access "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&n&&(e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",r.form),e.\u0275\u0275advance(11),e.\u0275\u0275property("svgClass","icon__svg"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",r.form.controls.password.errors&&r.form.controls.password.errors.invalidPassword))},directives:[y.G,l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,h.b,B.e,d.NgIf,E.I],encapsulation:2}),t})()}];let M=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[i.RouterModule.forChild(L)],i.RouterModule]}),t})(),k=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.\u0275\u0275defineNgModule({type:t}),t.\u0275inj=e.\u0275\u0275defineInjector({imports:[[d.CommonModule,l.u5,l.UX,f.O,u.Y,M]]}),t})()}}]);