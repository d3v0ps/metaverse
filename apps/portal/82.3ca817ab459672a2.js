(self.webpackChunk_central_factory_portal=self.webpackChunk_central_factory_portal||[]).push([[82],{9082:(ae,N,c)=>{c.r(N);var _=c(1481),l=c(7777),O=c(9283),p=c(7340);function B(){return"undefined"!=typeof window&&void 0!==window.document}function k(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function j(w){switch(w.length){case 0:return new p.ZN;case 1:return w[0];default:return new p.ZE(w)}}function M(w,a,o,y,L={},G={}){const se=[],ue=[];let ye=-1,ke=null;if(y.forEach(Qe=>{const qe=Qe.offset,pt=qe==ye,Pt=pt&&ke||{};Object.keys(Qe).forEach(ft=>{let bt=ft,Bt=Qe[ft];if("offset"!==ft)switch(bt=a.normalizePropertyName(bt,se),Bt){case p.k1:Bt=L[ft];break;case p.l3:Bt=G[ft];break;default:Bt=a.normalizeStyleValue(ft,bt,Bt,se)}Pt[bt]=Bt}),pt||ue.push(Pt),ke=Pt,ye=qe}),se.length){const Qe="\n - ";throw new Error(`Unable to animate due to the following errors:${Qe}${se.join(Qe)}`)}return ue}function I(w,a,o,y){switch(a){case"start":w.onStart(()=>y(o&&S(o,"start",w)));break;case"done":w.onDone(()=>y(o&&S(o,"done",w)));break;case"destroy":w.onDestroy(()=>y(o&&S(o,"destroy",w)))}}function S(w,a,o){const G=E(w.element,w.triggerName,w.fromState,w.toState,a||w.phaseName,o.totalTime??w.totalTime,!!o.disabled),se=w._data;return null!=se&&(G._data=se),G}function E(w,a,o,y,L="",G=0,se){return{element:w,triggerName:a,fromState:o,toState:y,phaseName:L,totalTime:G,disabled:!!se}}function T(w,a,o){let y;return w instanceof Map?(y=w.get(a),y||w.set(a,y=o)):(y=w[a],y||(y=w[a]=o)),y}function P(w){const a=w.indexOf(":");return[w.substring(1,a),w.substr(a+1)]}let x=(w,a)=>!1,R=(w,a,o)=>[];(k()||"undefined"!=typeof Element)&&(x=B()?(w,a)=>{for(;a&&a!==document.documentElement;){if(a===w)return!0;a=a.parentNode||a.host}return!1}:(w,a)=>w.contains(a),R=(w,a,o)=>{let y=[];if(o){const L=w.querySelectorAll(a);for(let G=0;G<L.length;G++)y.push(L[G])}else{const L=w.querySelector(a);L&&y.push(L)}return y});let u=null,s=!1;function m(w){u||(u=("undefined"!=typeof document?document.body:null)||{},s=!!u.style&&"WebkitAppearance"in u.style);let a=!0;return u.style&&!function(w){return"ebkit"==w.substring(1,6)}(w)&&(a=w in u.style,!a&&s&&(a="Webkit"+w.charAt(0).toUpperCase()+w.substr(1)in u.style)),a}const $=x,oe=R;function Ee(w){const a={};return Object.keys(w).forEach(o=>{const y=o.replace(/([a-z])([A-Z])/g,"$1-$2");a[y]=w[o]}),a}let ge=(()=>{class w{validateStyleProperty(o){return m(o)}matchesElement(o,y){return!1}containsElement(o,y){return $(o,y)}query(o,y,L){return oe(o,y,L)}computeStyle(o,y,L){return L||""}animate(o,y,L,G,se,ue=[],ye){return new p.ZN(L,G)}}return w.\u0275fac=function(o){return new(o||w)},w.\u0275prov=l.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac}),w})(),pe=(()=>{class w{}return w.NOOP=new ge,w})();const Q="ng-enter",X="ng-leave",K="ng-trigger",ne=".ng-trigger",Se="ng-animating",Be=".ng-animating";function me(w){if("number"==typeof w)return w;const a=w.match(/^(-?[\.\d]+)(m?s)/);return!a||a.length<2?0:_e(parseFloat(a[1]),a[2])}function _e(w,a){return"s"===a?1e3*w:w}function te(w,a,o){return w.hasOwnProperty("duration")?w:function(w,a,o){let L,G=0,se="";if("string"==typeof w){const ue=w.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ue)return a.push(`The provided timing value "${w}" is invalid.`),{duration:0,delay:0,easing:""};L=_e(parseFloat(ue[1]),ue[2]);const ye=ue[3];null!=ye&&(G=_e(parseFloat(ye),ue[4]));const ke=ue[5];ke&&(se=ke)}else L=w;if(!o){let ue=!1,ye=a.length;L<0&&(a.push("Duration values below 0 are not allowed for this animation step."),ue=!0),G<0&&(a.push("Delay values below 0 are not allowed for this animation step."),ue=!0),ue&&a.splice(ye,0,`The provided timing value "${w}" is invalid.`)}return{duration:L,delay:G,easing:se}}(w,a,o)}function Te(w,a={}){return Object.keys(w).forEach(o=>{a[o]=w[o]}),a}function Ge(w,a,o={}){if(a)for(let y in w)o[y]=w[y];else Te(w,o);return o}function ut(w,a,o){return o?a+":"+o+";":""}function et(w){let a="";for(let o=0;o<w.style.length;o++){const y=w.style.item(o);a+=ut(0,y,w.style.getPropertyValue(y))}for(const o in w.style)w.style.hasOwnProperty(o)&&!o.startsWith("_")&&(a+=ut(0,je(o),w.style[o]));w.setAttribute("style",a)}function ct(w,a,o){w.style&&(Object.keys(a).forEach(y=>{const L=Jr(y);o&&!o.hasOwnProperty(y)&&(o[y]=w.style[L]),w.style[L]=a[y]}),k()&&et(w))}function St(w,a){w.style&&(Object.keys(a).forEach(o=>{const y=Jr(o);w.style[y]=""}),k()&&et(w))}function It(w){return Array.isArray(w)?1==w.length?w[0]:(0,p.vP)(w):w}const Mr=new RegExp("{{\\s*(.+?)\\s*}}","g");function br(w){let a=[];if("string"==typeof w){let o;for(;o=Mr.exec(w);)a.push(o[1]);Mr.lastIndex=0}return a}function cr(w,a,o){const y=w.toString(),L=y.replace(Mr,(G,se)=>{let ue=a[se];return a.hasOwnProperty(se)||(o.push(`Please provide a value for the animation param ${se}`),ue=""),ue.toString()});return L==y?w:L}function mr(w){const a=[];let o=w.next();for(;!o.done;)a.push(o.value),o=w.next();return a}const rr=/-+([a-z0-9])/g;function Jr(w){return w.replace(rr,(...a)=>a[1].toUpperCase())}function je(w){return w.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Tt(w,a){return 0===w||0===a}function xt(w,a,o){const y=Object.keys(o);if(y.length&&a.length){let G=a[0],se=[];if(y.forEach(ue=>{G.hasOwnProperty(ue)||se.push(ue),G[ue]=o[ue]}),se.length)for(var L=1;L<a.length;L++){let ue=a[L];se.forEach(function(ye){ue[ye]=an(w,ye)})}}return a}function Rt(w,a,o){switch(a.type){case 7:return w.visitTrigger(a,o);case 0:return w.visitState(a,o);case 1:return w.visitTransition(a,o);case 2:return w.visitSequence(a,o);case 3:return w.visitGroup(a,o);case 4:return w.visitAnimate(a,o);case 5:return w.visitKeyframes(a,o);case 6:return w.visitStyle(a,o);case 8:return w.visitReference(a,o);case 9:return w.visitAnimateChild(a,o);case 10:return w.visitAnimateRef(a,o);case 11:return w.visitQuery(a,o);case 12:return w.visitStagger(a,o);default:throw new Error(`Unable to resolve animation metadata node #${a.type}`)}}function an(w,a){return window.getComputedStyle(w)[a]}function Ai(w,a){const o=[];return"string"==typeof w?w.split(/\s*,\s*/).forEach(y=>function(w,a,o){if(":"==w[0]){const ye=function(w,a){switch(w){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,y)=>parseFloat(y)>parseFloat(o);case":decrement":return(o,y)=>parseFloat(y)<parseFloat(o);default:return a.push(`The transition alias value "${w}" is not supported`),"* => *"}}(w,o);if("function"==typeof ye)return void a.push(ye);w=ye}const y=w.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==y||y.length<4)return o.push(`The provided transition expression "${w}" is not supported`),a;const L=y[1],G=y[2],se=y[3];a.push(qn(L,se));"<"==G[0]&&!("*"==L&&"*"==se)&&a.push(qn(se,L))}(y,o,a)):o.push(w),o}const Mn=new Set(["true","1"]),un=new Set(["false","0"]);function qn(w,a){const o=Mn.has(w)||un.has(w),y=Mn.has(a)||un.has(a);return(L,G)=>{let se="*"==w||w==L,ue="*"==a||a==G;return!se&&o&&"boolean"==typeof L&&(se=L?Mn.has(w):un.has(w)),!ue&&y&&"boolean"==typeof G&&(ue=G?Mn.has(a):un.has(a)),se&&ue}}const Ls=new RegExp("s*:selfs*,?","g");function Ci(w,a,o){return new Di(w).build(a,o)}class Di{constructor(a){this._driver=a}build(a,o){const y=new Ns(o);return this._resetContextStyleTimingState(y),Rt(this,It(a),y)}_resetContextStyleTimingState(a){a.currentQuerySelector="",a.collectedStyles={},a.collectedStyles[""]={},a.currentTime=0}visitTrigger(a,o){let y=o.queryCount=0,L=o.depCount=0;const G=[],se=[];return"@"==a.name.charAt(0)&&o.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),a.definitions.forEach(ue=>{if(this._resetContextStyleTimingState(o),0==ue.type){const ye=ue,ke=ye.name;ke.toString().split(/\s*,\s*/).forEach(Qe=>{ye.name=Qe,G.push(this.visitState(ye,o))}),ye.name=ke}else if(1==ue.type){const ye=this.visitTransition(ue,o);y+=ye.queryCount,L+=ye.depCount,se.push(ye)}else o.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:a.name,states:G,transitions:se,queryCount:y,depCount:L,options:null}}visitState(a,o){const y=this.visitStyle(a.styles,o),L=a.options&&a.options.params||null;if(y.containsDynamicStyles){const G=new Set,se=L||{};if(y.styles.forEach(ue=>{if(kn(ue)){const ye=ue;Object.keys(ye).forEach(ke=>{br(ye[ke]).forEach(Qe=>{se.hasOwnProperty(Qe)||G.add(Qe)})})}}),G.size){const ue=mr(G.values());o.errors.push(`state("${a.name}", ...) must define default values for all the following style substitutions: ${ue.join(", ")}`)}}return{type:0,name:a.name,style:y,options:L?{params:L}:null}}visitTransition(a,o){o.queryCount=0,o.depCount=0;const y=Rt(this,It(a.animation),o);return{type:1,matchers:Ai(a.expr,o.errors),animation:y,queryCount:o.queryCount,depCount:o.depCount,options:qt(a.options)}}visitSequence(a,o){return{type:2,steps:a.steps.map(y=>Rt(this,y,o)),options:qt(a.options)}}visitGroup(a,o){const y=o.currentTime;let L=0;const G=a.steps.map(se=>{o.currentTime=y;const ue=Rt(this,se,o);return L=Math.max(L,o.currentTime),ue});return o.currentTime=L,{type:3,steps:G,options:qt(a.options)}}visitAnimate(a,o){const y=function(w,a){let o=null;if(w.hasOwnProperty("duration"))o=w;else if("number"==typeof w)return ei(te(w,a).duration,0,"");const y=w;if(y.split(/\s+/).some(G=>"{"==G.charAt(0)&&"{"==G.charAt(1))){const G=ei(0,0,"");return G.dynamic=!0,G.strValue=y,G}return o=o||te(y,a),ei(o.duration,o.delay,o.easing)}(a.timings,o.errors);o.currentAnimateTimings=y;let L,G=a.styles?a.styles:(0,p.oB)({});if(5==G.type)L=this.visitKeyframes(G,o);else{let se=a.styles,ue=!1;if(!se){ue=!0;const ke={};y.easing&&(ke.easing=y.easing),se=(0,p.oB)(ke)}o.currentTime+=y.duration+y.delay;const ye=this.visitStyle(se,o);ye.isEmptyStep=ue,L=ye}return o.currentAnimateTimings=null,{type:4,timings:y,style:L,options:null}}visitStyle(a,o){const y=this._makeStyleAst(a,o);return this._validateStyleAst(y,o),y}_makeStyleAst(a,o){const y=[];Array.isArray(a.styles)?a.styles.forEach(se=>{"string"==typeof se?se==p.l3?y.push(se):o.errors.push(`The provided style string value ${se} is not allowed.`):y.push(se)}):y.push(a.styles);let L=!1,G=null;return y.forEach(se=>{if(kn(se)){const ue=se,ye=ue.easing;if(ye&&(G=ye,delete ue.easing),!L)for(let ke in ue)if(ue[ke].toString().indexOf("{{")>=0){L=!0;break}}}),{type:6,styles:y,easing:G,offset:a.offset,containsDynamicStyles:L,options:null}}_validateStyleAst(a,o){const y=o.currentAnimateTimings;let L=o.currentTime,G=o.currentTime;y&&G>0&&(G-=y.duration+y.delay),a.styles.forEach(se=>{"string"!=typeof se&&Object.keys(se).forEach(ue=>{if(!this._driver.validateStyleProperty(ue))return void o.errors.push(`The provided animation property "${ue}" is not a supported CSS property for animations`);const ye=o.collectedStyles[o.currentQuerySelector],ke=ye[ue];let Qe=!0;ke&&(G!=L&&G>=ke.startTime&&L<=ke.endTime&&(o.errors.push(`The CSS property "${ue}" that exists between the times of "${ke.startTime}ms" and "${ke.endTime}ms" is also being animated in a parallel animation between the times of "${G}ms" and "${L}ms"`),Qe=!1),G=ke.startTime),Qe&&(ye[ue]={startTime:G,endTime:L}),o.options&&function(w,a,o){const y=a.params||{},L=br(w);L.length&&L.forEach(G=>{y.hasOwnProperty(G)||o.push(`Unable to resolve the local animation param ${G} in the given list of values`)})}(se[ue],o.options,o.errors)})})}visitKeyframes(a,o){const y={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push("keyframes() must be placed inside of a call to animate()"),y;let G=0;const se=[];let ue=!1,ye=!1,ke=0;const Qe=a.steps.map(tr=>{const ir=this._makeStyleAst(tr,o);let Ir=null!=ir.offset?ir.offset:function(w){if("string"==typeof w)return null;let a=null;if(Array.isArray(w))w.forEach(o=>{if(kn(o)&&o.hasOwnProperty("offset")){const y=o;a=parseFloat(y.offset),delete y.offset}});else if(kn(w)&&w.hasOwnProperty("offset")){const o=w;a=parseFloat(o.offset),delete o.offset}return a}(ir.styles),yr=0;return null!=Ir&&(G++,yr=ir.offset=Ir),ye=ye||yr<0||yr>1,ue=ue||yr<ke,ke=yr,se.push(yr),ir});ye&&o.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),ue&&o.errors.push("Please ensure that all keyframe offsets are in order");const qe=a.steps.length;let pt=0;G>0&&G<qe?o.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==G&&(pt=1/(qe-1));const Pt=qe-1,ft=o.currentTime,bt=o.currentAnimateTimings,Bt=bt.duration;return Qe.forEach((tr,ir)=>{const Ir=pt>0?ir==Pt?1:pt*ir:se[ir],yr=Ir*Bt;o.currentTime=ft+bt.delay+yr,bt.duration=yr,this._validateStyleAst(tr,o),tr.offset=Ir,y.styles.push(tr)}),y}visitReference(a,o){return{type:8,animation:Rt(this,It(a.animation),o),options:qt(a.options)}}visitAnimateChild(a,o){return o.depCount++,{type:9,options:qt(a.options)}}visitAnimateRef(a,o){return{type:10,animation:this.visitReference(a.animation,o),options:qt(a.options)}}visitQuery(a,o){const y=o.currentQuerySelector,L=a.options||{};o.queryCount++,o.currentQuery=a;const[G,se]=function(w){const a=!!w.split(/\s*,\s*/).find(o=>":self"==o);return a&&(w=w.replace(Ls,"")),w=w.replace(/@\*/g,ne).replace(/@\w+/g,o=>ne+"-"+o.substr(1)).replace(/:animating/g,Be),[w,a]}(a.selector);o.currentQuerySelector=y.length?y+" "+G:G,T(o.collectedStyles,o.currentQuerySelector,{});const ue=Rt(this,It(a.animation),o);return o.currentQuery=null,o.currentQuerySelector=y,{type:11,selector:G,limit:L.limit||0,optional:!!L.optional,includeSelf:se,animation:ue,originalSelector:a.selector,options:qt(a.options)}}visitStagger(a,o){o.currentQuery||o.errors.push("stagger() can only be used inside of query()");const y="full"===a.timings?{duration:0,delay:0,easing:"full"}:te(a.timings,o.errors,!0);return{type:12,animation:Rt(this,It(a.animation),o),timings:y,options:null}}}class Ns{constructor(a){this.errors=a,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function kn(w){return!Array.isArray(w)&&"object"==typeof w}function qt(w){return w?(w=Te(w)).params&&(w.params=function(w){return w?Te(w):null}(w.params)):w={},w}function ei(w,a,o){return{duration:w,delay:a,easing:o}}function zr(w,a,o,y,L,G,se=null,ue=!1){return{type:1,element:w,keyframes:a,preStyleProps:o,postStyleProps:y,duration:L,delay:G,totalTime:L+G,easing:se,subTimeline:ue}}class ti{constructor(){this._map=new Map}get(a){return this._map.get(a)||[]}append(a,o){let y=this._map.get(a);y||this._map.set(a,y=[]),y.push(...o)}has(a){return this._map.has(a)}clear(){this._map.clear()}}const Xi=new RegExp(":enter","g"),Us=new RegExp(":leave","g");function De(w,a,o,y,L,G={},se={},ue,ye,ke=[]){return(new ve).buildKeyframes(w,a,o,y,L,G,se,ue,ye,ke)}class ve{buildKeyframes(a,o,y,L,G,se,ue,ye,ke,Qe=[]){ke=ke||new ti;const qe=new Ae(a,o,ke,L,G,Qe,[]);qe.options=ye,qe.currentTimeline.setStyles([se],null,qe.errors,ye),Rt(this,y,qe);const pt=qe.timelines.filter(Pt=>Pt.containsAnimation());if(pt.length&&Object.keys(ue).length){const Pt=pt[pt.length-1];Pt.allowOnlyTimelineStyles()||Pt.setStyles([ue],null,qe.errors,ye)}return pt.length?pt.map(Pt=>Pt.buildKeyframes()):[zr(o,[],[],[],0,0,"",!1)]}visitTrigger(a,o){}visitState(a,o){}visitTransition(a,o){}visitAnimateChild(a,o){const y=o.subInstructions.get(o.element);if(y){const L=o.createSubContext(a.options),G=o.currentTimeline.currentTime,se=this._visitSubInstructions(y,L,L.options);G!=se&&o.transformIntoNewTimeline(se)}o.previousNode=a}visitAnimateRef(a,o){const y=o.createSubContext(a.options);y.transformIntoNewTimeline(),this.visitReference(a.animation,y),o.transformIntoNewTimeline(y.currentTimeline.currentTime),o.previousNode=a}_visitSubInstructions(a,o,y){let G=o.currentTimeline.currentTime;const se=null!=y.duration?me(y.duration):null,ue=null!=y.delay?me(y.delay):null;return 0!==se&&a.forEach(ye=>{const ke=o.appendInstructionToTimeline(ye,se,ue);G=Math.max(G,ke.duration+ke.delay)}),G}visitReference(a,o){o.updateOptions(a.options,!0),Rt(this,a.animation,o),o.previousNode=a}visitSequence(a,o){const y=o.subContextCount;let L=o;const G=a.options;if(G&&(G.params||G.delay)&&(L=o.createSubContext(G),L.transformIntoNewTimeline(),null!=G.delay)){6==L.previousNode.type&&(L.currentTimeline.snapshotCurrentStyles(),L.previousNode=ie);const se=me(G.delay);L.delayNextStep(se)}a.steps.length&&(a.steps.forEach(se=>Rt(this,se,L)),L.currentTimeline.applyStylesToKeyframe(),L.subContextCount>y&&L.transformIntoNewTimeline()),o.previousNode=a}visitGroup(a,o){const y=[];let L=o.currentTimeline.currentTime;const G=a.options&&a.options.delay?me(a.options.delay):0;a.steps.forEach(se=>{const ue=o.createSubContext(a.options);G&&ue.delayNextStep(G),Rt(this,se,ue),L=Math.max(L,ue.currentTimeline.currentTime),y.push(ue.currentTimeline)}),y.forEach(se=>o.currentTimeline.mergeTimelineCollectedStyles(se)),o.transformIntoNewTimeline(L),o.previousNode=a}_visitTiming(a,o){if(a.dynamic){const y=a.strValue;return te(o.params?cr(y,o.params,o.errors):y,o.errors)}return{duration:a.duration,delay:a.delay,easing:a.easing}}visitAnimate(a,o){const y=o.currentAnimateTimings=this._visitTiming(a.timings,o),L=o.currentTimeline;y.delay&&(o.incrementTime(y.delay),L.snapshotCurrentStyles());const G=a.style;5==G.type?this.visitKeyframes(G,o):(o.incrementTime(y.duration),this.visitStyle(G,o),L.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=a}visitStyle(a,o){const y=o.currentTimeline,L=o.currentAnimateTimings;!L&&y.getCurrentStyleProperties().length&&y.forwardFrame();const G=L&&L.easing||a.easing;a.isEmptyStep?y.applyEmptyStep(G):y.setStyles(a.styles,G,o.errors,o.options),o.previousNode=a}visitKeyframes(a,o){const y=o.currentAnimateTimings,L=o.currentTimeline.duration,G=y.duration,ue=o.createSubContext().currentTimeline;ue.easing=y.easing,a.styles.forEach(ye=>{ue.forwardTime((ye.offset||0)*G),ue.setStyles(ye.styles,ye.easing,o.errors,o.options),ue.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(ue),o.transformIntoNewTimeline(L+G),o.previousNode=a}visitQuery(a,o){const y=o.currentTimeline.currentTime,L=a.options||{},G=L.delay?me(L.delay):0;G&&(6===o.previousNode.type||0==y&&o.currentTimeline.getCurrentStyleProperties().length)&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=ie);let se=y;const ue=o.invokeQuery(a.selector,a.originalSelector,a.limit,a.includeSelf,!!L.optional,o.errors);o.currentQueryTotal=ue.length;let ye=null;ue.forEach((ke,Qe)=>{o.currentQueryIndex=Qe;const qe=o.createSubContext(a.options,ke);G&&qe.delayNextStep(G),ke===o.element&&(ye=qe.currentTimeline),Rt(this,a.animation,qe),qe.currentTimeline.applyStylesToKeyframe(),se=Math.max(se,qe.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(se),ye&&(o.currentTimeline.mergeTimelineCollectedStyles(ye),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=a}visitStagger(a,o){const y=o.parentContext,L=o.currentTimeline,G=a.timings,se=Math.abs(G.duration),ue=se*(o.currentQueryTotal-1);let ye=se*o.currentQueryIndex;switch(G.duration<0?"reverse":G.easing){case"reverse":ye=ue-ye;break;case"full":ye=y.currentStaggerTime}const Qe=o.currentTimeline;ye&&Qe.delayNextStep(ye);const qe=Qe.currentTime;Rt(this,a.animation,o),o.previousNode=a,y.currentStaggerTime=L.currentTime-qe+(L.startTime-y.currentTimeline.startTime)}}const ie={};class Ae{constructor(a,o,y,L,G,se,ue,ye){this._driver=a,this.element=o,this.subInstructions=y,this._enterClassName=L,this._leaveClassName=G,this.errors=se,this.timelines=ue,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ie,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ye||new Ue(this._driver,o,0),ue.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(a,o){if(!a)return;const y=a;let L=this.options;null!=y.duration&&(L.duration=me(y.duration)),null!=y.delay&&(L.delay=me(y.delay));const G=y.params;if(G){let se=L.params;se||(se=this.options.params={}),Object.keys(G).forEach(ue=>{(!o||!se.hasOwnProperty(ue))&&(se[ue]=cr(G[ue],se,this.errors))})}}_copyOptions(){const a={};if(this.options){const o=this.options.params;if(o){const y=a.params={};Object.keys(o).forEach(L=>{y[L]=o[L]})}}return a}createSubContext(a=null,o,y){const L=o||this.element,G=new Ae(this._driver,L,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(L,y||0));return G.previousNode=this.previousNode,G.currentAnimateTimings=this.currentAnimateTimings,G.options=this._copyOptions(),G.updateOptions(a),G.currentQueryIndex=this.currentQueryIndex,G.currentQueryTotal=this.currentQueryTotal,G.parentContext=this,this.subContextCount++,G}transformIntoNewTimeline(a){return this.previousNode=ie,this.currentTimeline=this.currentTimeline.fork(this.element,a),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(a,o,y){const L={duration:o??a.duration,delay:this.currentTimeline.currentTime+(y??0)+a.delay,easing:""},G=new nt(this._driver,a.element,a.keyframes,a.preStyleProps,a.postStyleProps,L,a.stretchStartingKeyframe);return this.timelines.push(G),L}incrementTime(a){this.currentTimeline.forwardTime(this.currentTimeline.duration+a)}delayNextStep(a){a>0&&this.currentTimeline.delayNextStep(a)}invokeQuery(a,o,y,L,G,se){let ue=[];if(L&&ue.push(this.element),a.length>0){a=(a=a.replace(Xi,"."+this._enterClassName)).replace(Us,"."+this._leaveClassName);let ke=this._driver.query(this.element,a,1!=y);0!==y&&(ke=y<0?ke.slice(ke.length+y,ke.length):ke.slice(0,y)),ue.push(...ke)}return!G&&0==ue.length&&se.push(`\`query("${o}")\` returned zero elements. (Use \`query("${o}", { optional: true })\` if you wish to allow this.)`),ue}}class Ue{constructor(a,o,y,L){this._driver=a,this.element=o,this.startTime=y,this._elementTimelineStylesLookup=L,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(a){const o=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||o?(this.forwardTime(this.currentTime+a),o&&this.snapshotCurrentStyles()):this.startTime+=a}fork(a,o){return this.applyStylesToKeyframe(),new Ue(this._driver,a,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(a){this.applyStylesToKeyframe(),this.duration=a,this._loadKeyframe()}_updateStyle(a,o){this._localTimelineStyles[a]=o,this._globalTimelineStyles[a]=o,this._styleSummary[a]={time:this.currentTime,value:o}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(a){a&&(this._previousKeyframe.easing=a),Object.keys(this._globalTimelineStyles).forEach(o=>{this._backFill[o]=this._globalTimelineStyles[o]||p.l3,this._currentKeyframe[o]=p.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(a,o,y,L){o&&(this._previousKeyframe.easing=o);const G=L&&L.params||{},se=function(w,a){const o={};let y;return w.forEach(L=>{"*"===L?(y=y||Object.keys(a),y.forEach(G=>{o[G]=p.l3})):Ge(L,!1,o)}),o}(a,this._globalTimelineStyles);Object.keys(se).forEach(ue=>{const ye=cr(se[ue],G,y);this._pendingStyles[ue]=ye,this._localTimelineStyles.hasOwnProperty(ue)||(this._backFill[ue]=this._globalTimelineStyles.hasOwnProperty(ue)?this._globalTimelineStyles[ue]:p.l3),this._updateStyle(ue,ye)})}applyStylesToKeyframe(){const a=this._pendingStyles,o=Object.keys(a);0!=o.length&&(this._pendingStyles={},o.forEach(y=>{this._currentKeyframe[y]=a[y]}),Object.keys(this._localTimelineStyles).forEach(y=>{this._currentKeyframe.hasOwnProperty(y)||(this._currentKeyframe[y]=this._localTimelineStyles[y])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(a=>{const o=this._localTimelineStyles[a];this._pendingStyles[a]=o,this._updateStyle(a,o)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const a=[];for(let o in this._currentKeyframe)a.push(o);return a}mergeTimelineCollectedStyles(a){Object.keys(a._styleSummary).forEach(o=>{const y=this._styleSummary[o],L=a._styleSummary[o];(!y||L.time>y.time)&&this._updateStyle(o,L.value)})}buildKeyframes(){this.applyStylesToKeyframe();const a=new Set,o=new Set,y=1===this._keyframes.size&&0===this.duration;let L=[];this._keyframes.forEach((ue,ye)=>{const ke=Ge(ue,!0);Object.keys(ke).forEach(Qe=>{const qe=ke[Qe];qe==p.k1?a.add(Qe):qe==p.l3&&o.add(Qe)}),y||(ke.offset=ye/this.duration),L.push(ke)});const G=a.size?mr(a.values()):[],se=o.size?mr(o.values()):[];if(y){const ue=L[0],ye=Te(ue);ue.offset=0,ye.offset=1,L=[ue,ye]}return zr(this.element,L,G,se,this.duration,this.startTime,this.easing,!1)}}class nt extends Ue{constructor(a,o,y,L,G,se,ue=!1){super(a,o,se.delay),this.keyframes=y,this.preStyleProps=L,this.postStyleProps=G,this._stretchStartingKeyframe=ue,this.timings={duration:se.duration,delay:se.delay,easing:se.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let a=this.keyframes,{delay:o,duration:y,easing:L}=this.timings;if(this._stretchStartingKeyframe&&o){const G=[],se=y+o,ue=o/se,ye=Ge(a[0],!1);ye.offset=0,G.push(ye);const ke=Ge(a[0],!1);ke.offset=kt(ue),G.push(ke);const Qe=a.length-1;for(let qe=1;qe<=Qe;qe++){let pt=Ge(a[qe],!1);pt.offset=kt((o+pt.offset*y)/se),G.push(pt)}y=se,o=0,L="",a=G}return zr(this.element,a,this.preStyleProps,this.postStyleProps,y,o,L,!0)}}function kt(w,a=3){const o=Math.pow(10,a-1);return Math.round(w*o)/o}class cn{}class ra extends cn{normalizePropertyName(a,o){return Jr(a)}normalizeStyleValue(a,o,y,L){let G="";const se=y.toString().trim();if(na[o]&&0!==y&&"0"!==y)if("number"==typeof y)G="px";else{const ue=y.match(/^[+-]?[\d\.]+([a-z]*)$/);ue&&0==ue[1].length&&L.push(`Please provide a CSS unit value for ${a}:${y}`)}return se+G}}const na=(()=>function(w){const a={};return w.forEach(o=>a[o]=!0),a}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ws(w,a,o,y,L,G,se,ue,ye,ke,Qe,qe,pt){return{type:0,element:w,triggerName:a,isRemovalTransition:L,fromState:o,fromStyles:G,toState:y,toStyles:se,timelines:ue,queriedElements:ye,preStyleProps:ke,postStyleProps:Qe,totalTime:qe,errors:pt}}const qi={};class es{constructor(a,o,y){this._triggerName=a,this.ast=o,this._stateStyles=y}match(a,o,y,L){return function(w,a,o,y,L){return w.some(G=>G(a,o,y,L))}(this.ast.matchers,a,o,y,L)}buildStyles(a,o,y){const L=this._stateStyles["*"],G=this._stateStyles[a],se=L?L.buildStyles(o,y):{};return G?G.buildStyles(o,y):se}build(a,o,y,L,G,se,ue,ye,ke,Qe){const qe=[],pt=this.ast.options&&this.ast.options.params||qi,ft=this.buildStyles(y,ue&&ue.params||qi,qe),bt=ye&&ye.params||qi,Bt=this.buildStyles(L,bt,qe),tr=new Set,ir=new Map,Ir=new Map,yr="void"===L,$i={params:{...pt,...bt}},pn=Qe?[]:De(a,o,this.ast.animation,G,se,ft,Bt,$i,ke,qe);let pr=0;if(pn.forEach(rn=>{pr=Math.max(rn.duration+rn.delay,pr)}),qe.length)return Ws(o,this._triggerName,y,L,yr,ft,Bt,[],[],ir,Ir,pr,qe);pn.forEach(rn=>{const nn=rn.element,Bo=T(ir,nn,{});rn.preStyleProps.forEach(Tn=>Bo[Tn]=!0);const Ei=T(Ir,nn,{});rn.postStyleProps.forEach(Tn=>Ei[Tn]=!0),nn!==o&&tr.add(nn)});const tn=mr(tr.values());return Ws(o,this._triggerName,y,L,yr,ft,Bt,pn,tn,ir,Ir,pr)}}class $s{constructor(a,o,y){this.styles=a,this.defaultParams=o,this.normalizer=y}buildStyles(a,o){const y={},L=Te(this.defaultParams);return Object.keys(a).forEach(G=>{const se=a[G];null!=se&&(L[G]=se)}),this.styles.styles.forEach(G=>{if("string"!=typeof G){const se=G;Object.keys(se).forEach(ue=>{let ye=se[ue];ye.length>1&&(ye=cr(ye,L,o));const ke=this.normalizer.normalizePropertyName(ue,o);ye=this.normalizer.normalizeStyleValue(ue,ke,ye,o),y[ke]=ye})}}),y}}class ia{constructor(a,o,y){this.name=a,this.ast=o,this._normalizer=y,this.transitionFactories=[],this.states={},o.states.forEach(L=>{this.states[L.name]=new $s(L.style,L.options&&L.options.params||{},y)}),rs(this.states,"true","1"),rs(this.states,"false","0"),o.transitions.forEach(L=>{this.transitionFactories.push(new es(a,L,this.states))}),this.fallbackTransition=function(w,a,o){return new es(w,{type:1,animation:{type:2,steps:[],options:null},matchers:[(se,ue)=>!0],options:null,queryCount:0,depCount:0},a)}(a,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(a,o,y,L){return this.transitionFactories.find(se=>se.match(a,o,y,L))||null}matchStyles(a,o,y){return this.fallbackTransition.buildStyles(a,o,y)}}function rs(w,a,o){w.hasOwnProperty(a)?w.hasOwnProperty(o)||(w[o]=w[a]):w.hasOwnProperty(o)&&(w[a]=w[o])}const Ks=new ti;class Vs{constructor(a,o,y){this.bodyNode=a,this._driver=o,this._normalizer=y,this._animations={},this._playersById={},this.players=[]}register(a,o){const y=[],L=Ci(this._driver,o,y);if(y.length)throw new Error(`Unable to build the animation due to the following errors: ${y.join("\n")}`);this._animations[a]=L}_buildPlayer(a,o,y){const L=a.element,G=M(0,this._normalizer,0,a.keyframes,o,y);return this._driver.animate(L,G,a.duration,a.delay,a.easing,[],!0)}create(a,o,y={}){const L=[],G=this._animations[a];let se;const ue=new Map;if(G?(se=De(this._driver,o,G,Q,X,{},{},y,Ks,L),se.forEach(Qe=>{const qe=T(ue,Qe.element,{});Qe.postStyleProps.forEach(pt=>qe[pt]=null)})):(L.push("The requested animation doesn't exist or has already been destroyed"),se=[]),L.length)throw new Error(`Unable to create the animation due to the following errors: ${L.join("\n")}`);ue.forEach((Qe,qe)=>{Object.keys(Qe).forEach(pt=>{Qe[pt]=this._driver.computeStyle(qe,pt,p.l3)})});const ke=j(se.map(Qe=>{const qe=ue.get(Qe.element);return this._buildPlayer(Qe,{},qe)}));return this._playersById[a]=ke,ke.onDestroy(()=>this.destroy(a)),this.players.push(ke),ke}destroy(a){const o=this._getPlayer(a);o.destroy(),delete this._playersById[a];const y=this.players.indexOf(o);y>=0&&this.players.splice(y,1)}_getPlayer(a){const o=this._playersById[a];if(!o)throw new Error(`Unable to find the timeline player referenced by ${a}`);return o}listen(a,o,y,L){const G=E(o,"","","");return I(this._getPlayer(a),y,G,L),()=>{}}command(a,o,y,L){if("register"==y)return void this.register(a,L[0]);if("create"==y)return void this.create(a,o,L[0]||{});const G=this._getPlayer(a);switch(y){case"play":G.play();break;case"pause":G.pause();break;case"reset":G.reset();break;case"restart":G.restart();break;case"finish":G.finish();break;case"init":G.init();break;case"setPosition":G.setPosition(parseFloat(L[0]));break;case"destroy":this.destroy(a)}}}const Hs="ng-animate-queued",Qs="ng-animate-disabled",Zs=[],ni={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},or="__ng_removed";class ns{constructor(a,o=""){this.namespaceId=o;const y=a&&a.hasOwnProperty("value");if(this.value=(y?a.value:a)??null,y){const G=Te(a);delete G.value,this.options=G}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(a){const o=a.params;if(o){const y=this.options.params;Object.keys(o).forEach(L=>{null==y[L]&&(y[L]=o[L])})}}}const En="void",ii=new ns(En);class aa{constructor(a,o,y){this.id=a,this.hostElement=o,this._engine=y,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+a,Cr(o,this._hostClassName)}listen(a,o,y,L){if(!this._triggers.hasOwnProperty(o))throw new Error(`Unable to listen on the animation trigger event "${y}" because the animation trigger "${o}" doesn't exist!`);if(null==y||0==y.length)throw new Error(`Unable to listen on the animation trigger "${o}" because the provided event is undefined!`);if("start"!=(w=y)&&"done"!=w)throw new Error(`The provided animation trigger event "${y}" for the animation trigger "${o}" is not supported!`);var w;const G=T(this._elementListeners,a,[]),se={name:o,phase:y,callback:L};G.push(se);const ue=T(this._engine.statesByElement,a,{});return ue.hasOwnProperty(o)||(Cr(a,K),Cr(a,K+"-"+o),ue[o]=ii),()=>{this._engine.afterFlush(()=>{const ye=G.indexOf(se);ye>=0&&G.splice(ye,1),this._triggers[o]||delete ue[o]})}}register(a,o){return!this._triggers[a]&&(this._triggers[a]=o,!0)}_getTrigger(a){const o=this._triggers[a];if(!o)throw new Error(`The provided animation trigger "${a}" has not been registered!`);return o}trigger(a,o,y,L=!0){const G=this._getTrigger(o),se=new is(this.id,o,a);let ue=this._engine.statesByElement.get(a);ue||(Cr(a,K),Cr(a,K+"-"+o),this._engine.statesByElement.set(a,ue={}));let ye=ue[o];const ke=new ns(y,this.id);if(!(y&&y.hasOwnProperty("value"))&&ye&&ke.absorbOptions(ye.options),ue[o]=ke,ye||(ye=ii),ke.value!==En&&ye.value===ke.value){if(!function(w,a){const o=Object.keys(w),y=Object.keys(a);if(o.length!=y.length)return!1;for(let L=0;L<o.length;L++){const G=o[L];if(!a.hasOwnProperty(G)||w[G]!==a[G])return!1}return!0}(ye.params,ke.params)){const bt=[],Bt=G.matchStyles(ye.value,ye.params,bt),tr=G.matchStyles(ke.value,ke.params,bt);bt.length?this._engine.reportError(bt):this._engine.afterFlush(()=>{St(a,Bt),ct(a,tr)})}return}const pt=T(this._engine.playersByElement,a,[]);pt.forEach(bt=>{bt.namespaceId==this.id&&bt.triggerName==o&&bt.queued&&bt.destroy()});let Pt=G.matchTransition(ye.value,ke.value,a,ke.params),ft=!1;if(!Pt){if(!L)return;Pt=G.fallbackTransition,ft=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:o,transition:Pt,fromState:ye,toState:ke,player:se,isFallbackTransition:ft}),ft||(Cr(a,Hs),se.onStart(()=>{Fn(a,Hs)})),se.onDone(()=>{let bt=this.players.indexOf(se);bt>=0&&this.players.splice(bt,1);const Bt=this._engine.playersByElement.get(a);if(Bt){let tr=Bt.indexOf(se);tr>=0&&Bt.splice(tr,1)}}),this.players.push(se),pt.push(se),se}deregister(a){delete this._triggers[a],this._engine.statesByElement.forEach((o,y)=>{delete o[a]}),this._elementListeners.forEach((o,y)=>{this._elementListeners.set(y,o.filter(L=>L.name!=a))})}clearElementCache(a){this._engine.statesByElement.delete(a),this._elementListeners.delete(a);const o=this._engine.playersByElement.get(a);o&&(o.forEach(y=>y.destroy()),this._engine.playersByElement.delete(a))}_signalRemovalForInnerTriggers(a,o){const y=this._engine.driver.query(a,ne,!0);y.forEach(L=>{if(L[or])return;const G=this._engine.fetchNamespacesByElement(L);G.size?G.forEach(se=>se.triggerLeaveAnimation(L,o,!1,!0)):this.clearElementCache(L)}),this._engine.afterFlushAnimationsDone(()=>y.forEach(L=>this.clearElementCache(L)))}triggerLeaveAnimation(a,o,y,L){const G=this._engine.statesByElement.get(a);if(G){const se=[];if(Object.keys(G).forEach(ue=>{if(this._triggers[ue]){const ye=this.trigger(a,ue,En,L);ye&&se.push(ye)}}),se.length)return this._engine.markElementAsRemoved(this.id,a,!0,o),y&&j(se).onDone(()=>this._engine.processLeaveNode(a)),!0}return!1}prepareLeaveAnimationListeners(a){const o=this._elementListeners.get(a),y=this._engine.statesByElement.get(a);if(o&&y){const L=new Set;o.forEach(G=>{const se=G.name;if(L.has(se))return;L.add(se);const ye=this._triggers[se].fallbackTransition,ke=y[se]||ii,Qe=new ns(En),qe=new is(this.id,se,a);this._engine.totalQueuedPlayers++,this._queue.push({element:a,triggerName:se,transition:ye,fromState:ke,toState:Qe,player:qe,isFallbackTransition:!0})})}}removeNode(a,o){const y=this._engine;if(a.childElementCount&&this._signalRemovalForInnerTriggers(a,o),this.triggerLeaveAnimation(a,o,!0))return;let L=!1;if(y.totalAnimations){const G=y.players.length?y.playersByQueriedElement.get(a):[];if(G&&G.length)L=!0;else{let se=a;for(;se=se.parentNode;)if(y.statesByElement.get(se)){L=!0;break}}}if(this.prepareLeaveAnimationListeners(a),L)y.markElementAsRemoved(this.id,a,!1,o);else{const G=a[or];(!G||G===ni)&&(y.afterFlush(()=>this.clearElementCache(a)),y.destroyInnerAnimations(a),y._onRemovalComplete(a,o))}}insertNode(a,o){Cr(a,this._hostClassName)}drainQueuedTransitions(a){const o=[];return this._queue.forEach(y=>{const L=y.player;if(L.destroyed)return;const G=y.element,se=this._elementListeners.get(G);se&&se.forEach(ue=>{if(ue.name==y.triggerName){const ye=E(G,y.triggerName,y.fromState.value,y.toState.value);ye._data=a,I(y.player,ue.phase,ye,ue.callback)}}),L.markedForDestroy?this._engine.afterFlush(()=>{L.destroy()}):o.push(y)}),this._queue=[],o.sort((y,L)=>{const G=y.transition.ast.depCount,se=L.transition.ast.depCount;return 0==G||0==se?G-se:this._engine.driver.containsElement(y.element,L.element)?1:-1})}destroy(a){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,a)}elementContainsData(a){let o=!1;return this._elementListeners.has(a)&&(o=!0),o=!!this._queue.find(y=>y.element===a)||o,o}}class Ys{constructor(a,o,y){this.bodyNode=a,this.driver=o,this._normalizer=y,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(L,G)=>{}}_onRemovalComplete(a,o){this.onRemovalComplete(a,o)}get queuedPlayers(){const a=[];return this._namespaceList.forEach(o=>{o.players.forEach(y=>{y.queued&&a.push(y)})}),a}createNamespace(a,o){const y=new aa(a,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(y,o):(this.newHostElements.set(o,y),this.collectEnterElement(o)),this._namespaceLookup[a]=y}_balanceNamespaceList(a,o){const y=this._namespaceList.length-1;if(y>=0){let L=!1;for(let G=y;G>=0;G--)if(this.driver.containsElement(this._namespaceList[G].hostElement,o)){this._namespaceList.splice(G+1,0,a),L=!0;break}L||this._namespaceList.splice(0,0,a)}else this._namespaceList.push(a);return this.namespacesByHostElement.set(o,a),a}register(a,o){let y=this._namespaceLookup[a];return y||(y=this.createNamespace(a,o)),y}registerTrigger(a,o,y){let L=this._namespaceLookup[a];L&&L.register(o,y)&&this.totalAnimations++}destroy(a,o){if(!a)return;const y=this._fetchNamespace(a);this.afterFlush(()=>{this.namespacesByHostElement.delete(y.hostElement),delete this._namespaceLookup[a];const L=this._namespaceList.indexOf(y);L>=0&&this._namespaceList.splice(L,1)}),this.afterFlushAnimationsDone(()=>y.destroy(o))}_fetchNamespace(a){return this._namespaceLookup[a]}fetchNamespacesByElement(a){const o=new Set,y=this.statesByElement.get(a);if(y){const L=Object.keys(y);for(let G=0;G<L.length;G++){const se=y[L[G]].namespaceId;if(se){const ue=this._fetchNamespace(se);ue&&o.add(ue)}}}return o}trigger(a,o,y,L){if(si(o)){const G=this._fetchNamespace(a);if(G)return G.trigger(o,y,L),!0}return!1}insertNode(a,o,y,L){if(!si(o))return;const G=o[or];if(G&&G.setForRemoval){G.setForRemoval=!1,G.setForMove=!0;const se=this.collectedLeaveElements.indexOf(o);se>=0&&this.collectedLeaveElements.splice(se,1)}if(a){const se=this._fetchNamespace(a);se&&se.insertNode(o,y)}L&&this.collectEnterElement(o)}collectEnterElement(a){this.collectedEnterElements.push(a)}markElementAsDisabled(a,o){o?this.disabledNodes.has(a)||(this.disabledNodes.add(a),Cr(a,Qs)):this.disabledNodes.has(a)&&(this.disabledNodes.delete(a),Fn(a,Qs))}removeNode(a,o,y,L){if(si(o)){const G=a?this._fetchNamespace(a):null;if(G?G.removeNode(o,L):this.markElementAsRemoved(a,o,!1,L),y){const se=this.namespacesByHostElement.get(o);se&&se.id!==a&&se.removeNode(o,L)}}else this._onRemovalComplete(o,L)}markElementAsRemoved(a,o,y,L){this.collectedLeaveElements.push(o),o[or]={namespaceId:a,setForRemoval:L,hasAnimation:y,removedBeforeQueried:!1}}listen(a,o,y,L,G){return si(o)?this._fetchNamespace(a).listen(o,y,L,G):()=>{}}_buildInstruction(a,o,y,L,G){return a.transition.build(this.driver,a.element,a.fromState.value,a.toState.value,y,L,a.fromState.options,a.toState.options,o,G)}destroyInnerAnimations(a){let o=this.driver.query(a,ne,!0);o.forEach(y=>this.destroyActiveAnimationsForElement(y)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(a,Be,!0),o.forEach(y=>this.finishActiveQueriedAnimationOnElement(y)))}destroyActiveAnimationsForElement(a){const o=this.playersByElement.get(a);o&&o.forEach(y=>{y.queued?y.markedForDestroy=!0:y.destroy()})}finishActiveQueriedAnimationOnElement(a){const o=this.playersByQueriedElement.get(a);o&&o.forEach(y=>y.finish())}whenRenderingDone(){return new Promise(a=>{if(this.players.length)return j(this.players).onDone(()=>a());a()})}processLeaveNode(a){const o=a[or];if(o&&o.setForRemoval){if(a[or]=ni,o.namespaceId){this.destroyInnerAnimations(a);const y=this._fetchNamespace(o.namespaceId);y&&y.clearElementCache(a)}this._onRemovalComplete(a,o.setForRemoval)}a.classList?.contains(Qs)&&this.markElementAsDisabled(a,!1),this.driver.query(a,".ng-animate-disabled",!0).forEach(y=>{this.markElementAsDisabled(y,!1)})}flush(a=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((y,L)=>this._balanceNamespaceList(y,L)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let y=0;y<this.collectedEnterElements.length;y++)Cr(this.collectedEnterElements[y],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const y=[];try{o=this._flushAnimations(y,a)}finally{for(let L=0;L<y.length;L++)y[L]()}}else for(let y=0;y<this.collectedLeaveElements.length;y++)this.processLeaveNode(this.collectedLeaveElements[y]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(y=>y()),this._flushFns=[],this._whenQuietFns.length){const y=this._whenQuietFns;this._whenQuietFns=[],o.length?j(o).onDone(()=>{y.forEach(L=>L())}):y.forEach(L=>L())}}reportError(a){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${a.join("\n")}`)}_flushAnimations(a,o){const y=new ti,L=[],G=new Map,se=[],ue=new Map,ye=new Map,ke=new Map,Qe=new Set;this.disabledNodes.forEach(tt=>{Qe.add(tt);const ot=this.driver.query(tt,".ng-animate-queued",!0);for(let vt=0;vt<ot.length;vt++)Qe.add(ot[vt])});const qe=this.bodyNode,pt=Array.from(this.statesByElement.keys()),Pt=Js(pt,this.collectedEnterElements),ft=new Map;let bt=0;Pt.forEach((tt,ot)=>{const vt=Q+bt++;ft.set(ot,vt),tt.forEach(Lt=>Cr(Lt,vt))});const Bt=[],tr=new Set,ir=new Set;for(let tt=0;tt<this.collectedLeaveElements.length;tt++){const ot=this.collectedLeaveElements[tt],vt=ot[or];vt&&vt.setForRemoval&&(Bt.push(ot),tr.add(ot),vt.hasAnimation?this.driver.query(ot,".ng-star-inserted",!0).forEach(Lt=>tr.add(Lt)):ir.add(ot))}const Ir=new Map,yr=Js(pt,Array.from(tr));yr.forEach((tt,ot)=>{const vt=X+bt++;Ir.set(ot,vt),tt.forEach(Lt=>Cr(Lt,vt))}),a.push(()=>{Pt.forEach((tt,ot)=>{const vt=ft.get(ot);tt.forEach(Lt=>Fn(Lt,vt))}),yr.forEach((tt,ot)=>{const vt=Ir.get(ot);tt.forEach(Lt=>Fn(Lt,vt))}),Bt.forEach(tt=>{this.processLeaveNode(tt)})});const $i=[],pn=[];for(let tt=this._namespaceList.length-1;tt>=0;tt--)this._namespaceList[tt].drainQueuedTransitions(o).forEach(vt=>{const Lt=vt.player,ur=vt.element;if($i.push(Lt),this.collectedEnterElements.length){const Ur=ur[or];if(Ur&&Ur.setForMove)return void Lt.destroy()}const Qr=!qe||!this.driver.containsElement(qe,ur),Pr=Ir.get(ur),mn=ft.get(ur),Gt=this._buildInstruction(vt,y,mn,Pr,Qr);if(Gt.errors&&Gt.errors.length)return void pn.push(Gt);if(Qr)return Lt.onStart(()=>St(ur,Gt.fromStyles)),Lt.onDestroy(()=>ct(ur,Gt.toStyles)),void L.push(Lt);if(vt.isFallbackTransition)return Lt.onStart(()=>St(ur,Gt.fromStyles)),Lt.onDestroy(()=>ct(ur,Gt.toStyles)),void L.push(Lt);const No=[];Gt.timelines.forEach(Ur=>{Ur.stretchStartingKeyframe=!0,this.disabledNodes.has(Ur.element)||No.push(Ur)}),Gt.timelines=No,y.append(ur,Gt.timelines),se.push({instruction:Gt,player:Lt,element:ur}),Gt.queriedElements.forEach(Ur=>T(ue,Ur,[]).push(Lt)),Gt.preStyleProps.forEach((Ur,Ki)=>{const Ms=Object.keys(Ur);if(Ms.length){let Si=ye.get(Ki);Si||ye.set(Ki,Si=new Set),Ms.forEach(Ya=>Si.add(Ya))}}),Gt.postStyleProps.forEach((Ur,Ki)=>{const Ms=Object.keys(Ur);let Si=ke.get(Ki);Si||ke.set(Ki,Si=new Set),Ms.forEach(Ya=>Si.add(Ya))})});if(pn.length){const tt=[];pn.forEach(ot=>{tt.push(`@${ot.triggerName} has failed due to:\n`),ot.errors.forEach(vt=>tt.push(`- ${vt}\n`))}),$i.forEach(ot=>ot.destroy()),this.reportError(tt)}const pr=new Map,tn=new Map;se.forEach(tt=>{const ot=tt.element;y.has(ot)&&(tn.set(ot,ot),this._beforeAnimationBuild(tt.player.namespaceId,tt.instruction,pr))}),L.forEach(tt=>{const ot=tt.element;this._getPreviousPlayers(ot,!1,tt.namespaceId,tt.triggerName,null).forEach(Lt=>{T(pr,ot,[]).push(Lt),Lt.destroy()})});const rn=Bt.filter(tt=>ha(tt,ye,ke)),nn=new Map;os(nn,this.driver,ir,ke,p.l3).forEach(tt=>{ha(tt,ye,ke)&&rn.push(tt)});const Ei=new Map;Pt.forEach((tt,ot)=>{os(Ei,this.driver,new Set(tt),ye,p.k1)}),rn.forEach(tt=>{const ot=nn.get(tt),vt=Ei.get(tt);nn.set(tt,{...ot,...vt})});const Tn=[],Lo=[],Fo={};se.forEach(tt=>{const{element:ot,player:vt,instruction:Lt}=tt;if(y.has(ot)){if(Qe.has(ot))return vt.onDestroy(()=>ct(ot,Lt.toStyles)),vt.disabled=!0,vt.overrideTotalTime(Lt.totalTime),void L.push(vt);let ur=Fo;if(tn.size>1){let Pr=ot;const mn=[];for(;Pr=Pr.parentNode;){const Gt=tn.get(Pr);if(Gt){ur=Gt;break}mn.push(Pr)}mn.forEach(Gt=>tn.set(Gt,ur))}const Qr=this._buildAnimation(vt.namespaceId,Lt,pr,G,Ei,nn);if(vt.setRealPlayer(Qr),ur===Fo)Tn.push(vt);else{const Pr=this.playersByElement.get(ur);Pr&&Pr.length&&(vt.parentPlayer=j(Pr)),L.push(vt)}}else St(ot,Lt.fromStyles),vt.onDestroy(()=>ct(ot,Lt.toStyles)),Lo.push(vt),Qe.has(ot)&&L.push(vt)}),Lo.forEach(tt=>{const ot=G.get(tt.element);if(ot&&ot.length){const vt=j(ot);tt.setRealPlayer(vt)}}),L.forEach(tt=>{tt.parentPlayer?tt.syncPlayerEvents(tt.parentPlayer):tt.destroy()});for(let tt=0;tt<Bt.length;tt++){const ot=Bt[tt],vt=ot[or];if(Fn(ot,X),vt&&vt.hasAnimation)continue;let Lt=[];if(ue.size){let Qr=ue.get(ot);Qr&&Qr.length&&Lt.push(...Qr);let Pr=this.driver.query(ot,Be,!0);for(let mn=0;mn<Pr.length;mn++){let Gt=ue.get(Pr[mn]);Gt&&Gt.length&&Lt.push(...Gt)}}const ur=Lt.filter(Qr=>!Qr.destroyed);ur.length?fa(this,ot,ur):this.processLeaveNode(ot)}return Bt.length=0,Tn.forEach(tt=>{this.players.push(tt),tt.onDone(()=>{tt.destroy();const ot=this.players.indexOf(tt);this.players.splice(ot,1)}),tt.play()}),Tn}elementContainsData(a,o){let y=!1;const L=o[or];return L&&L.setForRemoval&&(y=!0),this.playersByElement.has(o)&&(y=!0),this.playersByQueriedElement.has(o)&&(y=!0),this.statesByElement.has(o)&&(y=!0),this._fetchNamespace(a).elementContainsData(o)||y}afterFlush(a){this._flushFns.push(a)}afterFlushAnimationsDone(a){this._whenQuietFns.push(a)}_getPreviousPlayers(a,o,y,L,G){let se=[];if(o){const ue=this.playersByQueriedElement.get(a);ue&&(se=ue)}else{const ue=this.playersByElement.get(a);if(ue){const ye=!G||G==En;ue.forEach(ke=>{ke.queued||!ye&&ke.triggerName!=L||se.push(ke)})}}return(y||L)&&(se=se.filter(ue=>!(y&&y!=ue.namespaceId||L&&L!=ue.triggerName))),se}_beforeAnimationBuild(a,o,y){const G=o.element,se=o.isRemovalTransition?void 0:a,ue=o.isRemovalTransition?void 0:o.triggerName;for(const ye of o.timelines){const ke=ye.element,Qe=ke!==G,qe=T(y,ke,[]);this._getPreviousPlayers(ke,Qe,se,ue,o.toState).forEach(Pt=>{const ft=Pt.getRealPlayer();ft.beforeDestroy&&ft.beforeDestroy(),Pt.destroy(),qe.push(Pt)})}St(G,o.fromStyles)}_buildAnimation(a,o,y,L,G,se){const ue=o.triggerName,ye=o.element,ke=[],Qe=new Set,qe=new Set,pt=o.timelines.map(ft=>{const bt=ft.element;Qe.add(bt);const Bt=bt[or];if(Bt&&Bt.removedBeforeQueried)return new p.ZN(ft.duration,ft.delay);const tr=bt!==ye,ir=function(w){const a=[];return ln(w,a),a}((y.get(bt)||Zs).map(pr=>pr.getRealPlayer())).filter(pr=>!!pr.element&&pr.element===bt),Ir=G.get(bt),yr=se.get(bt),$i=M(0,this._normalizer,0,ft.keyframes,Ir,yr),pn=this._buildPlayer(ft,$i,ir);if(ft.subTimeline&&L&&qe.add(bt),tr){const pr=new is(a,ue,bt);pr.setRealPlayer(pn),ke.push(pr)}return pn});ke.forEach(ft=>{T(this.playersByQueriedElement,ft.element,[]).push(ft),ft.onDone(()=>function(w,a,o){let y;if(w instanceof Map){if(y=w.get(a),y){if(y.length){const L=y.indexOf(o);y.splice(L,1)}0==y.length&&w.delete(a)}}else if(y=w[a],y){if(y.length){const L=y.indexOf(o);y.splice(L,1)}0==y.length&&delete w[a]}return y}(this.playersByQueriedElement,ft.element,ft))}),Qe.forEach(ft=>Cr(ft,Se));const Pt=j(pt);return Pt.onDestroy(()=>{Qe.forEach(ft=>Fn(ft,Se)),ct(ye,o.toStyles)}),qe.forEach(ft=>{T(L,ft,[]).push(Pt)}),Pt}_buildPlayer(a,o,y){return o.length>0?this.driver.animate(a.element,o,a.duration,a.delay,a.easing,y):new p.ZN(a.duration,a.delay)}}class is{constructor(a,o,y){this.namespaceId=a,this.triggerName=o,this.element=y,this._player=new p.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(a){this._containsRealPlayer||(this._player=a,Object.keys(this._queuedCallbacks).forEach(o=>{this._queuedCallbacks[o].forEach(y=>I(a,o,void 0,y))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(a.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(a){this.totalTime=a}syncPlayerEvents(a){const o=this._player;o.triggerCallback&&a.onStart(()=>o.triggerCallback("start")),a.onDone(()=>this.finish()),a.onDestroy(()=>this.destroy())}_queueEvent(a,o){T(this._queuedCallbacks,a,[]).push(o)}onDone(a){this.queued&&this._queueEvent("done",a),this._player.onDone(a)}onStart(a){this.queued&&this._queueEvent("start",a),this._player.onStart(a)}onDestroy(a){this.queued&&this._queueEvent("destroy",a),this._player.onDestroy(a)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(a){this.queued||this._player.setPosition(a)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(a){const o=this._player;o.triggerCallback&&o.triggerCallback(a)}}function si(w){return w&&1===w.nodeType}function ss(w,a){const o=w.style.display;return w.style.display=a??"none",o}function os(w,a,o,y,L){const G=[];o.forEach(ye=>G.push(ss(ye)));const se=[];y.forEach((ye,ke)=>{const Qe={};ye.forEach(qe=>{const pt=Qe[qe]=a.computeStyle(ke,qe,L);(!pt||0==pt.length)&&(ke[or]=bn,se.push(ke))}),w.set(ke,Qe)});let ue=0;return o.forEach(ye=>ss(ye,G[ue++])),se}function Js(w,a){const o=new Map;if(w.forEach(ue=>o.set(ue,[])),0==a.length)return o;const L=new Set(a),G=new Map;function se(ue){if(!ue)return 1;let ye=G.get(ue);if(ye)return ye;const ke=ue.parentNode;return ye=o.has(ke)?ke:L.has(ke)?1:se(ke),G.set(ue,ye),ye}return a.forEach(ue=>{const ye=se(ue);1!==ye&&o.get(ye).push(ue)}),o}function Cr(w,a){w.classList?.add(a)}function Fn(w,a){w.classList?.remove(a)}function fa(w,a,o){j(o).onDone(()=>w.processLeaveNode(a))}function ln(w,a){for(let o=0;o<w.length;o++){const y=w[o];y instanceof p.ZE?ln(y.players,a):a.push(y)}}function ha(w,a,o){const y=o.get(w);if(!y)return!1;let L=a.get(w);return L?y.forEach(G=>L.add(G)):a.set(w,y),o.delete(w),!0}class oi{constructor(a,o,y){this.bodyNode=a,this._driver=o,this._normalizer=y,this._triggerCache={},this.onRemovalComplete=(L,G)=>{},this._transitionEngine=new Ys(a,o,y),this._timelineEngine=new Vs(a,o,y),this._transitionEngine.onRemovalComplete=(L,G)=>this.onRemovalComplete(L,G)}registerTrigger(a,o,y,L,G){const se=a+"-"+L;let ue=this._triggerCache[se];if(!ue){const ye=[],ke=Ci(this._driver,G,ye);if(ye.length)throw new Error(`The animation trigger "${L}" has failed to build due to the following errors:\n - ${ye.join("\n - ")}`);ue=function(w,a,o){return new ia(w,a,o)}(L,ke,this._normalizer),this._triggerCache[se]=ue}this._transitionEngine.registerTrigger(o,L,ue)}register(a,o){this._transitionEngine.register(a,o)}destroy(a,o){this._transitionEngine.destroy(a,o)}onInsert(a,o,y,L){this._transitionEngine.insertNode(a,o,y,L)}onRemove(a,o,y,L){this._transitionEngine.removeNode(a,o,L||!1,y)}disableAnimations(a,o){this._transitionEngine.markElementAsDisabled(a,o)}process(a,o,y,L){if("@"==y.charAt(0)){const[G,se]=P(y);this._timelineEngine.command(G,o,se,L)}else this._transitionEngine.trigger(a,o,y,L)}listen(a,o,y,L,G){if("@"==y.charAt(0)){const[se,ue]=P(y);return this._timelineEngine.listen(se,o,ue,G)}return this._transitionEngine.listen(a,o,y,L,G)}flush(a=-1){this._transitionEngine.flush(a)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Xs(w,a){let o=null,y=null;return Array.isArray(a)&&a.length?(o=Oi(a[0]),a.length>1&&(y=Oi(a[a.length-1]))):a&&(o=Oi(a)),o||y?new pa(w,o,y):null}let pa=(()=>{class w{constructor(o,y,L){this._element=o,this._startStyles=y,this._endStyles=L,this._state=0;let G=w.initialStylesByElement.get(o);G||w.initialStylesByElement.set(o,G={}),this._initialStyles=G}start(){this._state<1&&(this._startStyles&&ct(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ct(this._element,this._initialStyles),this._endStyles&&(ct(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(w.initialStylesByElement.delete(this._element),this._startStyles&&(St(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(St(this._element,this._endStyles),this._endStyles=null),ct(this._element,this._initialStyles),this._state=3)}}return w.initialStylesByElement=new WeakMap,w})();function Oi(w){let a=null;const o=Object.keys(w);for(let y=0;y<o.length;y++){const L=o[y];ma(L)&&(a=a||{},a[L]=w[L])}return a}function ma(w){return"display"===w||"position"===w}const eo="animation",to="animationend";class ga{constructor(a,o,y,L,G,se,ue){this._element=a,this._name=o,this._duration=y,this._delay=L,this._easing=G,this._fillMode=se,this._onDoneFn=ue,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=ye=>this._handleCallback(ye)}apply(){(function(w,a){const o=as(w,"").trim();let y=0;o.length&&(function(w,a){let o=0;for(let y=0;y<w.length;y++)","===w.charAt(y)&&o++;return o}(o)+1,a=`${o}, ${a}`),Pi(w,"",a)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),io(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ro(this._element,this._name,"paused")}resume(){ro(this._element,this._name,"running")}setPosition(a){const o=no(this._element,this._name);this._position=a*this._duration,Pi(this._element,"Delay",`-${this._position}ms`,o)}getPosition(){return this._position}_handleCallback(a){const o=a._ngTestManualTimestamp||Date.now(),y=1e3*parseFloat(a.elapsedTime.toFixed(3));a.animationName==this._name&&Math.max(o-this._startTime,0)>=this._delay&&y>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),io(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(w,a){const y=as(w,"").split(","),L=Ii(y,a);L>=0&&(y.splice(L,1),Pi(w,"",y.join(",")))}(this._element,this._name))}}function ro(w,a,o){Pi(w,"PlayState",o,no(w,a))}function no(w,a){const o=as(w,"");return o.indexOf(",")>0?Ii(o.split(","),a):Ii([o],a)}function Ii(w,a){for(let o=0;o<w.length;o++)if(w[o].indexOf(a)>=0)return o;return-1}function io(w,a,o){o?w.removeEventListener(to,a):w.addEventListener(to,a)}function Pi(w,a,o,y){const L=eo+a;if(null!=y){const G=w.style[L];if(G.length){const se=G.split(",");se[y]=o,o=se.join(",")}}w.style[L]=o}function as(w,a){return w.style[eo+a]||""}class fn{constructor(a,o,y,L,G,se,ue,ye){this.element=a,this.keyframes=o,this.animationName=y,this._duration=L,this._delay=G,this._finalStyles=ue,this._specialStyles=ye,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=se||"linear",this.totalTime=L+G,this._buildStyler()}onStart(a){this._onStartFns.push(a)}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(a=>a()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(a=>a()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(a){this._styler.setPosition(a)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ga(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(a){const o="start"==a?this._onStartFns:this._onDoneFns;o.forEach(y=>y()),o.length=0}beforeDestroy(){this.init();const a={};if(this.hasStarted()){const o=this._state>=3;Object.keys(this._finalStyles).forEach(y=>{"offset"!=y&&(a[y]=o?this._finalStyles[y]:an(this.element,y))})}this.currentSnapshot=a}}class vr extends p.ZN{constructor(a,o){super(),this.element=a,this._startingStyles={},this.__initialized=!1,this._styles=Ee(o)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(a=>{this._startingStyles[a]=this.element.style[a]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(a=>this.element.style.setProperty(a,this._styles[a])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(a=>{const o=this._startingStyles[a];o?this.element.style.setProperty(a,o):this.element.style.removeProperty(a)}),this._startingStyles=null,super.destroy())}}class Br{constructor(){this._count=0}validateStyleProperty(a){return m(a)}matchesElement(a,o){return!1}containsElement(a,o){return $(a,o)}query(a,o,y){return oe(a,o,y)}computeStyle(a,o,y){return window.getComputedStyle(a)[o]}buildKeyframeElement(a,o,y){y=y.map(ue=>Ee(ue));let L=`@keyframes ${o} {\n`,G="";y.forEach(ue=>{G=" ";const ye=parseFloat(ue.offset);L+=`${G}${100*ye}% {\n`,G+=" ",Object.keys(ue).forEach(ke=>{const Qe=ue[ke];switch(ke){case"offset":return;case"easing":return void(Qe&&(L+=`${G}animation-timing-function: ${Qe};\n`));default:return void(L+=`${G}${ke}: ${Qe};\n`)}}),L+=`${G}}\n`}),L+="}\n";const se=document.createElement("style");return se.textContent=L,se}animate(a,o,y,L,G,se=[],ue){const ye=se.filter(Bt=>Bt instanceof fn),ke={};Tt(y,L)&&ye.forEach(Bt=>{let tr=Bt.currentSnapshot;Object.keys(tr).forEach(ir=>ke[ir]=tr[ir])});const Qe=function(w){let a={};return w&&(Array.isArray(w)?w:[w]).forEach(y=>{Object.keys(y).forEach(L=>{"offset"==L||"easing"==L||(a[L]=y[L])})}),a}(o=xt(a,o,ke));if(0==y)return new vr(a,Qe);const qe="gen_css_kf_"+this._count++,pt=this.buildKeyframeElement(a,qe,o);(function(w){const a=w.getRootNode?.();return"undefined"!=typeof ShadowRoot&&a instanceof ShadowRoot?a:document.head})(a).appendChild(pt);const ft=Xs(a,o),bt=new fn(a,o,qe,y,L,G,Qe,ft);return bt.onDestroy(()=>{var w;(w=pt).parentNode.removeChild(w)}),bt}}class ai{constructor(a,o,y,L){this.element=a,this.keyframes=o,this.options=y,this._specialStyles=L,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=y.duration,this._delay=y.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(a=>a()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const a=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,a,this.options),this._finalKeyframe=a.length?a[a.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(a,o,y){return a.animate(o,y)}onStart(a){this._onStartFns.push(a)}onDone(a){this._onDoneFns.push(a)}onDestroy(a){this._onDestroyFns.push(a)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(a=>a()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(a=>a()),this._onDestroyFns=[])}setPosition(a){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=a*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const a={};if(this.hasStarted()){const o=this._finalKeyframe;Object.keys(o).forEach(y=>{"offset"!=y&&(a[y]=this._finished?o[y]:an(this.element,y))})}this.currentSnapshot=a}triggerCallback(a){const o="start"==a?this._onStartFns:this._onDoneFns;o.forEach(y=>y()),o.length=0}}class so{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Nn().toString()),this._cssKeyframesDriver=new Br}validateStyleProperty(a){return m(a)}matchesElement(a,o){return!1}containsElement(a,o){return $(a,o)}query(a,o,y){return oe(a,o,y)}computeStyle(a,o,y){return window.getComputedStyle(a)[o]}overrideWebAnimationsSupport(a){this._isNativeImpl=a}animate(a,o,y,L,G,se=[],ue){if(!ue&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(a,o,y,L,G,se);const Qe={duration:y,delay:L,fill:0==L?"both":"forwards"};G&&(Qe.easing=G);const qe={},pt=se.filter(ft=>ft instanceof ai);Tt(y,L)&&pt.forEach(ft=>{let bt=ft.currentSnapshot;Object.keys(bt).forEach(Bt=>qe[Bt]=bt[Bt])});const Pt=Xs(a,o=xt(a,o=o.map(ft=>Ge(ft,!1)),qe));return new ai(a,o,Qe,Pt)}}function Nn(){return B()&&Element.prototype.animate||{}}var qr=c(1457);let Mi=(()=>{class w extends p._j{constructor(o,y){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(y.body,{id:"0",encapsulation:l.ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(o){const y=this._nextAnimationId.toString();this._nextAnimationId++;const L=Array.isArray(o)?(0,p.vP)(o):o;return ao(this._renderer,null,y,"register",[L]),new Ea(y,this._renderer)}}return w.\u0275fac=function(o){return new(o||w)(l.\u0275\u0275inject(l.RendererFactory2),l.\u0275\u0275inject(qr.DOCUMENT))},w.\u0275prov=l.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac}),w})();class Ea extends p.LC{constructor(a,o){super(),this._id=a,this._renderer=o}create(a,o){return new oo(this._id,a,o||{},this._renderer)}}class oo{constructor(a,o,y,L){this.id=a,this.element=o,this._renderer=L,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",y)}_listen(a,o){return this._renderer.listen(this.element,`@@${this.id}:${a}`,o)}_command(a,...o){return ao(this._renderer,this.element,this.id,a,o)}onDone(a){this._listen("done",a)}onStart(a){this._listen("start",a)}onDestroy(a){this._listen("destroy",a)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(a){this._command("setPosition",a)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ao(w,a,o,y,L){return w.setProperty(a,`@@${o}:${y}`,L)}const uo="@.disabled";let Sa=(()=>{class w{constructor(o,y,L){this.delegate=o,this.engine=y,this._zone=L,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),y.onRemovalComplete=(G,se)=>{const ue=se?.parentNode(G);ue&&se.removeChild(ue,G)}}createRenderer(o,y){const G=this.delegate.createRenderer(o,y);if(!(o&&y&&y.data&&y.data.animation)){let Qe=this._rendererCache.get(G);return Qe||(Qe=new xi("",G,this.engine),this._rendererCache.set(G,Qe)),Qe}const se=y.id,ue=y.id+"-"+this._currentId;this._currentId++,this.engine.register(ue,o);const ye=Qe=>{Array.isArray(Qe)?Qe.forEach(ye):this.engine.registerTrigger(se,ue,o,Qe.name,Qe)};return y.data.animation.forEach(ye),new ls(this,ue,G,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,y,L){o>=0&&o<this._microtaskId?this._zone.run(()=>y(L)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(G=>{const[se,ue]=G;se(ue)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([y,L]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return w.\u0275fac=function(o){return new(o||w)(l.\u0275\u0275inject(l.RendererFactory2),l.\u0275\u0275inject(oi),l.\u0275\u0275inject(l.NgZone))},w.\u0275prov=l.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac}),w})();class xi{constructor(a,o,y){this.namespaceId=a,this.delegate=o,this.engine=y,this.destroyNode=this.delegate.destroyNode?L=>o.destroyNode(L):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(a,o){return this.delegate.createElement(a,o)}createComment(a){return this.delegate.createComment(a)}createText(a){return this.delegate.createText(a)}appendChild(a,o){this.delegate.appendChild(a,o),this.engine.onInsert(this.namespaceId,o,a,!1)}insertBefore(a,o,y,L=!0){this.delegate.insertBefore(a,o,y),this.engine.onInsert(this.namespaceId,o,a,L)}removeChild(a,o,y){this.engine.onRemove(this.namespaceId,o,this.delegate,y)}selectRootElement(a,o){return this.delegate.selectRootElement(a,o)}parentNode(a){return this.delegate.parentNode(a)}nextSibling(a){return this.delegate.nextSibling(a)}setAttribute(a,o,y,L){this.delegate.setAttribute(a,o,y,L)}removeAttribute(a,o,y){this.delegate.removeAttribute(a,o,y)}addClass(a,o){this.delegate.addClass(a,o)}removeClass(a,o){this.delegate.removeClass(a,o)}setStyle(a,o,y,L){this.delegate.setStyle(a,o,y,L)}removeStyle(a,o,y){this.delegate.removeStyle(a,o,y)}setProperty(a,o,y){"@"==o.charAt(0)&&o==uo?this.disableAnimations(a,!!y):this.delegate.setProperty(a,o,y)}setValue(a,o){this.delegate.setValue(a,o)}listen(a,o,y){return this.delegate.listen(a,o,y)}disableAnimations(a,o){this.engine.disableAnimations(a,o)}}class ls extends xi{constructor(a,o,y,L){super(o,y,L),this.factory=a,this.namespaceId=o}setProperty(a,o,y){"@"==o.charAt(0)?"."==o.charAt(1)&&o==uo?this.disableAnimations(a,y=void 0===y||!!y):this.engine.process(this.namespaceId,a,o.substr(1),y):this.delegate.setProperty(a,o,y)}listen(a,o,y){if("@"==o.charAt(0)){const L=function(w){switch(w){case"body":return document.body;case"document":return document;case"window":return window;default:return w}}(a);let G=o.substr(1),se="";return"@"!=G.charAt(0)&&([G,se]=function(w){const a=w.indexOf(".");return[w.substring(0,a),w.substr(a+1)]}(G)),this.engine.listen(this.namespaceId,L,G,se,ue=>{this.factory.scheduleListenerCallback(ue._data||-1,y,ue)})}return this.delegate.listen(a,o,y)}}let Aa=(()=>{class w extends oi{constructor(o,y,L){super(o.body,y,L)}ngOnDestroy(){this.flush()}}return w.\u0275fac=function(o){return new(o||w)(l.\u0275\u0275inject(qr.DOCUMENT),l.\u0275\u0275inject(pe),l.\u0275\u0275inject(cn))},w.\u0275prov=l.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac}),w})();const ki=new l.InjectionToken("AnimationModuleType"),ds=[{provide:p._j,useClass:Mi},{provide:cn,useFactory:function(){return new ra}},{provide:oi,useClass:Aa},{provide:l.RendererFactory2,useFactory:function(w,a,o){return new Sa(w,a,o)},deps:[_.se,oi,l.NgZone]}],hs=[{provide:pe,useFactory:function(){return"function"==typeof Nn()?new so:new Br}},{provide:ki,useValue:"BrowserAnimations"},...ds],lo=[{provide:pe,useClass:ge},{provide:ki,useValue:"NoopAnimations"},...ds];let fo=(()=>{class w{static withConfig(o){return{ngModule:w,providers:o.disableAnimations?lo:hs}}}return w.\u0275fac=function(o){return new(o||w)},w.\u0275mod=l.\u0275\u0275defineNgModule({type:w}),w.\u0275inj=l.\u0275\u0275defineInjector({providers:hs,imports:[_.b2]}),w})();var Xt=c(1375);const Bi={properties:{id:{type:"string",description:"Id"},name:{type:"string",description:"Name"},shortName:{type:"string",description:"Short name"},description:{type:"string",description:"Description"},startUrl:{type:"string",description:"Start url"},icons:{type:"array",description:"Icons",items:{type:"object",properties:{src:{type:"string",description:"Src"},sizes:{type:"string",description:"Sizes"},type:{type:"string",description:"Type"}},required:["src","sizes","type"]}},themeColor:{type:"string",description:"Theme color"},backgroundColor:{type:"string",description:"Background color"},screenshots:{type:"array",description:"Screenshots",items:{type:"object",properties:{src:{type:"string",description:"Src"},sizes:{type:"string",description:"Sizes"},type:{type:"string",description:"Type"},platform:{type:"string",description:"Platform"},label:{type:"string",description:"Label"}},required:["src","sizes","type","platform","label"]}},iarcRatingId:{type:"string",description:"IARC rating id"},categories:{type:"array",description:"Categories",items:{type:"string",description:"Category"}},additionalProperties:{type:"object",description:"Additional properties",properties:{permissions:{type:"array",description:"Permissions",items:{type:"object",properties:{kind:{type:"string",description:"Kind",enum:["collection"]},mode:{type:"string",description:"Mode",enum:["read","write","delete"]},target:{type:"string",description:"Target"}},required:["kind","mode","target"]}},internal:{type:"boolean",description:"Internal"},starred:{type:"boolean",description:"Internal"},defaultShortcut:{type:"string",description:"Default shortcut"},sidebarShortcuts:{type:"array",description:"Sidebar shortcuts",items:{type:"string",description:"Sidebar shortcut"}}}},shortcuts:{type:"array",description:"Shortcuts",items:{type:"object",properties:{name:{type:"string",description:"Name"},url:{type:"string",description:"Url"},icons:{type:"array",description:"Icons",items:{type:"object",properties:{src:{type:"string",description:"Src"},sizes:{type:"string",description:"Sizes"},type:{type:"string",description:"Type"}},required:["src","sizes","type"]}},shortName:{type:"string",description:"Short name"},description:{type:"string",description:"Description"}},required:["name","url"]}},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","name","startUrl","createdAt","updatedAt"]},Da={provide:Xt.RY,useValue:{name:"storeapplications",creator:{schema:{title:"Store Store",description:"User Applications",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:Bi.properties,required:["id","name","startUrl","createdAt","updatedAt"]}}},multi:!0},Oa={provide:Xt.RY,useValue:{name:"userapplications",creator:{schema:{title:"User Applications",description:"User Applications",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:Bi.properties,required:["id","name","startUrl","createdAt","updatedAt"]}}},multi:!0};var yt=c(899),mo=c(4995);const Pa={provide:Xt.To,useValue:{name:"userapplications",upsert:!0,data:[{id:"com.central-factory.portal",name:"Central Factory Portal",description:"Central Factory Portal",startUrl:"/",icons:[{src:"assets/icons/mdi/open-in-app.svg",sizes:"512x512",type:"image/svg+xml"}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:yt.k.Collection,mode:yt.R.Read,target:"userpreferences"},{kind:yt.k.Collection,mode:yt.R.Read,target:"useravatars"},{kind:yt.k.Collection,mode:yt.R.Read,target:"userapplications"}]}},{id:"com.central-factory.player",name:"Application Player",description:"Access to many local and hosted web applications. Applications can be loaded through a webview or through a webpack module federation.",startUrl:"play",icons:[{src:"assets/icons/mdi/view-grid.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Application Player",url:"/play",icons:[{src:"assets/icons/mdi/view-grid.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:yt.k.Collection,mode:yt.R.Read,target:"userapplications"},{kind:yt.k.Collection,mode:yt.R.Write,target:"userapplications"},{kind:yt.k.Collection,mode:yt.R.Delete,target:"userapplications"},{kind:yt.k.Collection,mode:yt.R.Read,target:"storeapplications"},{kind:yt.k.Collection,mode:yt.R.Write,target:"storeapplications"},{kind:yt.k.Collection,mode:yt.R.Delete,target:"storeapplications"}],sidebarShortcuts:["Application Player"]}},{id:"com.central-factory.user-avatars",name:"User Avatars",description:"Avatars management module. Customize your user avatars.",startUrl:"user-avatars",icons:[{src:"assets/icons/mdi/account.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Selected Avatar",url:"/selected-avatar",icons:[{src:"assets/icons/mdi/account.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Select Avatar",url:"/select-avatar",icons:[{src:"assets/icons/mdi/account.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:yt.k.Collection,mode:yt.R.Read,target:"useravatars"},{kind:yt.k.Collection,mode:yt.R.Write,target:"useravatars"},{kind:yt.k.Collection,mode:yt.R.Delete,target:"useravatars"},{kind:yt.k.Collection,mode:yt.R.Read,target:"userpreferences"},{kind:yt.k.Collection,mode:yt.R.Write,target:"userpreferences"}],sidebarShortcuts:["Selected Avatar"]}},{id:"com.central-factory.inventory",name:"Inventory",description:"Assets management module. Manage and preview your assets.",startUrl:"inventory",icons:[{src:"assets/icons/mdi/bag-personal.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Inventory",url:"/inventory",icons:[{src:"assets/icons/mdi/bag-personal.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:yt.k.Collection,mode:yt.R.Read,target:"userassets"},{kind:yt.k.Collection,mode:yt.R.Write,target:"userassets"},{kind:yt.k.Collection,mode:yt.R.Delete,target:"userassets"}],sidebarShortcuts:["Inventory"]}},{id:"com.central-factory.marketplace",name:"Marketplace",description:"Portal Marketplace. Sell your assets and acquire new ones.",startUrl:"marketplace",icons:[{src:"assets/icons/mdi/store.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Marketplace",url:"/marketplace",icons:[{src:"assets/icons/mdi/store.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:yt.k.Collection,mode:yt.R.Read,target:"userassets"},{kind:yt.k.Collection,mode:yt.R.Write,target:"userassets"},{kind:yt.k.Collection,mode:yt.R.Delete,target:"userassets"}],sidebarShortcuts:["Marketplace"]}},{id:"com.central-factory.settings",name:"Settings",description:"Customize your portal experience. Manage your preferences.",startUrl:"settings",icons:[{src:"assets/icons/mdi/cog.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Settings",url:"/settings",icons:[{src:"assets/icons/mdi/cog.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{internal:!0,author:{id:"com.central-factory",name:"Central Factory"},permissions:[{kind:yt.k.Collection,mode:yt.R.Read,target:"userpreferences"},{kind:yt.k.Collection,mode:yt.R.Write,target:"userpreferences"}],sidebarShortcuts:["Settings"]}},{id:"com.central-factory.codex",name:"Codex",description:"Official documentation for the Central Factory Metaverse",startUrl:"codex",categories:["productivity"],icons:[{src:"assets/icons/mdi/book-open-page-variant.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Codex",url:"https://www.aitorllamas.com/metaverse/apps/codex",icons:[{src:"assets/icons/mdi/book-open-page-variant.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},renderingType:mo.B.Webview,supportsBrowser:!0,internal:!1,permissions:[],defaultShortcut:"Codex",sidebarShortcuts:[],colors:[{variation:mo.c.Primary,color:"#706fd3"}]}}]},multi:!0},Nt={provide:Xt.RY,useValue:{name:"userassets",creator:{schema:{title:"User Assets",description:"User assets",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},name:{type:"string",description:"Name"},model:{type:"string",description:"Model"},description:{type:"string",description:"Description"},digital:{type:"boolean",description:"Digital"},private:{type:"boolean",description:"Private"},kind:{type:"string",description:"Kind",enum:["unknown","currency","land","material","building","equipment","furniture","machine","vehicle","media-resource","other"]},url:{type:"string",description:"Url"},previewUrl:{type:"string",description:"Preview url"},currentValue:{type:"number",description:"Current value"},purchaseValue:{type:"number",description:"Purchase value"},purchaseDate:{format:"date-time",type:"string"},data:{type:"object",description:"Data"},owner:{type:"string",description:"Owner"},producer:{type:"string",description:"Producer"},permissions:{type:"array",description:"Permissions",items:{type:"object",description:"Permission"}},createdAt:{format:"date-time",type:"string",description:"Created at"},updatedAt:{format:"date-time",type:"string",description:"Updated at"}}}}},multi:!0},Ra={type:"object",description:"Appearance",properties:{format:{type:"string"},src:{type:"string"},smallPreviewUrl:{type:"string"},previewCamera:{type:"object",properties:{position:{type:"string"},rotation:{type:"string"},scale:{type:"string"}}}}},Li={provide:Xt.RY,useValue:{name:"useravatars",creator:{schema:{title:"User Avatars",description:"User Avatars",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},welcomeMessage:{type:"string",description:"Welcome message"},name:{type:"string",description:"Name"},title:{type:"string",description:"Title"},selectedAppearance:Ra,appearances:{type:"array",description:"Appearances",items:Ra},scopes:{type:"array",description:"Scopes",items:{type:"object",properties:{integration:{type:"string",description:"Integration"},domain:{type:"string",description:"Domain"},scope:{type:"string",description:"Scope"}}}},skills:{type:"array",description:"Skills",items:{type:"object",properties:{domain:{type:"string",description:"Domain"},scope:{type:"string",description:"Scope"},skill:{type:"string",description:"Skill"}}}},createdAt:{format:"date-time",type:"string",description:"Created at"},updatedAt:{format:"date-time",type:"string",description:"Updated at"}}}}},multi:!0},$r={provide:Xt.RY,useValue:{name:"applicationpermissions",creator:{schema:{title:"Application Permissions",description:"Application Permissions",version:0,keyCompression:!0,primaryKey:{key:"id",fields:["appId","kind","mode","target"],separator:":"},type:"object",properties:{id:{type:"string",description:"Id"},appId:{type:"string",description:"AppId"},kind:{type:"string",description:"Kind",enum:["collection"]},mode:{type:"string",description:"Mode",enum:["read","write","delete"]},target:{type:"string",description:"Target"},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","appId","kind","mode","target"],encrypted:["kind","mode","target"]}}},multi:!0},xa={provide:Xt.RY,useValue:{name:"userpreferences",creator:{schema:{title:"User Preferences",description:"User preferences",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},key:{type:"string",description:"Key"},value:{description:"Value"},avatar:{type:"string"},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","value"]}}},multi:!0},hu={provide:Xt.To,useValue:{name:"userpreferences",upsert:!1,data:[{id:"settings.customization",key:"settings.customization",value:{theme:{name:"Default",path:"assets/themes/default/variables.css"}}}]},multi:!0};var Lr=c(43),ps=c(2085),en=c(2051);const Ni={production:!0,useMocks:!0,autologin:!1,showSplashScreen:!0,webUrl:"https://aitorllamas.com/metaverse/apps/codex",documentationUrl:"https://aitorllamas.com/metaverse/apps/codex/docs",blogUrl:"https://aitorllamas.com/metaverse/apps/codex/blog",developersUrl:"https://aitorllamas.com/metaverse/apps/codex/developers"};var zn=(()=>{return(w=zn||(zn={})).Unknown="unknown",w.Currency="currency",w.Land="land",w.Material="material",w.Building="building",w.Equipment="equipment",w.Furniture="furniture",w.Machine="machine",w.Vehicle="vehicle",w.MediaResource="media-resource",w.Consumable="consumable",w.Other="other",zn;var w})(),ci=(()=>{return(w=ci||(ci={})).Body="body",w.Head="head",w.Ears="ears",w.Face="face",w.Eyes="eyes",w.Nose="nose",w.Mouth="mouth",w.Neck="neck",w.Chest="chest",w.Waist="waist",w.Back="back",w.Arms="arms",w.RightArm="right-arm",w.LeftArm="left-arm",w.Wrist="wrist",w.Hands="hands",w.RightHand="right-hand",w.LeftHand="left-hand",w.Legs="legs",w.RightLeg="right-leg",w.LeftLeg="left-leg",w.Feet="feet",w.RightFoot="right-foot",w.LeftFoot="left-foot",w.Finger="finger",ci;var w})();const vo={id:"1",name:"Raven's Cloak",model:"Raven's Cloak",producer:"Shop5363155 Store",owner:"Metam",description:"Microfiber hooded cloak with fleece lining",kind:zn.Equipment,previewUrl:"https://i.imgur.com/ukcsu1q.png",url:"https://es.aliexpress.com/item/1005001952208453.html",currentValue:23.62,purchaseValue:23.62,purchaseDate:(new Date).toISOString(),digital:!1,private:!0,data:{allowedSlots:[ci.Back],colors:["#ff0000","#00ff00","#0000ff"],isEquipped:!1}},li={id:"2",name:"Foundation's Coat",model:"Foundation's Coat",producer:"Shop1948549 Store",owner:"Metam",description:"Hooded coat with thick fleece lining",kind:zn.Equipment,previewUrl:"https://i.imgur.com/w1XmjIj.png",url:"https://es.aliexpress.com/item/1005003209038453.html",currentValue:43.9,purchaseValue:43.9,purchaseDate:(new Date).toISOString(),digital:!1,private:!0,data:{allowedSlots:[ci.Chest],colors:["#ff0000","#00ff00","#0000ff"],isEquipped:!1}},go=((new Date).toISOString(),{provide:Xt.To,useValue:{name:"userassets",upsert:!0,data:[vo,li]},multi:!0}),vu={provide:Xt.To,useValue:{name:"useravatars",upsert:!0,data:[{id:"1",welcomeMessage:"Hello!",name:"Thomas Anderson",title:"Software Engineer",selectedAppearance:{format:"readyplayer.me",src:"https://nerdreactor.com/wp-content/uploads/2021/12/The-Matrix-Awakens-An-Unreal-Engine-5-Experience-500x500_c.jpg",smallPreviewUrl:"https://nerdreactor.com/wp-content/uploads/2021/12/The-Matrix-Awakens-An-Unreal-Engine-5-Experience-500x500_c.jpg"},appearances:[{format:"gltf",src:"assets/avatars/samples/ed4aa425-9e13-4e51-9f2c-557dfe0db7ab/ed4aa425-9e13-4e51-9f2c-557dfe0db7ab.glb",smallPreviewUrl:"https://nerdreactor.com/wp-content/uploads/2021/12/The-Matrix-Awakens-An-Unreal-Engine-5-Experience-500x500_c.jpg",previewCamera:{position:"0 1.5 0.7",rotation:"-5 0 0",scale:"0.4 0.4 0.4"}},{format:"gltf",src:"assets/avatars/samples/65989f77-c8bf-4542-9e8a-d0f39eb76662/65989f77-c8bf-4542-9e8a-d0f39eb76662.glb",smallPreviewUrl:"assets/avatar-144.png",previewCamera:{position:"0 1.5 0.7",rotation:"-5 0 0",scale:"1 1 1"}}],scopes:[{integration:"CF",domain:"Calendars",scope:"manage"},{integration:"Google",domain:"Calendars",scope:"manage"},{integration:"NFT",domain:"Tokens",scope:"manage"}],skills:[{domain:"calendar",scope:"manage",skill:"create"},{domain:"event",scope:"manage",skill:"create"},{domain:"assets",scope:"manage",skill:"trade"}]},{id:"2",welcomeMessage:"Hello!",name:"Elliot Alderson",title:"Software Engineer",selectedAppearance:{format:"readyplayer.me",src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBYUFRUVFRUZGBgaHBoaHBoYHBkaHBkcGhwZHRkeGBocIS4lHx8rHxkYJzgnKy8xNjU1GiQ7QDs0Py40NTEBDAwMEA8QHhISHjQhISE0MTQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQxNDQ0NDQxNDQ0NDQ0NDQ/ND80PzQxPzQ0NDQxMf/AABEIAOEA4QMBIgACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAABAECAwUGBwj/xAA9EAABAwIDBQYDBwQBBAMAAAABAAIRAyEEEjEFQVFhcQYigZGh8BMysQdCUmLB0eEUcpLxgiMzosIWNLL/xAAYAQEAAwEAAAAAAAAAAAAAAAAAAQIDBP/EACMRAQEAAgMBAAIBBQAAAAAAAAABAhEDEiExQVEiBDJCYXH/2gAMAwEAAhEDEQA/AOhREWrAREQEREBERAREQEREBFQpKkVVJVHPgEzpqtHj9v4cNeDXyEaZS3MQR8zdZF/Mbio2SWt8i4A9snUniXtrMO8AMMaSBeHab4N9Fl2127Z8MjDyXmIc4CGg/NafmH6qvaLda7pF5Hg+2uKptcBlfJJzPaSQTzECNFvMB29cYNRrYmDla6GiJ1k3sd0cwp7Q616Ai12A25h65inWY4/hkB3+JuthKlW+KoiICIiAqFVVCgzIiIMSIiAiIgIiICIiAiIgpKSo2PeW03ubq1rj5A8FxL+0734ZjYOd4yudrOuYCL6Fo6AqLlpOONvxvu021cjWsY+HE94gT3dImI1P/ja64zE7XxLcoLn5twBJtv5i2YzyWHEPe9lMueAGsqOItPd+UR+J1jPMlYNnhzQ99WWggMm9511NphonmRossst+t8cNMD8c9xs94Ni4uc6/WDFjylY6JD3gCoQCWieEwLgnT+FXHs+RjRcNDnneXOJnwFteCrgaRY15cMrrFjonQiRwLSHInXqzEbNIL+DZI56QNeYWtDpGUmw033K6fE1AyqxryYynOBrpAnw05nkufp4eXlgIME35Cb+SiFi0UxeCY3j6WMWWetgS0WcHWnu8DH79dy2e0sDTzZKO6I4uObKbnhA6TzWtwbzTfDoyw4Gbi7XZfUBNliKyWw4EtIOokOB812WzO2Tw3vDM4AB2gzQDDriJjX6rl9riHTGvDS9wfHXxUGk8i8wplsRcZfHtWxdvUsSBkJz/AHmkOsd9yII5jiFt1599mw71f+1hHIEkWHP9PL0ALWXxhlNXSqIilAqFVVCgzIiIMSIiAiIgIiICIiAiIgx1BY7rFeT4qo2gGhrpDXOcwxFi5wafK8cl6R2hr5MO8wTIywN4Oo8RK8f2o8ucDMiBcaW/mVnn9014p5avp4oveCd2p/LabcbKbi6/xQ45vmIkcS0GwHl5LVYbAucYEX4zrwMCQVsBgHjUty8JP1iJ6ql01lrE2aZDpkaguuDuyuy79PFY3Y5xGU6DTW0XH1lWOw7yIg624E8zxVKeCeZiQRuP6KD1K2li8wBOsCDvOWQJ8DE8lrabjmEGDu8lsG7Je5vMatNvL3uQbEqcL7uY5buCncOtR6WKc15cDMyYPPl4rBVxJIA6Sd8idOS2FTZjxPdMjdfrblKh/wBC8mMpNptw1TcNZLH1i4NDt3qsVXW9j+yrUpOaYcCCOSsDSbqYj12/2bYgCu9p1cxpngWu09fRelBeJ9msc6hiKbw0O7wGXjNrfmvbmV7YwyAePH9VpjfGOc9XIiKygqFVVCgzIiIMSIiAiIgIiICIiAiIg1+2cGa1F7B80SOZGgK8eLwx2UiQHEFp1A3jzE/7le3hcF2e2AzE4vEuk5GVCL3k5jPKO6fArPPyba8Pt00eHI7rWMLgRDRBB8CL/USuiwPZ7EVA0mmQDx3f5Cx6yu+2d2fpMdmDACLCLQulotAEQsdWui2YvNaHYdxu4kHfc36lpWww/ZKnzMR82ojgfSF3pYFjewC8KeqNudp7IpsgZB5BW19nUyPlA8AtpW1UWufBUsXxrR4nZjDMtB6rT4nY7Js0coHuV0ddRjTVNNI5PaexWPaWwOVhbouJxuzgx0BzTwXrGJpyLLj9u4RrXEgCdbcLH6/VWxysquWM046sxzSCPmBkERYi4tu3L2bYeO/qMPSq73MBdycLO9V5TiqQNy06RvGWBrzkZdeC7j7OMXmwzmXmm4jS0O7wv5rpwrk5Y65ERaMRUKqqFBmREQYkREBERAREQEREBERBHxlbIx7/AMLXO8hK1v2cUopOe4CXuJ9bk85Wwx9Mup1GjUscPNpUX7Pv+wCfAcrn6lY8vmm/DPrtGLMx/NR2blnDFSNauNVYq9QwryFGfvU1EkRKryodZ5WwNGVR9ABZ6rSWNRUJWGFPxLIUB/JV0vKx1NFzm38NIzkaXmRBA1Hv1XUU26j0UTbNHOyBYi4jl+in/ateb4h+aQCDci3CxEeUeHltfs6rZcRXYT8zA4C1y069YPuFqMdRyOcD1HOJm/WRqs3ZOuWY+llsHhzDO8FriPUBa4fWGc3Hq6KjVVdDmFQqqoUGZERBiREQEREBERAREQFSVVEFpEqF2NpfDouYRBY97PJxjwiI6qasNLFso/1D3aAteRvOZrW26liy5Z414b/J0dAypbXxqvLcf23eS/4WmgIkxbjH1hat/brGtuGHxBjrospXRZt7G+oFG+KJNwvNtndu6r3BtSn/AMhI9CuowuL+JdvBVuXqccW/fimgLXYnaLQLkacffNc/tnFPYCLj9CuC2tiqr3GHkN3CZnoky34t11HYbV7X06biAQSCeceS0lTtkXHumAd8T5TqFzeG2cxzv+q8k/hbLneQ0W6w+zqA+Wk90axBjwBnRTdKzbd7P7TOLoezMPxM152n0W+rPD2yDIieH1XMUNm4dx7hLHi4a7Mxw6AwfG63+GGWnlJkjjrv1O/+VWp9cb2tpQWOG+Rwi+/zC1OxcW2ni6FR57rJcYk/Kx1hxJOn9y6HtXSORp5mZ00/hV7O7GblZUeJDmB/HWT9IVscus2i49rp0Oy9pVHlj6pYwPdDGCc2k66kjjot+uOq1S/+mrNpuYaTw11j8jzAJPUrsVtxZXKesOfGY2aFQqqoVqwZkREGJERAREQEREBERAVCVVEFGmCDE8uKptdrMRLRYvYWu49xzS2f8nKsLIxgJp8ZePDLP1WfJNxrw33TlKlajhQ6m1jJbBe58NazNpmMGSYMNAkwtLtfb1RzGvb/ANt7ixrvhNaHOGoAdUzQINyAuixfZUHEis8l3eD2ttBcIvGhiAIWsx/Y+kKz6ueplc5z8mT5cxlwFRzw0CSb3XPOv5dV7f4uWr16jHFrmgOFiIyEHlcg9QV6H9njKpc4VaZa0tzMda8Ru8fRaTG42kao7gqPtlbOYA8XHSy9C7M0XNptLw1s/K1ohrW20G7ik9q+W5j6j9qMCCx0NEwf1Xj1fA1Xue5kkaAAS6d8D9V7ZtmodNxsuI2vsJ2YPYSAZnLz0NtyXy7Rj805vBdm6gpF+QOqNcCKb7sc2L5pIzGYMG3dVuxNihjqv9VREvByw7K4PJ+41psB3t28BbirhMS2ze/yMQR0cteDiWuvRLY3ta0euqd7ovHLd7SWbEqSJqw0Xax5c/Lza8nM066Qt3gMM+JcfLT91DwNJ7hBDuYd/rr5rq8DhTkkhRP5F8jmu0Ozy6i4AG0Hw3++S02PxD2YOiaTix3w2DMJkQASJ3SZ9eK7XEslrmkcR/C53a7G4bDOzAOa2ixlxILyA1lv7hPQJolcz2Z22812te4uD+66d86eRXqAXA9lOz5D2Yh5aQ45mge9y78Lo4p9c39R9kVVCqqhWrnZkREGJERAREQEREBERAREQFKwRFwdQczfIgjyM+Cio10EHgZ9+qjKbicLq7bathG1GZXacrHwK5Da/ZF7yYxD8v4Sf1AXZCopVCkNVy3GV245XH1yHZ3saykczhJ3zv3rsaLO8s5FlFbi2MmSJUyTFGWVya/aomVrKDgQWlTMdtGmH954jhvPRQGVKTnEsfeZAIv0lVv1efEplMOEEab+CxPw+vvorMHig5xHMj+FMUeVKJTpRFlOpVYBBCwlqt5blM8Vy9QcSdfeq0+1SS/I5jXseWy135TLTbfK29YfNvlRKeypeXl7jJJIgeTTuCdbl8RcscfqVhMPlsAA0WaPqpatAhXLqwx6zTjzy7XYqFVVCrKsyIiDEiIgIiICIiAiIgIiICtKuVpQbjCmQ3mB9FPZZanCvhrZ93U9lbRc18rrnuMTWuXnu29gY04lzmVc1JwtIHd6756LuvijSUcZuTA5qMvVsb1eRPw9Rj306rS8m2ZriCB0bcdZVuE2aaT89Oo4t/C8l0HxXpNXAUm531HNE3kxw4rQnD03HuPadd91nZptjbWLYWFcBckkkmeJOq319+qg0anw/msFJ/qA9pg3vCmTUUyu6ks4lQsRWA4LHisWQARy8ua1Xx7zom0f9Ti4mSpTRYKDQdbjePNbBbcMc/PfikKqIt2AqFVVCgzIiIMSIiAiIgIiICIiAiIgIiIMrHd0j3dZ8JUk66KC48FTD1MpJHvwXPyzV26eLLeOlcdtl2HDnCk+q7cGAuM9BeFxlTbuOxBhuGqH+/uNHCA6BC7mi0anUnepb8t3SQY3LPf7dEunllbD7QLoNIDeAXNIHqdyjVsLjzuYOQI9IXe4/FOvD3E6Ra3ooNAh13ZnEfiP0Ubk/C29xzFDFY9rQ10Fs6OdJEe966HZWKIc3PZ2/cL8ZU9zWTIF1FrtDjYeW7+bqNqpGLcS3KOEe+KhGpGtj/KzPGUQdB4xr+2qgBxe8taZ4nUNHP3uUIbbZ7szhwF/fvctqFC2dTygR/vrzU0Lq4f7XJzfVyIi1ZCoVVUKDMiIgxIiICIiAiIgIiICIiAiKhMa26oBWN+GcZeySWxLfxDl+YcN61eJ7SYcEMY/4zycrWUu+XOOgkW9V0GxsNXa1zq+VrnmWsb9xu4Od9528xYaCdVTOzTXjl7bW4NragBaZBusr8A/SZWLE0/hPdVYO6bvaOO9wH1G+FNp7WYQO8L6XF1z6jp3UR2xDlvrvhQsRsYjQx1UzaG3gybrVVO0Advn9OCi6TLVGbNcLuNvd/oseIw4Z3uXosVTbLSTBtG7W276qE+s+ucoMCbu5a93mo1De0fEYsv7rfE7h/KmYOmGiB/s/qVjOGANrAbr+M8yp1JtlVbWomYUaKUFGpCIWPDbVpVHvptfD2Eh1N3deI4A6jfI3FdPDfNOXml3tPRWq5bMBUKqqFBmREQYkREBEVJUiqIqEqAlJWn2j2kw9GQXl7h91gnzd8o81zON7evNqNIDm8k+gj6ps62u+lRsdtGlRaX1HtYOZv4AXK8qxvaDE1jD6z2j8LDkH/jfzUBlLOQS4nrJN94J57lHZeYft2+0e37G2o0i+fvP7rfBoEn0XLbR29iK7g2rUORwBLG91txIkC5txJWAsDWnOMzbw6PlJ4gfULE9kta6xLYEjeBMT5lRatJJHa/ZZg2vxb3kWp0yWjg57ss9YDvNerOvJXkX2XbUbSxbqb7Cs34bT+dpLmDxBcOsL2EtWOX1pj8RKlPyXKbd2M45nUahYd7YzsP/ABkEeB8CuyKg42hmBjyVK1xrxzauFxTDLntcOIzeohaWpiqzbE+S9S25gwQQW3XFVtmZ3xl098VEy/a9x38Qtm417iAV2+DqZWZjb3uXI0cDkeO7Hh+66WrUmmABwVcrtOtNhhjm/fn1WxoUgFq9lUydbreBqSIoWWXLdtdkBzDiaZLK1IZg5ti5rdQSN4Fwuva31XO9s6mTB1zyDf8AJzR+qvPL4plJr1C7M9sadVjWV3hlUWJNmvjQg6Douta4ESLjiLjzXz4TZdN2Z7U1MIQ1+apROrCbt5snTpoV0TJy5Yfp68qFarZXaLDYi1OoC78Dpa7wB18FtldRlRJREMSIrSgqVB2htahQ/wC7VYw/hJlx6NEn0Wp7XdoRh2ZGH/qPBj8g0zH9F5o4Z3Fx7znGSTqTzUWrY4b9rucf27Fxh6ZPBz7DqGgz5wuW2ht3F1i7NVIb+Fndb5C/mVHFOB7971kAbFtfLoq+rzGRCyu3knqVUMMe/cLY/DAAMbvfDmrX7gBfl09+qlZDo078lcynBF+nPpxWww9HMeFp/eFhfTc0Eawd2vBEJTH2h28wOfBY24JozRMGZFjrEFo5K2hStOnI2Uik+BBQ0072lj7SHAiCNxBkEc9CF7B2I7aNxbW0a5DMSAANwrQPmb+exJb4heYYvD5uoAjnvAP1UDKJ/C4EcQQeI5yBdVym0yvop4WGo6QvMuz/ANoz6QFPFsdVYLCqyM4/uaSA7rY9V3uzNsYfEiaNVjzvaDDx1Ye8PJZ2aaY2Im1oLSCJHAiVzPwg2YYL+C63H07EQtOylcy3xWOU9bY1zGKwxzTli+nDzUzBUDEOC6Ojs8alUrYUBwUdansx4CjAUx5slKlCg7U2nToCaj2tHAm56BXkUtbLDvlcJ9p+2GZW4Zpl+YOfGjQJytPMkzG6FA272+c4FmGaaY0NR0ZyPyj7vW5XD1KhcSSSSSSSbkk6klaY4/ms8sp8ixyyPEEDkrWNuOvoqvdJlXZqsMHgRcEag9V1ewu3FaiQysfi0+fzNHJ2/ofNcm4XlWuU70izb2b/AOaYX8b/APEqi8ryonZHWPc1HxuJbSY97tGgnyUhef8AbnbeZ/8ATsPdaRn5u1jwlaWssZuua2jXdXqvqvMlxmOA0aB0srWUdOfgqBlmkannoQfRZy4NiY0975Cq3WinERPv/avNMm8e/ZVzHjT9hwvPvRZ8tj1v/CIWsaLCBdHtBMHRX0qeYxYbt6q1l9fKPfqgYZ4m45a+XRUzgkEePC2s+SspGHG1r3nqsoYCT58v2QSKcZNR7+qwVaDYkW8efvyVWMkEc7XuenALHVaQ11z01A4IEXjdfzOn0UPGU5+aZGh4aWnf/CtZU1g8N8ATylHu7p8tfK/mgiZyOYHDhzGsHyWN1O+Zhvug3HQi6zVsPmOZhgjn/KiuovF4nmNR1jXxUUbnCdqcbSAaK7nNH3aga8R1cCfVbWj9oFYfPRY/oXM/cLjc794nqE+I78P6KlxlWmVj0Kl9poHzYQ+FWfQsCwYr7SA4gsw0f3P/AEDb+a4P4o/AVY935U6xPaum2n28xVUQ0tpD8gk/5OkjwhcvXrueS57i4ne4kn1VMx4K0gqdRFtWlZGt3lGsV2WynSAb3HoPfmqMZKuCzNbG5NDE6n6furHhSXDksJbKlOk/KiyZUUIe2Lxnbv8A9mt/e76hEV6zw+q0/ld1P0VmI+70P6oihdkofM7qf/VbAfIOn/siIVhwerv7Sr2/f6j/APSIgto6+X0KzU9PfNEQZqfyP8Vh2hp4H6BURBq6evgfqVWn8vh+oVEQWu+cdf3VW/N/xRFFGFm7qPqVjxaIoEQ+/VWlEQUYsiIoSxDVZB93oqorfgG7uizD9lREgHU9SsbflCIiWwREQf/Z",smallPreviewUrl:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBYUFRUVFRUZGBgaHBoaHBoYHBkaHBkcGhwZHRkeGBocIS4lHx8rHxkYJzgnKy8xNjU1GiQ7QDs0Py40NTEBDAwMEA8QHhISHjQhISE0MTQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQxNDQ0NDQxNDQ0NDQ0NDQ/ND80PzQxPzQ0NDQxMf/AABEIAOEA4QMBIgACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAABAECAwUGBwj/xAA9EAABAwIDBQYDBwQBBAMAAAABAAIRAyEEEjEFQVFhcQYigZGh8BMysQdCUmLB0eEUcpLxgiMzosIWNLL/xAAYAQEAAwEAAAAAAAAAAAAAAAAAAQIDBP/EACMRAQEAAgMBAAIBBQAAAAAAAAABAhEDEiExQVEiBDJCYXH/2gAMAwEAAhEDEQA/AOhREWrAREQEREBERAREQEREBFQpKkVVJVHPgEzpqtHj9v4cNeDXyEaZS3MQR8zdZF/Mbio2SWt8i4A9snUniXtrMO8AMMaSBeHab4N9Fl2127Z8MjDyXmIc4CGg/NafmH6qvaLda7pF5Hg+2uKptcBlfJJzPaSQTzECNFvMB29cYNRrYmDla6GiJ1k3sd0cwp7Q616Ai12A25h65inWY4/hkB3+JuthKlW+KoiICIiAqFVVCgzIiIMSIiAiIgIiICIiAiIgpKSo2PeW03ubq1rj5A8FxL+0734ZjYOd4yudrOuYCL6Fo6AqLlpOONvxvu021cjWsY+HE94gT3dImI1P/ja64zE7XxLcoLn5twBJtv5i2YzyWHEPe9lMueAGsqOItPd+UR+J1jPMlYNnhzQ99WWggMm9511NphonmRossst+t8cNMD8c9xs94Ni4uc6/WDFjylY6JD3gCoQCWieEwLgnT+FXHs+RjRcNDnneXOJnwFteCrgaRY15cMrrFjonQiRwLSHInXqzEbNIL+DZI56QNeYWtDpGUmw033K6fE1AyqxryYynOBrpAnw05nkufp4eXlgIME35Cb+SiFi0UxeCY3j6WMWWetgS0WcHWnu8DH79dy2e0sDTzZKO6I4uObKbnhA6TzWtwbzTfDoyw4Gbi7XZfUBNliKyWw4EtIOokOB812WzO2Tw3vDM4AB2gzQDDriJjX6rl9riHTGvDS9wfHXxUGk8i8wplsRcZfHtWxdvUsSBkJz/AHmkOsd9yII5jiFt1599mw71f+1hHIEkWHP9PL0ALWXxhlNXSqIilAqFVVCgzIiIMSIiAiIgIiICIiAiIgx1BY7rFeT4qo2gGhrpDXOcwxFi5wafK8cl6R2hr5MO8wTIywN4Oo8RK8f2o8ucDMiBcaW/mVnn9014p5avp4oveCd2p/LabcbKbi6/xQ45vmIkcS0GwHl5LVYbAucYEX4zrwMCQVsBgHjUty8JP1iJ6ql01lrE2aZDpkaguuDuyuy79PFY3Y5xGU6DTW0XH1lWOw7yIg624E8zxVKeCeZiQRuP6KD1K2li8wBOsCDvOWQJ8DE8lrabjmEGDu8lsG7Je5vMatNvL3uQbEqcL7uY5buCncOtR6WKc15cDMyYPPl4rBVxJIA6Sd8idOS2FTZjxPdMjdfrblKh/wBC8mMpNptw1TcNZLH1i4NDt3qsVXW9j+yrUpOaYcCCOSsDSbqYj12/2bYgCu9p1cxpngWu09fRelBeJ9msc6hiKbw0O7wGXjNrfmvbmV7YwyAePH9VpjfGOc9XIiKygqFVVCgzIiIMSIiAiIgIiICIiAiIg1+2cGa1F7B80SOZGgK8eLwx2UiQHEFp1A3jzE/7le3hcF2e2AzE4vEuk5GVCL3k5jPKO6fArPPyba8Pt00eHI7rWMLgRDRBB8CL/USuiwPZ7EVA0mmQDx3f5Cx6yu+2d2fpMdmDACLCLQulotAEQsdWui2YvNaHYdxu4kHfc36lpWww/ZKnzMR82ojgfSF3pYFjewC8KeqNudp7IpsgZB5BW19nUyPlA8AtpW1UWufBUsXxrR4nZjDMtB6rT4nY7Js0coHuV0ddRjTVNNI5PaexWPaWwOVhbouJxuzgx0BzTwXrGJpyLLj9u4RrXEgCdbcLH6/VWxysquWM046sxzSCPmBkERYi4tu3L2bYeO/qMPSq73MBdycLO9V5TiqQNy06RvGWBrzkZdeC7j7OMXmwzmXmm4jS0O7wv5rpwrk5Y65ERaMRUKqqFBmREQYkREBERAREQEREBERBHxlbIx7/AMLXO8hK1v2cUopOe4CXuJ9bk85Wwx9Mup1GjUscPNpUX7Pv+wCfAcrn6lY8vmm/DPrtGLMx/NR2blnDFSNauNVYq9QwryFGfvU1EkRKryodZ5WwNGVR9ABZ6rSWNRUJWGFPxLIUB/JV0vKx1NFzm38NIzkaXmRBA1Hv1XUU26j0UTbNHOyBYi4jl+in/ateb4h+aQCDci3CxEeUeHltfs6rZcRXYT8zA4C1y069YPuFqMdRyOcD1HOJm/WRqs3ZOuWY+llsHhzDO8FriPUBa4fWGc3Hq6KjVVdDmFQqqoUGZERBiREQEREBERAREQFSVVEFpEqF2NpfDouYRBY97PJxjwiI6qasNLFso/1D3aAteRvOZrW26liy5Z414b/J0dAypbXxqvLcf23eS/4WmgIkxbjH1hat/brGtuGHxBjrospXRZt7G+oFG+KJNwvNtndu6r3BtSn/AMhI9CuowuL+JdvBVuXqccW/fimgLXYnaLQLkacffNc/tnFPYCLj9CuC2tiqr3GHkN3CZnoky34t11HYbV7X06biAQSCeceS0lTtkXHumAd8T5TqFzeG2cxzv+q8k/hbLneQ0W6w+zqA+Wk90axBjwBnRTdKzbd7P7TOLoezMPxM152n0W+rPD2yDIieH1XMUNm4dx7hLHi4a7Mxw6AwfG63+GGWnlJkjjrv1O/+VWp9cb2tpQWOG+Rwi+/zC1OxcW2ni6FR57rJcYk/Kx1hxJOn9y6HtXSORp5mZ00/hV7O7GblZUeJDmB/HWT9IVscus2i49rp0Oy9pVHlj6pYwPdDGCc2k66kjjot+uOq1S/+mrNpuYaTw11j8jzAJPUrsVtxZXKesOfGY2aFQqqoVqwZkREGJERAREQEREBERAVCVVEFGmCDE8uKptdrMRLRYvYWu49xzS2f8nKsLIxgJp8ZePDLP1WfJNxrw33TlKlajhQ6m1jJbBe58NazNpmMGSYMNAkwtLtfb1RzGvb/ANt7ixrvhNaHOGoAdUzQINyAuixfZUHEis8l3eD2ttBcIvGhiAIWsx/Y+kKz6ueplc5z8mT5cxlwFRzw0CSb3XPOv5dV7f4uWr16jHFrmgOFiIyEHlcg9QV6H9njKpc4VaZa0tzMda8Ru8fRaTG42kao7gqPtlbOYA8XHSy9C7M0XNptLw1s/K1ohrW20G7ik9q+W5j6j9qMCCx0NEwf1Xj1fA1Xue5kkaAAS6d8D9V7ZtmodNxsuI2vsJ2YPYSAZnLz0NtyXy7Rj805vBdm6gpF+QOqNcCKb7sc2L5pIzGYMG3dVuxNihjqv9VREvByw7K4PJ+41psB3t28BbirhMS2ze/yMQR0cteDiWuvRLY3ta0euqd7ovHLd7SWbEqSJqw0Xax5c/Lza8nM066Qt3gMM+JcfLT91DwNJ7hBDuYd/rr5rq8DhTkkhRP5F8jmu0Ozy6i4AG0Hw3++S02PxD2YOiaTix3w2DMJkQASJ3SZ9eK7XEslrmkcR/C53a7G4bDOzAOa2ixlxILyA1lv7hPQJolcz2Z22812te4uD+66d86eRXqAXA9lOz5D2Yh5aQ45mge9y78Lo4p9c39R9kVVCqqhWrnZkREGJERAREQEREBERAREQFKwRFwdQczfIgjyM+Cio10EHgZ9+qjKbicLq7bathG1GZXacrHwK5Da/ZF7yYxD8v4Sf1AXZCopVCkNVy3GV245XH1yHZ3saykczhJ3zv3rsaLO8s5FlFbi2MmSJUyTFGWVya/aomVrKDgQWlTMdtGmH954jhvPRQGVKTnEsfeZAIv0lVv1efEplMOEEab+CxPw+vvorMHig5xHMj+FMUeVKJTpRFlOpVYBBCwlqt5blM8Vy9QcSdfeq0+1SS/I5jXseWy135TLTbfK29YfNvlRKeypeXl7jJJIgeTTuCdbl8RcscfqVhMPlsAA0WaPqpatAhXLqwx6zTjzy7XYqFVVCrKsyIiDEiIgIiICIiAiIgIiICtKuVpQbjCmQ3mB9FPZZanCvhrZ93U9lbRc18rrnuMTWuXnu29gY04lzmVc1JwtIHd6756LuvijSUcZuTA5qMvVsb1eRPw9Rj306rS8m2ZriCB0bcdZVuE2aaT89Oo4t/C8l0HxXpNXAUm531HNE3kxw4rQnD03HuPadd91nZptjbWLYWFcBckkkmeJOq319+qg0anw/msFJ/qA9pg3vCmTUUyu6ks4lQsRWA4LHisWQARy8ua1Xx7zom0f9Ti4mSpTRYKDQdbjePNbBbcMc/PfikKqIt2AqFVVCgzIiIMSIiAiIgIiICIiAiIgIiIMrHd0j3dZ8JUk66KC48FTD1MpJHvwXPyzV26eLLeOlcdtl2HDnCk+q7cGAuM9BeFxlTbuOxBhuGqH+/uNHCA6BC7mi0anUnepb8t3SQY3LPf7dEunllbD7QLoNIDeAXNIHqdyjVsLjzuYOQI9IXe4/FOvD3E6Ra3ooNAh13ZnEfiP0Ubk/C29xzFDFY9rQ10Fs6OdJEe966HZWKIc3PZ2/cL8ZU9zWTIF1FrtDjYeW7+bqNqpGLcS3KOEe+KhGpGtj/KzPGUQdB4xr+2qgBxe8taZ4nUNHP3uUIbbZ7szhwF/fvctqFC2dTygR/vrzU0Lq4f7XJzfVyIi1ZCoVVUKDMiIgxIiICIiAiIgIiICIiAiKhMa26oBWN+GcZeySWxLfxDl+YcN61eJ7SYcEMY/4zycrWUu+XOOgkW9V0GxsNXa1zq+VrnmWsb9xu4Od9528xYaCdVTOzTXjl7bW4NragBaZBusr8A/SZWLE0/hPdVYO6bvaOO9wH1G+FNp7WYQO8L6XF1z6jp3UR2xDlvrvhQsRsYjQx1UzaG3gybrVVO0Advn9OCi6TLVGbNcLuNvd/oseIw4Z3uXosVTbLSTBtG7W276qE+s+ucoMCbu5a93mo1De0fEYsv7rfE7h/KmYOmGiB/s/qVjOGANrAbr+M8yp1JtlVbWomYUaKUFGpCIWPDbVpVHvptfD2Eh1N3deI4A6jfI3FdPDfNOXml3tPRWq5bMBUKqqFBmREQYkREBEVJUiqIqEqAlJWn2j2kw9GQXl7h91gnzd8o81zON7evNqNIDm8k+gj6ps62u+lRsdtGlRaX1HtYOZv4AXK8qxvaDE1jD6z2j8LDkH/jfzUBlLOQS4nrJN94J57lHZeYft2+0e37G2o0i+fvP7rfBoEn0XLbR29iK7g2rUORwBLG91txIkC5txJWAsDWnOMzbw6PlJ4gfULE9kta6xLYEjeBMT5lRatJJHa/ZZg2vxb3kWp0yWjg57ss9YDvNerOvJXkX2XbUbSxbqb7Cs34bT+dpLmDxBcOsL2EtWOX1pj8RKlPyXKbd2M45nUahYd7YzsP/ABkEeB8CuyKg42hmBjyVK1xrxzauFxTDLntcOIzeohaWpiqzbE+S9S25gwQQW3XFVtmZ3xl098VEy/a9x38Qtm417iAV2+DqZWZjb3uXI0cDkeO7Hh+66WrUmmABwVcrtOtNhhjm/fn1WxoUgFq9lUydbreBqSIoWWXLdtdkBzDiaZLK1IZg5ti5rdQSN4Fwuva31XO9s6mTB1zyDf8AJzR+qvPL4plJr1C7M9sadVjWV3hlUWJNmvjQg6Douta4ESLjiLjzXz4TZdN2Z7U1MIQ1+apROrCbt5snTpoV0TJy5Yfp68qFarZXaLDYi1OoC78Dpa7wB18FtldRlRJREMSIrSgqVB2htahQ/wC7VYw/hJlx6NEn0Wp7XdoRh2ZGH/qPBj8g0zH9F5o4Z3Fx7znGSTqTzUWrY4b9rucf27Fxh6ZPBz7DqGgz5wuW2ht3F1i7NVIb+Fndb5C/mVHFOB7971kAbFtfLoq+rzGRCyu3knqVUMMe/cLY/DAAMbvfDmrX7gBfl09+qlZDo078lcynBF+nPpxWww9HMeFp/eFhfTc0Eawd2vBEJTH2h28wOfBY24JozRMGZFjrEFo5K2hStOnI2Uik+BBQ0072lj7SHAiCNxBkEc9CF7B2I7aNxbW0a5DMSAANwrQPmb+exJb4heYYvD5uoAjnvAP1UDKJ/C4EcQQeI5yBdVym0yvop4WGo6QvMuz/ANoz6QFPFsdVYLCqyM4/uaSA7rY9V3uzNsYfEiaNVjzvaDDx1Ye8PJZ2aaY2Im1oLSCJHAiVzPwg2YYL+C63H07EQtOylcy3xWOU9bY1zGKwxzTli+nDzUzBUDEOC6Ojs8alUrYUBwUdansx4CjAUx5slKlCg7U2nToCaj2tHAm56BXkUtbLDvlcJ9p+2GZW4Zpl+YOfGjQJytPMkzG6FA272+c4FmGaaY0NR0ZyPyj7vW5XD1KhcSSSSSSSbkk6klaY4/ms8sp8ixyyPEEDkrWNuOvoqvdJlXZqsMHgRcEag9V1ewu3FaiQysfi0+fzNHJ2/ofNcm4XlWuU70izb2b/AOaYX8b/APEqi8ryonZHWPc1HxuJbSY97tGgnyUhef8AbnbeZ/8ATsPdaRn5u1jwlaWssZuua2jXdXqvqvMlxmOA0aB0srWUdOfgqBlmkannoQfRZy4NiY0975Cq3WinERPv/avNMm8e/ZVzHjT9hwvPvRZ8tj1v/CIWsaLCBdHtBMHRX0qeYxYbt6q1l9fKPfqgYZ4m45a+XRUzgkEePC2s+SspGHG1r3nqsoYCT58v2QSKcZNR7+qwVaDYkW8efvyVWMkEc7XuenALHVaQ11z01A4IEXjdfzOn0UPGU5+aZGh4aWnf/CtZU1g8N8ATylHu7p8tfK/mgiZyOYHDhzGsHyWN1O+Zhvug3HQi6zVsPmOZhgjn/KiuovF4nmNR1jXxUUbnCdqcbSAaK7nNH3aga8R1cCfVbWj9oFYfPRY/oXM/cLjc794nqE+I78P6KlxlWmVj0Kl9poHzYQ+FWfQsCwYr7SA4gsw0f3P/AEDb+a4P4o/AVY935U6xPaum2n28xVUQ0tpD8gk/5OkjwhcvXrueS57i4ne4kn1VMx4K0gqdRFtWlZGt3lGsV2WynSAb3HoPfmqMZKuCzNbG5NDE6n6furHhSXDksJbKlOk/KiyZUUIe2Lxnbv8A9mt/e76hEV6zw+q0/ld1P0VmI+70P6oihdkofM7qf/VbAfIOn/siIVhwerv7Sr2/f6j/APSIgto6+X0KzU9PfNEQZqfyP8Vh2hp4H6BURBq6evgfqVWn8vh+oVEQWu+cdf3VW/N/xRFFGFm7qPqVjxaIoEQ+/VWlEQUYsiIoSxDVZB93oqorfgG7uizD9lREgHU9SsbflCIiWwREQf/Z"},appearances:[],scopes:[],skills:[]},{id:"3",welcomeMessage:"Hello!",name:"Alan Turing",title:"Software Engineer",selectedAppearance:{format:"readyplayer.me",src:"https://upload.wikimedia.org/wikipedia/commons/a/a1/Alan_Turing_Aged_16.jpg",smallPreviewUrl:"https://upload.wikimedia.org/wikipedia/commons/a/a1/Alan_Turing_Aged_16.jpg"},appearances:[],scopes:[],skills:[]}]},multi:!0};var Ba=c(3905);let La=(()=>{class w{static forRoot({enabled:o=!1,autologin:y=!1}){const L=[];return o&&(L.push(vu),L.push(go)),y&&L.push({provide:l.APP_INITIALIZER,useFactory:G=>()=>(0,Ba.z)(G.setupDatabase("test","test1234")),deps:[Xt.v2],multi:!0}),{ngModule:w,providers:L}}}return w.\u0275fac=function(o){return new(o||w)},w.\u0275mod=l.\u0275\u0275defineNgModule({type:w}),w.\u0275inj=l.\u0275\u0275defineInjector({}),w})();var Fr=c(428),wn=c(3900),An=c(4004),ar=c(8505);const Wt=new l.InjectionToken("ON_DATABASE_CREATED_GUARD_FAILURE_REDIRECT_TOKEN",{providedIn:"root",factory:()=>"/select-avatar"});let Wn=(()=>{class w{constructor(o,y,L){this.entityManager=o,this.router=y,this.failureRedirectTo=L}canActivate(){return this.entityManager.getRepository("userpreferences","com.central-factory.user-avatars").pipe((0,wn.w)(o=>o.findOne({selector:{id:"userAvatars.selectedAvatar"}})),(0,An.U)(o=>!(!o||!o.value)),(0,ar.b)(o=>{o||this.router.navigate([this.failureRedirectTo])}))}}return w.\u0275fac=function(o){return new(o||w)(l.\u0275\u0275inject(Xt.v2),l.\u0275\u0275inject(Fr.Router),l.\u0275\u0275inject(Wt))},w.\u0275prov=l.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const vs=new l.InjectionToken("ON_DATABASE_CREATED_GUARD_FAILURE_REDIRECT_TOKEN",{providedIn:"root",factory:()=>"/login"});let Nr=(()=>{class w{constructor(o,y,L){this.entityManager=o,this.router=y,this.failureRedirectTo=L}canActivate(){const o=this.entityManager.isDatabaseCreated();return o||this.router.navigate([this.failureRedirectTo]),o}}return w.\u0275fac=function(o){return new(o||w)(l.\u0275\u0275inject(Xt.v2),l.\u0275\u0275inject(Fr.Router),l.\u0275\u0275inject(vs))},w.\u0275prov=l.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();const yo=new l.InjectionToken("ON_NOT_DATABASE_CREATED_GUARD_FAILURE_REDIRECT_TOKEN",{providedIn:"root",factory:()=>"/"});let $n=(()=>{class w{constructor(o,y,L){this.entityManager=o,this.router=y,this.failureRedirectTo=L}canActivate(){const o=this.entityManager.isDatabaseCreated();return o&&this.router.navigate([this.failureRedirectTo]),!o}}return w.\u0275fac=function(o){return new(o||w)(l.\u0275\u0275inject(Xt.v2),l.\u0275\u0275inject(Fr.Router),l.\u0275\u0275inject(yo))},w.\u0275prov=l.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();var Fa=c(6961),Cn=c(4918),_o=c(7165);(0,p.oQ)([(0,p.oB)({transform:"translate3d(0, 0, 0)"}),(0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"translate3d(0, 0, 0)",offset:.2}),(0,p.oB)({transform:"translate3d(0, -30px, 0)",offset:.4}),(0,p.oB)({transform:"translate3d(0, 0, 0)",offset:.53}),(0,p.oB)({transform:"translate3d(0, -15px, 0)",offset:.7}),(0,p.oB)({transform:"translate3d(0, -4px, 0)",offset:.9}),(0,p.oB)({transform:"translate3d(0, 0, 0)",offset:1})]))],{params:{timing:1,delay:0}}),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:1}),(0,p.oB)({opacity:0}),(0,p.oB)({opacity:1}),(0,p.oB)({opacity:0}),(0,p.oB)({opacity:1})])),{params:{timing:1,delay:0}}),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"scale3d(1, 1, 1)"}),(0,p.oB)({transform:"scale3d({{ scale }}, {{ scale }}, {{ scale }})"}),(0,p.oB)({transform:"scale3d(1, 1, 1)"})])),{params:{scale:1.25,timing:1,delay:0}}),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"scale3d(1, 1, 1)",offset:0}),(0,p.oB)({transform:"scale3d(1.25, 0.75, 1)",offset:.3}),(0,p.oB)({transform:"scale3d(0.75, 1.25, 1)",offset:.4}),(0,p.oB)({transform:"scale3d(1.15, 0.85, 1)",offset:.5}),(0,p.oB)({transform:"scale3d(.95, 1.05, 1)",offset:.65}),(0,p.oB)({transform:"scale3d(1.05, .95, 1)",offset:.75}),(0,p.oB)({transform:"scale3d(1, 1, 1)",offset:1})])),{params:{timing:1,delay:0}}),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"translate3d(0, 0, 0)",offset:0}),(0,p.oB)({transform:"translate3d(-10px, 0, 0)",offset:.1}),(0,p.oB)({transform:"translate3d(10px, 0, 0)",offset:.2}),(0,p.oB)({transform:"translate3d(-10px, 0, 0)",offset:.3}),(0,p.oB)({transform:"translate3d(10px, 0, 0)",offset:.4}),(0,p.oB)({transform:"translate3d(-10px, 0, 0)",offset:.5}),(0,p.oB)({transform:"translate3d(10px, 0, 0)",offset:.6}),(0,p.oB)({transform:"translate3d(-10px, 0, 0)",offset:.7}),(0,p.oB)({transform:"translate3d(10px, 0, 0)",offset:.8}),(0,p.oB)({transform:"translate3d(-10px, 0, 0)",offset:.9}),(0,p.oB)({transform:"translate3d(0, 0, 0)",offset:1})])),{params:{timing:1,delay:0}}),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"rotate3d(0, 0, 1, 15deg)",offset:.2}),(0,p.oB)({transform:"rotate3d(0, 0, 1, -10deg)",offset:.4}),(0,p.oB)({transform:"rotate3d(0, 0, 1, 5deg)",offset:.6}),(0,p.oB)({transform:"rotate3d(0, 0, 1, -5deg)",offset:.8}),(0,p.oB)({transform:"rotate3d(0, 0, 1, 0deg)",offset:1})])),{params:{timing:1,delay:0}}),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"scale3d(1, 1, 1)",offset:0}),(0,p.oB)({transform:"scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg)",offset:.1}),(0,p.oB)({transform:"scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg)",offset:.2}),(0,p.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)",offset:.3}),(0,p.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)",offset:.4}),(0,p.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)",offset:.5}),(0,p.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)",offset:.6}),(0,p.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)",offset:.7}),(0,p.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)",offset:.8}),(0,p.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)",offset:.9}),(0,p.oB)({transform:"scale3d(1, 1, 1)",offset:1})])),{params:{timing:1,delay:0}}),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"none",offset:0}),(0,p.oB)({transform:"translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg)",offset:.15}),(0,p.oB)({transform:"translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg)",offset:.3}),(0,p.oB)({transform:"translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg)",offset:.45}),(0,p.oB)({transform:"translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg)",offset:.6}),(0,p.oB)({transform:"translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg)",offset:.75}),(0,p.oB)({transform:"none",offset:1})])),{params:{timing:1,delay:0}}),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"none",offset:0}),(0,p.oB)({transform:"none",offset:.11}),(0,p.oB)({transform:"skewX(-12.5deg) skewY(-12.5deg)",offset:.22}),(0,p.oB)({transform:"skewX(6.25deg) skewY(6.25deg)",offset:.33}),(0,p.oB)({transform:"skewX(-3.125deg) skewY(-3.125deg)",offset:.44}),(0,p.oB)({transform:"skewX(1.5625deg) skewY(1.5625deg)",offset:.55}),(0,p.oB)({transform:"skewX(-0.78125deg) skewY(-0.78125deg)",offset:.66}),(0,p.oB)({transform:"skewX(0.390625deg) skewY(0.390625deg)",offset:.77}),(0,p.oB)({transform:"skewX(-0.1953125deg) skewY(-0.1953125deg)",offset:.88}),(0,p.oB)({transform:"none",offset:1})])),{params:{timing:1,delay:0}});const Qn=(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.215, 0.610, 0.355, 1.000)",(0,p.F4)([(0,p.oB)({opacity:0,transform:"scale3d(.3, .3, .3)",offset:0}),(0,p.oB)({transform:"scale3d(1.1, 1.1, 1.1)",offset:.2}),(0,p.oB)({transform:"scale3d(.9, .9, .9)",offset:.4}),(0,p.oB)({opacity:1,transform:"scale3d(1.03, 1.03, 1.03)",offset:.6}),(0,p.oB)({transform:"scale3d(.97, .97, .97)",offset:.8}),(0,p.oB)({opacity:1,transform:"scale3d(1, 1, 1)",offset:1})])),{params:{timing:1,delay:0}});function fi(w,a,o,y){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.215, 0.610, 0.355, 1.000)",(0,p.F4)([(0,p.oB)({opacity:0,transform:"translate3d(0, {{ a }}, 0)",offset:0}),(0,p.oB)({opacity:1,transform:"translate3d(0, {{ b }}, 0)",offset:.6}),(0,p.oB)({transform:"translate3d(0, {{ c }}, 0)",offset:.75}),(0,p.oB)({transform:"translate3d(0, {{ d }}, 0)",offset:.9}),(0,p.oB)({opacity:1,transform:"none",offset:1})])),{params:{timing:1,delay:0,a:w,b:a,c:o,d:y}})}function ji(w,a,o,y){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.215, 0.610, 0.355, 1.000)",(0,p.F4)([(0,p.oB)({opacity:0,transform:"translate3d({{ a }}, 0, 0)",offset:0}),(0,p.oB)({opacity:1,transform:"translate3d({{ b }}, 0, 0)",offset:.6}),(0,p.oB)({transform:"translate3d({{ c }}, 0, 0)",offset:.75}),(0,p.oB)({transform:"translate3d({{ d }}, 0, 0)",offset:.9}),(0,p.oB)({opacity:1,transform:"none",offset:1})])),{params:{timing:1,delay:0,a:w,b:a,c:o,d:y}})}function Zt(w,a,o,y){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"translate3d(0, {{ a }}, 0)",offset:.2}),(0,p.oB)({opacity:1,transform:"translate3d(0, {{ b }}, 0)",offset:.4}),(0,p.oB)({opacity:1,transform:"translate3d(0, {{ c }}, 0)",offset:.45}),(0,p.oB)({opacity:0,transform:"translate3d(0, {{ d }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:w,b:a,c:o,d:y}})}function di(w,a){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:1,transform:"translate3d({{ a }}, 0, 0)",offset:.2}),(0,p.oB)({opacity:0,transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:w,b:a}})}function dn(w,a){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:0,transform:"translate3d({{ a }}, 0, 0)",offset:0}),(0,p.oB)({opacity:1,transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:w,b:a}})}function $t(w,a){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:0,transform:"translate3d(0, {{ a }}, 0)",offset:0}),(0,p.oB)({opacity:1,transform:"translate3d(0, {{ b }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:w,b:a}})}fi("-3000px","25px","-10px","5px"),fi("3000px","-25px","10px","-5px"),ji("-3000px","25px","-10px","5px"),ji("3000px","-25px","10px","-5px"),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"scale3d(.9, .9, .9)",offset:.2}),(0,p.oB)({opacity:1,transform:"scale3d({{ scale }}, {{ scale }}, {{ scale }})",offset:.5}),(0,p.oB)({opacity:1,transform:"scale3d({{ scale }}, {{ scale }}, {{ scale }})",offset:.55}),(0,p.oB)({opacity:0,transform:"scale3d(.3, .3, .3)",offset:1})])),{params:{timing:1,delay:0,scale:1.1}}),Zt("10px","-20px","-20px","2000px"),Zt("-10px","20px","20px","-2000px"),di("20px","-2000px"),di("-20px","2000px"),dn(0,0),$t("-100%",0);const Co=$t("100%",0);function jr(w,a){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:1,transform:"translate3d({{ a }}, 0, 0)",offset:0}),(0,p.oB)({opacity:0,transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:w,b:a}})}function Zn(w,a){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:1,transform:"translate3d(0, {{ a }}, 0)",offset:0}),(0,p.oB)({opacity:0,transform:"translate3d(0, {{ b }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:w,b:a}})}function Vr(w,a){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"translate3d({{ a }}, 0, 0)",offset:0}),(0,p.oB)({transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:w,b:a}})}function Yn(w,a){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"translate3d(0, {{ a }}, 0)",offset:0}),(0,p.oB)({transform:"translate3d(0, {{ b }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:w,b:a}})}function hi(w,a){return(0,p.oQ)([(0,p.oB)({"backface-visibility":"visible"}),(0,p.jt)("{{ timing }}s {{ delay }}s ease-in",(0,p.F4)([(0,p.oB)({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:0}),(0,p.oB)({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.4}),(0,p.oB)({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 10deg)",offset:.6}),(0,p.oB)({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -5deg)",offset:.8}),(0,p.oB)({transform:"perspective(400px) rotate3d(0, 0, 0, 0)",offset:1})]))],{params:{timing:1,delay:0,rotateX:w,rotateY:a}})}function mi(w,a){return(0,p.oQ)([(0,p.oB)({"backface-visibility":"visible"}),(0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"perspective(400px)",offset:0}),(0,p.oB)({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.3}),(0,p.oB)({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:1})]))],{params:{timing:1,delay:0,rotateX:w,rotateY:a}})}function On(w,a){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({"transform-origin":"{{ origin }}",opacity:0,transform:"rotate3d(0, 0, 1, {{ degrees }})",offset:0}),(0,p.oB)({"transform-origin":"{{ origin }}",opacity:1,transform:"none",offset:1})])),{params:{timing:1,delay:0,origin:w,degrees:a}})}function H(w,a){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({"transform-origin":"{{ origin }}",opacity:1,transform:"none",offset:0}),(0,p.oB)({"transform-origin":"{{ origin }}",opacity:0,transform:"rotate3d(0, 0, 1, {{ degrees }})",offset:1})])),{params:{timing:1,delay:0,origin:w,degrees:a}})}function hn(w,a){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.550, 0.055, 0.675, 0.190)",(0,p.F4)([(0,p.oB)({opacity:0,transform:"scale3d(.1, .1, .1) translate3d(0, {{ a }}, 0)",offset:0}),(0,p.oB)({opacity:1,transform:"scale3d(.475, .475, .475) translate3d(0, {{ b }}, 0)",offset:.6})])),{params:{timing:1,delay:0,a:w,b:a}})}function hr(w,a){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.550, 0.055, 0.675, 0.190)",(0,p.F4)([(0,p.oB)({opacity:0,transform:"scale3d(.1, .1, .1) translate3d({{ a }}, 0, 0)",offset:0}),(0,p.oB)({opacity:1,transform:"scale3d(.475, .475, .475) translate3d({{ b }}, 0, 0)",offset:.6})])),{params:{timing:1,delay:0,a:w,b:a}})}function To(w,a){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.550, 0.055, 0.675, 0.190)",(0,p.F4)([(0,p.oB)({opacity:1,transform:"scale3d(.475, .475, .475) translate3d(0, {{ a }}, 0)",offset:.4}),(0,p.oB)({opacity:0,transform:"scale3d(.1, .1, .1) translate3d(0, {{ b }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:w,b:a}})}function _i(w,a){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.550, 0.055, 0.675, 0.190)",(0,p.F4)([(0,p.oB)({opacity:1,transform:"scale3d(.475, .475, .475) translate3d({{ a }}, 0, 0)",offset:.4}),(0,p.oB)({opacity:0,transform:"scale3d(.1, .1, .1) translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:w,b:a}})}dn("-100%",0),dn("100%",0),jr(0,0),Zn("-100%",0),Zn("100%",0),jr("-100%",0),jr("100%",0),Yn("-100%",0),Yn("100%",0),Vr("-100%",0),Vr("100%",0),Yn(0,"-100%"),Yn(0,"100%"),Vr(0,"-100%"),Vr(0,"100%"),(0,p.oQ)([(0,p.oB)({"backface-visibility":"visible"}),(0,p.jt)("{{ timing }}s {{ delay }}s ease-out",(0,p.F4)([(0,p.oB)({transform:"perspective(400px) rotate3d(0, 1, 0, -360deg)",offset:0}),(0,p.oB)({transform:"perspective(400px) scale3d(1.5, 1.5, 1.5) rotate3d(0, 1, 0, -190deg)",offset:.4}),(0,p.oB)({transform:"perspective(400px) scale3d(1.5, 1.5, 1.5) rotate3d(0, 1, 0, -170deg)",offset:.5}),(0,p.oB)({transform:"perspective(400px) scale3d(.95, .95, .95)",offset:.8}),(0,p.oB)({transform:"perspective(400px)",offset:1})]))],{params:{timing:1,delay:0}}),hi(1,0),hi(0,1),mi(1,0),mi(0,1),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:0,transform:"translate3d(100%, 0, 0) skewX(-30deg)",offset:0}),(0,p.oB)({opacity:1,transform:"translate3d(0, 0, 0) skewX(0)",offset:1})])),{params:{timing:1,delay:0}}),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s ease-out",(0,p.F4)([(0,p.oB)({opacity:1,offset:0}),(0,p.oB)({opacity:0,transform:"translate3d(100%, 0, 0) skewX(30deg)",offset:1})])),{params:{timing:1,delay:0}}),On("center","-200deg"),On("left bottom","-45deg"),On("right bottom","45deg"),On("left bottom","45deg"),On("right bottom","-90deg"),H("center","200deg"),H("left bottom","45deg"),H("right bottom","-45deg"),H("left bottom","-45deg"),H("right bottom","90deg"),(0,p.oQ)([(0,p.oB)({"transform-origin":"top left"}),(0,p.jt)("{{ timing }}s {{ delay }}s ease-in-out",(0,p.F4)([(0,p.oB)({transform:"rotate3d(0, 0, 1, 80deg)",offset:.2}),(0,p.oB)({transform:"rotate3d(0, 0, 1, 60deg)",offset:.4}),(0,p.oB)({transform:"rotate3d(0, 0, 1, 80deg)",offset:.6}),(0,p.oB)({opacity:1,transform:"rotate3d(0, 0, 1, 60deg)",offset:.8}),(0,p.oB)({opacity:0,transform:"translate3d(0, 700px, 0)",offset:1})]))],{params:{timing:1,delay:0}}),(0,p.oQ)([(0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:0,transform:"scale(0.1) rotate(30deg)","transform-origin":"center bottom",offset:0}),(0,p.oB)({opacity:.5,transform:"rotate(-10deg)",offset:.5}),(0,p.oB)({opacity:.7,transform:"rotate(3deg)",offset:.7}),(0,p.oB)({opacity:1,transform:"scale(1)",offset:1})]))],{params:{timing:1,delay:0}}),(0,p.oQ)([(0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:0,transform:"translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg)",offset:0}),(0,p.oB)({opacity:1,transform:"none",offset:1})]))],{params:{timing:1,delay:0}}),(0,p.oQ)([(0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:1,offset:0}),(0,p.oB)({opacity:0,transform:"translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg)",offset:1})]))],{params:{timing:1,delay:0}}),(0,p.oQ)([(0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:0,transform:"scale3d(.3, .3, .3)",offset:0}),(0,p.oB)({opacity:1,transform:"scale3d(1, 1, 1)",offset:.5})]))],{params:{timing:1,delay:0}}),hn("-1000px","10px"),hn("1000px","-10px"),hr("-1000px","10px"),hr("1000px","-10px"),(0,p.oQ)([(0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:1,offset:0}),(0,p.oB)({opacity:0,transform:"scale3d(.3, .3, .3)",offset:.5}),(0,p.oB)({opacity:0,offset:1})]))],{params:{timing:1,delay:0}}),To("-60px","2000px"),To("60px","-2000px"),_i("42px","-2000px"),_i("-42px","2000px");var Is=c(7579),Su=c(4128),Ro=c(9300),Ka=c(1884),bi=c(2722),Ps=c(1623),Ts=c(3454),Rs=c(7967),Au=c(5183),Cu=c(6111),Mo=c(8753),Va=c(9750),xo=c(5605);let Du=(()=>{class w{constructor(){this.title="CF Portal",this.titleClick=new l.EventEmitter}onTitleClick(){this.titleClick.emit()}}return w.\u0275fac=function(o){return new(o||w)},w.\u0275cmp=l.\u0275\u0275defineComponent({type:w,selectors:[["cf-navbar"]],inputs:{environment:"environment",title:"title"},outputs:{titleClick:"titleClick"},decls:24,vars:10,consts:[["cfBlock","navbar"],["cfBlock","navbar-section","cfMod","left"],["cfElem","title",3,"click"],["cfElem","icon","src","assets/logo.svg",3,"svgClass"],["cfElem","text"],["cfBlock","navbar-section","cfMod","right"],["cfBlock","list","cfMod","horizontal"],["cfElem","item"],["src","assets/icons/mdi/web.svg","cfElem","icon",3,"svgClass"],["cfElem","link",3,"href"],["src","assets/icons/mdi/text-box-search-outline.svg","cfElem","icon",3,"svgClass"],["src","assets/icons/mdi/post-outline.svg","cfElem","icon",3,"svgClass"],["src","assets/icons/mdi/code-tags.svg","cfElem","icon",3,"svgClass"]],template:function(o,y){1&o&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275elementStart(1,"div",1),l.\u0275\u0275elementStart(2,"h1",2),l.\u0275\u0275listener("click",function(){return y.onTitleClick()}),l.\u0275\u0275element(3,"cf-svg-icon",3),l.\u0275\u0275elementStart(4,"span",4),l.\u0275\u0275text(5),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(6,"div",5),l.\u0275\u0275elementStart(7,"ul",6),l.\u0275\u0275elementStart(8,"li",7),l.\u0275\u0275element(9,"cf-svg-icon",8),l.\u0275\u0275elementStart(10,"a",9),l.\u0275\u0275text(11,"Website"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(12,"li",7),l.\u0275\u0275element(13,"cf-svg-icon",10),l.\u0275\u0275elementStart(14,"a",9),l.\u0275\u0275text(15,"Documentation"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(16,"li",7),l.\u0275\u0275element(17,"cf-svg-icon",11),l.\u0275\u0275elementStart(18,"a",9),l.\u0275\u0275text(19,"Blog"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(20,"li",7),l.\u0275\u0275element(21,"cf-svg-icon",12),l.\u0275\u0275elementStart(22,"a",9),l.\u0275\u0275text(23," Developers "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&o&&(l.\u0275\u0275advance(3),l.\u0275\u0275property("svgClass","icon__svg"),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(y.title),l.\u0275\u0275advance(4),l.\u0275\u0275property("svgClass","icon__svg"),l.\u0275\u0275advance(1),l.\u0275\u0275property("href",null==y.environment?null:y.environment.webUrl,l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(3),l.\u0275\u0275property("svgClass","icon__svg"),l.\u0275\u0275advance(1),l.\u0275\u0275property("href",null==y.environment?null:y.environment.documentationUrl,l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(3),l.\u0275\u0275property("svgClass","icon__svg"),l.\u0275\u0275advance(1),l.\u0275\u0275property("href",null==y.environment?null:y.environment.blogUrl,l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(3),l.\u0275\u0275property("svgClass","icon__svg"),l.\u0275\u0275advance(1),l.\u0275\u0275property("href",null==y.environment?null:y.environment.developersUrl,l.\u0275\u0275sanitizeUrl))},directives:[Ps.G,Rs.I,Ts.e,Va.b],encapsulation:2}),w})();const Ha=function(w){return{"button--active":w}};function Qa(w,a){if(1&w){const o=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"a",19),l.\u0275\u0275listener("click",function(){const G=l.\u0275\u0275restoreView(o).$implicit;return l.\u0275\u0275nextContext(3).onSidebarItemClick(G)}),l.\u0275\u0275elementStart(2,"div",9),l.\u0275\u0275elementStart(3,"span",10),l.\u0275\u0275text(4),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(5,"button",20),l.\u0275\u0275element(6,"cf-svg-icon",21),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()}if(2&w){const o=a.$implicit;l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate(o.name),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngClass",l.\u0275\u0275pureFunction1(4,Ha,o.active)),l.\u0275\u0275advance(1),l.\u0275\u0275property("src",o.icon)("svgClass","icon__svg")}}const Ou=function(w){return{"background-color":w,"margin-top":"15px"}};function Iu(w,a){if(1&w){const o=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",22),l.\u0275\u0275elementStart(1,"div",22),l.\u0275\u0275elementStart(2,"div",9),l.\u0275\u0275elementStart(3,"span",10),l.\u0275\u0275text(4),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(5,"button",23),l.\u0275\u0275listener("click",function(){const G=l.\u0275\u0275restoreView(o).$implicit;return l.\u0275\u0275nextContext(3).onRecentlyOpenedItemClick(G)}),l.\u0275\u0275element(6,"cf-svg-icon",21),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()}if(2&w){const o=a.$implicit;l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate(o.name),l.\u0275\u0275advance(1),l.\u0275\u0275property("cdkDragData",o.application)("ngClass",l.\u0275\u0275pureFunction1(6,Ha,o.active))("ngStyle",l.\u0275\u0275pureFunction1(8,Ou,o.color)),l.\u0275\u0275advance(1),l.\u0275\u0275property("src",o.icon)("svgClass","icon__svg")}}const Pu=function(){return[]};function Tu(w,a){if(1&w){const o=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",24),l.\u0275\u0275elementStart(1,"cf-splash-screen",25),l.\u0275\u0275listener("splashScreenHide",function(){return l.\u0275\u0275restoreView(o),l.\u0275\u0275nextContext(3).showSplashScreen=!1}),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()}if(2&w){const o=l.\u0275\u0275nextContext(3);l.\u0275\u0275advance(1),l.\u0275\u0275propertyInterpolate1("welcomeMessage","Welcome to ",null==o.openedSidebarItem?null:o.openedSidebarItem.name,""),l.\u0275\u0275property("mods","in-scene")("displayLoadingTime",2e3)("displayWelcomeTime",1e3)("title",(null==o.openedSidebarItem?null:o.openedSidebarItem.name)||"")("logo",(null==o.openedSidebarItem?null:o.openedSidebarItem.icon)||"")("backgroundColor",(null==o.openedSidebarItem?null:o.openedSidebarItem.color)||"")("loadingTexts",(null==o.openedSidebarItem||null==o.openedSidebarItem.application||null==o.openedSidebarItem.application.description?null:o.openedSidebarItem.application.description.split("."))||l.\u0275\u0275pureFunction0(8,Pu))}}const Ru=function(){return["/select-avatar"]},Mu=function(){return["applications-carousel"]},$c=function(w){return{"scene__content--splash-screen":w}};function xu(w,a){if(1&w){const o=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"cf-sidebar-container"),l.\u0275\u0275elementStart(1,"cf-sidebar",6),l.\u0275\u0275listener("openedChange",function(L){return l.\u0275\u0275restoreView(o),l.\u0275\u0275nextContext(2).sidebarIsOpen=L}),l.\u0275\u0275elementStart(2,"div",7),l.\u0275\u0275elementStart(3,"a",8),l.\u0275\u0275listener("click",function(){l.\u0275\u0275restoreView(o);const L=l.\u0275\u0275nextContext().ngIf;return l.\u0275\u0275nextContext().onSidebarItemClick({name:"Select Avatar",routerLink:["/select-avatar"],icon:L.selectedAvatar.selectedAppearance.smallPreviewUrl,active:!1})}),l.\u0275\u0275elementStart(4,"div",9),l.\u0275\u0275elementStart(5,"span",10),l.\u0275\u0275text(6,"Account"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(7,"img",11),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(8,Qa,7,6,"ng-container",12),l.\u0275\u0275elementStart(9,"div",13),l.\u0275\u0275template(10,Iu,7,10,"div",14),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(11,"router-outlet",15),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(12,"div",16),l.\u0275\u0275elementStart(13,"div",17),l.\u0275\u0275template(14,Tu,2,9,"div",18),l.\u0275\u0275element(15,"router-outlet"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()}if(2&w){const o=l.\u0275\u0275nextContext().ngIf,y=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275property("opened",y.sidebarIsOpen)("dock",!0)("dockedSize","80px")("showBackdrop",!0)("closeOnClickBackdrop",!0)("closeOnClickOutside",!0),l.\u0275\u0275advance(2),l.\u0275\u0275property("routerLink",l.\u0275\u0275pureFunction0(15,Ru)),l.\u0275\u0275advance(4),l.\u0275\u0275property("src",o.selectedAvatar.selectedAppearance.smallPreviewUrl,l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngForOf",y.sidebarItems),l.\u0275\u0275advance(1),l.\u0275\u0275property("cdkDropListData",y.recentlyOpenedSidebarItems)("cdkDropListConnectedTo",l.\u0275\u0275pureFunction0(16,Mu)),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngForOf",y.recentlyOpenedSidebarItems),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngClass",l.\u0275\u0275pureFunction1(17,$c,y.showSplashScreen))("@sceneContentAnimationState",y.sceneContentAnimationState),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",y.showSplashScreen)}}function Kc(w,a){1&w&&(l.\u0275\u0275elementStart(0,"div",26),l.\u0275\u0275elementStart(1,"div",27),l.\u0275\u0275element(2,"router-outlet"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd())}function Vc(w,a){if(1&w){const o=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"cf-navbar",28),l.\u0275\u0275listener("titleClick",function(){l.\u0275\u0275restoreView(o);const L=l.\u0275\u0275nextContext(2);return L.sidebarIsOpen=!L.sidebarIsOpen}),l.\u0275\u0275elementEnd()}if(2&w){const o=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("title",o.title)}}const ku=function(w){return{"no-navbar":w}};function Bu(w,a){if(1&w&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"div",1),l.\u0275\u0275elementStart(2,"div",2),l.\u0275\u0275template(3,xu,16,19,"cf-sidebar-container",3),l.\u0275\u0275template(4,Kc,3,0,"ng-template",null,4,l.\u0275\u0275templateRefExtractor),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(6,Vc,1,1,"cf-navbar",5),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()),2&w){const o=a.ngIf,y=l.\u0275\u0275reference(5),L=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275property("cfMod",l.\u0275\u0275pureFunction1(4,ku,!L.showNavbar)),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",o.selectedAvatar)("ngIfElse",y),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngIf",L.showNavbar)}}const Ga=function(w){return{selectedAvatar:w}};var Rr=(()=>{return(w=Rr||(Rr={})).Idle="Idle",w.Opened="Opened",w.Animated="Animated",Rr;var w})();const Fu=[{path:"",component:(()=>{class w{constructor(o,y,L,G,se,ue){this.router=o,this.entityManager=y,this.selectedAvatarState=L,this.selectedApplicationState=G,this.recentlyOpenedApplicationsState=se,this.customizationSettingsState=ue,this.title="Metaverse Portal",this.sidebarIsOpen=!1,this.sidebarItems=[],this.recentlyOpenedSidebarItems=[],this.showSplashScreen=!1,this.showNavbar=!1,this.sceneContentAnimationState=Rr.Idle,this.selectedAvatar$=this.selectedAvatarState.avatar$,this.recentlyOpenedApplications$=this.recentlyOpenedApplicationsState.applications$.pipe((0,An.U)(ye=>ye.reverse()),(0,An.U)(ye=>this.generateSidebarItems(ye))),this.destroy$=new Is.x}ngOnInit(){this.customizationSettingsState.customizationSettings$.pipe((0,An.U)(o=>o?.theme),(0,Ro.h)(o=>void 0!==o),(0,Ka.x)((o,y)=>o?.path===y?.path),(0,Ro.h)((a,o)=>1<=o),(0,ar.b)(o=>{this.sceneContentAnimationState=Rr.Idle,setTimeout(()=>this.sceneContentAnimationState=Rr.Animated,100)}),(0,bi.R)(this.destroy$)).subscribe(),this.recentlyOpenedApplications$.pipe((0,bi.R)(this.destroy$),(0,ar.b)(o=>this.recentlyOpenedSidebarItems=o)).subscribe(),this.router.events.pipe((0,Ro.h)(o=>o instanceof Fr.NavigationEnd),(0,bi.R)(this.destroy$)).subscribe(()=>{this.setSidebarItemsActive(this.sidebarItems)}),this.entityManager.initialize$.pipe((0,wn.w)(()=>(0,Su.D)([this.entityManager.getRepository("userapplications","com.central-factory.portal")])),(0,ar.b)(([o])=>this.subscribeToDataChanges(o))).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onRecentlyOpenedItemClick(o){this.sceneContentAnimationState=Rr.Idle,setTimeout(()=>{this.sceneContentAnimationState=Rr.Opened,o.application&&(this.selectedApplicationState.selectApplication(o.application),this.selectedApplicationState.openSidebar())},100)}onSidebarItemClick(o){this.sceneContentAnimationState=Rr.Idle,setTimeout(()=>{this.sceneContentAnimationState=Rr.Opened,this.showSplashScreen=!0,this.openedSidebarItem=o,o.routerLink&&this.router.navigate(o.routerLink)},100)}subscribeToDataChanges(o){o.find({selector:{"additionalProperties.sidebarShortcuts":{$exists:!0}}}).pipe((0,ar.b)(y=>{this.sidebarItems=this.generateSidebarItems(y)}),(0,bi.R)(this.destroy$)).subscribe()}generateSidebarItems(o){const y=o.sort((L,G)=>L.createdAt.localeCompare(G.createdAt)).reduce((L,G)=>{const ye=G.shortcuts||[],Qe=(G.additionalProperties?.sidebarShortcuts||[]).map(qe=>ye.find(pt=>pt.name===qe)).filter(qe=>!!qe).map(qe=>({name:qe.name,routerLink:[qe.url],icon:qe.icons&&qe.icons.length>0?qe.icons[0].src:"",color:G.additionalProperties?.colors?.find(pt=>"primary"===pt.variation)?.color||(!0===G.additionalProperties?.internal?"var(--color-base-primary-medium)":void 0),active:!1,application:G}));return L.concat(Qe)},[]);return this.setSidebarItemsActive(y),y}setSidebarItemsActive(o){o.forEach(y=>{y.active=this.router.url.startsWith(y.routerLink.join("/"))})}}return w.\u0275fac=function(o){return new(o||w)(l.\u0275\u0275directiveInject(Fr.Router),l.\u0275\u0275directiveInject(Xt.v2),l.\u0275\u0275directiveInject(_o.Y),l.\u0275\u0275directiveInject(Cn.H),l.\u0275\u0275directiveInject(Fa.r),l.\u0275\u0275directiveInject(Lr.T))},w.\u0275cmp=l.\u0275\u0275defineComponent({type:w,selectors:[["cf-portal-layout"]],decls:2,vars:5,consts:[[4,"ngIf"],["cfBlock","scene"],["cfElem","body",3,"cfMod"],[4,"ngIf","ngIfElse"],["notSelectedAvatarLayout",""],["cfElem","navbar",3,"title","titleClick",4,"ngIf"],[3,"opened","dock","dockedSize","showBackdrop","closeOnClickBackdrop","closeOnClickOutside","openedChange"],[2,"margin-top","20px"],["cfBlock","sidebar-item",1,"d-block",3,"routerLink","click"],["cfElem","text"],["cfElem","text-content"],["cfElem","image",3,"src"],[4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListSortingDisabled","",3,"cdkDropListData","cdkDropListConnectedTo"],["class","d-block","cfBlock","sidebar-item",4,"ngFor","ngForOf"],["name","sidebar"],["cf-sidebar-content",""],[1,"scene__content",3,"ngClass"],["cfBlock","scene-content","cfMod","splash-screen",4,"ngIf"],["cfBlock","sidebar-item",1,"d-block",3,"click"],["cfBlock","button","cfMod","fab",2,"margin-top","15px",3,"ngClass"],["cfElem","icon",3,"src","svgClass"],["cfBlock","sidebar-item",1,"d-block"],["cdkDrag","","cfBlock","button","cfMod","fab",3,"cdkDragData","ngClass","ngStyle","click"],["cfBlock","scene-content","cfMod","splash-screen"],[3,"mods","displayLoadingTime","displayWelcomeTime","title","logo","backgroundColor","welcomeMessage","loadingTexts","splashScreenHide"],[1,"scene__container"],[1,"scene__content"],["cfElem","navbar",3,"title","titleClick"]],template:function(o,y){1&o&&(l.\u0275\u0275template(0,Bu,7,6,"ng-container",0),l.\u0275\u0275pipe(1,"async")),2&o&&l.\u0275\u0275property("ngIf",l.\u0275\u0275pureFunction1(3,Ga,l.\u0275\u0275pipeBind1(1,1,y.selectedAvatar$)))},directives:[qr.NgIf,Ps.G,Ts.e,Rs.I,Au.L,Cu.k,Fr.RouterLinkWithHref,qr.NgForOf,Mo.Wj,Fr.RouterOutlet,qr.NgClass,Va.b,Mo.Zt,qr.NgStyle,xo.wn,Du],pipes:[qr.AsyncPipe],encapsulation:2,data:{animation:[(0,p.X$)("sceneContentAnimationState",[(0,p.eR)(`${Rr.Idle} => ${Rr.Animated}`,(0,p._7)(Qn)),(0,p.eR)(`${Rr.Idle} => ${Rr.Opened}`,(0,p._7)(Co,{params:{timing:.5}}))])]}}),w})(),children:[{path:"login",loadChildren:()=>c.e(12).then(c.bind(c,12)).then(w=>w.LoginModule),canActivate:[$n]},{path:"select-avatar",loadChildren:()=>c.e(700).then(c.bind(c,8700)).then(w=>w.SelectAvatarModule),canActivate:[Nr]},{path:"create-avatar",loadChildren:()=>c.e(4).then(c.bind(c,2004)).then(w=>w.CreateAvatarModule),canActivate:[Nr]},{path:"selected-avatar",loadChildren:()=>c.e(276).then(c.bind(c,5276)).then(w=>w.SelectedAvatarModule),canActivate:[Nr,Wn]},{path:"play",loadChildren:()=>c.e(491).then(c.bind(c,6491)).then(w=>w.PlayModule),canActivate:[Nr,Wn]},{path:"manage-applications",loadChildren:()=>c.e(835).then(c.bind(c,9835)).then(w=>w.ManageApplicationsModule),canActivate:[Nr,Wn]},{path:"inventory",loadChildren:()=>c.e(740).then(c.bind(c,2740)).then(w=>w.InventoryModule),canActivate:[Nr,Wn]},{path:"marketplace",loadChildren:()=>c.e(189).then(c.bind(c,5189)).then(w=>w.MarketplaceModule),canActivate:[Nr,Wn]},{path:"settings",loadChildren:()=>c.e(672).then(c.bind(c,6672)).then(w=>w.SettingsModule),canActivate:[Nr,Wn]},{path:"",redirectTo:"play",pathMatch:"full"}]}];let Hc=(()=>{class w{}return w.\u0275fac=function(o){return new(o||w)},w.\u0275mod=l.\u0275\u0275defineNgModule({type:w}),w.\u0275inj=l.\u0275\u0275defineInjector({imports:[[Fr.RouterModule.forRoot(Fu)],Fr.RouterModule]}),w})();function Qc(w,a){1&w&&l.\u0275\u0275element(0,"cf-splash-screen")}let Gc=(()=>{class w{constructor(){this.environment=Ni}}return w.\u0275fac=function(o){return new(o||w)},w.\u0275cmp=l.\u0275\u0275defineComponent({type:w,selectors:[["cf-portal-root"]],decls:4,vars:1,consts:[["id","bgcanvas"],[4,"ngIf"],[1,"application"]],template:function(o,y){1&o&&(l.\u0275\u0275element(0,"canvas",0),l.\u0275\u0275template(1,Qc,1,0,"cf-splash-screen",1),l.\u0275\u0275elementStart(2,"div",2),l.\u0275\u0275element(3,"router-outlet"),l.\u0275\u0275elementEnd()),2&o&&(l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",y.environment.showSplashScreen))},directives:[qr.NgIf,Fr.RouterOutlet,xo.wn],styles:["#bgcanvas[_ngcontent-%COMP%]{display:block;margin:0 auto;width:100vw;height:100vh;position:fixed;z-index:-1}"]}),w})();var Nu=c(4438);let Zc=(()=>{class w{}return w.\u0275fac=function(o){return new(o||w)},w.\u0275mod=l.\u0275\u0275defineNgModule({type:w}),w.\u0275inj=l.\u0275\u0275defineInjector({imports:[[en.Y,Nu.O]]}),w})();var Yc=c(5687);let Za=(()=>{class w{}return w.\u0275fac=function(o){return new(o||w)},w.\u0275mod=l.\u0275\u0275defineNgModule({type:w}),w.\u0275inj=l.\u0275\u0275defineInjector({imports:[[qr.CommonModule,en.Y,Nu.O,Mo._t,Fr.RouterModule,Zc,Yc.l,ps.x]]}),w})(),ko=(()=>{class w{constructor(o){this.customizationSettingsState=o,this.renderProcessRunning=!1,this.initialize()}initialize(){this.themeChangeSubscription&&this.themeChangeSubscription.unsubscribe(),this.themeChangeSubscription=this.customizationSettingsState.customizationSettings$.pipe((0,An.U)(o=>o?.theme.name),(0,Ka.x)((o,y)=>o===y),(0,ar.b)(o=>this.onThemeChange(o))).subscribe()}onThemeChange(o){const y=document.getElementsByClassName("application")[0];if(!y||!o)return void setTimeout(()=>this.initialize(),1e3);if(this.currentTheme===o)return;this.currentTheme=o;const L=new ResizeObserver(G=>{for(const se of G)if(se.contentBoxSize){const ue=document.getElementById("bgcanvas"),ye=Array.isArray(se.contentBoxSize)?se.contentBoxSize[0]:se.contentBoxSize;ue.width=ye.inlineSize,ue.height=window.innerHeight;const ke=this.initializeMatrix();this.renderTick(()=>this.renderMatrix(ke))}});"Matrix"===o?(y.classList.add("application--no-background-color"),L.observe(document.documentElement)):(L.unobserve(document.documentElement),clearTimeout(this.renderTimeout),delete this.renderTimeout,this.renderProcessRunning=!1,y.classList.remove("application--no-background-color"))}initializeMatrix(){const L=document.getElementById("bgcanvas"),G=L.getContext("2d"),se=[],ue=Math.ceil(L.height/20);for(let ye=0;ye<L.width/20;++ye)se.push({x:20*ye,stackHeight:10+Math.random()*ue,stackCounter:0});return{tileSize:20,fadeFactor:.05,canvas:L,ctx:G,maxStackHeight:ue,columns:se}}renderTick(o,y=50){this.renderProcessRunning?console.warn("render process already running"):(this.renderProcessRunning=!0,o(),this.renderTimeout=window.setTimeout(()=>{this.renderProcessRunning=!1,this.renderTick(o,y)},y))}renderMatrix({ctx:o,fadeFactor:y,canvas:L,tileSize:G,maxStackHeight:se,columns:ue}){o.fillStyle="rgba( 0 , 0 , 0 , "+y+" )",o.fillRect(0,0,L.width,L.height),o.font=G-2+"px monospace",o.fillStyle="#22b455";for(let ye=0;ye<ue.length;++ye){const ke=String.fromCharCode(33+Math.floor(94*Math.random()));o.fillText(ke,ue[ye].x,ue[ye].stackCounter*G+G),++ue[ye].stackCounter>=ue[ye].stackHeight&&(ue[ye].stackHeight=10+Math.random()*se,ue[ye].stackCounter=0)}}}return w.\u0275fac=function(o){return new(o||w)(l.\u0275\u0275inject(Lr.T))},w.\u0275prov=l.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac,providedIn:"root"}),w})(),Jc=(()=>{class w{}return w.\u0275fac=function(o){return new(o||w)},w.\u0275mod=l.\u0275\u0275defineNgModule({type:w,bootstrap:[Gc]}),w.\u0275inj=l.\u0275\u0275defineInjector({providers:[{provide:l.APP_INITIALIZER,useFactory:()=>()=>null,deps:[Lr.T,ko],multi:!0},Da,Oa,$r,xa,Li,Nt,Pa,hu],imports:[[_.b2,fo,O.HttpClientModule,en.Y.forRoot(),Za,ps.x,Hc,La.forRoot({enabled:Ni.useMocks,autologin:Ni.autologin})]]}),w})();Ni.production&&(0,l.enableProdMode)(),_.q6().bootstrapModule(Jc).catch(w=>console.error(w))},4995:(ae,N,c)=>{c.d(N,{B:()=>_,c:()=>l});var _=(()=>{return(O=_||(_={})).Webview="webview",O.WebpackModuleFederation="webpack-module-federation",O.Unknown="unknown",_;var O})(),l=(()=>{return(O=l||(l={})).Primary="primary",O.Secondary="secondary",O.Success="success",O.Warning="warning",O.Danger="danger",O.Info="info",O.Light="light",O.Dark="dark",l;var O})()},3266:(ae,N,c)=>{c.d(N,{o:()=>S,O:()=>E});var _=c(9841),l=c(4004),O=c(9283),p=c(1135),B=c(8505),k=c(4995),j=c(7777);let M=(()=>{class T{constructor(x){this.httpClient=x,this.applications$=new p.X([]),this.storeDataUrl="https://raw.githubusercontent.com/central-factory/web-application-manifests/main/applications.json",this.httpClient.get(this.storeDataUrl).pipe((0,B.b)(R=>{this.applications$.next(R.map(b=>{const u={color:this.getPrimaryColor(b)||"#000000",variation:k.c.Primary};return{...b,createdAt:b.createdAt||(new Date).toISOString(),updatedAt:b.updatedAt||(new Date).toISOString(),additionalProperties:{...b.additionalProperties,author:b.additionalProperties?.author||{id:b.id,name:b.name},renderingType:b.additionalProperties?.renderingType||k.B.Webview,supportsBrowser:b.additionalProperties?.supportsBrowser||!1,internal:!1,permissions:b.additionalProperties?.permissions||[],defaultShortcut:b.additionalProperties?.defaultShortcut||(b.shortcuts?b.shortcuts[0].name:void 0),sidebarShortcuts:b.additionalProperties?.sidebarShortcuts||(b.shortcuts?[b.shortcuts[0].name]:[]),colors:b.additionalProperties?.colors||[u]}}}))})).subscribe()}getPrimaryColor(x){if(x.additionalProperties?.colors&&x.additionalProperties?.colors.length>0){const b=x.additionalProperties?.colors?.find(v=>v.variation===k.c.Primary);if(b)return b?.color}return x.themeColor||x.backgroundColor}}return T.\u0275fac=function(x){return new(x||T)(j.\u0275\u0275inject(O.HttpClient))},T.\u0275prov=j.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();var I=c(3395),S=(()=>{return(T=S||(S={}))[T.User=0]="User",T[T.Store=1]="Store",S;var T})();let E=(()=>{class T{constructor(x,R){this.storeApplicationsState=x,this.userApplicationsState=R,this.applications$=(0,_.a)([this.storeApplicationsState.applications$,this.userApplicationsState.applications$]).pipe((0,l.U)(([b,v])=>[...v.map(u=>({origin:S.User,application:u})),...b.map(u=>({origin:S.Store,application:u}))].filter((u,s,m)=>m.findIndex(h=>u.application.id===h.application.id)===s)))}}return T.\u0275fac=function(x){return new(x||T)(j.\u0275\u0275inject(M),j.\u0275\u0275inject(I.g))},T.\u0275prov=j.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},6961:(ae,N,c)=>{c.d(N,{r:()=>p});var _=c(1135),l=c(7777);let p=(()=>{class B{constructor(){this.applications$=new _.X([]),this.maxApplications=4}addApplication(j){const M=this.applications$.getValue();M.find(S=>S.id===j.id)||(M.length>=this.maxApplications&&M.shift(),M.unshift(j),this.applications$.next(M))}}return B.\u0275fac=function(j){return new(j||B)},B.\u0275prov=l.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})()},4918:(ae,N,c)=>{c.d(N,{H:()=>j});var _=c(3266),l=c(1135),O=c(4004),p=c(8505),B=c(7777);let j=(()=>{class M{constructor(S){this.availableApplicationsState=S,this.application$=new l.X(void 0),this.sidebarIsOpen$=new l.X(!1)}listenForChanges(S){this.changesSubscription&&this.changesSubscription.unsubscribe(),S?this.changesSubscription=this.availableApplicationsState.applications$.pipe((0,O.U)(E=>E.find(T=>T.application.id===S)),(0,p.b)(E=>this.application$.next(E?.application))).subscribe():this.application$.next(void 0)}selectApplication(S){this.listenForChanges(S.id)}unselectApplication(){this.listenForChanges(void 0)}openSidebar(){this.sidebarIsOpen$.next(!0)}closeSidebar(){this.sidebarIsOpen$.next(!1)}}return M.\u0275fac=function(S){return new(S||M)(B.\u0275\u0275inject(_.O))},M.\u0275prov=B.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac,providedIn:"root"}),M})()},3395:(ae,N,c)=>{c.d(N,{g:()=>M});var _=c(1375),l=c(1135),O=c(3900),p=c(4128),B=c(8505),k=c(7777);let M=(()=>{class I{constructor(E){this.entityManager=E,this.applications$=new l.X([]),this.entityManager.initialize$.pipe((0,O.w)(()=>(0,p.D)([this.entityManager.getRepository("userapplications","com.central-factory.player")])),(0,B.b)(([T])=>{this.userApplicationsRepository=T,this.subscribeToDataChanges()})).subscribe()}addApplication(E){if(!this.userApplicationsRepository)throw new Error("Repositories not initialized");return this.userApplicationsRepository.upsert(E)}subscribeToDataChanges(){if(!this.userApplicationsRepository)throw new Error("Repositories not initialized");this.userApplicationsRepository.observe().pipe((0,B.b)(E=>this.applications$.next(E))).subscribe()}}return I.\u0275fac=function(E){return new(E||I)(k.\u0275\u0275inject(_.v2))},I.\u0275prov=k.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()},7165:(ae,N,c)=>{c.d(N,{Y:()=>S});var _=c(1375),l=c(1135),O=c(3900),p=c(4128),B=c(8505),k=c(2843),j=c(9646),M=c(7777);let S=(()=>{class E{constructor(P){this.entityManager=P,this.avatar$=new l.X(void 0),this.entityManager.initialize$.pipe((0,O.w)(()=>(0,p.D)([this.entityManager.getRepository("userpreferences","com.central-factory.user-avatars"),this.entityManager.getRepository("useravatars","com.central-factory.user-avatars")])),(0,B.b)(([x,R])=>{this.userPreferencesRepository=x,this.userAvatarsRepository=R,this.subscribeToDataChanges()})).subscribe()}selectAvatar(P){return this.userPreferencesRepository?this.userPreferencesRepository.upsert({id:"userAvatars.selectedAvatar",key:"userAvatars.selectedAvatar",value:P.id}):(0,k._)(()=>new Error("Repositories not initialized"))}subscribeToDataChanges(){if(!this.userAvatarsRepository||!this.userPreferencesRepository)throw new Error("Repositories not initialized");this.userPreferencesRepository.observeOne({selector:{id:"userAvatars.selectedAvatar"}}).pipe((0,O.w)(P=>P&&this.userAvatarsRepository?this.userAvatarsRepository.findOne({selector:{id:P.value}}):(0,j.of)(void 0)),(0,B.b)(P=>this.avatar$.next(P))).subscribe()}}return E.\u0275fac=function(P){return new(P||E)(M.\u0275\u0275inject(_.v2))},E.\u0275prov=M.\u0275\u0275defineInjectable({token:E,factory:E.\u0275fac,providedIn:"root"}),E})()},899:(ae,N,c)=>{c.d(N,{k:()=>_,R:()=>l});var _=(()=>((_||(_={})).Collection="collection",_))(),l=(()=>{return(O=l||(l={})).Read="read",O.Write="write",O.Delete="delete",l;var O})()},1375:(ae,N,c)=>{c.d(N,{RY:()=>gf,To:()=>yf,v2:()=>Av});var _={};c.r(_),c.d(_,{default:()=>fo});var S,E,l=c(7777),O=c(1611),p=c.n(O);function B(e){return"$"+e}function k(e){return e.substring(1)}function j(){this._store={}}function M(e){if(this._store=new j,e&&Array.isArray(e))for(var t=0,r=e.length;t<r;t++)this.add(e[t])}j.prototype.get=function(e){var t=B(e);return this._store[t]},j.prototype.set=function(e,t){var r=B(e);return this._store[r]=t,!0},j.prototype.has=function(e){return B(e)in this._store},j.prototype.delete=function(e){var t=B(e),r=t in this._store;return delete this._store[t],r},j.prototype.forEach=function(e){for(var t=Object.keys(this._store),r=0,n=t.length;r<n;r++){var i=t[r];e(this._store[i],i=k(i))}},Object.defineProperty(j.prototype,"size",{get:function(){return Object.keys(this._store).length}}),M.prototype.add=function(e){return this._store.set(e,!0)},M.prototype.has=function(e){return this._store.has(e)},M.prototype.forEach=function(e){this._store.forEach(function(t,r){e(r)})},Object.defineProperty(M.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(S=Set,E=Map):(S=M,E=j);var T=c(3894),P=c.n(T),x=c(2302),R=c.n(x);function b(e,t,r){Error.call(this,r),this.status=e,this.name=t,this.message=r,this.error=!0}P()(b,Error),b.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new b(401,"unauthorized","Name or password is incorrect.");var u=new b(400,"bad_request","Missing JSON list of 'docs'"),s=new b(404,"not_found","missing"),m=new b(409,"conflict","Document update conflict"),h=new b(400,"bad_request","_id field must contain a string"),$=new b(412,"missing_id","_id is required for puts"),oe=new b(400,"bad_request","Only reserved document ids may start with underscore."),ge=(new b(412,"precondition_failed","Database not open"),new b(500,"unknown_error","Database encountered an unknown error")),pe=new b(500,"badarg","Some query argument is invalid"),z=(new b(400,"invalid_request","Request was invalid"),new b(400,"query_parse_error","Some query parameter is invalid")),J=new b(500,"doc_validation","Bad special document member"),Q=new b(400,"bad_request","Something wrong with the request"),X=new b(400,"bad_request","Document must be a JSON object"),ne=(new b(404,"not_found","Database not found"),new b(500,"indexed_db_went_bad","unknown")),_e=(new b(500,"web_sql_went_bad","unknown"),new b(500,"levelDB_went_went_bad","unknown"),new b(403,"forbidden","Forbidden by design doc validate_doc_update function"),new b(400,"bad_request","Invalid rev format")),ce=(new b(412,"file_exists","The database could not be created, the file already exists."),new b(412,"missing_stub","A pre-existing attachment stub wasn't found"));function Ne(e,t){function r(n){for(var i=Object.getOwnPropertyNames(e),f=0,d=i.length;f<d;f++)"function"!=typeof e[i[f]]&&(this[i[f]]=e[i[f]]);void 0!==n&&(this.reason=n)}return r.prototype=b.prototype,new r(t)}function Ge(e){if("object"!=typeof e){var t=e;(e=ge).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}new b(413,"invalid_url","Provided URL is invalid");var ut=c(9069),et=c.n(ut);const _r=c(3306).v4;var br=function(e){return atob(e)},cr=function(e){return btoa(e)};function mr(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(f){if("TypeError"!==f.name)throw f;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}function rr(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),i=0;i<t;i++)n[i]=e.charCodeAt(i);return r}function Jr(e,t){return mr([rr(e)],{type:t})}function je(e,t){return Jr(br(e),t)}function xt(e,t){var r=new FileReader,n="function"==typeof r.readAsBinaryString;r.onloadend=function(i){var f=i.target.result||"";if(n)return t(f);t(function(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,i=0;i<n;i++)t+=String.fromCharCode(r[i]);return t}(f))},n?r.readAsBinaryString(e):r.readAsArrayBuffer(e)}function Rt(e,t){xt(e,function(r){t(r)})}var xr=c(3625),Xn=c.n(xr),Mn=self.setImmediate||self.setTimeout;function Ls(e,t,r,n,i){(r>0||n<t.size)&&(t=function(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.slice(t,r)}(t,r,n)),function(e,t){var r=new FileReader;r.onloadend=function(n){var i=n.target.result||new ArrayBuffer(0);t(i)},r.readAsArrayBuffer(e)}(t,function(f){e.append(f),i()})}function Ci(e,t,r,n,i){(r>0||n<t.length)&&(t=t.substring(r,n)),e.appendBinary(t),i()}function xn(e,t){var r="string"==typeof e,n=r?e.length:e.size,i=Math.min(32768,n),f=Math.ceil(n/i),d=0,C=r?new(Xn()):new(Xn().ArrayBuffer),U=r?Ci:Ls;function W(){Mn(re)}function q(){var Ce=function(e){return cr(e)}(C.end(!0));t(Ce),C.destroy()}function re(){var de=d*i;d++,U(C,e,de,de+i,d<f?W:q)}re()}function Di(e){return Xn().hash(e)}var ve,cn,Ji=Function.prototype.toString,kn=Ji.call(Object);function qt(e){var t,r,n;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=qt(e[r]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return function(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),n=new Uint8Array(e);return r.set(n),t}(e);var t=e.size,r=e.type;return"function"==typeof e.slice?e.slice(0,t,r):e.webkitSlice(0,t,r)}(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&Ji.call(r)==kn}(e))return e;for(r in t={},e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=qt(e[r]);void 0!==i&&(t[r]=i)}return t}function ei(e){var t=!1;return p()(function(r){if(t)throw new Error("once called more than once");t=!0,e.apply(this,r)})}function zr(e){return p()(function(t){t=qt(t);var r=this,n="function"==typeof t[t.length-1]&&t.pop(),i=new Promise(function(f,d){var C;try{var U=ei(function(W,q){W?d(W):f(q)});t.push(U),(C=e.apply(r,t))&&"function"==typeof C.then&&f(C)}catch(W){d(W)}});return n&&i.then(function(f){n(null,f)},n),i})}function nr(e,t){return zr(p()(function(r){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var n=this;return function(e,t,r){if(e.constructor.listeners("debug").length){for(var n=["api",e.name,t],i=0;i<r.length-1;i++)n.push(r[i]);e.constructor.emit("debug",n);var f=r[r.length-1];r[r.length-1]=function(d,C){var U=["api",e.name,t];U=U.concat(d?["error",d]:["success",C]),e.constructor.emit("debug",U),f(d,C)}}}(n,e,r),this.taskqueue.isReady?t.apply(this,r):new Promise(function(i,f){n.taskqueue.addTask(function(d){d?f(d):i(n[e].apply(n,r))})})}))}function _n(e,t){for(var r={},n=0,i=t.length;n<i;n++){var f=t[n];f in e&&(r[f]=e[f])}return r}function ri(e){return e}function Us(e){return[{ok:e}]}function De(e,t,r){var n=t.docs,i=new E;n.forEach(function(ee){i.has(ee.id)?i.get(ee.id).push(ee):i.set(ee.id,[ee])});var f=i.size,d=0,C=new Array(f);var re=[];i.forEach(function(ee,fe){re.push(fe)});var de=0;!function Ce(){if(!(de>=re.length)){var ee=Math.min(de+6,re.length),fe=re.slice(de,ee);(function(ee,fe){ee.forEach(function(we,Oe){var be=fe+Oe,xe=i.get(we),Re=_n(xe[0],["atts_since","attachments"]);Re.open_revs=xe.map(function(We){return We.rev}),Re.open_revs=Re.open_revs.filter(ri);var He=ri;0===Re.open_revs.length&&(delete Re.open_revs,He=Us),["revs","attachments","binary","ajax","latest"].forEach(function(We){We in t&&(Re[We]=t[We])}),e.get(we,Re,function(We,Ke){var Et;Et=We?[{error:We}]:He(Ke),function(ee,fe,we){C[ee]={id:fe,docs:we},function(){var ee;++d===f&&(ee=[],C.forEach(function(fe){fe.docs.forEach(function(we){ee.push({id:fe.id,docs:[we]})})}),r(null,{results:ee}))}()}(be,we,Et),Ce()})})})(fe,de),de+=fe.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),ve=!!localStorage.getItem("_pouch_check_localstorage")}catch{ve=!1}function ie(){return ve}function Ue(){var e;et().call(this),this._listeners={},e=this,ie()&&addEventListener("storage",function(t){e.emit(t.key)})}function nt(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}P()(Ue,et()),Ue.prototype.addListener=function(e,t,r,n){if(!this._listeners[t]){var i=this,f=!1;this._listeners[t]=d,this.on(e,d)}function d(){if(i._listeners[t])if(f)f="waiting";else{f=!0;var C=_n(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);r.changes(C).on("change",function(W){W.seq>n.since&&!n.cancelled&&(n.since=W.seq,n.onChange(W))}).on("complete",function(){"waiting"===f&&R()(d),f=!1}).on("error",function(){f=!1})}}},Ue.prototype.removeListener=function(e,t){t in this._listeners&&(et().prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},Ue.prototype.notifyLocalWindows=function(e){ie()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},Ue.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)},cn="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};var Bn=cn;function zs(e){for(var t=[],r=0,n=e.length;r<n;r++)t=t.concat(e[r]);return t}function $s(e){var t;if(e?"string"!=typeof e?t=Ne(h):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=Ne(oe)):t=Ne($),t)throw t}function Ar(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(nt("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function ts(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function rs(e){var t=ts(e);return t?t.join("/"):null}function Gs(e,t){var r=[],n=[];for(var i in t)t.hasOwnProperty(i)&&(r.push(i),n.push(t[i]));return r.push(e),Function.apply(null,r).apply(null,n)}function Ln(e,t,r){return new Promise(function(n,i){e.get(t,function(f,d){if(f){if(404!==f.status)return i(f);d={}}var C=d._rev,U=r(d);if(!U)return n({updated:!1,rev:C});U._id=t,U._rev=C,n(function(e,t,r){return e.put(t).then(function(n){return{updated:!0,rev:n.rev}},function(n){if(409!==n.status)throw n;return Ln(e,t._id,r)})}(e,U,r))})})}function Zs(e,t){var r=qt(e);return t?(delete r._rev_tree,Di(JSON.stringify(r))):_r().replace(/-/g,"").toLowerCase()}var ni=_r;function bn(e){for(var t,r,n,f,i=e.rev_tree.slice();f=i.pop();){var d=f.ids,C=d[2],U=f.pos;if(C.length)for(var W=0,q=C.length;W<q;W++)i.push({pos:U+1,ids:C[W]});else{var re=!!d[1].deleted,de=d[0];(!t||(n!==re?n:r!==U?r<U:t<de))&&(t=de,r=U,n=re)}}return r+"-"+t}function or(e,t){for(var n,r=e.slice();n=r.pop();)for(var i=n.pos,f=n.ids,d=f[2],C=t(0===d.length,i,f[0],n.ctx,f[1]),U=0,W=d.length;U<W;U++)r.push({pos:i+1,ids:d[U],ctx:C})}function ns(e,t){return e.pos-t.pos}function En(e){var t=[];or(e,function(i,f,d,C,U){i&&t.push({rev:f+"-"+d,pos:f,opts:U})}),t.sort(ns).reverse();for(var r=0,n=t.length;r<n;r++)delete t[r].pos;return t}function ii(e){for(var t=bn(e),r=En(e.rev_tree),n=[],i=0,f=r.length;i<f;i++){var d=r[i];d.rev!==t&&!d.opts.deleted&&n.push(d.rev)}return n}function Ys(e){for(var n,t=[],r=e.slice();n=r.pop();){var i=n.pos,f=n.ids,d=f[0],C=f[1],U=f[2],W=0===U.length,q=n.history?n.history.slice():[];q.push({id:d,opts:C}),W&&t.push({pos:i+1-q.length,ids:q});for(var re=0,de=U.length;re<de;re++)r.push({pos:i+1,ids:U[re],history:q})}return t.reverse()}function is(e,t){return e.pos-t.pos}function ca(e,t,r){var n=function(e,t,r){for(var f,n=0,i=e.length;n<i;)r(e[f=n+i>>>1],t)<0?n=f+1:i=f;return n}(e,t,r);e.splice(n,0,t)}function si(e,t){for(var r,n,i=t,f=e.length;i<f;i++){var d=e[i],C=[d.id,d.opts,[]];n?(n[2].push(C),n=C):r=n=C}return r}function la(e,t){return e[0]<t[0]?-1:1}function ss(e,t){for(var r=[{tree1:e,tree2:t}],n=!1;r.length>0;){var i=r.pop(),f=i.tree1,d=i.tree2;(f[1].status||d[1].status)&&(f[1].status="available"===f[1].status||"available"===d[1].status?"available":"missing");for(var C=0;C<d[2].length;C++)if(f[2][0]){for(var U=!1,W=0;W<f[2].length;W++)f[2][W][0]===d[2][C][0]&&(r.push({tree1:f[2][W],tree2:d[2][C]}),U=!0);U||(n="new_branch",ca(f[2],d[2][C],la))}else n="new_leaf",f[2][0]=d[2][C]}return{conflicts:n,tree:e}}function os(e,t,r){var d,n=[],i=!1,f=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var C=0,U=e.length;C<U;C++){var W=e[C];if(W.pos===t.pos&&W.ids[0]===t.ids[0])d=ss(W.ids,t.ids),n.push({pos:W.pos,ids:d.tree}),i=i||d.conflicts,f=!0;else if(!0!==r){var q=W.pos<t.pos?W:t,re=W.pos<t.pos?t:W,Ce=[],he=[];for(he.push({ids:q.ids,diff:re.pos-q.pos,parent:null,parentIdx:null});he.length>0;){var ee=he.pop();if(0!==ee.diff)for(var fe=ee.ids[2],we=0,Oe=fe.length;we<Oe;we++)he.push({ids:fe[we],diff:ee.diff-1,parent:ee.ids,parentIdx:we});else ee.ids[0]===re.ids[0]&&Ce.push(ee)}var be=Ce[0];be?(d=ss(be.ids,re.ids),be.parent[2][be.parentIdx]=d.tree,n.push({pos:q.pos,ids:q.ids}),i=i||d.conflicts,f=!0):n.push(W)}else n.push(W)}return f||n.push(t),n.sort(is),{tree:n,conflicts:i||"internal_node"}}function Cr(e,t,r){var n=os(e,t),i=function(e,t){for(var n,i,r=Ys(e),f=0,d=r.length;f<d;f++){var W,C=r[f],U=C.ids;if(U.length>t){n||(n={});var q=U.length-t;W={pos:C.pos+q,ids:si(U,q)};for(var re=0;re<q;re++)n[C.pos+re+"-"+U[re].id]=!0}else W={pos:C.pos,ids:si(U,0)};i=i?os(i,W,!0).tree:[W]}return n&&or(i,function(Ce,he,ee){delete n[he+"-"+ee]}),{tree:i,revs:n?Object.keys(n):[]}}(n.tree,r);return{tree:i.tree,stemmedRevs:i.revs,conflicts:n.conflicts}}function fa(e){return e.ids}function Xr(e,t){t||(t=bn(e));for(var i,r=t.substring(t.indexOf("-")+1),n=e.rev_tree.map(fa);i=n.pop();){if(i[0]===r)return!!i[1].deleted;n=n.concat(i[2])}}function ln(e){return/^_local/.test(e)}function oi(e){return e.reduce(function(t,r){return t[r]=!0,t},{})}var Xs=oi(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),pa=oi(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Oi(e){if(!/^\d+-/.test(e))return Ne(_e);var t=e.indexOf("-"),r=e.substring(0,t),n=e.substring(t+1);return{prefix:parseInt(r,10),id:n}}function qs(e,t,r){r||(r={deterministic_revs:!0});var n,i,f,d={status:"available"};if(e._deleted&&(d.deleted=!0),t)if(e._id||(e._id=ni()),i=Zs(e,r.deterministic_revs),e._rev){if((f=Oi(e._rev)).error)return f;e._rev_tree=[{pos:f.prefix,ids:[f.id,{status:"missing"},[[i,d,[]]]]}],n=f.prefix+1}else e._rev_tree=[{pos:1,ids:[i,d,[]]}],n=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var r=e.start-e.ids.length+1,n=e.ids,i=[n[0],t,[]],f=1,d=n.length;f<d;f++)i=[n[f],{status:"missing"},[i]];return[{pos:r,ids:i}]}(e._revisions,d),n=e._revisions.start,i=e._revisions.ids[0]),!e._rev_tree){if((f=Oi(e._rev)).error)return f;e._rev_tree=[{pos:n=f.prefix,ids:[i=f.id,d,[]]}]}$s(e._id),e._rev=n+"-"+i;var C={metadata:{},data:{}};for(var U in e)if(Object.prototype.hasOwnProperty.call(e,U)){var W="_"===U[0];if(W&&!Xs[U]){var q=Ne(J,U);throw q.message=J.message+": "+U,q}W&&!pa[U]?C.metadata[U.slice(1)]=e[U]:C.data[U]=e[U]}return C}function ga(e,t,r){if(e.stub)return r();"string"==typeof e.data?function(e,t,r){var n=function(e){try{return br(e)}catch{return{error:Ne(pe,"Attachment is not a valid base64 string")}}}(e.data);if(n.error)return r(n.error);e.length=n.length,e.data="blob"===t?Jr(n,e.content_type):"base64"===t?cr(n):n,xn(n,function(i){e.digest="md5-"+i,r()})}(e,t,r):function(e,t,r){xn(e.data,function(n){e.digest="md5-"+n,e.length=e.data.size||e.data.length||0,"binary"===t?Rt(e.data,function(i){e.data=i,r()}):"base64"===t?function(e,t){Rt(e,function(r){t(cr(r))})}(e.data,function(i){e.data=i,r()}):r()})}(e,t,r)}function no(e,t,r,n,i,f,d,C,U){e=e||1e3;var q=C.new_edits,re=new E,de=0,Ce=t.length;function he(){++de===Ce&&U&&U()}t.forEach(function(ee,fe){if(ee._id&&ln(ee._id))r[ee._deleted?"_removeLocal":"_putLocal"](ee,{ctx:i},function(be,xe){f[fe]=be||xe,he()});else{var Oe=ee.metadata.id;re.has(Oe)?(Ce--,re.get(Oe).push([ee,fe])):re.set(Oe,[[ee,fe]])}}),re.forEach(function(ee,fe){var we=0;function Oe(){++we<ee.length?be():he()}function be(){var xe=ee[we],Re=xe[0],He=xe[1];if(n.has(fe))!function(e,t,r,n,i,f,d,C){if(function(e,t){for(var d,r=e.slice(),n=t.split("-"),i=parseInt(n[0],10),f=n[1];d=r.pop();){if(d.pos===i&&d.ids[0]===f)return!0;for(var C=d.ids[2],U=0,W=C.length;U<W;U++)r.push({pos:d.pos+1,ids:C[U]})}return!1}(t.rev_tree,r.metadata.rev)&&!C)return n[i]=r,f();var U=t.winningRev||bn(t),W="deleted"in t?t.deleted:Xr(t,U),q="deleted"in r.metadata?r.metadata.deleted:Xr(r.metadata),re=/^1-/.test(r.metadata.rev);if(W&&!q&&C&&re){var de=r.data;de._rev=U,de._id=r.metadata.id,r=qs(de,C)}var Ce=Cr(t.rev_tree,r.metadata.rev_tree[0],e);if(C&&(W&&q&&"new_leaf"!==Ce.conflicts||!W&&"new_leaf"!==Ce.conflicts||W&&!q&&"new_branch"===Ce.conflicts)){var ee=Ne(m);return n[i]=ee,f()}var fe=r.metadata.rev;r.metadata.rev_tree=Ce.tree,r.stemmedRevs=Ce.stemmedRevs||[],t.rev_map&&(r.metadata.rev_map=t.rev_map);var we=bn(r.metadata),Oe=Xr(r.metadata,we),be=W===Oe?0:W<Oe?-1:1;d(r,we,Oe,fe===we?Oe:Xr(r.metadata,fe),!0,be,i,f)}(e,n.get(fe),Re,f,He,Oe,d,q);else{var We=Cr([],Re.metadata.rev_tree[0],e);Re.metadata.rev_tree=We.tree,Re.stemmedRevs=We.stemmedRevs||[],function(ee,fe,we){var Oe=bn(ee.metadata),be=Xr(ee.metadata,Oe);if("was_delete"in C&&be)return f[fe]=Ne(s,"deleted"),we();var xe=q&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(ee);if(xe){var Re=Ne(m);return f[fe]=Re,we()}d(ee,Oe,be,be,!1,be?0:1,fe,we)}(Re,He,Oe)}}be()})}var Ii=c(2899);function Pi(e){try{return JSON.stringify(e)}catch{return Ii.stringify(e)}}var er="document-store",lr="by-sequence",Tr="attach-store",fn="attach-seq-store",vr="meta-store",Wr="local-store",Ti="detect-blob-support";function Br(e){return function(t){var r="unknown_error";t.target&&t.target.error&&(r=t.target.error.name||t.target.error.message),e(Ne(ne,r))}}function us(e,t,r){return{data:Pi(e),winningRev:t,deletedOrLocal:r?"1":"0",seq:e.seq,id:e.id}}function Sn(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch{return Ii.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function Ri(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function cs(e,t,r,n){r?n(e?"string"!=typeof e?e:je(e,t):mr([""],{type:t})):e?"string"!=typeof e?xt(e,function(i){n(cr(i))}):n(e):n("")}function ba(e,t,r,n){var i=Object.keys(e._attachments||{});if(!i.length)return n&&n();var f=0;function d(){++f===i.length&&n&&n()}i.forEach(function(U){t.attachments&&t.include_docs?function(U,W){var q=U._attachments[W],re=q.digest;r.objectStore(Tr).get(re).onsuccess=function(Ce){q.body=Ce.target.result.body,d()}}(e,U):(e._attachments[U].stub=!0,d())})}function ai(e,t){return Promise.all(e.map(function(r){if(r.doc&&r.doc._attachments){var n=Object.keys(r.doc._attachments);return Promise.all(n.map(function(i){var f=r.doc._attachments[i];if("body"in f){var d=f.body,C=f.content_type;return new Promise(function(U){cs(d,C,t,function(W){r.doc._attachments[i]=Bn(_n(f,["digest","content_type"]),{data:W}),U()})})}}))}}))}function so(e,t,r){var n=[],i=r.objectStore(lr),f=r.objectStore(Tr),d=r.objectStore(fn),C=e.length;function U(){--C||!n.length||n.forEach(function(q){d.index("digestSeq").count(IDBKeyRange.bound(q+"::",q+"::\uffff",!1,!1)).onsuccess=function(de){de.target.result||f.delete(q)}})}e.forEach(function(q){i.index("_doc_id_rev").getKey(t+"::"+q).onsuccess=function(Ce){var he=Ce.target.result;if("number"!=typeof he)return U();i.delete(he),d.index("seq").openCursor(IDBKeyRange.only(he)).onsuccess=function(fe){var we=fe.target.result;if(we){var Oe=we.value.digestSeq.split("::")[0];n.push(Oe),d.delete(we.primaryKey),we.continue()}else U()}}})}function Dr(e,t,r){try{return{txn:e.transaction(t,r)}}catch(n){return{error:n}}}var Nn=new Ue;function qr(e,t,r,n,i,f){for(var C,U,W,q,re,de,Ce,he,d=t.docs,ee=0,fe=d.length;ee<fe;ee++){var we=d[ee];we._id&&ln(we._id)||(we=d[ee]=qs(we,r.new_edits,e)).error&&!Ce&&(Ce=we)}if(Ce)return f(Ce);var Oe=!1,be=0,xe=new Array(d.length),Re=new E,He=!1;function Et(){Oe=!0,Ot()}function Ot(){!he||!Oe||(he.docCount+=be,de.put(he))}function Ft(){He||(Nn.notify(n._meta.name),f(null,xe))}function Ut(Ve,Xe,it,mt,at,gt,dt,Ye){Ve.metadata.winningRev=Xe,Ve.metadata.deleted=it;var ht=Ve.data;if(ht._id=Ve.metadata.id,ht._rev=Ve.metadata.rev,mt&&(ht._deleted=!0),ht._attachments&&Object.keys(ht._attachments).length)return function(Ve,Xe,it,mt,at,gt){var Ye=0,ht=Object.keys(Ve.data._attachments);function Dt(){Ye===ht.length&&Pe(Ve,Xe,it,mt,at,gt)}function Qt(){Ye++,Dt()}ht.forEach(function(Kt){var zt=Ve.data._attachments[Kt];if(zt.stub)Ye++,Dt();else{var Vt=zt.data;delete zt.data,zt.revpos=parseInt(Xe,10),function(Ve,Xe,it){q.count(Ve).onsuccess=function(at){if(at.target.result)return it();q.put({digest:Ve,body:Xe}).onsuccess=it}}(zt.digest,Vt,Qt)}})}(Ve,Xe,it,at,dt,Ye);be+=gt,Ot(),Pe(Ve,Xe,it,at,dt,Ye)}function Pe(Ve,Xe,it,mt,at,gt){var dt=Ve.data,Ye=Ve.metadata;function ht(zt){var Vt=Ve.stemmedRevs||[];mt&&n.auto_compaction&&(Vt=Vt.concat(function(e){var t=[];return or(e.rev_tree,function(r,n,i,f,d){"available"===d.status&&!r&&(t.push(n+"-"+i),d.status="missing")}),t}(Ve.metadata))),Vt&&Vt.length&&so(Vt,Ve.metadata.id,C),Ye.seq=zt.target.result;var sr=us(Ye,Xe,it);U.put(sr).onsuccess=Qt}function Qt(){xe[at]={ok:!0,id:Ye.id,rev:Ye.rev},Re.set(Ve.metadata.id,Ve.metadata),function(Ve,Xe,it){var mt=0,at=Object.keys(Ve.data._attachments||{});if(!at.length)return it();function gt(){++mt===at.length&&it()}function dt(ht){var Qt=re.put({seq:Xe,digestSeq:Ve.data._attachments[ht].digest+"::"+Xe});Qt.onsuccess=gt,Qt.onerror=function(Kt){Kt.preventDefault(),Kt.stopPropagation(),gt()}}for(var Ye=0;Ye<at.length;Ye++)dt(at[Ye])}(Ve,Ye.seq,gt)}dt._doc_id_rev=Ye.id+"::"+Ye.rev,delete dt._id,delete dt._rev;var Kt=W.put(dt);Kt.onsuccess=ht,Kt.onerror=function(zt){zt.preventDefault(),zt.stopPropagation(),W.index("_doc_id_rev").getKey(dt._doc_id_rev).onsuccess=function(on){W.put(dt,on.target.result).onsuccess=ht}}}!function(e,t,r){if(!e.length)return r();var i,n=0;function f(){n++,e.length===n&&(i?r(i):r())}e.forEach(function(d){var C=d.data&&d.data._attachments?Object.keys(d.data._attachments):[],U=0;if(!C.length)return f();function W(re){i=re,++U===C.length&&f()}for(var q in d.data._attachments)d.data._attachments.hasOwnProperty(q)&&ga(d.data._attachments[q],t,W)})}(d,n._meta.blobSupport?"blob":"base64",function(Ve){if(Ve)return f(Ve);!function(){var Xe=Dr(i,[er,lr,Tr,Wr,fn,vr],"readwrite");if(Xe.error)return f(Xe.error);(C=Xe.txn).onabort=Br(f),C.ontimeout=Br(f),C.oncomplete=Ft,U=C.objectStore(er),W=C.objectStore(lr),q=C.objectStore(Tr),re=C.objectStore(fn),(de=C.objectStore(vr)).get(vr).onsuccess=function(it){he=it.target.result,Ot()},function(Ve){var Xe=[];if(d.forEach(function(gt){gt.data&&gt.data._attachments&&Object.keys(gt.data._attachments).forEach(function(dt){var Ye=gt.data._attachments[dt];Ye.stub&&Xe.push(Ye.digest)})}),!Xe.length)return Ve();var mt,it=0;Xe.forEach(function(gt){!function(Ve,Xe){q.get(Ve).onsuccess=function(mt){if(mt.target.result)Xe();else{var at=Ne(ce,"unknown stub attachment with digest "+Ve);at.status=412,Xe(at)}}}(gt,function(dt){dt&&!mt&&(mt=dt),++it===Xe.length&&Ve(mt)})})}(function(it){if(it)return He=!0,f(it);!function(){if(d.length)for(var Ve=0,mt=0,at=d.length;mt<at;mt++){var gt=d[mt];gt._id&&ln(gt._id)?Xe():U.get(gt.metadata.id).onsuccess=it}function Xe(){++Ve===d.length&&no(e.revs_limit,d,n,Re,C,xe,Ut,r,Et)}function it(Ye){var ht=Sn(Ye.target.result);ht&&Re.set(ht.id,ht),Xe()}}()})}()})}function Mi(e,t,r,n,i){var d,C,U;function W(Ce){C=Ce.target.result,d&&i(d,C,U)}function q(Ce){d=Ce.target.result,C&&i(d,C,U)}function de(Ce){var he=Ce.target.result;if(!he)return i();i([he.key],[he.value],he)}-1===n&&(n=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&n>1&&!r?(U={continue:function(){if(!d.length)return i();var he,Ce=d[d.length-1];if(t&&t.upper)try{he=IDBKeyRange.bound(Ce,t.upper,!0,t.upperOpen)}catch(ee){if("DataError"===ee.name&&0===ee.code)return i()}else he=IDBKeyRange.lowerBound(Ce,!0);d=null,C=null,e.getAll(t=he,n).onsuccess=W,e.getAllKeys(t,n).onsuccess=q}},e.getAll(t,n).onsuccess=W,e.getAllKeys(t,n).onsuccess=q):r?e.openCursor(t,"prev").onsuccess=de:e.openCursor(t).onsuccess=de}var xi=!1,ls=[];function co(){xi||!ls.length||(xi=!0,ls.shift()())}function Ca(e,t,r,n){if((e=qt(e)).continuous){var i=r+":"+ni();return Nn.addListener(r,i,t,e),Nn.notify(r),{cancel:function(){Nn.removeListener(r,i)}}}var f=e.doc_ids&&new S(e.doc_ids);e.since=e.since||0;var d=e.since,C="limit"in e?e.limit:-1;0===C&&(C=1);var de,Ce,he,ee,U=[],W=0,q=function(e){var t={},r=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(i){i.doc||(i.doc={});var f=r&&function(e,t,r){try{return!e(t,r)}catch(i){var n="Filter function threw: "+i.toString();return Ne(Q,n)}}(e.filter,i.doc,t);if("object"==typeof f)return f;if(f)return!1;if(e.include_docs){if(!e.attachments)for(var d in i.doc._attachments)i.doc._attachments.hasOwnProperty(d)&&(i.doc._attachments[d].stub=!0)}else delete i.doc;return!0}}(e),re=new E;function we(Ke,Et,lt,Ot){return lt.seq!==Et?Ot():lt.winningRev===Ke._rev?Ot(lt,Ke):void(ee.get(Ke._id+"::"+lt.winningRev).onsuccess=function(wt){Ot(lt,Ri(wt.target.result))})}function be(){e.complete(null,{results:U,last_seq:d})}var Re=[er,lr];e.attachments&&Re.push(Tr);var He=Dr(n,Re,"readonly");if(He.error)return e.complete(He.error);(de=He.txn).onabort=Br(e.complete),de.oncomplete=function(){!e.continuous&&e.attachments?ai(U).then(be):be()},Ce=de.objectStore(lr),he=de.objectStore(er),ee=Ce.index("_doc_id_rev"),Mi(Ce,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,C,function(Ke,Et,lt){if(lt&&Ke.length){var Ot=new Array(Ke.length),jt=new Array(Ke.length),Mt=0;Et.forEach(function(Ut,Pe){!function(Ke,Et,lt){if(f&&!f.has(Ke._id))return lt();var Ot=re.get(Ke._id);if(Ot)return we(Ke,Et,Ot,lt);he.get(Ke._id).onsuccess=function(jt){Ot=Sn(jt.target.result),re.set(Ke._id,Ot),we(Ke,Et,Ot,lt)}}(Ri(Ut),Ke[Pe],function(Je,Ve){jt[Pe]=Je,Ot[Pe]=Ve,++Mt===Ke.length&&function(){for(var Ut=[],Pe=0,Me=Ot.length;Pe<Me&&W!==C;Pe++){var Fe=Ot[Pe];Fe&&Ut.push(Ft(jt[Pe],Fe))}Promise.all(Ut).then(function(Ve){for(var Xe=0,it=Ve.length;Xe<it;Xe++)Ve[Xe]&&e.onChange(Ve[Xe])}).catch(e.complete),W!==C&&lt.continue()}()})})}function Ft(Ut,Pe){var Me=e.processChange(Pe,Ut,e);d=Me.seq=Ut.seq;var Fe=q(Me);return"object"==typeof Fe?Promise.reject(Fe):Fe?(W++,e.return_docs&&U.push(Me),e.attachments&&e.include_docs?new Promise(function(Je){ba(Pe,e,de,function(){ai([Me],e.binary).then(function(){Je(Me)})})}):Promise.resolve(Me)):Promise.resolve()}})}var fs,jn=new E,ki=new E;function ds(e,t){var r=this;!function(e,t,r){ls.push(function(){e(function(f,d){(function(e,t,r,n){try{e(t,r)}catch(i){n.emit("error",i)}})(t,f,d,r),xi=!1,R()(function(){co()})})}),co()}(function(n){!function(e,t,r){var n=t.name,i=null;function d(he,ee){var fe=he.objectStore(er);fe.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),fe.openCursor().onsuccess=function(we){var Oe=we.target.result;if(Oe){var be=Oe.value,xe=Xr(be);be.deletedOrLocal=xe?"1":"0",fe.put(be),Oe.continue()}else ee()}}function U(he,ee){var fe=he.objectStore(Wr),we=he.objectStore(er),Oe=he.objectStore(lr);we.openCursor().onsuccess=function(xe){var Re=xe.target.result;if(Re){var He=Re.value,We=He.id,Ke=ln(We),Et=bn(He);if(Ke){var lt=We+"::"+Et,Ot=We+"::",jt=We+"::~",Ft=Oe.index("_doc_id_rev"),wt=IDBKeyRange.bound(Ot,jt,!1,!1),Mt=Ft.openCursor(wt);Mt.onsuccess=function(Ut){if(Mt=Ut.target.result){var Pe=Mt.value;Pe._doc_id_rev===lt&&fe.put(Pe),Oe.delete(Mt.primaryKey),Mt.continue()}else we.delete(Re.primaryKey),Re.continue()}}else Re.continue()}else ee&&ee()}}function q(he,ee){var fe=he.objectStore(lr),we=he.objectStore(Tr),Oe=he.objectStore(fn);we.count().onsuccess=function(xe){if(!xe.target.result)return ee();fe.openCursor().onsuccess=function(He){var We=He.target.result;if(!We)return ee();for(var Ke=We.value,Et=We.primaryKey,lt=Object.keys(Ke._attachments||{}),Ot={},jt=0;jt<lt.length;jt++)Ot[Ke._attachments[lt[jt]].digest]=!0;var wt=Object.keys(Ot);for(jt=0;jt<wt.length;jt++)Oe.put({seq:Et,digestSeq:wt[jt]+"::"+Et});We.continue()}}}function re(he){var fe=he.objectStore(lr),we=he.objectStore(er);we.openCursor().onsuccess=function(be){var Ke,Et,lt,Ot,xe=be.target.result;if(xe){var Re=function(be){return be.data?Sn(be):(be.deleted="1"===be.deletedOrLocal,be)}(xe.value);if(Re.winningRev=Re.winningRev||bn(Re),Re.seq)return We();Ke=Re.id+"::",Et=Re.id+"::\uffff",lt=fe.index("_doc_id_rev").openCursor(IDBKeyRange.bound(Ke,Et)),Ot=0,lt.onsuccess=function(jt){var Ft=jt.target.result;if(!Ft)return Re.seq=Ot,We();var wt=Ft.primaryKey;wt>Ot&&(Ot=wt),Ft.continue()}}function We(){var Ke=us(Re,Re.winningRev,Re.deleted);we.put(Ke).onsuccess=function(){xe.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=zr(function(he){he(null,e._meta.instanceId)}),e._bulkDocs=function(ee,fe,we){qr(t,ee,fe,e,i,we)},e._get=function(ee,fe,we){var Oe,be,xe,Re=fe.ctx;if(!Re){var He=Dr(i,[er,lr,Tr],"readonly");if(He.error)return we(He.error);Re=He.txn}function We(){we(xe,{doc:Oe,metadata:be,ctx:Re})}Re.objectStore(er).get(ee).onsuccess=function(Ke){if(!(be=Sn(Ke.target.result)))return xe=Ne(s,"missing"),We();var Et;if(fe.rev)Et=fe.latest?function(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var i=n.pos,f=n.ids,d=f[0],C=f[1],U=f[2],W=0===U.length,q=n.history?n.history.slice():[];if(q.push({id:d,pos:i,opts:C}),W)for(var re=0,de=q.length;re<de;re++){var Ce=q[re];if(Ce.pos+"-"+Ce.id===e)return i+"-"+d}for(var ee=0,fe=U.length;ee<fe;ee++)r.push({pos:i+1,ids:U[ee],history:q})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(fe.rev,be):fe.rev;else if(Et=be.winningRev,Xr(be))return xe=Ne(s,"deleted"),We();var Ot=Re.objectStore(lr),jt=be.id+"::"+Et;Ot.index("_doc_id_rev").get(jt).onsuccess=function(Ft){if((Oe=Ft.target.result)&&(Oe=Ri(Oe)),!Oe)return xe=Ne(s,"missing"),We();We()}}},e._getAttachment=function(he,ee,fe,we,Oe){var be;if(we.ctx)be=we.ctx;else{var xe=Dr(i,[er,lr,Tr],"readonly");if(xe.error)return Oe(xe.error);be=xe.txn}var Re=fe.digest,He=fe.content_type;be.objectStore(Tr).get(Re).onsuccess=function(We){cs(We.target.result.body,He,we.binary,function(Et){Oe(null,Et)})}},e._info=function(ee){var fe,we,Oe=Dr(i,[vr,lr],"readonly");if(Oe.error)return ee(Oe.error);var be=Oe.txn;be.objectStore(vr).get(vr).onsuccess=function(xe){we=xe.target.result.docCount},be.objectStore(lr).openCursor(null,"prev").onsuccess=function(xe){var Re=xe.target.result;fe=Re?Re.key:0},be.oncomplete=function(){ee(null,{doc_count:we,update_seq:fe,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(ee,fe){!function(e,t,r){var q,re,d="keys"in e&&e.keys,C=e.skip||0,U="number"==typeof e.limit?e.limit:-1;if(!d&&(q=function(e,t,r,n,i){try{if(e&&t)return i?IDBKeyRange.bound(t,e,!r,!1):IDBKeyRange.bound(e,t,!1,!r);if(e)return i?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return i?IDBKeyRange.lowerBound(t,!r):IDBKeyRange.upperBound(t,!r);if(n)return IDBKeyRange.only(n)}catch(f){return{error:f}}return null}("startkey"in e&&e.startkey,"endkey"in e&&e.endkey,!1!==e.inclusive_end,"key"in e&&e.key,e.descending),(re=q&&q.error)&&("DataError"!==re.name||0!==re.code)))return r(Ne(ne,re.name));var de=[er,lr,vr];e.attachments&&de.push(Tr);var Ce=Dr(t,de,"readonly");if(Ce.error)return r(Ce.error);var he=Ce.txn;he.oncomplete=function(){e.attachments?ai(be,e.binary).then(jt):jt()},he.onabort=Br(r);var xe,Re,Mt,ee=he.objectStore(er),fe=he.objectStore(lr),we=he.objectStore(vr),Oe=fe.index("_doc_id_rev"),be=[];function Ke(wt,Mt){var Ut={id:Mt.id,key:Mt.id,value:{rev:wt}};Mt.deleted?d&&(be.push(Ut),Ut.value.deleted=!0,Ut.doc=null):C--<=0&&(be.push(Ut),e.include_docs&&function(wt,Mt,Ut){Oe.get(wt.id+"::"+Ut).onsuccess=function(Fe){if(Mt.doc=Ri(Fe.target.result)||{},e.conflicts){var Je=ii(wt);Je.length&&(Mt.doc._conflicts=Je)}ba(Mt.doc,e,he)}}(Mt,Ut,wt))}function Et(wt){for(var Mt=0,Ut=wt.length;Mt<Ut&&be.length!==U;Mt++){var Pe=wt[Mt];if(Pe.error&&d)be.push(Pe);else{var Me=Sn(Pe);Ke(Me.winningRev,Me)}}}function lt(wt,Mt,Ut){!Ut||(Et(Mt),be.length<U&&Ut.continue())}function jt(){var wt={total_rows:xe,offset:e.skip,rows:be};e.update_seq&&void 0!==Re&&(wt.update_seq=Re),r(null,wt)}if(we.get(vr).onsuccess=function(wt){xe=wt.target.result.docCount},e.update_seq&&(Mt=function(wt){wt.target.result&&wt.target.result.length>0&&(Re=wt.target.result[0])},fe.openCursor(null,"prev").onsuccess=function(Pe){var Me=Pe.target.result,Fe=void 0;return Me&&Me.key&&(Fe=Me.key),Mt({target:{result:[Fe]}})}),!re&&0!==U){if(d)return function(e,t,r){var n=new Array(e.length),i=0;e.forEach(function(f,d){t.get(f).onsuccess=function(C){n[d]=C.target.result?C.target.result:{key:f,error:"not_found"},++i===e.length&&r(e,n,{})}})}(e.keys,ee,lt);if(-1===U)return function(e,t,r){if("function"!=typeof e.getAll){var n=[];e.openCursor(t).onsuccess=function(f){var d=f.target.result;d?(n.push(d.value),d.continue()):r({target:{result:n}})}}else e.getAll(t).onsuccess=r}(ee,q,function(wt){var Mt=wt.target.result;e.descending&&(Mt=Mt.reverse()),Et(Mt)});Mi(ee,q,e.descending,U+C,lt)}}(ee,i,fe)},e._changes=function(ee){return Ca(ee,e,n,i)},e._close=function(he){i.close(),jn.delete(n),he()},e._getRevisionTree=function(he,ee){var fe=Dr(i,[er],"readonly");if(fe.error)return ee(fe.error);fe.txn.objectStore(er).get(he).onsuccess=function(be){var xe=Sn(be.target.result);xe?ee(null,xe.rev_tree):ee(Ne(s))}},e._doCompaction=function(he,ee,fe){var Oe=Dr(i,[er,lr,Tr,fn],"readwrite");if(Oe.error)return fe(Oe.error);var be=Oe.txn;be.objectStore(er).get(he).onsuccess=function(Re){var He=Sn(Re.target.result);or(He.rev_tree,function(Et,lt,Ot,jt,Ft){-1!==ee.indexOf(lt+"-"+Ot)&&(Ft.status="missing")}),so(ee,he,be);var We=He.winningRev,Ke=He.deleted;be.objectStore(er).put(us(He,We,Ke))},be.onabort=Br(fe),be.oncomplete=function(){fe()}},e._getLocal=function(he,ee){var fe=Dr(i,[Wr],"readonly");if(fe.error)return ee(fe.error);var Oe=fe.txn.objectStore(Wr).get(he);Oe.onerror=Br(ee),Oe.onsuccess=function(be){var xe=be.target.result;xe?(delete xe._doc_id_rev,ee(null,xe)):ee(Ne(s))}},e._putLocal=function(he,ee,fe){"function"==typeof ee&&(fe=ee,ee={}),delete he._revisions;var we=he._rev,Oe=he._id;he._rev=we?"0-"+(parseInt(we.split("-")[1],10)+1):"0-1";var xe,be=ee.ctx;if(!be){var Re=Dr(i,[Wr],"readwrite");if(Re.error)return fe(Re.error);(be=Re.txn).onerror=Br(fe),be.oncomplete=function(){xe&&fe(null,xe)}}var We,He=be.objectStore(Wr);we?(We=He.get(Oe)).onsuccess=function(Ke){var Et=Ke.target.result;Et&&Et._rev===we?He.put(he).onsuccess=function(){xe={ok:!0,id:he._id,rev:he._rev},ee.ctx&&fe(null,xe)}:fe(Ne(m))}:((We=He.add(he)).onerror=function(Ke){fe(Ne(m)),Ke.preventDefault(),Ke.stopPropagation()},We.onsuccess=function(){xe={ok:!0,id:he._id,rev:he._rev},ee.ctx&&fe(null,xe)})},e._removeLocal=function(he,ee,fe){"function"==typeof ee&&(fe=ee,ee={});var we=ee.ctx;if(!we){var Oe=Dr(i,[Wr],"readwrite");if(Oe.error)return fe(Oe.error);(we=Oe.txn).oncomplete=function(){be&&fe(null,be)}}var be,xe=he._id,Re=we.objectStore(Wr),He=Re.get(xe);He.onerror=Br(fe),He.onsuccess=function(We){var Ke=We.target.result;Ke&&Ke._rev===he._rev?(Re.delete(xe),be={ok:!0,id:xe,rev:"0-0"},ee.ctx&&fe(null,be)):fe(Ne(s))}},e._destroy=function(he,ee){Nn.removeAllListeners(n);var fe=ki.get(n);fe&&fe.result&&(fe.result.close(),jn.delete(n));var we=indexedDB.deleteDatabase(n);we.onsuccess=function(){ki.delete(n),ie()&&n in localStorage&&delete localStorage[n],ee(null,{ok:!0})},we.onerror=Br(ee)};var de=jn.get(n);if(de)return i=de.idb,e._meta=de.global,R()(function(){r(null,e)});var Ce=indexedDB.open(n,5);ki.set(n,Ce),Ce.onupgradeneeded=function(he){var ee=he.target.result;if(he.oldVersion<1)return function(he){var ee=he.createObjectStore(er,{keyPath:"id"});he.createObjectStore(lr,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),he.createObjectStore(Tr,{keyPath:"digest"}),he.createObjectStore(vr,{keyPath:"id",autoIncrement:!1}),he.createObjectStore(Ti),ee.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),he.createObjectStore(Wr,{keyPath:"_id"});var fe=he.createObjectStore(fn,{autoIncrement:!0});fe.createIndex("seq","seq"),fe.createIndex("digestSeq","digestSeq",{unique:!0})}(ee);var fe=he.currentTarget.transaction;he.oldVersion<3&&function(he){he.createObjectStore(Wr,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(ee),he.oldVersion<4&&function(he){var ee=he.createObjectStore(fn,{autoIncrement:!0});ee.createIndex("seq","seq"),ee.createIndex("digestSeq","digestSeq",{unique:!0})}(ee);var we=[d,U,q,re],Oe=he.oldVersion;!function be(){var xe=we[Oe-1];Oe++,xe&&xe(fe,be)}()},Ce.onsuccess=function(he){(i=he.target.result).onversionchange=function(){i.close(),jn.delete(n)},i.onabort=function(We){nt("error","Database has a global failure",We.target.error),i.close(),jn.delete(n)};var we,Oe,be,xe,ee=i.transaction([vr,Ti,er],"readwrite"),fe=!1;function Re(){void 0===be||!fe||(e._meta={name:n,instanceId:xe,blobSupport:be},jn.set(n,{idb:i,global:e._meta}),r(null,e))}function He(){if(void 0!==Oe&&void 0!==we){var We=n+"_id";We in we?xe=we[We]:we[We]=xe=ni(),we.docCount=Oe,ee.objectStore(vr).put(we)}}ee.objectStore(vr).get(vr).onsuccess=function(We){we=We.target.result||{id:vr},He()},function(e,t){e.objectStore(er).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(n){Oe=n.target.result,He()}}(ee),fs||(fs=function(e){return new Promise(function(t){var r=mr([""]),n=e.objectStore(Ti).put(r,"key");n.onsuccess=function(){var i=navigator.userAgent.match(/Chrome\/(\d+)/),f=navigator.userAgent.match(/Edge\//);t(f||!i||parseInt(i[1],10)>=43)},n.onerror=e.onabort=function(i){i.preventDefault(),i.stopPropagation(),t(!1)}}).catch(function(){return!1})}(ee)),fs.then(function(We){be=We,Re()}),ee.oncomplete=function(){fe=!0,Re()},ee.onabort=Br(r)},Ce.onerror=function(he){var ee=he.target.error&&he.target.error.message;ee?-1!==ee.indexOf("stored database is a higher version")&&(ee=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):ee="Failed to open indexedDB, are you in private browsing mode?",nt("error",ee),r(Ne(ne,ee))}}(r,e,n)},t,r.constructor)}ds.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch{return!1}};const fo=function(e){e.adapter("idb",ds,!0)};function ho(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xt(e,t,r){return t&&ho(e.prototype,t),r&&ho(e,r),e}var Bi=c(2559),po=c.n(Bi),Da=c(8624),fr=c.n(Da),Oa=c(4966),yt=c.n(Oa),mo=c(1452),Ia=c.n(mo),Pa=c(9456),Ta=c.n(Pa);function Nt(e){var t=e.split("-"),r="RxDB";return t.forEach(function(n){r+=vo(n)}),r+="Plugin",new Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { "+r+" } from 'rxdb/plugins/"+e+"';\n            addRxPlugin("+r+");\n        ")}function Li(e){return"string"!=typeof e&&(e=JSON.stringify(e)),Ia().hash("rxdb-specific-hash-salt"+e)}var Fi=0;function $r(){var e=(new Date).getTime();return e<=Fi&&(e=Fi+1),Fi=e,e}function Un(){return new Promise(function(e){return setTimeout(e,0)})}function xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){return setTimeout(t,e)})}Promise.resolve(!0);var Lr=Promise.resolve(!1),ps=Promise.resolve(null),en=Promise.resolve();function vo(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)}function li(e){for(;"."===e.charAt(0);)e=e.substr(1);for(;"."===e.slice(-1);)e=e.slice(0,-1);return e}function pu(e){if(!e)throw new Error("ensureNotFalsy() is falsy");return e}function ms(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return e;if(!t&&Array.isArray(e))return e.sort(function(n,i){return"string"==typeof n&&"string"==typeof i?n.localeCompare(i):"object"==typeof n?1:-1}).map(function(n){return ms(n,t)});if("object"==typeof e&&!Array.isArray(e)){if(e instanceof RegExp)return e;var r={};return Object.keys(e).sort(function(n,i){return n.localeCompare(i)}).forEach(function(n){r[n]=ms(e[n],t)}),r}return e}function ka(e,t){return t instanceof RegExp?t.toString():t}function go(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",r="abcdefghijklmnopqrstuvwxyz",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}function wn(e){var t={db:e};return"string"==typeof e&&(t={adapter:e,db:void 0}),t}var ar=function(e){return e&&yt()(e,!1)};function Wt(e){return Object.assign({},e)}function Nr(e){var t={};for(var r in e)if(e.hasOwnProperty(r))if("object"==typeof e[r]){var n=Nr(e[r]);for(var i in n)!n.hasOwnProperty(i)||(t[r+"."+i]=n[i])}else t[r]=e[r];return t}function $n(e){return function(e){var t=e.split("-");return{height:parseInt(t[0],10),hash:t[1]}}(e).height}function Cn(e,t,r){return Object.defineProperty(e,t,{get:function(){return r}}),r}function _o(e){return!(!e.includes("/")&&!e.includes("\\"))}function _t(e,t){var r=e.get(t);if(!r)throw new Error("missing value from map "+t);return r}Ta()();var gs_toString=function(t){return"undefined"!=typeof Buffer&&t instanceof Buffer?Un().then(function(){return t.toString()}):new Promise(function(r){var n=new FileReader;n.addEventListener("loadend",function(f){r(f.target.result)}),"[object Uint8Array]"===Object.prototype.toString.call(t)&&(t=new Blob([t])),n.readAsText(t)})};function Kr(e,t){return(Kr=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n})(e,t)}function ys(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Kr(e,t)}function Kn(e){return(Kn=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(e)}function Na(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vn(e,t,r){return(Vn=Na()?Reflect.construct:function(i,f,d){var C=[null];C.push.apply(C,f);var W=new(Function.bind.apply(i,C));return d&&Kr(W,d.prototype),W}).apply(null,arguments)}function Hn(e){var t="function"==typeof Map?new Map:void 0;return Hn=function(n){if(null===n||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return Vn(n,arguments,Kn(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Kr(i,n)},Hn(e)}var dr={isDevMode:function(){return!1},deepFreezeWhenDevMode:function(t){return t},validatePassword:function(t){throw Nt("encryption")},tunnelErrorMessage:function(t){return"RxDB Error-Code "+t+".\n        - To find out what this means, use the dev-mode-plugin https://pubkey.github.io/rxdb/custom-build.html#dev-mode\n        - Or search for this code https://github.com/pubkey/rxdb/search?q="+t+"\n        "}};function fi(e,t,r){return"RxError ("+t+"):\n"+e+"\n"+function(e){var t="";return 0===Object.keys(e).length||(t+="Given parameters: {\n",t+=Object.keys(e).map(function(r){var n="[object Object]";try{n=JSON.stringify(e[r],function(i,f){return void 0===f?null:f},2)}catch{}return r+":"+n}).join("\n"),t+="}"),t}(r)}var ji=function(e){function t(n,i){var f,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},C=fi(i,n,d);return(f=e.call(this,C)||this).code=n,f.message=C,f.parameters=d,f.rxdb=!0,f}return ys(t,e),t.prototype.toString=function(){return this.message},Xt(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}]),t}(Hn(Error)),Eo=function(e){function t(n,i){var f,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},C=fi(i,n,d);return(f=e.call(this,C)||this).code=n,f.message=C,f.parameters=d,f.rxdb=!0,f}return ys(t,e),t.prototype.toString=function(){return this.message},Xt(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}]),t}(Hn(TypeError));function $e(e,t){return new ji(e,dr.tunnelErrorMessage(e),t)}function Ht(e,t){return new Eo(e,dr.tunnelErrorMessage(e),t)}var Gn={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],postDestroyRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],createRxQuery:[],preQueryMatcher:[],preSortComparator:[],prePrepareQuery:[],preWriteToStorageInstance:[],postReadFromInstance:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[]};function Zt(e,t){Gn[e].forEach(function(r){return r(t)})}function di(e,t){return Promise.all(Gn[e].map(function(r){return r(t)}))}var st=c(5861),ja=c(7757),ze=c.n(ja),dn=c(1135),$t=c(4004),wo=c(1884),_u="_rxdb_internal";function jr(e){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,st.Z)(ze().mark(function e(t){var r;return ze().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return r=t.prepareQuery({selector:{}}),d.next=3,t.query(r);case 3:return d.abrupt("return",d.sent.documents);case 6:case"end":return d.stop()}},e)}))).apply(this,arguments)}function _s(e,t){return bs.apply(this,arguments)}function bs(){return(bs=(0,st.Z)(ze().mark(function e(t,r){var i;return ze().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,t.findDocumentsById([r],!1);case 2:if(!(i=d.sent.get(r))){d.next=8;break}return d.abrupt("return",i);case 8:return d.abrupt("return",null);case 9:case"end":return d.stop()}},e)}))).apply(this,arguments)}function Yn(e,t){return Es.apply(this,arguments)}function Es(){return(Es=(0,st.Z)(ze().mark(function e(t,r){var n,f;return ze().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,t.bulkWrite([r]);case 2:if(!((n=C.sent).error.size>0)){C.next=8;break}throw n.error.values().next().value;case 8:return f=n.success.values().next().value,C.abrupt("return",f);case 10:case"end":return C.stop()}},e)}))).apply(this,arguments)}function Ss(e,t){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,st.Z)(ze().mark(function e(t,r){var i;return ze().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,t.findLocalDocumentsById([r]);case 2:if(i=d.sent.get(r)){d.next=8;break}return d.abrupt("return",null);case 8:return d.abrupt("return",i);case 9:case"end":return d.stop()}},e)}))).apply(this,arguments)}function Wi(e,t,r,n){var i,d;if("DELETE"!==t.change.operation)if(n){var f={collection:n,doc:t.change.doc};Zt("postReadFromInstance",f),i=n._crypter.decrypt(i=f.doc)}else i=t.change.doc;if("INSERT"!==t.change.operation)if(n){var C={collection:n,doc:t.change.previous};Zt("postReadFromInstance",C),d=n._crypter.decrypt(d=C.doc)}else d=t.change.previous;return{eventId:t.eventId,documentId:t.documentId,databaseToken:r.token,collectionName:n?n.name:void 0,startTime:t.startTime,endTime:t.endTime,isLocal:e,operation:t.change.operation,documentData:dr.deepFreezeWhenDevMode(i),previousDocumentData:dr.deepFreezeWhenDevMode(d)}}function Io(e,t){return ws.apply(this,arguments)}function ws(){return ws=(0,st.Z)(ze().mark(function e(t,r){var n,i,d,C=arguments;return ze().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:n=C.length>2&&void 0!==C[2]&&C[2],i={previous:r.previous?Dn(t,Wt(r.previous)):void 0,document:Dn(t,Wt(r.document))};case 2:return W.prev=3,W.next=6,t.database.lockedRun(function(){return Yn(t.storageInstance,i)});case 6:return d=hi(t,W.sent),W.abrupt("return",d);case 11:return W.prev=11,W.t0=W.catch(3),W.delegateYield(ze().mark(function q(){var re,de,Ce;return ze().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(de=(re=W.t0).documentId,!n||409!==re.status){ee.next=11;break}return ee.next=5,t.database.lockedRun(function(){return _s(t.storageInstance,de)});case 5:if(Ce=ee.sent){ee.next=8;break}throw $e("SNH",{args:{writeRow:r}});case 8:i.previous=Ce,ee.next=16;break;case 11:if(409!==re.status){ee.next=15;break}throw $e("COL19",{collection:t.name,id:de,pouchDbError:re,data:r});case 15:throw re;case 16:case"end":return ee.stop()}},q)})(),"t1",14);case 14:W.next=2;break;case 16:case"end":return W.stop()}},e,null,[[3,11]])})),ws.apply(this,arguments)}function Dn(e,t){dr.isDevMode()&&e.schema.fillPrimaryKey(t),t=e._crypter.encrypt(t);var r={collection:e,doc:t};return Zt("preWriteToStorageInstance",r),r.doc}function hi(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={collection:e,doc:t};return Zt("postReadFromInstance",n),r?n.doc:e._crypter.decrypt(n.doc)}function pi(e,t){var r=e.schema.fillObjectWithDefaults(t);return e.schema.fillPrimaryKey(r)}function za(e){return e+"-local"}function mi(e,t,r,n){return As.apply(this,arguments)}function As(){return(As=(0,st.Z)(ze().mark(function e(t,r,n,i){var f;return ze().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return n.broadcastChannel=r.broadcastChannel,W.next=3,Promise.all([r.storage.createStorageInstance(n),r.storage.createKeyObjectStorageInstance({databaseName:r.name,collectionName:za(t),options:i,idleQueue:r.idleQueue,broadcastChannel:r.broadcastChannel})]);case 3:return W.abrupt("return",{storageInstance:(f=W.sent)[0],localDocumentsStore:f[1]});case 7:case"end":return W.stop()}},e)}))).apply(this,arguments)}function Cs(e,t){var r;return{version:e,type:"object",primaryKey:t,properties:(r={},r[t]={type:"string"},r),required:[t]}}function vi(e,t){var r=t;return r=li(r="properties."+(r=r.replace(/\./g,".properties."))),fr().get(e,r)}var e,gi={get _data(){if(this.isInstanceOfRxDocument)return this._dataSync$.getValue()},get primaryPath(){if(this.isInstanceOfRxDocument)return this.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){if(this.isInstanceOfRxDocument)return this._data._rev},get deleted$(){if(this.isInstanceOfRxDocument)return this._isDeleted$.asObservable()},get deleted(){if(this.isInstanceOfRxDocument)return this._isDeleted$.getValue()},get $(){return this._dataSync$.asObservable().pipe((0,$t.U)(function(t){return dr.deepFreezeWhenDevMode(t)}))},_handleChangeEvent:function(t){if(t.documentId===this.primary){var n=$n(((e=t).documentData?e.documentData:e.previousDocumentData)._rev);if(!($n(this._data._rev)>n))switch(t.operation){case"INSERT":break;case"UPDATE":this._dataSync$.next(t.documentData);break;case"DELETE":this.collection._docCache.delete(this.primary),this._isDeleted$.next(!0)}}var e},$emit:function(t){return this.collection.$emit(t)},get$:function(t){if(t.includes(".item."))throw $e("DOC1",{path:t});if(t===this.primaryPath)throw $e("DOC2");if(this.collection.schema.finalFields.includes(t))throw $e("DOC3",{path:t});if(!vi(this.collection.schema.jsonSchema,t))throw $e("DOC4",{path:t});return this._dataSync$.pipe((0,$t.U)(function(n){return fr().get(n,t)}),(0,wo.x)())},populate:function(t){var r=vi(this.collection.schema.jsonSchema,t),n=this.get(t);if(!n)return ps;if(!r)throw $e("DOC5",{path:t});if(!r.ref)throw $e("DOC6",{path:t,schemaObj:r});var i=this.collection.database.collections[r.ref];if(!i)throw $e("DOC7",{ref:r.ref,path:t,schemaObj:r});return"array"===r.type?i.findByIds(n).then(function(f){var d=f.values();return Array.from(d)}):i.findOne(n).exec()},get:function(t){if(this._data){var r=fr().get(this._data,t);return"object"!=typeof r||Array.isArray(r)?dr.deepFreezeWhenDevMode(r):(r=ar(r),Po(this.collection.schema,r,t,this),r)}},toJSON:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)return dr.deepFreezeWhenDevMode(this._data);var r=Wt(this._data);return delete r._rev,delete r._attachments,dr.deepFreezeWhenDevMode(r)},set:function(t,r){if(!this._isTemporary)throw Ht("DOC16",{objPath:t,value:r});if("string"!=typeof t)throw Ht("DOC15",{objPath:t,value:r});if(!Object.is(this.get(t),r)){var n=t.split(".");n.pop();var i=n.join(".");if(void 0===fr().get(this._data,i))throw $e("DOC10",{childpath:t,rootPath:i});return fr().set(this._data,t,r),this}},update:function(t){throw Nt("update")},putAttachment:function(){throw Nt("attachments")},getAttachment:function(){throw Nt("attachments")},allAttachments:function(){throw Nt("attachments")},get allAttachments$(){throw Nt("attachments")},atomicUpdate:function(t){var r=this;return new Promise(function(n,i){r._atomicQueue=r._atomicQueue.then((0,st.Z)(ze().mark(function f(){var d,C,U;return ze().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:d=!1;case 1:if(d){q.next=24;break}return C=r._dataSync$.getValue(),q.prev=3,q.next=6,t(ar(r._dataSync$.getValue()),r);case 6:return U=q.sent,r.collection&&(U=r.collection.schema.fillObjectWithDefaults(U)),q.next=10,r._saveData(U,C);case 10:d=!0,q.next=22;break;case 13:if(q.prev=13,q.t0=q.catch(3),!(e=q.t0).parameters||!e.parameters.pouchDbError||409!==e.parameters.pouchDbError.status){q.next=20;break}return q.next=18,Un();case 18:q.next=22;break;case 20:return i(q.t0),q.abrupt("return");case 22:q.next=1;break;case 24:n(r);case 25:case"end":return q.stop()}var e},f,null,[[3,13]])})))})},atomicPatch:function(t){return this.atomicUpdate(function(r){return Object.entries(t).forEach(function(n){r[n[0]]=n[1]}),r})},_saveData:(e=(0,st.Z)(ze().mark(function r(n,i){return ze().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(n=n,!this._isDeleted$.getValue()){d.next=3;break}throw $e("DOC11",{id:this.primary,document:this});case 3:return this.collection.schema.validateChange(i,n),d.next=6,this.collection._runHooks("pre","save",n,this);case 6:return this.collection.schema.validate(n),d.next=9,Io(this.collection,{previous:i,document:n});case 9:return d.abrupt("return",this.collection._runHooks("post","save",n,this));case 10:case"end":return d.stop()}},r,this)})),function(r,n){return e.apply(this,arguments)}),save:function(){var t=this;if(!this._isTemporary)throw $e("DOC17",{id:this.primary,document:this});return this.collection.insert(this).then(function(){return t._isTemporary=!1,t.collection._docCache.set(t.primary,t),t._dataSync$.next(t._data),!0})},remove:function(){var t=this;if(this.deleted)return Promise.reject($e("DOC13",{document:this,id:this.primary}));var r=Wt(this._data);return this.collection._runHooks("pre","remove",r,this).then(function(){return r._deleted=!0,$r(),Io(t.collection,{previous:t._data,document:r})}).then(function(){return t.collection._runHooks("post","remove",r,t)}).then(function(){return t})},destroy:function(){throw $e("DOC14")}};function On(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gi,t=function(n,i){this.collection=n,this._isTemporary=!1,this._dataSync$=new dn.X(i),this._isDeleted$=new dn.X(!1),this._atomicQueue=en,this.isInstanceOfRxDocument=!0};return t.prototype=e,t}function Po(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!==t){var i=vi(e.jsonSchema,r);void 0!==i&&(i.properties&&(i=i.properties),Object.keys(i).forEach(function(f){var d=li(r+"."+f);t.__defineGetter__(f,function(){var C=n||this;if(C.get&&"function"==typeof C.get)return C.get(d)}),Object.defineProperty(t,f+"$",{get:function(){return(n||this).get$(d)},enumerable:!1,configurable:!1}),Object.defineProperty(t,f+"_",{get:function(){return(n||this).populate(d)},enumerable:!1,configurable:!1}),t.__defineSetter__(f,function(C){return(n||this).set(d,C)})}))}}function V(e,t,r){if(r[t.schema.primaryPath]&&r[t.schema.primaryPath].startsWith("_design"))return null;var n=new e(t,r);return Zt("createRxDocument",n),n}function D(e){return void 0!==e&&!!e.isInstanceOfRxDocument}var g=function(){function e(r){this.jsonSchema=r,this.indexes=function(e){return(e.indexes||[]).map(function(t){return Array.isArray(t)?t:[t]})}(this.jsonSchema),this.primaryPath=H(this.jsonSchema.primaryKey),this.finalFields=function(e){var t=Object.keys(e.properties).filter(function(n){return e.properties[n].final}),r=H(e.primaryKey);return t.push(r),"string"!=typeof e.primaryKey&&e.primaryKey.fields.forEach(function(n){return t.push(n)}),t}(this.jsonSchema),this.jsonSchema.required=this.jsonSchema.required.concat(this.finalFields).filter(function(n){return!n.includes(".")}).filter(function(n,i,f){return f.indexOf(n)===i})}var t=e.prototype;return t.validateChange=function(n,i){var f=this;this.finalFields.forEach(function(d){if(!po()(n[d],i[d]))throw $e("DOC9",{dataBefore:n,dataAfter:i,fieldName:d,schema:f.jsonSchema})})},t.validate=function(n,i){throw Nt("validate")},t.fillObjectWithDefaults=function(n){return n=Wt(n),Object.entries(this.defaultValues).filter(function(i){var f=i[0];return!n.hasOwnProperty(f)||void 0===n[f]}).forEach(function(i){return n[i[0]]=i[1]}),n},t.getDocumentPrototype=function(){var n={};return Po(this,n,""),Cn(this,"getDocumentPrototype",function(){return n}),n},t.getPrimaryOfDocumentData=function(n){return le(this.jsonSchema,n)},t.fillPrimaryKey=function(n){var i=Wt(n),f=le(this.jsonSchema,n),d=n[this.primaryPath];if(d&&d!==f)throw $e("DOC19",{args:{documentData:n,existingPrimary:d,newPrimary:f},schema:this.jsonSchema});return i[this.primaryPath]=f,i},Xt(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"normalized",get:function(){return Cn(this,"normalized",function(e){var t=ms(ar(e));return e.indexes&&(t.indexes=Array.from(e.indexes)),t}(this.jsonSchema))}},{key:"topLevelFields",get:function(){return Object.keys(this.normalized.properties)}},{key:"defaultValues",get:function(){var n={};return Object.entries(this.normalized.properties).filter(function(i){return i[1].hasOwnProperty("default")}).forEach(function(i){return n[i[0]]=i[1].default}),Cn(this,"defaultValues",n)}},{key:"crypt",get:function(){return!!(this.jsonSchema.encrypted&&this.jsonSchema.encrypted.length>0||this.jsonSchema.attachments&&this.jsonSchema.attachments.encrypted)}},{key:"encryptedPaths",get:function(){return this.jsonSchema.encrypted||[]}},{key:"hash",get:function(){return Cn(this,"hash",Li(this.normalized))}}]),e}();function H(e){return"string"==typeof e?e:e.key}function le(e,t){if("string"==typeof e.primaryKey)return t[e.primaryKey];var r=e.primaryKey;return r.fields.map(function(n){var i=fr().get(t,n);if(void 0===i)throw $e("DOC18",{args:{field:n,documentData:t}});return i}).join(r.separator)}function rt(e){return(e=ar(e)).additionalProperties=!1,e.hasOwnProperty("keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes||[],e.required=e.required||[],e.encrypted=e.encrypted||[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.version=e.version||0,e}function At(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&Zt("preCreateRxSchema",e);var r=new g(rt(e));return Zt("createRxSchema",r),r}var Or=function(){function e(r,n){this.password=r,this.schema=n}var t=e.prototype;return t._encryptString=function(n){throw Nt("encryption")},t._decryptString=function(n){throw Nt("encryption")},t.encrypt=function(n){var i=this;if(!this.password)return n;var f=(n=Wt(n))._attachments;delete n._attachments;var d=ar(n);return f&&(d._attachments=f),this.schema.encryptedPaths.forEach(function(C){var U=fr().get(d,C);if(void 0!==U){var W=JSON.stringify(U),q=i._encryptString(W);fr().set(d,C,q)}}),d},t.decrypt=function(n){var i=this;if(!this.password)return n;var f=(n=Wt(n))._attachments;delete n._attachments;var d=ar(n);return f&&(d._attachments=f),this.schema.encryptedPaths.forEach(function(C){var U=fr().get(d,C);if(void 0!==U){var W=i._decryptString(U),q=JSON.parse(W);fr().set(d,C,q)}}),d},e}();function yi(e,t){return new Or(e,t)}var In=c(3905),hn=c(6451),hr=c(5577),Hr=c(9300),Pn=c(7579),Ds=c(6063);class Os extends Pn.x{constructor(t=1/0,r=1/0,n=Ds.l){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:f,_windowTime:d}=this;r||(n.push(t),!i&&n.push(f.now()+d)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:i}=this,f=i.slice();for(let d=0;d<f.length&&!t.closed;d+=n?1:2)t.next(f[d]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:i}=this,f=(i?1:2)*t;if(t<1/0&&f<n.length&&n.splice(0,n.length-f),!i){const d=r.now();let C=0;for(let U=1;U<n.length&&n[U]<=d;U+=2)C=U;C&&n.splice(0,C+1)}}}var zc=c(3099);function To(e,t,r){var n,i;let f,d=!1;return e&&"object"==typeof e?(f=null!==(n=e.bufferSize)&&void 0!==n?n:1/0,t=null!==(i=e.windowTime)&&void 0!==i?i:1/0,d=!!e.refCount,r=e.scheduler):f=e??1/0,(0,zc.B)({connector:()=>new Os(f,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:d})}var _i=c(8505),Wa=new WeakMap,$a=new WeakMap;function Eu(e){if(!$a.has(e)){var t=On(function(e){if(!Wa.has(e)){var t=e.schema.getDocumentPrototype(),r=function(e){var t={};return Object.entries(e.methods).forEach(function(r){t[r[0]]=r[1]}),t}(e),i={};[t,r,gi].forEach(function(f){Object.getOwnPropertyNames(f).forEach(function(C){var U=Object.getOwnPropertyDescriptor(f,C),W=!0;(C.startsWith("_")||C.endsWith("_")||C.startsWith("$")||C.endsWith("$"))&&(W=!1),"function"==typeof U.value?Object.defineProperty(i,C,{get:function(){return U.value.bind(this)},enumerable:W,configurable:!1}):(U.enumerable=W,U.configurable=!1,U.writable&&(U.writable=!1),Object.defineProperty(i,C,U))})}),Wa.set(e,i)}return Wa.get(e)}(e));$a.set(e,t)}return $a.get(e)}function Is(e,t){var r=t[e.schema.primaryPath],n=e._docCache.get(r);if(n)return n;var i=V(Eu(e),e,dr.deepFreezeWhenDevMode(t));return e._docCache.set(r,i),e._runHooksSync("post","create",t,i),Zt("postCreateRxDocument",i),i}var bi=function(e){e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Ps=function(e){e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Ts=function(e){var t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Rs=function(e){var t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},xo=function(e){e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);for(var t=e.queryParams.primaryKey,r=e.previousResults,n=0;n<r.length;n++)if(r[n][t]===e.changeEvent.id){r.splice(n,1);break}},Qa=function(e){var t=e.changeEvent.id,r=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,r)}else if(e.previousResults.find(function(i){return i[e.queryParams.primaryKey]===t}))return;!function(e,t,r,n){var i=e,f=i.length-1,d=0,C=0;if(0===i.length)return i.push(t),i;for(;d<=f;)r(i[C=d+(f-d>>1)],t)<=0?d=C+1:f=C-1;r(i[C],t)<=0&&C++,i.splice(C,0,t)}(e.previousResults,r,e.queryParams.sortComparator)},Tu=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],Ru={doNothing:function(e){},insertFirst:bi,insertLast:Ps,removeFirstItem:Ts,removeLastItem:Rs,removeFirstInsertLast:function(e){Ts(e),Ps(e)},removeLastInsertFirst:function(e){Rs(e),bi(e)},removeFirstInsertFirst:function(e){Ts(e),bi(e)},removeLastInsertLast:function(e){Rs(e),Ps(e)},removeExisting:xo,replaceExisting:function(e){for(var t=e.changeEvent.doc,r=e.queryParams.primaryKey,n=e.previousResults,i=0;i<n.length;i++)if(n[i][r]===e.changeEvent.id){n[i]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}},alwaysWrong:function(e){var t={_id:"wrongHuman"+(new Date).getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},insertAtSortPosition:Qa,removeExistingAndInsertAtSortPosition:function(e){xo(e),Qa(e)},runFullQueryAgain:function(e){throw new Error("Action runFullQueryAgain must be implemented by yourself")},unknownAction:function(e){throw new Error("Action unknownAction should never be called")}};function xu(e){return e?"1":"0"}function Za(e,t){for(var r=[],n=0,i=e.length;n<i;n+=t)r.push(e.substring(n,n+t));return r}function w(e){return e.charCodeAt(0)-40}!function(e){void 0===e&&(e=6);for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=r.length,i=0;i<e;i++)r.charAt(Math.floor(Math.random()*n))}(4);var ye="UNKNOWN";function ke(e){return e[e.length-1]}var ju,pr=function(e){return!!e.queryParams.limit},Ki={0:function(e){return"INSERT"===e.changeEvent.operation},1:function(e){return"UPDATE"===e.changeEvent.operation},2:function(e){return"DELETE"===e.changeEvent.operation},3:pr,4:function(e){return 1===e.queryParams.limit},5:function(e){return!!(e.queryParams.skip&&e.queryParams.skip>0)},6:function(e){return 0===e.previousResults.length},7:function(e){return e.changeEvent.previous===ye},8:function(e){return pr(e)&&e.previousResults.length>=e.queryParams.limit},9:function(e){var t=e.previousResults[0];return!(!t||t[e.queryParams.primaryKey]!==e.changeEvent.id)},10:function(e){var t=ke(e.previousResults);return!(!t||t[e.queryParams.primaryKey]!==e.changeEvent.id)},11:function(e){var t=e.queryParams.sortFields,r=e.changeEvent.previous,n=e.changeEvent.doc;if(!n)return!1;if(!r||r===ye)return!0;for(var i=0;i<t.length;i++){var f=t[i];if(fr().get(r,f)!==fr().get(n,f))return!0}return!1},12:function(e){var t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);for(var n=e.queryParams.primaryKey,i=e.previousResults,f=0;f<i.length;f++)if(i[f][n]===t)return!0;return!1},13:function(e){var t=e.changeEvent.previous;if(!t||t===ye)return!1;var r=e.previousResults[0];return!!r&&(r[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,r)<0)},14:function(e){var t=e.changeEvent.previous;if(!t||t===ye)return!1;var r=ke(e.previousResults);return!!r&&(r[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,r)>0)},15:function(e){var t=e.changeEvent.doc;if(!t)return!1;var r=e.previousResults[0];return!!r&&(r[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,r)<0)},16:function(e){var t=e.changeEvent.doc;if(!t)return!1;var r=ke(e.previousResults);return!!r&&(r[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,r)>0)},17:function(e){var t=e.changeEvent.previous;return!(!t||t===ye)&&e.queryParams.queryMatcher(t)},18:function(e){var t=e.changeEvent.doc;return!!t&&e.queryParams.queryMatcher(t)}};var wf=function(e){return function(e,t,r){for(var n=e,i=e.l;;){if("number"==typeof(n=n[xu(t[i](r))])||"string"==typeof n)return n;i=n.l}}((ju||(ju=function(e){for(var t=new Map,n=2+2*parseInt(e.charAt(0)+e.charAt(1),10),f=Za(e.substring(2,n),2),d=0;d<f.length;d++){var U=(C=f[d]).charAt(0),W=w(C.charAt(1));t.set(U,W)}var re=Za(e.substring(n,e.length-3),4);for(d=0;d<re.length;d++){U=(C=re[d]).charAt(0);var C,de=C.charAt(1),Ce=C.charAt(2),he=w(C.charAt(3));if(!t.has(de))throw new Error("missing node with id "+de);if(!t.has(Ce))throw new Error("missing node with id "+Ce);var ee=t.get(de),fe=t.get(Ce);t.set(U,{l:he,0:ee,1:fe})}var Oe=e.slice(-3),be=Oe.charAt(0),xe=Oe.charAt(1);return{l:w(Oe.charAt(2)),0:t.get(be),1:t.get(xe)}}("14a2b0c/d1e,f+g5h.i4j*k-l)m(n6ohk1pdf1qef1rin-sjn-ton-ugn-vmn-whn-xkn-yln-zdf5{ef5|wx5}df7~dz7\x7fef7\xa1bk7\xa2e{7\xa3g|7\xa4ry7\xa5dp7\xa6gk7\xa7eq7\xa8gt7\xa9ac7\xaamv7\xabgu7\xacnm7\xadiy7\xaenw7\xaf\xa4s8\xb0\xab\xa68\xb1\xack8\xb2\xaam8\xb3\xaev8\xb4\xabn8\xb5\xacn8\xb6vm8\xb7xv8\xb8mn8\xb9\xadj8\xba\xaem8\xbbxm8\xbc\xad\xb93\xbd}~3\xbe\xa9\xb03\xbf\x7f\xa23\xc0\xa1\xa33\xc1m\xb13\xc2\xae\xba3\xc3m\xba3\xc4\xa9\xb43\xc5b\xae3\xc6m\xb53\xc7m\xbb3\xc8x\xbb3\xc9kn3\xcam\xb83\xcb\xbcj6\xcc\xc2m6\xcd\xc6\xc36\xce\xc8m6\xcfnm6\xd0\xca\xc76\xd1\xcc\xce,\xd2\xcd\xd0,\xd3\xc5\xc9,\xd4\xb2\xb6,\xd5\xb3\xb7,\xd6\xaen,\xd7\xba\xbb,\xd8mf9\xd9\xcb\xc19\xdaym9\xdbm\xcf9\xdc\xd1\xd29\xddz{2\xdepq2\xdf\xbd\xbf2\xe0\xbe\xc02\xe1\xa5\xa72\xe2\xb0\xa82\xe3\xc4\xd32\xe4\xb4\xd62\xe5\xddn0\xe6\xden0\xe7\xd8\xdb0\xe8\xd9\xdc0\xe9\xdfn0\xea\xe0\xe30\xeb\xb2\xd40\xec\xaf\xd50\xed\xe1n0\xee\xe2\xe40\xef\xb9\xd70\xf0\xe7v/\xf1\xe5\xe6/\xf2\xe7\xeb/\xf3\xe8\xec/\xf4\xe9\xed/\xf5\xea\xee/\xf6\xday/\xf7\xf2m(\xf8\xf3\xef(\xf9\xf6y(\xfa\xf7\xf8:\xfb\xf4\xf5:\xfcm\xf9:\xfd\xf0\xf14\xfe\xfa\xfb4\xff\xfe\xfd*\u0100\xfcm*\xff\u0100.")),ju),Ki,e)};function Cf(e,t){return t.sort&&0!==t.sort.length?t.sort.map(function(r){return Object.keys(r)[0]}):[e]}var Uu=new WeakMap;function Of(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var r=function(e){if(Uu.has(e))return Uu.get(e);var t=e.collection,r=e.getPreparedQuery(),n=t.schema.primaryPath,i=t.storageInstance.getSortComparator(r),d=t.storageInstance.getQueryMatcher(r),U={primaryKey:e.collection.schema.primaryPath,skip:r.skip,limit:r.limit,sortFields:Cf(n,e.mangoQuery),sortComparator:function(q,re){var de={docA:q,docB:re,rxQuery:e};return Zt("preSortComparator",de),i(de.docA,de.docB)},queryMatcher:function(q){var re={doc:q,rxQuery:e};return Zt("preQueryMatcher",re),d(re.doc)}};return Uu.set(e,U),U}(e),n=e._resultsData.slice(),i=e._resultsDataMap,f=!1,d=t.find(function(C){var U=function(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:dr.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}(C),q=function(e){var t=wf(e);return Tu[t]}({queryParams:r,changeEvent:U,previousResults:n,keyDocumentMap:i});return"runFullQueryAgain"===q||("doNothing"!==q?(f=!0,function(e,t,r,n,i){(0,Ru[e])({queryParams:t,changeEvent:r,previousResults:n,keyDocumentMap:i})}(q,r,U,n,i),!1):void 0)});return d?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:f,newResults:n}}var If=function(){function e(){this._map=new Map}return e.prototype.getByQuery=function(n){var i=n.toString();return this._map.has(i)||this._map.set(i,n),this._map.get(i)},e}();function Pf(){return new If}function qc(e,t){t.uncached=!0;var r=t.toString();e._map.delete(r)}function Tf(e){return e.refCount$.observers.length}var el=(100,3e4,function(n,i){if(!(i._map.size<100)){for(var f=$r()-3e4,d=[],U=0,W=Array.from(i._map.values());U<W.length;U++){var q=W[U];if(!(Tf(q)>0)){if(0===q._lastEnsureEqual&&q._creationTime<f){qc(i,q);continue}d.push(q)}}var re=d.length-100;re<=0||d.sort(function(he,ee){return he._lastEnsureEqual-ee._lastEnsureEqual}).slice(0,re).forEach(function(he){return qc(i,he)})}}),zu=new WeakSet;var Bf=0,Ja=function(){function e(r,n,i){this.id=++Bf,this._execOverDatabaseCount=0,this._creationTime=$r(),this._lastEnsureEqual=0,this.other={},this.uncached=!1,this.refCount$=new dn.X(null),this._latestChangeEvent=-1,this._resultsData=null,this._resultsDataMap=new Map,this._lastExecStart=0,this._lastExecEnd=0,this._resultsDocs$=new dn.X(null),this._ensureEqualQueue=Lr,this.op=r,this.mangoQuery=n,this.collection=i,n||(n={selector:{}})}var t=e.prototype;return t._setResultData=function(n){var i=this,f=function(e,t){return t.map(function(r){return Is(e,r)})}(this.collection,n),d=this.collection.schema.primaryPath;return this._resultsDataMap=new Map,this._resultsData=f.map(function(C){var U=C._dataSync$.getValue();return i._resultsDataMap.set(U[d],U),U}),this._resultsDocs$.next(f),f},t._execOverDatabase=function(){var i,n=this;switch(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=$r(),this.op){case"find":i=this.collection._queryStorageInstance(this);break;case"findOne":i=this.collection._queryStorageInstance(this,1);break;default:throw $e("QU1",{collection:this.collection.name,op:this.op})}return i.then(function(f){return n._lastExecEnd=$r(),f})},t.exec=function(n){var i=this;if(n&&"findOne"!==this.op)throw $e("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Ku(this).then(function(){return(0,In.z)(i.$)}).then(function(f){if(!f&&n)throw $e("QU10",{collection:i.collection.name,query:i.mangoQuery,op:i.op});return f})},t.toString=function(){var n=ms({op:this.op,query:this.mangoQuery,other:this.other},!0),i=JSON.stringify(n,ka);return this.toString=function(){return i},i},t.getPreparedQuery=function(){var n={rxQuery:this,mangoQuery:ar(this.mangoQuery)};Zt("prePrepareQuery",n);var i=this.collection.storageInstance.prepareQuery(n.mangoQuery);return this.getPreparedQuery=function(){return i},i},t.doesDocumentDataMatch=function(n){return!n._deleted&&this.queryMatcher(Dn(this.collection,n))},t.remove=function(){var n;return this.exec().then(function(i){return n=i,Array.isArray(i)?Promise.all(i.map(function(f){return f.remove()})):i.remove()}).then(function(){return n})},t.update=function(n){throw Nt("update")},t.where=function(n){throw Nt("query-builder")},t.sort=function(n){throw Nt("query-builder")},t.skip=function(n){throw Nt("query-builder")},t.limit=function(n){throw Nt("query-builder")},Xt(e,[{key:"$",get:function(){var n=this;if(!this._$){var i=this._resultsDocs$.pipe((0,hr.z)(function(d){return Ku(n).then(function(C){return!C&&d})}),(0,Hr.h)(function(d){return!!d}),(0,$t.U)(function(d){return d.slice(0)}),(0,$t.U)(function(d){return"findOne"===n.op?0===d.length?null:d[0]:d}),To({bufferSize:1,refCount:!0})).asObservable(),f=this.collection.$.pipe((0,_i.b)(function(){return Ku(n)}),(0,Hr.h)(function(){return!1}));this._$=(0,hn.T)(i,f,this.refCount$.pipe((0,Hr.h)(function(){return!1})))}return this._$}},{key:"queryMatcher",get:function(){return Cn(this,"queryMatcher",this.collection.storageInstance.getQueryMatcher(this.getPreparedQuery()))}},{key:"asRxQuery",get:function(){return this}}]),e}();function tl(e){return e.collection._queryCache.getByQuery(e)}function $u(e,t,r){if(t&&"object"!=typeof t)throw Ht("QU7",{queryObj:t});if(Array.isArray(t))throw Ht("QU8",{queryObj:t});Zt("preCreateRxQuery",{op:e,queryObj:t,collection:r});var n=new Ja(e,t,r);return Zt("createRxQuery",n=tl(n)),function(e){zu.has(e)||(zu.add(e),Un().then(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"object"==typeof window&&window.requestIdleCallback?new Promise(function(t){return window.requestIdleCallback(t,{timeout:e})}):xa(0)}(200)}).then(function(){e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),zu.delete(e)}))}(r),n}function rl(e){return e._latestChangeEvent>=e.asRxQuery.collection._changeEventBuffer.counter}function Ku(e){return e.collection.database.destroyed||rl(e)?Lr:(e._ensureEqualQueue=e._ensureEqualQueue.then(function(){return function(e){if(e._lastEnsureEqual=$r(),e.collection.database.destroyed||rl(e))return Lr;var t=!1,r=!1;if(-1===e._latestChangeEvent&&(r=!0),!r){var n=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(null===n)r=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.counter,n=n.filter(function(C){return!C.startTime||e._lastExecStart<C.startTime&&(!C.endTime||e._lastExecEnd<C.endTime)});var i=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(n),f=Of(e,i);f.runFullQueryAgain?r=!0:f.changed&&(t=!0,e._setResultData(f.newResults))}}if(r){var d=e.collection._changeEventBuffer.counter;return e._execOverDatabase().then(function(C){return e._latestChangeEvent=d,po()(C,e._resultsData)||(t=!0,e._setResultData(C)),t})}return t}(e)}),e._ensureEqualQueue)}var Nf=c(8675),jf=function(){function e(){this._map=new Map,this._map=new Map}var t=e.prototype;return t.get=function(n){return this._map.get(n)},t.set=function(n,i){return this._map.set(n,i)},t.delete=function(n){return this._map.delete(n)},e}();function Uf(){return new jf}var zf=function(){function e(r){var n=this;this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=r,this.subs.push(this.collection.$.pipe((0,Hr.h)(function(i){return!i.isLocal})).subscribe(function(i){return n._handleChangeEvent(i)}))}var t=e.prototype;return t._handleChangeEvent=function(n){for(this.counter++,this.buffer.push(n),this.eventCounterMap.set(n,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},t.getArrayIndexByPointer=function(n){var f=this.eventCounterMap.get(this.buffer[0]);return n<f?null:n-f},t.getFrom=function(n){var i=[],f=this.getArrayIndexByPointer(n);if(null===f)return null;for(;;){var d=this.buffer[f];if(f++,!d)return i;i.push(d)}},t.runFrom=function(n,i){var f=this.getFrom(n);if(null===f)throw new Error("out of bounds");f.forEach(function(d){return i(d)})},t.reduceByLastOfDoc=function(n){return n.slice(0)},t.hasChangeWithRevision=function(n){for(var i=this.buffer.length;i>0;){i--;var f=this.buffer[i];if(f.documentData&&f.documentData._rev===n)return!0}return!1},t.destroy=function(){this.subs.forEach(function(n){return n.unsubscribe()})},e}();function Wf(e){return new zf(e)}var nl=["pre","post"],il=["insert","save","remove","create"],sl=!1,Xa=function(){function e(r,n,i,f,d){var C=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},U=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},W=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},q=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},re=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},de=arguments.length>10&&void 0!==arguments[10]?arguments[10]:el,Ce=arguments.length>11&&void 0!==arguments[11]?arguments[11]:{};this._isInMemory=!1,this.destroyed=!1,this._atomicUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._repStates=new Set,this._docCache=Uf(),this._queryCache=Pf(),this._crypter={},this._observable$={},this._changeEventBuffer={},this.database=r,this.name=n,this.schema=i,this.storageInstance=f,this.localDocumentsStore=d,this.instanceCreationOptions=C,this.migrationStrategies=U,this.methods=W,this.attachments=q,this.options=re,this.cacheReplacementPolicy=de,this.statics=Ce,$f(this.asRxCollection)}var t=e.prototype;return t.prepare=function(){var r=(0,st.Z)(ze().mark(function i(f){var C,U,d=this;return ze().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:this._crypter=yi(this.database.password,this.schema),this._observable$=this.database.$.pipe((0,Hr.h)(function(re){return re.collectionName===d.name})),this._changeEventBuffer=Wf(this.asRxCollection),C=this.storageInstance.changeStream().pipe((0,$t.U)(function(re){return Wi(!1,re,d.database,d)})).subscribe(function(re){d.$emit(re)}),this._subs.push(C),U=this.localDocumentsStore.changeStream().pipe((0,$t.U)(function(re){return Wi(!0,re,d.database,d)})).subscribe(function(re){return d.$emit(re)}),this._subs.push(U),this._subs.push(this._observable$.pipe((0,Hr.h)(function(re){return!re.isLocal})).subscribe(function(re){var de=d._docCache.get(re.documentId);de&&de._handleChangeEvent(re)}));case 8:case"end":return q.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.migrationNeeded=function(){throw Nt("migration")},t.getDataMigrator=function(){throw Nt("migration")},t.migrate=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getDataMigrator().migrate(n)},t.migratePromise=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getDataMigrator().migratePromise(n)},t._queryStorageInstance=function(){var r=(0,st.Z)(ze().mark(function i(f,d){var U,W,re,C=this,de=arguments;return ze().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return U=de.length>2&&void 0!==de[2]&&de[2],W=f.getPreparedQuery(),d&&(W.limit=d),he.next=5,this.database.lockedRun(function(){return C.storageInstance.query(W)});case 5:return re=he.sent.documents.map(function(ee){return hi(C,ee,U)}),he.abrupt("return",re);case 8:case"end":return he.stop()}},i,this)}));return function(i,f){return r.apply(this,arguments)}}(),t.$emit=function(n){return this.database.$emit(n)},t.insert=function(){var r=(0,st.Z)(ze().mark(function i(f){var d,C,U,W;return ze().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(d=null,!D(f)){re.next=6;break}if((d=f)._isTemporary){re.next=5;break}throw $e("COL1",{data:f});case 5:f=d.toJSON();case 6:return C=pi(this,f),U=d,re.next=10,this._runHooks("pre","insert",C);case 10:return this.schema.validate(C),re.next=13,Io(this,{document:C});case 13:return W=re.sent,d?d._dataSync$.next(W):U=Is(this,W),re.next=17,this._runHooks("post","insert",C,U);case 17:return re.abrupt("return",U);case 18:case"end":return re.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.bulkInsert=function(){var r=(0,st.Z)(ze().mark(function i(f){var C,U,W,q,re,de,Ce,d=this;return ze().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(0!==f.length){ee.next=2;break}return ee.abrupt("return",{success:[],error:[]});case 2:return C=f.map(function(fe){return pi(d,fe)}),ee.next=5,Promise.all(C.map(function(fe){return d._runHooks("pre","insert",fe).then(function(){return d.schema.validate(fe),fe})}));case 5:return W=(U=ee.sent).map(function(fe){return{document:Dn(d,fe)}}),q=new Map,U.forEach(function(fe){q.set(fe[d.schema.primaryPath],fe)}),ee.next=11,this.database.lockedRun(function(){return d.storageInstance.bulkWrite(W)});case 11:return re=ee.sent,de=Array.from(re.success.entries()),Ce=de.map(function(fe){var Oe=fe[1],be=_t(q,fe[0]);return be._rev=Oe._rev,Is(d,be)}),ee.next=16,Promise.all(Ce.map(function(fe){return d._runHooks("post","insert",q.get(fe.primary),fe)}));case 16:return ee.abrupt("return",{success:Ce,error:Array.from(re.error.values())});case 17:case"end":return ee.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.bulkRemove=function(){var r=(0,st.Z)(ze().mark(function i(f){var C,U,W,q,re,de,Ce,d=this;return ze().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(0!==f.length){ee.next=2;break}return ee.abrupt("return",{success:[],error:[]});case 2:return ee.next=4,this.findByIds(f);case 4:return C=ee.sent,U=[],W=new Map,Array.from(C.values()).forEach(function(fe){var we=ar(fe.toJSON(!0));U.push(we),W.set(fe.primary,we)}),ee.next=10,Promise.all(U.map(function(fe){return d._runHooks("pre","remove",fe,C.get(fe[d.schema.primaryPath]))}));case 10:return q=U.map(function(fe){var we=Wt(fe);return we._deleted=!0,{previous:Dn(d,fe),document:Dn(d,we)}}),ee.next=13,this.database.lockedRun(function(){return d.storageInstance.bulkWrite(q)});case 13:return re=ee.sent,de=Array.from(re.success.keys()),ee.next=17,Promise.all(de.map(function(fe){return d._runHooks("post","remove",W.get(fe),C.get(fe))}));case 17:return Ce=de.map(function(fe){return C.get(fe)}),ee.abrupt("return",{success:Ce,error:Array.from(re.error.values())});case 19:case"end":return ee.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.upsert=function(n){var i=this,f=pi(this,n),d=f[this.schema.primaryPath];if(!d)throw $e("COL3",{primaryPath:this.schema.primaryPath,data:f,schema:this.schema.jsonSchema});return this.findOne(d).exec().then(function(C){return C&&!C.deleted?(f._rev=C._rev,C.atomicUpdate(function(){return f}).then(function(){return C})):i.insert(n)})},t.atomicUpsert=function(n){var C,i=this,f=pi(this,n),d=f[this.schema.primaryPath];if(!d)throw $e("COL4",{data:n});return C=(C=this._atomicUpsertQueues.has(d)?this._atomicUpsertQueues.get(d):en).then(function(){return function(e,t,r){var n=e._docCache.get(t);return n?Promise.resolve({doc:n,inserted:!1}):e.findOne(t).exec().then(function(i){return i?{doc:i,inserted:!1}:e.insert(r).then(function(f){return{doc:f,inserted:!0}})})}(i,d,f)}).then(function(U){return U.inserted?U.doc:function(e,t){return e.atomicUpdate(function(r){return t._rev=r._rev,r._data=t,r._data}).then(function(){return e})}(U.doc,f).then(function(){return Un()}).then(function(){return Un()}).then(function(){return Un()}).then(function(){return U.doc})}),this._atomicUpsertQueues.set(d,C),C},t.find=function(n){if("string"==typeof n)throw $e("COL5",{queryObj:n});return n||(n={selector:{}}),$u("find",n,this)},t.findOne=function(n){var i;if("string"==typeof n){var f;i=$u("findOne",{selector:(f={},f[this.schema.primaryPath]=n,f)},this)}else{if(n||(n={selector:{}}),n.limit)throw $e("QU6");i=$u("findOne",n,this)}if("number"==typeof n||Array.isArray(n))throw Ht("COL6",{queryObj:n});return i},t.findByIds=function(){var r=(0,st.Z)(ze().mark(function i(f){var C,U,d=this;return ze().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(C=new Map,U=[],f.forEach(function(de){var Ce=d._docCache.get(de);Ce?C.set(de,Ce):U.push(de)}),!(U.length>0)){re.next=8;break}return re.next=6,this.storageInstance.findDocumentsById(U,!1);case 6:Array.from(re.sent.values()).forEach(function(de){de=hi(d,de);var Ce=Is(d,de);C.set(Ce.primary,Ce)});case 8:return re.abrupt("return",C);case 9:case"end":return re.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.findByIds$=function(n){var i=this,f=null,d=-1,C=this.findByIds(n).then(function(U){d=i._changeEventBuffer.counter,f=U});return this.$.pipe((0,Nf.O)(null),(0,hr.z)(function(U){return C.then(function(){return U})}),(0,hr.z)(function(){var U=(0,st.Z)(ze().mark(function W(q){var re,de;return ze().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(re=pu(f),null!==(de=i._changeEventBuffer.getFrom(d+1))){ee.next=10;break}return ee.next=5,i.findByIds(n);case 5:d=i._changeEventBuffer.counter,Array.from(ee.sent.entries()).forEach(function(fe){return re.set(fe[0],fe[1])}),ee.next=11;break;case 10:de.filter(function(fe){return n.includes(fe.documentId)}).forEach(function(fe){var we=fe.operation;"INSERT"===we||"UPDATE"===we?re.set(fe.documentId,i._docCache.get(fe.documentId)):re.delete(fe.documentId)});case 11:return ee.abrupt("return",re);case 12:case"end":return ee.stop()}},W)}));return function(W){return U.apply(this,arguments)}}()),(0,Hr.h)(function(U){return!!U}),To({bufferSize:1,refCount:!0}))},t.exportJSON=function(){throw Nt("json-dump")},t.importJSON=function(n){throw Nt("json-dump")},t.syncCouchDB=function(n){throw Nt("replication")},t.syncGraphQL=function(n){throw Nt("replication-graphql")},t.inMemory=function(){throw Nt("in-memory")},t.addHook=function(n,i,f){var d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof f)throw Ht("COL7",{key:i,when:n});if(!nl.includes(n))throw Ht("COL8",{key:i,when:n});if(!il.includes(i))throw $e("COL9",{key:i});if("post"===n&&"create"===i&&!0===d)throw $e("COL10",{when:n,key:i,parallel:d});var C=f.bind(this),U=d?"parallel":"series";this.hooks[i]=this.hooks[i]||{},this.hooks[i][n]=this.hooks[i][n]||{series:[],parallel:[]},this.hooks[i][n][U].push(C)},t.getHooks=function(n,i){try{return this.hooks[i][n]}catch{return{series:[],parallel:[]}}},t._runHooks=function(n,i,f,d){var C=this.getHooks(n,i);return C?function(e,t){return e.reduce(function(r,n){return r.then(n)},Promise.resolve(void 0))}(C.series.map(function(W){return function(){return W(f,d)}})).then(function(){return Promise.all(C.parallel.map(function(W){return W(f,d)}))}):en},t._runHooksSync=function(n,i,f,d){var C=this.getHooks(n,i);!C||C.series.forEach(function(U){return U(f,d)})},t.newDocument=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n=this.schema.fillObjectWithDefaults(n);var i=V(Eu(this),this,n);return i._isTemporary=!0,this._runHooksSync("post","create",n,i),i},t.destroy=function(){var n=this;return this.destroyed?Lr:(this._onDestroyCall&&this._onDestroyCall(),this._subs.forEach(function(i){return i.unsubscribe()}),this._changeEventBuffer&&this._changeEventBuffer.destroy(),Array.from(this._repStates).forEach(function(i){return i.cancel()}),Promise.all([this.storageInstance.close(),this.localDocumentsStore.close()]).then(function(){return delete n.database.collections[n.name],n.destroyed=!0,di("postDestroyRxCollection",n).then(function(){return!0})}))},t.remove=function(){return this.database.removeCollection(this.name)},Xt(e,[{key:"$",get:function(){return this._observable$}},{key:"insert$",get:function(){return this.$.pipe((0,Hr.h)(function(n){return"INSERT"===n.operation}))}},{key:"update$",get:function(){return this.$.pipe((0,Hr.h)(function(n){return"UPDATE"===n.operation}))}},{key:"remove$",get:function(){return this.$.pipe((0,Hr.h)(function(n){return"DELETE"===n.operation}))}},{key:"onDestroy",get:function(){var n=this;return this._onDestroy||(this._onDestroy=new Promise(function(i){return n._onDestroyCall=i})),this._onDestroy}},{key:"asRxCollection",get:function(){return this}}]),e}();function $f(e){if(!sl){sl=!0;var t=Object.getPrototypeOf(e);il.forEach(function(r){nl.map(function(n){var i=n+vo(r);t[i]=function(f,d){return this.addHook(n,r,f,d)}})})}}function Hf(e,t){var r=e.database,n=e.name,i=e.schema,f=e.instanceCreationOptions,d=void 0===f?{}:f,C=e.migrationStrategies,U=void 0===C?{}:C,W=e.autoMigrate,q=void 0===W||W,re=e.statics,de=void 0===re?{}:re,Ce=e.methods,he=void 0===Ce?{}:Ce,ee=e.attachments,fe=void 0===ee?{}:ee,we=e.options,Oe=void 0===we?{}:we,be=e.cacheReplacementPolicy,xe=void 0===be?el:be;dr.isDevMode()&&Object.keys(he).filter(function(He){return i.topLevelFields.includes(He)}).forEach(function(He){throw $e("COL18",{funName:He})});var Re={databaseName:r.name,collectionName:n,schema:i.jsonSchema,options:d,idleQueue:r.idleQueue};return Zt("preCreateRxStorageInstance",Re),mi(n,r,Re,d).then(function(He){var We=new Xa(r,n,i,He.storageInstance,He.localDocumentsStore,d,U,he,fe,Oe,xe,de);return We.prepare(t).then(function(){Object.entries(de).forEach(function(Et){var Ot=Et[1];Object.defineProperty(We,Et[0],{get:function(){return Ot.bind(We)}})});var Ke=en;return q&&0!==We.schema.version&&(Ke=We.migratePromise()),Ke}).then(function(){return Zt("createRxCollection",We),We}).catch(function(Ke){return Promise.all([He.storageInstance.close(),He.localDocumentsStore.close()]).then(function(){return Promise.reject(Ke)})})})}var Vu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function Hu(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var r=e._pHM.get(t);e._hPM.delete(r),e._pHM.delete(t)}e._iC.delete(t)}}function Qu(e){e._tryIR||0===e._iC.size||(e._tryIR=!0,setTimeout(function(){e.isIdle()?setTimeout(function(){e.isIdle()?(function(e){0!==e._iC.size&&(e._iC.values().next().value._manRes(),setTimeout(function(){return Qu(e)},0))}(e),e._tryIR=!1):e._tryIR=!1},0):e._tryIR=!1},0))}Vu.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,Qu(this)},wrapCall:function(t){var n,r=this;this.lock();try{n=t()}catch(i){throw this.unlock(),i}return n.then&&"function"==typeof n.then?n.then(function(i){return r.unlock(),i}).catch(function(i){throw r.unlock(),i}):(this.unlock(),n)},requestIdlePromise:function(t){var r=this;t=t||{};var n,i=new Promise(function(C){return n=C});if(i._manRes=function(){Hu(r,i),n()},t.timeout){var d=setTimeout(function(){i._manRes()},t.timeout);i._timeoutObj=d}return this._iC.add(i),Qu(this),i},cancelIdlePromise:function(t){Hu(this,t)},requestIdleCallback:function(t,r){var n=this._lHN++,i=this.requestIdlePromise(r);return this._hPM.set(n,i),this._pHM.set(i,n),i.then(function(){return t()}),n},cancelIdleCallback:function(t){var r=this._hPM.get(t);this.cancelIdlePromise(r)},clear:function(){var t=this;this._iC.forEach(function(r){return Hu(t,r)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}},Promise.resolve(!1);var Vi=Promise.resolve();function ol(e){return e||(e=0),new Promise(function(t){return setTimeout(t,e)})}function Gu(){return Math.random().toString(36).substring(2)}var al=0,Zu=0;function qa(){var e=(new Date).getTime();return e===al?1e3*e+ ++Zu:(al=e,Zu=0,1e3*e)}var eu="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);const id={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(r){t.messagesCallback&&t.messagesCallback(r.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),Vi}catch(r){return Promise.reject(r)}},canBeUsed:function(){if(eu&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 150},microSeconds:qa};var Yu=function(){function e(t){this.ttl=t,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(t){return this.set.has(t)},e.prototype.add=function(t){var r=this;this.timeMap.set(t,ul()),this.set.add(t),setTimeout(function(){!function(e){for(var t=ul()-e.ttl,r=e.set[Symbol.iterator]();;){var n=r.next().value;if(!n)return;if(!(e.timeMap.get(n)<t))return;e.timeMap.delete(n),e.set.delete(n)}}(r)},0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function ul(){return(new Date).getTime()}function Ju(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var vn="messages";function cl(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function ll(e){e.closed||fl(e).then(function(){return ol(e.options.idb.fallbackInterval)}).then(function(){return ll(e)})}function fl(e){return e.closed||!e.messagesCallback?Vi:function(e,t){var r=e.transaction(vn).objectStore(vn),n=[];return new Promise(function(f){(function(){try{var f=IDBKeyRange.bound(t+1,1/0);return r.openCursor(f)}catch{return r.openCursor()}}()).onsuccess=function(d){var C=d.target.result;C?C.value.id<t+1?C.continue(t+1):(n.push(C.value),C.continue()):f(n)}})}(e.db,e.lastCursorId).then(function(t){var r=t.filter(function(n){return!!n}).map(function(n){return n.id>e.lastCursorId&&(e.lastCursorId=n.id),n}).filter(function(n){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(n,e)}).sort(function(n,i){return n.time-i.time});return r.forEach(function(n){e.messagesCallback&&(e.eMIs.add(n.id),e.messagesCallback(n.data))}),Vi})}const Sd={create:function(e,t){return t=Ju(t),function(e){var n=cl().open("pubkey.broadcast-channel-0-"+e,1);return n.onupgradeneeded=function(f){f.target.result.createObjectStore(vn,{keyPath:"id",autoIncrement:!0})},new Promise(function(f,d){n.onerror=function(C){return d(C)},n.onsuccess=function(){f(n.result)}})}(e).then(function(r){var n={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:Gu(),eMIs:new Yu(2*t.idb.ttl),writeBlockPromise:Vi,messagesCallback:null,readQueuePromises:[],db:r};return r.onclose=function(){n.closed=!0,t.idb.onclose&&t.idb.onclose()},ll(n),n})},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t,fl(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return function(e,t,r){var i={uuid:t,time:(new Date).getTime(),data:r},f=e.transaction([vn],"readwrite");return new Promise(function(d,C){f.oncomplete=function(){return d()},f.onerror=function(W){return C(W)},f.objectStore(vn).add(i)})}(e.db,e.uuid,t)}).then(function(){0===Math.floor(11*Math.random()+0)&&function(e,t){(function(e,t){var r=(new Date).getTime()-t,n=e.transaction(vn).objectStore(vn),i=[];return new Promise(function(f){n.openCursor().onsuccess=function(d){var C=d.target.result;if(C){var U=C.value;if(!(U.time<r))return void f(i);i.push(U),C.continue()}else f(i)}})})(e,t).then(function(r){return Promise.all(r.map(function(n){return function(e,t){var r=e.transaction([vn],"readwrite").objectStore(vn).delete(t);return new Promise(function(n){r.onsuccess=function(){return n()}})}(e,n.id)}))})}(e.db,e.options.idb.ttl)}),e.writeBlockPromise},canBeUsed:function(){return!eu&&!!cl()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:qa};function dl(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function hl(e){return"pubkey.broadcastChannel-"+e}function pl(){if(eu)return!1;var e=dl();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}const xd={create:function(e,t){if(t=Ju(t),!pl())throw new Error("BroadcastChannel: localstorage cannot be used");var r=Gu(),n=new Yu(t.localstorage.removeTimeout),i={channelName:e,uuid:r,eMIs:n};return i.listener=function(e,t){var r=hl(e),n=function(f){f.key===r&&t(JSON.parse(f.newValue))};return window.addEventListener("storage",n),n}(e,function(f){!i.messagesCallback||f.uuid!==r&&(!f.token||n.has(f.token)||f.data.time&&f.data.time<i.messagesCallbackTime||(n.add(f.token),i.messagesCallback(f.data)))}),i},close:function(e){!function(e){window.removeEventListener("storage",e)}(e.listener)},onMessage:function(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(r){ol().then(function(){var n=hl(e.channelName),i={token:Gu(),time:(new Date).getTime(),data:t,uuid:e.uuid},f=JSON.stringify(i);dl().setItem(n,f);var d=document.createEvent("Event");d.initEvent("storage",!0,!0),d.key=n,d.newValue=f,window.dispatchEvent(d),r()})})},canBeUsed:pl,type:"localstorage",averageResponseTime:function(){var t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?240:120},microSeconds:qa};var kd=qa,Xu=new Set;const Wd={create:function(e){var t={name:e,messagesCallback:null};return Xu.add(t),t},close:function(e){Xu.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(r){return setTimeout(function(){Array.from(Xu).filter(function(i){return i.name===e.name}).filter(function(i){return i!==e}).filter(function(i){return!!i.messagesCallback}).forEach(function(i){return i.messagesCallback(t)}),r()},5)})},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:kd};var ml=[id,Sd,xd],qu=function(t,r){this.name=t,this.options=Ju(r),this.method=function(e){var t=[].concat(e.methods,ml).filter(Boolean);if(e.type){if("simulate"===e.type)return Wd;var r=t.find(function(i){return i.type===e.type});if(r)return r;throw new Error("method-type "+e.type+" not found")}!e.webWorkerSupport&&!eu&&(t=t.filter(function(i){return"idb"!==i.type}));var n=t.find(function(i){return i.canBeUsed()});if(n)return n;throw new Error("No useable method found in "+JSON.stringify(ml.map(function(i){return i.type})))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,function(e){var t=e.method.create(e.name,e.options);!function(e){return!(!e||"function"!=typeof e.then)}(t)?e._state=t:(e._prepP=t,t.then(function(r){e._state=r}))}(this)};function vl(e,t,r){var i={time:e.method.microSeconds(),type:t,data:r};return(e._prepP?e._prepP:Vi).then(function(){var d=e.method.postMessage(e._state,i);return e._uMP.add(d),d.catch().then(function(){return e._uMP.delete(d)}),d})}function gl(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function yl(e,t,r){e._addEL[t].push(r),function(e){if(!e._iL&&gl(e)){var t=function(i){e._addEL[i.type].forEach(function(f){i.time>=f.time&&f.fn(i.data)})},r=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,r)}):(e._iL=!0,e.method.onMessage(e._state,t,r))}}(e)}function _l(e,t,r){e._addEL[t]=e._addEL[t].filter(function(n){return n!==r}),function(e){if(e._iL&&!gl(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}qu._pubkey=!0,qu.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return vl(this,"message",t)},postInternal:function(t){return vl(this,"internal",t)},set onmessage(e){var r={time:this.method.microSeconds(),fn:e};_l(this,"message",this._onML),e&&"function"==typeof e?(this._onML=r,yl(this,"message",r)):this._onML=null},addEventListener:function(t,r){yl(this,t,{time:this.method.microSeconds(),fn:r})},removeEventListener:function(t,r){_l(this,t,this._addEL[t].find(function(i){return i.fn===r}))},close:function(){var t=this;if(!this.closed){this.closed=!0;var r=this._prepP?this._prepP:Vi;return this._onML=null,this._addEL.message=[],r.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(n){return n()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var tc=new Set,tu=function(){function e(r,n,i,f,d){var C=arguments.length>5&&void 0!==arguments[5]&&arguments[5],U=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},W=arguments.length>7?arguments[7]:void 0,q=arguments.length>8?arguments[8]:void 0,re=arguments.length>9?arguments[9]:void 0,de=arguments.length>10?arguments[10]:void 0;this.token=go(10),this._subs=[],this.destroyed=!1,this.subject=new Pn.x,this.observable$=this.subject.asObservable(),this.broadcastChannel$=new Pn.x,this.name=r,this.storage=n,this.instanceCreationOptions=i,this.password=f,this.multiInstance=d,this.eventReduce=C,this.options=U,this.idleQueue=W,this.internalStore=q,this.localDocumentsStore=re,this.broadcastChannel=de,this.collections={}}var t=e.prototype;return t.dangerousRemoveCollectionInfo=function(){var r=(0,st.Z)(ze().mark(function i(){var d;return ze().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,jr(this.internalStore);case 2:return d=U.sent.map(function(W){var q=Wt(W);return q._deleted=!0,{previous:W,document:q}}),U.next=6,this.internalStore.bulkWrite(d);case 6:case"end":return U.stop()}},i,this)}));return function(){return r.apply(this,arguments)}}(),t.$emit=function(n){this.subject.next(n),n.databaseToken===this.token&&function(e,t){if(e.destroyed)return Lr;e.multiInstance&&!function(e){return!(!e.collectionName||"_"!==e.collectionName.charAt(0))}(t)&&e.broadcastChannel&&e.broadcastChannel.postMessage({cE:t,storageToken:e.storageToken}).then(function(){return!0})}(this,n)},t.removeCollectionDoc=function(){var r=(0,st.Z)(ze().mark(function i(f,d){var U,W,q,C=this;return ze().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return U=ru(f,d),de.next=3,_s(this.internalStore,U);case 3:if(W=de.sent){de.next=6;break}throw $e("SNH",{name:f,schema:d});case 6:return(q=Wt(W))._deleted=!0,de.next=10,this.lockedRun(function(){return C.internalStore.bulkWrite([{document:q,previous:W}])});case 10:case"end":return de.stop()}},i,this)}));return function(i,f){return r.apply(this,arguments)}}(),t.addCollections=function(){var r=(0,st.Z)(ze().mark(function i(f){var U,W,re,de,d=this;return ze().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,this.lockedRun(function(){return d.internalStore.findDocumentsById(Object.keys(f).map(function(ee){return ru(ee,f[ee].schema)}),!1)});case 2:return U={},Array.from(he.sent.entries()).forEach(function(ee){U[ee[0]]=ee[1]}),W={},he.next=8,Promise.all(Object.entries(f).map(function(ee){var fe=ee[0],we=ee[1],Oe=fe,be=U[ru(fe,f[Oe].schema)],xe=Wt(we);xe.name=Oe;var Re=At(we.schema);if(W[Oe]=Re.hash,xe.schema=Re,xe.database=d,Re.crypt&&!d.password)throw $e("DB7",{name:fe});if(d.collections[fe])throw $e("DB3",{name:fe});if(be&&be.schemaHash!==W[Oe])throw $e("DB6",{name:fe,previousSchemaHash:be.schemaHash,schemaHash:W[Oe]});var He=Wt(we);return He.database=d,He.name=fe,Zt("preCreateRxCollection",He),Hf(xe,!!be)}));case 8:if(re=[],de={},he.sent.forEach(function(ee){var fe=ee.name;de[fe]=ee;var we=ru(fe,f[fe].schema);U[we]||re.push({document:{collectionName:we,schemaHash:W[fe],schema:ee.schema.normalized,version:ee.schema.version,_attachments:{}}}),d.collections[fe]=ee,d[fe]||Object.defineProperty(d,fe,{get:function(){return d.collections[fe]}})}),!(re.length>0)){he.next=15;break}return he.next=15,this.lockedRun(function(){return d.internalStore.bulkWrite(re)});case 15:return he.abrupt("return",de);case 16:case"end":return he.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.removeCollection=function(n){var i=this,f=en;return this.collections[n]&&(f=this.collections[n].destroy()),f.then(function(){return function(e,t){return ic.apply(this,arguments)}(i,n)}).then(function(d){return Promise.all(d.map(function(C){return mi(n,i,{databaseName:i.name,collectionName:n,idleQueue:i.idleQueue,schema:Cs(C,"collectionName"),options:i.instanceCreationOptions},{})}))}).then(function(d){return Promise.all(d.map(function(C){return i.lockedRun(function(){return Promise.all([C.storageInstance.remove(),C.localDocumentsStore.remove()])})}))}).then(function(){})},t.lockedRun=function(n){return this.idleQueue.wrapCall(n)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(){throw Nt("json-dump")},t.importJSON=function(n){throw Nt("json-dump")},t.server=function(n){throw Nt("server")},t.backup=function(n){throw Nt("backup")},t.leaderElector=function(){throw Nt("leader-election")},t.isLeader=function(){throw Nt("leader-election")},t.waitForLeadership=function(){throw Nt("leader-election")},t.migrationStates=function(){throw Nt("migration")},t.destroy=function(){var n=this;return this.destroyed||(Zt("preDestroyRxDatabase",this),this.destroyed=!0,this._subs.map(function(i){return i.unsubscribe()}),"pseudoInstance"===this.name)?Lr:this.requestIdlePromise().then(function(){return Promise.all(Object.keys(n.collections).map(function(i){return n.collections[i]}).map(function(i){return i.destroy()}))}).then(function(){return n.internalStore.close()}).then(function(){return n.localDocumentsStore.close()}).then(function(){return n.broadcastChannel?n.broadcastChannel.close():null}).then(function(){return tc.delete(n.name)}).then(function(){return!0})},t.remove=function(){var n=this;return this.destroy().then(function(){return function(e,t){return ac.apply(this,arguments)}(n.name,n.storage)})},Xt(e,[{key:"$",get:function(){return this.observable$}}]),e}();function Gd(e){return nc.apply(this,arguments)}function nc(){return nc=(0,st.Z)(ze().mark(function e(t){var r,n,i;return ze().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return r="storageToken",d.next=3,Ss(t.localDocumentsStore,r);case 3:if(n=d.sent){d.next=11;break}return i=go(10),d.next=8,t.localDocumentsStore.bulkWrite([{document:{_id:r,value:i,_attachments:{}}}]);case 8:return d.abrupt("return",i);case 11:return d.abrupt("return",n.value);case 12:case"end":return d.stop()}},e)})),nc.apply(this,arguments)}function ru(e,t){return e+"-"+t.version}function ic(){return ic=(0,st.Z)(ze().mark(function e(t,r){var i;return ze().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,t.lockedRun(function(){return jr(t.internalStore)});case 2:return i=d.sent.filter(function(C){return C.collectionName.split("-")[0]===r}),d.abrupt("return",Promise.all(i.map(function(C){var U=Wt(C);return U._deleted=!0,t.lockedRun(function(){return Yn(t.internalStore,{previous:C,document:U})})})).then(function(){return i.map(function(C){return C.version})}));case 5:case"end":return d.stop()}},e)})),ic.apply(this,arguments)}function Jd(e){if(!e.broadcastChannel)throw $e("SNH",{args:{rxDatabase:e}});e.broadcastChannel.addEventListener("message",function(t){t.storageToken===e.storageToken&&t.cE.databaseToken!==e.token&&e.broadcastChannel$.next(t.cE)}),e._subs.push(e.broadcastChannel$.subscribe(function(t){e.$emit(t)}))}function bl(e,t,r,n,i){return sc.apply(this,arguments)}function sc(){return sc=(0,st.Z)(ze().mark(function e(t,r,n,i,f){var d;return ze().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,t.createStorageInstance({databaseName:r,collectionName:_u,schema:Cs(0,"collectionName"),options:n,idleQueue:i,broadcastChannel:f});case 2:return d=W.sent,W.next=5,t.createKeyObjectStorageInstance({databaseName:r,collectionName:"",options:n,idleQueue:i,broadcastChannel:f});case 5:return W.abrupt("return",{internalStore:d,localDocumentsStore:W.sent});case 7:case"end":return W.stop()}},e)})),sc.apply(this,arguments)}function oc(){return oc=(0,st.Z)(ze().mark(function e(t){var r;return ze().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=t.localDocumentsStore.changeStream().subscribe(function(f){t.$emit(Wi(!0,f,t))}),t._subs.push(r),i.next=4,Gd(t);case 4:t.storageToken=i.sent,t.multiInstance&&Jd(t);case 6:case"end":return i.stop()}},e)})),oc.apply(this,arguments)}function ac(){return ac=(0,st.Z)(ze().mark(function e(t,r){var n,i,f;return ze().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return n=new Vu,C.next=3,bl(r,t,{},n);case 3:return i=C.sent,C.next=6,jr(i.internalStore);case 6:return f=C.sent,C.next=9,Promise.all(f.map(function(){var U=(0,st.Z)(ze().mark(function W(q){var de,Ce,he,ee,fe,we,Oe,be;return ze().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return de=q.schema,Ce=q.collectionName.split("-"),he=Ce[0],ee=parseInt(Ce[1],10),fe=H(de.primaryKey),Re.next=8,Promise.all([r.createStorageInstance({databaseName:t,collectionName:he,schema:Cs(ee,fe),options:{},idleQueue:n}),r.createKeyObjectStorageInstance({databaseName:t,collectionName:za(he),options:{},idleQueue:n})]);case 8:return Oe=(we=Re.sent)[0],be=we[1],Re.next=13,Promise.all([Oe.remove(),be.remove()]);case 13:case"end":return Re.stop()}},W)}));return function(W){return U.apply(this,arguments)}}()));case 9:return C.abrupt("return",Promise.all([i.internalStore.remove(),i.localDocumentsStore.remove()]));case 10:case"end":return C.stop()}},e)})),ac.apply(this,arguments)}var th={RxSchema:g.prototype,Crypter:Or.prototype,RxDocument:gi,RxQuery:Ja.prototype,RxCollection:Xa.prototype,RxDatabase:tu.prototype},uc=new Set;function Uo(e){if(Zt("preAddRxPlugin",{plugin:e,plugins:uc}),!uc.has(e)){if(uc.add(e),!e.rxdb)throw Ht("PL1",{plugin:e});e.prototypes&&Object.entries(e.prototypes).forEach(function(t){return(0,t[1])(th[t[0]])}),e.overwritable&&Object.assign(dr,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(function(t){return Gn[t[0]].push(t[1])})}}var cc,lc,fc,El={UT1:"given name is no string or empty",UT2:"collection- and database-names must match the regex to be compatible with couchdb databases.\n    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/\n    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'",UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",PL1:"Given plugin is not RxDB plugin. Pouchdb plugins must be added via addPouchPlugin()",PL2:"You tried importy a RxDB plugin to pouchdb. Use addRxPlugin() instead.",P1:"PouchDB.getBatch: limit must be > 2",P2:"bulkWrite() cannot be called with an empty array",P3:"bulkAddRevisions cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU7:"query must be an object",QU8:"query cannot be an array",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase.[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://pubkey.github.io/rxdb/questions-answers.html#cant-change-the-schema",DB7:"RxDatabase.addCollections(): schema encrypted but no password given",DB8:"RxDatabase.create(): A RxDatabase with the same name and adapter already exists.\nMake sure to use this combination only once or set ignoreDuplicate to true if you do this intentional",DB9:"RxDatabase.create(): Adapter not added. Use RxDB.plugin(require('pouchdb-adapter-[adaptername]');",DB10:"RxDatabase.create(): To use leveldown-adapters, you have to add the leveldb-plugin. Use RxDB.plugin(require('pouchdb-adapter-leveldb'));",DB11:"RxDatabase.create(): Invalid db-name, folder-paths must not have an ending slash",COL1:"RxDocument.insert() You cannot insert an existing document",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.atomicUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL19:"Document document update conflict, when changing a document you must work on the previous revision",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): cant save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",AT1:"to use attachments, please define this in your schema",EN1:"password is no string",EN2:"validatePassword: min-length of password not complied",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ cant use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not useable on local documents",LD7:"Local document already exists",RC1:"Replication: already added",RC2:"RxCollection.syncCouchDB() query must be from the same RxCollection",RC3:"RxCollection.syncCouchDB() Do not use a collection's pouchdb as remote, use the collection instead",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await inital replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await inital replication if multiInstance because the replication might run on another instance",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",DEV1:"dev-mode added multiple times, this is likely because you have mixed up the import from the the plugins/core and the full RxDB",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",IM1:"InMemory: Memory-Adapter must be added. Use addPouchPlugin(require('pouchdb-adapter-memory'));",IM2:"inMemoryCollection.sync(): Do not replicate with the in-memory instance. Replicate with the parent instead",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"cannot find sub schema by key",SNH:"This should never happen"},sh=new(On(gi));function Sl(){if(!fc){var t=Object.getOwnPropertyNames(sh),r=Object.getOwnPropertyNames(gi);fc=[].concat(t,r,["deleted","synced"])}return fc}function ah(e){return function r(n,i){"object"==typeof n&&Object.keys(n).forEach(function(f){n.properties||function(n,i,f){if("string"==typeof n&&"object"==typeof i&&!Array.isArray(i)&&function(e){if(""!==e&&"_deleted"!==e){if(["properties","language"].includes(e))throw $e("SC23",{fieldName:e});var t="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",r=new RegExp(t);if(!e.match(r))throw $e("SC1",{regex:t,fieldName:e})}}(n),i.hasOwnProperty("item")&&"array"!==i.type)throw $e("SC2",{fieldName:n});if(i.hasOwnProperty("required")&&"boolean"==typeof i.required)throw $e("SC24",{fieldName:n});if(i.hasOwnProperty("ref"))if(Array.isArray(i.type)){if(i.type.length>2||!i.type.includes("string")||!i.type.includes("null"))throw $e("SC4",{fieldName:n})}else switch(i.type){case"string":break;case"array":if(!i.items||!i.items.type||"string"!==i.items.type)throw $e("SC3",{fieldName:n});break;default:throw $e("SC4",{fieldName:n})}var d=f.split(".").length>=2;if(d){if(i.primary)throw $e("SC6",{path:f,primary:i.primary});if(i.default)throw $e("SC7",{path:f})}if(!d&&"_"===n.charAt(0)){if("_deleted"===n)return;throw $e("SC8",{fieldName:n})}}(f,n[f],i);var d=i;"properties"!==f&&(d=d+"."+f),r(n[f],d)})}(e,""),!0}function wl(e){for(var t=e.split("."),r="",n=0;n<t.length;n+=1)r=r.concat("[]"!==t[n]?".properties.".concat(t[n]):".items");return li(r)}function dc(e){!e||Object.entries(e).forEach(function(t){var r=t[0],n=t[1];if("string"!=typeof r)throw Ht("COL14",{name:r});if(r.startsWith("_"))throw Ht("COL15",{name:r});if("function"!=typeof n)throw Ht("COL16",{name:r,type:typeof r});if(function(){if(!cc){var e=new Xa,t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));cc=[].concat(t,r)}return cc}().includes(r)||Sl().includes(r))throw $e("COL17",{name:r})})}var Al="^[a-z][_$a-z0-9\\-]*$",hh=new RegExp(Al);function Cl(e){if("string"!=typeof e||0===e.length)throw Ht("UT1",{name:e});if(_o(e))return!0;if(!e.match(hh))throw $e("UT2",{regex:Al,givenName:e});return!0}var mh=c(4949),vh=c.n(mh),Dl="dev-mode",yh={name:Dl,rxdb:!0,overwritable:{isDevMode:function(){return!0},deepFreezeWhenDevMode:function(e){return e&&vh()(e)},tunnelErrorMessage:function(t){if(!El[t])throw console.error("RxDB: Error-Code not known: "+t),new Error("Error-Code "+t+" not known, contact the maintainer");return El[t]}},hooks:{preAddRxPlugin:function(t){if(t.plugin.name===Dl)throw $e("DEV1",{plugins:t.plugins})},preCreateRxSchema:function(e){if(!e.primaryKey)throw $e("SC30",{schema:e});if(!e.hasOwnProperty("properties"))throw $e("SC29",{schema:e});if(e.properties._rev)throw $e("SC10",{schema:e});if(!e.hasOwnProperty("version")||"number"!=typeof e.version||e.version<0)throw $e("SC11",{version:e.version});if(ah(e),function(e){if(!e.primaryKey)throw $e("SC30",{schema:e});function t(d){if(!d)throw $e("SC33",{schema:e});var C=d.type;if(!C||!["string","number","integer"].includes(C))throw $e("SC32",{schema:e,args:{schemaPart:d}})}if("string"==typeof e.primaryKey)t(e.properties[e.primaryKey]);else{var i=e.primaryKey;t(vi(e,i.key)),i.fields.forEach(function(d){t(vi(e,d))})}}(e),Object.keys(e.properties).forEach(function(t){var r=e.properties[t];if(t===e.primaryKey){if(e.indexes&&e.indexes.includes(t))throw $e("SC13",{value:r,schema:e});if(r.unique)throw $e("SC14",{value:r,schema:e});if(e.encrypted&&e.encrypted.includes(t))throw $e("SC15",{value:r,schema:e});if("string"!==r.type)throw $e("SC16",{value:r,schema:e})}if(Sl().includes(t))throw $e("SC17",{key:t,schema:e})}),e.indexes){if(!Array.isArray(e.indexes))throw $e("SC18",{indexes:e.indexes,schema:e});e.indexes.forEach(function(t){if("string"!=typeof t&&!Array.isArray(t))throw $e("SC19",{index:t,schema:e});if(Array.isArray(t))for(var r=0;r<t.length;r+=1)if("string"!=typeof t[r])throw $e("SC20",{index:t,schema:e})})}if(Object.keys(e).includes("compoundIndexes"))throw $e("SC25",{schema:e});Object.keys(Nr(e)).map(function(t){var r=t.split(".");return r.pop(),r.join(".")}).filter(function(t){return""!==t}).filter(function(t,r,n){return n.indexOf(t)===r}).filter(function(t){return!!fr().get(e,t).index}).forEach(function(t){throw $e("SC26",{index:li(t=(t=t.replace("properties.","")).replace(/\.properties\./g,".")),schema:e})}),(e.indexes||[]).reduce(function(t,r){return Array.isArray(r)?t.concat(r):t.push(r),t},[]).filter(function(t,r,n){return n.indexOf(t)===r}).map(function(t){var r=wl(t),n=fr().get(e,r);if(!n||"object"!=typeof n)throw $e("SC21",{index:t,schema:e});return{indexPath:t,schemaObj:n}}).filter(function(t){return"string"!==t.schemaObj.type&&"integer"!==t.schemaObj.type&&"number"!==t.schemaObj.type}).forEach(function(t){throw $e("SC22",{key:t.indexPath,type:t.schemaObj.type,schema:e})}),Object.keys(Nr(e)).map(function(t){var r=t.split(".");return r.pop(),r.join(".")}).filter(function(t){return""!==t&&"attachments"!==t}).filter(function(t,r,n){return n.indexOf(t)===r}).filter(function(t){return!!fr().get(e,t).encrypted}).forEach(function(t){throw $e("SC27",{index:li(t=(t=t.replace("properties.","")).replace(/\.properties\./g,".")),schema:e})}),e.encrypted&&e.encrypted.forEach(function(t){var r=wl(t),n=fr().get(e,r);if(!n||"object"!=typeof n)throw $e("SC28",{field:t,schema:e})})},preCreateRxDatabase:function(t){!function(e){if(Cl(e.name),_o(e.name)&&(e.name.endsWith("/")||e.name.endsWith("\\")))throw $e("DB11",{name:e.name})}(t)},preCreateRxCollection:function(t){if(function(e){if(function(){if(!lc){var e=new tu("pseudoInstance","memory"),t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));lc=[].concat(t,r),e.destroy()}return lc}().includes(e.name))throw $e("DB5",{name:e.name});Cl(e.name)}(t),"_"===t.name.charAt(0))throw $e("DB2",{name:t.name});if(!t.schema)throw $e("DB4",{name:t.name,args:t})},preCreateRxQuery:function(t){!function(e){if("[object Object]"!==Object.prototype.toString.call(e.queryObj))throw Ht("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj});var r=["selector","limit","skip","sort"];Object.keys(e.queryObj).forEach(function(n){if(!r.includes(n))throw Ht("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj,key:n})})}(t)},createRxCollection:function(t){dc(t.statics),dc(t.methods),dc(t.attachments),t.schema&&t.migrationStrategies&&function(e,t){if("object"!=typeof t||Array.isArray(t))throw Ht("COL11",{schema:e});var r=function(e){var r=0;return new Array(e.version?e.version:0).fill(0).map(function(){return r++})}(e);if(r.length!==Object.keys(t).length)throw $e("COL12",{have:Object.keys(t),should:r});r.map(function(n){return{v:n,s:t[n+1]}}).filter(function(n){return"function"!=typeof n.s}).forEach(function(n){throw Ht("COL13",{version:n.v,type:typeof n,schema:e})})}(t.schema,t.migrationStrategies)}}},_h=c(7466),Ol=c.n(_h),bh=c(4384),wh=function(t){return function(e,t){return Ol().encrypt(e,t).toString()}(t,this.password)},Ah=function(t){var r=function(e,t){return Ol().decrypt(e,t).toString(bh)}(t,this.password);return r};function hc(){return hc=(0,st.Z)(ze().mark(function e(t){var r,n,i,f;return ze().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(t.password){C.next=2;break}return C.abrupt("return",Lr);case 2:return r=Li(t.password),n="pwHash",C.next=6,Ss(t.localDocumentsStore,n);case 6:if(i=C.sent){C.next=14;break}return f={_id:n,value:r,_attachments:{}},C.next=11,t.localDocumentsStore.bulkWrite([{document:f}]);case 11:case 20:return C.abrupt("return",!0);case 14:if(r===i.value){C.next=20;break}return C.next=17,t.destroy();case 17:throw $e("DB1",{passwordHash:Li(t.password),existingPasswordHash:i.value});case 21:case"end":return C.stop()}},e)})),hc.apply(this,arguments)}var Oh={Crypter:function(t){t._encryptString=wh,t._decryptString=Ah}},Ih={validatePassword:function(t){if(t&&"string"!=typeof t)throw Ht("EN1",{password:t});if(t&&t.length<8)throw $e("EN2",{minPassLength:8,password:t})}},Ph={name:"encryption",rxdb:!0,prototypes:Oh,overwritable:Ih,hooks:{createRxDatabase:function(t){return function(e){return hc.apply(this,arguments)}(t)}}},Th=("undefined"!=typeof AbortController&&AbortController,fetch),nu=Headers;function Sr(e,t){if(e===t)return 0;e=Hi(e),t=Hi(t);var r=vc(e),n=vc(t);if(r-n!=0)return r-n;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var i=Sr(e[n],t[n]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var r=Object.keys(e),n=Object.keys(t),i=Math.min(r.length,n.length),f=0;f<i;f++){var d=Sr(r[f],n[f]);if(0!==d||0!==(d=Sr(e[r[f]],t[n[f]])))return d}return r.length===n.length?0:r.length>n.length?1:-1}(e,t)}function Hi(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var n=0;n<r;n++)e[n]=Hi(t[n])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var i in e={},t)if(t.hasOwnProperty(i)){var f=t[i];void 0!==f&&(e[i]=Hi(f))}}}return e}function gn(e){return vc(e=Hi(e))+""+function(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),r=parseInt(t[1],10),n=e<0,i=n?"0":"2",d=function(e,t,r){var n=function(e,t,r){for(var n="",i=3-e.length;n.length<i;)n+="0";return n}(e);return n+e}(((n?-r:r)- -324).toString());i+=""+d;var C=Math.abs(parseFloat(t[0]));n&&(C=10-C);var U=C.toFixed(20);return i+""+U.replace(/\.?0+$/,"")}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),n=-1,i=r.length,f="";if(t)for(;++n<i;)f+=gn(r[n]);else for(;++n<i;){var d=r[n];f+=gn(d)+gn(e[d])}return f}return""}(e)+"\0"}function kh(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var f="0"===e[t];t++;var d="",C=e.substring(t,t+3),U=parseInt(C,10)+-324;for(f&&(U=-U),t+=3;;){var W=e[t];if("\0"===W)break;d+=W,t++}n=1===(d=d.split(".")).length?parseInt(d,10):parseFloat(d[0]+"."+d[1]),f&&(n-=10),0!==U&&(n=parseFloat(n+"e"+U))}return{num:n,length:t-r}}function Bh(e,t){var r=e.pop();if(t.length){var n=t[t.length-1];r===n.element&&(t.pop(),n=t[t.length-1]);var i=n.element,f=n.index;Array.isArray(i)?i.push(r):f===e.length-2?i[e.pop()]=r:e.push(r)}}function vc(e){var r=["boolean","number","string","object"].indexOf(typeof e);return~r?null===e?1:Array.isArray(e)?5:r<3?r+2:r+3:Array.isArray(e)?5:void 0}function gc(e,t){for(var r=e,n=0,i=t.length;n<i&&(r=r[t[n]]);n++);return r}function zh(e,t,r){for(var n=0,i=t.length;n<i-1;n++){var f=t[n];e=e[f]=e[f]||{}}e[t[i-1]]=r}function yc(e,t){return e<t?-1:e>t?1:0}function zo(e){for(var t=[],r="",n=0,i=e.length;n<i;n++){var f=e[n];"."===f?n>0&&"\\"===e[n-1]?r=r.substring(0,r.length-1)+".":(t.push(r),r=""):r+=f}return t.push(r),t}var Wh=["$or","$nor","$not"];function Tl(e){return Wh.indexOf(e)>-1}function Gr(e){return Object.keys(e)[0]}function _c(e){return e[Gr(e)]}function Wo(e){var t={};return e.forEach(function(r){Object.keys(r).forEach(function(n){var i=r[n];if("object"!=typeof i&&(i={$eq:i}),Tl(n))t[n]=i instanceof Array?i.map(function(d){return Wo([d])}):Wo([i]);else{var f=t[n]=t[n]||{};Object.keys(i).forEach(function(d){var C=i[d];return"$gt"===d||"$gte"===d?function(e,t,r){void 0===r.$eq&&(void 0!==r.$gte?"$gte"===e?t>r.$gte&&(r.$gte=t):t>=r.$gte&&(delete r.$gte,r.$gt=t):void 0!==r.$gt?"$gte"===e?t>r.$gt&&(delete r.$gt,r.$gte=t):t>r.$gt&&(r.$gt=t):r[e]=t)}(d,C,f):"$lt"===d||"$lte"===d?function(e,t,r){void 0===r.$eq&&(void 0!==r.$lte?"$lte"===e?t<r.$lte&&(r.$lte=t):t<=r.$lte&&(delete r.$lte,r.$lt=t):void 0!==r.$lt?"$lte"===e?t<r.$lt&&(delete r.$lt,r.$lte=t):t<r.$lt&&(r.$lt=t):r[e]=t)}(d,C,f):"$ne"===d?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(C,f):"$eq"===d?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(C,f):void(f[d]=C)})}})}),t}function Rl(e){for(var t in e){if(Array.isArray(e))for(var r in e)e[r].$and&&(e[r]=Wo(e[r].$and));var n=e[t];"object"==typeof n&&Rl(n)}return e}function Ml(e,t){for(var r in e){"$and"===r&&(t=!0);var n=e[r];"object"==typeof n&&(t=Ml(n,t))}return t}function bc(e){var t=qt(e),r=!1;Ml(t,!1)&&("$and"in(t=Rl(t))&&(t=Wo(t.$and)),r=!0),["$or","$nor"].forEach(function(C){C in t&&t[C].forEach(function(U){for(var W=Object.keys(U),q=0;q<W.length;q++){var re=W[q],de=U[re];("object"!=typeof de||null===de)&&(U[re]={$eq:de})}})}),"$not"in t&&(t.$not=Wo([t.$not]));for(var n=Object.keys(t),i=0;i<n.length;i++){var f=n[i],d=t[f];"object"!=typeof d||null===d?d={$eq:d}:"$ne"in d&&!r&&(d.$ne=[d.$ne]),t[f]=d}return t}function iu(e,t,r){if(e=e.filter(function(d){return xs(d.doc,t.selector,r)}),t.sort){var n=function(e){function t(r){return e.map(function(n){var f=zo(Gr(n));return gc(r,f)})}return function(r,n){var d=Sr(t(r.doc),t(n.doc));return 0!==d?d:yc(r.doc._id,n.doc._id)}}(t.sort);e=e.sort(n),"string"!=typeof t.sort[0]&&"desc"===_c(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var i=t.skip||0;e=e.slice(i,("limit"in t?t.limit:e.length)+i)}return e}function xs(e,t,r){return r.every(function(n){var i=t[n],f=zo(n),d=gc(e,f);return Tl(n)?function(e,t,r){return"$or"===e?t.some(function(n){return xs(r,n,Object.keys(n))}):"$not"===e?!xs(r,t,Object.keys(t)):!t.find(function(n){return xs(r,n,Object.keys(n))})}(n,i,e):Ec(i,e,f,d)})}function Ec(e,t,r,n){return!e||("object"==typeof e?Object.keys(e).every(function(i){return function(e,t,r,n,i){if(!kl[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return kl[e](t,r,n,i)}(i,t,e[i],r,n)}):e===n)}function $o(e){return null!=e}function Qi(e){return void 0!==e}function xl(e,t){return t.some(function(r){return e instanceof Array?e.indexOf(r)>-1:e===r})}var kl={$elemMatch:function(e,t,r,n){return!(!Array.isArray(n)||0===n.length)&&n.some("object"==typeof n[0]?function(i){return xs(i,t,Object.keys(t))}:function(i){return Ec(t,e,r,i)})},$allMatch:function(e,t,r,n){return!(!Array.isArray(n)||0===n.length)&&n.every("object"==typeof n[0]?function(i){return xs(i,t,Object.keys(t))}:function(i){return Ec(t,e,r,i)})},$eq:function(e,t,r,n){return Qi(n)&&0===Sr(n,t)},$gte:function(e,t,r,n){return Qi(n)&&Sr(n,t)>=0},$gt:function(e,t,r,n){return Qi(n)&&Sr(n,t)>0},$lte:function(e,t,r,n){return Qi(n)&&Sr(n,t)<=0},$lt:function(e,t,r,n){return Qi(n)&&Sr(n,t)<0},$exists:function(e,t,r,n){return t?Qi(n):!Qi(n)},$mod:function(e,t,r,n){return $o(n)&&function(e,t){var r=t[0],n=t[1];if(0===r)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(n,10)!==n)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%r===n}(n,t)},$ne:function(e,t,r,n){return t.every(function(i){return 0!==Sr(n,i)})},$in:function(e,t,r,n){return $o(n)&&xl(n,t)},$nin:function(e,t,r,n){return $o(n)&&!xl(n,t)},$size:function(e,t,r,n){return $o(n)&&function(e,t){return e.length===t}(n,t)},$all:function(e,t,r,n){return Array.isArray(n)&&function(e,t){return t.every(function(r){return e.indexOf(r)>-1})}(n,t)},$regex:function(e,t,r,n){return $o(n)&&function(e,t){return new RegExp(t).test(e)}(n,t)},$type:function(e,t,r,n){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(n,t)}};function ip(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter)return t(new Error('selector invalid for filter "'+("string"==typeof e.filter?e.filter:"function")+'"'));t()}function sp(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=rs(e.view):e.filter=rs(e.filter))}function op(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!Ar(e.db)}function ap(e,t){var r=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var n=Ne(Q,"`view` filter parameter not found or invalid.");return r(n)}var i=ts(t.view);e.db.get("_design/"+i[0],function(d,C){if(e.isCancelled)return r(null,{status:"cancelled"});if(d)return r(Ge(d));var U=C&&C.views&&C.views[i[1]]&&C.views[i[1]].map;if(!U)return r(Ne(s,C.views?"missing json key: "+i[1]:"missing json key: views"));t.filter=function(e){return Gs(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{})}(U),e.doChanges(t)})}else if(t.selector)t.filter=function(d){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=iu([{doc:e}],{selector:t=bc(t)},Object.keys(t));return n&&1===n.length}(d,t.selector)},e.doChanges(t);else{var f=ts(t.filter);e.db.get("_design/"+f[0],function(d,C){if(e.isCancelled)return r(null,{status:"cancelled"});if(d)return r(Ge(d));var U=C&&C.filters&&C.filters[f[1]];if(!U)return r(Ne(s,C&&C.filters?"missing json key: "+f[1]:"missing json key: filters"));t.filter=function(e){return Gs('"use strict";\nreturn '+e+";",{})}(U),e.doChanges(t)})}}function Ko(e,t,r){et().call(this);var n=this;this.db=e;var i=(t=t?qt(t):{}).complete=ei(function(C,U){C?function(e,t){return"listenerCount"in e?e.listenerCount(t):et().listenerCount(e,t)}(n,"error")>0&&n.emit("error",C):n.emit("complete",U),n.removeAllListeners(),e.removeListener("destroyed",f)});function f(){n.cancel()}r&&(n.on("complete",function(C){r(null,C)}),n.on("error",r)),e.once("destroyed",f),t.onChange=function(C,U,W){n.isCancelled||function(e,t,r,n){try{e.emit("change",t,r,n)}catch(i){nt("error",'Error in .on("change", function):',i)}}(n,C,U,W)};var d=new Promise(function(C,U){t.complete=function(W,q){W?U(W):C(q)}});n.once("cancel",function(){e.removeListener("destroyed",f),t.complete(null,{status:"cancelled"})}),this.then=d.then.bind(d),this.catch=d.catch.bind(d),this.then(function(C){i(null,C)},i),e.taskqueue.isReady?n.validateChanges(t):e.taskqueue.addTask(function(C){C?t.complete(C):n.isCancelled?n.emit("cancel"):n.validateChanges(t)})}function fp(e,t,r){var n=[{rev:e._rev}];"all_docs"===r.style&&(n=En(t.rev_tree).map(function(f){return{rev:f.rev}}));var i={id:t.id,changes:n,doc:e};return Xr(t,e._rev)&&(i.deleted=!0),r.conflicts&&(i.doc._conflicts=ii(t),i.doc._conflicts.length||delete i.doc._conflicts),i}function Bl(e,t){return e<t?-1:e>t?1:0}function Sc(e,t){return function(r,n){r||n[0]&&n[0].error?((r=r||n[0]).docId=t,e(r)):e(null,n.length?n[0]:n)}}function hp(e,t){var r=Bl(e._id,t._id);return 0!==r?r:Bl(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function Ll(e){var t=e._compactionQueue[0],r=t.opts,n=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(i){i&&i.last_seq&&(r.last_seq=i.last_seq),e._compact(r,function(f,d){f?n(f):n(null,d),R()(function(){e._compactionQueue.shift(),e._compactionQueue.length&&Ll(e)})})})}function Yt(){for(var e in et().call(this),Yt.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function Vo(){this.isReady=!1,this.failed=!1,this.queue=[]}function Ct(e,t){if(!(this instanceof Ct))return new Ct(e,t);var r=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=qt(t),r.auto_compaction=t.auto_compaction,r.prefix=Ct.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var i=function(e,t){var r=e.match(/([a-z-]*):\/\/(.*)/);if(r)return{name:/https?/.test(r[1])?r[1]+"://"+r[2]:r[2],adapter:r[1]};var n=Ct.adapters,i=Ct.preferredAdapters,f=Ct.prefix,d=t.adapter;if(!d)for(var C=0;C<i.length&&"idb"===(d=i[C])&&"websql"in n&&ie()&&localStorage["_pouch__websqldb_"+f+e];++C)nt("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var U=n[d];return{name:U&&"use_prefix"in U&&!U.use_prefix?e:f+e,adapter:d}}((t.prefix||"")+e,t);if(t.name=i.name,t.adapter=t.adapter||i.adapter,r.name=e,r._adapter=t.adapter,Ct.emit("debug",["adapter","Picked adapter: ",t.adapter]),!Ct.adapters[t.adapter]||!Ct.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);Yt.call(r),r.taskqueue=new Vo,r.adapter=t.adapter,Ct.adapters[t.adapter].call(r,t,function(f){if(f)return r.taskqueue.fail(f);(function(e){function t(n){e.removeListener("closed",r),n||e.constructor.emit("destroyed",e.name)}function r(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",r),e.constructor.emit("ref",e)})(r),r.emit("created",r),Ct.emit("created",r.name),r.taskqueue.ready(r)})}P()(Ko,et()),Ko.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Ko.prototype.validateChanges=function(e){var t=e.complete,r=this;Ct._changesFilterPlugin?Ct._changesFilterPlugin.validate(e,function(n){if(n)return t(n);r.doChanges(e)}):r.doChanges(e)},Ko.prototype.doChanges=function(e){var t=this,r=e.complete;if("live"in(e=qt(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=fp,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(Ct._changesFilterPlugin){if(Ct._changesFilterPlugin.normalize(e),Ct._changesFilterPlugin.shouldFilter(this,e))return Ct._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(f){f in e&&nt("warn",'The "'+f+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=r;var n=this.db._changes(e);if(n&&"function"==typeof n.cancel){var i=t.cancel;t.cancel=p()(function(f){n.cancel(),i.apply(this,f)})}}else this.db.info().then(function(f){t.isCancelled?r(null,{status:"cancelled"}):(e.since=f.update_seq,t.doChanges(e))},r)},P()(Yt,et()),Yt.prototype.post=nr("post",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e))return r(Ne(X));this.bulkDocs({docs:[e]},t,Sc(r,e._id))}),Yt.prototype.put=nr("put",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e))return r(Ne(X));if($s(e._id),ln(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,r):this._putLocal(e,r);var d,C,W,q,n=this;function f(d){"function"==typeof n._put&&!1!==t.new_edits?n._put(e,t,d):n.bulkDocs({docs:[e]},t,Sc(d,e._id))}t.force&&e._rev?(C=(d=e._rev.split("-"))[1],W=parseInt(d[0],10)+1,q=Zs(),e._revisions={start:W,ids:[q,C]},e._rev=W+"-"+q,t.new_edits=!1,f(function(d){r(d,d?null:{ok:!0,id:e._id,rev:e._rev})})):f(r)}),Yt.prototype.putAttachment=nr("putAttachment",function(e,t,r,n,i){var f=this;function d(C){var U="_rev"in C?parseInt(C._rev,10):0;return C._attachments=C._attachments||{},C._attachments[t]={content_type:i,data:n,revpos:++U},f.put(C)}return"function"==typeof i&&(i=n,n=r,r=null),void 0===i&&(i=n,n=r,r=null),i||nt("warn","Attachment",t,"on document",e,"is missing content_type"),f.get(e).then(function(C){if(C._rev!==r)throw Ne(m);return d(C)},function(C){if(C.reason===s.message)return d({_id:e});throw C})}),Yt.prototype.removeAttachment=nr("removeAttachment",function(e,t,r,n){var i=this;i.get(e,function(f,d){if(f)n(f);else{if(d._rev===r)return d._attachments?(delete d._attachments[t],0===Object.keys(d._attachments).length&&delete d._attachments,void i.put(d,n)):n();n(Ne(m))}})}),Yt.prototype.remove=nr("remove",function(e,t,r,n){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof r&&(n=r,r={})):(i=e,"function"==typeof t?(n=t,r={}):(n=r,r=t)),(r=r||{}).was_delete=!0;var f={_id:i._id,_rev:i._rev||r.rev,_deleted:!0};if(ln(f._id)&&"function"==typeof this._removeLocal)return this._removeLocal(i,n);this.bulkDocs({docs:[f]},r,Sc(n,f._id))}),Yt.prototype.revsDiff=nr("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={});var n=Object.keys(e);if(!n.length)return r(null,{});var i=0,f=new E;function d(U,W){f.has(U)||f.set(U,{missing:[]}),f.get(U).missing.push(W)}n.map(function(U){this._getRevisionTree(U,function(W,q){if(W&&404===W.status&&"missing"===W.message)f.set(U,{missing:e[U]});else{if(W)return r(W);!function(U,W){var q=e[U].slice(0);or(W,function(re,de,Ce,he,ee){var fe=de+"-"+Ce,we=q.indexOf(fe);-1!==we&&(q.splice(we,1),"available"!==ee.status&&d(U,fe))}),q.forEach(function(re){d(U,re)})}(U,q)}if(++i===n.length){var re={};return f.forEach(function(de,Ce){re[Ce]=de}),r(null,re)}})},this)}),Yt.prototype.bulkGet=nr("bulkGet",function(e,t){De(this,e,t)}),Yt.prototype.compactDocument=nr("compactDocument",function(e,t,r){var n=this;this._getRevisionTree(e,function(i,f){if(i)return r(i);var d=function(e){var t={},r=[];return or(e,function(n,i,f,d){var C=i+"-"+f;return n&&(t[C]=0),void 0!==d&&r.push({from:d,to:C}),C}),r.reverse(),r.forEach(function(n){t[n.from]=void 0===t[n.from]?1+t[n.to]:Math.min(t[n.from],1+t[n.to])}),t}(f),C=[],U=[];Object.keys(d).forEach(function(W){d[W]>t&&C.push(W)}),or(f,function(W,q,re,de,Ce){var he=q+"-"+re;"available"===Ce.status&&-1!==C.indexOf(he)&&U.push(he)}),n._doCompaction(e,U,r)})}),Yt.prototype.compact=nr("compact",function(e,t){"function"==typeof e&&(t=e,e={});var r=this;e=e||{},r._compactionQueue=r._compactionQueue||[],r._compactionQueue.push({opts:e,callback:t}),1===r._compactionQueue.length&&Ll(r)}),Yt.prototype._compact=function(e,t){var r=this,i=[];r.changes({return_docs:!1,last_seq:e.last_seq||0}).on("change",function(C){i.push(r.compactDocument(C.id,0))}).on("complete",function(C){var U=C.last_seq;Promise.all(i).then(function(){return Ln(r,"_local/compaction",function(q){return(!q.last_seq||q.last_seq<U)&&(q.last_seq=U,q)})}).then(function(){t(null,{ok:!0})}).catch(t)}).on("error",t)},Yt.prototype.get=nr("get",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"string"!=typeof e)return r(Ne(h));if(ln(e)&&"function"==typeof this._getLocal)return this._getLocal(e,r);var n=[],i=this;function f(){var U=[],W=n.length;if(!W)return r(null,U);n.forEach(function(q){i.get(e,{rev:q,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},function(re,de){if(re)U.push({missing:q});else{for(var Ce,he=0,ee=U.length;he<ee;he++)if(U[he].ok&&U[he].ok._rev===de._rev){Ce=!0;break}Ce||U.push({ok:de})}--W||r(null,U)})})}if(!t.open_revs)return this._get(e,t,function(U,W){if(U)return U.docId=e,r(U);var q=W.doc,re=W.metadata,de=W.ctx;if(t.conflicts){var Ce=ii(re);Ce.length&&(q._conflicts=Ce)}if(Xr(re,q._rev)&&(q._deleted=!0),t.revs||t.revs_info){for(var he=q._rev.split("-"),ee=parseInt(he[0],10),fe=he[1],we=Ys(re.rev_tree),Oe=null,be=0;be<we.length;be++){var xe=we[be],Re=xe.ids.map(function(Ft){return Ft.id}).indexOf(fe);(Re===ee-1||!Oe&&-1!==Re)&&(Oe=xe)}if(!Oe)return(U=new Error("invalid rev tree")).docId=e,r(U);var We=Oe.ids.map(function(Ft){return Ft.id}).indexOf(q._rev.split("-")[1])+1;if(Oe.ids.splice(We,Oe.ids.length-We),Oe.ids.reverse(),t.revs&&(q._revisions={start:Oe.pos+Oe.ids.length-1,ids:Oe.ids.map(function(Ft){return Ft.id})}),t.revs_info){var Et=Oe.pos+Oe.ids.length;q._revs_info=Oe.ids.map(function(Ft){return{rev:--Et+"-"+Ft.id,status:Ft.opts.status}})}}if(t.attachments&&q._attachments){var lt=q._attachments,Ot=Object.keys(lt).length;if(0===Ot)return r(null,q);Object.keys(lt).forEach(function(Ft){this._getAttachment(q._id,Ft,lt[Ft],{rev:q._rev,binary:t.binary,ctx:de},function(wt,Mt){var Ut=q._attachments[Ft];Ut.data=Mt,delete Ut.stub,delete Ut.length,--Ot||r(null,q)})},i)}else{if(q._attachments)for(var jt in q._attachments)q._attachments.hasOwnProperty(jt)&&(q._attachments[jt].stub=!0);r(null,q)}});if("all"===t.open_revs)this._getRevisionTree(e,function(U,W){if(U)return r(U);n=En(W).map(function(q){return q.rev}),f()});else{if(!Array.isArray(t.open_revs))return r(Ne(ge,"function_clause"));n=t.open_revs;for(var d=0;d<n.length;d++){var C=n[d];if("string"!=typeof C||!/^\d+-/.test(C))return r(Ne(_e))}f()}}),Yt.prototype.getAttachment=nr("getAttachment",function(e,t,r,n){var i=this;r instanceof Function&&(n=r,r={}),this._get(e,r,function(f,d){return f?n(f):d.doc._attachments&&d.doc._attachments[t]?(r.ctx=d.ctx,r.binary=!0,void i._getAttachment(e,t,d.doc._attachments[t],r,n)):n(Ne(s))})}),Yt.prototype.allDocs=nr("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var r=["startkey","endkey","key"].filter(function(n){return n in e})[0];if(r)return void t(Ne(z,"Query parameter `"+r+"` is not compatible with multi-get"));if(!Ar(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)}),Yt.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new Ko(this,e,t)},Yt.prototype.close=nr("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),Yt.prototype.info=nr("info",function(e){var t=this;this._info(function(r,n){if(r)return e(r);n.db_name=n.db_name||t.name,n.auto_compaction=!(!t.auto_compaction||Ar(t)),n.adapter=t.adapter,e(null,n)})}),Yt.prototype.id=nr("id",function(e){return this._id(e)}),Yt.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Yt.prototype.bulkDocs=nr("bulkDocs",function(e,t,r){if("function"==typeof t&&(r=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return r(Ne(u));for(var n=0;n<e.docs.length;++n)if("object"!=typeof e.docs[n]||Array.isArray(e.docs[n]))return r(Ne(X));var i;if(e.docs.forEach(function(C){C._attachments&&Object.keys(C._attachments).forEach(function(U){i=i||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(U),C._attachments[U].content_type||nt("warn","Attachment",U,"on document",C._id,"is missing content_type")})}),i)return r(Ne(Q,i));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var f=this;!t.new_edits&&!Ar(f)&&e.docs.sort(hp),function(e){for(var t=0;t<e.length;t++){var r=e[t];if(r._deleted)delete r._attachments;else if(r._attachments)for(var n=Object.keys(r._attachments),i=0;i<n.length;i++){var f=n[i];r._attachments[f]=_n(r._attachments[f],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var d=e.docs.map(function(C){return C._id});return this._bulkDocs(e,t,function(C,U){if(C)return r(C);if(t.new_edits||(U=U.filter(function(re){return re.error})),!Ar(f))for(var W=0,q=U.length;W<q;W++)U[W].id=U[W].id||d[W];r(null,U)})}),Yt.prototype.registerDependentDatabase=nr("registerDependentDatabase",function(e,t){var r=new this.constructor(e,this.__opts);Ln(this,"_local/_pouch_dependentDbs",function(i){return i.dependentDbs=i.dependentDbs||{},!i.dependentDbs[e]&&(i.dependentDbs[e]=!0,i)}).then(function(){t(null,{db:r})}).catch(t)}),Yt.prototype.destroy=nr("destroy",function(e,t){"function"==typeof e&&(t=e,e={});var r=this,n=!("use_prefix"in r)||r.use_prefix;function i(){r._destroy(e,function(f,d){if(f)return t(f);r._destroyed=!0,r.emit("destroyed"),t(null,d||{ok:!0})})}if(Ar(r))return i();r.get("_local/_pouch_dependentDbs",function(f,d){if(f)return 404!==f.status?t(f):i();var U=r.constructor,W=Object.keys(d.dependentDbs).map(function(q){var re=n?q.replace(new RegExp("^"+U.prefix),""):q;return new U(re,r.__opts).destroy()});Promise.all(W).then(i,t)})}),Vo.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},Vo.prototype.fail=function(e){this.failed=e,this.execute()},Vo.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},Vo.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},P()(Ct,Yt),Ct.adapters={},Ct.preferredAdapters=[],Ct.prefix="_pouch_";var Fl=new(et());(function(e){Object.keys(et().prototype).forEach(function(r){"function"==typeof et().prototype[r]&&(e[r]=Fl[r].bind(Fl))});var t=e._destructionListeners=new E;e.on("ref",function(n){t.has(n.name)||t.set(n.name,[]),t.get(n.name).push(n)}),e.on("unref",function(n){if(t.has(n.name)){var i=t.get(n.name),f=i.indexOf(n);f<0||(i.splice(f,1),i.length>1?t.set(n.name,i):t.delete(n.name))}}),e.on("destroyed",function(n){if(t.has(n)){var i=t.get(n);t.delete(n),i.forEach(function(f){f.emit("destroyed",!0)})}})})(Ct),Ct.adapter=function(e,t,r){t.valid()&&(Ct.adapters[e]=t,r&&Ct.preferredAdapters.push(e))},Ct.plugin=function(e){if("function"==typeof e)e(Ct);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){Ct.prototype[t]=e[t]})}return this.__defaults&&(Ct.__defaults=Bn({},this.__defaults)),Ct},Ct.defaults=function(e){function t(r,n){if(!(this instanceof t))return new t(r,n);n=n||{},r&&"object"==typeof r&&(r=(n=r).name,delete n.name),n=Bn({},t.__defaults,n),Ct.call(this,r,n)}return P()(t,Ct),t.preferredAdapters=Ct.preferredAdapters.slice(),Object.keys(Ct).forEach(function(r){r in t||(t[r]=Ct[r])}),t.__defaults=Bn({},this.__defaults,e),t},Ct.fetch=function(e,t){return Th(e,t)},Ct.plugin(function(e){e._changesFilterPlugin={validate:ip,normalize:sp,shouldFilter:op,filter:ap}}),Ct.version="7.2.2";const su=Ct;function Gi(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Gi)}catch{}}function wc(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,wc)}catch{}}function Ac(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Ac)}catch{}}function Nl(e,t){return t&&e.then(function(r){R()(function(){t(null,r)})},function(r){R()(function(){t(r)})}),e}function Cc(e,t){return function(){var r=arguments,n=this;return e.add(function(){return t.apply(n,r)})}}function jl(e){var t=new S(e),r=new Array(t.size),n=-1;return t.forEach(function(i){r[++n]=i}),r}function Dc(e){var t=new Array(e.size),r=-1;return e.forEach(function(n,i){t[++r]=i}),t}function Ho(){this.promise=new Promise(function(e){e()})}function Ul(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function zl(e,t,r,n,i,f){var C,d=function(e,t){return Ul(e)+Ul(t)+"undefined"}(r,n);if(!i&&(C=e._cachedViews=e._cachedViews||{})[d])return C[d];var U=e.info().then(function(W){var q=W.db_name+"-mrview-"+(i?"temp":Di(d));return Ln(e,"_local/"+f,function(de){de.views=de.views||{};var Ce=t;-1===Ce.indexOf("/")&&(Ce=t+"/"+t);var he=de.views[Ce]=de.views[Ce]||{};if(!he[q])return he[q]=!0,de}).then(function(){return e.registerDependentDatabase(q).then(function(de){var Ce=de.db;Ce.auto_compaction=!0;var he={name:q,db:Ce,sourceDB:e,adapter:e.adapter,mapFun:r,reduceFun:n};return he.db.get("_local/lastSeq").catch(function(ee){if(404!==ee.status)throw ee}).then(function(ee){return he.seq=ee?ee.seq:0,C&&he.db.once("destroyed",function(){delete C[d]}),he})})})});return C&&(C[d]=U),U}P()(Gi,Error),P()(wc,Error),P()(Ac,Error),Ho.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},Ho.prototype.finish=function(){return this.promise};var Wl={},$l=new Ho;function Oc(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Vl(e,t){try{e.emit("error",t)}catch{nt("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),nt("error",t)}}function Hl(e){return(e=qt(e)).index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function Qo(e,t,r,n){var i,f;r.headers=new nu({"Content-type":"application/json"}),e.fetch(t,r).then(function(d){return i=d.status,f=d.ok,d.json()}).then(function(d){if(f)n(null,d);else{d.status=i;var C=Ge(d);n(C)}}).catch(n)}function Op(e,t,r){t=Hl(t),Qo(e,"_index",{method:"POST",body:JSON.stringify(t)},r)}function Ip(e,t,r){Qo(e,"_find",{method:"POST",body:JSON.stringify(t)},r)}function Pp(e,t,r){Qo(e,"_explain",{method:"POST",body:JSON.stringify(t)},r)}function Tp(e,t){Qo(e,"_index",{method:"GET"},t)}function Rp(e,t,r){var n=t.ddoc,f=t.name;return n?f?void Qo(e,"_index/"+[n,t.type||"json",f].map(encodeURIComponent).join("/"),{method:"DELETE"},r):r(new Error("you must provide an index's name")):r(new Error("you must provide an index's ddoc"))}function Ql(e){return function(){for(var t=arguments.length,r=new Array(t),n=-1;++n<t;)r[n]=arguments[n];return e.call(this,r)}}function Go(e){return Ql(function(t){var r=t.pop(),n=e.apply(this,t);return function(e,t){e.then(function(r){R()(function(){t(null,r)})},function(r){R()(function(){t(r)})})}(n,r),n})}var Ic=Ql(function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];Array.isArray(i)?t=t.concat(Ic.apply(null,i)):t.push(i)}return t});function Pc(e){for(var t={},r=0,n=e.length;r<n;r++)t=Bn(t,e[r]);return t}function Gl(e,t){for(var r=0,n=Math.min(e.length,t.length);r<n;r++)if(e[r]!==t[r])return!1;return!0}function Zl(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}var Gp=function(e,t,r,n){function i(Pe,Me,Fe){try{Me(Fe)}catch(Je){Vl(Pe,Je)}}function f(Pe,Me,Fe,Je,Ve){try{return{output:Me(Fe,Je,Ve)}}catch(Xe){return Vl(Pe,Xe),{error:Xe}}}function d(Pe,Me){var Fe=Sr(Pe.key,Me.key);return 0!==Fe?Fe:Sr(Pe.value,Me.value)}function C(Pe,Me,Fe){return Fe=Fe||0,"number"==typeof Me?Pe.slice(Fe,Me+Fe):Fe>0?Pe.slice(Fe):Pe}function U(Pe){var Me=Pe.value;return Me&&"object"==typeof Me&&Me._id||Pe.id}function q(Pe){return function(Me){return Pe.include_docs&&Pe.attachments&&Pe.binary&&function(Pe){Pe.rows.forEach(function(Me){var Fe=Me.doc&&Me.doc._attachments;!Fe||Object.keys(Fe).forEach(function(Je){var Ve=Fe[Je];Fe[Je].data=je(Ve.data,Ve.content_type)})})}(Me),Me}}function re(Pe,Me,Fe,Je){var Ve=Me[Pe];void 0!==Ve&&(Je&&(Ve=encodeURIComponent(JSON.stringify(Ve))),Fe.push(Pe+"="+Ve))}function de(Pe){if(void 0!==Pe){var Me=Number(Pe);return isNaN(Me)||Me!==parseInt(Pe,10)?Pe:Me}}function ee(Pe,Me){var Fe=Pe.descending?"endkey":"startkey",Je=Pe.descending?"startkey":"endkey";if(void 0!==Pe[Fe]&&void 0!==Pe[Je]&&Sr(Pe[Fe],Pe[Je])>0)throw new Gi("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(Me.reduce&&!1!==Pe.reduce){if(Pe.include_docs)throw new Gi("{include_docs:true} is invalid for reduce");if(Pe.keys&&Pe.keys.length>1&&!Pe.group&&!Pe.group_level)throw new Gi("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(Ve){var Xe=function(Pe){if(Pe){if("number"!=typeof Pe)return new Gi('Invalid value for integer: "'+Pe+'"');if(Pe<0)return new Gi('Invalid value for positive integer: "'+Pe+'"')}}(Pe[Ve]);if(Xe)throw Xe})}function be(Pe){return function(Me){if(404===Me.status)return Pe;throw Me}}function He(Pe){var Me="string"==typeof Pe?Pe:Pe.name,Fe=Wl[Me];return Fe||(Fe=Wl[Me]=new Ho),Fe}function We(Pe){return Cc(He(Pe),function(){return function(Pe){var Me,Fe;var Ve=t(Pe.mapFun,function(ht,Dt){var Qt={id:Fe._id,key:Hi(ht)};null!=Dt&&(Qt.value=Hi(Dt)),Me.push(Qt)}),Xe=Pe.seq||0;function it(ht,Dt){return function(){return function(Pe,Me,Fe){var Je="_local/lastSeq";return Pe.db.get(Je).catch(be({_id:Je,seq:0})).then(function(Ve){var Xe=Dc(Me);return Promise.all(Xe.map(function(it){return function(Pe,Me,Fe){var Je="_local/doc_"+Pe,Ve={_id:Je,keys:[]},Xe=Fe.get(Pe),it=Xe[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(Xe[1])?Promise.resolve(Ve):Me.db.get(Je).catch(be(Ve))).then(function(Ye){return function(Ye){return Ye.keys.length?Me.db.allDocs({keys:Ye.keys,include_docs:!0}):Promise.resolve({rows:[]})}(Ye).then(function(ht){return function(Ye,ht){for(var Dt=[],Qt=new S,Kt=0,zt=ht.rows.length;Kt<zt;Kt++){var sr=ht.rows[Kt].doc;if(sr&&(Dt.push(sr),Qt.add(sr._id),sr._deleted=!it.has(sr._id),!sr._deleted)){var on=it.get(sr._id);"value"in on&&(sr.value=on.value)}}var Yr=Dc(it);return Yr.forEach(function(ea){if(!Qt.has(ea)){var ta={_id:ea},_f=it.get(ea);"value"in _f&&(ta.value=_f.value),Dt.push(ta)}}),Ye.keys=jl(Yr.concat(Ye.keys)),Dt.push(Ye),Dt}(Ye,ht)})})}(it,Pe,Me)})).then(function(it){var mt=zs(it);return Ve.seq=Fe,mt.push(Ve),Pe.db.bulkDocs({docs:mt})})})}(Pe,ht,Dt)}}var mt=new Ho;function at(){return Pe.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:Xe,limit:50}).then(gt)}function gt(ht){var Dt=ht.results;if(Dt.length){var Qt=function(ht){for(var Dt=new E,Qt=0,Kt=ht.length;Qt<Kt;Qt++){var zt=ht[Qt];if("_"!==zt.doc._id[0]){Me=[],(Fe=zt.doc)._deleted||i(Pe.sourceDB,Ve,Fe),Me.sort(d);var Vt=Ye(Me);Dt.set(zt.doc._id,[Vt,zt.changes])}Xe=zt.seq}return Dt}(Dt);if(mt.add(it(Qt,Xe)),!(Dt.length<50))return at()}}function Ye(ht){for(var Qt,Dt=new E,Kt=0,zt=ht.length;Kt<zt;Kt++){var Vt=ht[Kt],sr=[Vt.key,Vt.id];Kt>0&&0===Sr(Vt.key,Qt)&&sr.push(Kt),Dt.set(gn(sr),Vt),Qt=Vt.key}return Dt}return at().then(function(){return mt.finish()}).then(function(){Pe.seq=Xe})}(Pe)})()}function lt(Pe,Me){return Cc(He(Pe),function(){return function(Pe,Me){var Fe,Je=Pe.reduceFun&&!1!==Me.reduce,Ve=Me.skip||0;function Xe(Kt){return Kt.include_docs=!0,Pe.db.allDocs(Kt).then(function(zt){return Fe=zt.total_rows,zt.rows.map(function(Vt){if("value"in Vt.doc&&"object"==typeof Vt.doc.value&&null!==Vt.doc.value){var sr=Object.keys(Vt.doc.value).sort(),on=["id","key","value"];if(!(sr<on||sr>on))return Vt.doc.value}var Yr=function(e){for(var t=[],r=[],n=0;;){var i=e[n++];if("\0"!==i)switch(i){case"1":t.push(null);break;case"2":t.push("1"===e[n]),n++;break;case"3":var f=kh(e,n);t.push(f.num),n+=f.length;break;case"4":for(var d="";;){var C=e[n];if("\0"===C)break;d+=C,n++}d=d.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(d);break;case"5":var U={element:[],index:t.length};t.push(U.element),r.push(U);break;case"6":var W={element:{},index:t.length};t.push(W.element),r.push(W);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}else{if(1===t.length)return t.pop();Bh(t,r)}}}(Vt.doc._id);return{key:Yr[0],id:Yr[1],value:"value"in Vt.doc?Vt.doc.value:null}})})}function it(Kt){var zt;if(zt=Je?function(Pe,Me,Fe){0===Fe.group_level&&delete Fe.group_level;var Je=Fe.group||Fe.group_level,Ve=r(Pe.reduceFun),Xe=[],it=isNaN(Fe.group_level)?Number.POSITIVE_INFINITY:Fe.group_level;Me.forEach(function(Ye){var ht=Xe[Xe.length-1],Dt=Je?Ye.key:null;if(Je&&Array.isArray(Dt)&&(Dt=Dt.slice(0,it)),ht&&0===Sr(ht.groupKey,Dt))return ht.keys.push([Ye.key,Ye.id]),void ht.values.push(Ye.value);Xe.push({keys:[[Ye.key,Ye.id]],values:[Ye.value],groupKey:Dt})}),Me=[];for(var mt=0,at=Xe.length;mt<at;mt++){var gt=Xe[mt],dt=f(Pe.sourceDB,Ve,gt.keys,gt.values,!1);if(dt.error&&dt.error instanceof Ac)throw dt.error;Me.push({value:dt.error?null:dt.output,key:gt.groupKey})}return{rows:C(Me,Fe.limit,Fe.skip)}}(Pe,Kt,Me):{total_rows:Fe,offset:Ve,rows:Kt},Me.update_seq&&(zt.update_seq=Pe.seq),Me.include_docs){var Vt=jl(Kt.map(U));return Pe.sourceDB.allDocs({keys:Vt,include_docs:!0,conflicts:Me.conflicts,attachments:Me.attachments,binary:Me.binary}).then(function(sr){var on=new E;return sr.rows.forEach(function(Yr){on.set(Yr.id,Yr.doc)}),Kt.forEach(function(Yr){var ea=U(Yr),ta=on.get(ea);ta&&(Yr.doc=ta)}),zt})}return zt}if(void 0!==Me.keys&&!Me.keys.length&&(Me.limit=0,delete Me.keys),void 0!==Me.keys){var at=Me.keys.map(function(Kt){var zt={startkey:gn([Kt]),endkey:gn([Kt,{}])};return Me.update_seq&&(zt.update_seq=!0),Xe(zt)});return Promise.all(at).then(zs).then(it)}var dt,Ye,gt={descending:Me.descending};if(Me.update_seq&&(gt.update_seq=!0),"start_key"in Me&&(dt=Me.start_key),"startkey"in Me&&(dt=Me.startkey),"end_key"in Me&&(Ye=Me.end_key),"endkey"in Me&&(Ye=Me.endkey),void 0!==dt&&(gt.startkey=gn(Me.descending?[dt,{}]:[dt])),void 0!==Ye){var ht=!1!==Me.inclusive_end;Me.descending&&(ht=!ht),gt.endkey=gn(ht?[Ye,{}]:[Ye])}if(void 0!==Me.key){var Dt=gn([Me.key]),Qt=gn([Me.key,{}]);gt.descending?(gt.endkey=Dt,gt.startkey=Qt):(gt.startkey=Dt,gt.endkey=Qt)}return Je||("number"==typeof Me.limit&&(gt.limit=Me.limit),gt.skip=Ve),Xe(gt).then(it)}(Pe,Me)})()}var Ut=function(e){return p()(function(t){var r=t.pop(),n=e.apply(this,t);return"function"==typeof r&&Nl(n,r),n})}(function(){var Pe=this;return"function"==typeof Pe._viewCleanup?function(Pe){return new Promise(function(Me,Fe){Pe._viewCleanup(function(Je,Ve){if(Je)return Fe(Je);Me(Ve)})})}(Pe):Ar(Pe)?function(Pe){return Pe.fetch("_view_cleanup",{headers:new nu({"Content-Type":"application/json"}),method:"POST"}).then(function(Me){return Me.json()})}(Pe):function(Pe){return Pe.get("_local/"+e).then(function(Me){var Fe=new E;Object.keys(Me.views).forEach(function(Ve){var Xe=Oc(Ve),it="_design/"+Xe[0],mt=Xe[1],at=Fe.get(it);at||(at=new S,Fe.set(it,at)),at.add(mt)});var Je={keys:Dc(Fe),include_docs:!0};return Pe.allDocs(Je).then(function(Ve){var Xe={};Ve.rows.forEach(function(at){var gt=at.key.substring(8);Fe.get(at.key).forEach(function(dt){var Ye=gt+"/"+dt;Me.views[Ye]||(Ye=dt);var ht=Object.keys(Me.views[Ye]),Dt=at.doc&&at.doc.views&&at.doc.views[dt];ht.forEach(function(Qt){Xe[Qt]=Xe[Qt]||Dt})})});var mt=Object.keys(Xe).filter(function(at){return!Xe[at]}).map(function(at){return Cc(He(at),function(){return new Pe.constructor(at,Pe.__opts).destroy()})()});return Promise.all(mt).then(function(){return{ok:!0}})})},be({ok:!0}))}(Pe)});return{query:function(Pe,Me,Fe){var Je=this;"function"==typeof Me&&(Fe=Me,Me={}),Me=Me?function(Pe){return Pe.group_level=de(Pe.group_level),Pe.limit=de(Pe.limit),Pe.skip=de(Pe.skip),Pe}(Me):{},"function"==typeof Pe&&(Pe={map:Pe});var Ve=Promise.resolve().then(function(){return function(Pe,Me,Fe){if("function"==typeof Pe._query)return function(Pe,Me,Fe){return new Promise(function(Je,Ve){Pe._query(Me,Fe,function(Xe,it){if(Xe)return Ve(Xe);Je(it)})})}(Pe,Me,Fe);if(Ar(Pe))return function(Pe,Me,Fe){var Ve,it,mt,Je=[],Xe="GET";if(re("reduce",Fe,Je),re("include_docs",Fe,Je),re("attachments",Fe,Je),re("limit",Fe,Je),re("descending",Fe,Je),re("group",Fe,Je),re("group_level",Fe,Je),re("skip",Fe,Je),re("stale",Fe,Je),re("conflicts",Fe,Je),re("startkey",Fe,Je,!0),re("start_key",Fe,Je,!0),re("endkey",Fe,Je,!0),re("end_key",Fe,Je,!0),re("inclusive_end",Fe,Je),re("key",Fe,Je,!0),re("update_seq",Fe,Je),Je=""===(Je=Je.join("&"))?"":"?"+Je,void 0!==Fe.keys){var gt="keys="+encodeURIComponent(JSON.stringify(Fe.keys));gt.length+Je.length+1<=2e3?Je+=("?"===Je[0]?"&":"?")+gt:(Xe="POST","string"==typeof Me?Ve={keys:Fe.keys}:Me.keys=Fe.keys)}if("string"==typeof Me){var dt=Oc(Me);return Pe.fetch("_design/"+dt[0]+"/_view/"+dt[1]+Je,{headers:new nu({"Content-Type":"application/json"}),method:Xe,body:JSON.stringify(Ve)}).then(function(Ye){return it=Ye.ok,mt=Ye.status,Ye.json()}).then(function(Ye){if(!it)throw Ye.status=mt,Ge(Ye);return Ye.rows.forEach(function(ht){if(ht.value&&ht.value.error&&"builtin_reduce_error"===ht.value.error)throw new Error(ht.reason)}),Ye}).then(q(Fe))}return Ve=Ve||{},Object.keys(Me).forEach(function(Ye){Ve[Ye]=Array.isArray(Me[Ye])?Me[Ye]:Me[Ye].toString()}),Pe.fetch("_temp_view"+Je,{headers:new nu({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(Ve)}).then(function(Ye){return it=Ye.ok,mt=Ye.status,Ye.json()}).then(function(Ye){if(!it)throw Ye.status=mt,Ge(Ye);return Ye}).then(q(Fe))}(Pe,Me,Fe);if("string"!=typeof Me)return ee(Fe,Me),$l.add(function(){return zl(Pe,"temp_view/temp_view",Me.map,Me.reduce,!0,e).then(function(at){return function(e,t){return e.then(function(r){return t().then(function(){return r})},function(r){return t().then(function(){throw r})})}(We(at).then(function(){return lt(at,Fe)}),function(){return at.db.destroy()})})}),$l.finish();var Je=Me,Ve=Oc(Je),it=Ve[1];return Pe.get("_design/"+Ve[0]).then(function(mt){var at=mt.views&&mt.views[it];if(!at)throw new wc("ddoc "+mt._id+" has no view named "+it);return n(mt,it),ee(Fe,at),zl(Pe,Je,at.map,at.reduce,!1,e).then(function(dt){return"ok"===Fe.stale||"update_after"===Fe.stale?("update_after"===Fe.stale&&R()(function(){We(dt)}),lt(dt,Fe)):We(dt).then(function(){return lt(dt,Fe)})})})}(Je,Pe,Me)});return Nl(Ve,Fe),Ve},viewCleanup:Ut}}("indexes",function(e,t){return function(e,t){var r=function(e){for(var t=0,r=e.length;t<r;t++)if(-1!==e[t].indexOf("."))return!1;return!0}(e),n=1===e.length;return r?n?function(e,t){return function(r){t(r[e])}}(e[0],t):function(e,t){return function(r){for(var n=[],i=0,f=e.length;i<f;i++)n.push(r[e[i]]);t(n)}}(e,t):n?function(e,t){var r=zo(e);return function(n){for(var i=n,f=0,d=r.length;f<d;f++)if(void 0===(i=i[r[f]]))return;t(i)}}(e[0],t):function(e,t){return function(r){for(var n=[],i=0,f=e.length;i<f;i++){for(var d=zo(e[i]),C=r,U=0,W=d.length;U<W;U++)if(void 0===(C=C[d[U]]))return;n.push(C)}t(n)}}(e,t)}(Object.keys(e.fields),t)},function(){throw new Error("reduce not supported")},function(e,t){var r=e.views[t];if(!r.map||!r.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")});function Tc(e){return e._customFindAbstractMapper||Gp}function Yl(e){return e.fields=e.fields.map(function(t){if("string"==typeof t){var r={};return r[t]="asc",r}return t}),e}function Jp(e,t){for(var r=[],n=0;n<t.def.fields.length;n++){var i=Gr(t.def.fields[n]);r.push(e[i])}return r}function Jl(e){return e.allDocs({startkey:"_design/",endkey:"_design/\uffff",include_docs:!0}).then(function(t){var r={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return r.indexes=Ic(r.indexes,t.rows.filter(function(n){return"query"===n.doc.language}).map(function(n){return(void 0!==n.doc.views?Object.keys(n.doc.views):[]).map(function(f){return{ddoc:n.id,name:f,type:"json",def:Yl(n.doc.views[f].options.def)}})})),r.indexes.sort(function(n,i){return yc(n.name,i.name)}),r.total_rows=r.indexes.length,r})}var Rc={"\uffff":{}};const sm={queryOpts:{limit:0,startkey:Rc,endkey:null},inMemoryFields:[]};function om(e,t){for(var r=e.def.fields.map(Gr),n=0,i=r.length;n<i;n++)if(t===r[n])return!0;return!1}function am(e,t){return"$eq"!==Gr(e[t])}function Xl(e,t){var r=t.def.fields.map(Gr);return e.slice().sort(function(n,i){var f=r.indexOf(n),d=r.indexOf(i);return-1===f&&(f=Number.MAX_VALUE),-1===d&&(d=Number.MAX_VALUE),yc(f,d)})}function lm(e,t,r,n){var i=Ic(e,function(e,t,r){for(var n=!1,i=0,f=(r=Xl(r,e)).length;i<f;i++){var d=r[i];if(n||!om(e,d))return r.slice(i);i<f-1&&am(t,d)&&(n=!0)}return[]}(t,r,n),function(e){var t=[];return Object.keys(e).forEach(function(r){Object.keys(e[r]).forEach(function(i){"$ne"===i&&t.push(r)})}),t}(r));return Xl(function(e){for(var t={},r=0;r<e.length;r++)t["$"+e[r]]=!0;return Object.keys(t).map(function(n){return n.substring(1)})}(i),t)}var dm=["$eq","$gt","$gte","$lt","$lte"];function ql(e){return-1===dm.indexOf(e)}function pm(e,t,r,n){var i=e.def.fields.map(Gr);return!!function(e,t,r){if(t){var n=function(e,t){return!(e.length>t.length)&&Gl(e,t)}(t,e),i=Gl(r,e);return n&&i}return function(e,t){e=e.slice();for(var r=0,n=t.length;r<n;r++){var i=t[r];if(!e.length)break;var f=e.indexOf(i);if(-1===f)return!1;e.splice(f,1)}return!0}(r,e)}(i,t,r)&&function(e,t){var n=t[e[0]];return void 0===n||!(1===Object.keys(n).length&&"$ne"===Gr(n))}(i,n)}function _m(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function Am(e,t){var r=e.selector,n=e.sort;if(function(e){return Object.keys(e).map(function(r){return e[r]}).some(function(r){return"object"==typeof r&&0===Object.keys(r).length})}(r))return Bn({},sm,{index:t[0]});var i=function(e,t){var i,r=Object.keys(e),n=t?t.map(Gr):[];return i=r.length>=n.length?r:n,0===n.length?{fields:i}:{fields:i=i.sort(function(f,d){var C=n.indexOf(f);-1===C&&(C=Number.MAX_VALUE);var U=n.indexOf(d);return-1===U&&(U=Number.MAX_VALUE),C<U?-1:C>U?1:0}),sortOrder:t.map(Gr)}}(r,n),f=i.fields,C=function(e,t,r,n,i){var f=function(e,t,r,n){return n.filter(function(i){return pm(i,r,t,e)})}(e,t,r,n);if(0===f.length){if(i)throw{error:"no_usable_index",message:"There is no index available for this selector."};var d=n[0];return d.defaultUsed=!0,d}if(1===f.length&&!i)return f[0];var C=function(e){for(var t={},r=0,n=e.length;r<n;r++)t[e[r]]=!0;return t}(t);if(i){var W="_design/"+i[0],q=2===i.length&&i[1],re=f.find(function(de){return!!(q&&de.ddoc===W&&q===de.name||de.ddoc===W)});if(!re)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return re}return function(e,t){for(var r=null,n=-1,i=0,f=e.length;i<f;i++){var d=e[i],C=t(d);C>n&&(n=C,r=d)}return r}(f,function(de){for(var Ce=de.def.fields.map(Gr),he=0,ee=0,fe=Ce.length;ee<fe;ee++)C[Ce[ee]]&&he++;return he})}(r,f,i.sortOrder,t,e.use_index),U=function(e,t){return t.defaultUsed?function(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}(e):1===t.def.fields.length?function(e,t){var d,r=Gr(t.def.fields[0]),n=e[r]||{},i=[];return Object.keys(n).forEach(function(C){ql(C)&&i.push(r);var W=function(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}return{startkey:null}}(C,n[C]);d=d?Pc([d,W]):W}),{queryOpts:d,inMemoryFields:i}}(e,t):function(e,t){var d,C,r=t.def.fields.map(Gr),n=[],i=[],f=[];function U(Et){!1!==d&&i.push(null),!1!==C&&f.push(Rc),n=r.slice(Et)}for(var W=0,q=r.length;W<q;W++){var de=e[r[W]];if(!de||!Object.keys(de).length){U(W);break}if(Object.keys(de).some(ql)){U(W);break}if(W>0){var Ce="$gt"in de||"$gte"in de||"$lt"in de||"$lte"in de,he=Object.keys(e[r[W-1]]),ee=Zl(he,["$eq"]),fe=Zl(he,Object.keys(de));if(Ce&&!ee&&!fe){U(W);break}}for(var Oe=Object.keys(de),be=null,xe=0;xe<Oe.length;xe++){var Re=Oe[xe],We=_m(Re,de[Re]);be=be?Pc([be,We]):We}i.push("startkey"in be?be.startkey:null),f.push("endkey"in be?be.endkey:Rc),"inclusive_start"in be&&(d=be.inclusive_start),"inclusive_end"in be&&(C=be.inclusive_end)}var Ke={startkey:i,endkey:f};return void 0!==d&&(Ke.inclusive_start=d),void 0!==C&&(Ke.inclusive_end=C),{queryOpts:Ke,inMemoryFields:n}}(e,t)}(r,C);return{queryOpts:U.queryOpts,index:C,inMemoryFields:lm(U.inMemoryFields,C,r,f)}}function ef(e,t,r){return t.selector&&(t.selector=bc(t.selector)),t.sort&&(t.sort=function(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(t){if("string"==typeof t){var r={};return r[t]="asc",r}return t})}(t.sort)),t.use_index&&(t.use_index=function(e){var t=[];return"string"==typeof e?t.push(e):t=e,t.map(function(r){return r.replace("_design/","")})}(t.use_index)),function(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}(t),Jl(e).then(function(n){e.constructor.emit("debug",["find","planning query",t]);var i=Am(t,n.indexes);e.constructor.emit("debug",["find","query plan",i]);var f=i.index;!function(e,t){if(t.defaultUsed&&e.sort){var r=e.sort.filter(function(n){return"_id"!==Object.keys(n)[0]}).map(function(n){return Object.keys(n)[0]});if(r.length>0)throw new Error('Cannot sort on field(s) "'+r.join(",")+'" when using the default index')}}(t,f);var d=Bn({include_docs:!0,reduce:!1,indexes_count:n.total_rows},i.queryOpts);return"startkey"in d&&"endkey"in d&&Sr(d.startkey,d.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===_c(t.sort[0])&&(d.descending=!0,d=function(e){var t=qt(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}(d)),i.inMemoryFields.length||("limit"in t&&(d.limit=t.limit),"skip"in t&&(d.skip=t.skip)),r?Promise.resolve(i,d):Promise.resolve().then(function(){if("_all_docs"===f.name)return function(e,t){var r=qt(t);return r.descending?("endkey"in r&&"string"!=typeof r.endkey&&(r.endkey=""),"startkey"in r&&"string"!=typeof r.startkey&&(r.limit=0)):("startkey"in r&&"string"!=typeof r.startkey&&(r.startkey=""),"endkey"in r&&"string"!=typeof r.endkey&&(r.limit=0)),"key"in r&&"string"!=typeof r.key&&(r.limit=0),r.limit>0&&r.indexes_count&&(r.original_limit=r.limit,r.limit+=r.indexes_count),e.allDocs(r).then(function(n){return n.rows=n.rows.filter(function(i){return!/^_design\//.test(i.id)}),r.original_limit&&(r.limit=r.original_limit),n.rows=n.rows.slice(0,r.limit),n})}(e,d);var U=function(e){return e.ddoc.substring(8)+"/"+e.name}(f);return Tc(e).query.call(e,U,d)}).then(function(U){!1===d.inclusive_start&&(U.rows=function(e,t,r){for(var n=r.def.fields,i=0,f=e.length;i<f;i++){var C=Jp(e[i].doc,r);if(1===n.length)C=C[0];else for(;C.length>t.length;)C.pop();if(Math.abs(Sr(C,t))>0)break}return i>0?e.slice(i):e}(U.rows,d.startkey,f)),i.inMemoryFields.length&&(U.rows=iu(U.rows,t,i.inMemoryFields));var W={docs:U.rows.map(function(q){var re=q.doc;return t.fields?function(e,t){for(var r={},n=0,i=t.length;n<i;n++){var f=zo(t[n]),d=gc(e,f);void 0!==d&&zh(r,f,d)}return r}(re,t.fields):re})};return f.defaultUsed&&(W.warning="No matching index found, create an index to optimize query time."),W}))})}var Pm=Go(function(e,t){var n,r=qt((t=Hl(t)).index);function i(){return n||(n=Di(JSON.stringify(t)))}t.index=Yl(t.index),function(e){var t=e.fields.filter(function(r){return"asc"===_c(r)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}(t.index);var f=t.name||"idx-"+i(),d=t.ddoc||"idx-"+i(),C="_design/"+d,U=!1,W=!1;return e.constructor.emit("debug",["find","creating index",C]),Ln(e,C,function(re){return re._rev&&"query"!==re.language&&(U=!0),re.language="query",re.views=re.views||{},!(W=!!re.views[f])&&(re.views[f]={map:{fields:Pc(t.index.fields)},reduce:"_count",options:{def:r}},re)}).then(function(){if(U)throw new Error('invalid language for ddoc with id "'+C+'" (should be "query")')}).then(function(){var re=d+"/"+f;return Tc(e).query.call(e,re,{limit:0,reduce:!1}).then(function(){return{id:C,name:f,result:W?"exists":"created"}})})}),Tm=Go(ef),Rm=Go(function(e,t){return ef(e,t,!0).then(function(r){return{dbname:e.name,index:r.index,selector:t.selector,range:{start_key:r.queryOpts.startkey,end_key:r.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}})}),Mm=Go(Jl),xm=Go(function(e,t){if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var r=t.ddoc,n=t.name;return Ln(e,r,function(f){return 1===Object.keys(f.views).length&&f.views[n]?{_id:r,_deleted:!0}:(delete f.views[n],f)}).then(function(){return Tc(e).viewCleanup.apply(e)}).then(function(){return{ok:!0}})}),ks={};ks.createIndex=zr(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));(Ar(this)?Op:Pm)(this,e,t)}),ks.find=zr(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));(Ar(this)?Ip:Tm)(this,e,t)}),ks.explain=zr(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to explain()"));(Ar(this)?Pp:Rm)(this,e,t)}),ks.getIndexes=zr(function(e){(Ar(this)?Tp:Mm)(this,e)}),ks.deleteIndex=zr(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));(Ar(this)?Rp:xm)(this,e,t)});const km=ks;var tf=!1,rf=new Map;function nf(e){var t=[e.name,e.adapter].join("|"),r=rf.get(t);return r||(r={subject:new Pn.x,obliviousSet:new Yu(6e4)},rf.set(t,r)),r}var Bm=0;function sf(e){if(e.rxdb)throw Ht("PL2",{plugin:e});"object"==typeof e&&e.default&&(e=e.default),su.plugin(e)}sf(km),function(){if(!tf){tf=!0;var e=su.prototype.bulkDocs,t=function(){var r=(0,st.Z)(ze().mark(function n(i,f,d){var U,W,q,re,de,Ce,ee,C=this;return ze().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if(U=$r(),W=Bm++,"function"==typeof f&&(d=f,f={}),f||(f={}),Array.isArray(i)?q=i:void 0===i?q=[]:(q=i.docs,i.hasOwnProperty("new_edits")&&(f.new_edits=i.new_edits)),0!==q.length){we.next=7;break}throw $e("SNH",{args:{body:i,options:f}});case 7:if(re=new Map,!f.hasOwnProperty("new_edits")||!1!==f.new_edits){we.next=18;break}return de=q.map(function(Oe){return Oe._id}),we.next=12,this.changes({live:!1,since:0,doc_ids:de,style:"all_docs"});case 12:return Ce=we.sent,we.next=15,Promise.all(Ce.results.map(function(){var Oe=(0,st.Z)(ze().mark(function be(xe){return ze().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:return We.next=2,C.get(xe.id,{rev:xe.changes[0].rev,deleted:"ok",revs:!!f.set_new_edit_as_latest_revision,style:"all_docs"});case 2:return We.abrupt("return",We.sent);case 4:case"end":return We.stop()}},be)}));return function(be){return Oe.apply(this,arguments)}}()));case 15:we.sent.forEach(function(Oe){return re.set(Oe._id,Oe)}),f.set_new_edit_as_latest_revision&&q.forEach(function(Oe){var xe=re.get(Oe._id);if(xe){var Re=Oe._rev.split("-"),He=parseInt(Re[0],10),We=Re[1];Oe._revisions={start:He,ids:xe._revisions.ids},Oe._revisions.ids.unshift(We),delete xe._revisions}});case 18:return(ee=Wt(f)).isDeeper=!0,we.abrupt("return",e.call(this,q,ee,function(Oe,be){if(Oe){if(!d)throw Oe;d(Oe)}else{if(!f.isDeeper){var xe=$r(),Re={emitId:W,writeDocs:q,writeOptions:f,writeResult:be,previousDocs:re,startTime:U,endTime:xe};nf(C).subject.next(Re)}if(!d)return be;d(null,be)}}));case 21:case"end":return we.stop()}},n,this)}));return function(i,f,d){return r.apply(this,arguments)}}();su.plugin({bulkDocs:t})}}();var Zo=su,Bs=new Set,au="_local/",af="_design/";function uf(e){return new Promise(function(t){xn(e,function(r){t("md5-"+r)})})}function cf(e,t){return"_id"===e||t[e]||((t=Wt(t))[e]=t._id,delete t._id),t}function yn(e,t){var r=cf(e,t);return delete(r=Wt(r))._revisions,r._attachments={},t._attachments&&Object.entries(t._attachments).forEach(function(n){var f=n[1];r._attachments[n[0]]=f.data?{data:f.data,type:f.type?f.type:f.content_type}:{digest:f.digest,type:f.type?f.type:f.content_type,length:f.length}}),r}function lf(e,t){var r=Mc(e,t);return(r=Wt(r))._attachments={},t._attachments&&Object.entries(t._attachments).forEach(function(n){var f=n[1];r._attachments[n[0]]=f.data?{data:f.data,content_type:f.type}:{digest:f.digest,content_type:f.type,length:f.length,stub:!0}}),r}function Mc(e,t){if("_id"===e)return t;var r=t[e],n=Wt(t);return delete n[e],n._id=r,n}function Nm(e){return e.substring(au.length)}function ff(e,t,r){if(!t)throw new Error("primary missing !!");return(e?"local":"non-local")+"|"+t+"|"+r}function jm(e,t){if(!t)throw $e("SNH",{args:{pouchDoc:t}});var r=t._id,n=yn(e,t),i=$n(n._rev);return t._deleted?{operation:"DELETE",id:r,doc:null,previous:n}:1===i?{operation:"INSERT",id:r,doc:n,previous:null}:{operation:"UPDATE",id:r,doc:n,previous:"UNKNOWN"}}function xc(e,t){if("_id"===t)return e;if(Array.isArray(e))return e.map(function(n){return xc(n,t)});if("object"==typeof e){var r={};return Object.entries(e).forEach(function(n){var i=n[0],f=n[1];i===t?r._id=f:r[i]=i.startsWith("$")?xc(f,t):f}),r}return e}function Yo(e){return kc.apply(this,arguments)}function kc(){return kc=(0,st.Z)(ze().mark(function e(t){var r;return ze().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(t){i.next=2;break}return i.abrupt("return",{});case 2:return r={},i.next=5,Promise.all(Object.entries(t).map(function(){var f=(0,st.Z)(ze().mark(function d(C){var U,W,q,re;return ze().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(U=C[0],(W=C[1]).type){ee.next=3;break}throw $e("SNH",{args:{obj:W}});case 3:if(!W.data){ee.next=15;break}return q=W,ee.next=7,uf(q.data);case 7:return re=ee.sent,ee.next=10,gs_toString(q.data);case 10:r[U]={digest:re,length:ee.sent.length,type:q.type},ee.next=16;break;case 15:r[U]=W;case 16:case"end":return ee.stop()}},d)}));return function(d){return f.apply(this,arguments)}}()));case 5:return i.abrupt("return",r);case 6:case"end":return i.stop()}},e)})),kc.apply(this,arguments)}var Um=function(){function e(r,n,i,f,d){var C=this;this.changes$=new Pn.x,this.subs=[],this.databaseName=r,this.collectionName=n,this.schema=i,this.internals=f,this.options=d,Bs.add(this),this.primaryPath=H(this.schema.primaryKey);var U=nf(this.internals.pouch);this.emittedEventIds=U.obliviousSet;var W=U.subject.subscribe(function(){var q=(0,st.Z)(ze().mark(function re(de){var Ce,he;return ze().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(!de.writeOptions.hasOwnProperty("new_edits")||de.writeOptions.new_edits){fe.next=4;break}return fe.next=3,Promise.all(de.writeDocs.map(function(){var we=(0,st.Z)(ze().mark(function Oe(be){var xe,Re,He;return ze().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:return xe=be._id,be=yn(C.primaryPath,be),Ke.next=4,Yo(be._attachments);case 4:if(be._attachments=Ke.sent,(Re=de.previousDocs.get(xe))&&(Re=yn(C.primaryPath,Re)),!(Re&&$n(Re._rev)>$n(be._rev))){Ke.next=9;break}return Ke.abrupt("return");case 9:if(Re||!be._deleted){Ke.next=11;break}return Ke.abrupt("return");case 11:if(!(Re&&Re._deleted&&be._deleted)){Ke.next=13;break}return Ke.abrupt("return");case 13:if(Re&&!Re._deleted||be._deleted){Ke.next=17;break}He={operation:"INSERT",doc:be,id:xe,previous:null},Ke.next=27;break;case 17:if(!be._deleted||!Re||Re._deleted){Ke.next=22;break}Re._rev=be._rev,He={operation:"DELETE",doc:null,id:xe,previous:Re},Ke.next=27;break;case 22:if(!Re){Ke.next=26;break}He={operation:"UPDATE",doc:be,id:xe,previous:Re},Ke.next=27;break;case 26:throw $e("SNH",{args:{writeDoc:be}});case 27:C.addEventToChangeStream(He,de.startTime,de.endTime);case 28:case"end":return Ke.stop()}},Oe)}));return function(Oe){return we.apply(this,arguments)}}()));case 3:case 9:return fe.abrupt("return");case 4:if(de.writeOptions.custom){fe.next=10;break}return Ce=new Map,de.writeDocs.forEach(function(we){return Ce.set(we._id,we)}),fe.next=9,Promise.all(de.writeResult.map(function(){var we=(0,st.Z)(ze().mark(function Oe(be){var xe,Re,He;return ze().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:if(!(xe=be.id).startsWith(af)&&!xe.startsWith(au)){Ke.next=3;break}return Ke.abrupt("return");case 3:return Re=_t(Ce,be.id),Ke.next=6,Yo(Re._attachments);case 6:Re._attachments=Ke.sent,(Re=Wt(Re))._rev=be.rev,He=jm(C.primaryPath,Re),C.addEventToChangeStream(He);case 11:case"end":return Ke.stop()}},Oe)}));return function(Oe){return we.apply(this,arguments)}}()));case 10:return he=de.writeOptions.custom.writeRowById,fe.next=13,Promise.all(de.writeResult.map(function(){var we=(0,st.Z)(ze().mark(function Oe(be){var xe,Re,He,We,Ke;return ze().wrap(function(lt){for(;;)switch(lt.prev=lt.next){case 0:if(!be.error){lt.next=2;break}return lt.abrupt("return");case 2:return Re=_t(he,xe=be.id),He=yn(C.primaryPath,Re.document),lt.next=7,Yo(He._attachments);case 7:if(He._attachments=lt.sent,He._rev=be.rev,Re.previous&&!Re.previous._deleted){lt.next=13;break}We={operation:"INSERT",doc:He,id:xe,previous:null},lt.next=23;break;case 13:if(!Re.document._deleted){lt.next=22;break}return Ke=yn(C.primaryPath,Re.previous),lt.next=17,Yo(Ke._attachments);case 17:Ke._attachments=lt.sent,Ke._rev=be.rev,We={operation:"DELETE",doc:null,id:be.id,previous:Ke},lt.next=23;break;case 22:We={operation:"UPDATE",doc:He,id:be.id,previous:Re.previous};case 23:Re.document._deleted&&(!Re.previous||Re.previous._deleted)||C.addEventToChangeStream(We,de.startTime,de.endTime);case 24:case"end":return lt.stop()}},Oe)}));return function(Oe){return we.apply(this,arguments)}}()));case 13:case"end":return fe.stop()}},re)}));return function(re){return q.apply(this,arguments)}}());this.subs.push(W)}var t=e.prototype;return t.addEventToChangeStream=function(n,i,f){var d="DELETE"===n.operation?n.previous:n.doc,U=d[H(this.schema.primaryKey)],W=ff(!1,U,d._rev);this.emittedEventIds.has(W)||(this.emittedEventIds.add(W),this.changes$.next({eventId:W,documentId:U,change:n,startTime:i,endTime:f}))},t.close=function(){return this.subs.forEach(function(n){return n.unsubscribe()}),Bs.delete(this),en},t.remove=function(){var r=(0,st.Z)(ze().mark(function i(){return ze().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return this.subs.forEach(function(C){return C.unsubscribe()}),Bs.delete(this),d.next=4,this.internals.pouch.destroy();case 4:case"end":return d.stop()}},i,this)}));return function(){return r.apply(this,arguments)}}(),t.getSortComparator=function(n){var i,f=this,d=H(this.schema.primaryKey),C=n.sort?n.sort:[(i={},i[d]="asc",i)],U=Object.keys(n.selector).filter(function(q){return!q.startsWith("$")});return function(re,de){if(re[d]===de[d])throw $e("SNH",{args:{a:re,b:de},primaryPath:d});var Ce=[re,de].map(function(ee){return{doc:Mc(f.primaryPath,ee)}}),he=iu(Ce,{selector:{},sort:C},U);if(2!==he.length)throw $e("SNH",{query:n,primaryPath:f.primaryPath,args:{rows:Ce,sortedRows:he}});return he[0].doc._id===Ce[0].doc._id?-1:1}},t.getQueryMatcher=function(n){var i=this,f=bc(n.selector);return function(U){var re=iu([{doc:Mc(i.primaryPath,U)}],{selector:f},Object.keys(n.selector));return re&&1===re.length}},t.prepareQuery=function(n){var i=this,f=H(this.schema.primaryKey),d=n;if(d.sort&&d.sort.forEach(function(U){var W=Object.keys(U)[0],q=["$gt","$gte","$lt","$lte"];if(!d.selector[W]||!Object.keys(d.selector[W]).some(function(Ce){return q.includes(Ce)})){var de=vi(i.schema,W);if(!de)throw $e("QU5",{query:d,key:W});switch(d.selector[W]||(d.selector[W]={}),de.type){case"number":case"integer":d.selector[W].$gt=-1e28;break;case"string":"string"!=typeof d.selector[W]&&(d.selector[W].$gt="");break;default:d.selector[W].$gt=null}}}),d.selector[f]&&d.selector[f].$regex)throw $e("QU4",{path:f,query:n});if(d.sort){var C=d.sort.map(function(U){var W,q=Object.keys(U)[0],re=Object.values(U)[0];return(W={})[q===f?"_id":q]=re,W});d.sort=C}return Object.entries(d.selector).forEach(function(U){var W=U[0],q=U[1];"object"==typeof q&&null!==q&&!Array.isArray(q)&&0===Object.keys(q).length&&delete d.selector[W]}),d.selector=xc(d.selector,this.primaryPath),d},t.bulkAddRevisions=function(){var r=(0,st.Z)(ze().mark(function i(f){var C,d=this;return ze().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(0!==f.length){W.next=2;break}throw $e("P3",{args:{documents:f}});case 2:return C=f.map(function(q){return lf(d.primaryPath,q)}),W.next=5,this.internals.pouch.bulkDocs(C,{new_edits:!1,set_new_edit_as_latest_revision:!0});case 5:case"end":return W.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.bulkWrite=function(){var r=(0,st.Z)(ze().mark(function i(f){var C,U,W,q,d=this;return ze().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(0!==f.length){de.next=2;break}throw $e("P2",{args:{documentWrites:f}});case 2:return C=new Map,U=f.map(function(Ce){C.set(Ce.document[d.primaryPath],Ce);var ee=lf(d.primaryPath,Ce.document);return Ce.previous&&(ee._rev=Ce.previous._rev),ee}),de.next=6,this.internals.pouch.bulkDocs(U,{custom:{writeRowById:C}});case 6:return W=de.sent,q={success:new Map,error:new Map},de.next=10,Promise.all(W.map(function(){var Ce=(0,st.Z)(ze().mark(function he(ee){var fe,Oe;return ze().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(fe=_t(C,ee.id),!ee.error){xe.next=6;break}q.error.set(ee.id,{isError:!0,status:409,documentId:ee.id,writeRow:fe}),xe.next=18;break;case 6:if(Oe=Wt(fe.document),(Oe=cf(d.primaryPath,Oe))._rev=ee.rev,Oe._attachments={},fe.document._attachments){xe.next=14;break}fe.document._attachments={},xe.next=17;break;case 14:return xe.next=16,Yo(fe.document._attachments);case 16:Oe._attachments=xe.sent;case 17:q.success.set(ee.id,Oe);case 18:case"end":return xe.stop()}},he)}));return function(he){return Ce.apply(this,arguments)}}()));case 10:return de.abrupt("return",q);case 11:case"end":return de.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.query=function(){var r=(0,st.Z)(ze().mark(function i(f){var U,d=this;return ze().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,this.internals.pouch.find(f);case 2:return U={documents:q.sent.docs.map(function(re){return yn(d.primaryPath,re)})},q.abrupt("return",U);case 5:case"end":return q.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.getAttachmentData=function(){var r=(0,st.Z)(ze().mark(function i(f,d){return ze().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this.internals.pouch.getAttachment(f,d);case 2:return W.abrupt("return",W.sent);case 4:case"end":return W.stop()}},i,this)}));return function(i,f){return r.apply(this,arguments)}}(),t.findDocumentsById=function(){var r=(0,st.Z)(ze().mark(function i(f,d){var U,W,q,re,C=this;return ze().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:if(!d){Ce.next=8;break}return Ce.next=3,this.internals.pouch.changes({live:!1,since:0,doc_ids:f,style:"all_docs"});case 3:return U=Ce.sent,W=new Map,Ce.next=7,Promise.all(U.results.map(function(){var he=(0,st.Z)(ze().mark(function ee(fe){var Oe;return ze().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return xe.next=2,C.internals.pouch.get(fe.id,{rev:fe.changes[0].rev,deleted:"ok",style:"all_docs"});case 2:Oe=yn(C.primaryPath,xe.sent),W.set(fe.id,Oe);case 5:case"end":return xe.stop()}},ee)}));return function(ee){return he.apply(this,arguments)}}()));case 7:return Ce.abrupt("return",W);case 8:return Ce.next=10,this.internals.pouch.allDocs({include_docs:!0,keys:f});case 10:return q=Ce.sent,re=new Map,q.rows.filter(function(he){return!!he.doc}).forEach(function(he){var ee=he.doc;ee=yn(C.primaryPath,ee),re.set(he.id,ee)}),Ce.abrupt("return",re);case 14:case"end":return Ce.stop()}},i,this)}));return function(i,f){return r.apply(this,arguments)}}(),t.changeStream=function(){return this.changes$.asObservable()},t.getChangedDocuments=function(){var r=(0,st.Z)(ze().mark(function i(f){var d,C,U;return ze().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return d={live:!1,limit:f.limit,include_docs:!1,since:f.sinceSequence,descending:"before"===f.direction},re.next=3,this.internals.pouch.changes(d);case 3:return U=(C=re.sent).results.filter(function(de){return!de.id.startsWith(af)}).map(function(de){return{id:de.id,sequence:de.seq}}),re.abrupt("return",{changedDocuments:U,lastSequence:C.last_seq});case 7:case"end":return re.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),e}(),zm=function(){function e(r,n,i,f){this.changes$=new Pn.x,this.databaseName=r,this.collectionName=n,this.internals=i,this.options=f,Bs.add(this)}var t=e.prototype;return t.close=function(){return Bs.delete(this),en},t.remove=function(){var r=(0,st.Z)(ze().mark(function i(){return ze().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return Bs.delete(this),d.next=3,this.internals.pouch.destroy();case 3:case"end":return d.stop()}},i,this)}));return function(){return r.apply(this,arguments)}}(),t.bulkWrite=function(){var r=(0,st.Z)(ze().mark(function i(f){var C,U,W,q,re,de,d=this;return ze().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(0!==f.length){he.next=2;break}throw $e("P2",{args:{documentWrites:f}});case 2:return C=new Map,U=f.map(function(ee){C.set(ee.document._id,ee);var fe=Wt(ee.document);return fe._id=au+fe._id,ee.previous&&(fe._rev=ee.previous._rev),fe}),W=$r(),he.next=7,this.internals.pouch.bulkDocs(U);case 7:return q=he.sent,re=$r(),de={success:new Map,error:new Map},q.forEach(function(ee){ee.id=Nm(ee.id);var fe=_t(C,ee.id);if(ee.error)de.error.set(ee.id,{isError:!0,status:409,documentId:ee.id,writeRow:fe});else{var be,Oe=Wt(fe.document);if(Oe._rev=ee.rev,Oe._attachments={},de.success.set(ee.id,Oe),fe.previous)if(fe.document._deleted){var xe=Wt(fe.previous);xe._rev=ee.rev,be={operation:"DELETE",doc:null,id:ee.id,previous:xe}}else be={operation:"UPDATE",doc:Oe,id:ee.id,previous:fe.previous};else be={operation:"INSERT",doc:Oe,id:ee.id,previous:null};if(!fe.document._deleted||fe.previous&&!fe.previous._deleted){var Re="DELETE"===be.operation?be.previous:be.doc,He=ff(!0,Re._id,Re._rev?Re._rev:"");d.changes$.next({eventId:He,documentId:ee.id,change:be,startTime:W,endTime:re})}}}),he.abrupt("return",de);case 12:case"end":return he.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.findLocalDocumentsById=function(){var r=(0,st.Z)(ze().mark(function i(f){var C,d=this;return ze().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return C=new Map,W.next=3,Promise.all(f.map(function(){var q=(0,st.Z)(ze().mark(function re(de){var Ce,he;return ze().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return Ce=au+de,fe.prev=1,fe.next=4,d.internals.pouch.get(Ce);case 4:(he=fe.sent)._id=de,C.set(de,he),fe.next=11;break;case 9:fe.prev=9,fe.t0=fe.catch(1);case 11:case"end":return fe.stop()}},re,null,[[1,9]])}));return function(re){return q.apply(this,arguments)}}()));case 3:return W.abrupt("return",C);case 4:case"end":return W.stop()}},i)}));return function(i){return r.apply(this,arguments)}}(),t.changeStream=function(){return this.changes$.asObservable()},e}(),Wm=function(){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.name="pouchdb",this.adapter=r,this.pouchSettings=n,$m(r)}var t=e.prototype;return t.hash=function(n){return uf(n)},t.createPouch=function(){var r=(0,st.Z)(ze().mark(function i(f,d){var C,U,W;return ze().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return C={location:f,adapter:wn(this.adapter),settings:d},U=Object.assign({},C.adapter,this.pouchSettings,C.settings),W=new Zo(C.location,U),re.abrupt("return",W);case 4:case"end":return re.stop()}},i,this)}));return function(i,f){return r.apply(this,arguments)}}(),t.createStorageInstance=function(){var r=(0,st.Z)(ze().mark(function i(f){var d,C;return ze().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return d=df(f.databaseName,f.collectionName,f.schema.version),W.next=3,this.createPouch(d,f.options);case 3:return C=W.sent,W.next=6,Km(C,f.schema);case 6:return W.abrupt("return",new Um(f.databaseName,f.collectionName,f.schema,{pouch:C},f.options));case 7:case"end":return W.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.createKeyObjectStorageInstance=function(){var r=(0,st.Z)(ze().mark(function i(f){var d,C;return ze().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return(d=Wt(f.options)).auto_compaction=!1,d.revs_limit=1,C=df(f.databaseName,f.collectionName,0),q.next=6,this.createPouch(C,f.options);case 6:return q.abrupt("return",new zm(f.databaseName,f.collectionName,{pouch:q.sent},f.options));case 8:case"end":return q.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),e}();function $m(e){if("string"==typeof e){if(!Zo.adapters||!Zo.adapters[e])throw $e("DB9",{adapter:e})}else if(function(e){if(!e||"function"!=typeof e.super_)throw $e("UT4",{adapter:e})}(e),!Zo.adapters||!Zo.adapters.leveldb)throw $e("DB10",{adapter:e})}function Km(e,t){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,st.Z)(ze().mark(function e(t,r){var n,f;return ze().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(r.indexes){C.next=2;break}return C.abrupt("return");case 2:return n=H(r.primaryKey),C.next=5,t.getIndexes();case 5:return f=new Set(C.sent.indexes.map(function(U){return U.name})),C.next=9,Promise.all(r.indexes.map(function(){var U=(0,st.Z)(ze().mark(function W(q){var re,de;return ze().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(re=(re=Array.isArray(q)?q:[q]).map(function(ee){return ee===n?"_id":ee}),de="idx-rxdb-index-"+re.join(","),!f.has(de)){he.next=5;break}return he.abrupt("return");case 5:return he.abrupt("return",t.createIndex({name:de,ddoc:de,index:{fields:re}}));case 6:case"end":return he.stop()}},W)}));return function(W){return U.apply(this,arguments)}}()));case 9:case"end":return C.stop()}},e)})),Bc.apply(this,arguments)}function df(e,t,r){var n=e+"-rxdb-"+r+"-";if(t.includes("/")){var i=t.split("/"),f=i.pop();return i.join("/")+"/"+n+f}return n+t}function Vm(e,t){if(!e)throw new Error("adapter missing");return new Wm(e,t)}var Hm=["__proto__","constructor","prototype"];function Jo(e,t){Object.keys(t).forEach(function(r){Hm.includes(r)||(void 0===e[r]?e[r]=t[r]:Xo(t[r])?Jo(e[r],t[r]):e[r]=t[r])})}function Xo(e){return"[object Object]"===e.toString()}var uu=function(){function e(r){if(this.options={},this._conditions={},this._fields={},r){var n=this;r.selector&&n.find(r.selector),r.limit&&n.limit(r.limit),r.skip&&n.skip(r.skip),r.sort&&r.sort.forEach(function(i){return n.sort(i)})}}var t=e.prototype;return t.where=function(n,i){if(!arguments.length)return this;var f=typeof arguments[0];if("string"===f)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"===f&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw Ht("MQ1",{path:arguments[0]})},t.equals=function(n){return this._ensurePath("equals"),this._conditions[this._path]=n,this},t.eq=function(n){return this._ensurePath("eq"),this._conditions[this._path]=n,this},t.or=function(n){var i=this._conditions.$or||(this._conditions.$or=[]);return Array.isArray(n)||(n=[n]),i.push.apply(i,n),this},t.nor=function(n){var i=this._conditions.$nor||(this._conditions.$nor=[]);return Array.isArray(n)||(n=[n]),i.push.apply(i,n),this},t.and=function(n){var i=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(n)||(n=[n]),i.push.apply(i,n),this},t.mod=function(n,i){var f,d;1===arguments.length?(this._ensurePath("mod"),f=arguments[0],d=this._path):2!==arguments.length||Array.isArray(arguments[1])?3===arguments.length?(f=arguments.slice(1),d=arguments[0]):(f=arguments[1],d=arguments[0]):(this._ensurePath("mod"),f=arguments.slice(),d=this._path);var C=this._conditions[d]||(this._conditions[d]={});return C.$mod=f,this},t.exists=function(n,i){var f,d;0===arguments.length?(this._ensurePath("exists"),f=this._path,d=!0):1===arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),f=this._path,d=arguments[0]):(f=arguments[0],d=!0):2===arguments.length&&(f=arguments[0],d=arguments[1]);var C=this._conditions[f]||(this._conditions[f]={});return C.$exists=d,this},t.elemMatch=function(n,i){if(null===arguments[0])throw Ht("MQ2");var f,d,C;if("function"==typeof arguments[0])this._ensurePath("elemMatch"),d=this._path,f=arguments[0];else if(Xo(arguments[0]))this._ensurePath("elemMatch"),d=this._path,C=arguments[0];else if("function"==typeof arguments[1])d=arguments[0],f=arguments[1];else{if(!arguments[1]||!Xo(arguments[1]))throw Ht("MQ2");d=arguments[0],C=arguments[1]}f&&(f(C=new e),C=C._conditions);var U=this._conditions[d]||(this._conditions[d]={});return U.$elemMatch=C,this},t.sort=function(n){var i=this;if(!n)return this;var f,d=typeof n;if(Array.isArray(n)){f=n.length;for(var C=0;C<n.length;++C)Gm(this.options,n[C][0],n[C][1]);return this}if(1===arguments.length&&"string"===d){f=(n=n.split(/\s+/)).length;for(var U=0;U<f;++U){var W=n[U];if(W){var q="-"===W[0]?-1:1;-1===q&&(W=W.substring(1)),mf(this.options,W,q)}}return this}if(Xo(n)){var re=Object.keys(n);return re.forEach(function(de){return mf(i.options,de,n[de])}),this}throw Ht("MQ3",{args:arguments})},t.merge=function(n){if(!n)return this;if(!vf(n))throw Ht("MQ4",{source:n});return n instanceof e?(n._conditions&&Jo(this._conditions,n._conditions),n._fields&&(this._fields||(this._fields={}),Jo(this._fields,n._fields)),n.options&&(this.options||(this.options={}),Jo(this.options,n.options)),n._distinct&&(this._distinct=n._distinct),this):(Jo(this._conditions,n),this)},t.find=function(n){return vf(n)&&this.merge(n),this},t._ensurePath=function(n){if(!this._path)throw $e("MQ5",{method:n})},t.toJSON=function(){var n={selector:this._conditions};return this.options.skip&&(n.skip=this.options.skip),this.options.limit&&(n.limit=this.options.limit),this.options.sort&&(n.sort=function(e){return Object.entries(e).map(function(t){var r;return(r={})[t[0]]=1===t[1]?"asc":"desc",r})}(this.options.sort)),{query:n,path:this._path}},e}(),hf=["limit","skip","maxScan","batchSize","comment"];hf.forEach(function(e){uu.prototype[e]=function(t){return this.options[e]=t,this}});var pf=["gt","gte","lt","lte","ne","in","nin","all","regex","size"];function mf(e,t,r){if(Array.isArray(e.sort))throw Ht("MQ6",{opts:e,field:t,value:r});if(r&&r.$meta)(e.sort||(e.sort={}))[t]={$meta:r.$meta};else{var i=String(r||1).toLowerCase();if(!/^(?:ascending|asc|descending|desc|1|-1)$/.test(i))throw Array.isArray(r)&&(r="["+r+"]"),Ht("MQ7",{field:t,value:r});var f=e.sort||(e.sort={}),d=r.toString().replace("asc","1").replace("ascending","1").replace("desc","-1").replace("descending","-1");f[t]=parseInt(d,10)}}function Gm(e,t,r){if(e.sort=e.sort||[],!Array.isArray(e.sort))throw Ht("MQ8",{opts:e,field:t,value:r});e.sort.push([t,r])}function vf(e){return e instanceof uu||Xo(e)}pf.forEach(function(e){uu.prototype[e]=function(){var t,r;1===arguments.length?(this._ensurePath(e),r=arguments[0],t=this._path):(r=arguments[1],t=arguments[0]);var n=null===this._conditions[t]||"object"==typeof this._conditions[t]?this._conditions[t]:this._conditions[t]={};return n["$"+e]=r,this}});var Lc="queryBuilderPath";function Fc(e,t){e[t]=function(r){return function(e,t,r){var n=function(e){return new uu(e)}(ar(e.mangoQuery));e.other[Lc]&&(n._path=e.other[Lc]),n[t](r);var i=n.toJSON(),f=new Ja(e.op,i.query,e.collection);return i.path&&(f.other[Lc]=i.path),tl(f)}(this,t,r)}}var Jm={name:"query-builder",rxdb:!0,prototypes:{RxQuery:function(t){["where","equals","eq","or","nor","and","mod","exists","elemMatch","sort"].forEach(function(r){Fc(t,r)}),hf.forEach(function(r){Fc(t,r)}),pf.forEach(function(r){Fc(t,r)})}}},Xm=c(9790),qm=c.n(Xm);function ev(e){var t=this._data,r=qm()(t,e);return this._saveData(r,t)}function tv(e){return this.exec().then(function(t){return t?Array.isArray(t)?Promise.all(t.map(function(r){return r.update(e)})).then(function(){return t}):t.update(e).then(function(){return t}):null})}var nv={RxDocument:function(t){t.update=ev},RxQuery:function(t){t.update=tv}},iv={name:"update",rxdb:!0,prototypes:nv},sv=c(8167),ov=c.n(sv),Nc=new Map;function jc(e){var t=e.hash;if(!Nc.has(t)){var r=ov()(e.jsonSchema);Nc.set(t,r)}return Nc.get(t)}var lu,av=function(t){var r=jc(this);if(r(t))return t;throw $e("VD2",{errors:r.errors,obj:t,schema:this.jsonSchema})},lv={RxSchema:function(t){t._getValidator=jc,t.validate=av}},fv={createRxSchema:function(t){"object"==typeof window&&window.requestIdleCallback&&window.requestIdleCallback(function(){jc(t)})}},dv={name:"validate",rxdb:!0,prototypes:lv,hooks:fv},Jt=c(3900),sn=c(2843),wi=c(9646),cu=c(9770),Jn=c(2076),qo=c(4128),hv=new Uint8Array(16);function pv(){if(!lu&&!(lu="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return lu(hv)}const mv=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,gv=function(e){return"string"==typeof e&&mv.test(e)};for(var wr=[],Uc=0;Uc<256;++Uc)wr.push((Uc+256).toString(16).substr(1));const Ev=function(e,t,r){var n=(e=e||{}).random||(e.rng||pv)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(wr[e[t+0]]+wr[e[t+1]]+wr[e[t+2]]+wr[e[t+3]]+"-"+wr[e[t+4]]+wr[e[t+5]]+"-"+wr[e[t+6]]+wr[e[t+7]]+"-"+wr[e[t+8]]+wr[e[t+9]]+"-"+wr[e[t+10]]+wr[e[t+11]]+wr[e[t+12]]+wr[e[t+13]]+wr[e[t+14]]+wr[e[t+15]]).toLowerCase();if(!gv(r))throw TypeError("Stringified UUID is invalid");return r}(n)};let Sv=(()=>{class e{constructor(){this.isInitialized=!1}initialize(r){this.isInitialized?console.warn("PermissionsService already initialized"):(this.collection=r,this.isInitialized=!0)}requestPermissions(r){return(0,cu.P)(()=>this.isInitialized&&this.collection?(0,Jn.D)(this.collection.bulkInsert(r)).pipe((0,$t.U)(({success:n})=>!!n)):(0,sn._)(()=>new Error("PermissionsService not initialized")))}hasPermission(r){return(0,cu.P)(()=>{if(!this.isInitialized||!this.collection)return(0,sn._)(()=>new Error("PermissionsService not initialized"));const n=this.collection.findOne({selector:{id:`${r.appId}:${r.kind}:${r.mode}:${r.target}`}});return(0,Jn.D)(n.exec()).pipe((0,$t.U)(i=>!!i))})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Zr=c(899);class wv{constructor(t,r,n){this.appId=t,this.collection=r,this.acl=n}insert(t){return this.requestPermission(Zr.R.Write).pipe((0,Jt.w)(()=>this.collection.insert(t)),(0,$t.U)(r=>r.toJSON()))}upsert(t){return this.requestPermission(Zr.R.Write).pipe((0,Jt.w)(()=>this.collection.upsert(t)),(0,$t.U)(r=>r.toJSON()))}findOne(t){return this.requestPermission(Zr.R.Read).pipe((0,Jt.w)(()=>this.collection.findOne(t).exec()),(0,$t.U)(r=>r?r.toJSON():null))}find(t){return this.requestPermission(Zr.R.Read).pipe((0,Jt.w)(()=>this.collection.find(t).exec()),(0,$t.U)(r=>r.map(n=>n.toJSON())))}observe(t){return this.requestPermission(Zr.R.Read).pipe((0,Jt.w)(()=>this.collection.find(t).$),(0,$t.U)(r=>r.map(n=>n.toJSON())))}observeOne(t){return this.observe(t).pipe((0,$t.U)(r=>r.length>0?r[0]:null))}update(t,r){return this.requestPermission(Zr.R.Write).pipe((0,Jt.w)(()=>this.collection.find(t).update(r)),(0,$t.U)(n=>n.map(i=>i.toJSON())))}remove(t){return this.requestPermission(Zr.R.Write).pipe((0,Jt.w)(()=>this.collection.find(t).remove()),(0,$t.U)(r=>r.map(n=>n.toJSON())))}putAttachment(t,r,n=!1){return this.requestPermission(Zr.R.Write).pipe((0,Jt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Jt.w)(i=>i?i.putAttachment(r,n):(0,sn._)(()=>new Error("No document found for id "+t))),(0,$t.U)(i=>i.id))}getAttachment(t,r){return this.requestPermission(Zr.R.Read).pipe((0,Jt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Jt.w)(n=>n?(0,wi.of)(n.getAttachment(r)):(0,sn._)(()=>new Error("No document found for id "+t))),(0,Jt.w)(n=>n?(0,Jn.D)(n.getData()).pipe((0,$t.U)(i=>({id:n.id,data:i,type:n.type}))):(0,sn._)(()=>new Error("No attachment found for id "+r))))}getAllAttachments(t){return this.requestPermission(Zr.R.Read).pipe((0,Jt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Jt.w)(r=>r?(0,wi.of)(r.allAttachments()):(0,sn._)(()=>new Error("No document found for id "+t))),(0,Jt.w)(r=>(0,qo.D)(r.map(n=>(0,Jn.D)(n.getData()).pipe((0,$t.U)(i=>({id:n.id,data:i,type:n.type})))))))}removeAttachment(t,r){return this.requestPermission(Zr.R.Write).pipe((0,Jt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Jt.w)(n=>{if(!n)return(0,sn._)(()=>new Error("No document found for id "+t));const i=n.getAttachment(r);return i?i.remove():(0,sn._)(()=>new Error("No attachment found for id "+r))}))}observeAttachments(t){return this.requestPermission(Zr.R.Read).pipe((0,Jt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Jt.w)(r=>r?r.allAttachments$:(0,sn._)(()=>new Error("No document found for id "+t))),(0,Jt.w)(r=>(0,qo.D)(r.map(n=>(0,Jn.D)(n.getData()).pipe((0,$t.U)(i=>({id:n.id,data:i,type:n.type})))))))}requestPermission(t){return this.acl.hasPermission({appId:this.appId,kind:Zr.k.Collection,mode:t,target:this.collection.name}).pipe((0,Jt.w)(r=>r?(0,wi.of)(r):(0,sn._)(()=>new Error(`No permission to perform action ${t} on ${this.collection.name} with appId ${this.appId}`))))}}sf(_),Uo(yh),Uo(dv),Uo(Ph),Uo(Jm),Uo(iv);const gf=new l.InjectionToken("ENTITY_MANAGER_BASE_COLLECTIONS_TOKEN"),yf=new l.InjectionToken("ENTITY_MANAGER_INITIAL_DATA_TOKEN");let Av=(()=>{class e{constructor(r,n,i){this.acl=r,this.baseCollections=n,this.initialData=i,this.initialize$=new Os(0)}setupDatabase(r,n){return this.createDatabase(r,n).pipe((0,Jt.w)(i=>this.addBaseCollections(i)),(0,_i.b)(i=>this.acl.initialize(i.applicationpermissions)),(0,Jt.w)(i=>this.addInitialData(i)),(0,_i.b)(()=>this.initialize$.next()),(0,$t.U)(()=>{}))}isDatabaseCreated(){return void 0!==this._dbInstance}getRepository(r,n){if(!this._dbInstance)return(0,sn._)(()=>new Error("Database not initialized"));const i=this._dbInstance.collections[r];if(!i)return(0,sn._)(()=>new Error("Collection not initialized"));const f=new wv(n,i,this.acl);return(0,wi.of)(f)}createDatabase(r,n){return(0,cu.P)(()=>(0,Jn.D)(function(e){var Ce,t=e.storage,r=e.instanceCreationOptions,n=e.name,i=e.password,f=e.multiInstance,d=void 0===f||f,C=e.eventReduce,U=void 0!==C&&C,W=e.ignoreDuplicate,q=void 0!==W&&W,re=e.options,de=void 0===re?{}:re;Zt("preCreateRxDatabase",{storage:t,instanceCreationOptions:r,name:n,password:i,multiInstance:d,eventReduce:U,ignoreDuplicate:q,options:de}),i&&dr.validatePassword(i),q||function(e){if(tc.has(e))throw $e("DB8",{name:e,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}(n),tc.add(n),d&&(Ce=new qu("RxDB:"+n+":socket"));var he=new Vu;return bl(t,n,r,he,Ce).then(function(ee){var fe=new tu(n,t,r,i,d,U,de,he,ee.internalStore,ee.localDocumentsStore,Ce);return function(e){return oc.apply(this,arguments)}(fe).then(function(){return di("createRxDatabase",fe)}).then(function(){return fe})})}({name:r,password:n,storage:Vm("idb")})).pipe((0,_i.b)(i=>this._dbInstance=i)))}addBaseCollections(r){const n=this.baseCollections.reduce((i,f)=>Object.assign(i,{[f.name]:f.creator}),{});return(0,cu.P)(()=>(0,Jn.D)(r.addCollections(n)).pipe((0,_i.b)(i=>{Object.values(i).forEach(f=>{f.preInsert(d=>{const C=(new Date).toISOString();d.id=d.id||Ev(),d.createdAt=d.createdAt||C,d.updatedAt=d.updatedAt||C},!1),f.preSave((d,C)=>{const U=(new Date).toISOString();d.createdAt=C.createdAt||U,d.updatedAt=U},!1)})})))}addInitialData(r){return(0,qo.D)(this.initialData.map(n=>{const i=r[n.name],f=!("upsert"in n)||n.upsert;return(0,qo.D)(n.data.map(d=>(f?(0,wi.of)(!0):(0,Jn.D)(i.findOne({selector:{id:d.id}}).exec()).pipe((0,$t.U)(U=>!U))).pipe((0,Jt.w)(U=>U?(0,Jn.D)(i.upsert(d)).pipe((0,Jt.w)(()=>{if("userapplications"!==n.name)return(0,wi.of)(void 0);const W=(d.additionalProperties?.permissions||[]).map(q=>({...q,appId:d.id,id:`${d.id}:${q.kind}:${q.mode}:${q.target}`}));return W.length?(0,qo.D)(W.map(q=>r.applicationpermissions.upsert(q))):(0,wi.of)(void 0)})):(0,wi.of)(void 0)))))}))}}return e.\u0275fac=function(r){return new(r||e)(l.\u0275\u0275inject(Sv),l.\u0275\u0275inject(gf),l.\u0275\u0275inject(yf))},e.\u0275prov=l.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},43:(ae,N,c)=>{c.d(N,{T:()=>T});var _=c(1457),O=c(1375),p=c(1135),B=c(3900),k=c(4128),j=c(8505),M=c(2843),I=c(9841),S=c(7777);let T=(()=>{class P{constructor(R,b){this.document=R,this.entityManager=b,this.customizationSettings$=new p.X(void 0),this.entityManager.initialize$.pipe((0,B.w)(()=>(0,k.D)([this.entityManager.getRepository("userpreferences","com.central-factory.settings")])),(0,j.b)(([v])=>{this.userPreferencesRepository=v,this.subscribeToDataChanges()})).subscribe()}setCustomizationSettings(R,b){return this.userPreferencesRepository?this.userPreferencesRepository.upsert({id:"settings.customization"+(b?`.${b}`:""),key:"settings.customization",value:R,avatar:b}):(0,M._)(()=>new Error("Repositories not initialized"))}subscribeToDataChanges(){if(!this.userPreferencesRepository)throw new Error("Repositories not initialized");this.customizationSettings$.pipe((0,j.b)(R=>{!R||R.theme&&this.loadThemeFromUrl(R.theme.path)})).subscribe(),(0,I.a)([this.userPreferencesRepository.observeOne({selector:{key:"userAvatars.selectedAvatar"}}),this.userPreferencesRepository.observe({selector:{key:"settings.customization"}})]).pipe((0,j.b)(([R,b])=>{if(b.length<=0)return;const v=b.find(u=>u.avatar===R?.value)||b[0];this.customizationSettings$.next(v.value)})).subscribe()}loadThemeFromUrl(R){if(this.activeThemeLinkElem&&this.activeThemeLinkElem?.href.endsWith(R))return;const v=this.document.getElementsByTagName("head")[0],u=this.document.createElement("link");u.rel="stylesheet",u.href=R,v.appendChild(u),this.activeThemeLinkElem&&v.removeChild(this.activeThemeLinkElem),this.activeThemeLinkElem=u}}return P.\u0275fac=function(R){return new(R||P)(S.\u0275\u0275inject(_.DOCUMENT),S.\u0275\u0275inject(O.v2))},P.\u0275prov=S.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},4438:(ae,N,c)=>{c.d(N,{O:()=>O});var _=c(7777);let O=(()=>{class p{}return p.\u0275fac=function(k){return new(k||p)},p.\u0275mod=_.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=_.\u0275\u0275defineInjector({}),p})()},1894:(ae,N,c)=>{c.d(N,{t:()=>O});var _=c(7777);let O=(()=>{class p{constructor(){this.separators={el:"__",mod:"--",val:"-"},this.ignoreValues=!1,this.modCase="kebab"}setMods(k,j,M,I,S,E){Object.keys(M).forEach(T=>{if(I[T]){if(M[T]===I[T])return;E.removeClass(S.nativeElement,this.generateClass(k,j,T,I[T]))}M[T]&&E.addClass(S.nativeElement,this.generateClass(k,j,T,M[T]))}),Object.keys(I).forEach(T=>{!(T in M)&&I[T]&&E.removeClass(S.nativeElement,this.generateClass(k,j,T,I[T]))})}generateClass(k,j,M,I){this.ignoreValues&&(I=!!I),"string"!=typeof I&&"boolean"!=typeof I&&(I=!!I);let S=k;return j&&(S+=this.separators.el+j),M&&(M=this.modNameHandler(M),S+=this.separators.mod+M,"boolean"!=typeof I&&null!=I&&(S+=this.separators.val+I)),S}parseMods(k){if("string"==typeof k&&(k=k.split(/\s+/)),Array.isArray(k)){const j=k;k={},j.forEach(M=>{k[M]=!0})}else if("object"!=typeof k)return{};return k}modNameHandler(k){switch(this.modCase){case"kebab":return k?k.replace(/[A-Z]/g,function(j){return"-"+j.toLowerCase()}).replace(/$\-/,""):"";case"snake":return k?k.replace(/[A-Z]/g,function(j){return"_"+j.toLowerCase()}).replace(/$\-/,""):"";default:return k}}}return p.\u0275fac=function(k){return new(k||p)},p.\u0275prov=_.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},1623:(ae,N,c)=>{c.d(N,{G:()=>p});var _=c(7777),O=c(1894);let p=(()=>{class B{constructor(j,M,I,S){this.bemService=S,this.name=I,this.element=j,this.renderer=M,M.addClass(j.nativeElement,this.bemService.generateClass(I))}ngOnChanges(){if(JSON.stringify(this.cfMod)!==this._modSerialized){this._modSerialized=JSON.stringify(this.cfMod);let j=this.cfMod;const{renderer:M,element:I,name:S}=this;j=this.bemService.parseMods(j),this.bemService.setMods(S,"",j,this._mods||{},I,M),this._mods=this._mods===j?Object.assign({},j):j}}}return B.\u0275fac=function(j){return new(j||B)(_.\u0275\u0275directiveInject(_.ElementRef),_.\u0275\u0275directiveInject(_.Renderer2),_.\u0275\u0275injectAttribute("cfBlock"),_.\u0275\u0275directiveInject(O.t))},B.\u0275dir=_.\u0275\u0275defineDirective({type:B,selectors:[["","cfBlock",""]],inputs:{cfMod:"cfMod"},features:[_.\u0275\u0275NgOnChangesFeature]}),B})()},3454:(ae,N,c)=>{c.d(N,{e:()=>B});var _=c(7777),O=c(1894),p=c(1623);let B=(()=>{class k{constructor(M,I,S,E,T){this.bemService=T,this.blockName=E.name,this.name=S,this.element=M,this.renderer=I,I.addClass(M.nativeElement,this.bemService.generateClass(E.name,S))}ngOnChanges(){if(JSON.stringify(this.cfMod)!==this._modSerialized){this._modSerialized=JSON.stringify(this.cfMod);let M=this.cfMod;const{renderer:I,element:S,blockName:E,name:T}=this;M=this.bemService.parseMods(M),this.bemService.setMods(E,T,M,this._mods||{},S,I),this._mods=this._mods===M?Object.assign({},M):M}}}return k.\u0275fac=function(M){return new(M||k)(_.\u0275\u0275directiveInject(_.ElementRef),_.\u0275\u0275directiveInject(_.Renderer2),_.\u0275\u0275injectAttribute("cfElem"),_.\u0275\u0275directiveInject(p.G),_.\u0275\u0275directiveInject(O.t))},k.\u0275dir=_.\u0275\u0275defineDirective({type:k,selectors:[["","cfElem",""]],inputs:{cfMod:"cfMod"},features:[_.\u0275\u0275NgOnChangesFeature]}),k})()},7967:(ae,N,c)=>{c.d(N,{I:()=>O});var _=c(7777);let O=(()=>{class p{}return p.\u0275fac=function(k){return new(k||p)},p.\u0275dir=_.\u0275\u0275defineDirective({type:p,selectors:[["","cfMod",""]]}),p})()},5183:(ae,N,c)=>{c.d(N,{L:()=>M});var _=c(1457),O=c(7777);function B(I,S){if(1&I){const E=O.\u0275\u0275getCurrentView();O.\u0275\u0275elementStart(0,"div",2),O.\u0275\u0275listener("click",function(){return O.\u0275\u0275restoreView(E),O.\u0275\u0275nextContext()._onBackdropClicked()}),O.\u0275\u0275elementEnd()}if(2&I){const E=O.\u0275\u0275nextContext();O.\u0275\u0275property("ngClass",E.backdropClass)}}const k=[[["cf-sidebar"],["","cf-sidebar",""]],[["","cf-sidebar-content",""]]],j=["cf-sidebar,[cf-sidebar]","[cf-sidebar-content]"];let M=(()=>{class I{constructor(E,T){this._ref=E,this.animate=!0,this.allowSidebarBackdropControl=!0,this.showBackdrop=!1,this.showBackdropChange=new O.EventEmitter,this.backdropClick=new O.EventEmitter,this._sidebars=[],this._isBrowser=(0,_.isPlatformBrowser)(T)}ngAfterContentInit(){!this._isBrowser||this._onToggle()}ngOnChanges(E){!this._isBrowser||E.showBackdrop&&this.showBackdropChange.emit(E.showBackdrop.currentValue)}ngOnDestroy(){!this._isBrowser||this._unsubscribe()}_addSidebar(E){this._sidebars.push(E),this._subscribe(E)}_removeSidebar(E){const T=this._sidebars.indexOf(E);-1!==T&&this._sidebars.splice(T,1)}_getContentStyle(){let E=0,T=0,P=0,x=0,R="",b="",v="";for(const u of this._sidebars)if(u._isModeSlide&&u.opened&&(R=`translate${u._isLeftOrRight?"X":"Y"}(${u._isLeftOrTop?"":"-"}${u._isLeftOrRight?u._width:u._height}px)`),u._isModePush&&u.opened||u.dock){let s=0;switch(u._isModeSlide&&u.opened?u._isLeftOrRight?v="100%":b="100%":s=u._isDocked||u._isModeOver&&u.dock?u._dockedSize:u._isLeftOrRight?u._width:u._height,u.position){case"left":E=Math.max(E,s);break;case"right":T=Math.max(T,s);break;case"top":P=Math.max(P,s);break;case"bottom":x=Math.max(x,s)}}return{padding:`${P}px ${T}px ${x}px ${E}px`,webkitTransform:R,transform:R,height:b,width:v}}_onBackdropClicked(){let E=!1;for(const T of this._sidebars)T.opened&&T.showBackdrop&&T.closeOnClickBackdrop&&(T.close(),E=!0);E&&this.backdropClick.emit()}_subscribe(E){E.openStart.subscribe(()=>this._onToggle()),E.sidebarOpen.subscribe(()=>this._markForCheck()),E.closeStart.subscribe(()=>this._onToggle()),E.sidebarClose.subscribe(()=>this._markForCheck()),E.modeChange.subscribe(()=>this._markForCheck()),E.positionChange.subscribe(()=>this._markForCheck()),E._onRerender.subscribe(()=>this._markForCheck())}_unsubscribe(){for(const E of this._sidebars)E.openStart.unsubscribe(),E.sidebarOpen.unsubscribe(),E.closeStart.unsubscribe(),E.sidebarClose.unsubscribe(),E.modeChange.unsubscribe(),E.positionChange.unsubscribe(),E._onRerender.unsubscribe()}_onToggle(){if(this._sidebars.length>0&&this.allowSidebarBackdropControl){const E=this._sidebars.some(T=>T.opened&&T.showBackdrop);this.showBackdrop=E,this.showBackdropChange.emit(E)}setTimeout(()=>{this._markForCheck()})}_markForCheck(){this._ref.markForCheck()}}return I.\u0275fac=function(E){return new(E||I)(O.\u0275\u0275directiveInject(O.ChangeDetectorRef),O.\u0275\u0275directiveInject(O.PLATFORM_ID))},I.\u0275cmp=O.\u0275\u0275defineComponent({type:I,selectors:[["cf-sidebar-container"]],inputs:{animate:"animate",allowSidebarBackdropControl:"allowSidebarBackdropControl",showBackdrop:"showBackdrop",contentClass:"contentClass",backdropClass:"backdropClass"},outputs:{showBackdropChange:"showBackdropChange",backdropClick:"backdropClick"},features:[O.\u0275\u0275NgOnChangesFeature],ngContentSelectors:j,decls:4,vars:5,consts:[["aria-hidden","true","class","cf-sidebar__backdrop",3,"ngClass","click",4,"ngIf"],[1,"cf-sidebar__content",3,"ngClass","ngStyle"],["aria-hidden","true",1,"cf-sidebar__backdrop",3,"ngClass","click"]],template:function(E,T){1&E&&(O.\u0275\u0275projectionDef(k),O.\u0275\u0275template(0,B,1,1,"div",0),O.\u0275\u0275projection(1),O.\u0275\u0275elementStart(2,"div",1),O.\u0275\u0275projection(3,1),O.\u0275\u0275elementEnd()),2&E&&(O.\u0275\u0275property("ngIf",T.showBackdrop),O.\u0275\u0275advance(2),O.\u0275\u0275classProp("cf-sidebar__content--animate",T.animate),O.\u0275\u0275property("ngClass",T.contentClass)("ngStyle",T._getContentStyle()))},directives:[_.NgIf,_.NgClass,_.NgStyle],encapsulation:2,changeDetection:0}),I})()},6111:(ae,N,c)=>{c.d(N,{k:()=>M});var _=c(1457),l=c(7777),B=c(5183);const k=["sidebar"],j=["*"];let M=(()=>{class I{constructor(E,T,P){if(this._container=E,this._ref=T,this.opened=!1,this.openedChange=new l.EventEmitter,this.mode="over",this.dock=!1,this.dockedSize="0px",this.position="start",this.animate=!0,this.autoCollapseOnInit=!0,this.trapFocus=!1,this.autoFocus=!0,this.showBackdrop=!1,this.closeOnClickBackdrop=!1,this.closeOnClickOutside=!1,this.keyClose=!1,this.keyCode=27,this.contentInit=new l.EventEmitter,this.openStart=new l.EventEmitter,this.sidebarOpen=new l.EventEmitter,this.closeStart=new l.EventEmitter,this.sidebarClose=new l.EventEmitter,this.transitionEnd=new l.EventEmitter,this.modeChange=new l.EventEmitter,this.positionChange=new l.EventEmitter,this._onRerender=new l.EventEmitter,this._focusableElementsString="a[href], area[href], input:not([disabled]), select:not([disabled]),textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], [contenteditable]",this._tabIndexAttr="__tabindex__",this._tabIndexIndicatorAttr="__ngsidebar-tabindex__",this._clickEvent="click",this._onClickOutsideAttached=!1,this._onKeyDownAttached=!1,this._onResizeAttached=!1,!this._container)throw new Error("<cf-sidebar> must be inside a <cf-sidebar-container>. See https://github.com/arkon/ng-sidebar#usage for more info.");this._isBrowser=(0,_.isPlatformBrowser)(P),this._isBrowser&&"undefined"!=typeof window&&"undefined"!=typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!("onclick"in window)&&(this._clickEvent="touchstart"),this._normalizePosition(),this.open=this.open.bind(this),this._onTransitionEnd=this._onTransitionEnd.bind(this),this._onFocusTrap=this._onFocusTrap.bind(this),this._onClickOutside=this._onClickOutside.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._collapse=this._collapse.bind(this)}ngOnInit(){!this._isBrowser||(this.animate&&(this._shouldAnimate=!0,this.animate=!1),this._container._addSidebar(this),this.autoCollapseOnInit&&this._collapse())}ngAfterContentInit(){this.contentInit.emit()}ngOnChanges(E){!this._isBrowser||(E.animate&&this._shouldAnimate&&(this._shouldAnimate=E.animate.currentValue),E.closeOnClickOutside&&(E.closeOnClickOutside.currentValue?this._initCloseClickListener():this._destroyCloseClickListener()),E.keyClose&&(E.keyClose.currentValue?this._initCloseKeyDownListener():this._destroyCloseKeyDownListener()),E.position&&(this._normalizePosition(),setTimeout(()=>{this.positionChange.emit(E.position.currentValue)})),E.mode&&setTimeout(()=>{this.modeChange.emit(E.mode.currentValue)}),E.dock&&this.triggerRerender(),E.opened&&(this._shouldAnimate&&(this.animate=!0,this._shouldAnimate=!1),E.opened.currentValue?this.open():this.close()),(E.autoCollapseHeight||E.autoCollapseWidth)&&this._initCollapseListeners())}ngOnDestroy(){!this._isBrowser||(this._destroyCloseListeners(),this._destroyCollapseListeners(),this._container._removeSidebar(this))}open(){!this._isBrowser||(this.opened=!0,this.openedChange.emit(!0),this.openStart.emit(),this._ref.detectChanges(),setTimeout(()=>{this.animate&&!this._isModeSlide?this._elSidebar.nativeElement.addEventListener("transitionend",this._onTransitionEnd):(this._setFocused(),this._initCloseListeners(),this.opened&&this.sidebarOpen.emit())}))}close(){!this._isBrowser||(this.opened=!1,this.openedChange.emit(!1),this.closeStart.emit(),this._ref.detectChanges(),setTimeout(()=>{this.animate&&!this._isModeSlide?this._elSidebar.nativeElement.addEventListener("transitionend",this._onTransitionEnd):(this._setFocused(),this._destroyCloseListeners(),this.opened||this.sidebarClose.emit())}))}triggerRerender(){!this._isBrowser||setTimeout(()=>{this._onRerender.emit()})}_getStyle(){let E="";if(!this.opened){const T="translate"+(this._isLeftOrRight?"X":"Y");E=`${T}(${(this._isLeftOrTop?"-":"")+"100%"})`,this.dock&&this._dockedSize>0&&(!this._isModeSlide||!this.opened)&&(E+=` ${T}(${this._isLeftOrTop?"+":"-"}${this.dockedSize})`)}return{webkitTransform:E,transform:E}}_onTransitionEnd(E){E.target===this._elSidebar.nativeElement&&E.propertyName.endsWith("transform")&&(this._setFocused(),this.opened?(this._initCloseListeners(),this.sidebarOpen.emit()):(this._destroyCloseListeners(),this.sidebarClose.emit()),this.transitionEnd.emit(),this._elSidebar.nativeElement.removeEventListener("transitionend",this._onTransitionEnd))}get _shouldTrapFocus(){return this.opened&&this.trapFocus}_focusFirstItem(){this._focusableElements&&this._focusableElements.length>0&&this._focusableElements[0].focus()}_onFocusTrap(E){this._shouldTrapFocus&&!this._elSidebar.nativeElement.contains(E.target)&&this._focusFirstItem()}_setFocused(){if(this._focusableElements=Array.from(this._elSidebar.nativeElement.querySelectorAll(this._focusableElementsString)),this.opened){this._focusedBeforeOpen=document.activeElement;for(const E of this._focusableElements){const T=E.getAttribute(this._tabIndexAttr),P=null!==E.getAttribute(this._tabIndexIndicatorAttr);null!==T?(E.setAttribute("tabindex",T),E.removeAttribute(this._tabIndexAttr)):P&&(E.removeAttribute("tabindex"),E.removeAttribute(this._tabIndexIndicatorAttr))}this.autoFocus&&this._focusFirstItem(),document.addEventListener("focus",this._onFocusTrap,!0)}else{for(const E of this._focusableElements){const T=E.getAttribute("tabindex");E.setAttribute("tabindex","-1"),E.setAttribute(this._tabIndexIndicatorAttr,""),null!==T&&E.setAttribute(this._tabIndexAttr,T)}document.removeEventListener("focus",this._onFocusTrap,!0),this._focusedBeforeOpen&&this.autoFocus&&this._isModeOver&&(this._focusedBeforeOpen.focus(),this._focusedBeforeOpen=null)}}_initCloseListeners(){this._initCloseClickListener(),this._initCloseKeyDownListener()}_initCloseClickListener(){setTimeout(()=>{this.opened&&this.closeOnClickOutside&&!this._onClickOutsideAttached&&(document.addEventListener(this._clickEvent,this._onClickOutside),this._onClickOutsideAttached=!0)})}_initCloseKeyDownListener(){setTimeout(()=>{this.opened&&this.keyClose&&!this._onKeyDownAttached&&(document.addEventListener("keydown",this._onKeyDown),this._onKeyDownAttached=!0)})}_destroyCloseListeners(){this._destroyCloseClickListener(),this._destroyCloseKeyDownListener()}_destroyCloseClickListener(){this._onClickOutsideAttached&&(document.removeEventListener(this._clickEvent,this._onClickOutside),this._onClickOutsideAttached=!1)}_destroyCloseKeyDownListener(){this._onKeyDownAttached&&(document.removeEventListener("keydown",this._onKeyDown),this._onKeyDownAttached=!1)}_onClickOutside(E){this._onClickOutsideAttached&&this._elSidebar&&!this._elSidebar.nativeElement.contains(E.target)&&this.close()}_onKeyDown(E){(E=E||window.event).keyCode===this.keyCode&&this.close()}_initCollapseListeners(){(this.autoCollapseHeight||this.autoCollapseWidth)&&setTimeout(()=>{this._onResizeAttached||(window.addEventListener("resize",this._collapse),this._onResizeAttached=!0)})}_destroyCollapseListeners(){this._onResizeAttached&&(window.removeEventListener("resize",this._collapse),this._onResizeAttached=!1)}_collapse(){const E=window.innerHeight,T=window.innerWidth;this.autoCollapseHeight&&(E<=this.autoCollapseHeight&&this.opened?(this._wasCollapsed=!0,this.close()):E>this.autoCollapseHeight&&this._wasCollapsed&&(this.open(),this._wasCollapsed=!1)),this.autoCollapseWidth&&(T<=this.autoCollapseWidth&&this.opened?(this._wasCollapsed=!0,this.close()):T>this.autoCollapseWidth&&this._wasCollapsed&&(this.open(),this._wasCollapsed=!1))}get _height(){return this._elSidebar.nativeElement?this._isDocked?this._dockedSize:this._elSidebar.nativeElement.offsetHeight:0}get _width(){return this._elSidebar.nativeElement?this._isDocked?this._dockedSize:this._elSidebar.nativeElement.offsetWidth:0}get _dockedSize(){return parseFloat(this.dockedSize)}get _isModeOver(){return"over"===this.mode}get _isModePush(){return"push"===this.mode}get _isModeSlide(){return"slide"===this.mode}get _isDocked(){return!(!this.dock||!this.dockedSize||this.opened)}get _isLeftOrTop(){return"left"===this.position||"top"===this.position}get _isLeftOrRight(){return"left"===this.position||"right"===this.position}get _isInert(){return!this.opened&&!this.dock}_normalizePosition(){const E=(()=>{let I="ltr";return"undefined"!=typeof window&&(I=window.getComputedStyle?window.getComputedStyle(document.body,null).getPropertyValue("direction"):document.body.currentStyle.direction),"ltr"===I})();"start"===this.position?this.position=E?"left":"right":"end"===this.position&&(this.position=E?"right":"left")}}return I.\u0275fac=function(E){return new(E||I)(l.\u0275\u0275directiveInject(B.L,8),l.\u0275\u0275directiveInject(l.ChangeDetectorRef),l.\u0275\u0275directiveInject(l.PLATFORM_ID))},I.\u0275cmp=l.\u0275\u0275defineComponent({type:I,selectors:[["cf-sidebar"]],viewQuery:function(E,T){if(1&E&&l.\u0275\u0275viewQuery(k,5),2&E){let P;l.\u0275\u0275queryRefresh(P=l.\u0275\u0275loadQuery())&&(T._elSidebar=P.first)}},inputs:{opened:"opened",mode:"mode",dock:"dock",dockedSize:"dockedSize",position:"position",animate:"animate",autoCollapseHeight:"autoCollapseHeight",autoCollapseWidth:"autoCollapseWidth",autoCollapseOnInit:"autoCollapseOnInit",sidebarClass:"sidebarClass",ariaLabel:"ariaLabel",trapFocus:"trapFocus",autoFocus:"autoFocus",showBackdrop:"showBackdrop",closeOnClickBackdrop:"closeOnClickBackdrop",closeOnClickOutside:"closeOnClickOutside",keyClose:"keyClose",keyCode:"keyCode"},outputs:{openedChange:"openedChange",contentInit:"contentInit",openStart:"openStart",sidebarOpen:"sidebarOpen",closeStart:"closeStart",sidebarClose:"sidebarClose",transitionEnd:"transitionEnd",modeChange:"modeChange",positionChange:"positionChange",_onRerender:"_onRerender"},features:[l.\u0275\u0275NgOnChangesFeature],ngContentSelectors:j,decls:3,vars:15,consts:[["role","complementary",3,"ngClass","ngStyle"],["sidebar",""]],template:function(E,T){1&E&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275elementStart(0,"aside",0,1),l.\u0275\u0275projection(2),l.\u0275\u0275elementEnd()),2&E&&(l.\u0275\u0275classMapInterpolate3("cf-sidebar cf-sidebar--",T.opened?"opened":"closed"," cf-sidebar--",T.position," cf-sidebar--",T.mode,""),l.\u0275\u0275classProp("cf-sidebar--docked",T._isDocked)("cf-sidebar--inert",T._isInert)("cf-sidebar--animate",T.animate),l.\u0275\u0275property("ngClass",T.sidebarClass)("ngStyle",T._getStyle()),l.\u0275\u0275attribute("aria-hidden",!T.opened)("aria-label",T.ariaLabel))},directives:[_.NgClass,_.NgStyle],encapsulation:2,changeDetection:0}),I})()},5687:(ae,N,c)=>{c.d(N,{l:()=>B});var _=c(1457),O=c(7777);let B=(()=>{class k{}return k.\u0275fac=function(M){return new(M||k)},k.\u0275mod=O.\u0275\u0275defineNgModule({type:k}),k.\u0275inj=O.\u0275\u0275defineInjector({imports:[[_.CommonModule]]}),k})()},5605:(ae,N,c)=>{c.d(N,{wn:()=>R});var _=c(5861),l=c(7340),O=c(7777),p=c(1623),B=c(7967),k=c(1457),j=c(3454),M=c(9750);let I=(()=>{class b{}return b.\u0275fac=function(u){return new(u||b)},b.\u0275cmp=O.\u0275\u0275defineComponent({type:b,selectors:[["cf-spinner"]],decls:2,vars:0,consts:[["cfBlock","spinner","cfMod","3x"]],template:function(u,s){1&u&&(O.\u0275\u0275elementStart(0,"div",0),O.\u0275\u0275element(1,"div"),O.\u0275\u0275elementEnd())},directives:[p.G,B.I],styles:["[_nghost-%COMP%]{display:contents}"]}),b})();function S(b,v){1&b&&(O.\u0275\u0275elementStart(0,"div",8),O.\u0275\u0275element(1,"cf-spinner"),O.\u0275\u0275elementEnd())}function E(b,v){if(1&b&&(O.\u0275\u0275elementStart(0,"p",9),O.\u0275\u0275text(1),O.\u0275\u0275elementEnd()),2&b){const u=O.\u0275\u0275nextContext();O.\u0275\u0275advance(1),O.\u0275\u0275textInterpolate1(" ",u.loadingText," ")}}const T=function(b){return{"background-color":b}};var P=(()=>{return(b=P||(P={})).Visible="visible",b.Hidden="hidden",P;var b})(),x=(()=>{return(b=x||(x={})).Visible="visible",b.Hidden="hidden",x;var b})();let R=(()=>{class b{constructor(){this.title="Portal",this.logo="assets/logo.svg",this.spinnerType="cog",this.loadingTexts=["Setting up the rockets...","Calling the crew..","Jumping to the cyber space..."],this.welcomeMessage="Welcome to the Metaverse",this.displayLoadingTime=5e3,this.displayWelcomeTime=3e3,this.mods="",this.splashScreenHide=new O.EventEmitter,this.state=P.Visible,this.logoState=x.Hidden,this.selectedLoadingTextIndex=void 0}ngOnInit(){this.displaySplashScreen()}displaySplashScreen(){var u=this;return(0,_.Z)(function*(){u.displayLoadingText(),yield u.wait(u.displayLoadingTime),u.logoState=x.Visible,u.selectedLoadingTextIndex=void 0,u.loadingText=u.welcomeMessage,yield u.wait(u.displayWelcomeTime),u.state=P.Hidden,u.splashScreenHide.emit()})()}displayLoadingText(){var u=this;return(0,_.Z)(function*(){if(u.logoState===x.Visible)return u.selectedLoadingTextIndex=void 0,void(u.loadingText=u.welcomeMessage);const m=(void 0===u.selectedLoadingTextIndex?-1:u.selectedLoadingTextIndex)+1;if(m>=u.loadingTexts.length)return u.selectedLoadingTextIndex=void 0,yield u.wait(1e3),void u.displayLoadingText();u.selectedLoadingTextIndex=m,u.loadingText=u.loadingTexts[m],yield u.wait(1e3),u.displayLoadingText()})()}wait(u){return new Promise(s=>setTimeout(s,u))}}return b.\u0275fac=function(u){return new(u||b)},b.\u0275cmp=O.\u0275\u0275defineComponent({type:b,selectors:[["cf-splash-screen"]],inputs:{title:"title",logo:"logo",spinnerType:"spinnerType",backgroundColor:"backgroundColor",loadingTexts:"loadingTexts",welcomeMessage:"welcomeMessage",displayLoadingTime:"displayLoadingTime",displayWelcomeTime:"displayWelcomeTime",mods:"mods"},outputs:{splashScreenHide:"splashScreenHide"},decls:9,vars:10,consts:[["cfBlock","splash-screen",3,"cfMod","ngStyle"],["cfElem","content"],["cfElem","title"],["cfElem","spinner"],["cfElem","logo"],["cfElem","logo-image",3,"src"],["cfElem","spinner-content",4,"ngIf"],["cfElem","loading-text",4,"ngIf"],["cfElem","spinner-content"],["cfElem","loading-text"]],template:function(u,s){1&u&&(O.\u0275\u0275elementStart(0,"div",0),O.\u0275\u0275elementStart(1,"div",1),O.\u0275\u0275elementStart(2,"h1",2),O.\u0275\u0275text(3),O.\u0275\u0275elementEnd(),O.\u0275\u0275elementStart(4,"div",3),O.\u0275\u0275elementStart(5,"div",4),O.\u0275\u0275element(6,"cf-svg-icon",5),O.\u0275\u0275elementEnd(),O.\u0275\u0275template(7,S,2,0,"div",6),O.\u0275\u0275elementEnd(),O.\u0275\u0275template(8,E,2,1,"p",7),O.\u0275\u0275elementEnd(),O.\u0275\u0275elementEnd()),2&u&&(O.\u0275\u0275property("@splashState",s.state)("cfMod",s.mods)("ngStyle",O.\u0275\u0275pureFunction1(8,T,s.backgroundColor)),O.\u0275\u0275advance(3),O.\u0275\u0275textInterpolate(s.title),O.\u0275\u0275advance(2),O.\u0275\u0275property("@logoState",s.logoState),O.\u0275\u0275advance(1),O.\u0275\u0275property("src",s.logo),O.\u0275\u0275advance(1),O.\u0275\u0275property("ngIf","visible"!==s.logoState),O.\u0275\u0275advance(1),O.\u0275\u0275property("ngIf",s.loadingText))},directives:[p.G,B.I,k.NgStyle,j.e,M.b,k.NgIf,I],encapsulation:2,data:{animation:[(0,l.X$)("splashState",[(0,l.SB)(P.Visible,(0,l.oB)({opacity:1,display:"block"})),(0,l.SB)(P.Hidden,(0,l.oB)({opacity:0,display:"none"})),(0,l.eR)(`${P.Hidden} => ${P.Visible}`,[(0,l.oB)({opacity:0}),(0,l.jt)("1s",(0,l.oB)({opacity:1}))]),(0,l.eR)(`${P.Visible} => ${P.Hidden}`,[(0,l.jt)("1s",(0,l.oB)({opacity:0}))])]),(0,l.X$)("logoState",[(0,l.SB)(x.Visible,(0,l.oB)({opacity:1,display:"flex"})),(0,l.SB)(x.Hidden,(0,l.oB)({opacity:0,display:"none"})),(0,l.eR)(`${x.Hidden} => ${x.Visible}`,[(0,l.oB)({display:"flex",opacity:0}),(0,l.jt)("1s",(0,l.oB)({opacity:1}))]),(0,l.eR)(`${x.Visible} => ${x.Hidden}`,[(0,l.jt)("1s",(0,l.oB)({opacity:0}))])])]}}),b})()},2085:(ae,N,c)=>{c.d(N,{x:()=>k});var _=c(1457),l=c(4438),O=c(7777);let p=(()=>{class j{}return j.\u0275fac=function(I){return new(I||j)},j.\u0275mod=O.\u0275\u0275defineNgModule({type:j}),j.\u0275inj=O.\u0275\u0275defineInjector({imports:[[l.O]]}),j})();var B=c(2051);let k=(()=>{class j{}return j.\u0275fac=function(I){return new(I||j)},j.\u0275mod=O.\u0275\u0275defineNgModule({type:j}),j.\u0275inj=O.\u0275\u0275defineInjector({imports:[[_.CommonModule,l.O,p,B.Y]]}),j})()},5028:(ae,N,c)=>{c.d(N,{M6:()=>x,Kb:()=>b});var _=c(1457),O=c(7777),B=c(9646),k=c(2843),j=c(4004),M=c(8505),I=c(262),S=c(8746),E=c(3099),T=c(7191);const P=new O.InjectionToken("SERVER_URL");let x=(()=>{class v{constructor(s,m,h,$){this.loader=s,this.platformId=m,this.serverUrl=h,this._document=$,this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map,this.document=this._document}addSvg(s,m){if(!this.iconsByUrl.has(s)){const h=this.document.createElement("DIV");h.innerHTML=m;const $=h.querySelector("svg");this.iconsByUrl.set(s,$)}}loadSvg(s,m=s){if(this.serverUrl&&null===s.match(/^(http(s)?):/)&&(m=s=this.serverUrl+s),this.iconsByUrl.has(m))return(0,B.of)(this.iconsByUrl.get(m));if(this.iconsLoadingByUrl.has(m))return this.iconsLoadingByUrl.get(m);const h=this.loader.getSvg(s).pipe((0,j.U)($=>{const oe=this.document.createElement("DIV");return oe.innerHTML=$,oe.querySelector("svg")}),(0,M.b)($=>this.iconsByUrl.set(m,$)),(0,I.K)($=>(console.error($),(0,k._)($))),(0,S.x)(()=>this.iconsLoadingByUrl.delete(m)),(0,E.B)());return this.iconsLoadingByUrl.set(m,h),h}getSvgByName(s){return this.iconsByUrl.has(s)?(0,B.of)(this.iconsByUrl.get(s)):this.iconsLoadingByUrl.has(s)?this.iconsLoadingByUrl.get(s):(0,k._)(`No svg with name '${s}' has been loaded`)}unloadSvg(s){this.iconsByUrl.has(s)&&this.iconsByUrl.delete(s)}}return v.\u0275fac=function(s){return new(s||v)(O.\u0275\u0275inject(T.S),O.\u0275\u0275inject(O.PLATFORM_ID),O.\u0275\u0275inject(P,8),O.\u0275\u0275inject(_.DOCUMENT,8))},v.\u0275prov=O.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac}),v})();const b={provide:x,deps:[[new O.Optional,new O.SkipSelf,x],T.S,[O.PLATFORM_ID],[new O.Optional,P],[new O.Optional,_.DOCUMENT]],useFactory:function(v,u,s,m,h){return v||new x(u,s,m,h)}}},9750:(ae,N,c)=>{c.d(N,{b:()=>k});var _=c(7777),O=c(5028);const p=["*"];class B{constructor(){this.loaded=!1}}let k=(()=>{class j{constructor(I,S,E,T,P){this.element=I,this.differs=S,this.renderer=E,this.iconReg=T,this.cdr=P,this.stretch=!1,this.applyClass=!1,this.svgClass="icon__svg",this.helper=new B,this._svgStyle=null}set svgStyle(I){this._svgStyle=I,!this.helper.differ&&I&&(this.helper.differ=this.differs.find(I).create())}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}ngOnChanges(I){const S=this.element.nativeElement.firstChild;(I.src||I.name)&&(this.helper.loaded&&this.destroy(),this.init()),I.stretch&&this.stylize(),I.applyClass&&(this.applyClass?this.setClass(S,null,this.klass):this.setClass(S,this.klass,null)),I.svgClass&&this.setClass(S,I.svgClass.previousValue,I.svgClass.currentValue),I.klass&&(this.setClass(this.element.nativeElement,I.klass.previousValue,I.klass.currentValue),this.setClass(S,I.klass.previousValue,this.applyClass?I.klass.currentValue:null)),I.viewBox&&(this.helper.loaded&&this.destroy(),this.init()),I.svgAriaLabel&&this.doAria(I.svgAriaLabel.currentValue)}ngDoCheck(){if(this.helper.svg&&this.helper.differ){const I=this.helper.differ.diff(this._svgStyle);I&&this.applyChanges(I)}}init(){if(this.name){const I=this.iconReg.getSvgByName(this.name);I&&(this.helper.icnSub=I.subscribe(S=>this.initSvg(S)))}else if(this.src){const I=this.iconReg.loadSvg(this.src);I&&(this.helper.icnSub=I.subscribe(S=>this.initSvg(S)))}else this.element.nativeElement.innerHTML="",this.cdr.markForCheck()}initSvg(I){!this.helper.loaded&&I&&(this.setSvg(I),this.resetDiffer())}destroy(){this.helper.icnSub&&this.helper.icnSub.unsubscribe(),this.helper=new B}resetDiffer(){this._svgStyle&&!this.helper.differ&&(this.helper.differ=this.differs.find(this._svgStyle).create())}setSvg(I){if(!this.helper.loaded&&I){this.helper.svg=I;const S=I.cloneNode(!0),E=this.element.nativeElement;if(E.innerHTML="",this.renderer.appendChild(E,S),this.helper.loaded=!0,this.copyNgContentAttribute(E,S),this.klass&&this.applyClass&&this.setClass(E.firstChild,null,this.klass),this.svgClass&&this.setClass(E.firstChild,null,this.svgClass),this.viewBox)if("auto"===this.viewBox){const T=S.getAttribute("width"),P=S.getAttribute("height");P&&T&&(this.renderer.setAttribute(S,"viewBox",`0 0 ${T} ${P}`),this.renderer.removeAttribute(S,"width"),this.renderer.removeAttribute(S,"height"))}else""!==this.viewBox&&(this.renderer.setAttribute(S,"viewBox",this.viewBox),this.renderer.removeAttribute(S,"width"),this.renderer.removeAttribute(S,"height"));this.stylize(),void 0===this.svgAriaLabel&&E.firstChild.hasAttribute("aria-label")||this.doAria(this.svgAriaLabel||""),this.cdr.markForCheck()}}copyNgContentAttribute(I,S){const E=I.attributes,T=E.length;for(let P=0;P<T;P+=1){const x=E.item(P);if(x&&x.name.startsWith("_ngcontent")){this.setNgContentAttribute(S,x.name);break}}}setNgContentAttribute(I,S){this.renderer.setAttribute(I,S,"");const E=I.childNodes.length;for(let T=0;T<E;T+=1){const P=I.childNodes[T];P instanceof Element&&this.setNgContentAttribute(P,S)}}stylize(){if(this.helper.svg){const I=this.element.nativeElement.firstChild;!0===this.stretch?this.renderer.setAttribute(I,"preserveAspectRatio","none"):!1===this.stretch&&this.renderer.removeAttribute(I,"preserveAspectRatio")}}applyChanges(I){I.forEachRemovedItem(S=>this.setStyle(S.key,null)),I.forEachAddedItem(S=>this.setStyle(S.key,S.currentValue)),I.forEachChangedItem(S=>this.setStyle(S.key,S.currentValue))}setStyle(I,S){const[E,T]=I.split("."),P=this.element.nativeElement.firstChild;null!==(S=null!==S&&T?`${S}${T}`:S)?this.renderer.setStyle(P,E,S):this.renderer.removeStyle(P,E)}setClass(I,S,E){if(I){if(S){const T=(Array.isArray(S)?S:S.split(" ")).filter(P=>P);for(const P of T)this.renderer.removeClass(I,P)}if(E){const T=(Array.isArray(E)?E:E.split(" ")).filter(P=>P);for(const P of T)this.renderer.addClass(I,P)}}}doAria(I){const S=this.element.nativeElement.firstChild;S&&(""===I?(this.renderer.setAttribute(S,"aria-hidden","true"),this.renderer.removeAttribute(S,"aria-label")):(this.renderer.removeAttribute(S,"aria-hidden"),this.renderer.setAttribute(S,"aria-label",I)))}}return j.\u0275fac=function(I){return new(I||j)(_.\u0275\u0275directiveInject(_.ElementRef),_.\u0275\u0275directiveInject(_.KeyValueDiffers),_.\u0275\u0275directiveInject(_.Renderer2),_.\u0275\u0275directiveInject(O.M6),_.\u0275\u0275directiveInject(_.ChangeDetectorRef))},j.\u0275cmp=_.\u0275\u0275defineComponent({type:j,selectors:[["cf-svg-icon"]],inputs:{src:"src",name:"name",stretch:"stretch",applyClass:"applyClass",svgClass:"svgClass",klass:["class","klass"],viewBox:"viewBox",svgAriaLabel:"svgAriaLabel",svgStyle:"svgStyle"},features:[_.\u0275\u0275NgOnChangesFeature],ngContentSelectors:p,decls:1,vars:0,template:function(I,S){1&I&&(_.\u0275\u0275projectionDef(),_.\u0275\u0275projection(0))},encapsulation:2}),j})()},2051:(ae,N,c)=>{c.d(N,{Y:()=>j});var _=c(1457),O=c(7777),B=c(5028),k=c(7191);let j=(()=>{class M{static forRoot(S={}){return{ngModule:M,providers:[B.Kb,S.loader||{provide:k.S,useClass:k.o}]}}}return M.\u0275fac=function(S){return new(S||M)},M.\u0275mod=O.\u0275\u0275defineNgModule({type:M}),M.\u0275inj=O.\u0275\u0275defineInjector({imports:[[_.CommonModule]]}),M})()},7191:(ae,N,c)=>{c.d(N,{S:()=>B,o:()=>k});var _=c(9283),O=c(7777);class B{}let k=(()=>{class j extends B{constructor(I){super(),this.http=I}getSvg(I){return this.http.get(I,{responseType:"text"})}}return j.\u0275fac=function(I){return new(I||j)(O.\u0275\u0275inject(_.HttpClient))},j.\u0275prov=O.\u0275\u0275defineInjectable({token:j,factory:j.\u0275fac}),j})()},1611:ae=>{ae.exports=function(c){return function(){var _=arguments.length;if(_){for(var l=[],O=-1;++O<_;)l[O]=arguments[O];return c.call(this,l)}return c.call(this,[])}}},5834:(ae,N,c)=>{var _=c(5203),l=c(5685),O=l(_("String.prototype.indexOf"));ae.exports=function(B,k){var j=_(B,!!k);return"function"==typeof j&&O(B,".prototype.")>-1?l(j):j}},5685:(ae,N,c)=>{var _=c(4444),l=c(5203),O=l("%Function.prototype.apply%"),p=l("%Function.prototype.call%"),B=l("%Reflect.apply%",!0)||_.call(p,O),k=l("%Object.getOwnPropertyDescriptor%",!0),j=l("%Object.defineProperty%",!0),M=l("%Math.max%");if(j)try{j({},"a",{value:1})}catch{j=null}ae.exports=function(E){var T=B(_,p,arguments);if(k&&j){var P=k(T,"length");P.configurable&&j(T,"length",{value:1+M(0,E.length-(arguments.length-1))})}return T};var I=function(){return B(_,O,arguments)};j?j(ae.exports,"apply",{value:I}):ae.exports.apply=I},7466:function(ae,N,c){var _;ae.exports=(_=c(7585),c(8319),c(9493),c(7865),c(3057),function(){var l=_,p=l.lib.BlockCipher,B=l.algo,k=[],j=[],M=[],I=[],S=[],E=[],T=[],P=[],x=[],R=[];!function(){for(var u=[],s=0;s<256;s++)u[s]=s<128?s<<1:s<<1^283;var m=0,h=0;for(s=0;s<256;s++){var $=h^h<<1^h<<2^h<<3^h<<4;k[m]=$=$>>>8^255&$^99,j[$]=m;var pe,oe=u[m],Ee=u[oe],ge=u[Ee];M[m]=(pe=257*u[$]^16843008*$)<<24|pe>>>8,I[m]=pe<<16|pe>>>16,S[m]=pe<<8|pe>>>24,E[m]=pe,T[$]=(pe=16843009*ge^65537*Ee^257*oe^16843008*m)<<24|pe>>>8,P[$]=pe<<16|pe>>>16,x[$]=pe<<8|pe>>>24,R[$]=pe,m?(m=oe^u[u[u[ge^oe]]],h^=u[u[h]]):m=h=1}}();var b=[0,1,2,4,8,16,32,64,128,27,54],v=B.AES=p.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var s=this._keyPriorReset=this._key,m=s.words,h=s.sigBytes/4,oe=4*((this._nRounds=h+6)+1),Ee=this._keySchedule=[],ge=0;ge<oe;ge++)ge<h?Ee[ge]=m[ge]:(u=Ee[ge-1],ge%h?h>6&&ge%h==4&&(u=k[u>>>24]<<24|k[u>>>16&255]<<16|k[u>>>8&255]<<8|k[255&u]):(u=k[(u=u<<8|u>>>24)>>>24]<<24|k[u>>>16&255]<<16|k[u>>>8&255]<<8|k[255&u],u^=b[ge/h|0]<<24),Ee[ge]=Ee[ge-h]^u);for(var pe=this._invKeySchedule=[],Y=0;Y<oe;Y++){if(ge=oe-Y,Y%4)var u=Ee[ge];else u=Ee[ge-4];pe[Y]=Y<4||ge<=4?u:T[k[u>>>24]]^P[k[u>>>16&255]]^x[k[u>>>8&255]]^R[k[255&u]]}}},encryptBlock:function(u,s){this._doCryptBlock(u,s,this._keySchedule,M,I,S,E,k)},decryptBlock:function(u,s){var m=u[s+1];u[s+1]=u[s+3],u[s+3]=m,this._doCryptBlock(u,s,this._invKeySchedule,T,P,x,R,j),m=u[s+1],u[s+1]=u[s+3],u[s+3]=m},_doCryptBlock:function(u,s,m,h,$,oe,Ee,ge){for(var pe=this._nRounds,Y=u[s]^m[0],z=u[s+1]^m[1],J=u[s+2]^m[2],Q=u[s+3]^m[3],X=4,K=1;K<pe;K++){var ne=h[Y>>>24]^$[z>>>16&255]^oe[J>>>8&255]^Ee[255&Q]^m[X++],Se=h[z>>>24]^$[J>>>16&255]^oe[Q>>>8&255]^Ee[255&Y]^m[X++],Be=h[J>>>24]^$[Q>>>16&255]^oe[Y>>>8&255]^Ee[255&z]^m[X++],me=h[Q>>>24]^$[Y>>>16&255]^oe[z>>>8&255]^Ee[255&J]^m[X++];Y=ne,z=Se,J=Be,Q=me}ne=(ge[Y>>>24]<<24|ge[z>>>16&255]<<16|ge[J>>>8&255]<<8|ge[255&Q])^m[X++],Se=(ge[z>>>24]<<24|ge[J>>>16&255]<<16|ge[Q>>>8&255]<<8|ge[255&Y])^m[X++],Be=(ge[J>>>24]<<24|ge[Q>>>16&255]<<16|ge[Y>>>8&255]<<8|ge[255&z])^m[X++],me=(ge[Q>>>24]<<24|ge[Y>>>16&255]<<16|ge[z>>>8&255]<<8|ge[255&J])^m[X++],u[s]=ne,u[s+1]=Se,u[s+2]=Be,u[s+3]=me},keySize:8});l.AES=p._createHelper(v)}(),_.AES)},3057:function(ae,N,c){var O,p,B,k,j,M,S,T,P,R,b,v,s,h,oe,Ee,pe,Y,_;ae.exports=(_=c(7585),c(7865),void(_.lib.Cipher||(O=_,p=O.lib,B=p.Base,k=p.WordArray,j=p.BufferedBlockAlgorithm,M=O.enc,S=M.Base64,T=O.algo.EvpKDF,P=p.Cipher=j.extend({cfg:B.extend(),createEncryptor:function(z,J){return this.create(this._ENC_XFORM_MODE,z,J)},createDecryptor:function(z,J){return this.create(this._DEC_XFORM_MODE,z,J)},init:function(z,J,Q){this.cfg=this.cfg.extend(Q),this._xformMode=z,this._key=J,this.reset()},reset:function(){j.reset.call(this),this._doReset()},process:function(z){return this._append(z),this._process()},finalize:function(z){return z&&this._append(z),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function z(J){return"string"==typeof J?Y:Ee}return function(J){return{encrypt:function(Q,X,K){return z(X).encrypt(J,Q,X,K)},decrypt:function(Q,X,K){return z(X).decrypt(J,Q,X,K)}}}}()}),p.StreamCipher=P.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),R=O.mode={},b=p.BlockCipherMode=B.extend({createEncryptor:function(z,J){return this.Encryptor.create(z,J)},createDecryptor:function(z,J){return this.Decryptor.create(z,J)},init:function(z,J){this._cipher=z,this._iv=J}}),v=R.CBC=function(){var z=b.extend();function J(Q,X,K){var ne,Se=this._iv;Se?(ne=Se,this._iv=undefined):ne=this._prevBlock;for(var Be=0;Be<K;Be++)Q[X+Be]^=ne[Be]}return z.Encryptor=z.extend({processBlock:function(Q,X){var K=this._cipher,ne=K.blockSize;J.call(this,Q,X,ne),K.encryptBlock(Q,X),this._prevBlock=Q.slice(X,X+ne)}}),z.Decryptor=z.extend({processBlock:function(Q,X){var K=this._cipher,ne=K.blockSize,Se=Q.slice(X,X+ne);K.decryptBlock(Q,X),J.call(this,Q,X,ne),this._prevBlock=Se}}),z}(),s=(O.pad={}).Pkcs7={pad:function(z,J){for(var Q=4*J,X=Q-z.sigBytes%Q,K=X<<24|X<<16|X<<8|X,ne=[],Se=0;Se<X;Se+=4)ne.push(K);var Be=k.create(ne,X);z.concat(Be)},unpad:function(z){z.sigBytes-=255&z.words[z.sigBytes-1>>>2]}},p.BlockCipher=P.extend({cfg:P.cfg.extend({mode:v,padding:s}),reset:function(){var z;P.reset.call(this);var J=this.cfg,Q=J.iv,X=J.mode;this._xformMode==this._ENC_XFORM_MODE?z=X.createEncryptor:(z=X.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==z?this._mode.init(this,Q&&Q.words):(this._mode=z.call(X,this,Q&&Q.words),this._mode.__creator=z)},_doProcessBlock:function(z,J){this._mode.processBlock(z,J)},_doFinalize:function(){var z,J=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(J.pad(this._data,this.blockSize),z=this._process(!0)):(z=this._process(!0),J.unpad(z)),z},blockSize:4}),h=p.CipherParams=B.extend({init:function(z){this.mixIn(z)},toString:function(z){return(z||this.formatter).stringify(this)}}),oe=(O.format={}).OpenSSL={stringify:function(z){var Q=z.ciphertext,X=z.salt;return(X?k.create([1398893684,1701076831]).concat(X).concat(Q):Q).toString(S)},parse:function(z){var J,Q=S.parse(z),X=Q.words;return 1398893684==X[0]&&1701076831==X[1]&&(J=k.create(X.slice(2,4)),X.splice(0,4),Q.sigBytes-=16),h.create({ciphertext:Q,salt:J})}},Ee=p.SerializableCipher=B.extend({cfg:B.extend({format:oe}),encrypt:function(z,J,Q,X){X=this.cfg.extend(X);var K=z.createEncryptor(Q,X),ne=K.finalize(J),Se=K.cfg;return h.create({ciphertext:ne,key:Q,iv:Se.iv,algorithm:z,mode:Se.mode,padding:Se.padding,blockSize:z.blockSize,formatter:X.format})},decrypt:function(z,J,Q,X){return X=this.cfg.extend(X),J=this._parse(J,X.format),z.createDecryptor(Q,X).finalize(J.ciphertext)},_parse:function(z,J){return"string"==typeof z?J.parse(z,this):z}}),pe=(O.kdf={}).OpenSSL={execute:function(z,J,Q,X){X||(X=k.random(8));var K=T.create({keySize:J+Q}).compute(z,X),ne=k.create(K.words.slice(J),4*Q);return K.sigBytes=4*J,h.create({key:K,iv:ne,salt:X})}},Y=p.PasswordBasedCipher=Ee.extend({cfg:Ee.cfg.extend({kdf:pe}),encrypt:function(z,J,Q,X){var K=(X=this.cfg.extend(X)).kdf.execute(Q,z.keySize,z.ivSize);X.iv=K.iv;var ne=Ee.encrypt.call(this,z,J,K.key,X);return ne.mixIn(K),ne},decrypt:function(z,J,Q,X){X=this.cfg.extend(X),J=this._parse(J,X.format);var K=X.kdf.execute(Q,z.keySize,z.ivSize,J.salt);return X.iv=K.iv,Ee.decrypt.call(this,z,J,K.key,X)}}))))},7585:function(ae,N,c){var _;ae.exports=(_=_||function(l,O){var p;if("undefined"!=typeof window&&window.crypto&&(p=window.crypto),"undefined"!=typeof self&&self.crypto&&(p=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(p=globalThis.crypto),!p&&"undefined"!=typeof window&&window.msCrypto&&(p=window.msCrypto),!p&&"undefined"!=typeof global&&global.crypto&&(p=global.crypto),!p)try{p=c(2480)}catch{}var B=function(){if(p){if("function"==typeof p.getRandomValues)try{return p.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof p.randomBytes)try{return p.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},k=Object.create||function(){function u(){}return function(s){var m;return u.prototype=s,m=new u,u.prototype=null,m}}(),j={},M=j.lib={},I=M.Base={extend:function(u){var s=k(this);return u&&s.mixIn(u),(!s.hasOwnProperty("init")||this.init===s.init)&&(s.init=function(){s.$super.init.apply(this,arguments)}),s.init.prototype=s,s.$super=this,s},create:function(){var u=this.extend();return u.init.apply(u,arguments),u},init:function(){},mixIn:function(u){for(var s in u)u.hasOwnProperty(s)&&(this[s]=u[s]);u.hasOwnProperty("toString")&&(this.toString=u.toString)},clone:function(){return this.init.prototype.extend(this)}},S=M.WordArray=I.extend({init:function(u,s){u=this.words=u||[],this.sigBytes=null!=s?s:4*u.length},toString:function(u){return(u||T).stringify(this)},concat:function(u){var s=this.words,m=u.words,h=this.sigBytes,$=u.sigBytes;if(this.clamp(),h%4)for(var oe=0;oe<$;oe++)s[h+oe>>>2]|=(m[oe>>>2]>>>24-oe%4*8&255)<<24-(h+oe)%4*8;else for(var ge=0;ge<$;ge+=4)s[h+ge>>>2]=m[ge>>>2];return this.sigBytes+=$,this},clamp:function(){var u=this.words,s=this.sigBytes;u[s>>>2]&=4294967295<<32-s%4*8,u.length=l.ceil(s/4)},clone:function(){var u=I.clone.call(this);return u.words=this.words.slice(0),u},random:function(u){for(var s=[],m=0;m<u;m+=4)s.push(B());return new S.init(s,u)}}),E=j.enc={},T=E.Hex={stringify:function(u){for(var s=u.words,m=u.sigBytes,h=[],$=0;$<m;$++){var oe=s[$>>>2]>>>24-$%4*8&255;h.push((oe>>>4).toString(16)),h.push((15&oe).toString(16))}return h.join("")},parse:function(u){for(var s=u.length,m=[],h=0;h<s;h+=2)m[h>>>3]|=parseInt(u.substr(h,2),16)<<24-h%8*4;return new S.init(m,s/2)}},P=E.Latin1={stringify:function(u){for(var s=u.words,m=u.sigBytes,h=[],$=0;$<m;$++)h.push(String.fromCharCode(s[$>>>2]>>>24-$%4*8&255));return h.join("")},parse:function(u){for(var s=u.length,m=[],h=0;h<s;h++)m[h>>>2]|=(255&u.charCodeAt(h))<<24-h%4*8;return new S.init(m,s)}},x=E.Utf8={stringify:function(u){try{return decodeURIComponent(escape(P.stringify(u)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(u){return P.parse(unescape(encodeURIComponent(u)))}},R=M.BufferedBlockAlgorithm=I.extend({reset:function(){this._data=new S.init,this._nDataBytes=0},_append:function(u){"string"==typeof u&&(u=x.parse(u)),this._data.concat(u),this._nDataBytes+=u.sigBytes},_process:function(u){var s,m=this._data,h=m.words,$=m.sigBytes,oe=this.blockSize,ge=$/(4*oe),pe=(ge=u?l.ceil(ge):l.max((0|ge)-this._minBufferSize,0))*oe,Y=l.min(4*pe,$);if(pe){for(var z=0;z<pe;z+=oe)this._doProcessBlock(h,z);s=h.splice(0,pe),m.sigBytes-=Y}return new S.init(s,Y)},clone:function(){var u=I.clone.call(this);return u._data=this._data.clone(),u},_minBufferSize:0}),v=(M.Hasher=R.extend({cfg:I.extend(),init:function(u){this.cfg=this.cfg.extend(u),this.reset()},reset:function(){R.reset.call(this),this._doReset()},update:function(u){return this._append(u),this._process(),this},finalize:function(u){return u&&this._append(u),this._doFinalize()},blockSize:16,_createHelper:function(u){return function(s,m){return new u.init(m).finalize(s)}},_createHmacHelper:function(u){return function(s,m){return new v.HMAC.init(u,m).finalize(s)}}}),j.algo={});return j}(Math),_)},8319:function(ae,N,c){var _,p;ae.exports=(_=c(7585),p=_.lib.WordArray,_.enc.Base64={stringify:function(M){var I=M.words,S=M.sigBytes,E=this._map;M.clamp();for(var T=[],P=0;P<S;P+=3)for(var v=(I[P>>>2]>>>24-P%4*8&255)<<16|(I[P+1>>>2]>>>24-(P+1)%4*8&255)<<8|I[P+2>>>2]>>>24-(P+2)%4*8&255,u=0;u<4&&P+.75*u<S;u++)T.push(E.charAt(v>>>6*(3-u)&63));var s=E.charAt(64);if(s)for(;T.length%4;)T.push(s);return T.join("")},parse:function(M){var I=M.length,S=this._map,E=this._reverseMap;if(!E){E=this._reverseMap=[];for(var T=0;T<S.length;T++)E[S.charCodeAt(T)]=T}var P=S.charAt(64);if(P){var x=M.indexOf(P);-1!==x&&(I=x)}return function(M,I,S){for(var E=[],T=0,P=0;P<I;P++)if(P%4){var x=S[M.charCodeAt(P-1)]<<P%4*2,R=S[M.charCodeAt(P)]>>>6-P%4*2;E[T>>>2]|=(x|R)<<24-T%4*8,T++}return p.create(E,T)}(M,I,E)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},_.enc.Base64)},4384:function(ae,N,c){ae.exports=c(7585).enc.Utf8},7865:function(ae,N,c){var l,O,p,B,k,M,_;ae.exports=(_=c(7585),c(5162),c(3764),B=(O=(l=_).lib).WordArray,M=(k=l.algo).EvpKDF=(p=O.Base).extend({cfg:p.extend({keySize:4,hasher:k.MD5,iterations:1}),init:function(I){this.cfg=this.cfg.extend(I)},compute:function(I,S){for(var E,T=this.cfg,P=T.hasher.create(),x=B.create(),R=x.words,b=T.keySize,v=T.iterations;R.length<b;){E&&P.update(E),E=P.update(I).finalize(S),P.reset();for(var u=1;u<v;u++)E=P.finalize(E),P.reset();x.concat(E)}return x.sigBytes=4*b,x}}),l.EvpKDF=function(I,S,E){return M.create(E).compute(I,S)},_.EvpKDF)},3764:function(ae,N,c){var _,k;ae.exports=(_=c(7585),k=_.enc.Utf8,void(_.algo.HMAC=_.lib.Base.extend({init:function(I,S){I=this._hasher=new I.init,"string"==typeof S&&(S=k.parse(S));var E=I.blockSize,T=4*E;S.sigBytes>T&&(S=I.finalize(S)),S.clamp();for(var P=this._oKey=S.clone(),x=this._iKey=S.clone(),R=P.words,b=x.words,v=0;v<E;v++)R[v]^=1549556828,b[v]^=909522486;P.sigBytes=x.sigBytes=T,this.reset()},reset:function(){var I=this._hasher;I.reset(),I.update(this._iKey)},update:function(I){return this._hasher.update(I),this},finalize:function(I){var S=this._hasher,E=S.finalize(I);return S.reset(),S.finalize(this._oKey.clone().concat(E))}})))},9493:function(ae,N,c){var _;ae.exports=(_=c(7585),function(l){var O=_,p=O.lib,B=p.WordArray,k=p.Hasher,j=O.algo,M=[];!function(){for(var x=0;x<64;x++)M[x]=4294967296*l.abs(l.sin(x+1))|0}();var I=j.MD5=k.extend({_doReset:function(){this._hash=new B.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(x,R){for(var b=0;b<16;b++){var v=R+b,u=x[v];x[v]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var s=this._hash.words,m=x[R+0],h=x[R+1],$=x[R+2],oe=x[R+3],Ee=x[R+4],ge=x[R+5],pe=x[R+6],Y=x[R+7],z=x[R+8],J=x[R+9],Q=x[R+10],X=x[R+11],K=x[R+12],ne=x[R+13],Se=x[R+14],Be=x[R+15],me=s[0],_e=s[1],te=s[2],ce=s[3];me=S(me,_e,te,ce,m,7,M[0]),ce=S(ce,me,_e,te,h,12,M[1]),te=S(te,ce,me,_e,$,17,M[2]),_e=S(_e,te,ce,me,oe,22,M[3]),me=S(me,_e,te,ce,Ee,7,M[4]),ce=S(ce,me,_e,te,ge,12,M[5]),te=S(te,ce,me,_e,pe,17,M[6]),_e=S(_e,te,ce,me,Y,22,M[7]),me=S(me,_e,te,ce,z,7,M[8]),ce=S(ce,me,_e,te,J,12,M[9]),te=S(te,ce,me,_e,Q,17,M[10]),_e=S(_e,te,ce,me,X,22,M[11]),me=S(me,_e,te,ce,K,7,M[12]),ce=S(ce,me,_e,te,ne,12,M[13]),te=S(te,ce,me,_e,Se,17,M[14]),me=E(me,_e=S(_e,te,ce,me,Be,22,M[15]),te,ce,h,5,M[16]),ce=E(ce,me,_e,te,pe,9,M[17]),te=E(te,ce,me,_e,X,14,M[18]),_e=E(_e,te,ce,me,m,20,M[19]),me=E(me,_e,te,ce,ge,5,M[20]),ce=E(ce,me,_e,te,Q,9,M[21]),te=E(te,ce,me,_e,Be,14,M[22]),_e=E(_e,te,ce,me,Ee,20,M[23]),me=E(me,_e,te,ce,J,5,M[24]),ce=E(ce,me,_e,te,Se,9,M[25]),te=E(te,ce,me,_e,oe,14,M[26]),_e=E(_e,te,ce,me,z,20,M[27]),me=E(me,_e,te,ce,ne,5,M[28]),ce=E(ce,me,_e,te,$,9,M[29]),te=E(te,ce,me,_e,Y,14,M[30]),me=T(me,_e=E(_e,te,ce,me,K,20,M[31]),te,ce,ge,4,M[32]),ce=T(ce,me,_e,te,z,11,M[33]),te=T(te,ce,me,_e,X,16,M[34]),_e=T(_e,te,ce,me,Se,23,M[35]),me=T(me,_e,te,ce,h,4,M[36]),ce=T(ce,me,_e,te,Ee,11,M[37]),te=T(te,ce,me,_e,Y,16,M[38]),_e=T(_e,te,ce,me,Q,23,M[39]),me=T(me,_e,te,ce,ne,4,M[40]),ce=T(ce,me,_e,te,m,11,M[41]),te=T(te,ce,me,_e,oe,16,M[42]),_e=T(_e,te,ce,me,pe,23,M[43]),me=T(me,_e,te,ce,J,4,M[44]),ce=T(ce,me,_e,te,K,11,M[45]),te=T(te,ce,me,_e,Be,16,M[46]),me=P(me,_e=T(_e,te,ce,me,$,23,M[47]),te,ce,m,6,M[48]),ce=P(ce,me,_e,te,Y,10,M[49]),te=P(te,ce,me,_e,Se,15,M[50]),_e=P(_e,te,ce,me,ge,21,M[51]),me=P(me,_e,te,ce,K,6,M[52]),ce=P(ce,me,_e,te,oe,10,M[53]),te=P(te,ce,me,_e,Q,15,M[54]),_e=P(_e,te,ce,me,h,21,M[55]),me=P(me,_e,te,ce,z,6,M[56]),ce=P(ce,me,_e,te,Be,10,M[57]),te=P(te,ce,me,_e,pe,15,M[58]),_e=P(_e,te,ce,me,ne,21,M[59]),me=P(me,_e,te,ce,Ee,6,M[60]),ce=P(ce,me,_e,te,X,10,M[61]),te=P(te,ce,me,_e,$,15,M[62]),_e=P(_e,te,ce,me,J,21,M[63]),s[0]=s[0]+me|0,s[1]=s[1]+_e|0,s[2]=s[2]+te|0,s[3]=s[3]+ce|0},_doFinalize:function(){var x=this._data,R=x.words,b=8*this._nDataBytes,v=8*x.sigBytes;R[v>>>5]|=128<<24-v%32;var u=l.floor(b/4294967296),s=b;R[15+(v+64>>>9<<4)]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),R[14+(v+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),x.sigBytes=4*(R.length+1),this._process();for(var m=this._hash,h=m.words,$=0;$<4;$++){var oe=h[$];h[$]=16711935&(oe<<8|oe>>>24)|4278255360&(oe<<24|oe>>>8)}return m},clone:function(){var x=k.clone.call(this);return x._hash=this._hash.clone(),x}});function S(x,R,b,v,u,s,m){var h=x+(R&b|~R&v)+u+m;return(h<<s|h>>>32-s)+R}function E(x,R,b,v,u,s,m){var h=x+(R&v|b&~v)+u+m;return(h<<s|h>>>32-s)+R}function T(x,R,b,v,u,s,m){var h=x+(R^b^v)+u+m;return(h<<s|h>>>32-s)+R}function P(x,R,b,v,u,s,m){var h=x+(b^(R|~v))+u+m;return(h<<s|h>>>32-s)+R}O.MD5=k._createHelper(I),O.HmacMD5=k._createHmacHelper(I)}(Math),_.MD5)},5162:function(ae,N,c){var l,O,p,B,j,M,_;ae.exports=(_=c(7585),p=(O=(l=_).lib).WordArray,j=[],M=l.algo.SHA1=(B=O.Hasher).extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(I,S){for(var E=this._hash.words,T=E[0],P=E[1],x=E[2],R=E[3],b=E[4],v=0;v<80;v++){if(v<16)j[v]=0|I[S+v];else{var u=j[v-3]^j[v-8]^j[v-14]^j[v-16];j[v]=u<<1|u>>>31}var s=(T<<5|T>>>27)+b+j[v];s+=v<20?1518500249+(P&x|~P&R):v<40?1859775393+(P^x^R):v<60?(P&x|P&R|x&R)-1894007588:(P^x^R)-899497514,b=R,R=x,x=P<<30|P>>>2,P=T,T=s}E[0]=E[0]+T|0,E[1]=E[1]+P|0,E[2]=E[2]+x|0,E[3]=E[3]+R|0,E[4]=E[4]+b|0},_doFinalize:function(){var I=this._data,S=I.words,E=8*this._nDataBytes,T=8*I.sigBytes;return S[T>>>5]|=128<<24-T%32,S[14+(T+64>>>9<<4)]=Math.floor(E/4294967296),S[15+(T+64>>>9<<4)]=E,I.sigBytes=4*S.length,this._process(),this._hash},clone:function(){var I=B.clone.call(this);return I._hash=this._hash.clone(),I}}),l.SHA1=B._createHelper(M),l.HmacSHA1=B._createHmacHelper(M),_.SHA1)},6952:(ae,N,c)=>{var _=c(1356),l=c(3407),O=c(2e3),p=c(2342),B=c(9235),k=c(2374),j=Date.prototype.getTime;function I(T){return null==T}function S(T){return!(!T||"object"!=typeof T||"number"!=typeof T.length||"function"!=typeof T.copy||"function"!=typeof T.slice||T.length>0&&"number"!=typeof T[0])}ae.exports=function M(T,P,x){var R=x||{};return!!(R.strict?O(T,P):T===P)||(!T||!P||"object"!=typeof T&&"object"!=typeof P?R.strict?O(T,P):T==P:function(T,P,x){var R,b;if(typeof T!=typeof P||I(T)||I(P)||T.prototype!==P.prototype||l(T)!==l(P))return!1;var v=p(T),u=p(P);if(v!==u)return!1;if(v||u)return T.source===P.source&&B(T)===B(P);if(k(T)&&k(P))return j.call(T)===j.call(P);var s=S(T),m=S(P);if(s!==m)return!1;if(s||m){if(T.length!==P.length)return!1;for(R=0;R<T.length;R++)if(T[R]!==P[R])return!1;return!0}if(typeof T!=typeof P)return!1;try{var h=_(T),$=_(P)}catch{return!1}if(h.length!==$.length)return!1;for(h.sort(),$.sort(),R=h.length-1;R>=0;R--)if(h[R]!=$[R])return!1;for(R=h.length-1;R>=0;R--)if(!M(T[b=h[R]],P[b],x))return!1;return!0}(T,P,R))}},4949:ae=>{ae.exports=function N(c){return Object.freeze(c),Object.getOwnPropertyNames(c).forEach(function(_){c.hasOwnProperty(_)&&null!==c[_]&&("object"==typeof c[_]||"function"==typeof c[_])&&!Object.isFrozen(c[_])&&N(c[_])}),c}},2358:(ae,N,c)=>{var _=c(1356),l="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),O=Object.prototype.toString,p=Array.prototype.concat,B=Object.defineProperty,M=B&&function(){var E={};try{for(var T in B(E,"x",{enumerable:!1,value:E}),E)return!1;return E.x===E}catch{return!1}}(),I=function(E,T,P,x){T in E&&(!function(E){return"function"==typeof E&&"[object Function]"===O.call(E)}(x)||!x())||(M?B(E,T,{configurable:!0,enumerable:!1,value:P,writable:!0}):E[T]=P)},S=function(E,T){var P=arguments.length>2?arguments[2]:{},x=_(T);l&&(x=p.call(x,Object.getOwnPropertySymbols(T)));for(var R=0;R<x.length;R+=1)I(E,x[R],T[x[R]],P[x[R]])};S.supportsDescriptors=!!M,ae.exports=S},9069:ae=>{var _,N="object"==typeof Reflect?Reflect:null,c=N&&"function"==typeof N.apply?N.apply:function(m,h,$){return Function.prototype.apply.call(m,h,$)};_=N&&"function"==typeof N.ownKeys?N.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var O=Number.isNaN||function(m){return m!=m};function p(){p.init.call(this)}ae.exports=p,ae.exports.once=function(s,m){return new Promise(function(h,$){function oe(ge){s.removeListener(m,Ee),$(ge)}function Ee(){"function"==typeof s.removeListener&&s.removeListener("error",oe),h([].slice.call(arguments))}u(s,m,Ee,{once:!0}),"error"!==m&&function(s,m,h){"function"==typeof s.on&&u(s,"error",m,{once:!0})}(s,oe)})},p.EventEmitter=p,p.prototype._events=void 0,p.prototype._eventsCount=0,p.prototype._maxListeners=void 0;var B=10;function k(s){if("function"!=typeof s)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof s)}function j(s){return void 0===s._maxListeners?p.defaultMaxListeners:s._maxListeners}function M(s,m,h,$){var oe,Ee,ge;if(k(h),void 0===(Ee=s._events)?(Ee=s._events=Object.create(null),s._eventsCount=0):(void 0!==Ee.newListener&&(s.emit("newListener",m,h.listener?h.listener:h),Ee=s._events),ge=Ee[m]),void 0===ge)ge=Ee[m]=h,++s._eventsCount;else if("function"==typeof ge?ge=Ee[m]=$?[h,ge]:[ge,h]:$?ge.unshift(h):ge.push(h),(oe=j(s))>0&&ge.length>oe&&!ge.warned){ge.warned=!0;var pe=new Error("Possible EventEmitter memory leak detected. "+ge.length+" "+String(m)+" listeners added. Use emitter.setMaxListeners() to increase limit");pe.name="MaxListenersExceededWarning",pe.emitter=s,pe.type=m,pe.count=ge.length,function(s){console&&console.warn&&console.warn(s)}(pe)}return s}function I(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function S(s,m,h){var $={fired:!1,wrapFn:void 0,target:s,type:m,listener:h},oe=I.bind($);return oe.listener=h,$.wrapFn=oe,oe}function E(s,m,h){var $=s._events;if(void 0===$)return[];var oe=$[m];return void 0===oe?[]:"function"==typeof oe?h?[oe.listener||oe]:[oe]:h?function(s){for(var m=new Array(s.length),h=0;h<m.length;++h)m[h]=s[h].listener||s[h];return m}(oe):P(oe,oe.length)}function T(s){var m=this._events;if(void 0!==m){var h=m[s];if("function"==typeof h)return 1;if(void 0!==h)return h.length}return 0}function P(s,m){for(var h=new Array(m),$=0;$<m;++$)h[$]=s[$];return h}function u(s,m,h,$){if("function"==typeof s.on)$.once?s.once(m,h):s.on(m,h);else{if("function"!=typeof s.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof s);s.addEventListener(m,function oe(Ee){$.once&&s.removeEventListener(m,oe),h(Ee)})}}Object.defineProperty(p,"defaultMaxListeners",{enumerable:!0,get:function(){return B},set:function(s){if("number"!=typeof s||s<0||O(s))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+s+".");B=s}}),p.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},p.prototype.setMaxListeners=function(m){if("number"!=typeof m||m<0||O(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},p.prototype.getMaxListeners=function(){return j(this)},p.prototype.emit=function(m){for(var h=[],$=1;$<arguments.length;$++)h.push(arguments[$]);var oe="error"===m,Ee=this._events;if(void 0!==Ee)oe=oe&&void 0===Ee.error;else if(!oe)return!1;if(oe){var ge;if(h.length>0&&(ge=h[0]),ge instanceof Error)throw ge;var pe=new Error("Unhandled error."+(ge?" ("+ge.message+")":""));throw pe.context=ge,pe}var Y=Ee[m];if(void 0===Y)return!1;if("function"==typeof Y)c(Y,this,h);else{var z=Y.length,J=P(Y,z);for($=0;$<z;++$)c(J[$],this,h)}return!0},p.prototype.on=p.prototype.addListener=function(m,h){return M(this,m,h,!1)},p.prototype.prependListener=function(m,h){return M(this,m,h,!0)},p.prototype.once=function(m,h){return k(h),this.on(m,S(this,m,h)),this},p.prototype.prependOnceListener=function(m,h){return k(h),this.prependListener(m,S(this,m,h)),this},p.prototype.off=p.prototype.removeListener=function(m,h){var $,oe,Ee,ge,pe;if(k(h),void 0===(oe=this._events))return this;if(void 0===($=oe[m]))return this;if($===h||$.listener===h)0==--this._eventsCount?this._events=Object.create(null):(delete oe[m],oe.removeListener&&this.emit("removeListener",m,$.listener||h));else if("function"!=typeof $){for(Ee=-1,ge=$.length-1;ge>=0;ge--)if($[ge]===h||$[ge].listener===h){pe=$[ge].listener,Ee=ge;break}if(Ee<0)return this;0===Ee?$.shift():function(s,m){for(;m+1<s.length;m++)s[m]=s[m+1];s.pop()}($,Ee),1===$.length&&(oe[m]=$[0]),void 0!==oe.removeListener&&this.emit("removeListener",m,pe||h)}return this},p.prototype.removeAllListeners=function(m){var h,$,oe;if(void 0===($=this._events))return this;if(void 0===$.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==$[m]&&(0==--this._eventsCount?this._events=Object.create(null):delete $[m]),this;if(0===arguments.length){var ge,Ee=Object.keys($);for(oe=0;oe<Ee.length;++oe)"removeListener"!==(ge=Ee[oe])&&this.removeAllListeners(ge);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(h=$[m]))this.removeListener(m,h);else if(void 0!==h)for(oe=h.length-1;oe>=0;oe--)this.removeListener(m,h[oe]);return this},p.prototype.listeners=function(m){return E(this,m,!0)},p.prototype.rawListeners=function(m){return E(this,m,!1)},p.listenerCount=function(s,m){return"function"==typeof s.listenerCount?s.listenerCount(m):T.call(s,m)},p.prototype.listenerCount=T,p.prototype.eventNames=function(){return this._eventsCount>0?_(this._events):[]}},2559:ae=>{ae.exports=function N(c,_){if(c===_)return!0;if(c&&_&&"object"==typeof c&&"object"==typeof _){if(c.constructor!==_.constructor)return!1;var l,O,p;if(Array.isArray(c)){if((l=c.length)!=_.length)return!1;for(O=l;0!=O--;)if(!N(c[O],_[O]))return!1;return!0}if(c.constructor===RegExp)return c.source===_.source&&c.flags===_.flags;if(c.valueOf!==Object.prototype.valueOf)return c.valueOf()===_.valueOf();if(c.toString!==Object.prototype.toString)return c.toString()===_.toString();if((l=(p=Object.keys(c)).length)!==Object.keys(_).length)return!1;for(O=l;0!=O--;)if(!Object.prototype.hasOwnProperty.call(_,p[O]))return!1;for(O=l;0!=O--;){var B=p[O];if(!N(c[B],_[B]))return!1}return!0}return c!=c&&_!=_}},9076:ae=>{var N=Object.prototype.hasOwnProperty,c=Object.prototype.toString;ae.exports=function(l,O,p){if("[object Function]"!==c.call(O))throw new TypeError("iterator must be a function");var B=l.length;if(B===+B)for(var k=0;k<B;k++)O.call(p,l[k],k,l);else for(var j in l)N.call(l,j)&&O.call(p,l[j],j,l)}},3457:ae=>{var N="Function.prototype.bind called on incompatible ",c=Array.prototype.slice,_=Object.prototype.toString,l="[object Function]";ae.exports=function(p){var B=this;if("function"!=typeof B||_.call(B)!==l)throw new TypeError(N+B);for(var j,k=c.call(arguments,1),M=function(){if(this instanceof j){var P=B.apply(this,k.concat(c.call(arguments)));return Object(P)===P?P:this}return B.apply(p,k.concat(c.call(arguments)))},I=Math.max(0,B.length-k.length),S=[],E=0;E<I;E++)S.push("$"+E);if(j=Function("binder","return function ("+S.join(",")+"){ return binder.apply(this,arguments); }")(M),B.prototype){var T=function(){};T.prototype=B.prototype,j.prototype=new T,T.prototype=null}return j}},4444:(ae,N,c)=>{var _=c(3457);ae.exports=Function.prototype.bind||_},1227:(ae,N,c)=>{for(var _=c(6788),l=c(7549),O=/[\{\[]/,p=/[\}\]]/,B=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],k={},j=0;j<B.length;j++)k[B[j]]=!0;var M=function(E){return l(E)&&!k.hasOwnProperty(E)},I={s:function(E){return""+E},d:function(E){return""+Number(E)},o:function(E){return JSON.stringify(E)}},S=function(){var E=[],T=0,P={},x=function(v){for(var u="";u.length<2*T;)u+="  ";E.push(u+v)},R=function(v){return p.test(v.trim()[0])&&O.test(v[v.length-1])?(T--,x(v),void T++):O.test(v[v.length-1])?(x(v),void T++):p.test(v.trim()[0])?(T--,void x(v)):void x(v)},b=function(v){if(!v)return b;if(1===arguments.length&&v.indexOf("\n")>-1)for(var u=v.trim().split("\n"),s=0;s<u.length;s++)R(u[s].trim());else R(_.format.apply(_,arguments));return b};return b.scope={},b.formats=I,b.sym=function(v){return(!v||!M(v))&&(v="tmp"),P[v]||(P[v]=0),v+(P[v]++||"")},b.property=function(v,u){return 1===arguments.length&&(u=v,v=""),l(u+="")?v?v+"."+u:u:v?v+"["+JSON.stringify(u)+"]":JSON.stringify(u)},b.toString=function(){return E.join("\n")},b.toFunction=function(v){v||(v={});var u="return ("+b.toString()+")";Object.keys(b.scope).forEach(function(h){v[h]||(v[h]=b.scope[h])});var s=Object.keys(v).map(function(h){return h}),m=s.map(function(h){return v[h]});return Function.apply(null,s.concat(u)).apply(null,m)},arguments.length&&b.apply(null,arguments),b};S.formats=I,ae.exports=S},2562:(ae,N,c)=>{var _=c(7549),l=function(O,p){return _(p)?O+"."+p:O+"["+JSON.stringify(p)+"]"};l.valid=_,l.property=function(O){return _(O)?O:JSON.stringify(O)},ae.exports=l},5203:(ae,N,c)=>{var _,l=SyntaxError,O=Function,p=TypeError,B=function(pe){try{return O('"use strict"; return ('+pe+").constructor;")()}catch{}},k=Object.getOwnPropertyDescriptor;if(k)try{k({},"")}catch{k=null}var j=function(){throw new p},M=k?function(){try{return j}catch{try{return k(arguments,"callee").get}catch{return j}}}():j,I=c(2969)(),S=Object.getPrototypeOf||function(pe){return pe.__proto__},E={},T="undefined"==typeof Uint8Array?_:S(Uint8Array),P={"%AggregateError%":"undefined"==typeof AggregateError?_:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?_:ArrayBuffer,"%ArrayIteratorPrototype%":I?S([][Symbol.iterator]()):_,"%AsyncFromSyncIteratorPrototype%":_,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":"undefined"==typeof Atomics?_:Atomics,"%BigInt%":"undefined"==typeof BigInt?_:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?_:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?_:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?_:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?_:FinalizationRegistry,"%Function%":O,"%GeneratorFunction%":E,"%Int8Array%":"undefined"==typeof Int8Array?_:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?_:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?_:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":I?S(S([][Symbol.iterator]())):_,"%JSON%":"object"==typeof JSON?JSON:_,"%Map%":"undefined"==typeof Map?_:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&I?S((new Map)[Symbol.iterator]()):_,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?_:Promise,"%Proxy%":"undefined"==typeof Proxy?_:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?_:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?_:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&I?S((new Set)[Symbol.iterator]()):_,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?_:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":I?S(""[Symbol.iterator]()):_,"%Symbol%":I?Symbol:_,"%SyntaxError%":l,"%ThrowTypeError%":M,"%TypedArray%":T,"%TypeError%":p,"%Uint8Array%":"undefined"==typeof Uint8Array?_:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?_:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?_:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?_:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?_:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?_:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?_:WeakSet},x=function pe(Y){var z;if("%AsyncFunction%"===Y)z=B("async function () {}");else if("%GeneratorFunction%"===Y)z=B("function* () {}");else if("%AsyncGeneratorFunction%"===Y)z=B("async function* () {}");else if("%AsyncGenerator%"===Y){var J=pe("%AsyncGeneratorFunction%");J&&(z=J.prototype)}else if("%AsyncIteratorPrototype%"===Y){var Q=pe("%AsyncGenerator%");Q&&(z=S(Q.prototype))}return P[Y]=z,z},R={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=c(4444),v=c(3164),u=b.call(Function.call,Array.prototype.concat),s=b.call(Function.apply,Array.prototype.splice),m=b.call(Function.call,String.prototype.replace),h=b.call(Function.call,String.prototype.slice),$=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,oe=/\\(\\)?/g,Ee=function(Y){var z=h(Y,0,1),J=h(Y,-1);if("%"===z&&"%"!==J)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===J&&"%"!==z)throw new l("invalid intrinsic syntax, expected opening `%`");var Q=[];return m(Y,$,function(X,K,ne,Se){Q[Q.length]=ne?m(Se,oe,"$1"):K||X}),Q},ge=function(Y,z){var Q,J=Y;if(v(R,J)&&(J="%"+(Q=R[J])[0]+"%"),v(P,J)){var X=P[J];if(X===E&&(X=x(J)),void 0===X&&!z)throw new p("intrinsic "+Y+" exists, but is not available. Please file an issue!");return{alias:Q,name:J,value:X}}throw new l("intrinsic "+Y+" does not exist!")};ae.exports=function(Y,z){if("string"!=typeof Y||0===Y.length)throw new p("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof z)throw new p('"allowMissing" argument must be a boolean');var J=Ee(Y),Q=J.length>0?J[0]:"",X=ge("%"+Q+"%",z),K=X.name,ne=X.value,Se=!1,Be=X.alias;Be&&(Q=Be[0],s(J,u([0,1],Be)));for(var me=1,_e=!0;me<J.length;me+=1){var te=J[me],ce=h(te,0,1),Te=h(te,-1);if(('"'===ce||"'"===ce||"`"===ce||'"'===Te||"'"===Te||"`"===Te)&&ce!==Te)throw new l("property names with quotes must have matching quotes");if(("constructor"===te||!_e)&&(Se=!0),v(P,K="%"+(Q+="."+te)+"%"))ne=P[K];else if(null!=ne){if(!(te in ne)){if(!z)throw new p("base intrinsic for "+Y+" exists, but the property is not available.");return}if(k&&me+1>=J.length){var Ne=k(ne,te);ne=(_e=!!Ne)&&"get"in Ne&&!("originalValue"in Ne.get)?Ne.get:ne[te]}else _e=v(ne,te),ne=ne[te];_e&&!Se&&(P[K]=ne)}}return ne}},2969:(ae,N,c)=>{var _="undefined"!=typeof Symbol&&Symbol,l=c(1983);ae.exports=function(){return"function"==typeof _&&"function"==typeof Symbol&&"symbol"==typeof _("foo")&&"symbol"==typeof Symbol("bar")&&l()}},1983:ae=>{ae.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var c={},_=Symbol("test"),l=Object(_);if("string"==typeof _||"[object Symbol]"!==Object.prototype.toString.call(_)||"[object Symbol]"!==Object.prototype.toString.call(l))return!1;for(_ in c[_]=42,c)return!1;if("function"==typeof Object.keys&&0!==Object.keys(c).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(c).length)return!1;var p=Object.getOwnPropertySymbols(c);if(1!==p.length||p[0]!==_||!Object.prototype.propertyIsEnumerable.call(c,_))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var B=Object.getOwnPropertyDescriptor(c,_);if(42!==B.value||!0!==B.enumerable)return!1}return!0}},6259:(ae,N,c)=>{var _=c(1983);ae.exports=function(){return _()&&!!Symbol.toStringTag}},3164:(ae,N,c)=>{var _=c(4444);ae.exports=_.call(Function.call,Object.prototype.hasOwnProperty)},3894:ae=>{ae.exports="function"==typeof Object.create?function(c,_){_&&(c.super_=_,c.prototype=Object.create(_.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:function(c,_){if(_){c.super_=_;var l=function(){};l.prototype=_.prototype,c.prototype=new l,c.prototype.constructor=c}}},3407:(ae,N,c)=>{var _=c(6259)(),O=c(5834)("Object.prototype.toString"),p=function(M){return!(_&&M&&"object"==typeof M&&Symbol.toStringTag in M)&&"[object Arguments]"===O(M)},B=function(M){return!!p(M)||null!==M&&"object"==typeof M&&"number"==typeof M.length&&M.length>=0&&"[object Array]"!==O(M)&&"[object Function]"===O(M.callee)},k=function(){return p(arguments)}();p.isLegacyArguments=B,ae.exports=k?p:B},2374:(ae,N,c)=>{var _=Date.prototype.getDay,O=Object.prototype.toString,B=c(6259)();ae.exports=function(j){return"object"==typeof j&&null!==j&&(B?function(j){try{return _.call(j),!0}catch{return!1}}(j):"[object Date]"===O.call(j))}},9456:ae=>{ae.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||"undefined"!=typeof process&&"object"==typeof process.versions&&!!process.versions.electron||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}},110:(ae,N,c)=>{var j,_=Object.prototype.toString,l=Function.prototype.toString,O=/^\s*(?:function)?\*/,p=c(6259)(),B=Object.getPrototypeOf;ae.exports=function(I){if("function"!=typeof I)return!1;if(O.test(l.call(I)))return!0;if(!p)return"[object GeneratorFunction]"===_.call(I);if(!B)return!1;if(void 0===j){var E=function(){if(!p)return!1;try{return Function("return function*() {}")()}catch{}}();j=!!E&&B(E)}return B(I)===j}},1570:ae=>{var N=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c=/\/\d{1,3}(?=%|$)/,_=/\//,l=/%.*$/,O=/([^0-9a-f:/%])/i,p=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function B(M){if(!N.test(M))return!1;var I=M.split(".");if(4!==I.length||"0"===I[0][0]&&I[0].length>1||"0"===I[1][0]&&I[1].length>1||"0"===I[2][0]&&I[2].length>1||"0"===I[3][0]&&I[3].length>1)return!1;var S=Number(I[0]),E=Number(I[1]),T=Number(I[2]),P=Number(I[3]);return S>=0&&S<256&&E>=0&&E<256&&T>=0&&T<256&&P>=0&&P<256}function k(M){var I=M.replace(c,""),S=M.length!==I.length;if(S||!S&&_.test(M))return!1;var E=I.replace(l,""),T=E.lastIndexOf(":");if(-1===T)return!1;var R=B(E.substring(T+1))?E.substring(0,T+1)+"1234:5678":E;if(O.test(R)||p.test(R))return!1;var b=R.split("::");if(b.length>2)return!1;if(2===b.length){var v=""===b[0]?[]:b[0].split(":"),u=""===b[1]?[]:b[1].split(":");if(8-(v.length+u.length)<=0)return!1}else if(8!==R.split(":").length)return!1;return!0}function j(M){return B(M)||k(M)}ae.exports=function(I){if(I||(I={}),4===I.version)return B;if(6===I.version)return k;if(null==I.version)return j;throw new Error("Unknown version: "+I.version)},ae.exports.__all_regexes__=[N,c,_,l,O,p]},1367:(ae,N,c)=>{var _=c(1570),l=/\s/,O=/^[a-zA-Z0-9.-]+$/,p=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,B=/^\+[0-9][0-9 ]{5,27}[0-9]$/,k=/ {2}/,j=/ /g;N["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,N.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,N.time=/^\d{2}:\d{2}:\d{2}$/,N.email=function(M){return-1!==M.indexOf("@")&&!l.test(M)},N["ip-address"]=N.ipv4=_({version:4}),N.ipv6=_({version:6}),N.uri=/^[a-zA-Z][a-zA-Z0-9+\-.]*:[^\s]*$/,N.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,N.hostname=function(M){if(!O.test(M))return!1;for(var I=M.split("."),S=0;S<I.length;S++)if(!p.test(I[S]))return!1;return!0},N.alpha=/^[a-zA-Z]+$/,N.alphanumeric=/^[a-zA-Z0-9]+$/,N.style=/.:\s*[^;]/g,N.phone=function(M){if(!B.test(M)||k.test(M))return!1;var I=M.substring(1).replace(j,"").length;return I>=7&&I<=15},N["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/},8167:(ae,N,c)=>{var _=c(2562),l=c(1227),O=c(6936),p=c(1995),B=c(1367),j={any:function(){return"true"},null:function(T){return T+" === null"},boolean:function(T){return"typeof "+T+' === "boolean"'},array:function(T){return"Array.isArray("+T+")"},object:function(T){return"typeof "+T+' === "object" && '+T+" && !Array.isArray("+T+")"},number:function(T){return"typeof "+T+' === "number" && isFinite('+T+")"},integer:function(T){return"typeof "+T+' === "number" && (Math.floor('+T+") === "+T+" || "+T+" > 9007199254740992 || "+T+" < -9007199254740992)"},string:function(T){return"typeof "+T+' === "string"'}},M=function(T,P){P=Math.min(-1===P?T.length:P,T.length);for(var x=[],R=0;R<P;R++)x.push("object"==typeof T[R]?JSON.stringify(T[R]):T[R]);for(R=1;R<x.length;R++)if(x.indexOf(x[R])!==R)return!1;return!0},I=function(T,P){var R=(0|P)!==P?Math.pow(10,P.toString().split(".").pop().length):1;return!(R>1?((0|T)!==T?Math.pow(10,T.toString().split(".").pop().length):1)>R||Math.round(R*T)%(R*P):T%P)},S=function(T,P,x){return x>-1&&P.length>x||T.test(P)},E=function(T,P,x,R,b){var v=b?p(B,b.formats):B,u={unique:M,formats:v,isMultipleOf:I,testLimitedRegex:S},s=!!b&&!!b.verbose,m=!(!b||void 0===b.greedy)&&b.greedy,h={},$=[],oe=function(X){var K=X+(h[X]=(h[X]||0)+1);return $.push(K),K},Ee=function(X){var K=JSON.stringify(X);try{for(var ne=/\[([^\[\]"]+)\]/;ne.test(K);)K=K.replace(ne,Se);return K}catch{return JSON.stringify(X)}function Se(Be,me){if(-1===$.indexOf(me))throw new Error("Unreplaceable");return'." + '+me+' + "'}},ge={},pe=function(X){if(ge[X])return ge[X];var K=oe("pattern");return u[K]=new RegExp(X),ge[X]=K,K},Y=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],z=function(){var X=Y.shift();return Y.push(X+X[0]),$.push(X),X},J=function(X,K,ne,Se,Be){var me=K.properties,_e=K.type,te=!1;Array.isArray(K.items)&&(me={},K.items.forEach(function(Tt,xt){me[xt]=Tt}),_e="array",te=!0);var ce=0,Te=function(Tt,xt,Rt){Q("errors++"),!0===ne&&(Q("if (validate.errors === null) validate.errors = []"),s?Q("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",Ee(xt||X),JSON.stringify(Tt),Rt||X,JSON.stringify(_e),JSON.stringify(Be)):Q("validate.errors.push({field:%s,message:%s})",Ee(xt||X),JSON.stringify(Tt)))};!0===K.required?(ce++,Q("if (%s === undefined) {",X),Te("is required"),Q("} else {")):(ce++,Q("if (%s !== undefined) {",X));var Ne=[].concat(_e).map(function(Tt){if(Tt&&!j.hasOwnProperty(Tt))throw new Error("Unknown type: "+Tt);return j[Tt||"any"](X)}).join(" || ")||"true";if("true"!==Ne&&(ce++,Q("if (!(%s)) {",Ne),Te("is the wrong type"),Q("} else {")),te)if(!1===K.additionalItems)Q("if (%s.length > %d) {",X,K.items.length),Te("has additional items"),Q("}");else if(K.additionalItems){var Ge=z();Q("for (var %s = %d; %s < %s.length; %s++) {",Ge,K.items.length,Ge,X,Ge),J(X+"["+Ge+"]",K.additionalItems,ne,Se,Be.concat("additionalItems")),Q("}")}if(K.format&&v[K.format]){"string"!==_e&&B[K.format]&&Q("if (%s) {",j.string(X));var ut=oe("format");u[ut]=v[K.format],"function"==typeof u[ut]?Q("if (!%s(%s)) {",ut,X):Q("if (!testLimitedRegex(%s, %s, %d)) {",ut,X,void 0===K.maxLength?-1:K.maxLength),Te("must be "+K.format+" format"),Q("}"),"string"!==_e&&B[K.format]&&Q("}")}if(Array.isArray(K.required)&&(ut=oe("missing"),Q("var %s = 0",ut),Q("if ((%s)) {","object"!==_e?j.object(X):"true"),K.required.map(function(xt){var Rt=_(X,xt);Q("if (%s === undefined) {",Rt),Te("is required",Rt),Q("%s++",ut),Q("}")}),Q("}"),m||(Q("if (%s === 0) {",ut),ce++)),K.uniqueItems&&("array"!==_e&&Q("if (%s) {",j.array(X)),Q("if (!(unique(%s, %d))) {",X,K.maxItems||-1),Te("must be unique"),Q("}"),"array"!==_e&&Q("}")),K.enum){var ct=K.enum.some(function(Tt){return"object"==typeof Tt});Q("if (%s) {",K.enum.map(ct?function(Tt){return"JSON.stringify("+X+") !== JSON.stringify("+JSON.stringify(Tt)+")"}:function(Tt){return X+" !== "+JSON.stringify(Tt)}).join(" && ")||"false"),Te("must be an enum value"),Q("}")}if(K.dependencies&&("object"!==_e&&Q("if (%s) {",j.object(X)),Object.keys(K.dependencies).forEach(function(Tt){var xt=K.dependencies[Tt];"string"==typeof xt&&(xt=[xt]),Array.isArray(xt)&&(Q("if (%s !== undefined && !(%s)) {",_(X,Tt),xt.map(function(an){return _(X,an)+" !== undefined"}).join(" && ")||"true"),Te("dependencies not set"),Q("}")),"object"==typeof xt&&(Q("if (%s !== undefined) {",_(X,Tt)),J(X,xt,ne,Se,Be.concat(["dependencies",Tt])),Q("}"))}),"object"!==_e&&Q("}")),K.additionalProperties||!1===K.additionalProperties){"object"!==_e&&Q("if (%s) {",j.object(X)),Ge=z();var It=oe("keys"),br=Object.keys(me||{}).map(function(xt){return It+"["+Ge+"] !== "+JSON.stringify(xt)}).concat(Object.keys(K.patternProperties||{}).map(function(xt){return"!"+pe(xt)+".test("+It+"["+Ge+"])"})).join(" && ")||"true";Q("var %s = Object.keys(%s)",It,X)("for (var %s = 0; %s < %s.length; %s++) {",Ge,Ge,It,Ge)("if (%s) {",br),!1===K.additionalProperties?(Se&&Q("delete %s",X+"["+It+"["+Ge+"]]"),Te("has additional properties",null,JSON.stringify(X+".")+" + "+It+"["+Ge+"]")):J(X+"["+It+"["+Ge+"]]",K.additionalProperties,ne,Se,Be.concat(["additionalProperties"])),Q("}")("}"),"object"!==_e&&Q("}")}if(K.$ref){var cr=function(T,P,x){var R=function(h){return h&&h.id===x?h:"object"==typeof h&&h?Object.keys(h).reduce(function($,oe){return $||R(h[oe])},null):null},b=R(T);if(b)return b;x=(x=x.replace(/^#/,"")).replace(/\/$/,"");try{return O.get(T,decodeURI(x))}catch{var u,v=x.indexOf("#");if(0!==v)if(-1===v)u=P[x];else{u=P[x.slice(0,v)];var m=x.slice(v).replace(/^#/,"");try{return O.get(u,m)}catch{}}else u=P[x];return u||null}}(x,b&&b.schemas||{},K.$ref);if(cr){var mr=P[K.$ref];mr||(P[K.$ref]=function(Rt){return mr(Rt)},mr=E(cr,P,x,!1,b)),ut=oe("ref"),u[ut]=mr,Q("if (!(%s(%s))) {",ut,X),Te("referenced schema does not match"),Q("}")}}if(K.not){var rr=oe("prev");Q("var %s = errors",rr),J(X,K.not,!1,Se,Be.concat("not")),Q("if (%s === errors) {",rr),Te("negative schema matches"),Q("} else {")("errors = %s",rr)("}")}if(K.items&&!te&&("array"!==_e&&Q("if (%s) {",j.array(X)),Ge=z(),Q("for (var %s = 0; %s < %s.length; %s++) {",Ge,Ge,X,Ge),J(X+"["+Ge+"]",K.items,ne,Se,Be.concat("items")),Q("}"),"array"!==_e&&Q("}")),K.patternProperties&&("object"!==_e&&Q("if (%s) {",j.object(X)),It=oe("keys"),Ge=z(),Q("var %s = Object.keys(%s)",It,X)("for (var %s = 0; %s < %s.length; %s++) {",Ge,Ge,It,Ge),Object.keys(K.patternProperties).forEach(function(Rt){var an=pe(Rt);Q("if (%s.test(%s)) {",an,It+"["+Ge+"]"),J(X+"["+It+"["+Ge+"]]",K.patternProperties[Rt],ne,Se,Be.concat(["patternProperties",Rt])),Q("}")}),Q("}"),"object"!==_e&&Q("}")),K.pattern){var Jr=pe(K.pattern);"string"!==_e&&Q("if (%s) {",j.string(X)),Q("if (!(testLimitedRegex(%s, %s, %d))) {",Jr,X,void 0===K.maxLength?-1:K.maxLength),Te("pattern mismatch"),Q("}"),"string"!==_e&&Q("}")}if(K.allOf&&K.allOf.forEach(function(Tt,xt){J(X,Tt,ne,Se,Be.concat(["allOf",xt]))}),K.anyOf&&K.anyOf.length&&(rr=oe("prev"),K.anyOf.forEach(function(xt,Rt){0===Rt?Q("var %s = errors",rr):Q("if (errors !== %s) {",rr)("errors = %s",rr),J(X,xt,!1,!1,Be)}),K.anyOf.forEach(function(xt,Rt){Rt&&Q("}")}),Q("if (%s !== errors) {",rr),Te("no schemas match"),Q("}")),K.oneOf&&K.oneOf.length){rr=oe("prev");var je=oe("passes");Q("var %s = errors",rr)("var %s = 0",je),K.oneOf.forEach(function(xt,Rt){J(X,xt,!1,!1,Be),Q("if (%s === errors) {",rr)("%s++",je)("} else {")("errors = %s",rr)("}")}),Q("if (%s !== 1) {",je),Te("no (or more than one) schemas match"),Q("}")}for(void 0!==K.multipleOf&&("number"!==_e&&"integer"!==_e&&Q("if (%s) {",j.number(X)),Q("if (!isMultipleOf(%s, %d)) {",X,K.multipleOf),Te("has a remainder"),Q("}"),"number"!==_e&&"integer"!==_e&&Q("}")),void 0!==K.maxProperties&&("object"!==_e&&Q("if (%s) {",j.object(X)),Q("if (Object.keys(%s).length > %d) {",X,K.maxProperties),Te("has more properties than allowed"),Q("}"),"object"!==_e&&Q("}")),void 0!==K.minProperties&&("object"!==_e&&Q("if (%s) {",j.object(X)),Q("if (Object.keys(%s).length < %d) {",X,K.minProperties),Te("has less properties than allowed"),Q("}"),"object"!==_e&&Q("}")),void 0!==K.maxItems&&("array"!==_e&&Q("if (%s) {",j.array(X)),Q("if (%s.length > %d) {",X,K.maxItems),Te("has more items than allowed"),Q("}"),"array"!==_e&&Q("}")),void 0!==K.minItems&&("array"!==_e&&Q("if (%s) {",j.array(X)),Q("if (%s.length < %d) {",X,K.minItems),Te("has less items than allowed"),Q("}"),"array"!==_e&&Q("}")),void 0!==K.maxLength&&("string"!==_e&&Q("if (%s) {",j.string(X)),Q("if (%s.length > %d) {",X,K.maxLength),Te("has longer length than allowed"),Q("}"),"string"!==_e&&Q("}")),void 0!==K.minLength&&("string"!==_e&&Q("if (%s) {",j.string(X)),Q("if (%s.length < %d) {",X,K.minLength),Te("has less length than allowed"),Q("}"),"string"!==_e&&Q("}")),void 0!==K.minimum&&("number"!==_e&&"integer"!==_e&&Q("if (%s) {",j.number(X)),Q("if (%s %s %d) {",X,K.exclusiveMinimum?"<=":"<",K.minimum),Te("is less than minimum"),Q("}"),"number"!==_e&&"integer"!==_e&&Q("}")),void 0!==K.maximum&&("number"!==_e&&"integer"!==_e&&Q("if (%s) {",j.number(X)),Q("if (%s %s %d) {",X,K.exclusiveMaximum?">=":">",K.maximum),Te("is more than maximum"),Q("}"),"number"!==_e&&"integer"!==_e&&Q("}")),me&&Object.keys(me).forEach(function(Tt){Array.isArray(_e)&&-1!==_e.indexOf("null")&&Q("if (%s !== null) {",X),J(_(X,Tt),me[Tt],ne,Se,Be.concat(te?Tt:["properties",Tt])),Array.isArray(_e)&&-1!==_e.indexOf("null")&&Q("}")});ce--;)Q("}")},Q=l("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return J("data",T,R,b&&b.filter,[]),Q("return errors === 0")("}"),(Q=Q.toFunction(u)).errors=null,Object.defineProperty&&Object.defineProperty(Q,"error",{get:function(){return Q.errors?Q.errors.map(function(X){return X.field+" "+X.message}).join("\n"):""}}),Q.toJSON=function(){return T},Q};ae.exports=function(T,P){return"string"==typeof T&&(T=JSON.parse(T)),E(T,{},T,!0,P)},ae.exports.filter=function(T,P){var x=ae.exports(T,p(P,{filter:!0}));return function(R){return x(R),R}}},7549:ae=>{ae.exports=function(c){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(c)}},2342:(ae,N,c)=>{var O,p,B,k,_=c(5834),l=c(6259)();if(l){O=_("Object.prototype.hasOwnProperty"),p=_("RegExp.prototype.exec"),B={};var j=function(){throw B};k={toString:j,valueOf:j},"symbol"==typeof Symbol.toPrimitive&&(k[Symbol.toPrimitive]=j)}var M=_("Object.prototype.toString"),I=Object.getOwnPropertyDescriptor;ae.exports=l?function(T){if(!T||"object"!=typeof T)return!1;var P=I(T,"lastIndex");if(!P||!O(P,"value"))return!1;try{p(T,k)}catch(R){return R===B}}:function(T){return!(!T||"object"!=typeof T&&"function"!=typeof T)&&"[object RegExp]"===M(T)}},597:(ae,N,c)=>{var _=c(9076),l=c(7029),O=c(5834),p=O("Object.prototype.toString"),B=c(6259)(),k="undefined"==typeof globalThis?global:globalThis,j=l(),M=O("Array.prototype.indexOf",!0)||function(R,b){for(var v=0;v<R.length;v+=1)if(R[v]===b)return v;return-1},I=O("String.prototype.slice"),S={},E=c(8555),T=Object.getPrototypeOf;B&&E&&T&&_(j,function(x){var R=new k[x];if(Symbol.toStringTag in R){var b=T(R),v=E(b,Symbol.toStringTag);if(!v){var u=T(b);v=E(u,Symbol.toStringTag)}S[x]=v.get}}),ae.exports=function(R){if(!R||"object"!=typeof R)return!1;if(!B||!(Symbol.toStringTag in R)){var b=I(p(R),8,-1);return M(j,b)>-1}return!!E&&function(R){var b=!1;return _(S,function(v,u){if(!b)try{b=v.call(R)===u}catch{}}),b}(R)}},6936:(ae,N)=>{var c=/~/,_=/~[01]/g;function l(I){switch(I){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+I)}function O(I){return c.test(I)?I.replace(_,l):I}function B(I){if("string"==typeof I){if(""===(I=I.split("/"))[0])return I;throw new Error("Invalid JSON pointer.")}if(Array.isArray(I)){for(const S of I)if("string"!=typeof S&&"number"!=typeof S)throw new Error("Invalid JSON pointer. Must be of type string or number.");return I}throw new Error("Invalid JSON pointer.")}function k(I,S){if("object"!=typeof I)throw new Error("Invalid input object.");var E=(S=B(S)).length;if(1===E)return I;for(var T=1;T<E;){if(I=I[O(S[T++])],E===T)return I;if("object"!=typeof I)return}}function j(I,S,E){if("object"!=typeof I)throw new Error("Invalid input object.");if(0===(S=B(S)).length)throw new Error("Invalid JSON pointer for set.");return function(I,S,E){for(var T,P,x=1,R=S.length;x<R;){if("constructor"===S[x]||"prototype"===S[x]||"__proto__"===S[x])return I;if(T=O(S[x++]),P=R>x,void 0===I[T]&&(Array.isArray(I)&&"-"===T&&(T=I.length),P&&(I[T]=""!==S[x]&&S[x]<1/0||"-"===S[x]?[]:{})),!P)break;I=I[T]}var b=I[T];return void 0===E?delete I[T]:I[T]=E,b}(I,S,E)}N.get=k,N.set=j,N.compile=function(I){var S=B(I);return{get:function(E){return k(E,S)},set:function(E,T){return j(E,S,T)}}}},9790:(ae,N,c)=>{function _(pe){return pe&&"object"==typeof pe&&"default"in pe?pe.default:pe}var l=_(c(8309)),O=_(c(6952)),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},B=Object.assign||function(pe){for(var Y=1;Y<arguments.length;Y++){var z=arguments[Y];for(var J in z)Object.prototype.hasOwnProperty.call(z,J)&&(pe[J]=z[J])}return pe},S=function(pe,Y){Object.keys(pe).forEach(function(z){Y(pe[z],z)})},T=function(pe){return!!("undefined"!=typeof Uint8Array&&pe instanceof Uint8Array||pe&&pe.$Uint8ArrayPolyfill)},P_each=S,x=function(Y){return Array.isArray(Y)&&!T(Y)},R=function(Y){return x(Y)||u(Y)},v=function(Y){return/^[0-9]+$/.test(Y)},u=function(pe){return!(!pe||"number"==typeof pe||"string"==typeof pe||"boolean"==typeof pe||x(pe)||null===pe||pe instanceof RegExp||"function"==typeof pe||pe instanceof Date||T(pe))},s=function(pe){var Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof pe&&Y.field&&(pe+=" for field '"+Y.field+"'");var z=new Error(pe);return z.name="ModifyJsError",z},m_each=S,$=function(Y,z,J){if(J=J||{},!u(z))throw s("Modifier must be an object");var X,Q=function(Y,z){if(!u(Y))return!1;var J=void 0;return P_each(Y,function(Q,X){var K="$"===X.substr(0,1);if(void 0===J)J=K;else if(J!==K)throw new Error("Inconsistent operator: "+JSON.stringify(Y))}),!!J}(z=l(z));if(Q?(X=l(Y),m_each(z,function(K,ne){var Se=ge[ne];if(!Se)throw s("Invalid modifier specified "+ne);m_each(K,function(Be,me){if(""===me)throw s("An empty update path is not valid.");var _e=me.split(".");if(!function(pe,Y){return pe.every(function(z){return Y&&Y(z)||z})}(_e))throw s("The update path '"+me+"' contains an empty field name, which is not allowed.");var te=oe(X,_e,{noCreate:Ee[ne],forbidArray:"$rename"===ne,arrayIndices:J.arrayIndices}),ce=_e.pop();Se(te,ce,Be,me,X)})})):X=z,J.returnInsteadOfReplacing)return X;m_each(Object.keys(Y),function(K){"_id"!==K&&delete Y[K]}),m_each(X,function(K,ne){Y[ne]=K})},oe=function(Y,z,J){J=J||{};for(var Q=!1,X=0;X<z.length;X++){var K=X===z.length-1,ne=z[X];if(!R(Y)){if(J.noCreate)return;var Be=s("cannot use the part '"+ne+"' to traverse "+Y);throw Be.setPropertyError=!0,Be}if(Y instanceof Array){if(J.forbidArray)return null;if("$"===ne){if(Q)throw s("Too many positional (i.e. '$') elements");if(!J.arrayIndices||!J.arrayIndices.length)throw s("The positional operator did not find the match needed from the query");ne=J.arrayIndices[0],Q=!0}else{if(!v(ne)){if(J.noCreate)return;throw s("can't append to array using string field name ["+ne+"]")}ne=parseInt(ne)}if(K&&(z[X]=ne),J.noCreate&&ne>=Y.length)return;for(;Y.length<ne;)Y.push(null);if(!K)if(Y.length===ne)Y.push({});else if("object"!==p(Y[ne]))throw s("can't modify field '"+z[X+1]+"' of list value "+JSON.stringify(Y[ne]))}else if(!(ne in Y)){if(J.noCreate)return;K||(Y[ne]={})}if(K)return Y;Y=Y[ne]}},Ee={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},ge={$currentDate:function(Y,z,J){if("object"===(void 0===J?"undefined":p(J))&&J.hasOwnProperty("$type")){if("date"!==J.$type)throw s("Minimongo does currently only support the date type in $currentDate modifiers",{field:z})}else if(!0!==J)throw s("Invalid $currentDate modifier",{field:z});Y[z]=new Date},$min:function(Y,z,J){if("number"!=typeof J)throw s("Modifier $min allowed for numbers only",{field:z});if(z in Y){if("number"!=typeof Y[z])throw s("Cannot apply $min modifier to non-number",{field:z});Y[z]>J&&(Y[z]=J)}else Y[z]=J},$max:function(Y,z,J){if("number"!=typeof J)throw s("Modifier $max allowed for numbers only",{field:z});if(z in Y){if("number"!=typeof Y[z])throw s("Cannot apply $max modifier to non-number",{field:z});Y[z]<J&&(Y[z]=J)}else Y[z]=J},$inc:function(Y,z,J){if("number"!=typeof J)throw s("Modifier $inc allowed for numbers only",{field:z});if(z in Y){if("number"!=typeof Y[z])throw s("Cannot apply $inc modifier to non-number",{field:z});Y[z]+=J}else Y[z]=J},$set:function(Y,z,J){var Q,pe;if("object"!==(void 0===(pe=Y)?"undefined":p(pe))||null===pe)throw(Q=s("Cannot set property on non-object field",{field:z})).setPropertyError=!0,Q;if(null===Y)throw(Q=s("Cannot set property on null",{field:z})).setPropertyError=!0,Q;Y[z]=J},$setOnInsert:function(Y,z,J){},$unset:function(Y,z,J){void 0!==Y&&(Y instanceof Array?z in Y&&(Y[z]=null):delete Y[z])},$push:function(Y,z,J){if(void 0===Y[z]&&(Y[z]=[]),!(Y[z]instanceof Array))throw s("Cannot apply $push modifier to non-array",{field:z});if(J&&J.$each){var Q=J.$each;if(!(Q instanceof Array))throw s("$each must be an array",{field:z});var X=void 0;if("$position"in J){if("number"!=typeof J.$position)throw s("$position must be a numeric value",{field:z});if(J.$position<0)throw s("$position in $push must be zero or positive",{field:z});X=J.$position}var K=void 0;if("$slice"in J){if("number"!=typeof J.$slice)throw s("$slice must be a numeric value",{field:z});if(J.$slice>0)throw s("$slice in $push must be zero or negative",{field:z});K=J.$slice}if(J.$sort)throw s("$sort in $push not implemented yet");if(void 0===X)for(var Se=0;Se<Q.length;Se++)Y[z].push(Q[Se]);else{var Be=[X,0];for(Se=0;Se<Q.length;Se++)Be.push(Q[Se]);Array.prototype.splice.apply(Y[z],Be)}void 0!==K&&(Y[z]=0===K?[]:Y[z].slice(K))}else Y[z].push(J)},$pushAll:function(Y,z,J){if(!("object"===(void 0===J?"undefined":p(J))&&J instanceof Array))throw s("Modifier $pushAll/pullAll allowed for arrays only");var Q=Y[z];if(void 0===Q)Y[z]=J;else{if(!(Q instanceof Array))throw s("Cannot apply $pushAll modifier to non-array",{field:z});for(var X=0;X<J.length;X++)Q.push(J[X])}},$addToSet:function(Y,z,J){var Q=!1;"object"===(void 0===J?"undefined":p(J))&&"$each"===Object.keys(J)[0]&&(Q=!0);var K=Q?J.$each:[J],ne=Y[z];if(void 0===ne)Y[z]=K;else{if(!(ne instanceof Array))throw s("Cannot apply $addToSet modifier to non-array",{field:z});m_each(K,function(Se){for(var Be=0;Be<ne.length;Be++)if(O(Se,ne[Be]))return;ne.push(Se)})}},$pop:function(Y,z,J){if(void 0!==Y){var Q=Y[z];if(void 0!==Q){if(!(Q instanceof Array))throw s("Cannot apply $pop modifier to non-array",{field:z});"number"==typeof J&&J<0?Q.splice(0,1):Q.pop()}}},$pull:function(Y,z,J){if(void 0!==Y){var Q=Y[z];if(void 0!==Q)throw Q instanceof Array?s("$pull not implemented yet"):s("Cannot apply $pull/pullAll modifier to non-array",{field:z})}},$pullAll:function(Y,z,J){if(!("object"===(void 0===J?"undefined":p(J))&&J instanceof Array))throw s("Modifier $pushAll/pullAll allowed for arrays only",{field:z});if(void 0!==Y){var Q=Y[z];if(void 0!==Q){if(!(Q instanceof Array))throw s("Cannot apply $pull/pullAll modifier to non-array",{field:z});for(var X=[],K=0;K<Q.length;K++){for(var ne=!1,Se=0;Se<J.length;Se++)if(O(Q[K],J[Se])){ne=!0;break}ne||X.push(Q[K])}Y[z]=X}}},$rename:function(Y,z,J,Q,X){if(Q===J)throw s("$rename source must differ from target",{field:z});if(null===Y)throw s("$rename source field invalid",{field:z});if("string"!=typeof J)throw s("$rename target must be a string",{field:z});if(J.indexOf("\0")>-1)throw s("The 'to' field for $rename cannot contain an embedded null byte",{field:z});if(void 0!==Y){var K=Y[z];delete Y[z];var ne=J.split("."),Se=oe(X,ne,{forbidArray:!0});if(null===Se)throw s("$rename target field invalid",{field:z});Se[ne.pop()]=K}},$bit:function(Y,z,J){throw s("$bit is not supported",{field:z})}};ae.exports=function(pe,Y,z){if(!z||!z.each)return $(pe,Y,B({},z,{returnInsteadOfReplacing:!0}))}},8309:ae=>{var N=function(){"use strict";function c(S,E){return null!=E&&S instanceof E}var _,l,O;try{_=Map}catch{_=function(){}}try{l=Set}catch{l=function(){}}try{O=Promise}catch{O=function(){}}function p(S,E,T,P,x){"object"==typeof E&&(T=E.depth,P=E.prototype,x=E.includeNonEnumerable,E=E.circular);var R=[],b=[],v="undefined"!=typeof Buffer;return void 0===E&&(E=!0),void 0===T&&(T=1/0),function u(s,m){if(null===s)return null;if(0===m)return s;var h,$;if("object"!=typeof s)return s;if(c(s,_))h=new _;else if(c(s,l))h=new l;else if(c(s,O))h=new O(function(X,K){s.then(function(ne){X(u(ne,m-1))},function(ne){K(u(ne,m-1))})});else if(p.__isArray(s))h=[];else if(p.__isRegExp(s))h=new RegExp(s.source,I(s)),s.lastIndex&&(h.lastIndex=s.lastIndex);else if(p.__isDate(s))h=new Date(s.getTime());else{if(v&&Buffer.isBuffer(s))return h=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(h),h;c(s,Error)?h=Object.create(s):void 0===P?($=Object.getPrototypeOf(s),h=Object.create($)):(h=Object.create(P),$=P)}if(E){var oe=R.indexOf(s);if(-1!=oe)return b[oe];R.push(s),b.push(h)}for(var Ee in c(s,_)&&s.forEach(function(X,K){var ne=u(K,m-1),Se=u(X,m-1);h.set(ne,Se)}),c(s,l)&&s.forEach(function(X){var K=u(X,m-1);h.add(K)}),s){var ge;$&&(ge=Object.getOwnPropertyDescriptor($,Ee)),(!ge||null!=ge.set)&&(h[Ee]=u(s[Ee],m-1))}if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(s);for(Ee=0;Ee<pe.length;Ee++){var Y=pe[Ee];(z=Object.getOwnPropertyDescriptor(s,Y))&&!z.enumerable&&!x||(h[Y]=u(s[Y],m-1),z.enumerable||Object.defineProperty(h,Y,{enumerable:!1}))}}if(x){var J=Object.getOwnPropertyNames(s);for(Ee=0;Ee<J.length;Ee++){var z,Q=J[Ee];(z=Object.getOwnPropertyDescriptor(s,Q))&&z.enumerable||(h[Q]=u(s[Q],m-1),Object.defineProperty(h,Q,{enumerable:!1}))}}return h}(S,T)}function B(S){return Object.prototype.toString.call(S)}function I(S){var E="";return S.global&&(E+="g"),S.ignoreCase&&(E+="i"),S.multiline&&(E+="m"),E}return p.clonePrototype=function(E){if(null===E)return null;var T=function(){};return T.prototype=E,new T},p.__objToStr=B,p.__isDate=function(S){return"object"==typeof S&&"[object Date]"===B(S)},p.__isArray=function(S){return"object"==typeof S&&"[object Array]"===B(S)},p.__isRegExp=function(S){return"object"==typeof S&&"[object RegExp]"===B(S)},p.__getRegExpFlags=I,p}();ae.exports&&(ae.exports=N)},1175:ae=>{var N=function(c){return c!=c};ae.exports=function(_,l){return 0===_&&0===l?1/_==1/l:!!(_===l||N(_)&&N(l))}},2e3:(ae,N,c)=>{var _=c(2358),l=c(5685),O=c(1175),p=c(6305),B=c(3859),k=l(p(),Object);_(k,{getPolyfill:p,implementation:O,shim:B}),ae.exports=k},6305:(ae,N,c)=>{var _=c(1175);ae.exports=function(){return"function"==typeof Object.is?Object.is:_}},3859:(ae,N,c)=>{var _=c(6305),l=c(2358);ae.exports=function(){var p=_();return l(Object,{is:p},{is:function(){return Object.is!==p}}),p}},2450:(ae,N,c)=>{var _;if(!Object.keys){var l=Object.prototype.hasOwnProperty,O=Object.prototype.toString,p=c(9978),B=Object.prototype.propertyIsEnumerable,k=!B.call({toString:null},"toString"),j=B.call(function(){},"prototype"),M=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],I=function(P){var x=P.constructor;return x&&x.prototype===P},S={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},E=function(){if("undefined"==typeof window)return!1;for(var P in window)try{if(!S["$"+P]&&l.call(window,P)&&null!==window[P]&&"object"==typeof window[P])try{I(window[P])}catch{return!0}}catch{return!0}return!1}();_=function(x){var R=null!==x&&"object"==typeof x,b="[object Function]"===O.call(x),v=p(x),u=R&&"[object String]"===O.call(x),s=[];if(!R&&!b&&!v)throw new TypeError("Object.keys called on a non-object");var m=j&&b;if(u&&x.length>0&&!l.call(x,0))for(var h=0;h<x.length;++h)s.push(String(h));if(v&&x.length>0)for(var $=0;$<x.length;++$)s.push(String($));else for(var oe in x)(!m||"prototype"!==oe)&&l.call(x,oe)&&s.push(String(oe));if(k)for(var Ee=function(P){if("undefined"==typeof window||!E)return I(P);try{return I(P)}catch{return!1}}(x),ge=0;ge<M.length;++ge)(!Ee||"constructor"!==M[ge])&&l.call(x,M[ge])&&s.push(M[ge]);return s}}ae.exports=_},1356:(ae,N,c)=>{var _=Array.prototype.slice,l=c(9978),O=Object.keys,p=O?function(j){return O(j)}:c(2450),B=Object.keys;p.shim=function(){if(Object.keys){var j=function(){var M=Object.keys(arguments);return M&&M.length===arguments.length}(1,2);j||(Object.keys=function(I){return l(I)?B(_.call(I)):B(I)})}else Object.keys=p;return Object.keys||p},ae.exports=p},9978:ae=>{var N=Object.prototype.toString;ae.exports=function(_){var l=N.call(_),O="[object Arguments]"===l;return O||(O="[object Array]"!==l&&null!==_&&"object"==typeof _&&"number"==typeof _.length&&_.length>=0&&"[object Function]"===N.call(_.callee)),O}},8624:function(ae,N){var c,_,l;!function(O,p){"use strict";"object"==typeof ae.exports?ae.exports=p():(_=[],void 0!==(l="function"==typeof(c=p)?c.apply(N,_):c)&&(ae.exports=l))}(0,function(){"use strict";var O=Object.prototype.toString;function p(P,x){return null!=P&&Object.prototype.hasOwnProperty.call(P,x)}function B(P){if(!P||M(P)&&0===P.length)return!0;if("string"!=typeof P){for(var x in P)if(p(P,x))return!1;return!0}return!1}function k(P){return O.call(P)}var M=Array.isArray||function(P){return"[object Array]"===O.call(P)};function S(P){var x=parseInt(P);return x.toString()===P?x:P}function E(P){var R,v,x=function(s){return Object.keys(x).reduce(function(m,h){return"create"===h||"function"==typeof x[h]&&(m[h]=x[h].bind(x,s)),m},{})};function b(s,m){if(R(s,m))return s[m]}function u(s,m,h,$){if("number"==typeof m&&(m=[m]),!m||0===m.length)return s;if("string"==typeof m)return u(s,m.split(".").map(S),h,$);var oe=m[0],Ee=v(s,oe);return 1===m.length?((void 0===Ee||!$)&&(s[oe]=h),Ee):(void 0===Ee&&(s[oe]="number"==typeof m[1]?[]:{}),u(s[oe],m.slice(1),h,$))}return R=(P=P||{}).includeInheritedProps?function(){return!0}:function(s,m){return"number"==typeof m&&Array.isArray(s)||p(s,m)},v=P.includeInheritedProps?function(s,m){"string"!=typeof m&&"number"!=typeof m&&(m=String(m));var h=b(s,m);if("__proto__"===m||"prototype"===m||"constructor"===m&&"function"==typeof h)throw new Error("For security reasons, object's magic properties cannot be set");return h}:function(s,m){return b(s,m)},x.has=function(s,m){if("number"==typeof m?m=[m]:"string"==typeof m&&(m=m.split(".")),!m||0===m.length)return!!s;for(var h=0;h<m.length;h++){var $=S(m[h]);if(!("number"==typeof $&&M(s)&&$<s.length||(P.includeInheritedProps?$ in Object(s):p(s,$))))return!1;s=s[$]}return!0},x.ensureExists=function(s,m,h){return u(s,m,h,!0)},x.set=function(s,m,h,$){return u(s,m,h,$)},x.insert=function(s,m,h,$){var oe=x.get(s,m);$=~~$,M(oe)||x.set(s,m,oe=[]),oe.splice($,0,h)},x.empty=function(s,m){var h,$;if(!B(m)&&null!=s&&(h=x.get(s,m))){if("string"==typeof h)return x.set(s,m,"");if(function(P){return"boolean"==typeof P||"[object Boolean]"===k(P)}(h))return x.set(s,m,!1);if("number"==typeof h)return x.set(s,m,0);if(M(h))h.length=0;else{if(!function(P){return"object"==typeof P&&"[object Object]"===k(P)}(h))return x.set(s,m,null);for($ in h)R(h,$)&&delete h[$]}}},x.push=function(s,m){var h=x.get(s,m);M(h)||x.set(s,m,h=[]),h.push.apply(h,Array.prototype.slice.call(arguments,2))},x.coalesce=function(s,m,h){for(var $,oe=0,Ee=m.length;oe<Ee;oe++)if(void 0!==($=x.get(s,m[oe])))return $;return h},x.get=function(s,m,h){if("number"==typeof m&&(m=[m]),!m||0===m.length)return s;if(null==s)return h;if("string"==typeof m)return x.get(s,m.split("."),h);var $=S(m[0]),oe=v(s,$);return void 0===oe?h:1===m.length?oe:x.get(s[$],m.slice(1),h)},x.del=function(m,h){if("number"==typeof h&&(h=[h]),null==m||B(h))return m;if("string"==typeof h)return x.del(m,h.split("."));var $=S(h[0]);return v(m,$),R(m,$)?1!==h.length?x.del(m[$],h.slice(1)):(M(m)?m.splice($,1):delete m[$],m):m},x}var T=E();return T.create=E,T.withInheritedProps=E({includeInheritedProps:!0}),T})},3625:ae=>{ae.exports=function(N){"use strict";var _=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function O(b,v){var u=b[0],s=b[1],m=b[2],h=b[3];s=((s+=((m=((m+=((h=((h+=((u=((u+=(s&m|~s&h)+v[0]-680876936|0)<<7|u>>>25)+s|0)&s|~u&m)+v[1]-389564586|0)<<12|h>>>20)+u|0)&u|~h&s)+v[2]+606105819|0)<<17|m>>>15)+h|0)&h|~m&u)+v[3]-1044525330|0)<<22|s>>>10)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s&m|~s&h)+v[4]-176418897|0)<<7|u>>>25)+s|0)&s|~u&m)+v[5]+1200080426|0)<<12|h>>>20)+u|0)&u|~h&s)+v[6]-1473231341|0)<<17|m>>>15)+h|0)&h|~m&u)+v[7]-45705983|0)<<22|s>>>10)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s&m|~s&h)+v[8]+1770035416|0)<<7|u>>>25)+s|0)&s|~u&m)+v[9]-1958414417|0)<<12|h>>>20)+u|0)&u|~h&s)+v[10]-42063|0)<<17|m>>>15)+h|0)&h|~m&u)+v[11]-1990404162|0)<<22|s>>>10)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s&m|~s&h)+v[12]+1804603682|0)<<7|u>>>25)+s|0)&s|~u&m)+v[13]-40341101|0)<<12|h>>>20)+u|0)&u|~h&s)+v[14]-1502002290|0)<<17|m>>>15)+h|0)&h|~m&u)+v[15]+1236535329|0)<<22|s>>>10)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s&h|m&~h)+v[1]-165796510|0)<<5|u>>>27)+s|0)&m|s&~m)+v[6]-1069501632|0)<<9|h>>>23)+u|0)&s|u&~s)+v[11]+643717713|0)<<14|m>>>18)+h|0)&u|h&~u)+v[0]-373897302|0)<<20|s>>>12)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s&h|m&~h)+v[5]-701558691|0)<<5|u>>>27)+s|0)&m|s&~m)+v[10]+38016083|0)<<9|h>>>23)+u|0)&s|u&~s)+v[15]-660478335|0)<<14|m>>>18)+h|0)&u|h&~u)+v[4]-405537848|0)<<20|s>>>12)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s&h|m&~h)+v[9]+568446438|0)<<5|u>>>27)+s|0)&m|s&~m)+v[14]-1019803690|0)<<9|h>>>23)+u|0)&s|u&~s)+v[3]-187363961|0)<<14|m>>>18)+h|0)&u|h&~u)+v[8]+1163531501|0)<<20|s>>>12)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s&h|m&~h)+v[13]-1444681467|0)<<5|u>>>27)+s|0)&m|s&~m)+v[2]-51403784|0)<<9|h>>>23)+u|0)&s|u&~s)+v[7]+1735328473|0)<<14|m>>>18)+h|0)&u|h&~u)+v[12]-1926607734|0)<<20|s>>>12)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s^m^h)+v[5]-378558|0)<<4|u>>>28)+s|0)^s^m)+v[8]-2022574463|0)<<11|h>>>21)+u|0)^u^s)+v[11]+1839030562|0)<<16|m>>>16)+h|0)^h^u)+v[14]-35309556|0)<<23|s>>>9)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s^m^h)+v[1]-1530992060|0)<<4|u>>>28)+s|0)^s^m)+v[4]+1272893353|0)<<11|h>>>21)+u|0)^u^s)+v[7]-155497632|0)<<16|m>>>16)+h|0)^h^u)+v[10]-1094730640|0)<<23|s>>>9)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s^m^h)+v[13]+681279174|0)<<4|u>>>28)+s|0)^s^m)+v[0]-358537222|0)<<11|h>>>21)+u|0)^u^s)+v[3]-722521979|0)<<16|m>>>16)+h|0)^h^u)+v[6]+76029189|0)<<23|s>>>9)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s^m^h)+v[9]-640364487|0)<<4|u>>>28)+s|0)^s^m)+v[12]-421815835|0)<<11|h>>>21)+u|0)^u^s)+v[15]+530742520|0)<<16|m>>>16)+h|0)^h^u)+v[2]-995338651|0)<<23|s>>>9)+m|0,s=((s+=((h=((h+=(s^((u=((u+=(m^(s|~h))+v[0]-198630844|0)<<6|u>>>26)+s|0)|~m))+v[7]+1126891415|0)<<10|h>>>22)+u|0)^((m=((m+=(u^(h|~s))+v[14]-1416354905|0)<<15|m>>>17)+h|0)|~u))+v[5]-57434055|0)<<21|s>>>11)+m|0,s=((s+=((h=((h+=(s^((u=((u+=(m^(s|~h))+v[12]+1700485571|0)<<6|u>>>26)+s|0)|~m))+v[3]-1894986606|0)<<10|h>>>22)+u|0)^((m=((m+=(u^(h|~s))+v[10]-1051523|0)<<15|m>>>17)+h|0)|~u))+v[1]-2054922799|0)<<21|s>>>11)+m|0,s=((s+=((h=((h+=(s^((u=((u+=(m^(s|~h))+v[8]+1873313359|0)<<6|u>>>26)+s|0)|~m))+v[15]-30611744|0)<<10|h>>>22)+u|0)^((m=((m+=(u^(h|~s))+v[6]-1560198380|0)<<15|m>>>17)+h|0)|~u))+v[13]+1309151649|0)<<21|s>>>11)+m|0,s=((s+=((h=((h+=(s^((u=((u+=(m^(s|~h))+v[4]-145523070|0)<<6|u>>>26)+s|0)|~m))+v[11]-1120210379|0)<<10|h>>>22)+u|0)^((m=((m+=(u^(h|~s))+v[2]+718787259|0)<<15|m>>>17)+h|0)|~u))+v[9]-343485551|0)<<21|s>>>11)+m|0,b[0]=u+b[0]|0,b[1]=s+b[1]|0,b[2]=m+b[2]|0,b[3]=h+b[3]|0}function p(b){var u,v=[];for(u=0;u<64;u+=4)v[u>>2]=b.charCodeAt(u)+(b.charCodeAt(u+1)<<8)+(b.charCodeAt(u+2)<<16)+(b.charCodeAt(u+3)<<24);return v}function B(b){var u,v=[];for(u=0;u<64;u+=4)v[u>>2]=b[u]+(b[u+1]<<8)+(b[u+2]<<16)+(b[u+3]<<24);return v}function k(b){var s,m,h,$,oe,Ee,v=b.length,u=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=v;s+=64)O(u,p(b.substring(s-64,s)));for(m=(b=b.substring(s-64)).length,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<m;s+=1)h[s>>2]|=b.charCodeAt(s)<<(s%4<<3);if(h[s>>2]|=128<<(s%4<<3),s>55)for(O(u,h),s=0;s<16;s+=1)h[s]=0;return $=($=8*v).toString(16).match(/(.*?)(.{0,8})$/),oe=parseInt($[2],16),Ee=parseInt($[1],16)||0,h[14]=oe,h[15]=Ee,O(u,h),u}function M(b){var u,v="";for(u=0;u<4;u+=1)v+=_[b>>8*u+4&15]+_[b>>8*u&15];return v}function I(b){var v;for(v=0;v<b.length;v+=1)b[v]=M(b[v]);return b.join("")}function S(b){return/[\u0080-\uFFFF]/.test(b)&&(b=unescape(encodeURIComponent(b))),b}function x(b){var s,v=[],u=b.length;for(s=0;s<u-1;s+=2)v.push(parseInt(b.substr(s,2),16));return String.fromCharCode.apply(String,v)}function R(){this.reset()}return I(k("hello")),"undefined"!=typeof ArrayBuffer&&!ArrayBuffer.prototype.slice&&function(){function b(v,u){return(v=0|v||0)<0?Math.max(v+u,0):Math.min(v,u)}ArrayBuffer.prototype.slice=function(v,u){var $,oe,Ee,ge,s=this.byteLength,m=b(v,s),h=s;return undefined!==u&&(h=b(u,s)),m>h?new ArrayBuffer(0):($=h-m,oe=new ArrayBuffer($),Ee=new Uint8Array(oe),ge=new Uint8Array(this,m,$),Ee.set(ge),oe)}}(),R.prototype.append=function(b){return this.appendBinary(S(b)),this},R.prototype.appendBinary=function(b){this._buff+=b,this._length+=b.length;var u,v=this._buff.length;for(u=64;u<=v;u+=64)O(this._hash,p(this._buff.substring(u-64,u)));return this._buff=this._buff.substring(u-64),this},R.prototype.end=function(b){var s,h,v=this._buff,u=v.length,m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<u;s+=1)m[s>>2]|=v.charCodeAt(s)<<(s%4<<3);return this._finish(m,u),h=I(this._hash),b&&(h=x(h)),this.reset(),h},R.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},R.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},R.prototype.setState=function(b){return this._buff=b.buff,this._length=b.length,this._hash=b.hash,this},R.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},R.prototype._finish=function(b,v){var s,m,h,u=v;if(b[u>>2]|=128<<(u%4<<3),u>55)for(O(this._hash,b),u=0;u<16;u+=1)b[u]=0;s=(s=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),m=parseInt(s[2],16),h=parseInt(s[1],16)||0,b[14]=m,b[15]=h,O(this._hash,b)},R.hash=function(b,v){return R.hashBinary(S(b),v)},R.hashBinary=function(b,v){var s=I(k(b));return v?x(s):s},(R.ArrayBuffer=function(){this.reset()}).prototype.append=function(b){var s,v=function(b,v,u){var s=new Uint8Array(b.byteLength+v.byteLength);return s.set(new Uint8Array(b)),s.set(new Uint8Array(v),b.byteLength),u?s:s.buffer}(this._buff.buffer,b,!0),u=v.length;for(this._length+=b.byteLength,s=64;s<=u;s+=64)O(this._hash,B(v.subarray(s-64,s)));return this._buff=s-64<u?new Uint8Array(v.buffer.slice(s-64)):new Uint8Array(0),this},R.ArrayBuffer.prototype.end=function(b){var m,h,v=this._buff,u=v.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(m=0;m<u;m+=1)s[m>>2]|=v[m]<<(m%4<<3);return this._finish(s,u),h=I(this._hash),b&&(h=x(h)),this.reset(),h},R.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},R.ArrayBuffer.prototype.getState=function(){var b=R.prototype.getState.call(this);return b.buff=function(b){return String.fromCharCode.apply(null,new Uint8Array(b))}(b.buff),b},R.ArrayBuffer.prototype.setState=function(b){return b.buff=function(b,v){var h,u=b.length,s=new ArrayBuffer(u),m=new Uint8Array(s);for(h=0;h<u;h+=1)m[h]=b.charCodeAt(h);return v?m:s}(b.buff,!0),R.prototype.setState.call(this,b)},R.ArrayBuffer.prototype.destroy=R.prototype.destroy,R.ArrayBuffer.prototype._finish=R.prototype._finish,R.ArrayBuffer.hash=function(b,v){var s=I(function(b){var s,m,h,$,oe,Ee,v=b.length,u=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=v;s+=64)O(u,B(b.subarray(s-64,s)));for(m=(b=s-64<v?b.subarray(s-64):new Uint8Array(0)).length,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<m;s+=1)h[s>>2]|=b[s]<<(s%4<<3);if(h[s>>2]|=128<<(s%4<<3),s>55)for(O(u,h),s=0;s<16;s+=1)h[s]=0;return $=($=8*v).toString(16).match(/(.*?)(.{0,8})$/),oe=parseInt($[2],16),Ee=parseInt($[1],16)||0,h[14]=oe,h[15]=Ee,O(u,h),u}(new Uint8Array(b)));return v?x(s):s},R}()},2302:(ae,N,c)=>{var l,O,_=[c(4703),c(3328),c(6139),c(5675),c(1767),c(3259)],p=-1,B=[],k=!1;function j(){!l||!O||(l=!1,O.length?B=O.concat(B):p=-1,B.length&&M())}function M(){if(!l){k=!1,l=!0;for(var x=B.length,R=setTimeout(j);x;){for(O=B,B=[];O&&++p<x;)O[p].run();p=-1,x=B.length}O=null,p=-1,l=!1,clearTimeout(R)}}for(var I,S=-1,E=_.length;++S<E;)if(_[S]&&_[S].test&&_[S].test()){I=_[S].install(M);break}function T(x,R){this.fun=x,this.array=R}T.prototype.run=function(){var x=this.fun,R=this.array;switch(R.length){case 0:return x();case 1:return x(R[0]);case 2:return x(R[0],R[1]);case 3:return x(R[0],R[1],R[2]);default:return x.apply(null,R)}},ae.exports=function(x){var R=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)R[b-1]=arguments[b];B.push(new T(x,R)),!k&&!l&&(k=!0,I())}},5675:(ae,N)=>{N.test=function(){return!global.setImmediate&&void 0!==global.MessageChannel},N.install=function(c){var _=new global.MessageChannel;return _.port1.onmessage=c,function(){_.port2.postMessage(0)}}},6139:(ae,N)=>{var c=global.MutationObserver||global.WebKitMutationObserver;N.test=function(){return c},N.install=function(_){var l=0,O=new c(_),p=global.document.createTextNode("");return O.observe(p,{characterData:!0}),function(){p.data=l=++l%2}}},3328:(ae,N)=>{N.test=function(){return"function"==typeof global.queueMicrotask},N.install=function(c){return function(){global.queueMicrotask(c)}}},1767:(ae,N)=>{N.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")},N.install=function(c){return function(){var _=global.document.createElement("script");return _.onreadystatechange=function(){c(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},global.document.documentElement.appendChild(_),c}}},3259:(ae,N)=>{N.test=function(){return!0},N.install=function(c){return function(){setTimeout(c,0)}}},2448:(ae,N)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;const c=[];for(let O=0;O<256;++O)c.push((O+256).toString(16).substr(1));N.default=function(O,p){const B=p||0;return(c[O[B+0]]+c[O[B+1]]+c[O[B+2]]+c[O[B+3]]+"-"+c[O[B+4]]+c[O[B+5]]+"-"+c[O[B+6]]+c[O[B+7]]+"-"+c[O[B+8]]+c[O[B+9]]+"-"+c[O[B+10]]+c[O[B+11]]+c[O[B+12]]+c[O[B+13]]+c[O[B+14]]+c[O[B+15]]).toLowerCase()}},3306:(ae,N,c)=>{Object.defineProperty(N,"v1",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(N,"v3",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(N,"v4",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(N,"v5",{enumerable:!0,get:function(){return B.default}});var l=k(c(9110)),O=k(c(8693)),p=k(c(491)),B=k(c(8518));function k(j){return j&&j.__esModule?j:{default:j}}},872:(ae,N)=>{function l(P){return 14+(P+64>>>9<<4)+1}function B(P,x){const R=(65535&P)+(65535&x);return(P>>16)+(x>>16)+(R>>16)<<16|65535&R}function j(P,x,R,b,v,u){return B(function(P,x){return P<<x|P>>>32-x}(B(B(x,P),B(b,u)),v),R)}function M(P,x,R,b,v,u,s){return j(x&R|~x&b,P,x,v,u,s)}function I(P,x,R,b,v,u,s){return j(x&b|R&~b,P,x,v,u,s)}function S(P,x,R,b,v,u,s){return j(x^R^b,P,x,v,u,s)}function E(P,x,R,b,v,u,s){return j(R^(x|~b),P,x,v,u,s)}Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0,N.default=function(P){if("string"==typeof P){const x=unescape(encodeURIComponent(P));P=new Uint8Array(x.length);for(let R=0;R<x.length;++R)P[R]=x.charCodeAt(R)}return function(P){const x=[],R=32*P.length,b="0123456789abcdef";for(let v=0;v<R;v+=8){const u=P[v>>5]>>>v%32&255,s=parseInt(b.charAt(u>>>4&15)+b.charAt(15&u),16);x.push(s)}return x}(function(P,x){P[x>>5]|=128<<x%32,P[l(x)-1]=x;let R=1732584193,b=-271733879,v=-1732584194,u=271733878;for(let s=0;s<P.length;s+=16){const m=R,h=b,$=v,oe=u;R=M(R,b,v,u,P[s],7,-680876936),u=M(u,R,b,v,P[s+1],12,-389564586),v=M(v,u,R,b,P[s+2],17,606105819),b=M(b,v,u,R,P[s+3],22,-1044525330),R=M(R,b,v,u,P[s+4],7,-176418897),u=M(u,R,b,v,P[s+5],12,1200080426),v=M(v,u,R,b,P[s+6],17,-1473231341),b=M(b,v,u,R,P[s+7],22,-45705983),R=M(R,b,v,u,P[s+8],7,1770035416),u=M(u,R,b,v,P[s+9],12,-1958414417),v=M(v,u,R,b,P[s+10],17,-42063),b=M(b,v,u,R,P[s+11],22,-1990404162),R=M(R,b,v,u,P[s+12],7,1804603682),u=M(u,R,b,v,P[s+13],12,-40341101),v=M(v,u,R,b,P[s+14],17,-1502002290),b=M(b,v,u,R,P[s+15],22,1236535329),R=I(R,b,v,u,P[s+1],5,-165796510),u=I(u,R,b,v,P[s+6],9,-1069501632),v=I(v,u,R,b,P[s+11],14,643717713),b=I(b,v,u,R,P[s],20,-373897302),R=I(R,b,v,u,P[s+5],5,-701558691),u=I(u,R,b,v,P[s+10],9,38016083),v=I(v,u,R,b,P[s+15],14,-660478335),b=I(b,v,u,R,P[s+4],20,-405537848),R=I(R,b,v,u,P[s+9],5,568446438),u=I(u,R,b,v,P[s+14],9,-1019803690),v=I(v,u,R,b,P[s+3],14,-187363961),b=I(b,v,u,R,P[s+8],20,1163531501),R=I(R,b,v,u,P[s+13],5,-1444681467),u=I(u,R,b,v,P[s+2],9,-51403784),v=I(v,u,R,b,P[s+7],14,1735328473),b=I(b,v,u,R,P[s+12],20,-1926607734),R=S(R,b,v,u,P[s+5],4,-378558),u=S(u,R,b,v,P[s+8],11,-2022574463),v=S(v,u,R,b,P[s+11],16,1839030562),b=S(b,v,u,R,P[s+14],23,-35309556),R=S(R,b,v,u,P[s+1],4,-1530992060),u=S(u,R,b,v,P[s+4],11,1272893353),v=S(v,u,R,b,P[s+7],16,-155497632),b=S(b,v,u,R,P[s+10],23,-1094730640),R=S(R,b,v,u,P[s+13],4,681279174),u=S(u,R,b,v,P[s],11,-358537222),v=S(v,u,R,b,P[s+3],16,-722521979),b=S(b,v,u,R,P[s+6],23,76029189),R=S(R,b,v,u,P[s+9],4,-640364487),u=S(u,R,b,v,P[s+12],11,-421815835),v=S(v,u,R,b,P[s+15],16,530742520),b=S(b,v,u,R,P[s+2],23,-995338651),R=E(R,b,v,u,P[s],6,-198630844),u=E(u,R,b,v,P[s+7],10,1126891415),v=E(v,u,R,b,P[s+14],15,-1416354905),b=E(b,v,u,R,P[s+5],21,-57434055),R=E(R,b,v,u,P[s+12],6,1700485571),u=E(u,R,b,v,P[s+3],10,-1894986606),v=E(v,u,R,b,P[s+10],15,-1051523),b=E(b,v,u,R,P[s+1],21,-2054922799),R=E(R,b,v,u,P[s+8],6,1873313359),u=E(u,R,b,v,P[s+15],10,-30611744),v=E(v,u,R,b,P[s+6],15,-1560198380),b=E(b,v,u,R,P[s+13],21,1309151649),R=E(R,b,v,u,P[s+4],6,-145523070),u=E(u,R,b,v,P[s+11],10,-1120210379),v=E(v,u,R,b,P[s+2],15,718787259),b=E(b,v,u,R,P[s+9],21,-343485551),R=B(R,m),b=B(b,h),v=B(v,$),u=B(u,oe)}return[R,b,v,u]}(function(P){if(0===P.length)return[];const x=8*P.length,R=new Uint32Array(l(x));for(let b=0;b<x;b+=8)R[b>>5]|=(255&P[b/8])<<b%32;return R}(P),8*P.length))}},5468:(ae,N)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=function(){if(!c)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(_)};const c="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),_=new Uint8Array(16)},209:(ae,N)=>{function c(p,B,k,j){switch(p){case 0:return B&k^~B&j;case 1:case 3:return B^k^j;case 2:return B&k^B&j^k&j}}function _(p,B){return p<<B|p>>>32-B}Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0,N.default=function(p){const B=[1518500249,1859775393,2400959708,3395469782],k=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof p){const S=unescape(encodeURIComponent(p));p=[];for(let E=0;E<S.length;++E)p.push(S.charCodeAt(E))}p.push(128);const M=Math.ceil((p.length/4+2)/16),I=new Array(M);for(let S=0;S<M;++S){const E=new Uint32Array(16);for(let T=0;T<16;++T)E[T]=p[64*S+4*T]<<24|p[64*S+4*T+1]<<16|p[64*S+4*T+2]<<8|p[64*S+4*T+3];I[S]=E}I[M-1][14]=8*(p.length-1)/Math.pow(2,32),I[M-1][14]=Math.floor(I[M-1][14]),I[M-1][15]=8*(p.length-1)&4294967295;for(let S=0;S<M;++S){const E=new Uint32Array(80);for(let v=0;v<16;++v)E[v]=I[S][v];for(let v=16;v<80;++v)E[v]=_(E[v-3]^E[v-8]^E[v-14]^E[v-16],1);let T=k[0],P=k[1],x=k[2],R=k[3],b=k[4];for(let v=0;v<80;++v){const u=Math.floor(v/20),s=_(T,5)+c(u,P,x,R)+b+B[u]+E[v]>>>0;b=R,R=x,x=_(P,30)>>>0,P=T,T=s}k[0]=k[0]+T>>>0,k[1]=k[1]+P>>>0,k[2]=k[2]+x>>>0,k[3]=k[3]+R>>>0,k[4]=k[4]+b>>>0}return[k[0]>>24&255,k[0]>>16&255,k[0]>>8&255,255&k[0],k[1]>>24&255,k[1]>>16&255,k[1]>>8&255,255&k[1],k[2]>>24&255,k[2]>>16&255,k[2]>>8&255,255&k[2],k[3]>>24&255,k[3]>>16&255,k[3]>>8&255,255&k[3],k[4]>>24&255,k[4]>>16&255,k[4]>>8&255,255&k[4]]}},9110:(ae,N,c)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;var _=O(c(5468)),l=O(c(2448));function O(S){return S&&S.__esModule?S:{default:S}}let p,B,k=0,j=0;N.default=function(S,E,T){let P=E&&T||0;const x=E||[];let R=(S=S||{}).node||p,b=void 0!==S.clockseq?S.clockseq:B;if(null==R||null==b){const $=S.random||(S.rng||_.default)();null==R&&(R=p=[1|$[0],$[1],$[2],$[3],$[4],$[5]]),null==b&&(b=B=16383&($[6]<<8|$[7]))}let v=void 0!==S.msecs?S.msecs:Date.now(),u=void 0!==S.nsecs?S.nsecs:j+1;const s=v-k+(u-j)/1e4;if(s<0&&void 0===S.clockseq&&(b=b+1&16383),(s<0||v>k)&&void 0===S.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");k=v,j=u,B=b,v+=122192928e5;const m=(1e4*(268435455&v)+u)%4294967296;x[P++]=m>>>24&255,x[P++]=m>>>16&255,x[P++]=m>>>8&255,x[P++]=255&m;const h=v/4294967296*1e4&268435455;x[P++]=h>>>8&255,x[P++]=255&h,x[P++]=h>>>24&15|16,x[P++]=h>>>16&255,x[P++]=b>>>8|128,x[P++]=255&b;for(let $=0;$<6;++$)x[P+$]=R[$];return E||(0,l.default)(x)}},8693:(ae,N,c)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;var _=O(c(1657)),l=O(c(872));function O(k){return k&&k.__esModule?k:{default:k}}var B=(0,_.default)("v3",48,l.default);N.default=B},1657:(ae,N,c)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=function(M,I,S){function E(T,P,x,R){const b=x&&R||0;if("string"==typeof T&&(T=function(M){M=unescape(encodeURIComponent(M));const I=[];for(let S=0;S<M.length;++S)I.push(M.charCodeAt(S));return I}(T)),"string"==typeof P&&(P=function(M){const I=[];return M.replace(/[a-fA-F0-9]{2}/g,function(S){I.push(parseInt(S,16))}),I}(P)),!Array.isArray(T))throw TypeError("value must be an array of bytes");if(!Array.isArray(P)||16!==P.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");const v=S(P.concat(T));if(v[6]=15&v[6]|I,v[8]=63&v[8]|128,x)for(let u=0;u<16;++u)x[b+u]=v[u];return x||(0,_.default)(v)}try{E.name=M}catch{}return E.DNS=B,E.URL=k,E},N.URL=N.DNS=void 0;var M,_=(M=c(2448))&&M.__esModule?M:{default:M};const B="6ba7b810-9dad-11d1-80b4-00c04fd430c8";N.DNS=B;const k="6ba7b811-9dad-11d1-80b4-00c04fd430c8";N.URL=k},491:(ae,N,c)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;var _=O(c(5468)),l=O(c(2448));function O(k){return k&&k.__esModule?k:{default:k}}N.default=function(k,j,M){"string"==typeof k&&(j="binary"===k?new Uint8Array(16):null,k=null);const I=(k=k||{}).random||(k.rng||_.default)();if(I[6]=15&I[6]|64,I[8]=63&I[8]|128,j){const S=M||0;for(let E=0;E<16;++E)j[S+E]=I[E];return j}return(0,l.default)(I)}},8518:(ae,N,c)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;var _=O(c(1657)),l=O(c(209));function O(k){return k&&k.__esModule?k:{default:k}}var B=(0,_.default)("v5",80,l.default);N.default=B},7854:ae=>{var N=function(c){"use strict";var O,_=Object.prototype,l=_.hasOwnProperty,p="function"==typeof Symbol?Symbol:{},B=p.iterator||"@@iterator",k=p.asyncIterator||"@@asyncIterator",j=p.toStringTag||"@@toStringTag";function M(K,ne,Se){return Object.defineProperty(K,ne,{value:Se,enumerable:!0,configurable:!0,writable:!0}),K[ne]}try{M({},"")}catch{M=function(ne,Se,Be){return ne[Se]=Be}}function I(K,ne,Se,Be){var _e=Object.create((ne&&ne.prototype instanceof b?ne:b).prototype),te=new J(Be||[]);return _e._invoke=function(K,ne,Se){var Be=E;return function(_e,te){if(Be===P)throw new Error("Generator is already running");if(Be===x){if("throw"===_e)throw te;return X()}for(Se.method=_e,Se.arg=te;;){var ce=Se.delegate;if(ce){var Te=pe(ce,Se);if(Te){if(Te===R)continue;return Te}}if("next"===Se.method)Se.sent=Se._sent=Se.arg;else if("throw"===Se.method){if(Be===E)throw Be=x,Se.arg;Se.dispatchException(Se.arg)}else"return"===Se.method&&Se.abrupt("return",Se.arg);Be=P;var Ne=S(K,ne,Se);if("normal"===Ne.type){if(Be=Se.done?x:T,Ne.arg===R)continue;return{value:Ne.arg,done:Se.done}}"throw"===Ne.type&&(Be=x,Se.method="throw",Se.arg=Ne.arg)}}}(K,Se,te),_e}function S(K,ne,Se){try{return{type:"normal",arg:K.call(ne,Se)}}catch(Be){return{type:"throw",arg:Be}}}c.wrap=I;var E="suspendedStart",T="suspendedYield",P="executing",x="completed",R={};function b(){}function v(){}function u(){}var s={};M(s,B,function(){return this});var m=Object.getPrototypeOf,h=m&&m(m(Q([])));h&&h!==_&&l.call(h,B)&&(s=h);var $=u.prototype=b.prototype=Object.create(s);function oe(K){["next","throw","return"].forEach(function(ne){M(K,ne,function(Se){return this._invoke(ne,Se)})})}function Ee(K,ne){function Se(_e,te,ce,Te){var Ne=S(K[_e],K,te);if("throw"!==Ne.type){var Ge=Ne.arg,ut=Ge.value;return ut&&"object"==typeof ut&&l.call(ut,"__await")?ne.resolve(ut.__await).then(function(et){Se("next",et,ce,Te)},function(et){Se("throw",et,ce,Te)}):ne.resolve(ut).then(function(et){Ge.value=et,ce(Ge)},function(et){return Se("throw",et,ce,Te)})}Te(Ne.arg)}var Be;this._invoke=function(_e,te){function ce(){return new ne(function(Te,Ne){Se(_e,te,Te,Ne)})}return Be=Be?Be.then(ce,ce):ce()}}function pe(K,ne){var Se=K.iterator[ne.method];if(Se===O){if(ne.delegate=null,"throw"===ne.method){if(K.iterator.return&&(ne.method="return",ne.arg=O,pe(K,ne),"throw"===ne.method))return R;ne.method="throw",ne.arg=new TypeError("The iterator does not provide a 'throw' method")}return R}var Be=S(Se,K.iterator,ne.arg);if("throw"===Be.type)return ne.method="throw",ne.arg=Be.arg,ne.delegate=null,R;var me=Be.arg;return me?me.done?(ne[K.resultName]=me.value,ne.next=K.nextLoc,"return"!==ne.method&&(ne.method="next",ne.arg=O),ne.delegate=null,R):me:(ne.method="throw",ne.arg=new TypeError("iterator result is not an object"),ne.delegate=null,R)}function Y(K){var ne={tryLoc:K[0]};1 in K&&(ne.catchLoc=K[1]),2 in K&&(ne.finallyLoc=K[2],ne.afterLoc=K[3]),this.tryEntries.push(ne)}function z(K){var ne=K.completion||{};ne.type="normal",delete ne.arg,K.completion=ne}function J(K){this.tryEntries=[{tryLoc:"root"}],K.forEach(Y,this),this.reset(!0)}function Q(K){if(K){var ne=K[B];if(ne)return ne.call(K);if("function"==typeof K.next)return K;if(!isNaN(K.length)){var Se=-1,Be=function me(){for(;++Se<K.length;)if(l.call(K,Se))return me.value=K[Se],me.done=!1,me;return me.value=O,me.done=!0,me};return Be.next=Be}}return{next:X}}function X(){return{value:O,done:!0}}return v.prototype=u,M($,"constructor",u),M(u,"constructor",v),v.displayName=M(u,j,"GeneratorFunction"),c.isGeneratorFunction=function(K){var ne="function"==typeof K&&K.constructor;return!!ne&&(ne===v||"GeneratorFunction"===(ne.displayName||ne.name))},c.mark=function(K){return Object.setPrototypeOf?Object.setPrototypeOf(K,u):(K.__proto__=u,M(K,j,"GeneratorFunction")),K.prototype=Object.create($),K},c.awrap=function(K){return{__await:K}},oe(Ee.prototype),M(Ee.prototype,k,function(){return this}),c.AsyncIterator=Ee,c.async=function(K,ne,Se,Be,me){void 0===me&&(me=Promise);var _e=new Ee(I(K,ne,Se,Be),me);return c.isGeneratorFunction(ne)?_e:_e.next().then(function(te){return te.done?te.value:_e.next()})},oe($),M($,j,"Generator"),M($,B,function(){return this}),M($,"toString",function(){return"[object Generator]"}),c.keys=function(K){var ne=[];for(var Se in K)ne.push(Se);return ne.reverse(),function Be(){for(;ne.length;){var me=ne.pop();if(me in K)return Be.value=me,Be.done=!1,Be}return Be.done=!0,Be}},c.values=Q,J.prototype={constructor:J,reset:function(K){if(this.prev=0,this.next=0,this.sent=this._sent=O,this.done=!1,this.delegate=null,this.method="next",this.arg=O,this.tryEntries.forEach(z),!K)for(var ne in this)"t"===ne.charAt(0)&&l.call(this,ne)&&!isNaN(+ne.slice(1))&&(this[ne]=O)},stop:function(){this.done=!0;var ne=this.tryEntries[0].completion;if("throw"===ne.type)throw ne.arg;return this.rval},dispatchException:function(K){if(this.done)throw K;var ne=this;function Se(Te,Ne){return _e.type="throw",_e.arg=K,ne.next=Te,Ne&&(ne.method="next",ne.arg=O),!!Ne}for(var Be=this.tryEntries.length-1;Be>=0;--Be){var me=this.tryEntries[Be],_e=me.completion;if("root"===me.tryLoc)return Se("end");if(me.tryLoc<=this.prev){var te=l.call(me,"catchLoc"),ce=l.call(me,"finallyLoc");if(te&&ce){if(this.prev<me.catchLoc)return Se(me.catchLoc,!0);if(this.prev<me.finallyLoc)return Se(me.finallyLoc)}else if(te){if(this.prev<me.catchLoc)return Se(me.catchLoc,!0)}else{if(!ce)throw new Error("try statement without catch or finally");if(this.prev<me.finallyLoc)return Se(me.finallyLoc)}}}},abrupt:function(K,ne){for(var Se=this.tryEntries.length-1;Se>=0;--Se){var Be=this.tryEntries[Se];if(Be.tryLoc<=this.prev&&l.call(Be,"finallyLoc")&&this.prev<Be.finallyLoc){var me=Be;break}}me&&("break"===K||"continue"===K)&&me.tryLoc<=ne&&ne<=me.finallyLoc&&(me=null);var _e=me?me.completion:{};return _e.type=K,_e.arg=ne,me?(this.method="next",this.next=me.finallyLoc,R):this.complete(_e)},complete:function(K,ne){if("throw"===K.type)throw K.arg;return"break"===K.type||"continue"===K.type?this.next=K.arg:"return"===K.type?(this.rval=this.arg=K.arg,this.method="return",this.next="end"):"normal"===K.type&&ne&&(this.next=ne),R},finish:function(K){for(var ne=this.tryEntries.length-1;ne>=0;--ne){var Se=this.tryEntries[ne];if(Se.finallyLoc===K)return this.complete(Se.completion,Se.afterLoc),z(Se),R}},catch:function(K){for(var ne=this.tryEntries.length-1;ne>=0;--ne){var Se=this.tryEntries[ne];if(Se.tryLoc===K){var Be=Se.completion;if("throw"===Be.type){var me=Be.arg;z(Se)}return me}}throw new Error("illegal catch attempt")},delegateYield:function(K,ne,Se){return this.delegate={iterator:Q(K),resultName:ne,nextLoc:Se},"next"===this.method&&(this.arg=O),R}},c}(ae.exports);try{regeneratorRuntime=N}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=N:Function("r","regeneratorRuntime = r")(N)}},4468:ae=>{var N=Object,c=TypeError;ae.exports=function(){if(null!=this&&this!==N(this))throw new c("RegExp.prototype.flags getter called on non-object");var l="";return this.global&&(l+="g"),this.ignoreCase&&(l+="i"),this.multiline&&(l+="m"),this.dotAll&&(l+="s"),this.unicode&&(l+="u"),this.sticky&&(l+="y"),l}},9235:(ae,N,c)=>{var _=c(2358),l=c(5685),O=c(4468),p=c(6343),B=c(1956),k=l(O);_(k,{getPolyfill:p,implementation:O,shim:B}),ae.exports=k},6343:(ae,N,c)=>{var _=c(4468),l=c(2358).supportsDescriptors,O=Object.getOwnPropertyDescriptor,p=TypeError;ae.exports=function(){if(!l)throw new p("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var k=O(RegExp.prototype,"flags");if(k&&"function"==typeof k.get&&"boolean"==typeof/a/.dotAll)return k.get}return _}},1956:(ae,N,c)=>{var _=c(2358).supportsDescriptors,l=c(6343),O=Object.getOwnPropertyDescriptor,p=Object.defineProperty,B=TypeError,k=Object.getPrototypeOf,j=/a/;ae.exports=function(){if(!_||!k)throw new B("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var I=l(),S=k(j),E=O(S,"flags");return(!E||E.get!==I)&&p(S,"flags",{configurable:!0,enumerable:!1,get:I}),I}},4966:ae=>{var N=function(){"use strict";function c(S,E){return null!=E&&S instanceof E}var _,l,O;try{_=Map}catch{_=function(){}}try{l=Set}catch{l=function(){}}try{O=Promise}catch{O=function(){}}function p(S,E,T,P,x){"object"==typeof E&&(T=E.depth,P=E.prototype,x=E.includeNonEnumerable,E=E.circular);var R=[],b=[],v="undefined"!=typeof Buffer;return void 0===E&&(E=!0),void 0===T&&(T=1/0),function u(s,m){if(null===s)return null;if(0===m)return s;var h,$;if("object"!=typeof s)return s;if(c(s,_))h=new _;else if(c(s,l))h=new l;else if(c(s,O))h=new O(function(X,K){s.then(function(ne){X(u(ne,m-1))},function(ne){K(u(ne,m-1))})});else if(p.__isArray(s))h=[];else if(p.__isRegExp(s))h=new RegExp(s.source,I(s)),s.lastIndex&&(h.lastIndex=s.lastIndex);else if(p.__isDate(s))h=new Date(s.getTime());else{if(v&&Buffer.isBuffer(s))return h=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(h),h;c(s,Error)?h=Object.create(s):void 0===P?($=Object.getPrototypeOf(s),h=Object.create($)):(h=Object.create(P),$=P)}if(E){var oe=R.indexOf(s);if(-1!=oe)return b[oe];R.push(s),b.push(h)}for(var Ee in c(s,_)&&s.forEach(function(X,K){var ne=u(K,m-1),Se=u(X,m-1);h.set(ne,Se)}),c(s,l)&&s.forEach(function(X){var K=u(X,m-1);h.add(K)}),s){var ge;$&&(ge=Object.getOwnPropertyDescriptor($,Ee)),(!ge||null!=ge.set)&&(h[Ee]=u(s[Ee],m-1))}if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(s);for(Ee=0;Ee<pe.length;Ee++){var Y=pe[Ee];(z=Object.getOwnPropertyDescriptor(s,Y))&&!z.enumerable&&!x||(h[Y]=u(s[Y],m-1),z.enumerable||Object.defineProperty(h,Y,{enumerable:!1}))}}if(x){var J=Object.getOwnPropertyNames(s);for(Ee=0;Ee<J.length;Ee++){var z,Q=J[Ee];(z=Object.getOwnPropertyDescriptor(s,Q))&&z.enumerable||(h[Q]=u(s[Q],m-1),Object.defineProperty(h,Q,{enumerable:!1}))}}return h}(S,T)}function B(S){return Object.prototype.toString.call(S)}function I(S){var E="";return S.global&&(E+="g"),S.ignoreCase&&(E+="i"),S.multiline&&(E+="m"),E}return p.clonePrototype=function(E){if(null===E)return null;var T=function(){};return T.prototype=E,new T},p.__objToStr=B,p.__isDate=function(S){return"object"==typeof S&&"[object Date]"===B(S)},p.__isArray=function(S){return"object"==typeof S&&"[object Array]"===B(S)},p.__isRegExp=function(S){return"object"==typeof S&&"[object RegExp]"===B(S)},p.__getRegExpFlags=I,p}();ae.exports&&(ae.exports=N)},1135:(ae,N,c)=>{c.d(N,{X:()=>l});var _=c(7579);class l extends _.x{constructor(p){super(),this._value=p}get value(){return this.getValue()}_subscribe(p){const B=super._subscribe(p);return!B.closed&&p.next(this._value),B}getValue(){const{hasError:p,thrownError:B,_value:k}=this;if(p)throw B;return this._throwIfClosed(),k}next(p){super.next(this._value=p)}}},8306:(ae,N,c)=>{c.d(N,{y:()=>S});var _=c(930),l=c(727),O=c(8822),p=c(4671);var j=c(2416),M=c(576),I=c(2806);let S=(()=>{class x{constructor(b){b&&(this._subscribe=b)}lift(b){const v=new x;return v.source=this,v.operator=b,v}subscribe(b,v,u){const s=function(x){return x&&x instanceof _.Lv||function(x){return x&&(0,M.m)(x.next)&&(0,M.m)(x.error)&&(0,M.m)(x.complete)}(x)&&(0,l.Nn)(x)}(b)?b:new _.Hp(b,v,u);return(0,I.x)(()=>{const{operator:m,source:h}=this;s.add(m?m.call(s,h):h?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(b){try{return this._subscribe(b)}catch(v){b.error(v)}}forEach(b,v){return new(v=E(v))((u,s)=>{const m=new _.Hp({next:h=>{try{b(h)}catch($){s($),m.unsubscribe()}},error:s,complete:u});this.subscribe(m)})}_subscribe(b){var v;return null===(v=this.source)||void 0===v?void 0:v.subscribe(b)}[O.L](){return this}pipe(...b){return function(x){return 0===x.length?p.y:1===x.length?x[0]:function(b){return x.reduce((v,u)=>u(v),b)}}(b)(this)}toPromise(b){return new(b=E(b))((v,u)=>{let s;this.subscribe(m=>s=m,m=>u(m),()=>v(s))})}}return x.create=R=>new x(R),x})();function E(x){var R;return null!==(R=x??j.v.Promise)&&void 0!==R?R:Promise}},7579:(ae,N,c)=>{c.d(N,{x:()=>j});var _=c(8306),l=c(727);const p=(0,c(3888).d)(I=>function(){I(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var B=c(8737),k=c(2806);let j=(()=>{class I extends _.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(E){const T=new M(this,this);return T.operator=E,T}_throwIfClosed(){if(this.closed)throw new p}next(E){(0,k.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const T=this.observers.slice();for(const P of T)P.next(E)}})}error(E){(0,k.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=E;const{observers:T}=this;for(;T.length;)T.shift().error(E)}})}complete(){(0,k.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:E}=this;for(;E.length;)E.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var E;return(null===(E=this.observers)||void 0===E?void 0:E.length)>0}_trySubscribe(E){return this._throwIfClosed(),super._trySubscribe(E)}_subscribe(E){return this._throwIfClosed(),this._checkFinalizedStatuses(E),this._innerSubscribe(E)}_innerSubscribe(E){const{hasError:T,isStopped:P,observers:x}=this;return T||P?l.Lc:(x.push(E),new l.w0(()=>(0,B.P)(x,E)))}_checkFinalizedStatuses(E){const{hasError:T,thrownError:P,isStopped:x}=this;T?E.error(P):x&&E.complete()}asObservable(){const E=new _.y;return E.source=this,E}}return I.create=(S,E)=>new M(S,E),I})();class M extends j{constructor(S,E){super(),this.destination=S,this.source=E}next(S){var E,T;null===(T=null===(E=this.destination)||void 0===E?void 0:E.next)||void 0===T||T.call(E,S)}error(S){var E,T;null===(T=null===(E=this.destination)||void 0===E?void 0:E.error)||void 0===T||T.call(E,S)}complete(){var S,E;null===(E=null===(S=this.destination)||void 0===S?void 0:S.complete)||void 0===E||E.call(S)}_subscribe(S){var E,T;return null!==(T=null===(E=this.source)||void 0===E?void 0:E.subscribe(S))&&void 0!==T?T:l.Lc}}},930:(ae,N,c)=>{c.d(N,{Hp:()=>P,Lv:()=>T});var _=c(576),l=c(727),O=c(2416),p=c(7849),B=c(5032);const k=I("C",void 0,void 0);function I(u,s,m){return{kind:u,value:s,error:m}}var S=c(3410),E=c(2806);class T extends l.w0{constructor(s){super(),this.isStopped=!1,s?(this.destination=s,(0,l.Nn)(s)&&s.add(this)):this.destination=v}static create(s,m,h){return new P(s,m,h)}next(s){this.isStopped?b(I("N",s,void 0),this):this._next(s)}error(s){this.isStopped?b(I("E",void 0,s),this):(this.isStopped=!0,this._error(s))}complete(){this.isStopped?b(k,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(s){this.destination.next(s)}_error(s){try{this.destination.error(s)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class P extends T{constructor(s,m,h){let $;if(super(),(0,_.m)(s))$=s;else if(s){let oe;({next:$,error:m,complete:h}=s),this&&O.v.useDeprecatedNextContext?(oe=Object.create(s),oe.unsubscribe=()=>this.unsubscribe()):oe=s,$=null==$?void 0:$.bind(oe),m=null==m?void 0:m.bind(oe),h=null==h?void 0:h.bind(oe)}this.destination={next:$?x($):B.Z,error:x(m??R),complete:h?x(h):B.Z}}}function x(u,s){return(...m)=>{try{u(...m)}catch(h){O.v.useDeprecatedSynchronousErrorHandling?(0,E.O)(h):(0,p.h)(h)}}}function R(u){throw u}function b(u,s){const{onStoppedNotification:m}=O.v;m&&S.z.setTimeout(()=>m(u,s))}const v={closed:!0,next:B.Z,error:R,complete:B.Z}},727:(ae,N,c)=>{c.d(N,{Lc:()=>k,w0:()=>B,Nn:()=>j});var _=c(576);const O=(0,c(3888).d)(I=>function(E){I(this),this.message=E?`${E.length} errors occurred during unsubscription:\n${E.map((T,P)=>`${P+1}) ${T.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=E});var p=c(8737);class B{constructor(S){this.initialTeardown=S,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let S;if(!this.closed){this.closed=!0;const{_parentage:E}=this;if(E)if(this._parentage=null,Array.isArray(E))for(const x of E)x.remove(this);else E.remove(this);const{initialTeardown:T}=this;if((0,_.m)(T))try{T()}catch(x){S=x instanceof O?x.errors:[x]}const{_teardowns:P}=this;if(P){this._teardowns=null;for(const x of P)try{M(x)}catch(R){S=S??[],R instanceof O?S=[...S,...R.errors]:S.push(R)}}if(S)throw new O(S)}}add(S){var E;if(S&&S!==this)if(this.closed)M(S);else{if(S instanceof B){if(S.closed||S._hasParent(this))return;S._addParent(this)}(this._teardowns=null!==(E=this._teardowns)&&void 0!==E?E:[]).push(S)}}_hasParent(S){const{_parentage:E}=this;return E===S||Array.isArray(E)&&E.includes(S)}_addParent(S){const{_parentage:E}=this;this._parentage=Array.isArray(E)?(E.push(S),E):E?[E,S]:S}_removeParent(S){const{_parentage:E}=this;E===S?this._parentage=null:Array.isArray(E)&&(0,p.P)(E,S)}remove(S){const{_teardowns:E}=this;E&&(0,p.P)(E,S),S instanceof B&&S._removeParent(this)}}B.EMPTY=(()=>{const I=new B;return I.closed=!0,I})();const k=B.EMPTY;function j(I){return I instanceof B||I&&"closed"in I&&(0,_.m)(I.remove)&&(0,_.m)(I.add)&&(0,_.m)(I.unsubscribe)}function M(I){(0,_.m)(I)?I():I.unsubscribe()}},2416:(ae,N,c)=>{c.d(N,{v:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3905:(ae,N,c)=>{c.d(N,{z:()=>O});var _=c(6805),l=c(930);function O(p,B){const k="object"==typeof B;return new Promise((j,M)=>{const I=new l.Hp({next:S=>{j(S),I.unsubscribe()},error:M,complete:()=>{k?j(B.defaultValue):M(new _.K)}});p.subscribe(I)})}},9841:(ae,N,c)=>{c.d(N,{a:()=>S});var _=c(8306),l=c(4742),O=c(2076),p=c(4671),B=c(3268),k=c(3269),j=c(1810),M=c(5403),I=c(9672);function S(...P){const x=(0,k.yG)(P),R=(0,k.jO)(P),{args:b,keys:v}=(0,l.D)(P);if(0===b.length)return(0,O.D)([],x);const u=new _.y(function(P,x,R=p.y){return b=>{T(x,()=>{const{length:v}=P,u=new Array(v);let s=v,m=v;for(let h=0;h<v;h++)T(x,()=>{const $=(0,O.D)(P[h],x);let oe=!1;$.subscribe(new M.Q(b,Ee=>{u[h]=Ee,oe||(oe=!0,m--),m||b.next(R(u.slice()))},()=>{--s||b.complete()}))},b)},b)}}(b,x,v?s=>(0,j.n)(v,s):p.y));return R?u.pipe((0,B.Z)(R)):u}function T(P,x,R){P?(0,I.f)(R,P,x):x()}},7272:(ae,N,c)=>{c.d(N,{z:()=>B});var _=c(8189),O=c(3269),p=c(2076);function B(...k){return(0,_.J)(1)((0,p.D)(k,(0,O.yG)(k)))}},9770:(ae,N,c)=>{c.d(N,{P:()=>O});var _=c(8306),l=c(8421);function O(p){return new _.y(B=>{(0,l.Xf)(p()).subscribe(B)})}},515:(ae,N,c)=>{c.d(N,{E:()=>l});const l=new(c(8306).y)(B=>B.complete())},4128:(ae,N,c)=>{c.d(N,{D:()=>M});var _=c(8306),l=c(4742),O=c(8421),p=c(3269),B=c(5403),k=c(3268),j=c(1810);function M(...I){const S=(0,p.jO)(I),{args:E,keys:T}=(0,l.D)(I),P=new _.y(x=>{const{length:R}=E;if(!R)return void x.complete();const b=new Array(R);let v=R,u=R;for(let s=0;s<R;s++){let m=!1;(0,O.Xf)(E[s]).subscribe(new B.Q(x,h=>{m||(m=!0,u--),b[s]=h},()=>v--,void 0,()=>{(!v||!m)&&(u||x.next(T?(0,j.n)(T,b):b),x.complete())}))}});return S?P.pipe((0,k.Z)(S)):P}},2076:(ae,N,c)=>{c.d(N,{D:()=>Ee});var _=c(8421),l=c(9672),O=c(4482),p=c(5403);function B(ge,pe=0){return(0,O.e)((Y,z)=>{Y.subscribe(new p.Q(z,J=>(0,l.f)(z,ge,()=>z.next(J),pe),()=>(0,l.f)(z,ge,()=>z.complete(),pe),J=>(0,l.f)(z,ge,()=>z.error(J),pe)))})}function k(ge,pe=0){return(0,O.e)((Y,z)=>{z.add(ge.schedule(()=>Y.subscribe(z),pe))})}var I=c(8306),E=c(2202),T=c(576);function x(ge,pe){if(!ge)throw new Error("Iterable cannot be null");return new I.y(Y=>{(0,l.f)(Y,pe,()=>{const z=ge[Symbol.asyncIterator]();(0,l.f)(Y,pe,()=>{z.next().then(J=>{J.done?Y.complete():Y.next(J.value)})},0,!0)})})}var R=c(3670),b=c(8239),v=c(1144),u=c(6495),s=c(2206),m=c(4532),h=c(3260);function Ee(ge,pe){return pe?function(ge,pe){if(null!=ge){if((0,R.c)(ge))return function(ge,pe){return(0,_.Xf)(ge).pipe(k(pe),B(pe))}(ge,pe);if((0,v.z)(ge))return function(ge,pe){return new I.y(Y=>{let z=0;return pe.schedule(function(){z===ge.length?Y.complete():(Y.next(ge[z++]),Y.closed||this.schedule())})})}(ge,pe);if((0,b.t)(ge))return function(ge,pe){return(0,_.Xf)(ge).pipe(k(pe),B(pe))}(ge,pe);if((0,s.D)(ge))return x(ge,pe);if((0,u.T)(ge))return function(ge,pe){return new I.y(Y=>{let z;return(0,l.f)(Y,pe,()=>{z=ge[E.h](),(0,l.f)(Y,pe,()=>{let J,Q;try{({value:J,done:Q}=z.next())}catch(X){return void Y.error(X)}Q?Y.complete():Y.next(J)},0,!0)}),()=>(0,T.m)(null==z?void 0:z.return)&&z.return()})}(ge,pe);if((0,h.L)(ge))return function(ge,pe){return x((0,h.Q)(ge),pe)}(ge,pe)}throw(0,m.z)(ge)}(ge,pe):(0,_.Xf)(ge)}},4968:(ae,N,c)=>{c.d(N,{R:()=>S});var _=c(8421),l=c(8306),O=c(5577),p=c(1144),B=c(576),k=c(3268);const j=["addListener","removeListener"],M=["addEventListener","removeEventListener"],I=["on","off"];function S(R,b,v,u){if((0,B.m)(v)&&(u=v,v=void 0),u)return S(R,b,v).pipe((0,k.Z)(u));const[s,m]=function(R){return(0,B.m)(R.addEventListener)&&(0,B.m)(R.removeEventListener)}(R)?M.map(h=>$=>R[h](b,$,v)):function(R){return(0,B.m)(R.addListener)&&(0,B.m)(R.removeListener)}(R)?j.map(E(R,b)):function(R){return(0,B.m)(R.on)&&(0,B.m)(R.off)}(R)?I.map(E(R,b)):[];if(!s&&(0,p.z)(R))return(0,O.z)(h=>S(h,b,v))((0,_.Xf)(R));if(!s)throw new TypeError("Invalid event target");return new l.y(h=>{const $=(...oe)=>h.next(1<oe.length?oe:oe[0]);return s($),()=>m($)})}function E(R,b){return v=>u=>R[v](b,u)}},8421:(ae,N,c)=>{c.d(N,{Xf:()=>P});var _=c(655),l=c(1144),O=c(8239),p=c(8306),B=c(3670),k=c(2206),j=c(4532),M=c(6495),I=c(3260),S=c(576),E=c(7849),T=c(8822);function P(h){if(h instanceof p.y)return h;if(null!=h){if((0,B.c)(h))return function(h){return new p.y($=>{const oe=h[T.L]();if((0,S.m)(oe.subscribe))return oe.subscribe($);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(h);if((0,l.z)(h))return function(h){return new p.y($=>{for(let oe=0;oe<h.length&&!$.closed;oe++)$.next(h[oe]);$.complete()})}(h);if((0,O.t)(h))return function(h){return new p.y($=>{h.then(oe=>{$.closed||($.next(oe),$.complete())},oe=>$.error(oe)).then(null,E.h)})}(h);if((0,k.D)(h))return u(h);if((0,M.T)(h))return function(h){return new p.y($=>{for(const oe of h)if($.next(oe),$.closed)return;$.complete()})}(h);if((0,I.L)(h))return function(h){return u((0,I.Q)(h))}(h)}throw(0,j.z)(h)}function u(h){return new p.y($=>{(function(h,$){var oe,Ee,ge,pe;return(0,_.mG)(this,void 0,void 0,function*(){try{for(oe=(0,_.KL)(h);!(Ee=yield oe.next()).done;)if($.next(Ee.value),$.closed)return}catch(Y){ge={error:Y}}finally{try{Ee&&!Ee.done&&(pe=oe.return)&&(yield pe.call(oe))}finally{if(ge)throw ge.error}}$.complete()})})(h,$).catch(oe=>$.error(oe))})}},6451:(ae,N,c)=>{c.d(N,{T:()=>k});var _=c(8189),l=c(8421),O=c(515),p=c(3269),B=c(2076);function k(...j){const M=(0,p.yG)(j),I=(0,p._6)(j,1/0),S=j;return S.length?1===S.length?(0,l.Xf)(S[0]):(0,_.J)(I)((0,B.D)(S,M)):O.E}},9646:(ae,N,c)=>{c.d(N,{of:()=>O});var _=c(3269),l=c(2076);function O(...p){const B=(0,_.yG)(p);return(0,l.D)(p,B)}},2843:(ae,N,c)=>{c.d(N,{_:()=>O});var _=c(8306),l=c(576);function O(p,B){const k=(0,l.m)(p)?p:()=>p,j=M=>M.error(k());return new _.y(B?M=>B.schedule(j,0,M):j)}},5963:(ae,N,c)=>{c.d(N,{H:()=>B});var _=c(8306),l=c(4986),O=c(3532);function B(k=0,j,M=l.P){let I=-1;return null!=j&&((0,O.K)(j)?M=j:I=j),new _.y(S=>{let E=function(k){return k instanceof Date&&!isNaN(k)}(k)?+k-M.now():k;E<0&&(E=0);let T=0;return M.schedule(function(){S.closed||(S.next(T++),0<=I?this.schedule(void 0,I):S.complete())},E)})}},5403:(ae,N,c)=>{c.d(N,{Q:()=>l});var _=c(930);class l extends _.Lv{constructor(p,B,k,j,M){super(p),this.onFinalize=M,this._next=B?function(I){try{B(I)}catch(S){p.error(S)}}:super._next,this._error=j?function(I){try{j(I)}catch(S){p.error(S)}finally{this.unsubscribe()}}:super._error,this._complete=k?function(){try{k()}catch(I){p.error(I)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var p;const{closed:B}=this;super.unsubscribe(),!B&&(null===(p=this.onFinalize)||void 0===p||p.call(this))}}},3601:(ae,N,c)=>{c.d(N,{e:()=>j});var _=c(4986),l=c(4482),O=c(8421),p=c(5403),k=c(5963);function j(M,I=_.P){return function(M){return(0,l.e)((I,S)=>{let E=!1,T=null,P=null,x=!1;const R=()=>{if(null==P||P.unsubscribe(),P=null,E){E=!1;const v=T;T=null,S.next(v)}x&&S.complete()},b=()=>{P=null,x&&S.complete()};I.subscribe(new p.Q(S,v=>{E=!0,T=v,P||(0,O.Xf)(M()).subscribe(P=new p.Q(S,R,b))},()=>{x=!0,(!E||!P||P.closed)&&S.complete()}))})}(()=>(0,k.H)(M,I))}},262:(ae,N,c)=>{c.d(N,{K:()=>p});var _=c(8421),l=c(5403),O=c(4482);function p(B){return(0,O.e)((k,j)=>{let S,M=null,I=!1;M=k.subscribe(new l.Q(j,void 0,void 0,E=>{S=(0,_.Xf)(B(E,p(B)(k))),M?(M.unsubscribe(),M=null,S.subscribe(j)):I=!0})),I&&(M.unsubscribe(),M=null,S.subscribe(j))})}},1884:(ae,N,c)=>{c.d(N,{x:()=>p});var _=c(4671),l=c(4482),O=c(5403);function p(k,j=_.y){return k=k??B,(0,l.e)((M,I)=>{let S,E=!0;M.subscribe(new O.Q(I,T=>{const P=j(T);(E||!k(S,P))&&(E=!1,S=P,I.next(T))}))})}function B(k,j){return k===j}},9300:(ae,N,c)=>{c.d(N,{h:()=>O});var _=c(4482),l=c(5403);function O(p,B){return(0,_.e)((k,j)=>{let M=0;k.subscribe(new l.Q(j,I=>p.call(B,I,M++)&&j.next(I)))})}},8746:(ae,N,c)=>{c.d(N,{x:()=>l});var _=c(4482);function l(O){return(0,_.e)((p,B)=>{try{p.subscribe(B)}finally{B.add(O)}})}},4004:(ae,N,c)=>{c.d(N,{U:()=>O});var _=c(4482),l=c(5403);function O(p,B){return(0,_.e)((k,j)=>{let M=0;k.subscribe(new l.Q(j,I=>{j.next(p.call(B,I,M++))}))})}},8189:(ae,N,c)=>{c.d(N,{J:()=>O});var _=c(5577),l=c(4671);function O(p=1/0){return(0,_.z)(l.y,p)}},5577:(ae,N,c)=>{c.d(N,{z:()=>M});var _=c(4004),l=c(8421),O=c(4482),B=(c(9672),c(5403)),j=c(576);function M(I,S,E=1/0){return(0,j.m)(S)?M((T,P)=>(0,_.U)((x,R)=>S(T,x,P,R))((0,l.Xf)(I(T,P))),E):("number"==typeof S&&(E=S),(0,O.e)((T,P)=>function(I,S,E,T,P,x,R,b){const v=[];let u=0,s=0,m=!1;const h=()=>{m&&!v.length&&!u&&S.complete()},$=Ee=>u<T?oe(Ee):v.push(Ee),oe=Ee=>{u++;let ge=!1;(0,l.Xf)(E(Ee,s++)).subscribe(new B.Q(S,pe=>{S.next(pe)},()=>{ge=!0},void 0,()=>{if(ge)try{for(u--;v.length&&u<T;){const pe=v.shift();oe(pe)}h()}catch(pe){S.error(pe)}}))};return I.subscribe(new B.Q(S,$,()=>{m=!0,h()})),()=>{}}(T,P,I,E)))}},3099:(ae,N,c)=>{c.d(N,{B:()=>k});var _=c(2076),l=c(5698),O=c(7579),p=c(930),B=c(4482);function k(M={}){const{connector:I=(()=>new O.x),resetOnError:S=!0,resetOnComplete:E=!0,resetOnRefCountZero:T=!0}=M;return P=>{let x=null,R=null,b=null,v=0,u=!1,s=!1;const m=()=>{null==R||R.unsubscribe(),R=null},h=()=>{m(),x=b=null,u=s=!1},$=()=>{const oe=x;h(),null==oe||oe.unsubscribe()};return(0,B.e)((oe,Ee)=>{v++,!s&&!u&&m();const ge=b=b??I();Ee.add(()=>{v--,0===v&&!s&&!u&&(R=j($,T))}),ge.subscribe(Ee),x||(x=new p.Hp({next:pe=>ge.next(pe),error:pe=>{s=!0,m(),R=j(h,S,pe),ge.error(pe)},complete:()=>{u=!0,m(),R=j(h,E),ge.complete()}}),(0,_.D)(oe).subscribe(x))})(P)}}function j(M,I,...S){return!0===I?(M(),null):!1===I?null:I(...S).pipe((0,l.q)(1)).subscribe(()=>M())}},8675:(ae,N,c)=>{c.d(N,{O:()=>p});var _=c(7272),l=c(3269),O=c(4482);function p(...B){const k=(0,l.yG)(B);return(0,O.e)((j,M)=>{(k?(0,_.z)(B,j,k):(0,_.z)(B,j)).subscribe(M)})}},3900:(ae,N,c)=>{c.d(N,{w:()=>p});var _=c(8421),l=c(4482),O=c(5403);function p(B,k){return(0,l.e)((j,M)=>{let I=null,S=0,E=!1;const T=()=>E&&!I&&M.complete();j.subscribe(new O.Q(M,P=>{null==I||I.unsubscribe();let x=0;const R=S++;(0,_.Xf)(B(P,R)).subscribe(I=new O.Q(M,b=>M.next(k?k(P,b,R,x++):b),()=>{I=null,T()}))},()=>{E=!0,T()}))})}},5698:(ae,N,c)=>{c.d(N,{q:()=>p});var _=c(515),l=c(4482),O=c(5403);function p(B){return B<=0?()=>_.E:(0,l.e)((k,j)=>{let M=0;k.subscribe(new O.Q(j,I=>{++M<=B&&(j.next(I),B<=M&&j.complete())}))})}},2722:(ae,N,c)=>{c.d(N,{R:()=>B});var _=c(4482),l=c(5403),O=c(8421),p=c(5032);function B(k){return(0,_.e)((j,M)=>{(0,O.Xf)(k).subscribe(new l.Q(M,()=>M.complete(),p.Z)),!M.closed&&j.subscribe(M)})}},8505:(ae,N,c)=>{c.d(N,{b:()=>B});var _=c(576),l=c(4482),O=c(5403),p=c(4671);function B(k,j,M){const I=(0,_.m)(k)||j||M?{next:k,error:j,complete:M}:k;return I?(0,l.e)((S,E)=>{var T;null===(T=I.subscribe)||void 0===T||T.call(I);let P=!0;S.subscribe(new O.Q(E,x=>{var R;null===(R=I.next)||void 0===R||R.call(I,x),E.next(x)},()=>{var x;P=!1,null===(x=I.complete)||void 0===x||x.call(I),E.complete()},x=>{var R;P=!1,null===(R=I.error)||void 0===R||R.call(I,x),E.error(x)},()=>{var x,R;P&&(null===(x=I.unsubscribe)||void 0===x||x.call(I)),null===(R=I.finalize)||void 0===R||R.call(I)}))}):p.y}},4408:(ae,N,c)=>{c.d(N,{o:()=>B});var _=c(727);class l extends _.w0{constructor(j,M){super()}schedule(j,M=0){return this}}const O={setInterval(...k){const{delegate:j}=O;return((null==j?void 0:j.setInterval)||setInterval)(...k)},clearInterval(k){const{delegate:j}=O;return((null==j?void 0:j.clearInterval)||clearInterval)(k)},delegate:void 0};var p=c(8737);class B extends l{constructor(j,M){super(j,M),this.scheduler=j,this.work=M,this.pending=!1}schedule(j,M=0){if(this.closed)return this;this.state=j;const I=this.id,S=this.scheduler;return null!=I&&(this.id=this.recycleAsyncId(S,I,M)),this.pending=!0,this.delay=M,this.id=this.id||this.requestAsyncId(S,this.id,M),this}requestAsyncId(j,M,I=0){return O.setInterval(j.flush.bind(j,this),I)}recycleAsyncId(j,M,I=0){if(null!=I&&this.delay===I&&!1===this.pending)return M;O.clearInterval(M)}execute(j,M){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const I=this._execute(j,M);if(I)return I;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(j,M){let S,I=!1;try{this.work(j)}catch(E){I=!0,S=E||new Error("Scheduled action threw falsy error")}if(I)return this.unsubscribe(),S}unsubscribe(){if(!this.closed){const{id:j,scheduler:M}=this,{actions:I}=M;this.work=this.state=this.scheduler=null,this.pending=!1,(0,p.P)(I,this),null!=j&&(this.id=this.recycleAsyncId(M,j,null)),this.delay=null,super.unsubscribe()}}}},7565:(ae,N,c)=>{c.d(N,{v:()=>O});var _=c(6063);class l{constructor(B,k=l.now){this.schedulerActionCtor=B,this.now=k}schedule(B,k=0,j){return new this.schedulerActionCtor(this,B).schedule(j,k)}}l.now=_.l.now;class O extends l{constructor(B,k=l.now){super(B,k),this.actions=[],this._active=!1,this._scheduled=void 0}flush(B){const{actions:k}=this;if(this._active)return void k.push(B);let j;this._active=!0;do{if(j=B.execute(B.state,B.delay))break}while(B=k.shift());if(this._active=!1,j){for(;B=k.shift();)B.unsubscribe();throw j}}}},6406:(ae,N,c)=>{c.d(N,{Z:()=>j});var _=c(4408),l=c(727);const O={schedule(I){let S=requestAnimationFrame,E=cancelAnimationFrame;const{delegate:T}=O;T&&(S=T.requestAnimationFrame,E=T.cancelAnimationFrame);const P=S(x=>{E=void 0,I(x)});return new l.w0(()=>null==E?void 0:E(P))},requestAnimationFrame(...I){const{delegate:S}=O;return((null==S?void 0:S.requestAnimationFrame)||requestAnimationFrame)(...I)},cancelAnimationFrame(...I){const{delegate:S}=O;return((null==S?void 0:S.cancelAnimationFrame)||cancelAnimationFrame)(...I)},delegate:void 0};var B=c(7565);const j=new class extends B.v{flush(S){this._active=!0;const E=this._scheduled;this._scheduled=void 0;const{actions:T}=this;let P;S=S||T.shift();do{if(P=S.execute(S.state,S.delay))break}while((S=T[0])&&S.id===E&&T.shift());if(this._active=!1,P){for(;(S=T[0])&&S.id===E&&T.shift();)S.unsubscribe();throw P}}}(class extends _.o{constructor(S,E){super(S,E),this.scheduler=S,this.work=E}requestAsyncId(S,E,T=0){return null!==T&&T>0?super.requestAsyncId(S,E,T):(S.actions.push(this),S._scheduled||(S._scheduled=O.requestAnimationFrame(()=>S.flush(void 0))))}recycleAsyncId(S,E,T=0){if(null!=T&&T>0||null==T&&this.delay>0)return super.recycleAsyncId(S,E,T);S.actions.some(P=>P.id===E)||(O.cancelAnimationFrame(E),S._scheduled=void 0)}})},3101:(ae,N,c)=>{c.d(N,{E:()=>x});var _=c(4408);let O,l=1;const p={};function B(b){return b in p&&(delete p[b],!0)}const k={setImmediate(b){const v=l++;return p[v]=!0,O||(O=Promise.resolve()),O.then(()=>B(v)&&b()),v},clearImmediate(b){B(b)}},{setImmediate:M,clearImmediate:I}=k,S={setImmediate(...b){const{delegate:v}=S;return((null==v?void 0:v.setImmediate)||M)(...b)},clearImmediate(b){const{delegate:v}=S;return((null==v?void 0:v.clearImmediate)||I)(b)},delegate:void 0};var T=c(7565);const x=new class extends T.v{flush(v){this._active=!0;const u=this._scheduled;this._scheduled=void 0;const{actions:s}=this;let m;v=v||s.shift();do{if(m=v.execute(v.state,v.delay))break}while((v=s[0])&&v.id===u&&s.shift());if(this._active=!1,m){for(;(v=s[0])&&v.id===u&&s.shift();)v.unsubscribe();throw m}}}(class extends _.o{constructor(v,u){super(v,u),this.scheduler=v,this.work=u}requestAsyncId(v,u,s=0){return null!==s&&s>0?super.requestAsyncId(v,u,s):(v.actions.push(this),v._scheduled||(v._scheduled=S.setImmediate(v.flush.bind(v,void 0))))}recycleAsyncId(v,u,s=0){if(null!=s&&s>0||null==s&&this.delay>0)return super.recycleAsyncId(v,u,s);v.actions.some(m=>m.id===u)||(S.clearImmediate(u),v._scheduled=void 0)}})},4986:(ae,N,c)=>{c.d(N,{z:()=>O,P:()=>p});var _=c(4408);const O=new(c(7565).v)(_.o),p=O},6063:(ae,N,c)=>{c.d(N,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},3410:(ae,N,c)=>{c.d(N,{z:()=>_});const _={setTimeout(...l){const{delegate:O}=_;return((null==O?void 0:O.setTimeout)||setTimeout)(...l)},clearTimeout(l){const{delegate:O}=_;return((null==O?void 0:O.clearTimeout)||clearTimeout)(l)},delegate:void 0}},2202:(ae,N,c)=>{c.d(N,{h:()=>l});const l="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},8822:(ae,N,c)=>{c.d(N,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(ae,N,c)=>{c.d(N,{K:()=>l});const l=(0,c(3888).d)(O=>function(){O(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(ae,N,c)=>{c.d(N,{jO:()=>p,yG:()=>B,_6:()=>k});var _=c(576),l=c(3532);function O(j){return j[j.length-1]}function p(j){return(0,_.m)(O(j))?j.pop():void 0}function B(j){return(0,l.K)(O(j))?j.pop():void 0}function k(j,M){return"number"==typeof O(j)?j.pop():M}},4742:(ae,N,c)=>{c.d(N,{D:()=>B});const{isArray:_}=Array,{getPrototypeOf:l,prototype:O,keys:p}=Object;function B(j){if(1===j.length){const M=j[0];if(_(M))return{args:M,keys:null};if(function(j){return j&&"object"==typeof j&&l(j)===O}(M)){const I=p(M);return{args:I.map(S=>M[S]),keys:I}}}return{args:j,keys:null}}},8737:(ae,N,c)=>{function _(l,O){if(l){const p=l.indexOf(O);0<=p&&l.splice(p,1)}}c.d(N,{P:()=>_})},3888:(ae,N,c)=>{function _(l){const p=l(B=>{Error.call(B),B.stack=(new Error).stack});return p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p}c.d(N,{d:()=>_})},1810:(ae,N,c)=>{function _(l,O){return l.reduce((p,B,k)=>(p[B]=O[k],p),{})}c.d(N,{n:()=>_})},2806:(ae,N,c)=>{c.d(N,{x:()=>O,O:()=>p});var _=c(2416);let l=null;function O(B){if(_.v.useDeprecatedSynchronousErrorHandling){const k=!l;if(k&&(l={errorThrown:!1,error:null}),B(),k){const{errorThrown:j,error:M}=l;if(l=null,j)throw M}}else B()}function p(B){_.v.useDeprecatedSynchronousErrorHandling&&l&&(l.errorThrown=!0,l.error=B)}},9672:(ae,N,c)=>{function _(l,O,p,B=0,k=!1){const j=O.schedule(function(){p(),k?l.add(this.schedule(null,B)):this.unsubscribe()},B);if(l.add(j),!k)return j}c.d(N,{f:()=>_})},4671:(ae,N,c)=>{function _(l){return l}c.d(N,{y:()=>_})},1144:(ae,N,c)=>{c.d(N,{z:()=>_});const _=l=>l&&"number"==typeof l.length&&"function"!=typeof l},2206:(ae,N,c)=>{c.d(N,{D:()=>l});var _=c(576);function l(O){return Symbol.asyncIterator&&(0,_.m)(null==O?void 0:O[Symbol.asyncIterator])}},576:(ae,N,c)=>{function _(l){return"function"==typeof l}c.d(N,{m:()=>_})},3670:(ae,N,c)=>{c.d(N,{c:()=>O});var _=c(8822),l=c(576);function O(p){return(0,l.m)(p[_.L])}},6495:(ae,N,c)=>{c.d(N,{T:()=>O});var _=c(2202),l=c(576);function O(p){return(0,l.m)(null==p?void 0:p[_.h])}},8239:(ae,N,c)=>{c.d(N,{t:()=>l});var _=c(576);function l(O){return(0,_.m)(null==O?void 0:O.then)}},3260:(ae,N,c)=>{c.d(N,{Q:()=>O,L:()=>p});var _=c(655),l=c(576);function O(B){return(0,_.FC)(this,arguments,function*(){const j=B.getReader();try{for(;;){const{value:M,done:I}=yield(0,_.qq)(j.read());if(I)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(M)}}finally{j.releaseLock()}})}function p(B){return(0,l.m)(null==B?void 0:B.getReader)}},3532:(ae,N,c)=>{c.d(N,{K:()=>l});var _=c(576);function l(O){return O&&(0,_.m)(O.schedule)}},4482:(ae,N,c)=>{c.d(N,{A:()=>l,e:()=>O});var _=c(576);function l(p){return(0,_.m)(null==p?void 0:p.lift)}function O(p){return B=>{if(l(B))return B.lift(function(k){try{return p(k,this)}catch(j){this.error(j)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(ae,N,c)=>{c.d(N,{Z:()=>p});var _=c(4004);const{isArray:l}=Array;function p(B){return(0,_.U)(k=>function(B,k){return l(k)?B(...k):B(k)}(B,k))}},5032:(ae,N,c)=>{function _(){}c.d(N,{Z:()=>_})},7849:(ae,N,c)=>{c.d(N,{h:()=>O});var _=c(2416),l=c(3410);function O(p){l.z.setTimeout(()=>{const{onUnhandledError:B}=_.v;if(!B)throw p;B(p)})}},4532:(ae,N,c)=>{function _(l){return new TypeError(`You provided ${null!==l&&"object"==typeof l?"an invalid object":`'${l}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}c.d(N,{z:()=>_})},1452:ae=>{ae.exports=function(N){"use strict";var _=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function O(b,v){var u=b[0],s=b[1],m=b[2],h=b[3];s=((s+=((m=((m+=((h=((h+=((u=((u+=(s&m|~s&h)+v[0]-680876936|0)<<7|u>>>25)+s|0)&s|~u&m)+v[1]-389564586|0)<<12|h>>>20)+u|0)&u|~h&s)+v[2]+606105819|0)<<17|m>>>15)+h|0)&h|~m&u)+v[3]-1044525330|0)<<22|s>>>10)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s&m|~s&h)+v[4]-176418897|0)<<7|u>>>25)+s|0)&s|~u&m)+v[5]+1200080426|0)<<12|h>>>20)+u|0)&u|~h&s)+v[6]-1473231341|0)<<17|m>>>15)+h|0)&h|~m&u)+v[7]-45705983|0)<<22|s>>>10)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s&m|~s&h)+v[8]+1770035416|0)<<7|u>>>25)+s|0)&s|~u&m)+v[9]-1958414417|0)<<12|h>>>20)+u|0)&u|~h&s)+v[10]-42063|0)<<17|m>>>15)+h|0)&h|~m&u)+v[11]-1990404162|0)<<22|s>>>10)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s&m|~s&h)+v[12]+1804603682|0)<<7|u>>>25)+s|0)&s|~u&m)+v[13]-40341101|0)<<12|h>>>20)+u|0)&u|~h&s)+v[14]-1502002290|0)<<17|m>>>15)+h|0)&h|~m&u)+v[15]+1236535329|0)<<22|s>>>10)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s&h|m&~h)+v[1]-165796510|0)<<5|u>>>27)+s|0)&m|s&~m)+v[6]-1069501632|0)<<9|h>>>23)+u|0)&s|u&~s)+v[11]+643717713|0)<<14|m>>>18)+h|0)&u|h&~u)+v[0]-373897302|0)<<20|s>>>12)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s&h|m&~h)+v[5]-701558691|0)<<5|u>>>27)+s|0)&m|s&~m)+v[10]+38016083|0)<<9|h>>>23)+u|0)&s|u&~s)+v[15]-660478335|0)<<14|m>>>18)+h|0)&u|h&~u)+v[4]-405537848|0)<<20|s>>>12)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s&h|m&~h)+v[9]+568446438|0)<<5|u>>>27)+s|0)&m|s&~m)+v[14]-1019803690|0)<<9|h>>>23)+u|0)&s|u&~s)+v[3]-187363961|0)<<14|m>>>18)+h|0)&u|h&~u)+v[8]+1163531501|0)<<20|s>>>12)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s&h|m&~h)+v[13]-1444681467|0)<<5|u>>>27)+s|0)&m|s&~m)+v[2]-51403784|0)<<9|h>>>23)+u|0)&s|u&~s)+v[7]+1735328473|0)<<14|m>>>18)+h|0)&u|h&~u)+v[12]-1926607734|0)<<20|s>>>12)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s^m^h)+v[5]-378558|0)<<4|u>>>28)+s|0)^s^m)+v[8]-2022574463|0)<<11|h>>>21)+u|0)^u^s)+v[11]+1839030562|0)<<16|m>>>16)+h|0)^h^u)+v[14]-35309556|0)<<23|s>>>9)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s^m^h)+v[1]-1530992060|0)<<4|u>>>28)+s|0)^s^m)+v[4]+1272893353|0)<<11|h>>>21)+u|0)^u^s)+v[7]-155497632|0)<<16|m>>>16)+h|0)^h^u)+v[10]-1094730640|0)<<23|s>>>9)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s^m^h)+v[13]+681279174|0)<<4|u>>>28)+s|0)^s^m)+v[0]-358537222|0)<<11|h>>>21)+u|0)^u^s)+v[3]-722521979|0)<<16|m>>>16)+h|0)^h^u)+v[6]+76029189|0)<<23|s>>>9)+m|0,s=((s+=((m=((m+=((h=((h+=((u=((u+=(s^m^h)+v[9]-640364487|0)<<4|u>>>28)+s|0)^s^m)+v[12]-421815835|0)<<11|h>>>21)+u|0)^u^s)+v[15]+530742520|0)<<16|m>>>16)+h|0)^h^u)+v[2]-995338651|0)<<23|s>>>9)+m|0,s=((s+=((h=((h+=(s^((u=((u+=(m^(s|~h))+v[0]-198630844|0)<<6|u>>>26)+s|0)|~m))+v[7]+1126891415|0)<<10|h>>>22)+u|0)^((m=((m+=(u^(h|~s))+v[14]-1416354905|0)<<15|m>>>17)+h|0)|~u))+v[5]-57434055|0)<<21|s>>>11)+m|0,s=((s+=((h=((h+=(s^((u=((u+=(m^(s|~h))+v[12]+1700485571|0)<<6|u>>>26)+s|0)|~m))+v[3]-1894986606|0)<<10|h>>>22)+u|0)^((m=((m+=(u^(h|~s))+v[10]-1051523|0)<<15|m>>>17)+h|0)|~u))+v[1]-2054922799|0)<<21|s>>>11)+m|0,s=((s+=((h=((h+=(s^((u=((u+=(m^(s|~h))+v[8]+1873313359|0)<<6|u>>>26)+s|0)|~m))+v[15]-30611744|0)<<10|h>>>22)+u|0)^((m=((m+=(u^(h|~s))+v[6]-1560198380|0)<<15|m>>>17)+h|0)|~u))+v[13]+1309151649|0)<<21|s>>>11)+m|0,s=((s+=((h=((h+=(s^((u=((u+=(m^(s|~h))+v[4]-145523070|0)<<6|u>>>26)+s|0)|~m))+v[11]-1120210379|0)<<10|h>>>22)+u|0)^((m=((m+=(u^(h|~s))+v[2]+718787259|0)<<15|m>>>17)+h|0)|~u))+v[9]-343485551|0)<<21|s>>>11)+m|0,b[0]=u+b[0]|0,b[1]=s+b[1]|0,b[2]=m+b[2]|0,b[3]=h+b[3]|0}function p(b){var u,v=[];for(u=0;u<64;u+=4)v[u>>2]=b.charCodeAt(u)+(b.charCodeAt(u+1)<<8)+(b.charCodeAt(u+2)<<16)+(b.charCodeAt(u+3)<<24);return v}function B(b){var u,v=[];for(u=0;u<64;u+=4)v[u>>2]=b[u]+(b[u+1]<<8)+(b[u+2]<<16)+(b[u+3]<<24);return v}function k(b){var s,m,h,$,oe,Ee,v=b.length,u=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=v;s+=64)O(u,p(b.substring(s-64,s)));for(m=(b=b.substring(s-64)).length,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<m;s+=1)h[s>>2]|=b.charCodeAt(s)<<(s%4<<3);if(h[s>>2]|=128<<(s%4<<3),s>55)for(O(u,h),s=0;s<16;s+=1)h[s]=0;return $=($=8*v).toString(16).match(/(.*?)(.{0,8})$/),oe=parseInt($[2],16),Ee=parseInt($[1],16)||0,h[14]=oe,h[15]=Ee,O(u,h),u}function M(b){var u,v="";for(u=0;u<4;u+=1)v+=_[b>>8*u+4&15]+_[b>>8*u&15];return v}function I(b){var v;for(v=0;v<b.length;v+=1)b[v]=M(b[v]);return b.join("")}function S(b){return/[\u0080-\uFFFF]/.test(b)&&(b=unescape(encodeURIComponent(b))),b}function x(b){var s,v=[],u=b.length;for(s=0;s<u-1;s+=2)v.push(parseInt(b.substr(s,2),16));return String.fromCharCode.apply(String,v)}function R(){this.reset()}return I(k("hello")),"undefined"!=typeof ArrayBuffer&&!ArrayBuffer.prototype.slice&&function(){function b(v,u){return(v=0|v||0)<0?Math.max(v+u,0):Math.min(v,u)}ArrayBuffer.prototype.slice=function(v,u){var $,oe,Ee,ge,s=this.byteLength,m=b(v,s),h=s;return undefined!==u&&(h=b(u,s)),m>h?new ArrayBuffer(0):($=h-m,oe=new ArrayBuffer($),Ee=new Uint8Array(oe),ge=new Uint8Array(this,m,$),Ee.set(ge),oe)}}(),R.prototype.append=function(b){return this.appendBinary(S(b)),this},R.prototype.appendBinary=function(b){this._buff+=b,this._length+=b.length;var u,v=this._buff.length;for(u=64;u<=v;u+=64)O(this._hash,p(this._buff.substring(u-64,u)));return this._buff=this._buff.substring(u-64),this},R.prototype.end=function(b){var s,h,v=this._buff,u=v.length,m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<u;s+=1)m[s>>2]|=v.charCodeAt(s)<<(s%4<<3);return this._finish(m,u),h=I(this._hash),b&&(h=x(h)),this.reset(),h},R.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},R.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},R.prototype.setState=function(b){return this._buff=b.buff,this._length=b.length,this._hash=b.hash,this},R.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},R.prototype._finish=function(b,v){var s,m,h,u=v;if(b[u>>2]|=128<<(u%4<<3),u>55)for(O(this._hash,b),u=0;u<16;u+=1)b[u]=0;s=(s=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),m=parseInt(s[2],16),h=parseInt(s[1],16)||0,b[14]=m,b[15]=h,O(this._hash,b)},R.hash=function(b,v){return R.hashBinary(S(b),v)},R.hashBinary=function(b,v){var s=I(k(b));return v?x(s):s},(R.ArrayBuffer=function(){this.reset()}).prototype.append=function(b){var s,v=function(b,v,u){var s=new Uint8Array(b.byteLength+v.byteLength);return s.set(new Uint8Array(b)),s.set(new Uint8Array(v),b.byteLength),u?s:s.buffer}(this._buff.buffer,b,!0),u=v.length;for(this._length+=b.byteLength,s=64;s<=u;s+=64)O(this._hash,B(v.subarray(s-64,s)));return this._buff=s-64<u?new Uint8Array(v.buffer.slice(s-64)):new Uint8Array(0),this},R.ArrayBuffer.prototype.end=function(b){var m,h,v=this._buff,u=v.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(m=0;m<u;m+=1)s[m>>2]|=v[m]<<(m%4<<3);return this._finish(s,u),h=I(this._hash),b&&(h=x(h)),this.reset(),h},R.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},R.ArrayBuffer.prototype.getState=function(){var b=R.prototype.getState.call(this);return b.buff=function(b){return String.fromCharCode.apply(null,new Uint8Array(b))}(b.buff),b},R.ArrayBuffer.prototype.setState=function(b){return b.buff=function(b,v){var h,u=b.length,s=new ArrayBuffer(u),m=new Uint8Array(s);for(h=0;h<u;h+=1)m[h]=b.charCodeAt(h);return v?m:s}(b.buff,!0),R.prototype.setState.call(this,b)},R.ArrayBuffer.prototype.destroy=R.prototype.destroy,R.ArrayBuffer.prototype._finish=R.prototype._finish,R.ArrayBuffer.hash=function(b,v){var s=I(function(b){var s,m,h,$,oe,Ee,v=b.length,u=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=v;s+=64)O(u,B(b.subarray(s-64,s)));for(m=(b=s-64<v?b.subarray(s-64):new Uint8Array(0)).length,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<m;s+=1)h[s>>2]|=b[s]<<(s%4<<3);if(h[s>>2]|=128<<(s%4<<3),s>55)for(O(u,h),s=0;s<16;s+=1)h[s]=0;return $=($=8*v).toString(16).match(/(.*?)(.{0,8})$/),oe=parseInt($[2],16),Ee=parseInt($[1],16)||0,h[14]=oe,h[15]=Ee,O(u,h),u}(new Uint8Array(b)));return v?x(s):s},R}()},1451:ae=>{ae.exports=function(c){return c&&"object"==typeof c&&"function"==typeof c.copy&&"function"==typeof c.fill&&"function"==typeof c.readUInt8}},8791:(ae,N,c)=>{var _=c(3407),l=c(110),O=c(2031),p=c(597);function B(je){return je.call.bind(je)}var k="undefined"!=typeof BigInt,j="undefined"!=typeof Symbol,M=B(Object.prototype.toString),I=B(Number.prototype.valueOf),S=B(String.prototype.valueOf),E=B(Boolean.prototype.valueOf);if(k)var T=B(BigInt.prototype.valueOf);if(j)var P=B(Symbol.prototype.valueOf);function x(je,Tt){if("object"!=typeof je)return!1;try{return Tt(je),!0}catch{return!1}}function z(je){return"[object Map]"===M(je)}function Q(je){return"[object Set]"===M(je)}function K(je){return"[object WeakMap]"===M(je)}function Se(je){return"[object WeakSet]"===M(je)}function me(je){return"[object ArrayBuffer]"===M(je)}function _e(je){return"undefined"!=typeof ArrayBuffer&&(me.working?me(je):je instanceof ArrayBuffer)}function te(je){return"[object DataView]"===M(je)}function ce(je){return"undefined"!=typeof DataView&&(te.working?te(je):je instanceof DataView)}N.isArgumentsObject=_,N.isGeneratorFunction=l,N.isTypedArray=p,N.isPromise=function(je){return"undefined"!=typeof Promise&&je instanceof Promise||null!==je&&"object"==typeof je&&"function"==typeof je.then&&"function"==typeof je.catch},N.isArrayBufferView=function(je){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(je):p(je)||ce(je)},N.isUint8Array=function(je){return"Uint8Array"===O(je)},N.isUint8ClampedArray=function(je){return"Uint8ClampedArray"===O(je)},N.isUint16Array=function(je){return"Uint16Array"===O(je)},N.isUint32Array=function(je){return"Uint32Array"===O(je)},N.isInt8Array=function(je){return"Int8Array"===O(je)},N.isInt16Array=function(je){return"Int16Array"===O(je)},N.isInt32Array=function(je){return"Int32Array"===O(je)},N.isFloat32Array=function(je){return"Float32Array"===O(je)},N.isFloat64Array=function(je){return"Float64Array"===O(je)},N.isBigInt64Array=function(je){return"BigInt64Array"===O(je)},N.isBigUint64Array=function(je){return"BigUint64Array"===O(je)},z.working="undefined"!=typeof Map&&z(new Map),N.isMap=function(je){return"undefined"!=typeof Map&&(z.working?z(je):je instanceof Map)},Q.working="undefined"!=typeof Set&&Q(new Set),N.isSet=function(je){return"undefined"!=typeof Set&&(Q.working?Q(je):je instanceof Set)},K.working="undefined"!=typeof WeakMap&&K(new WeakMap),N.isWeakMap=function(je){return"undefined"!=typeof WeakMap&&(K.working?K(je):je instanceof WeakMap)},Se.working="undefined"!=typeof WeakSet&&Se(new WeakSet),N.isWeakSet=function(je){return Se(je)},me.working="undefined"!=typeof ArrayBuffer&&me(new ArrayBuffer),N.isArrayBuffer=_e,te.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&te(new DataView(new ArrayBuffer(1),0,1)),N.isDataView=ce;var Te="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function Ne(je){return"[object SharedArrayBuffer]"===M(je)}function Ge(je){return void 0!==Te&&(void 0===Ne.working&&(Ne.working=Ne(new Te)),Ne.working?Ne(je):je instanceof Te)}function _r(je){return x(je,I)}function Mr(je){return x(je,S)}function br(je){return x(je,E)}function cr(je){return k&&x(je,T)}function mr(je){return j&&x(je,P)}N.isSharedArrayBuffer=Ge,N.isAsyncFunction=function(je){return"[object AsyncFunction]"===M(je)},N.isMapIterator=function(je){return"[object Map Iterator]"===M(je)},N.isSetIterator=function(je){return"[object Set Iterator]"===M(je)},N.isGeneratorObject=function(je){return"[object Generator]"===M(je)},N.isWebAssemblyCompiledModule=function(je){return"[object WebAssembly.Module]"===M(je)},N.isNumberObject=_r,N.isStringObject=Mr,N.isBooleanObject=br,N.isBigIntObject=cr,N.isSymbolObject=mr,N.isBoxedPrimitive=function(je){return _r(je)||Mr(je)||br(je)||cr(je)||mr(je)},N.isAnyArrayBuffer=function(je){return"undefined"!=typeof Uint8Array&&(_e(je)||Ge(je))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(je){Object.defineProperty(N,je,{enumerable:!1,value:function(){throw new Error(je+" is not supported in userland")}})})},6788:(ae,N,c)=>{var _=Object.getOwnPropertyDescriptors||function(ce){for(var Te=Object.keys(ce),Ne={},Ge=0;Ge<Te.length;Ge++)Ne[Te[Ge]]=Object.getOwnPropertyDescriptor(ce,Te[Ge]);return Ne},l=/%[sdj%]/g;N.format=function(te){if(!h(te)){for(var ce=[],Te=0;Te<arguments.length;Te++)ce.push(k(arguments[Te]));return ce.join(" ")}Te=1;for(var Ne=arguments,Ge=Ne.length,ut=String(te).replace(l,function(ct){if("%%"===ct)return"%";if(Te>=Ge)return ct;switch(ct){case"%s":return String(Ne[Te++]);case"%d":return Number(Ne[Te++]);case"%j":try{return JSON.stringify(Ne[Te++])}catch{return"[Circular]"}default:return ct}}),et=Ne[Te];Te<Ge;et=Ne[++Te])u(et)||!ge(et)?ut+=" "+et:ut+=" "+k(et);return ut},N.deprecate=function(te,ce){if("undefined"!=typeof process&&!0===process.noDeprecation)return te;if("undefined"==typeof process)return function(){return N.deprecate(te,ce).apply(this,arguments)};var Te=!1;return function(){if(!Te){if(process.throwDeprecation)throw new Error(ce);process.traceDeprecation?console.trace(ce):console.error(ce),Te=!0}return te.apply(this,arguments)}};var O={},p=/^$/;if(process.env.NODE_DEBUG){var B=process.env.NODE_DEBUG;B=B.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),p=new RegExp("^"+B+"$","i")}function k(te,ce){var Te={seen:[],stylize:M};return arguments.length>=3&&(Te.depth=arguments[2]),arguments.length>=4&&(Te.colors=arguments[3]),v(ce)?Te.showHidden=ce:ce&&N._extend(Te,ce),oe(Te.showHidden)&&(Te.showHidden=!1),oe(Te.depth)&&(Te.depth=2),oe(Te.colors)&&(Te.colors=!1),oe(Te.customInspect)&&(Te.customInspect=!0),Te.colors&&(Te.stylize=j),S(Te,te,Te.depth)}function j(te,ce){var Te=k.styles[ce];return Te?"\x1b["+k.colors[Te][0]+"m"+te+"\x1b["+k.colors[Te][1]+"m":te}function M(te,ce){return te}function S(te,ce,Te){if(te.customInspect&&ce&&z(ce.inspect)&&ce.inspect!==N.inspect&&(!ce.constructor||ce.constructor.prototype!==ce)){var Ne=ce.inspect(Te,te);return h(Ne)||(Ne=S(te,Ne,Te)),Ne}var Ge=function(te,ce){if(oe(ce))return te.stylize("undefined","undefined");if(h(ce)){var Te="'"+JSON.stringify(ce).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return te.stylize(Te,"string")}return m(ce)?te.stylize(""+ce,"number"):v(ce)?te.stylize(""+ce,"boolean"):u(ce)?te.stylize("null","null"):void 0}(te,ce);if(Ge)return Ge;var ut=Object.keys(ce),et=function(te){var ce={};return te.forEach(function(Te,Ne){ce[Te]=!0}),ce}(ut);if(te.showHidden&&(ut=Object.getOwnPropertyNames(ce)),Y(ce)&&(ut.indexOf("message")>=0||ut.indexOf("description")>=0))return T(ce);if(0===ut.length){if(z(ce))return te.stylize("[Function"+(ce.name?": "+ce.name:"")+"]","special");if(Ee(ce))return te.stylize(RegExp.prototype.toString.call(ce),"regexp");if(pe(ce))return te.stylize(Date.prototype.toString.call(ce),"date");if(Y(ce))return T(ce)}var br,St="",It=!1,_r=["{","}"];return b(ce)&&(It=!0,_r=["[","]"]),z(ce)&&(St=" [Function"+(ce.name?": "+ce.name:"")+"]"),Ee(ce)&&(St=" "+RegExp.prototype.toString.call(ce)),pe(ce)&&(St=" "+Date.prototype.toUTCString.call(ce)),Y(ce)&&(St=" "+T(ce)),0!==ut.length||It&&0!=ce.length?Te<0?Ee(ce)?te.stylize(RegExp.prototype.toString.call(ce),"regexp"):te.stylize("[Object]","special"):(te.seen.push(ce),br=It?function(te,ce,Te,Ne,Ge){for(var ut=[],et=0,ct=ce.length;et<ct;++et)Se(ce,String(et))?ut.push(x(te,ce,Te,Ne,String(et),!0)):ut.push("");return Ge.forEach(function(St){St.match(/^\d+$/)||ut.push(x(te,ce,Te,Ne,St,!0))}),ut}(te,ce,Te,et,ut):ut.map(function(cr){return x(te,ce,Te,et,cr,It)}),te.seen.pop(),function(te,ce,Te){var Ge=te.reduce(function(ut,et){return et.indexOf("\n"),ut+et.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Ge>60?Te[0]+(""===ce?"":ce+"\n ")+" "+te.join(",\n  ")+" "+Te[1]:Te[0]+ce+" "+te.join(", ")+" "+Te[1]}(br,St,_r)):_r[0]+St+_r[1]}function T(te){return"["+Error.prototype.toString.call(te)+"]"}function x(te,ce,Te,Ne,Ge,ut){var et,ct,St;if((St=Object.getOwnPropertyDescriptor(ce,Ge)||{value:ce[Ge]}).get?ct=te.stylize(St.set?"[Getter/Setter]":"[Getter]","special"):St.set&&(ct=te.stylize("[Setter]","special")),Se(Ne,Ge)||(et="["+Ge+"]"),ct||(te.seen.indexOf(St.value)<0?(ct=u(Te)?S(te,St.value,null):S(te,St.value,Te-1)).indexOf("\n")>-1&&(ct=ut?ct.split("\n").map(function(It){return"  "+It}).join("\n").substr(2):"\n"+ct.split("\n").map(function(It){return"   "+It}).join("\n")):ct=te.stylize("[Circular]","special")),oe(et)){if(ut&&Ge.match(/^\d+$/))return ct;(et=JSON.stringify(""+Ge)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(et=et.substr(1,et.length-2),et=te.stylize(et,"name")):(et=et.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),et=te.stylize(et,"string"))}return et+": "+ct}function b(te){return Array.isArray(te)}function v(te){return"boolean"==typeof te}function u(te){return null===te}function m(te){return"number"==typeof te}function h(te){return"string"==typeof te}function oe(te){return void 0===te}function Ee(te){return ge(te)&&"[object RegExp]"===Q(te)}function ge(te){return"object"==typeof te&&null!==te}function pe(te){return ge(te)&&"[object Date]"===Q(te)}function Y(te){return ge(te)&&("[object Error]"===Q(te)||te instanceof Error)}function z(te){return"function"==typeof te}function Q(te){return Object.prototype.toString.call(te)}function X(te){return te<10?"0"+te.toString(10):te.toString(10)}N.debuglog=function(te){if(te=te.toUpperCase(),!O[te])if(p.test(te)){var ce=process.pid;O[te]=function(){var Te=N.format.apply(N,arguments);console.error("%s %d: %s",te,ce,Te)}}else O[te]=function(){};return O[te]},N.inspect=k,k.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},k.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},N.types=c(8791),N.isArray=b,N.isBoolean=v,N.isNull=u,N.isNullOrUndefined=function(te){return null==te},N.isNumber=m,N.isString=h,N.isSymbol=function(te){return"symbol"==typeof te},N.isUndefined=oe,N.isRegExp=Ee,N.types.isRegExp=Ee,N.isObject=ge,N.isDate=pe,N.types.isDate=pe,N.isError=Y,N.types.isNativeError=Y,N.isFunction=z,N.isPrimitive=function(te){return null===te||"boolean"==typeof te||"number"==typeof te||"string"==typeof te||"symbol"==typeof te||void 0===te},N.isBuffer=c(1451);var K=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ne(){var te=new Date,ce=[X(te.getHours()),X(te.getMinutes()),X(te.getSeconds())].join(":");return[te.getDate(),K[te.getMonth()],ce].join(" ")}function Se(te,ce){return Object.prototype.hasOwnProperty.call(te,ce)}N.log=function(){console.log("%s - %s",ne(),N.format.apply(N,arguments))},N.inherits=c(3894),N._extend=function(te,ce){if(!ce||!ge(ce))return te;for(var Te=Object.keys(ce),Ne=Te.length;Ne--;)te[Te[Ne]]=ce[Te[Ne]];return te};var Be="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function me(te,ce){if(!te){var Te=new Error("Promise was rejected with a falsy value");Te.reason=te,te=Te}return ce(te)}N.promisify=function(ce){if("function"!=typeof ce)throw new TypeError('The "original" argument must be of type Function');if(Be&&ce[Be]){var Te;if("function"!=typeof(Te=ce[Be]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Te,Be,{value:Te,enumerable:!1,writable:!1,configurable:!0}),Te}function Te(){for(var Ne,Ge,ut=new Promise(function(St,It){Ne=St,Ge=It}),et=[],ct=0;ct<arguments.length;ct++)et.push(arguments[ct]);et.push(function(St,It){St?Ge(St):Ne(It)});try{ce.apply(this,et)}catch(St){Ge(St)}return ut}return Object.setPrototypeOf(Te,Object.getPrototypeOf(ce)),Be&&Object.defineProperty(Te,Be,{value:Te,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Te,_(ce))},N.promisify.custom=Be,N.callbackify=function(te){if("function"!=typeof te)throw new TypeError('The "original" argument must be of type Function');function ce(){for(var Te=[],Ne=0;Ne<arguments.length;Ne++)Te.push(arguments[Ne]);var Ge=Te.pop();if("function"!=typeof Ge)throw new TypeError("The last argument must be of type Function");var ut=this,et=function(){return Ge.apply(ut,arguments)};te.apply(this,Te).then(function(ct){process.nextTick(et.bind(null,null,ct))},function(ct){process.nextTick(me.bind(null,ct,et))})}return Object.setPrototypeOf(ce,Object.getPrototypeOf(te)),Object.defineProperties(ce,_(te)),ce}},2899:(ae,N)=>{function c(_,l,O){var p=O[O.length-1];_===p.element&&(O.pop(),p=O[O.length-1]);var B=p.element,k=p.index;Array.isArray(B)?B.push(_):k===l.length-2?B[l.pop()]=_:l.push(_)}N.stringify=function(l){var O=[];O.push({obj:l});for(var B,k,M,I,E,T,P,x,R,p="";B=O.pop();)if(k=B.obj,p+=B.prefix||"",M=B.val||"")p+=M;else if("object"!=typeof k)p+=void 0===k?null:JSON.stringify(k);else if(null===k)p+="null";else if(Array.isArray(k)){for(O.push({val:"]"}),I=k.length-1;I>=0;I--)O.push({obj:k[I],prefix:0===I?"":","});O.push({val:"["})}else{for(T in E=[],k)k.hasOwnProperty(T)&&E.push(T);for(O.push({val:"}"}),I=E.length-1;I>=0;I--)x=k[P=E[I]],R=I>0?",":"",R+=JSON.stringify(P)+":",O.push({obj:x,prefix:R});O.push({val:"{"})}return p},N.parse=function(_){for(var B,k,j,M,I,S,E,T,P,l=[],O=[],p=0;;)if("}"!==(B=_[p++])&&"]"!==B&&void 0!==B)switch(B){case" ":case"\t":case"\n":case":":case",":break;case"n":p+=3,c(null,l,O);break;case"t":p+=3,c(!0,l,O);break;case"f":p+=4,c(!1,l,O);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(k="",p--;;){if(j=_[p++],!/[\d\.\-e\+]/.test(j)){p--;break}k+=j}c(parseFloat(k),l,O);break;case'"':for(M="",I=void 0,S=0;'"'!==(E=_[p++])||"\\"===I&&S%2==1;)M+=E,"\\"===(I=E)?S++:S=0;c(JSON.parse('"'+M+'"'),l,O);break;case"[":l.push((T={element:[],index:l.length}).element),O.push(T);break;case"{":l.push((P={element:{},index:l.length}).element),O.push(P);break;default:throw new Error("unexpectedly reached end of input: "+B)}else{if(1===l.length)return l.pop();c(l.pop(),l,O)}}},2031:(ae,N,c)=>{var _=c(9076),l=c(7029),O=c(5834),p=O("Object.prototype.toString"),B=c(6259)(),k="undefined"==typeof globalThis?global:globalThis,j=l(),M=O("String.prototype.slice"),I={},S=c(8555),E=Object.getPrototypeOf;B&&S&&E&&_(j,function(x){if("function"==typeof k[x]){var R=new k[x];if(Symbol.toStringTag in R){var b=E(R),v=S(b,Symbol.toStringTag);if(!v){var u=E(b);v=S(u,Symbol.toStringTag)}I[x]=v.get}}});var P=c(597);ae.exports=function(R){return!!P(R)&&(B&&Symbol.toStringTag in R?function(R){var b=!1;return _(I,function(v,u){if(!b)try{var s=v.call(R);s===u&&(b=s)}catch{}}),b}(R):M(p(R),8,-1))}},1995:ae=>{ae.exports=function(){for(var _={},l=0;l<arguments.length;l++){var O=arguments[l];for(var p in O)N.call(O,p)&&(_[p]=O[p])}return _};var N=Object.prototype.hasOwnProperty},7757:(ae,N,c)=>{ae.exports=c(7854)},655:(ae,N,c)=>{function M(Y,z,J,Q){return new(J||(J=Promise))(function(K,ne){function Se(_e){try{me(Q.next(_e))}catch(te){ne(te)}}function Be(_e){try{me(Q.throw(_e))}catch(te){ne(te)}}function me(_e){_e.done?K(_e.value):function(K){return K instanceof J?K:new J(function(ne){ne(K)})}(_e.value).then(Se,Be)}me((Q=Q.apply(Y,z||[])).next())})}function v(Y){return this instanceof v?(this.v=Y,this):new v(Y)}function u(Y,z,J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X,Q=J.apply(Y,z||[]),K=[];return X={},ne("next"),ne("throw"),ne("return"),X[Symbol.asyncIterator]=function(){return this},X;function ne(ce){Q[ce]&&(X[ce]=function(Te){return new Promise(function(Ne,Ge){K.push([ce,Te,Ne,Ge])>1||Se(ce,Te)})})}function Se(ce,Te){try{!function(ce){ce.value instanceof v?Promise.resolve(ce.value.v).then(me,_e):te(K[0][2],ce)}(Q[ce](Te))}catch(Ne){te(K[0][3],Ne)}}function me(ce){Se("next",ce)}function _e(ce){Se("throw",ce)}function te(ce,Te){ce(Te),K.shift(),K.length&&Se(K[0][0],K[0][1])}}function m(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,z=Y[Symbol.asyncIterator];return z?z.call(Y):(Y=function(Y){var z="function"==typeof Symbol&&Symbol.iterator,J=z&&Y[z],Q=0;if(J)return J.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&Q>=Y.length&&(Y=void 0),{value:Y&&Y[Q++],done:!Y}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),J={},Q("next"),Q("throw"),Q("return"),J[Symbol.asyncIterator]=function(){return this},J);function Q(K){J[K]=Y[K]&&function(ne){return new Promise(function(Se,Be){!function(K,ne,Se,Be){Promise.resolve(Be).then(function(me){K({value:me,done:Se})},ne)}(Se,Be,(ne=Y[K](ne)).done,ne.value)})}}}c.d(N,{mG:()=>M,qq:()=>v,FC:()=>u,KL:()=>m})},2480:()=>{},4703:()=>{},7029:ae=>{var N=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],c="undefined"==typeof globalThis?global:globalThis;ae.exports=function(){for(var l=[],O=0;O<N.length;O++)"function"==typeof c[N[O]]&&(l[l.length]=N[O]);return l}},8555:(ae,N,c)=>{var l=c(5203)("%Object.getOwnPropertyDescriptor%",!0);if(l)try{l([],"length")}catch{l=null}ae.exports=l},7340:(ae,N,c)=>{c.d(N,{l3:()=>O,_j:()=>_,LC:()=>l,ZN:()=>u,jt:()=>B,oQ:()=>T,F4:()=>S,vP:()=>j,SB:()=>I,oB:()=>M,eR:()=>E,X$:()=>p,_7:()=>x,ZE:()=>s,k1:()=>m});class _{}class l{}const O="*";function p(h,$){return{type:7,name:h,definitions:$,options:{}}}function B(h,$=null){return{type:4,styles:$,timings:h}}function j(h,$=null){return{type:2,steps:h,options:$}}function M(h){return{type:6,styles:h,offset:null}}function I(h,$,oe){return{type:0,name:h,styles:$,options:oe}}function S(h){return{type:5,steps:h}}function E(h,$,oe=null){return{type:1,expr:h,animation:$,options:oe}}function T(h,$=null){return{type:8,animation:h,options:$}}function x(h,$=null){return{type:10,animation:h,options:$}}function v(h){Promise.resolve(null).then(h)}class u{constructor($=0,oe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=$+oe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach($=>$()),this._onDoneFns=[])}onStart($){this._onStartFns.push($)}onDone($){this._onDoneFns.push($)}onDestroy($){this._onDestroyFns.push($)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){v(()=>this._onFinish())}_onStart(){this._onStartFns.forEach($=>$()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach($=>$()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition($){this._position=this.totalTime?$*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback($){const oe="start"==$?this._onStartFns:this._onDoneFns;oe.forEach(Ee=>Ee()),oe.length=0}}class s{constructor($){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=$;let oe=0,Ee=0,ge=0;const pe=this.players.length;0==pe?v(()=>this._onFinish()):this.players.forEach(Y=>{Y.onDone(()=>{++oe==pe&&this._onFinish()}),Y.onDestroy(()=>{++Ee==pe&&this._onDestroy()}),Y.onStart(()=>{++ge==pe&&this._onStart()})}),this.totalTime=this.players.reduce((Y,z)=>Math.max(Y,z.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach($=>$()),this._onDoneFns=[])}init(){this.players.forEach($=>$.init())}onStart($){this._onStartFns.push($)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach($=>$()),this._onStartFns=[])}onDone($){this._onDoneFns.push($)}onDestroy($){this._onDestroyFns.push($)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach($=>$.play())}pause(){this.players.forEach($=>$.pause())}restart(){this.players.forEach($=>$.restart())}finish(){this._onFinish(),this.players.forEach($=>$.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach($=>$.destroy()),this._onDestroyFns.forEach($=>$()),this._onDestroyFns=[])}reset(){this.players.forEach($=>$.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition($){const oe=$*this.totalTime;this.players.forEach(Ee=>{const ge=Ee.totalTime?Math.min(1,oe/Ee.totalTime):1;Ee.setPosition(ge)})}getPosition(){const $=this.players.reduce((oe,Ee)=>null===oe||Ee.totalTime>oe.totalTime?Ee:oe,null);return null!=$?$.getPosition():0}beforeDestroy(){this.players.forEach($=>{$.beforeDestroy&&$.beforeDestroy()})}triggerCallback($){const oe="start"==$?this._onStartFns:this._onDoneFns;oe.forEach(Ee=>Ee()),oe.length=0}}const m="!"},8753:(ae,N,c)=>{c.d(N,{Zt:()=>On,Hk:()=>As,Wj:()=>hi,_t:()=>Po});var _=c(7777),l=c(1457);function O(V){return null!=V&&"false"!=`${V}`}function p(V,D=0){return function(V){return!isNaN(parseFloat(V))&&!isNaN(Number(V))}(V)?Number(V):D}function M(V){return V instanceof _.ElementRef?V.nativeElement:V}var S=c(7579),E=c(9646),T=c(8306),P=c(4968),x=c(6406),b=(c(3101),c(3601)),v=c(9300);let u;try{u="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch{u=!1}let Ee,X,s=(()=>{class V{constructor(g){this._platformId=g,this.isBrowser=this._platformId?(0,l.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!u)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return V.\u0275fac=function(g){return new(g||V)(_.\u0275\u0275inject(_.PLATFORM_ID))},V.\u0275prov=_.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function pe(V){return function(){if(null==Ee&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ee=!0}))}finally{Ee=Ee||!1}return Ee}()?V:!!V.capture}function ne(V){if(function(){if(null==X){const V="undefined"!=typeof document?document.head:null;X=!(!V||!V.createShadowRoot&&!V.attachShadow)}return X}()){const D=V.getRootNode?V.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&D instanceof ShadowRoot)return D}return null}function Be(V){return V.composedPath?V.composedPath()[0]:V.target}let et=(()=>{class V{constructor(g,F,H){this._ngZone=g,this._platform=F,this._scrolled=new S.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=H}register(g){this.scrollContainers.has(g)||this.scrollContainers.set(g,g.elementScrolled().subscribe(()=>this._scrolled.next(g)))}deregister(g){const F=this.scrollContainers.get(g);F&&(F.unsubscribe(),this.scrollContainers.delete(g))}scrolled(g=20){return this._platform.isBrowser?new T.y(F=>{this._globalSubscription||this._addGlobalListener();const H=g>0?this._scrolled.pipe((0,b.e)(g)).subscribe(F):this._scrolled.subscribe(F);return this._scrolledCount++,()=>{H.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,E.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((g,F)=>this.deregister(F)),this._scrolled.complete()}ancestorScrolled(g,F){const H=this.getAncestorScrollContainers(g);return this.scrolled(F).pipe((0,v.h)(le=>!le||H.indexOf(le)>-1))}getAncestorScrollContainers(g){const F=[];return this.scrollContainers.forEach((H,le)=>{this._scrollableContainsElement(le,g)&&F.push(le)}),F}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(g,F){let H=M(F),le=g.getElementRef().nativeElement;do{if(H==le)return!0}while(H=H.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const g=this._getWindow();return(0,P.R)(g.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return V.\u0275fac=function(g){return new(g||V)(_.\u0275\u0275inject(_.NgZone),_.\u0275\u0275inject(s),_.\u0275\u0275inject(l.DOCUMENT,8))},V.\u0275prov=_.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),It=(()=>{class V{constructor(g,F,H){this._platform=g,this._change=new S.x,this._changeListener=le=>{this._change.next(le)},this._document=H,F.runOutsideAngular(()=>{if(g.isBrowser){const le=this._getWindow();le.addEventListener("resize",this._changeListener),le.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const g=this._getWindow();g.removeEventListener("resize",this._changeListener),g.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const g={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),g}getViewportRect(){const g=this.getViewportScrollPosition(),{width:F,height:H}=this.getViewportSize();return{top:g.top,left:g.left,bottom:g.top+H,right:g.left+F,height:H,width:F}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const g=this._document,F=this._getWindow(),H=g.documentElement,le=H.getBoundingClientRect();return{top:-le.top||g.body.scrollTop||F.scrollY||H.scrollTop||0,left:-le.left||g.body.scrollLeft||F.scrollX||H.scrollLeft||0}}change(g=20){return g>0?this._change.pipe((0,b.e)(g)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const g=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:g.innerWidth,height:g.innerHeight}:{width:0,height:0}}}return V.\u0275fac=function(g){return new(g||V)(_.\u0275\u0275inject(s),_.\u0275\u0275inject(_.NgZone),_.\u0275\u0275inject(l.DOCUMENT,8))},V.\u0275prov=_.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),V})(),rr=(()=>{class V{}return V.\u0275fac=function(g){return new(g||V)},V.\u0275mod=_.\u0275\u0275defineNgModule({type:V}),V.\u0275inj=_.\u0275\u0275defineInjector({}),V})();var Ba=c(4986),La=c(5963),wn=c(727),An=c(6451),ar=c(2722),Wt=c(8675),Wn=c(4004),vs=c(5698),Nr=c(8505),yo=c(3900);const $n=new _.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,_.inject)(l.DOCUMENT)}});let Cn=(()=>{class V{constructor(g){if(this.value="ltr",this.change=new _.EventEmitter,g){const H=g.documentElement?g.documentElement.dir:null,le=(g.body?g.body.dir:null)||H;this.value="ltr"===le||"rtl"===le?le:"ltr"}}ngOnDestroy(){this.change.complete()}}return V.\u0275fac=function(g){return new(g||V)(_.\u0275\u0275inject($n,8))},V.\u0275prov=_.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();function gs(V,D,g){for(let F in D)if(D.hasOwnProperty(F)){const H=D[F];H?V.setProperty(F,H,g?.has(F)?"important":""):V.removeProperty(F)}return V}function Kr(V,D){const g=D?"":"none";gs(V.style,{"touch-action":D?"":"none","-webkit-user-drag":D?"":"none","-webkit-tap-highlight-color":D?"":"transparent","user-select":g,"-ms-user-select":g,"-webkit-user-select":g,"-moz-user-select":g})}function ys(V,D,g){gs(V.style,{position:D?"":"fixed",top:D?"":"0",opacity:D?"":"0",left:D?"":"-999em"},g)}function Kn(V,D){return D&&"none"!=D?V+" "+D:V}function bo(V){const D=V.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(V)*D}function Vn(V,D){return V.getPropertyValue(D).split(",").map(F=>F.trim())}function Hn(V){const D=V.getBoundingClientRect();return{top:D.top,right:D.right,bottom:D.bottom,left:D.left,width:D.width,height:D.height,x:D.x,y:D.y}}function dr(V,D,g){const{top:F,bottom:H,left:le,right:Ie}=V;return g>=F&&g<=H&&D>=le&&D<=Ie}function Qn(V,D,g){V.top+=D,V.bottom=V.top+V.height,V.left+=g,V.right=V.left+V.width}function fi(V,D,g,F){const{top:H,right:le,bottom:Ie,left:Le,width:Ze,height:rt}=V,At=Ze*D,gr=rt*D;return F>H-gr&&F<Ie+gr&&g>Le-At&&g<le+At}class ji{constructor(D,g){this._document=D,this._viewportRuler=g,this.positions=new Map}clear(){this.positions.clear()}cache(D){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),D.forEach(g=>{this.positions.set(g,{scrollPosition:{top:g.scrollTop,left:g.scrollLeft},clientRect:Hn(g)})})}handleScroll(D){const g=Be(D),F=this.positions.get(g);if(!F)return null;const H=F.scrollPosition;let le,Ie;if(g===this._document){const rt=this._viewportRuler.getViewportScrollPosition();le=rt.top,Ie=rt.left}else le=g.scrollTop,Ie=g.scrollLeft;const Le=H.top-le,Ze=H.left-Ie;return this.positions.forEach((rt,At)=>{rt.clientRect&&g!==At&&g.contains(At)&&Qn(rt.clientRect,Le,Ze)}),H.top=le,H.left=Ie,{top:Le,left:Ze}}}function Eo(V){const D=V.cloneNode(!0),g=D.querySelectorAll("[id]"),F=V.nodeName.toLowerCase();D.removeAttribute("id");for(let H=0;H<g.length;H++)g[H].removeAttribute("id");return"canvas"===F?Gn(V,D):("input"===F||"select"===F||"textarea"===F)&&So(V,D),$e("canvas",V,D,Gn),$e("input, textarea, select",V,D,So),D}function $e(V,D,g,F){const H=D.querySelectorAll(V);if(H.length){const le=g.querySelectorAll(V);for(let Ie=0;Ie<H.length;Ie++)F(H[Ie],le[Ie])}}let Ht=0;function So(V,D){"file"!==D.type&&(D.value=V.value),"radio"===D.type&&D.name&&(D.name=`mat-clone-${D.name}-${Ht++}`)}function Gn(V,D){const g=D.getContext("2d");if(g)try{g.drawImage(V,0,0)}catch{}}const Zt=pe({passive:!0}),di=pe({passive:!1}),st=new Set(["position"]);class ja{constructor(D,g,F,H,le,Ie){this._config=g,this._document=F,this._ngZone=H,this._viewportRuler=le,this._dragDropRegistry=Ie,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new S.x,this._pointerMoveSubscription=wn.w0.EMPTY,this._pointerUpSubscription=wn.w0.EMPTY,this._scrollSubscription=wn.w0.EMPTY,this._resizeSubscription=wn.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new S.x,this.started=new S.x,this.released=new S.x,this.ended=new S.x,this.entered=new S.x,this.exited=new S.x,this.dropped=new S.x,this.moved=this._moveEvents,this._pointerDown=Le=>{if(this.beforeStarted.next(),this._handles.length){const Ze=this._handles.find(rt=>Le.target&&(Le.target===rt||rt.contains(Le.target)));Ze&&!this._disabledHandles.has(Ze)&&!this.disabled&&this._initializeDragSequence(Ze,Le)}else this.disabled||this._initializeDragSequence(this._rootElement,Le)},this._pointerMove=Le=>{const Ze=this._getPointerPositionOnPage(Le);if(!this._hasStartedDragging){if(Math.abs(Ze.x-this._pickupPositionOnPage.x)+Math.abs(Ze.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const yi=Date.now()>=this._dragStartTime+this._getDragStartDelay(Le),In=this._dropContainer;if(!yi)return void this._endDragSequence(Le);(!In||!In.isDragging()&&!In.isReceiving())&&(Le.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(Le)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),Le.preventDefault();const rt=this._getConstrainedPointerPosition(Ze);if(this._hasMoved=!0,this._lastKnownPointerPosition=Ze,this._updatePointerDirectionDelta(rt),this._dropContainer)this._updateActiveDropContainer(rt,Ze);else{const At=this._activeTransform;At.x=rt.x-this._pickupPositionOnPage.x+this._passiveTransform.x,At.y=rt.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(At.x,At.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:rt,event:Le,distance:this._getDragDistance(rt),delta:this._pointerDirectionDelta})})},this._pointerUp=Le=>{this._endDragSequence(Le)},this.withRootElement(D).withParent(g.parentDragRef||null),this._parentPositions=new ji(F,le),Ie.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(D){const g=O(D);g!==this._disabled&&(this._disabled=g,this._toggleNativeDragInteractions(),this._handles.forEach(F=>Kr(F,g)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(D){this._handles=D.map(F=>M(F)),this._handles.forEach(F=>Kr(F,this.disabled)),this._toggleNativeDragInteractions();const g=new Set;return this._disabledHandles.forEach(F=>{this._handles.indexOf(F)>-1&&g.add(F)}),this._disabledHandles=g,this}withPreviewTemplate(D){return this._previewTemplate=D,this}withPlaceholderTemplate(D){return this._placeholderTemplate=D,this}withRootElement(D){const g=M(D);return g!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{g.addEventListener("mousedown",this._pointerDown,di),g.addEventListener("touchstart",this._pointerDown,Zt)}),this._initialTransform=void 0,this._rootElement=g),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(D){return this._boundaryElement=D?M(D):null,this._resizeSubscription.unsubscribe(),D&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(D){return this._parentDragRef=D,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(D){!this._disabledHandles.has(D)&&this._handles.indexOf(D)>-1&&(this._disabledHandles.add(D),Kr(D,!0))}enableHandle(D){this._disabledHandles.has(D)&&(this._disabledHandles.delete(D),Kr(D,this.disabled))}withDirection(D){return this._direction=D,this}_withDropContainer(D){this._dropContainer=D}getFreeDragPosition(){const D=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:D.x,y:D.y}}setFreeDragPosition(D){return this._activeTransform={x:0,y:0},this._passiveTransform.x=D.x,this._passiveTransform.y=D.y,this._dropContainer||this._applyRootElementTransform(D.x,D.y),this}withPreviewContainer(D){return this._previewContainer=D,this}_sortFromLastPointerPosition(){const D=this._lastKnownPointerPosition;D&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(D),D)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(D){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(D),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const g=this._getPointerPositionOnPage(D);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(g),dropPoint:g})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(D){$t(D)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const g=this._dropContainer;if(g){const F=this._rootElement,H=F.parentNode,le=this._placeholder=this._createPlaceholderElement(),Ie=this._anchor=this._anchor||this._document.createComment(""),Le=this._getShadowRoot();H.insertBefore(Ie,F),this._initialTransform=F.style.transform||"",this._preview=this._createPreviewElement(),ys(F,!1,st),this._document.body.appendChild(H.replaceChild(le,F)),this._getPreviewInsertionPoint(H,Le).appendChild(this._preview),this.started.next({source:this}),g.start(),this._initialContainer=g,this._initialIndex=g.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(g?g.getScrollableParents():[])}_initializeDragSequence(D,g){this._parentDragRef&&g.stopPropagation();const F=this.isDragging(),H=$t(g),le=!H&&0!==g.button,Ie=this._rootElement,Le=Be(g),Ze=!H&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),rt=H?function(V){const D=V.touches&&V.touches[0]||V.changedTouches&&V.changedTouches[0];return!(!D||-1!==D.identifier||null!=D.radiusX&&1!==D.radiusX||null!=D.radiusY&&1!==D.radiusY)}(g):0===(V=g).offsetX&&0===V.offsetY;var V;if(Le&&Le.draggable&&"mousedown"===g.type&&g.preventDefault(),F||le||Ze||rt)return;if(this._handles.length){const Or=Ie.style;this._rootElementTapHighlight=Or.webkitTapHighlightColor||"",Or.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Or=>this._updateOnScroll(Or)),this._boundaryElement&&(this._boundaryRect=Hn(this._boundaryElement));const At=this._previewTemplate;this._pickupPositionInElement=At&&At.template&&!At.matchSize?{x:0,y:0}:this._getPointerPositionInElement(D,g);const gr=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(g);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:gr.x,y:gr.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,g)}_cleanupDragArtifacts(D){ys(this._rootElement,!0,st),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const g=this._dropContainer,F=g.getItemIndex(this),H=this._getPointerPositionOnPage(D),le=this._getDragDistance(H),Ie=g._isOverContainer(H.x,H.y);this.ended.next({source:this,distance:le,dropPoint:H}),this.dropped.next({item:this,currentIndex:F,previousIndex:this._initialIndex,container:g,previousContainer:this._initialContainer,isPointerOverContainer:Ie,distance:le,dropPoint:H}),g.drop(this,F,this._initialIndex,this._initialContainer,Ie,le,H),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:D,y:g},{x:F,y:H}){let le=this._initialContainer._getSiblingContainerFromPosition(this,D,g);!le&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(D,g)&&(le=this._initialContainer),le&&le!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=le,this._dropContainer.enter(this,D,g,le===this._initialContainer&&le.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:le,currentIndex:le.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(F,H),this._dropContainer._sortItem(this,D,g,this._pointerDirectionDelta),this._applyPreviewTransform(D-this._pickupPositionInElement.x,g-this._pickupPositionInElement.y))}_createPreviewElement(){const D=this._previewTemplate,g=this.previewClass,F=D?D.template:null;let H;if(F&&D){const le=D.matchSize?this._rootElement.getBoundingClientRect():null,Ie=D.viewContainer.createEmbeddedView(F,D.context);Ie.detectChanges(),H=wo(Ie,this._document),this._previewRef=Ie,D.matchSize?Ao(H,le):H.style.transform=ze(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const le=this._rootElement;H=Eo(le),Ao(H,le.getBoundingClientRect()),this._initialTransform&&(H.style.transform=this._initialTransform)}return gs(H.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},st),Kr(H,!1),H.classList.add("cdk-drag-preview"),H.setAttribute("dir",this._direction),g&&(Array.isArray(g)?g.forEach(le=>H.classList.add(le)):H.classList.add(g)),H}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const D=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(D.left,D.top);const g=function(V){const D=getComputedStyle(V),g=Vn(D,"transition-property"),F=g.find(Le=>"transform"===Le||"all"===Le);if(!F)return 0;const H=g.indexOf(F),le=Vn(D,"transition-duration"),Ie=Vn(D,"transition-delay");return bo(le[H])+bo(Ie[H])}(this._preview);return 0===g?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(F=>{const H=Ie=>{(!Ie||Be(Ie)===this._preview&&"transform"===Ie.propertyName)&&(this._preview?.removeEventListener("transitionend",H),F(),clearTimeout(le))},le=setTimeout(H,1.5*g);this._preview.addEventListener("transitionend",H)}))}_createPlaceholderElement(){const D=this._placeholderTemplate,g=D?D.template:null;let F;return g?(this._placeholderRef=D.viewContainer.createEmbeddedView(g,D.context),this._placeholderRef.detectChanges(),F=wo(this._placeholderRef,this._document)):F=Eo(this._rootElement),F.classList.add("cdk-drag-placeholder"),F}_getPointerPositionInElement(D,g){const F=this._rootElement.getBoundingClientRect(),H=D===this._rootElement?null:D,le=H?H.getBoundingClientRect():F,Ie=$t(g)?g.targetTouches[0]:g,Le=this._getViewportScrollPosition();return{x:le.left-F.left+(Ie.pageX-le.left-Le.left),y:le.top-F.top+(Ie.pageY-le.top-Le.top)}}_getPointerPositionOnPage(D){const g=this._getViewportScrollPosition(),F=$t(D)?D.touches[0]||D.changedTouches[0]||{pageX:0,pageY:0}:D,H=F.pageX-g.left,le=F.pageY-g.top;if(this._ownerSVGElement){const Ie=this._ownerSVGElement.getScreenCTM();if(Ie){const Le=this._ownerSVGElement.createSVGPoint();return Le.x=H,Le.y=le,Le.matrixTransform(Ie.inverse())}}return{x:H,y:le}}_getConstrainedPointerPosition(D){const g=this._dropContainer?this._dropContainer.lockAxis:null;let{x:F,y:H}=this.constrainPosition?this.constrainPosition(D,this):D;if("x"===this.lockAxis||"x"===g?H=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===g)&&(F=this._pickupPositionOnPage.x),this._boundaryRect){const{x:le,y:Ie}=this._pickupPositionInElement,Le=this._boundaryRect,Ze=this._previewRect,rt=Le.top+Ie,At=Le.bottom-(Ze.height-Ie);F=dn(F,Le.left+le,Le.right-(Ze.width-le)),H=dn(H,rt,At)}return{x:F,y:H}}_updatePointerDirectionDelta(D){const{x:g,y:F}=D,H=this._pointerDirectionDelta,le=this._pointerPositionAtLastDirectionChange,Ie=Math.abs(g-le.x),Le=Math.abs(F-le.y);return Ie>this._config.pointerDirectionChangeThreshold&&(H.x=g>le.x?1:-1,le.x=g),Le>this._config.pointerDirectionChangeThreshold&&(H.y=F>le.y?1:-1,le.y=F),H}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const D=this._handles.length>0||!this.isDragging();D!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=D,Kr(this._rootElement,D))}_removeRootElementListeners(D){D.removeEventListener("mousedown",this._pointerDown,di),D.removeEventListener("touchstart",this._pointerDown,Zt)}_applyRootElementTransform(D,g){const F=ze(D,g),H=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=H.transform&&"none"!=H.transform?H.transform:""),H.transform=Kn(F,this._initialTransform)}_applyPreviewTransform(D,g){const F=this._previewTemplate?.template?void 0:this._initialTransform,H=ze(D,g);this._preview.style.transform=Kn(H,F)}_getDragDistance(D){const g=this._pickupPositionOnPage;return g?{x:D.x-g.x,y:D.y-g.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:D,y:g}=this._passiveTransform;if(0===D&&0===g||this.isDragging()||!this._boundaryElement)return;const F=this._boundaryElement.getBoundingClientRect(),H=this._rootElement.getBoundingClientRect();if(0===F.width&&0===F.height||0===H.width&&0===H.height)return;const le=F.left-H.left,Ie=H.right-F.right,Le=F.top-H.top,Ze=H.bottom-F.bottom;F.width>H.width?(le>0&&(D+=le),Ie>0&&(D-=Ie)):D=0,F.height>H.height?(Le>0&&(g+=Le),Ze>0&&(g-=Ze)):g=0,(D!==this._passiveTransform.x||g!==this._passiveTransform.y)&&this.setFreeDragPosition({y:g,x:D})}_getDragStartDelay(D){const g=this.dragStartDelay;return"number"==typeof g?g:$t(D)?g.touch:g?g.mouse:0}_updateOnScroll(D){const g=this._parentPositions.handleScroll(D);if(g){const F=Be(D);this._boundaryRect&&F!==this._boundaryElement&&F.contains(this._boundaryElement)&&Qn(this._boundaryRect,g.top,g.left),this._pickupPositionOnPage.x+=g.left,this._pickupPositionOnPage.y+=g.top,this._dropContainer||(this._activeTransform.x-=g.left,this._activeTransform.y-=g.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const D=this._parentPositions.positions.get(this._document);return D?D.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=ne(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(D,g){const F=this._previewContainer||"global";if("parent"===F)return D;if("global"===F){const H=this._document;return g||H.fullscreenElement||H.webkitFullscreenElement||H.mozFullScreenElement||H.msFullscreenElement||H.body}return M(F)}}function ze(V,D){return`translate3d(${Math.round(V)}px, ${Math.round(D)}px, 0)`}function dn(V,D,g){return Math.max(D,Math.min(g,V))}function $t(V){return"t"===V.type[0]}function wo(V,D){const g=V.rootNodes;if(1===g.length&&g[0].nodeType===D.ELEMENT_NODE)return g[0];const F=D.createElement("div");return g.forEach(H=>F.appendChild(H)),F}function Ao(V,D){V.style.width=`${D.width}px`,V.style.height=`${D.height}px`,V.style.transform=ze(D.left,D.top)}function jr(V,D){return Math.max(0,Math.min(D,V))}class bs{constructor(D,g,F,H,le){this._dragDropRegistry=g,this._ngZone=H,this._viewportRuler=le,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new S.x,this.entered=new S.x,this.exited=new S.x,this.dropped=new S.x,this.sorted=new S.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=wn.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new S.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(V=0,D=Ba.z){return V<0&&(V=0),(0,La.H)(V,V,D)}(0,x.Z).pipe((0,ar.R)(this._stopScrollTimers)).subscribe(()=>{const Ie=this._scrollNode,Le=this.autoScrollStep;1===this._verticalScrollDirection?Ie.scrollBy(0,-Le):2===this._verticalScrollDirection&&Ie.scrollBy(0,Le),1===this._horizontalScrollDirection?Ie.scrollBy(-Le,0):2===this._horizontalScrollDirection&&Ie.scrollBy(Le,0)})},this.element=M(D),this._document=F,this.withScrollableParents([this.element]),g.registerDropContainer(this),this._parentPositions=new ji(F,le)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(D,g,F,H){let le;this._draggingStarted(),null==H?(le=this.sortingDisabled?this._draggables.indexOf(D):-1,-1===le&&(le=this._getItemIndexFromPointerPosition(D,g,F))):le=H;const Ie=this._activeDraggables,Le=Ie.indexOf(D),Ze=D.getPlaceholderElement();let rt=Ie[le];if(rt===D&&(rt=Ie[le+1]),Le>-1&&Ie.splice(Le,1),rt&&!this._dragDropRegistry.isDragging(rt)){const At=rt.getRootElement();At.parentElement.insertBefore(Ze,At),Ie.splice(le,0,D)}else if(this._shouldEnterAsFirstChild(g,F)){const At=Ie[0].getRootElement();At.parentNode.insertBefore(Ze,At),Ie.unshift(D)}else M(this.element).appendChild(Ze),Ie.push(D);Ze.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:D,container:this,currentIndex:this.getItemIndex(D)})}exit(D){this._reset(),this.exited.next({item:D,container:this})}drop(D,g,F,H,le,Ie,Le){this._reset(),this.dropped.next({item:D,currentIndex:g,previousIndex:F,container:this,previousContainer:H,isPointerOverContainer:le,distance:Ie,dropPoint:Le})}withItems(D){const g=this._draggables;return this._draggables=D,D.forEach(F=>F._withDropContainer(this)),this.isDragging()&&(g.filter(H=>H.isDragging()).every(H=>-1===D.indexOf(H))?this._reset():this._cacheItems()),this}withDirection(D){return this._direction=D,this}connectedTo(D){return this._siblings=D.slice(),this}withOrientation(D){return this._orientation=D,this}withScrollableParents(D){const g=M(this.element);return this._scrollableElements=-1===D.indexOf(g)?[g,...D]:D.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(D){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(F=>F.drag===D):this._draggables.indexOf(D)}isReceiving(){return this._activeSiblings.size>0}_sortItem(D,g,F,H){if(this.sortingDisabled||!this._clientRect||!fi(this._clientRect,.05,g,F))return;const le=this._itemPositions,Ie=this._getItemIndexFromPointerPosition(D,g,F,H);if(-1===Ie&&le.length>0)return;const Le="horizontal"===this._orientation,Ze=le.findIndex(hr=>hr.drag===D),rt=le[Ie],gr=rt.clientRect,Or=Ze>Ie?1:-1,yi=this._getItemOffsetPx(le[Ze].clientRect,gr,Or),In=this._getSiblingOffsetPx(Ze,le,Or),hn=le.slice();(function(V,D,g){const F=jr(D,V.length-1),H=jr(g,V.length-1);if(F===H)return;const le=V[F],Ie=H<F?-1:1;for(let Le=F;Le!==H;Le+=Ie)V[Le]=V[Le+Ie];V[H]=le})(le,Ze,Ie),this.sorted.next({previousIndex:Ze,currentIndex:Ie,container:this,item:D}),le.forEach((hr,Hr)=>{if(hn[Hr]===hr)return;const Pn=hr.drag===D,Ds=Pn?yi:In,Os=Pn?D.getPlaceholderElement():hr.drag.getRootElement();hr.offset+=Ds,Le?(Os.style.transform=Kn(`translate3d(${Math.round(hr.offset)}px, 0, 0)`,hr.initialTransform),Qn(hr.clientRect,0,Ds)):(Os.style.transform=Kn(`translate3d(0, ${Math.round(hr.offset)}px, 0)`,hr.initialTransform),Qn(hr.clientRect,Ds,0))}),this._previousSwap.overlaps=dr(gr,g,F),this._previousSwap.drag=rt.drag,this._previousSwap.delta=Le?H.x:H.y}_startScrollingIfNecessary(D,g){if(this.autoScrollDisabled)return;let F,H=0,le=0;if(this._parentPositions.positions.forEach((Ie,Le)=>{Le===this._document||!Ie.clientRect||F||fi(Ie.clientRect,.05,D,g)&&([H,le]=function(V,D,g,F){const H=Ua(D,F),le=Ui(D,g);let Ie=0,Le=0;if(H){const Ze=V.scrollTop;1===H?Ze>0&&(Ie=1):V.scrollHeight-Ze>V.clientHeight&&(Ie=2)}if(le){const Ze=V.scrollLeft;1===le?Ze>0&&(Le=1):V.scrollWidth-Ze>V.clientWidth&&(Le=2)}return[Ie,Le]}(Le,Ie.clientRect,D,g),(H||le)&&(F=Le))}),!H&&!le){const{width:Ie,height:Le}=this._viewportRuler.getViewportSize(),Ze={width:Ie,height:Le,top:0,right:Ie,bottom:Le,left:0};H=Ua(Ze,g),le=Ui(Ze,D),F=window}F&&(H!==this._verticalScrollDirection||le!==this._horizontalScrollDirection||F!==this._scrollNode)&&(this._verticalScrollDirection=H,this._horizontalScrollDirection=le,this._scrollNode=F,(H||le)&&F?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const D=M(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=D.msScrollSnapType||D.scrollSnapType||"",D.scrollSnapType=D.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const D=M(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(D).clientRect}_cacheItemPositions(){const D="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(g=>{const F=g.getVisibleElement();return{drag:g,offset:0,initialTransform:F.style.transform||"",clientRect:Hn(F)}}).sort((g,F)=>D?g.clientRect.left-F.clientRect.left:g.clientRect.top-F.clientRect.top)}_reset(){this._isDragging=!1;const D=M(this.element).style;D.scrollSnapType=D.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(g=>{const F=g.getRootElement();if(F){const H=this._itemPositions.find(le=>le.drag===g)?.initialTransform;F.style.transform=H||""}}),this._siblings.forEach(g=>g._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(D,g,F){const H="horizontal"===this._orientation,le=g[D].clientRect,Ie=g[D+-1*F];let Le=le[H?"width":"height"]*F;if(Ie){const Ze=H?"left":"top",rt=H?"right":"bottom";-1===F?Le-=Ie.clientRect[Ze]-le[rt]:Le+=le[Ze]-Ie.clientRect[rt]}return Le}_getItemOffsetPx(D,g,F){const H="horizontal"===this._orientation;let le=H?g.left-D.left:g.top-D.top;return-1===F&&(le+=H?g.width-D.width:g.height-D.height),le}_shouldEnterAsFirstChild(D,g){if(!this._activeDraggables.length)return!1;const F=this._itemPositions,H="horizontal"===this._orientation;if(F[0].drag!==this._activeDraggables[0]){const Ie=F[F.length-1].clientRect;return H?D>=Ie.right:g>=Ie.bottom}{const Ie=F[0].clientRect;return H?D<=Ie.left:g<=Ie.top}}_getItemIndexFromPointerPosition(D,g,F,H){const le="horizontal"===this._orientation,Ie=this._itemPositions.findIndex(({drag:Le,clientRect:Ze})=>{if(Le===D)return!1;if(H){const rt=le?H.x:H.y;if(Le===this._previousSwap.drag&&this._previousSwap.overlaps&&rt===this._previousSwap.delta)return!1}return le?g>=Math.floor(Ze.left)&&g<Math.floor(Ze.right):F>=Math.floor(Ze.top)&&F<Math.floor(Ze.bottom)});return-1!==Ie&&this.sortPredicate(Ie,D,this)?Ie:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(D,g){return null!=this._clientRect&&dr(this._clientRect,D,g)}_getSiblingContainerFromPosition(D,g,F){return this._siblings.find(H=>H._canReceive(D,g,F))}_canReceive(D,g,F){if(!this._clientRect||!dr(this._clientRect,g,F)||!this.enterPredicate(D,this))return!1;const H=this._getShadowRoot().elementFromPoint(g,F);if(!H)return!1;const le=M(this.element);return H===le||le.contains(H)}_startReceiving(D,g){const F=this._activeSiblings;!F.has(D)&&g.every(H=>this.enterPredicate(H,this)||this._draggables.indexOf(H)>-1)&&(F.add(D),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(D){this._activeSiblings.delete(D),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(D=>{if(this.isDragging()){const g=this._parentPositions.handleScroll(D);g&&(this._itemPositions.forEach(({clientRect:F})=>{Qn(F,g.top,g.left)}),this._itemPositions.forEach(({drag:F})=>{this._dragDropRegistry.isDragging(F)&&F._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const D=ne(M(this.element));this._cachedShadowRoot=D||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const D=this._activeDraggables.filter(g=>g.isDragging());this._siblings.forEach(g=>g._startReceiving(this,D))}}function Ua(V,D){const{top:g,bottom:F,height:H}=V,le=.05*H;return D>=g-le&&D<=g+le?1:D>=F-le&&D<=F+le?2:0}function Ui(V,D){const{left:g,right:F,width:H}=V,le=.05*H;return D>=g-le&&D<=g+le?1:D>=F-le&&D<=F+le?2:0}const Vr=pe({passive:!1,capture:!0});let Yn=(()=>{class V{constructor(g,F){this._ngZone=g,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=H=>H.isDragging(),this.pointerMove=new S.x,this.pointerUp=new S.x,this.scroll=new S.x,this._preventDefaultWhileDragging=H=>{this._activeDragInstances.length>0&&H.preventDefault()},this._persistentTouchmoveListener=H=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&H.preventDefault(),this.pointerMove.next(H))},this._document=F}registerDropContainer(g){this._dropInstances.has(g)||this._dropInstances.add(g)}registerDragItem(g){this._dragInstances.add(g),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Vr)})}removeDropContainer(g){this._dropInstances.delete(g)}removeDragItem(g){this._dragInstances.delete(g),this.stopDragging(g),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Vr)}startDragging(g,F){if(!(this._activeDragInstances.indexOf(g)>-1)&&(this._activeDragInstances.push(g),1===this._activeDragInstances.length)){const H=F.type.startsWith("touch");this._globalListeners.set(H?"touchend":"mouseup",{handler:le=>this.pointerUp.next(le),options:!0}).set("scroll",{handler:le=>this.scroll.next(le),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Vr}),H||this._globalListeners.set("mousemove",{handler:le=>this.pointerMove.next(le),options:Vr}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((le,Ie)=>{this._document.addEventListener(Ie,le.handler,le.options)})})}}stopDragging(g){const F=this._activeDragInstances.indexOf(g);F>-1&&(this._activeDragInstances.splice(F,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(g){return this._activeDragInstances.indexOf(g)>-1}scrolled(g){const F=[this.scroll];return g&&g!==this._document&&F.push(new T.y(H=>this._ngZone.runOutsideAngular(()=>{const Ie=Le=>{this._activeDragInstances.length&&H.next(Le)};return g.addEventListener("scroll",Ie,!0),()=>{g.removeEventListener("scroll",Ie,!0)}}))),(0,An.T)(...F)}ngOnDestroy(){this._dragInstances.forEach(g=>this.removeDragItem(g)),this._dropInstances.forEach(g=>this.removeDropContainer(g)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((g,F)=>{this._document.removeEventListener(F,g.handler,g.options)}),this._globalListeners.clear()}}return V.\u0275fac=function(g){return new(g||V)(_.\u0275\u0275inject(_.NgZone),_.\u0275\u0275inject(l.DOCUMENT))},V.\u0275prov=_.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();const Es={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Do=(()=>{class V{constructor(g,F,H,le){this._document=g,this._ngZone=F,this._viewportRuler=H,this._dragDropRegistry=le}createDrag(g,F=Es){return new ja(g,F,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(g){return new bs(g,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return V.\u0275fac=function(g){return new(g||V)(_.\u0275\u0275inject(l.DOCUMENT),_.\u0275\u0275inject(_.NgZone),_.\u0275\u0275inject(It),_.\u0275\u0275inject(Yn))},V.\u0275prov=_.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:"root"}),V})();const zi=new _.InjectionToken("CDK_DRAG_PARENT"),Ss=new _.InjectionToken("CdkDropListGroup"),Wi=new _.InjectionToken("CDK_DRAG_CONFIG");let ws=0;const Dn=new _.InjectionToken("CdkDropList");let hi=(()=>{class V{constructor(g,F,H,le,Ie,Le,Ze){this.element=g,this._changeDetectorRef=H,this._scrollDispatcher=le,this._dir=Ie,this._group=Le,this._destroyed=new S.x,this.connectedTo=[],this.id="cdk-drop-list-"+ws++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new _.EventEmitter,this.entered=new _.EventEmitter,this.exited=new _.EventEmitter,this.sorted=new _.EventEmitter,this._unsortedItems=new Set,this._dropListRef=F.createDropList(g),this._dropListRef.data=this,Ze&&this._assignDefaults(Ze),this._dropListRef.enterPredicate=(rt,At)=>this.enterPredicate(rt.data,At.data),this._dropListRef.sortPredicate=(rt,At,gr)=>this.sortPredicate(rt,At.data,gr.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),V._dropLists.push(this),Le&&Le._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(g){this._dropListRef.disabled=this._disabled=O(g)}addItem(g){this._unsortedItems.add(g),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(g){this._unsortedItems.delete(g),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((g,F)=>g._dragRef.getVisibleElement().compareDocumentPosition(F._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const g=V._dropLists.indexOf(this);g>-1&&V._dropLists.splice(g,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(g){this._dir&&this._dir.change.pipe((0,Wt.O)(this._dir.value),(0,ar.R)(this._destroyed)).subscribe(F=>g.withDirection(F)),g.beforeStarted.subscribe(()=>{const F=function(V){return Array.isArray(V)?V:[V]}(this.connectedTo).map(H=>"string"==typeof H?V._dropLists.find(Ie=>Ie.id===H):H);if(this._group&&this._group._items.forEach(H=>{-1===F.indexOf(H)&&F.push(H)}),!this._scrollableParentsResolved){const H=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(le=>le.getElementRef().nativeElement);this._dropListRef.withScrollableParents(H),this._scrollableParentsResolved=!0}g.disabled=this.disabled,g.lockAxis=this.lockAxis,g.sortingDisabled=O(this.sortingDisabled),g.autoScrollDisabled=O(this.autoScrollDisabled),g.autoScrollStep=p(this.autoScrollStep,2),g.connectedTo(F.filter(H=>H&&H!==this).map(H=>H._dropListRef)).withOrientation(this.orientation)})}_handleEvents(g){g.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),g.entered.subscribe(F=>{this.entered.emit({container:this,item:F.item.data,currentIndex:F.currentIndex})}),g.exited.subscribe(F=>{this.exited.emit({container:this,item:F.item.data}),this._changeDetectorRef.markForCheck()}),g.sorted.subscribe(F=>{this.sorted.emit({previousIndex:F.previousIndex,currentIndex:F.currentIndex,container:this,item:F.item.data})}),g.dropped.subscribe(F=>{this.dropped.emit({previousIndex:F.previousIndex,currentIndex:F.currentIndex,previousContainer:F.previousContainer.data,container:F.container.data,item:F.item.data,isPointerOverContainer:F.isPointerOverContainer,distance:F.distance,dropPoint:F.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(g){const{lockAxis:F,draggingDisabled:H,sortingDisabled:le,listAutoScrollDisabled:Ie,listOrientation:Le}=g;this.disabled=H??!1,this.sortingDisabled=le??!1,this.autoScrollDisabled=Ie??!1,this.orientation=Le||"vertical",F&&(this.lockAxis=F)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(g=>g._dragRef))}}return V._dropLists=[],V.\u0275fac=function(g){return new(g||V)(_.\u0275\u0275directiveInject(_.ElementRef),_.\u0275\u0275directiveInject(Do),_.\u0275\u0275directiveInject(_.ChangeDetectorRef),_.\u0275\u0275directiveInject(et),_.\u0275\u0275directiveInject(Cn,8),_.\u0275\u0275directiveInject(Ss,12),_.\u0275\u0275directiveInject(Wi,8))},V.\u0275dir=_.\u0275\u0275defineDirective({type:V,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(g,F){2&g&&(_.\u0275\u0275attribute("id",F.id),_.\u0275\u0275classProp("cdk-drop-list-disabled",F.disabled)("cdk-drop-list-dragging",F._dropListRef.isDragging())("cdk-drop-list-receiving",F._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[_.\u0275\u0275ProvidersFeature([{provide:Ss,useValue:void 0},{provide:Dn,useExisting:V}])]}),V})();const pi=new _.InjectionToken("CdkDragHandle"),mi=new _.InjectionToken("CdkDragPlaceholder");let As=(()=>{class V{constructor(g){this.templateRef=g}}return V.\u0275fac=function(g){return new(g||V)(_.\u0275\u0275directiveInject(_.TemplateRef))},V.\u0275dir=_.\u0275\u0275defineDirective({type:V,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[_.\u0275\u0275ProvidersFeature([{provide:mi,useExisting:V}])]}),V})();const Cs=new _.InjectionToken("CdkDragPreview");let On=(()=>{class V{constructor(g,F,H,le,Ie,Le,Ze,rt,At,gr,Or){this.element=g,this.dropContainer=F,this._ngZone=le,this._viewContainerRef=Ie,this._dir=Ze,this._changeDetectorRef=At,this._selfHandle=gr,this._parentDrag=Or,this._destroyed=new S.x,this.started=new _.EventEmitter,this.released=new _.EventEmitter,this.ended=new _.EventEmitter,this.entered=new _.EventEmitter,this.exited=new _.EventEmitter,this.dropped=new _.EventEmitter,this.moved=new T.y(yi=>{const In=this._dragRef.moved.pipe((0,Wn.U)(hn=>({source:this,pointerPosition:hn.pointerPosition,event:hn.event,delta:hn.delta,distance:hn.distance}))).subscribe(yi);return()=>{In.unsubscribe()}}),this._dragRef=rt.createDrag(g,{dragStartThreshold:Le&&null!=Le.dragStartThreshold?Le.dragStartThreshold:5,pointerDirectionChangeThreshold:Le&&null!=Le.pointerDirectionChangeThreshold?Le.pointerDirectionChangeThreshold:5,zIndex:Le?.zIndex}),this._dragRef.data=this,V._dragInstances.push(this),Le&&this._assignDefaults(Le),F&&(this._dragRef._withDropContainer(F._dropListRef),F.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(g){this._disabled=O(g),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,vs.q)(1),(0,ar.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(g){const F=g.rootElementSelector,H=g.freeDragPosition;F&&!F.firstChange&&this._updateRootElement(),H&&!H.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const g=V._dragInstances.indexOf(this);g>-1&&V._dragInstances.splice(g,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const g=this.element.nativeElement;let F=g;this.rootElementSelector&&(F=void 0!==g.closest?g.closest(this.rootElementSelector):g.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(F||g)}_getBoundaryElement(){const g=this.boundaryElement;return g?"string"==typeof g?this.element.nativeElement.closest(g):M(g):null}_syncInputs(g){g.beforeStarted.subscribe(()=>{if(!g.isDragging()){const F=this._dir,H=this.dragStartDelay,le=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,Ie=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;g.disabled=this.disabled,g.lockAxis=this.lockAxis,g.dragStartDelay="object"==typeof H&&H?H:p(H),g.constrainPosition=this.constrainPosition,g.previewClass=this.previewClass,g.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(le).withPreviewTemplate(Ie).withPreviewContainer(this.previewContainer||"global"),F&&g.withDirection(F.value)}}),g.beforeStarted.pipe((0,vs.q)(1)).subscribe(()=>{if(this._parentDrag)return void g.withParent(this._parentDrag._dragRef);let F=this.element.nativeElement.parentElement;for(;F;){if(F.classList.contains("cdk-drag")){g.withParent(V._dragInstances.find(H=>H.element.nativeElement===F)?._dragRef||null);break}F=F.parentElement}})}_handleEvents(g){g.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),g.released.subscribe(()=>{this.released.emit({source:this})}),g.ended.subscribe(F=>{this.ended.emit({source:this,distance:F.distance,dropPoint:F.dropPoint}),this._changeDetectorRef.markForCheck()}),g.entered.subscribe(F=>{this.entered.emit({container:F.container.data,item:this,currentIndex:F.currentIndex})}),g.exited.subscribe(F=>{this.exited.emit({container:F.container.data,item:this})}),g.dropped.subscribe(F=>{this.dropped.emit({previousIndex:F.previousIndex,currentIndex:F.currentIndex,previousContainer:F.previousContainer.data,container:F.container.data,isPointerOverContainer:F.isPointerOverContainer,item:this,distance:F.distance,dropPoint:F.dropPoint})})}_assignDefaults(g){const{lockAxis:F,dragStartDelay:H,constrainPosition:le,previewClass:Ie,boundaryElement:Le,draggingDisabled:Ze,rootElementSelector:rt,previewContainer:At}=g;this.disabled=Ze??!1,this.dragStartDelay=H||0,F&&(this.lockAxis=F),le&&(this.constrainPosition=le),Ie&&(this.previewClass=Ie),Le&&(this.boundaryElement=Le),rt&&(this.rootElementSelector=rt),At&&(this.previewContainer=At)}_setupHandlesListener(){this._handles.changes.pipe((0,Wt.O)(this._handles),(0,Nr.b)(g=>{const F=g.filter(H=>H._parentDrag===this).map(H=>H.element);this._selfHandle&&this.rootElementSelector&&F.push(this.element),this._dragRef.withHandles(F)}),(0,yo.w)(g=>(0,An.T)(...g.map(F=>F._stateChanges.pipe((0,Wt.O)(F))))),(0,ar.R)(this._destroyed)).subscribe(g=>{const F=this._dragRef,H=g.element.nativeElement;g.disabled?F.disableHandle(H):F.enableHandle(H)})}}return V._dragInstances=[],V.\u0275fac=function(g){return new(g||V)(_.\u0275\u0275directiveInject(_.ElementRef),_.\u0275\u0275directiveInject(Dn,12),_.\u0275\u0275directiveInject(l.DOCUMENT),_.\u0275\u0275directiveInject(_.NgZone),_.\u0275\u0275directiveInject(_.ViewContainerRef),_.\u0275\u0275directiveInject(Wi,8),_.\u0275\u0275directiveInject(Cn,8),_.\u0275\u0275directiveInject(Do),_.\u0275\u0275directiveInject(_.ChangeDetectorRef),_.\u0275\u0275directiveInject(pi,10),_.\u0275\u0275directiveInject(zi,12))},V.\u0275dir=_.\u0275\u0275defineDirective({type:V,selectors:[["","cdkDrag",""]],contentQueries:function(g,F,H){if(1&g&&(_.\u0275\u0275contentQuery(H,Cs,5),_.\u0275\u0275contentQuery(H,mi,5),_.\u0275\u0275contentQuery(H,pi,5)),2&g){let le;_.\u0275\u0275queryRefresh(le=_.\u0275\u0275loadQuery())&&(F._previewTemplate=le.first),_.\u0275\u0275queryRefresh(le=_.\u0275\u0275loadQuery())&&(F._placeholderTemplate=le.first),_.\u0275\u0275queryRefresh(le=_.\u0275\u0275loadQuery())&&(F._handles=le)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(g,F){2&g&&_.\u0275\u0275classProp("cdk-drag-disabled",F.disabled)("cdk-drag-dragging",F._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[_.\u0275\u0275ProvidersFeature([{provide:zi,useExisting:V}]),_.\u0275\u0275NgOnChangesFeature]}),V})(),Po=(()=>{class V{}return V.\u0275fac=function(g){return new(g||V)},V.\u0275mod=_.\u0275\u0275defineNgModule({type:V}),V.\u0275inj=_.\u0275\u0275defineInjector({providers:[Do],imports:[rr]}),V})()},1481:(ae,N,c)=>{c.d(N,{b2:()=>cr,H7:()=>_n,q6:()=>Mr,se:()=>X});var _=c(1457),l=c(7777);class O extends _.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class p extends O{static makeCurrent(){(0,_.\u0275setRootDomAdapter)(new p)}onAndCancel(ve,ie,Ae){return ve.addEventListener(ie,Ae,!1),()=>{ve.removeEventListener(ie,Ae,!1)}}dispatchEvent(ve,ie){ve.dispatchEvent(ie)}remove(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}createElement(ve,ie){return(ie=ie||this.getDefaultDocument()).createElement(ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ve){return ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(ve){return ve instanceof DocumentFragment}getGlobalEventTarget(ve,ie){return"window"===ie?window:"document"===ie?ve:"body"===ie?ve.body:null}getBaseHref(ve){const ie=(B=B||document.querySelector("base"),B?B.getAttribute("href"):null);return null==ie?null:function(De){j=j||document.createElement("a"),j.setAttribute("href",De);const ve=j.pathname;return"/"===ve.charAt(0)?ve:`/${ve}`}(ie)}resetBaseElement(){B=null}getUserAgent(){return window.navigator.userAgent}getCookie(ve){return(0,_.\u0275parseCookieValue)(document.cookie,ve)}}let j,B=null;const I=new l.InjectionToken("TRANSITION_ID"),E=[{provide:l.APP_INITIALIZER,useFactory:function(De,ve,ie){return()=>{ie.get(l.ApplicationInitStatus).donePromise.then(()=>{const Ae=(0,_.\u0275getDOM)(),Ue=ve.querySelectorAll(`style[ng-transition="${De}"]`);for(let nt=0;nt<Ue.length;nt++)Ae.remove(Ue[nt])})}},deps:[I,_.DOCUMENT,l.Injector],multi:!0}];class T{static init(){(0,l.setTestabilityGetter)(new T)}addToWindow(ve){l.\u0275global.getAngularTestability=(Ae,Ue=!0)=>{const nt=ve.findTestabilityInTree(Ae,Ue);if(null==nt)throw new Error("Could not find testability for element.");return nt},l.\u0275global.getAllAngularTestabilities=()=>ve.getAllTestabilities(),l.\u0275global.getAllAngularRootElements=()=>ve.getAllRootElements(),l.\u0275global.frameworkStabilizers||(l.\u0275global.frameworkStabilizers=[]),l.\u0275global.frameworkStabilizers.push(Ae=>{const Ue=l.\u0275global.getAllAngularTestabilities();let nt=Ue.length,kt=!1;const Er=function(kr){kt=kt||kr,nt--,0==nt&&Ae(kt)};Ue.forEach(function(kr){kr.whenStable(Er)})})}findTestabilityInTree(ve,ie,Ae){return null==ie?null:ve.getTestability(ie)??(Ae?(0,_.\u0275getDOM)().isShadowRoot(ie)?this.findTestabilityInTree(ve,ie.host,!0):this.findTestabilityInTree(ve,ie.parentElement,!0):null)}}let P=(()=>{class De{build(){return new XMLHttpRequest}}return De.\u0275fac=function(ie){return new(ie||De)},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})();const x=new l.InjectionToken("EventManagerPlugins");let R=(()=>{class De{constructor(ie,Ae){this._zone=Ae,this._eventNameToPlugin=new Map,ie.forEach(Ue=>Ue.manager=this),this._plugins=ie.slice().reverse()}addEventListener(ie,Ae,Ue){return this._findPluginFor(Ae).addEventListener(ie,Ae,Ue)}addGlobalEventListener(ie,Ae,Ue){return this._findPluginFor(Ae).addGlobalEventListener(ie,Ae,Ue)}getZone(){return this._zone}_findPluginFor(ie){const Ae=this._eventNameToPlugin.get(ie);if(Ae)return Ae;const Ue=this._plugins;for(let nt=0;nt<Ue.length;nt++){const kt=Ue[nt];if(kt.supports(ie))return this._eventNameToPlugin.set(ie,kt),kt}throw new Error(`No event manager plugin found for event ${ie}`)}}return De.\u0275fac=function(ie){return new(ie||De)(l.\u0275\u0275inject(x),l.\u0275\u0275inject(l.NgZone))},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})();class b{constructor(ve){this._doc=ve}addGlobalEventListener(ve,ie,Ae){const Ue=(0,_.\u0275getDOM)().getGlobalEventTarget(this._doc,ve);if(!Ue)throw new Error(`Unsupported event target ${Ue} for event ${ie}`);return this.addEventListener(Ue,ie,Ae)}}let v=(()=>{class De{constructor(){this._stylesSet=new Set}addStyles(ie){const Ae=new Set;ie.forEach(Ue=>{this._stylesSet.has(Ue)||(this._stylesSet.add(Ue),Ae.add(Ue))}),this.onStylesAdded(Ae)}onStylesAdded(ie){}getAllStyles(){return Array.from(this._stylesSet)}}return De.\u0275fac=function(ie){return new(ie||De)},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})(),u=(()=>{class De extends v{constructor(ie){super(),this._doc=ie,this._hostNodes=new Map,this._hostNodes.set(ie.head,[])}_addStylesToHost(ie,Ae,Ue){ie.forEach(nt=>{const kt=this._doc.createElement("style");kt.textContent=nt,Ue.push(Ae.appendChild(kt))})}addHost(ie){const Ae=[];this._addStylesToHost(this._stylesSet,ie,Ae),this._hostNodes.set(ie,Ae)}removeHost(ie){const Ae=this._hostNodes.get(ie);Ae&&Ae.forEach(s),this._hostNodes.delete(ie)}onStylesAdded(ie){this._hostNodes.forEach((Ae,Ue)=>{this._addStylesToHost(ie,Ue,Ae)})}ngOnDestroy(){this._hostNodes.forEach(ie=>ie.forEach(s))}}return De.\u0275fac=function(ie){return new(ie||De)(l.\u0275\u0275inject(_.DOCUMENT))},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})();function s(De){(0,_.\u0275getDOM)().remove(De)}const m={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},h=/%COMP%/g;function z(De,ve,ie){for(let Ae=0;Ae<ve.length;Ae++){let Ue=ve[Ae];Array.isArray(Ue)?z(De,Ue,ie):(Ue=Ue.replace(h,De),ie.push(Ue))}return ie}function J(De){return ve=>{if("__ngUnwrap__"===ve)return De;!1===De(ve)&&(ve.preventDefault(),ve.returnValue=!1)}}let X=(()=>{class De{constructor(ie,Ae,Ue){this.eventManager=ie,this.sharedStylesHost=Ae,this.appId=Ue,this.rendererByCompId=new Map,this.defaultRenderer=new K(ie)}createRenderer(ie,Ae){if(!ie||!Ae)return this.defaultRenderer;switch(Ae.encapsulation){case l.ViewEncapsulation.Emulated:{let Ue=this.rendererByCompId.get(Ae.id);return Ue||(Ue=new Be(this.eventManager,this.sharedStylesHost,Ae,this.appId),this.rendererByCompId.set(Ae.id,Ue)),Ue.applyToHost(ie),Ue}case 1:case l.ViewEncapsulation.ShadowDom:return new me(this.eventManager,this.sharedStylesHost,ie,Ae);default:if(!this.rendererByCompId.has(Ae.id)){const Ue=z(Ae.id,Ae.styles,[]);this.sharedStylesHost.addStyles(Ue),this.rendererByCompId.set(Ae.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return De.\u0275fac=function(ie){return new(ie||De)(l.\u0275\u0275inject(R),l.\u0275\u0275inject(u),l.\u0275\u0275inject(l.APP_ID))},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})();class K{constructor(ve){this.eventManager=ve,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ve,ie){return ie?document.createElementNS(m[ie]||ie,ve):document.createElement(ve)}createComment(ve){return document.createComment(ve)}createText(ve){return document.createTextNode(ve)}appendChild(ve,ie){ve.appendChild(ie)}insertBefore(ve,ie,Ae){ve&&ve.insertBefore(ie,Ae)}removeChild(ve,ie){ve&&ve.removeChild(ie)}selectRootElement(ve,ie){let Ae="string"==typeof ve?document.querySelector(ve):ve;if(!Ae)throw new Error(`The selector "${ve}" did not match any elements`);return ie||(Ae.textContent=""),Ae}parentNode(ve){return ve.parentNode}nextSibling(ve){return ve.nextSibling}setAttribute(ve,ie,Ae,Ue){if(Ue){ie=Ue+":"+ie;const nt=m[Ue];nt?ve.setAttributeNS(nt,ie,Ae):ve.setAttribute(ie,Ae)}else ve.setAttribute(ie,Ae)}removeAttribute(ve,ie,Ae){if(Ae){const Ue=m[Ae];Ue?ve.removeAttributeNS(Ue,ie):ve.removeAttribute(`${Ae}:${ie}`)}else ve.removeAttribute(ie)}addClass(ve,ie){ve.classList.add(ie)}removeClass(ve,ie){ve.classList.remove(ie)}setStyle(ve,ie,Ae,Ue){Ue&(l.RendererStyleFlags2.DashCase|l.RendererStyleFlags2.Important)?ve.style.setProperty(ie,Ae,Ue&l.RendererStyleFlags2.Important?"important":""):ve.style[ie]=Ae}removeStyle(ve,ie,Ae){Ae&l.RendererStyleFlags2.DashCase?ve.style.removeProperty(ie):ve.style[ie]=""}setProperty(ve,ie,Ae){ve[ie]=Ae}setValue(ve,ie){ve.nodeValue=ie}listen(ve,ie,Ae){return"string"==typeof ve?this.eventManager.addGlobalEventListener(ve,ie,J(Ae)):this.eventManager.addEventListener(ve,ie,J(Ae))}}class Be extends K{constructor(ve,ie,Ae,Ue){super(ve),this.component=Ae;const nt=z(Ue+"-"+Ae.id,Ae.styles,[]);ie.addStyles(nt),this.contentAttr="_ngcontent-%COMP%".replace(h,Ue+"-"+Ae.id),this.hostAttr="_nghost-%COMP%".replace(h,Ue+"-"+Ae.id)}applyToHost(ve){super.setAttribute(ve,this.hostAttr,"")}createElement(ve,ie){const Ae=super.createElement(ve,ie);return super.setAttribute(Ae,this.contentAttr,""),Ae}}class me extends K{constructor(ve,ie,Ae,Ue){super(ve),this.sharedStylesHost=ie,this.hostEl=Ae,this.shadowRoot=Ae.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const nt=z(Ue.id,Ue.styles,[]);for(let kt=0;kt<nt.length;kt++){const Er=document.createElement("style");Er.textContent=nt[kt],this.shadowRoot.appendChild(Er)}}nodeOrShadowRoot(ve){return ve===this.hostEl?this.shadowRoot:ve}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ve,ie){return super.appendChild(this.nodeOrShadowRoot(ve),ie)}insertBefore(ve,ie,Ae){return super.insertBefore(this.nodeOrShadowRoot(ve),ie,Ae)}removeChild(ve,ie){return super.removeChild(this.nodeOrShadowRoot(ve),ie)}parentNode(ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ve)))}}let _e=(()=>{class De extends b{constructor(ie){super(ie)}supports(ie){return!0}addEventListener(ie,Ae,Ue){return ie.addEventListener(Ae,Ue,!1),()=>this.removeEventListener(ie,Ae,Ue)}removeEventListener(ie,Ae,Ue){return ie.removeEventListener(Ae,Ue)}}return De.\u0275fac=function(ie){return new(ie||De)(l.\u0275\u0275inject(_.DOCUMENT))},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})();const te=["alt","control","meta","shift"],Te={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ne={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ge={alt:De=>De.altKey,control:De=>De.ctrlKey,meta:De=>De.metaKey,shift:De=>De.shiftKey};let ut=(()=>{class De extends b{constructor(ie){super(ie)}supports(ie){return null!=De.parseEventName(ie)}addEventListener(ie,Ae,Ue){const nt=De.parseEventName(Ae),kt=De.eventCallback(nt.fullKey,Ue,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.\u0275getDOM)().onAndCancel(ie,nt.domEventName,kt))}static parseEventName(ie){const Ae=ie.toLowerCase().split("."),Ue=Ae.shift();if(0===Ae.length||"keydown"!==Ue&&"keyup"!==Ue)return null;const nt=De._normalizeKey(Ae.pop());let kt="";if(te.forEach(kr=>{const cn=Ae.indexOf(kr);cn>-1&&(Ae.splice(cn,1),kt+=kr+".")}),kt+=nt,0!=Ae.length||0===nt.length)return null;const Er={};return Er.domEventName=Ue,Er.fullKey=kt,Er}static getEventFullKey(ie){let Ae="",Ue=function(De){let ve=De.key;if(null==ve){if(ve=De.keyIdentifier,null==ve)return"Unidentified";ve.startsWith("U+")&&(ve=String.fromCharCode(parseInt(ve.substring(2),16)),3===De.location&&Ne.hasOwnProperty(ve)&&(ve=Ne[ve]))}return Te[ve]||ve}(ie);return Ue=Ue.toLowerCase()," "===Ue?Ue="space":"."===Ue&&(Ue="dot"),te.forEach(nt=>{nt!=Ue&&Ge[nt](ie)&&(Ae+=nt+".")}),Ae+=Ue,Ae}static eventCallback(ie,Ae,Ue){return nt=>{De.getEventFullKey(nt)===ie&&Ue.runGuarded(()=>Ae(nt))}}static _normalizeKey(ie){return"esc"===ie?"escape":ie}}return De.\u0275fac=function(ie){return new(ie||De)(l.\u0275\u0275inject(_.DOCUMENT))},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})();const Mr=(0,l.createPlatformFactory)(l.platformCore,"browser",[{provide:l.PLATFORM_ID,useValue:_.\u0275PLATFORM_BROWSER_ID},{provide:l.PLATFORM_INITIALIZER,useValue:function(){p.makeCurrent(),T.init()},multi:!0},{provide:_.DOCUMENT,useFactory:function(){return(0,l.\u0275setDocument)(document),document},deps:[]}]),br=[{provide:l.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:l.ErrorHandler,useFactory:function(){return new l.ErrorHandler},deps:[]},{provide:x,useClass:_e,multi:!0,deps:[_.DOCUMENT,l.NgZone,l.PLATFORM_ID]},{provide:x,useClass:ut,multi:!0,deps:[_.DOCUMENT]},{provide:X,useClass:X,deps:[R,u,l.APP_ID]},{provide:l.RendererFactory2,useExisting:X},{provide:v,useExisting:u},{provide:u,useClass:u,deps:[_.DOCUMENT]},{provide:l.Testability,useClass:l.Testability,deps:[l.NgZone]},{provide:R,useClass:R,deps:[x,l.NgZone]},{provide:_.XhrFactory,useClass:P,deps:[]}];let cr=(()=>{class De{constructor(ie){if(ie)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ie){return{ngModule:De,providers:[{provide:l.APP_ID,useValue:ie.appId},{provide:I,useExisting:l.APP_ID},E]}}}return De.\u0275fac=function(ie){return new(ie||De)(l.\u0275\u0275inject(De,12))},De.\u0275mod=l.\u0275\u0275defineNgModule({type:De}),De.\u0275inj=l.\u0275\u0275defineInjector({providers:br,imports:[_.CommonModule,l.ApplicationModule]}),De})();"undefined"!=typeof window&&window;let _n=(()=>{class De{}return De.\u0275fac=function(ie){return new(ie||De)},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:function(ie){let Ae=null;return Ae=ie?new(ie||De):l.\u0275\u0275inject(ri),Ae},providedIn:"root"}),De})(),ri=(()=>{class De extends _n{constructor(ie){super(),this._doc=ie}sanitize(ie,Ae){if(null==Ae)return null;switch(ie){case l.SecurityContext.NONE:return Ae;case l.SecurityContext.HTML:return(0,l.\u0275allowSanitizationBypassAndThrow)(Ae,"HTML")?(0,l.\u0275unwrapSafeValue)(Ae):(0,l.\u0275_sanitizeHtml)(this._doc,String(Ae)).toString();case l.SecurityContext.STYLE:return(0,l.\u0275allowSanitizationBypassAndThrow)(Ae,"Style")?(0,l.\u0275unwrapSafeValue)(Ae):Ae;case l.SecurityContext.SCRIPT:if((0,l.\u0275allowSanitizationBypassAndThrow)(Ae,"Script"))return(0,l.\u0275unwrapSafeValue)(Ae);throw new Error("unsafe value used in a script context");case l.SecurityContext.URL:return(0,l.\u0275getSanitizationBypassType)(Ae),(0,l.\u0275allowSanitizationBypassAndThrow)(Ae,"URL")?(0,l.\u0275unwrapSafeValue)(Ae):(0,l.\u0275_sanitizeUrl)(String(Ae));case l.SecurityContext.RESOURCE_URL:if((0,l.\u0275allowSanitizationBypassAndThrow)(Ae,"ResourceURL"))return(0,l.\u0275unwrapSafeValue)(Ae);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ie} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ie){return(0,l.\u0275bypassSanitizationTrustHtml)(ie)}bypassSecurityTrustStyle(ie){return(0,l.\u0275bypassSanitizationTrustStyle)(ie)}bypassSecurityTrustScript(ie){return(0,l.\u0275bypassSanitizationTrustScript)(ie)}bypassSecurityTrustUrl(ie){return(0,l.\u0275bypassSanitizationTrustUrl)(ie)}bypassSecurityTrustResourceUrl(ie){return(0,l.\u0275bypassSanitizationTrustResourceUrl)(ie)}}return De.\u0275fac=function(ie){return new(ie||De)(l.\u0275\u0275inject(_.DOCUMENT))},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:function(ie){let Ae=null;return Ae=ie?new ie:function(De){return new ri(De.get(_.DOCUMENT))}(l.\u0275\u0275inject(l.Injector)),Ae},providedIn:"root"}),De})()},5861:(ae,N,c)=>{function _(O,p,B,k,j,M,I){try{var S=O[M](I),E=S.value}catch(T){return void B(T)}S.done?p(E):Promise.resolve(E).then(k,j)}function l(O){return function(){var p=this,B=arguments;return new Promise(function(k,j){var M=O.apply(p,B);function I(E){_(M,k,j,I,S,"next",E)}function S(E){_(M,k,j,I,S,"throw",E)}I(void 0)})}}c.d(N,{Z:()=>l})}}]);