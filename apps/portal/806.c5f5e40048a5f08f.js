(self.webpackChunk_central_factory_portal=self.webpackChunk_central_factory_portal||[]).push([[806],{9806:(re,U,l)=>{l.r(U);var g=l(1481),a=l(7777),D=l(9283),p=l(7340);function F(){return"undefined"!=typeof window&&void 0!==window.document}function B(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function N(b){switch(b.length){case 0:return new p.ZN;case 1:return b[0];default:return new p.ZE(b)}}function k(b,u,o,m,x={},W={}){const ee=[],ie=[];let me=-1,Ie=null;if(m.forEach(ze=>{const Ge=ze.offset,ut=Ge==me,wt=ut&&Ie||{};Object.keys(ze).forEach(st=>{let ft=st,Ct=ze[st];if("offset"!==st)switch(ft=u.normalizePropertyName(ft,ee),Ct){case p.k1:Ct=x[st];break;case p.l3:Ct=W[st];break;default:Ct=u.normalizeStyleValue(st,ft,Ct,ee)}wt[ft]=Ct}),ut||ie.push(wt),Ie=wt,me=Ge}),ee.length){const ze="\n - ";throw new Error(`Unable to animate due to the following errors:${ze}${ee.join(ze)}`)}return ie}function O(b,u,o,m){switch(u){case"start":b.onStart(()=>m(o&&w(o,"start",b)));break;case"done":b.onDone(()=>m(o&&w(o,"done",b)));break;case"destroy":b.onDestroy(()=>m(o&&w(o,"destroy",b)))}}function w(b,u,o){const W=S(b.element,b.triggerName,b.fromState,b.toState,u||b.phaseName,o.totalTime??b.totalTime,!!o.disabled),ee=b._data;return null!=ee&&(W._data=ee),W}function S(b,u,o,m,x="",W=0,ee){return{element:b,triggerName:u,fromState:o,toState:m,phaseName:x,totalTime:W,disabled:!!ee}}function R(b,u,o){let m;return b instanceof Map?(m=b.get(u),m||b.set(u,m=o)):(m=b[u],m||(m=b[u]=o)),m}function I(b){const u=b.indexOf(":");return[b.substring(1,u),b.substr(u+1)]}let M=(b,u)=>!1,T=(b,u,o)=>[];(B()||"undefined"!=typeof Element)&&(M=F()?(b,u)=>{for(;u&&u!==document.documentElement;){if(u===b)return!0;u=u.parentNode||u.host}return!1}:(b,u)=>b.contains(u),T=(b,u,o)=>{let m=[];if(o){const x=b.querySelectorAll(u);for(let W=0;W<x.length;W++)m.push(x[W])}else{const x=b.querySelector(u);x&&m.push(x)}return m});let c=null,s=!1;function v(b){c||(c=("undefined"!=typeof document?document.body:null)||{},s=!!c.style&&"WebkitAppearance"in c.style);let u=!0;return c.style&&!function(b){return"ebkit"==b.substring(1,6)}(b)&&(u=b in c.style,!u&&s&&(u="Webkit"+b.charAt(0).toUpperCase()+b.substr(1)in c.style)),u}const K=M,se=T;function ye(b){const u={};return Object.keys(b).forEach(o=>{const m=o.replace(/([a-z])([A-Z])/g,"$1-$2");u[m]=b[o]}),u}let pe=(()=>{class b{validateStyleProperty(o){return v(o)}matchesElement(o,m){return!1}containsElement(o,m){return K(o,m)}query(o,m,x){return se(o,m,x)}computeStyle(o,m,x){return x||""}animate(o,m,x,W,ee,ie=[],me){return new p.ZN(x,W)}}return b.\u0275fac=function(o){return new(o||b)},b.\u0275prov=a.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac}),b})(),le=(()=>{class b{}return b.NOOP=new pe,b})();const V="ng-enter",J="ng-leave",q="ng-trigger",_e=".ng-trigger",Be="ng-animating",He=".ng-animating";function Ee(b){if("number"==typeof b)return b;const u=b.match(/^(-?[\.\d]+)(m?s)/);return!u||u.length<2?0:ve(parseFloat(u[1]),u[2])}function ve(b,u){return"s"===u?1e3*b:b}function ne(b,u,o){return b.hasOwnProperty("duration")?b:function(b,u,o){let x,W=0,ee="";if("string"==typeof b){const ie=b.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ie)return u.push(`The provided timing value "${b}" is invalid.`),{duration:0,delay:0,easing:""};x=ve(parseFloat(ie[1]),ie[2]);const me=ie[3];null!=me&&(W=ve(parseFloat(me),ie[4]));const Ie=ie[5];Ie&&(ee=Ie)}else x=b;if(!o){let ie=!1,me=u.length;x<0&&(u.push("Duration values below 0 are not allowed for this animation step."),ie=!0),W<0&&(u.push("Delay values below 0 are not allowed for this animation step."),ie=!0),ie&&u.splice(me,0,`The provided timing value "${b}" is invalid.`)}return{duration:x,delay:W,easing:ee}}(b,u,o)}function De(b,u={}){return Object.keys(b).forEach(o=>{u[o]=b[o]}),u}function Qe(b,u,o={}){if(u)for(let m in b)o[m]=b[m];else De(b,o);return o}function pt(b,u,o){return o?u+":"+o+";":""}function nt(b){let u="";for(let o=0;o<b.style.length;o++){const m=b.style.item(o);u+=pt(0,m,b.style.getPropertyValue(m))}for(const o in b.style)b.style.hasOwnProperty(o)&&!o.startsWith("_")&&(u+=pt(0,ke(o),b.style[o]));b.setAttribute("style",u)}function at(b,u,o){b.style&&(Object.keys(u).forEach(m=>{const x=Yn(m);o&&!o.hasOwnProperty(m)&&(o[m]=b.style[x]),b.style[x]=u[m]}),B()&&nt(b))}function bt(b,u){b.style&&(Object.keys(u).forEach(o=>{const m=Yn(o);b.style[m]=""}),B()&&nt(b))}function It(b){return Array.isArray(b)?1==b.length?b[0]:(0,p.vP)(b):b}const Bn=new RegExp("{{\\s*(.+?)\\s*}}","g");function bn(b){let u=[];if("string"==typeof b){let o;for(;o=Bn.exec(b);)u.push(o[1]);Bn.lastIndex=0}return u}function cn(b,u,o){const m=b.toString(),x=m.replace(Bn,(W,ee)=>{let ie=u[ee];return u.hasOwnProperty(ee)||(o.push(`Please provide a value for the animation param ${ee}`),ie=""),ie.toString()});return x==m?b:x}function pn(b){const u=[];let o=b.next();for(;!o.done;)u.push(o.value),o=b.next();return u}const tn=/-+([a-z0-9])/g;function Yn(b){return b.replace(tn,(...u)=>u[1].toUpperCase())}function ke(b){return b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Tt(b,u){return 0===b||0===u}function xt(b,u,o){const m=Object.keys(o);if(m.length&&u.length){let W=u[0],ee=[];if(m.forEach(ie=>{W.hasOwnProperty(ie)||ee.push(ie),W[ie]=o[ie]}),ee.length)for(var x=1;x<u.length;x++){let ie=u[x];ee.forEach(function(me){ie[me]=fr(b,me)})}}return u}function Rt(b,u,o){switch(u.type){case 7:return b.visitTrigger(u,o);case 0:return b.visitState(u,o);case 1:return b.visitTransition(u,o);case 2:return b.visitSequence(u,o);case 3:return b.visitGroup(u,o);case 4:return b.visitAnimate(u,o);case 5:return b.visitKeyframes(u,o);case 6:return b.visitStyle(u,o);case 8:return b.visitReference(u,o);case 9:return b.visitAnimateChild(u,o);case 10:return b.visitAnimateRef(u,o);case 11:return b.visitQuery(u,o);case 12:return b.visitStagger(u,o);default:throw new Error(`Unable to resolve animation metadata node #${u.type}`)}}function fr(b,u){return window.getComputedStyle(b)[u]}function Ci(b,u){const o=[];return"string"==typeof b?b.split(/\s*,\s*/).forEach(m=>function(b,u,o){if(":"==b[0]){const me=function(b,u){switch(b){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,m)=>parseFloat(m)>parseFloat(o);case":decrement":return(o,m)=>parseFloat(m)<parseFloat(o);default:return u.push(`The transition alias value "${b}" is not supported`),"* => *"}}(b,o);if("function"==typeof me)return void u.push(me);b=me}const m=b.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==m||m.length<4)return o.push(`The provided transition expression "${b}" is not supported`),u;const x=m[1],W=m[2],ee=m[3];u.push(si(x,ee));"<"==W[0]&&!("*"==x&&"*"==ee)&&u.push(si(ee,x))}(m,o,u)):o.push(b),o}const Lr=new Set(["true","1"]),dr=new Set(["false","0"]);function si(b,u){const o=Lr.has(b)||dr.has(b),m=Lr.has(u)||dr.has(u);return(x,W)=>{let ee="*"==b||b==x,ie="*"==u||u==W;return!ee&&o&&"boolean"==typeof x&&(ee=x?Lr.has(b):dr.has(b)),!ie&&m&&"boolean"==typeof W&&(ie=W?Lr.has(u):dr.has(u)),ee&&ie}}const Ws=new RegExp("s*:selfs*,?","g");function Ai(b,u,o){return new Pi(b).build(u,o)}class Pi{constructor(u){this._driver=u}build(u,o){const m=new Hs(o);return this._resetContextStyleTimingState(m),Rt(this,It(u),m)}_resetContextStyleTimingState(u){u.currentQuerySelector="",u.collectedStyles={},u.collectedStyles[""]={},u.currentTime=0}visitTrigger(u,o){let m=o.queryCount=0,x=o.depCount=0;const W=[],ee=[];return"@"==u.name.charAt(0)&&o.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),u.definitions.forEach(ie=>{if(this._resetContextStyleTimingState(o),0==ie.type){const me=ie,Ie=me.name;Ie.toString().split(/\s*,\s*/).forEach(ze=>{me.name=ze,W.push(this.visitState(me,o))}),me.name=Ie}else if(1==ie.type){const me=this.visitTransition(ie,o);m+=me.queryCount,x+=me.depCount,ee.push(me)}else o.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:u.name,states:W,transitions:ee,queryCount:m,depCount:x,options:null}}visitState(u,o){const m=this.visitStyle(u.styles,o),x=u.options&&u.options.params||null;if(m.containsDynamicStyles){const W=new Set,ee=x||{};if(m.styles.forEach(ie=>{if(Fr(ie)){const me=ie;Object.keys(me).forEach(Ie=>{bn(me[Ie]).forEach(ze=>{ee.hasOwnProperty(ze)||W.add(ze)})})}}),W.size){const ie=pn(W.values());o.errors.push(`state("${u.name}", ...) must define default values for all the following style substitutions: ${ie.join(", ")}`)}}return{type:0,name:u.name,style:m,options:x?{params:x}:null}}visitTransition(u,o){o.queryCount=0,o.depCount=0;const m=Rt(this,It(u.animation),o);return{type:1,matchers:Ci(u.expr,o.errors),animation:m,queryCount:o.queryCount,depCount:o.depCount,options:qt(u.options)}}visitSequence(u,o){return{type:2,steps:u.steps.map(m=>Rt(this,m,o)),options:qt(u.options)}}visitGroup(u,o){const m=o.currentTime;let x=0;const W=u.steps.map(ee=>{o.currentTime=m;const ie=Rt(this,ee,o);return x=Math.max(x,o.currentTime),ie});return o.currentTime=x,{type:3,steps:W,options:qt(u.options)}}visitAnimate(u,o){const m=function(b,u){let o=null;if(b.hasOwnProperty("duration"))o=b;else if("number"==typeof b)return oi(ne(b,u).duration,0,"");const m=b;if(m.split(/\s+/).some(W=>"{"==W.charAt(0)&&"{"==W.charAt(1))){const W=oi(0,0,"");return W.dynamic=!0,W.strValue=m,W}return o=o||ne(m,u),oi(o.duration,o.delay,o.easing)}(u.timings,o.errors);o.currentAnimateTimings=m;let x,W=u.styles?u.styles:(0,p.oB)({});if(5==W.type)x=this.visitKeyframes(W,o);else{let ee=u.styles,ie=!1;if(!ee){ie=!0;const Ie={};m.easing&&(Ie.easing=m.easing),ee=(0,p.oB)(Ie)}o.currentTime+=m.duration+m.delay;const me=this.visitStyle(ee,o);me.isEmptyStep=ie,x=me}return o.currentAnimateTimings=null,{type:4,timings:m,style:x,options:null}}visitStyle(u,o){const m=this._makeStyleAst(u,o);return this._validateStyleAst(m,o),m}_makeStyleAst(u,o){const m=[];Array.isArray(u.styles)?u.styles.forEach(ee=>{"string"==typeof ee?ee==p.l3?m.push(ee):o.errors.push(`The provided style string value ${ee} is not allowed.`):m.push(ee)}):m.push(u.styles);let x=!1,W=null;return m.forEach(ee=>{if(Fr(ee)){const ie=ee,me=ie.easing;if(me&&(W=me,delete ie.easing),!x)for(let Ie in ie)if(ie[Ie].toString().indexOf("{{")>=0){x=!0;break}}}),{type:6,styles:m,easing:W,offset:u.offset,containsDynamicStyles:x,options:null}}_validateStyleAst(u,o){const m=o.currentAnimateTimings;let x=o.currentTime,W=o.currentTime;m&&W>0&&(W-=m.duration+m.delay),u.styles.forEach(ee=>{"string"!=typeof ee&&Object.keys(ee).forEach(ie=>{if(!this._driver.validateStyleProperty(ie))return void o.errors.push(`The provided animation property "${ie}" is not a supported CSS property for animations`);const me=o.collectedStyles[o.currentQuerySelector],Ie=me[ie];let ze=!0;Ie&&(W!=x&&W>=Ie.startTime&&x<=Ie.endTime&&(o.errors.push(`The CSS property "${ie}" that exists between the times of "${Ie.startTime}ms" and "${Ie.endTime}ms" is also being animated in a parallel animation between the times of "${W}ms" and "${x}ms"`),ze=!1),W=Ie.startTime),ze&&(me[ie]={startTime:W,endTime:x}),o.options&&function(b,u,o){const m=u.params||{},x=bn(b);x.length&&x.forEach(W=>{m.hasOwnProperty(W)||o.push(`Unable to resolve the local animation param ${W} in the given list of values`)})}(ee[ie],o.options,o.errors)})})}visitKeyframes(u,o){const m={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push("keyframes() must be placed inside of a call to animate()"),m;let W=0;const ee=[];let ie=!1,me=!1,Ie=0;const ze=u.steps.map(Kt=>{const Xt=this._makeStyleAst(Kt,o);let gn=null!=Xt.offset?Xt.offset:function(b){if("string"==typeof b)return null;let u=null;if(Array.isArray(b))b.forEach(o=>{if(Fr(o)&&o.hasOwnProperty("offset")){const m=o;u=parseFloat(m.offset),delete m.offset}});else if(Fr(b)&&b.hasOwnProperty("offset")){const o=b;u=parseFloat(o.offset),delete o.offset}return u}(Xt.styles),fn=0;return null!=gn&&(W++,fn=Xt.offset=gn),me=me||fn<0||fn>1,ie=ie||fn<Ie,Ie=fn,ee.push(fn),Xt});me&&o.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),ie&&o.errors.push("Please ensure that all keyframe offsets are in order");const Ge=u.steps.length;let ut=0;W>0&&W<Ge?o.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==W&&(ut=1/(Ge-1));const wt=Ge-1,st=o.currentTime,ft=o.currentAnimateTimings,Ct=ft.duration;return ze.forEach((Kt,Xt)=>{const gn=ut>0?Xt==wt?1:ut*Xt:ee[Xt],fn=gn*Ct;o.currentTime=st+ft.delay+fn,ft.duration=fn,this._validateStyleAst(Kt,o),Kt.offset=gn,m.styles.push(Kt)}),m}visitReference(u,o){return{type:8,animation:Rt(this,It(u.animation),o),options:qt(u.options)}}visitAnimateChild(u,o){return o.depCount++,{type:9,options:qt(u.options)}}visitAnimateRef(u,o){return{type:10,animation:this.visitReference(u.animation,o),options:qt(u.options)}}visitQuery(u,o){const m=o.currentQuerySelector,x=u.options||{};o.queryCount++,o.currentQuery=u;const[W,ee]=function(b){const u=!!b.split(/\s*,\s*/).find(o=>":self"==o);return u&&(b=b.replace(Ws,"")),b=b.replace(/@\*/g,_e).replace(/@\w+/g,o=>_e+"-"+o.substr(1)).replace(/:animating/g,He),[b,u]}(u.selector);o.currentQuerySelector=m.length?m+" "+W:W,R(o.collectedStyles,o.currentQuerySelector,{});const ie=Rt(this,It(u.animation),o);return o.currentQuery=null,o.currentQuerySelector=m,{type:11,selector:W,limit:x.limit||0,optional:!!x.optional,includeSelf:ee,animation:ie,originalSelector:u.selector,options:qt(u.options)}}visitStagger(u,o){o.currentQuery||o.errors.push("stagger() can only be used inside of query()");const m="full"===u.timings?{duration:0,delay:0,easing:"full"}:ne(u.timings,o.errors,!0);return{type:12,animation:Rt(this,It(u.animation),o),timings:m,options:null}}}class Hs{constructor(u){this.errors=u,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Fr(b){return!Array.isArray(b)&&"object"==typeof b}function qt(b){return b?(b=De(b)).params&&(b.params=function(b){return b?De(b):null}(b.params)):b={},b}function oi(b,u,o){return{duration:b,delay:u,easing:o}}function $n(b,u,o,m,x,W,ee=null,ie=!1){return{type:1,element:b,keyframes:u,preStyleProps:o,postStyleProps:m,duration:x,delay:W,totalTime:x+W,easing:ee,subTimeline:ie}}class ai{constructor(){this._map=new Map}get(u){return this._map.get(u)||[]}append(u,o){let m=this._map.get(u);m||this._map.set(u,m=[]),m.push(...o)}has(u){return this._map.has(u)}clear(){this._map.clear()}}const ss=new RegExp(":enter","g"),Gs=new RegExp(":leave","g");function Se(b,u,o,m,x,W={},ee={},ie,me,Ie=[]){return(new de).buildKeyframes(b,u,o,m,x,W,ee,ie,me,Ie)}class de{buildKeyframes(u,o,m,x,W,ee,ie,me,Ie,ze=[]){Ie=Ie||new ai;const Ge=new ge(u,o,Ie,x,W,ze,[]);Ge.options=me,Ge.currentTimeline.setStyles([ee],null,Ge.errors,me),Rt(this,m,Ge);const ut=Ge.timelines.filter(wt=>wt.containsAnimation());if(ut.length&&Object.keys(ie).length){const wt=ut[ut.length-1];wt.allowOnlyTimelineStyles()||wt.setStyles([ie],null,Ge.errors,me)}return ut.length?ut.map(wt=>wt.buildKeyframes()):[$n(o,[],[],[],0,0,"",!1)]}visitTrigger(u,o){}visitState(u,o){}visitTransition(u,o){}visitAnimateChild(u,o){const m=o.subInstructions.get(o.element);if(m){const x=o.createSubContext(u.options),W=o.currentTimeline.currentTime,ee=this._visitSubInstructions(m,x,x.options);W!=ee&&o.transformIntoNewTimeline(ee)}o.previousNode=u}visitAnimateRef(u,o){const m=o.createSubContext(u.options);m.transformIntoNewTimeline(),this.visitReference(u.animation,m),o.transformIntoNewTimeline(m.currentTimeline.currentTime),o.previousNode=u}_visitSubInstructions(u,o,m){let W=o.currentTimeline.currentTime;const ee=null!=m.duration?Ee(m.duration):null,ie=null!=m.delay?Ee(m.delay):null;return 0!==ee&&u.forEach(me=>{const Ie=o.appendInstructionToTimeline(me,ee,ie);W=Math.max(W,Ie.duration+Ie.delay)}),W}visitReference(u,o){o.updateOptions(u.options,!0),Rt(this,u.animation,o),o.previousNode=u}visitSequence(u,o){const m=o.subContextCount;let x=o;const W=u.options;if(W&&(W.params||W.delay)&&(x=o.createSubContext(W),x.transformIntoNewTimeline(),null!=W.delay)){6==x.previousNode.type&&(x.currentTimeline.snapshotCurrentStyles(),x.previousNode=te);const ee=Ee(W.delay);x.delayNextStep(ee)}u.steps.length&&(u.steps.forEach(ee=>Rt(this,ee,x)),x.currentTimeline.applyStylesToKeyframe(),x.subContextCount>m&&x.transformIntoNewTimeline()),o.previousNode=u}visitGroup(u,o){const m=[];let x=o.currentTimeline.currentTime;const W=u.options&&u.options.delay?Ee(u.options.delay):0;u.steps.forEach(ee=>{const ie=o.createSubContext(u.options);W&&ie.delayNextStep(W),Rt(this,ee,ie),x=Math.max(x,ie.currentTimeline.currentTime),m.push(ie.currentTimeline)}),m.forEach(ee=>o.currentTimeline.mergeTimelineCollectedStyles(ee)),o.transformIntoNewTimeline(x),o.previousNode=u}_visitTiming(u,o){if(u.dynamic){const m=u.strValue;return ne(o.params?cn(m,o.params,o.errors):m,o.errors)}return{duration:u.duration,delay:u.delay,easing:u.easing}}visitAnimate(u,o){const m=o.currentAnimateTimings=this._visitTiming(u.timings,o),x=o.currentTimeline;m.delay&&(o.incrementTime(m.delay),x.snapshotCurrentStyles());const W=u.style;5==W.type?this.visitKeyframes(W,o):(o.incrementTime(m.duration),this.visitStyle(W,o),x.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=u}visitStyle(u,o){const m=o.currentTimeline,x=o.currentAnimateTimings;!x&&m.getCurrentStyleProperties().length&&m.forwardFrame();const W=x&&x.easing||u.easing;u.isEmptyStep?m.applyEmptyStep(W):m.setStyles(u.styles,W,o.errors,o.options),o.previousNode=u}visitKeyframes(u,o){const m=o.currentAnimateTimings,x=o.currentTimeline.duration,W=m.duration,ie=o.createSubContext().currentTimeline;ie.easing=m.easing,u.styles.forEach(me=>{ie.forwardTime((me.offset||0)*W),ie.setStyles(me.styles,me.easing,o.errors,o.options),ie.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(ie),o.transformIntoNewTimeline(x+W),o.previousNode=u}visitQuery(u,o){const m=o.currentTimeline.currentTime,x=u.options||{},W=x.delay?Ee(x.delay):0;W&&(6===o.previousNode.type||0==m&&o.currentTimeline.getCurrentStyleProperties().length)&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=te);let ee=m;const ie=o.invokeQuery(u.selector,u.originalSelector,u.limit,u.includeSelf,!!x.optional,o.errors);o.currentQueryTotal=ie.length;let me=null;ie.forEach((Ie,ze)=>{o.currentQueryIndex=ze;const Ge=o.createSubContext(u.options,Ie);W&&Ge.delayNextStep(W),Ie===o.element&&(me=Ge.currentTimeline),Rt(this,u.animation,Ge),Ge.currentTimeline.applyStylesToKeyframe(),ee=Math.max(ee,Ge.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(ee),me&&(o.currentTimeline.mergeTimelineCollectedStyles(me),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=u}visitStagger(u,o){const m=o.parentContext,x=o.currentTimeline,W=u.timings,ee=Math.abs(W.duration),ie=ee*(o.currentQueryTotal-1);let me=ee*o.currentQueryIndex;switch(W.duration<0?"reverse":W.easing){case"reverse":me=ie-me;break;case"full":me=m.currentStaggerTime}const ze=o.currentTimeline;me&&ze.delayNextStep(me);const Ge=ze.currentTime;Rt(this,u.animation,o),o.previousNode=u,m.currentStaggerTime=x.currentTime-Ge+(x.startTime-m.currentTimeline.startTime)}}const te={};class ge{constructor(u,o,m,x,W,ee,ie,me){this._driver=u,this.element=o,this.subInstructions=m,this._enterClassName=x,this._leaveClassName=W,this.errors=ee,this.timelines=ie,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=te,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=me||new Le(this._driver,o,0),ie.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(u,o){if(!u)return;const m=u;let x=this.options;null!=m.duration&&(x.duration=Ee(m.duration)),null!=m.delay&&(x.delay=Ee(m.delay));const W=m.params;if(W){let ee=x.params;ee||(ee=this.options.params={}),Object.keys(W).forEach(ie=>{(!o||!ee.hasOwnProperty(ie))&&(ee[ie]=cn(W[ie],ee,this.errors))})}}_copyOptions(){const u={};if(this.options){const o=this.options.params;if(o){const m=u.params={};Object.keys(o).forEach(x=>{m[x]=o[x]})}}return u}createSubContext(u=null,o,m){const x=o||this.element,W=new ge(this._driver,x,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(x,m||0));return W.previousNode=this.previousNode,W.currentAnimateTimings=this.currentAnimateTimings,W.options=this._copyOptions(),W.updateOptions(u),W.currentQueryIndex=this.currentQueryIndex,W.currentQueryTotal=this.currentQueryTotal,W.parentContext=this,this.subContextCount++,W}transformIntoNewTimeline(u){return this.previousNode=te,this.currentTimeline=this.currentTimeline.fork(this.element,u),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(u,o,m){const x={duration:o??u.duration,delay:this.currentTimeline.currentTime+(m??0)+u.delay,easing:""},W=new rt(this._driver,u.element,u.keyframes,u.preStyleProps,u.postStyleProps,x,u.stretchStartingKeyframe);return this.timelines.push(W),x}incrementTime(u){this.currentTimeline.forwardTime(this.currentTimeline.duration+u)}delayNextStep(u){u>0&&this.currentTimeline.delayNextStep(u)}invokeQuery(u,o,m,x,W,ee){let ie=[];if(x&&ie.push(this.element),u.length>0){u=(u=u.replace(ss,"."+this._enterClassName)).replace(Gs,"."+this._leaveClassName);let Ie=this._driver.query(this.element,u,1!=m);0!==m&&(Ie=m<0?Ie.slice(Ie.length+m,Ie.length):Ie.slice(0,m)),ie.push(...Ie)}return!W&&0==ie.length&&ee.push(`\`query("${o}")\` returned zero elements. (Use \`query("${o}", { optional: true })\` if you wish to allow this.)`),ie}}class Le{constructor(u,o,m,x){this._driver=u,this.element=o,this.startTime=m,this._elementTimelineStylesLookup=x,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(u){const o=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||o?(this.forwardTime(this.currentTime+u),o&&this.snapshotCurrentStyles()):this.startTime+=u}fork(u,o){return this.applyStylesToKeyframe(),new Le(this._driver,u,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(u){this.applyStylesToKeyframe(),this.duration=u,this._loadKeyframe()}_updateStyle(u,o){this._localTimelineStyles[u]=o,this._globalTimelineStyles[u]=o,this._styleSummary[u]={time:this.currentTime,value:o}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(u){u&&(this._previousKeyframe.easing=u),Object.keys(this._globalTimelineStyles).forEach(o=>{this._backFill[o]=this._globalTimelineStyles[o]||p.l3,this._currentKeyframe[o]=p.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(u,o,m,x){o&&(this._previousKeyframe.easing=o);const W=x&&x.params||{},ee=function(b,u){const o={};let m;return b.forEach(x=>{"*"===x?(m=m||Object.keys(u),m.forEach(W=>{o[W]=p.l3})):Qe(x,!1,o)}),o}(u,this._globalTimelineStyles);Object.keys(ee).forEach(ie=>{const me=cn(ee[ie],W,m);this._pendingStyles[ie]=me,this._localTimelineStyles.hasOwnProperty(ie)||(this._backFill[ie]=this._globalTimelineStyles.hasOwnProperty(ie)?this._globalTimelineStyles[ie]:p.l3),this._updateStyle(ie,me)})}applyStylesToKeyframe(){const u=this._pendingStyles,o=Object.keys(u);0!=o.length&&(this._pendingStyles={},o.forEach(m=>{this._currentKeyframe[m]=u[m]}),Object.keys(this._localTimelineStyles).forEach(m=>{this._currentKeyframe.hasOwnProperty(m)||(this._currentKeyframe[m]=this._localTimelineStyles[m])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(u=>{const o=this._localTimelineStyles[u];this._pendingStyles[u]=o,this._updateStyle(u,o)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const u=[];for(let o in this._currentKeyframe)u.push(o);return u}mergeTimelineCollectedStyles(u){Object.keys(u._styleSummary).forEach(o=>{const m=this._styleSummary[o],x=u._styleSummary[o];(!m||x.time>m.time)&&this._updateStyle(o,x.value)})}buildKeyframes(){this.applyStylesToKeyframe();const u=new Set,o=new Set,m=1===this._keyframes.size&&0===this.duration;let x=[];this._keyframes.forEach((ie,me)=>{const Ie=Qe(ie,!0);Object.keys(Ie).forEach(ze=>{const Ge=Ie[ze];Ge==p.k1?u.add(ze):Ge==p.l3&&o.add(ze)}),m||(Ie.offset=me/this.duration),x.push(Ie)});const W=u.size?pn(u.values()):[],ee=o.size?pn(o.values()):[];if(m){const ie=x[0],me=De(ie);ie.offset=0,me.offset=1,x=[ie,me]}return $n(this.element,x,W,ee,this.duration,this.startTime,this.easing,!1)}}class rt extends Le{constructor(u,o,m,x,W,ee,ie=!1){super(u,o,ee.delay),this.keyframes=m,this.preStyleProps=x,this.postStyleProps=W,this._stretchStartingKeyframe=ie,this.timings={duration:ee.duration,delay:ee.delay,easing:ee.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let u=this.keyframes,{delay:o,duration:m,easing:x}=this.timings;if(this._stretchStartingKeyframe&&o){const W=[],ee=m+o,ie=o/ee,me=Qe(u[0],!1);me.offset=0,W.push(me);const Ie=Qe(u[0],!1);Ie.offset=kt(ie),W.push(Ie);const ze=u.length-1;for(let Ge=1;Ge<=ze;Ge++){let ut=Qe(u[Ge],!1);ut.offset=kt((o+ut.offset*m)/ee),W.push(ut)}m=ee,o=0,x="",u=W}return $n(this.element,u,this.preStyleProps,this.postStyleProps,m,o,x,!0)}}function kt(b,u=3){const o=Math.pow(10,u-1);return Math.round(b*o)/o}class hr{}class sa extends hr{normalizePropertyName(u,o){return Yn(u)}normalizeStyleValue(u,o,m,x){let W="";const ee=m.toString().trim();if(oa[o]&&0!==m&&"0"!==m)if("number"==typeof m)W="px";else{const ie=m.match(/^[+-]?[\d\.]+([a-z]*)$/);ie&&0==ie[1].length&&x.push(`Please provide a CSS unit value for ${u}:${m}`)}return ee+W}}const oa=(()=>function(b){const u={};return b.forEach(o=>u[o]=!0),u}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Zs(b,u,o,m,x,W,ee,ie,me,Ie,ze,Ge,ut){return{type:0,element:b,triggerName:u,isRemovalTransition:x,fromState:o,fromStyles:W,toState:m,toStyles:ee,timelines:ie,queriedElements:me,preStyleProps:Ie,postStyleProps:ze,totalTime:Ge,errors:ut}}const os={};class as{constructor(u,o,m){this._triggerName=u,this.ast=o,this._stateStyles=m}match(u,o,m,x){return function(b,u,o,m,x){return b.some(W=>W(u,o,m,x))}(this.ast.matchers,u,o,m,x)}buildStyles(u,o,m){const x=this._stateStyles["*"],W=this._stateStyles[u],ee=x?x.buildStyles(o,m):{};return W?W.buildStyles(o,m):ee}build(u,o,m,x,W,ee,ie,me,Ie,ze){const Ge=[],ut=this.ast.options&&this.ast.options.params||os,st=this.buildStyles(m,ie&&ie.params||os,Ge),ft=me&&me.params||os,Ct=this.buildStyles(x,ft,Ge),Kt=new Set,Xt=new Map,gn=new Map,fn="void"===x,Xr={params:{...ut,...ft}},Vn=ze?[]:Se(u,o,this.ast.animation,W,ee,st,Ct,Xr,Ie,Ge);let yn=0;if(Vn.forEach(sr=>{yn=Math.max(sr.duration+sr.delay,yn)}),Ge.length)return Zs(o,this._triggerName,m,x,fn,st,Ct,[],[],Xt,gn,yn,Ge);Vn.forEach(sr=>{const or=sr.element,$o=R(Xt,or,{});sr.preStyleProps.forEach(_r=>$o[_r]=!0);const wi=R(gn,or,{});sr.postStyleProps.forEach(_r=>wi[_r]=!0),or!==o&&Kt.add(or)});const ir=pn(Kt.values());return Zs(o,this._triggerName,m,x,fn,st,Ct,Vn,ir,Xt,gn,yn)}}class Ys{constructor(u,o,m){this.styles=u,this.defaultParams=o,this.normalizer=m}buildStyles(u,o){const m={},x=De(this.defaultParams);return Object.keys(u).forEach(W=>{const ee=u[W];null!=ee&&(x[W]=ee)}),this.styles.styles.forEach(W=>{if("string"!=typeof W){const ee=W;Object.keys(ee).forEach(ie=>{let me=ee[ie];me.length>1&&(me=cn(me,x,o));const Ie=this.normalizer.normalizePropertyName(ie,o);me=this.normalizer.normalizeStyleValue(ie,Ie,me,o),m[Ie]=me})}}),m}}class aa{constructor(u,o,m){this.name=u,this.ast=o,this._normalizer=m,this.transitionFactories=[],this.states={},o.states.forEach(x=>{this.states[x.name]=new Ys(x.style,x.options&&x.options.params||{},m)}),cs(this.states,"true","1"),cs(this.states,"false","0"),o.transitions.forEach(x=>{this.transitionFactories.push(new as(u,x,this.states))}),this.fallbackTransition=function(b,u,o){return new as(b,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ee,ie)=>!0],options:null,queryCount:0,depCount:0},u)}(u,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(u,o,m,x){return this.transitionFactories.find(ee=>ee.match(u,o,m,x))||null}matchStyles(u,o,m){return this.fallbackTransition.buildStyles(u,o,m)}}function cs(b,u,o){b.hasOwnProperty(u)?b.hasOwnProperty(o)||(b[o]=b[u]):b.hasOwnProperty(o)&&(b[u]=b[o])}const Js=new ai;class Xs{constructor(u,o,m){this.bodyNode=u,this._driver=o,this._normalizer=m,this._animations={},this._playersById={},this.players=[]}register(u,o){const m=[],x=Ai(this._driver,o,m);if(m.length)throw new Error(`Unable to build the animation due to the following errors: ${m.join("\n")}`);this._animations[u]=x}_buildPlayer(u,o,m){const x=u.element,W=k(0,this._normalizer,0,u.keyframes,o,m);return this._driver.animate(x,W,u.duration,u.delay,u.easing,[],!0)}create(u,o,m={}){const x=[],W=this._animations[u];let ee;const ie=new Map;if(W?(ee=Se(this._driver,o,W,V,J,{},{},m,Js,x),ee.forEach(ze=>{const Ge=R(ie,ze.element,{});ze.postStyleProps.forEach(ut=>Ge[ut]=null)})):(x.push("The requested animation doesn't exist or has already been destroyed"),ee=[]),x.length)throw new Error(`Unable to create the animation due to the following errors: ${x.join("\n")}`);ie.forEach((ze,Ge)=>{Object.keys(ze).forEach(ut=>{ze[ut]=this._driver.computeStyle(Ge,ut,p.l3)})});const Ie=N(ee.map(ze=>{const Ge=ie.get(ze.element);return this._buildPlayer(ze,{},Ge)}));return this._playersById[u]=Ie,Ie.onDestroy(()=>this.destroy(u)),this.players.push(Ie),Ie}destroy(u){const o=this._getPlayer(u);o.destroy(),delete this._playersById[u];const m=this.players.indexOf(o);m>=0&&this.players.splice(m,1)}_getPlayer(u){const o=this._playersById[u];if(!o)throw new Error(`Unable to find the timeline player referenced by ${u}`);return o}listen(u,o,m,x){const W=S(o,"","","");return O(this._getPlayer(u),m,W,x),()=>{}}command(u,o,m,x){if("register"==m)return void this.register(u,x[0]);if("create"==m)return void this.create(u,o,x[0]||{});const W=this._getPlayer(u);switch(m){case"play":W.play();break;case"pause":W.pause();break;case"reset":W.reset();break;case"restart":W.restart();break;case"finish":W.finish();break;case"init":W.init();break;case"setPosition":W.setPosition(parseFloat(x[0]));break;case"destroy":this.destroy(u)}}}const qs="ng-animate-queued",eo="ng-animate-disabled",no=[],ci={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},an="__ng_removed";class ls{constructor(u,o=""){this.namespaceId=o;const m=u&&u.hasOwnProperty("value");if(this.value=(m?u.value:u)??null,m){const W=De(u);delete W.value,this.options=W}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(u){const o=u.params;if(o){const m=this.options.params;Object.keys(o).forEach(x=>{null==m[x]&&(m[x]=o[x])})}}}const Cr="void",li=new ls(Cr);class la{constructor(u,o,m){this.id=u,this.hostElement=o,this._engine=m,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+u,Dn(o,this._hostClassName)}listen(u,o,m,x){if(!this._triggers.hasOwnProperty(o))throw new Error(`Unable to listen on the animation trigger event "${m}" because the animation trigger "${o}" doesn't exist!`);if(null==m||0==m.length)throw new Error(`Unable to listen on the animation trigger "${o}" because the provided event is undefined!`);if("start"!=(b=m)&&"done"!=b)throw new Error(`The provided animation trigger event "${m}" for the animation trigger "${o}" is not supported!`);var b;const W=R(this._elementListeners,u,[]),ee={name:o,phase:m,callback:x};W.push(ee);const ie=R(this._engine.statesByElement,u,{});return ie.hasOwnProperty(o)||(Dn(u,q),Dn(u,q+"-"+o),ie[o]=li),()=>{this._engine.afterFlush(()=>{const me=W.indexOf(ee);me>=0&&W.splice(me,1),this._triggers[o]||delete ie[o]})}}register(u,o){return!this._triggers[u]&&(this._triggers[u]=o,!0)}_getTrigger(u){const o=this._triggers[u];if(!o)throw new Error(`The provided animation trigger "${u}" has not been registered!`);return o}trigger(u,o,m,x=!0){const W=this._getTrigger(o),ee=new fs(this.id,o,u);let ie=this._engine.statesByElement.get(u);ie||(Dn(u,q),Dn(u,q+"-"+o),this._engine.statesByElement.set(u,ie={}));let me=ie[o];const Ie=new ls(m,this.id);if(!(m&&m.hasOwnProperty("value"))&&me&&Ie.absorbOptions(me.options),ie[o]=Ie,me||(me=li),Ie.value!==Cr&&me.value===Ie.value){if(!function(b,u){const o=Object.keys(b),m=Object.keys(u);if(o.length!=m.length)return!1;for(let x=0;x<o.length;x++){const W=o[x];if(!u.hasOwnProperty(W)||b[W]!==u[W])return!1}return!0}(me.params,Ie.params)){const ft=[],Ct=W.matchStyles(me.value,me.params,ft),Kt=W.matchStyles(Ie.value,Ie.params,ft);ft.length?this._engine.reportError(ft):this._engine.afterFlush(()=>{bt(u,Ct),at(u,Kt)})}return}const ut=R(this._engine.playersByElement,u,[]);ut.forEach(ft=>{ft.namespaceId==this.id&&ft.triggerName==o&&ft.queued&&ft.destroy()});let wt=W.matchTransition(me.value,Ie.value,u,Ie.params),st=!1;if(!wt){if(!x)return;wt=W.fallbackTransition,st=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:o,transition:wt,fromState:me,toState:Ie,player:ee,isFallbackTransition:st}),st||(Dn(u,qs),ee.onStart(()=>{Ur(u,qs)})),ee.onDone(()=>{let ft=this.players.indexOf(ee);ft>=0&&this.players.splice(ft,1);const Ct=this._engine.playersByElement.get(u);if(Ct){let Kt=Ct.indexOf(ee);Kt>=0&&Ct.splice(Kt,1)}}),this.players.push(ee),ut.push(ee),ee}deregister(u){delete this._triggers[u],this._engine.statesByElement.forEach((o,m)=>{delete o[u]}),this._elementListeners.forEach((o,m)=>{this._elementListeners.set(m,o.filter(x=>x.name!=u))})}clearElementCache(u){this._engine.statesByElement.delete(u),this._elementListeners.delete(u);const o=this._engine.playersByElement.get(u);o&&(o.forEach(m=>m.destroy()),this._engine.playersByElement.delete(u))}_signalRemovalForInnerTriggers(u,o){const m=this._engine.driver.query(u,_e,!0);m.forEach(x=>{if(x[an])return;const W=this._engine.fetchNamespacesByElement(x);W.size?W.forEach(ee=>ee.triggerLeaveAnimation(x,o,!1,!0)):this.clearElementCache(x)}),this._engine.afterFlushAnimationsDone(()=>m.forEach(x=>this.clearElementCache(x)))}triggerLeaveAnimation(u,o,m,x){const W=this._engine.statesByElement.get(u);if(W){const ee=[];if(Object.keys(W).forEach(ie=>{if(this._triggers[ie]){const me=this.trigger(u,ie,Cr,x);me&&ee.push(me)}}),ee.length)return this._engine.markElementAsRemoved(this.id,u,!0,o),m&&N(ee).onDone(()=>this._engine.processLeaveNode(u)),!0}return!1}prepareLeaveAnimationListeners(u){const o=this._elementListeners.get(u),m=this._engine.statesByElement.get(u);if(o&&m){const x=new Set;o.forEach(W=>{const ee=W.name;if(x.has(ee))return;x.add(ee);const me=this._triggers[ee].fallbackTransition,Ie=m[ee]||li,ze=new ls(Cr),Ge=new fs(this.id,ee,u);this._engine.totalQueuedPlayers++,this._queue.push({element:u,triggerName:ee,transition:me,fromState:Ie,toState:ze,player:Ge,isFallbackTransition:!0})})}}removeNode(u,o){const m=this._engine;if(u.childElementCount&&this._signalRemovalForInnerTriggers(u,o),this.triggerLeaveAnimation(u,o,!0))return;let x=!1;if(m.totalAnimations){const W=m.players.length?m.playersByQueriedElement.get(u):[];if(W&&W.length)x=!0;else{let ee=u;for(;ee=ee.parentNode;)if(m.statesByElement.get(ee)){x=!0;break}}}if(this.prepareLeaveAnimationListeners(u),x)m.markElementAsRemoved(this.id,u,!1,o);else{const W=u[an];(!W||W===ci)&&(m.afterFlush(()=>this.clearElementCache(u)),m.destroyInnerAnimations(u),m._onRemovalComplete(u,o))}}insertNode(u,o){Dn(u,this._hostClassName)}drainQueuedTransitions(u){const o=[];return this._queue.forEach(m=>{const x=m.player;if(x.destroyed)return;const W=m.element,ee=this._elementListeners.get(W);ee&&ee.forEach(ie=>{if(ie.name==m.triggerName){const me=S(W,m.triggerName,m.fromState.value,m.toState.value);me._data=u,O(m.player,ie.phase,me,ie.callback)}}),x.markedForDestroy?this._engine.afterFlush(()=>{x.destroy()}):o.push(m)}),this._queue=[],o.sort((m,x)=>{const W=m.transition.ast.depCount,ee=x.transition.ast.depCount;return 0==W||0==ee?W-ee:this._engine.driver.containsElement(m.element,x.element)?1:-1})}destroy(u){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,u)}elementContainsData(u){let o=!1;return this._elementListeners.has(u)&&(o=!0),o=!!this._queue.find(m=>m.element===u)||o,o}}class ro{constructor(u,o,m){this.bodyNode=u,this.driver=o,this._normalizer=m,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(x,W)=>{}}_onRemovalComplete(u,o){this.onRemovalComplete(u,o)}get queuedPlayers(){const u=[];return this._namespaceList.forEach(o=>{o.players.forEach(m=>{m.queued&&u.push(m)})}),u}createNamespace(u,o){const m=new la(u,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(m,o):(this.newHostElements.set(o,m),this.collectEnterElement(o)),this._namespaceLookup[u]=m}_balanceNamespaceList(u,o){const m=this._namespaceList.length-1;if(m>=0){let x=!1;for(let W=m;W>=0;W--)if(this.driver.containsElement(this._namespaceList[W].hostElement,o)){this._namespaceList.splice(W+1,0,u),x=!0;break}x||this._namespaceList.splice(0,0,u)}else this._namespaceList.push(u);return this.namespacesByHostElement.set(o,u),u}register(u,o){let m=this._namespaceLookup[u];return m||(m=this.createNamespace(u,o)),m}registerTrigger(u,o,m){let x=this._namespaceLookup[u];x&&x.register(o,m)&&this.totalAnimations++}destroy(u,o){if(!u)return;const m=this._fetchNamespace(u);this.afterFlush(()=>{this.namespacesByHostElement.delete(m.hostElement),delete this._namespaceLookup[u];const x=this._namespaceList.indexOf(m);x>=0&&this._namespaceList.splice(x,1)}),this.afterFlushAnimationsDone(()=>m.destroy(o))}_fetchNamespace(u){return this._namespaceLookup[u]}fetchNamespacesByElement(u){const o=new Set,m=this.statesByElement.get(u);if(m){const x=Object.keys(m);for(let W=0;W<x.length;W++){const ee=m[x[W]].namespaceId;if(ee){const ie=this._fetchNamespace(ee);ie&&o.add(ie)}}}return o}trigger(u,o,m,x){if(fi(o)){const W=this._fetchNamespace(u);if(W)return W.trigger(o,m,x),!0}return!1}insertNode(u,o,m,x){if(!fi(o))return;const W=o[an];if(W&&W.setForRemoval){W.setForRemoval=!1,W.setForMove=!0;const ee=this.collectedLeaveElements.indexOf(o);ee>=0&&this.collectedLeaveElements.splice(ee,1)}if(u){const ee=this._fetchNamespace(u);ee&&ee.insertNode(o,m)}x&&this.collectEnterElement(o)}collectEnterElement(u){this.collectedEnterElements.push(u)}markElementAsDisabled(u,o){o?this.disabledNodes.has(u)||(this.disabledNodes.add(u),Dn(u,eo)):this.disabledNodes.has(u)&&(this.disabledNodes.delete(u),Ur(u,eo))}removeNode(u,o,m,x){if(fi(o)){const W=u?this._fetchNamespace(u):null;if(W?W.removeNode(o,x):this.markElementAsRemoved(u,o,!1,x),m){const ee=this.namespacesByHostElement.get(o);ee&&ee.id!==u&&ee.removeNode(o,x)}}else this._onRemovalComplete(o,x)}markElementAsRemoved(u,o,m,x){this.collectedLeaveElements.push(o),o[an]={namespaceId:u,setForRemoval:x,hasAnimation:m,removedBeforeQueried:!1}}listen(u,o,m,x,W){return fi(o)?this._fetchNamespace(u).listen(o,m,x,W):()=>{}}_buildInstruction(u,o,m,x,W){return u.transition.build(this.driver,u.element,u.fromState.value,u.toState.value,m,x,u.fromState.options,u.toState.options,o,W)}destroyInnerAnimations(u){let o=this.driver.query(u,_e,!0);o.forEach(m=>this.destroyActiveAnimationsForElement(m)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(u,He,!0),o.forEach(m=>this.finishActiveQueriedAnimationOnElement(m)))}destroyActiveAnimationsForElement(u){const o=this.playersByElement.get(u);o&&o.forEach(m=>{m.queued?m.markedForDestroy=!0:m.destroy()})}finishActiveQueriedAnimationOnElement(u){const o=this.playersByQueriedElement.get(u);o&&o.forEach(m=>m.finish())}whenRenderingDone(){return new Promise(u=>{if(this.players.length)return N(this.players).onDone(()=>u());u()})}processLeaveNode(u){const o=u[an];if(o&&o.setForRemoval){if(u[an]=ci,o.namespaceId){this.destroyInnerAnimations(u);const m=this._fetchNamespace(o.namespaceId);m&&m.clearElementCache(u)}this._onRemovalComplete(u,o.setForRemoval)}u.classList?.contains(eo)&&this.markElementAsDisabled(u,!1),this.driver.query(u,".ng-animate-disabled",!0).forEach(m=>{this.markElementAsDisabled(m,!1)})}flush(u=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((m,x)=>this._balanceNamespaceList(m,x)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let m=0;m<this.collectedEnterElements.length;m++)Dn(this.collectedEnterElements[m],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const m=[];try{o=this._flushAnimations(m,u)}finally{for(let x=0;x<m.length;x++)m[x]()}}else for(let m=0;m<this.collectedLeaveElements.length;m++)this.processLeaveNode(this.collectedLeaveElements[m]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(m=>m()),this._flushFns=[],this._whenQuietFns.length){const m=this._whenQuietFns;this._whenQuietFns=[],o.length?N(o).onDone(()=>{m.forEach(x=>x())}):m.forEach(x=>x())}}reportError(u){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${u.join("\n")}`)}_flushAnimations(u,o){const m=new ai,x=[],W=new Map,ee=[],ie=new Map,me=new Map,Ie=new Map,ze=new Set;this.disabledNodes.forEach(qe=>{ze.add(qe);const ct=this.driver.query(qe,".ng-animate-queued",!0);for(let gt=0;gt<ct.length;gt++)ze.add(ct[gt])});const Ge=this.bodyNode,ut=Array.from(this.statesByElement.keys()),wt=io(ut,this.collectedEnterElements),st=new Map;let ft=0;wt.forEach((qe,ct)=>{const gt=V+ft++;st.set(ct,gt),qe.forEach(Lt=>Dn(Lt,gt))});const Ct=[],Kt=new Set,Xt=new Set;for(let qe=0;qe<this.collectedLeaveElements.length;qe++){const ct=this.collectedLeaveElements[qe],gt=ct[an];gt&&gt.setForRemoval&&(Ct.push(ct),Kt.add(ct),gt.hasAnimation?this.driver.query(ct,".ng-star-inserted",!0).forEach(Lt=>Kt.add(Lt)):Xt.add(ct))}const gn=new Map,fn=io(ut,Array.from(Kt));fn.forEach((qe,ct)=>{const gt=J+ft++;gn.set(ct,gt),qe.forEach(Lt=>Dn(Lt,gt))}),u.push(()=>{wt.forEach((qe,ct)=>{const gt=st.get(ct);qe.forEach(Lt=>Ur(Lt,gt))}),fn.forEach((qe,ct)=>{const gt=gn.get(ct);qe.forEach(Lt=>Ur(Lt,gt))}),Ct.forEach(qe=>{this.processLeaveNode(qe)})});const Xr=[],Vn=[];for(let qe=this._namespaceList.length-1;qe>=0;qe--)this._namespaceList[qe].drainQueuedTransitions(o).forEach(gt=>{const Lt=gt.player,sn=gt.element;if(Xr.push(Lt),this.collectedEnterElements.length){const zn=sn[an];if(zn&&zn.setForMove)return void Lt.destroy()}const ar=!Ge||!this.driver.containsElement(Ge,sn),Ln=gn.get(sn),qr=st.get(sn),Qt=this._buildInstruction(gt,m,qr,Ln,ar);if(Qt.errors&&Qt.errors.length)return void Vn.push(Qt);if(ar)return Lt.onStart(()=>bt(sn,Qt.fromStyles)),Lt.onDestroy(()=>at(sn,Qt.toStyles)),void x.push(Lt);if(gt.isFallbackTransition)return Lt.onStart(()=>bt(sn,Qt.fromStyles)),Lt.onDestroy(()=>at(sn,Qt.toStyles)),void x.push(Lt);const sc=[];Qt.timelines.forEach(zn=>{zn.stretchStartingKeyframe=!0,this.disabledNodes.has(zn.element)||sc.push(zn)}),Qt.timelines=sc,m.append(sn,Qt.timelines),ee.push({instruction:Qt,player:Lt,element:sn}),Qt.queriedElements.forEach(zn=>R(ie,zn,[]).push(Lt)),Qt.preStyleProps.forEach((zn,ei)=>{const Ns=Object.keys(zn);if(Ns.length){let ti=me.get(ei);ti||me.set(ei,ti=new Set),Ns.forEach(Wo=>ti.add(Wo))}}),Qt.postStyleProps.forEach((zn,ei)=>{const Ns=Object.keys(zn);let ti=Ie.get(ei);ti||Ie.set(ei,ti=new Set),Ns.forEach(Wo=>ti.add(Wo))})});if(Vn.length){const qe=[];Vn.forEach(ct=>{qe.push(`@${ct.triggerName} has failed due to:\n`),ct.errors.forEach(gt=>qe.push(`- ${gt}\n`))}),Xr.forEach(ct=>ct.destroy()),this.reportError(qe)}const yn=new Map,ir=new Map;ee.forEach(qe=>{const ct=qe.element;m.has(ct)&&(ir.set(ct,ct),this._beforeAnimationBuild(qe.player.namespaceId,qe.instruction,yn))}),x.forEach(qe=>{const ct=qe.element;this._getPreviousPlayers(ct,!1,qe.namespaceId,qe.triggerName,null).forEach(Lt=>{R(yn,ct,[]).push(Lt),Lt.destroy()})});const sr=Ct.filter(qe=>va(qe,me,Ie)),or=new Map;hs(or,this.driver,Xt,Ie,p.l3).forEach(qe=>{va(qe,me,Ie)&&sr.push(qe)});const wi=new Map;wt.forEach((qe,ct)=>{hs(wi,this.driver,new Set(qe),me,p.k1)}),sr.forEach(qe=>{const ct=or.get(qe),gt=wi.get(qe);or.set(qe,{...ct,...gt})});const _r=[],fu=[],du={};ee.forEach(qe=>{const{element:ct,player:gt,instruction:Lt}=qe;if(m.has(ct)){if(ze.has(ct))return gt.onDestroy(()=>at(ct,Lt.toStyles)),gt.disabled=!0,gt.overrideTotalTime(Lt.totalTime),void x.push(gt);let sn=du;if(ir.size>1){let Ln=ct;const qr=[];for(;Ln=Ln.parentNode;){const Qt=ir.get(Ln);if(Qt){sn=Qt;break}qr.push(Ln)}qr.forEach(Qt=>ir.set(Qt,sn))}const ar=this._buildAnimation(gt.namespaceId,Lt,yn,W,wi,or);if(gt.setRealPlayer(ar),sn===du)_r.push(gt);else{const Ln=this.playersByElement.get(sn);Ln&&Ln.length&&(gt.parentPlayer=N(Ln)),x.push(gt)}}else bt(ct,Lt.fromStyles),gt.onDestroy(()=>at(ct,Lt.toStyles)),fu.push(gt),ze.has(ct)&&x.push(gt)}),fu.forEach(qe=>{const ct=W.get(qe.element);if(ct&&ct.length){const gt=N(ct);qe.setRealPlayer(gt)}}),x.forEach(qe=>{qe.parentPlayer?qe.syncPlayerEvents(qe.parentPlayer):qe.destroy()});for(let qe=0;qe<Ct.length;qe++){const ct=Ct[qe],gt=ct[an];if(Ur(ct,J),gt&&gt.hasAnimation)continue;let Lt=[];if(ie.size){let ar=ie.get(ct);ar&&ar.length&&Lt.push(...ar);let Ln=this.driver.query(ct,He,!0);for(let qr=0;qr<Ln.length;qr++){let Qt=ie.get(Ln[qr]);Qt&&Qt.length&&Lt.push(...Qt)}}const sn=Lt.filter(ar=>!ar.destroyed);sn.length?pa(this,ct,sn):this.processLeaveNode(ct)}return Ct.length=0,_r.forEach(qe=>{this.players.push(qe),qe.onDone(()=>{qe.destroy();const ct=this.players.indexOf(qe);this.players.splice(ct,1)}),qe.play()}),_r}elementContainsData(u,o){let m=!1;const x=o[an];return x&&x.setForRemoval&&(m=!0),this.playersByElement.has(o)&&(m=!0),this.playersByQueriedElement.has(o)&&(m=!0),this.statesByElement.has(o)&&(m=!0),this._fetchNamespace(u).elementContainsData(o)||m}afterFlush(u){this._flushFns.push(u)}afterFlushAnimationsDone(u){this._whenQuietFns.push(u)}_getPreviousPlayers(u,o,m,x,W){let ee=[];if(o){const ie=this.playersByQueriedElement.get(u);ie&&(ee=ie)}else{const ie=this.playersByElement.get(u);if(ie){const me=!W||W==Cr;ie.forEach(Ie=>{Ie.queued||!me&&Ie.triggerName!=x||ee.push(Ie)})}}return(m||x)&&(ee=ee.filter(ie=>!(m&&m!=ie.namespaceId||x&&x!=ie.triggerName))),ee}_beforeAnimationBuild(u,o,m){const W=o.element,ee=o.isRemovalTransition?void 0:u,ie=o.isRemovalTransition?void 0:o.triggerName;for(const me of o.timelines){const Ie=me.element,ze=Ie!==W,Ge=R(m,Ie,[]);this._getPreviousPlayers(Ie,ze,ee,ie,o.toState).forEach(wt=>{const st=wt.getRealPlayer();st.beforeDestroy&&st.beforeDestroy(),wt.destroy(),Ge.push(wt)})}bt(W,o.fromStyles)}_buildAnimation(u,o,m,x,W,ee){const ie=o.triggerName,me=o.element,Ie=[],ze=new Set,Ge=new Set,ut=o.timelines.map(st=>{const ft=st.element;ze.add(ft);const Ct=ft[an];if(Ct&&Ct.removedBeforeQueried)return new p.ZN(st.duration,st.delay);const Kt=ft!==me,Xt=function(b){const u=[];return pr(b,u),u}((m.get(ft)||no).map(yn=>yn.getRealPlayer())).filter(yn=>!!yn.element&&yn.element===ft),gn=W.get(ft),fn=ee.get(ft),Xr=k(0,this._normalizer,0,st.keyframes,gn,fn),Vn=this._buildPlayer(st,Xr,Xt);if(st.subTimeline&&x&&Ge.add(ft),Kt){const yn=new fs(u,ie,ft);yn.setRealPlayer(Vn),Ie.push(yn)}return Vn});Ie.forEach(st=>{R(this.playersByQueriedElement,st.element,[]).push(st),st.onDone(()=>function(b,u,o){let m;if(b instanceof Map){if(m=b.get(u),m){if(m.length){const x=m.indexOf(o);m.splice(x,1)}0==m.length&&b.delete(u)}}else if(m=b[u],m){if(m.length){const x=m.indexOf(o);m.splice(x,1)}0==m.length&&delete b[u]}return m}(this.playersByQueriedElement,st.element,st))}),ze.forEach(st=>Dn(st,Be));const wt=N(ut);return wt.onDestroy(()=>{ze.forEach(st=>Ur(st,Be)),at(me,o.toStyles)}),Ge.forEach(st=>{R(x,st,[]).push(wt)}),wt}_buildPlayer(u,o,m){return o.length>0?this.driver.animate(u.element,o,u.duration,u.delay,u.easing,m):new p.ZN(u.duration,u.delay)}}class fs{constructor(u,o,m){this.namespaceId=u,this.triggerName=o,this.element=m,this._player=new p.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(u){this._containsRealPlayer||(this._player=u,Object.keys(this._queuedCallbacks).forEach(o=>{this._queuedCallbacks[o].forEach(m=>O(u,o,void 0,m))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(u.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(u){this.totalTime=u}syncPlayerEvents(u){const o=this._player;o.triggerCallback&&u.onStart(()=>o.triggerCallback("start")),u.onDone(()=>this.finish()),u.onDestroy(()=>this.destroy())}_queueEvent(u,o){R(this._queuedCallbacks,u,[]).push(o)}onDone(u){this.queued&&this._queueEvent("done",u),this._player.onDone(u)}onStart(u){this.queued&&this._queueEvent("start",u),this._player.onStart(u)}onDestroy(u){this.queued&&this._queueEvent("destroy",u),this._player.onDestroy(u)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(u){this.queued||this._player.setPosition(u)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(u){const o=this._player;o.triggerCallback&&o.triggerCallback(u)}}function fi(b){return b&&1===b.nodeType}function ds(b,u){const o=b.style.display;return b.style.display=u??"none",o}function hs(b,u,o,m,x){const W=[];o.forEach(me=>W.push(ds(me)));const ee=[];m.forEach((me,Ie)=>{const ze={};me.forEach(Ge=>{const ut=ze[Ge]=u.computeStyle(Ie,Ge,x);(!ut||0==ut.length)&&(Ie[an]=wr,ee.push(Ie))}),b.set(Ie,ze)});let ie=0;return o.forEach(me=>ds(me,W[ie++])),ee}function io(b,u){const o=new Map;if(b.forEach(ie=>o.set(ie,[])),0==u.length)return o;const x=new Set(u),W=new Map;function ee(ie){if(!ie)return 1;let me=W.get(ie);if(me)return me;const Ie=ie.parentNode;return me=o.has(Ie)?Ie:x.has(Ie)?1:ee(Ie),W.set(ie,me),me}return u.forEach(ie=>{const me=ee(ie);1!==me&&o.get(me).push(ie)}),o}function Dn(b,u){b.classList?.add(u)}function Ur(b,u){b.classList?.remove(u)}function pa(b,u,o){N(o).onDone(()=>b.processLeaveNode(u))}function pr(b,u){for(let o=0;o<b.length;o++){const m=b[o];m instanceof p.ZE?pr(m.players,u):u.push(m)}}function va(b,u,o){const m=o.get(b);if(!m)return!1;let x=u.get(b);return x?m.forEach(W=>x.add(W)):u.set(b,m),o.delete(b),!0}class di{constructor(u,o,m){this.bodyNode=u,this._driver=o,this._normalizer=m,this._triggerCache={},this.onRemovalComplete=(x,W)=>{},this._transitionEngine=new ro(u,o,m),this._timelineEngine=new Xs(u,o,m),this._transitionEngine.onRemovalComplete=(x,W)=>this.onRemovalComplete(x,W)}registerTrigger(u,o,m,x,W){const ee=u+"-"+x;let ie=this._triggerCache[ee];if(!ie){const me=[],Ie=Ai(this._driver,W,me);if(me.length)throw new Error(`The animation trigger "${x}" has failed to build due to the following errors:\n - ${me.join("\n - ")}`);ie=function(b,u,o){return new aa(b,u,o)}(x,Ie,this._normalizer),this._triggerCache[ee]=ie}this._transitionEngine.registerTrigger(o,x,ie)}register(u,o){this._transitionEngine.register(u,o)}destroy(u,o){this._transitionEngine.destroy(u,o)}onInsert(u,o,m,x){this._transitionEngine.insertNode(u,o,m,x)}onRemove(u,o,m,x){this._transitionEngine.removeNode(u,o,x||!1,m)}disableAnimations(u,o){this._transitionEngine.markElementAsDisabled(u,o)}process(u,o,m,x){if("@"==m.charAt(0)){const[W,ee]=I(m);this._timelineEngine.command(W,o,ee,x)}else this._transitionEngine.trigger(u,o,m,x)}listen(u,o,m,x,W){if("@"==m.charAt(0)){const[ee,ie]=I(m);return this._timelineEngine.listen(ee,o,ie,W)}return this._transitionEngine.listen(u,o,m,x,W)}flush(u=-1){this._transitionEngine.flush(u)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function so(b,u){let o=null,m=null;return Array.isArray(u)&&u.length?(o=Di(u[0]),u.length>1&&(m=Di(u[u.length-1]))):u&&(o=Di(u)),o||m?new ga(b,o,m):null}let ga=(()=>{class b{constructor(o,m,x){this._element=o,this._startStyles=m,this._endStyles=x,this._state=0;let W=b.initialStylesByElement.get(o);W||b.initialStylesByElement.set(o,W={}),this._initialStyles=W}start(){this._state<1&&(this._startStyles&&at(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(at(this._element,this._initialStyles),this._endStyles&&(at(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(b.initialStylesByElement.delete(this._element),this._startStyles&&(bt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bt(this._element,this._endStyles),this._endStyles=null),at(this._element,this._initialStyles),this._state=3)}}return b.initialStylesByElement=new WeakMap,b})();function Di(b){let u=null;const o=Object.keys(b);for(let m=0;m<o.length;m++){const x=o[m];ya(x)&&(u=u||{},u[x]=b[x])}return u}function ya(b){return"display"===b||"position"===b}const ao="animation",uo="animationend";class ba{constructor(u,o,m,x,W,ee,ie){this._element=u,this._name=o,this._duration=m,this._delay=x,this._easing=W,this._fillMode=ee,this._onDoneFn=ie,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=me=>this._handleCallback(me)}apply(){(function(b,u){const o=ps(b,"").trim();let m=0;o.length&&(function(b,u){let o=0;for(let m=0;m<b.length;m++)","===b.charAt(m)&&o++;return o}(o)+1,u=`${o}, ${u}`),Ii(b,"",u)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),fo(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){co(this._element,this._name,"paused")}resume(){co(this._element,this._name,"running")}setPosition(u){const o=lo(this._element,this._name);this._position=u*this._duration,Ii(this._element,"Delay",`-${this._position}ms`,o)}getPosition(){return this._position}_handleCallback(u){const o=u._ngTestManualTimestamp||Date.now(),m=1e3*parseFloat(u.elapsedTime.toFixed(3));u.animationName==this._name&&Math.max(o-this._startTime,0)>=this._delay&&m>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),fo(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(b,u){const m=ps(b,"").split(","),x=Oi(m,u);x>=0&&(m.splice(x,1),Ii(b,"",m.join(",")))}(this._element,this._name))}}function co(b,u,o){Ii(b,"PlayState",o,lo(b,u))}function lo(b,u){const o=ps(b,"");return o.indexOf(",")>0?Oi(o.split(","),u):Oi([o],u)}function Oi(b,u){for(let o=0;o<b.length;o++)if(b[o].indexOf(u)>=0)return o;return-1}function fo(b,u,o){o?b.removeEventListener(uo,u):b.addEventListener(uo,u)}function Ii(b,u,o,m){const x=ao+u;if(null!=m){const W=b.style[x];if(W.length){const ee=W.split(",");ee[m]=o,o=ee.join(",")}}b.style[x]=o}function ps(b,u){return b.style[ao+u]||""}class mr{constructor(u,o,m,x,W,ee,ie,me){this.element=u,this.keyframes=o,this.animationName=m,this._duration=x,this._delay=W,this._finalStyles=ie,this._specialStyles=me,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=ee||"linear",this.totalTime=x+W,this._buildStyler()}onStart(u){this._onStartFns.push(u)}onDone(u){this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(u=>u()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(u=>u()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(u){this._styler.setPosition(u)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ba(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(u){const o="start"==u?this._onStartFns:this._onDoneFns;o.forEach(m=>m()),o.length=0}beforeDestroy(){this.init();const u={};if(this.hasStarted()){const o=this._state>=3;Object.keys(this._finalStyles).forEach(m=>{"offset"!=m&&(u[m]=o?this._finalStyles[m]:fr(this.element,m))})}this.currentSnapshot=u}}class mn extends p.ZN{constructor(u,o){super(),this.element=u,this._startingStyles={},this.__initialized=!1,this._styles=ye(o)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(u=>{this._startingStyles[u]=this.element.style[u]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(u=>this.element.style.setProperty(u,this._styles[u])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(u=>{const o=this._startingStyles[u];o?this.element.style.setProperty(u,o):this.element.style.removeProperty(u)}),this._startingStyles=null,super.destroy())}}class jn{constructor(){this._count=0}validateStyleProperty(u){return v(u)}matchesElement(u,o){return!1}containsElement(u,o){return K(u,o)}query(u,o,m){return se(u,o,m)}computeStyle(u,o,m){return window.getComputedStyle(u)[o]}buildKeyframeElement(u,o,m){m=m.map(ie=>ye(ie));let x=`@keyframes ${o} {\n`,W="";m.forEach(ie=>{W=" ";const me=parseFloat(ie.offset);x+=`${W}${100*me}% {\n`,W+=" ",Object.keys(ie).forEach(Ie=>{const ze=ie[Ie];switch(Ie){case"offset":return;case"easing":return void(ze&&(x+=`${W}animation-timing-function: ${ze};\n`));default:return void(x+=`${W}${Ie}: ${ze};\n`)}}),x+=`${W}}\n`}),x+="}\n";const ee=document.createElement("style");return ee.textContent=x,ee}animate(u,o,m,x,W,ee=[],ie){const me=ee.filter(Ct=>Ct instanceof mr),Ie={};Tt(m,x)&&me.forEach(Ct=>{let Kt=Ct.currentSnapshot;Object.keys(Kt).forEach(Xt=>Ie[Xt]=Kt[Xt])});const ze=function(b){let u={};return b&&(Array.isArray(b)?b:[b]).forEach(m=>{Object.keys(m).forEach(x=>{"offset"==x||"easing"==x||(u[x]=m[x])})}),u}(o=xt(u,o,Ie));if(0==m)return new mn(u,ze);const Ge="gen_css_kf_"+this._count++,ut=this.buildKeyframeElement(u,Ge,o);(function(b){const u=b.getRootNode?.();return"undefined"!=typeof ShadowRoot&&u instanceof ShadowRoot?u:document.head})(u).appendChild(ut);const st=so(u,o),ft=new mr(u,o,Ge,m,x,W,ze,st);return ft.onDestroy(()=>{var b;(b=ut).parentNode.removeChild(b)}),ft}}class hi{constructor(u,o,m,x){this.element=u,this.keyframes=o,this.options=m,this._specialStyles=x,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=m.duration,this._delay=m.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(u=>u()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const u=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,u,this.options),this._finalKeyframe=u.length?u[u.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(u,o,m){return u.animate(o,m)}onStart(u){this._onStartFns.push(u)}onDone(u){this._onDoneFns.push(u)}onDestroy(u){this._onDestroyFns.push(u)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(u=>u()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(u=>u()),this._onDestroyFns=[])}setPosition(u){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=u*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const u={};if(this.hasStarted()){const o=this._finalKeyframe;Object.keys(o).forEach(m=>{"offset"!=m&&(u[m]=this._finished?o[m]:fr(this.element,m))})}this.currentSnapshot=u}triggerCallback(u){const o="start"==u?this._onStartFns:this._onDoneFns;o.forEach(m=>m()),o.length=0}}class ho{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(zr().toString()),this._cssKeyframesDriver=new jn}validateStyleProperty(u){return v(u)}matchesElement(u,o){return!1}containsElement(u,o){return K(u,o)}query(u,o,m){return se(u,o,m)}computeStyle(u,o,m){return window.getComputedStyle(u)[o]}overrideWebAnimationsSupport(u){this._isNativeImpl=u}animate(u,o,m,x,W,ee=[],ie){if(!ie&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(u,o,m,x,W,ee);const ze={duration:m,delay:x,fill:0==x?"both":"forwards"};W&&(ze.easing=W);const Ge={},ut=ee.filter(st=>st instanceof hi);Tt(m,x)&&ut.forEach(st=>{let ft=st.currentSnapshot;Object.keys(ft).forEach(Ct=>Ge[Ct]=ft[Ct])});const wt=so(u,o=xt(u,o=o.map(st=>Qe(st,!1)),Ge));return new hi(u,o,ze,wt)}}function zr(){return F()&&Element.prototype.animate||{}}var Un=l(1457);let Mi=(()=>{class b extends p._j{constructor(o,m){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(m.body,{id:"0",encapsulation:a.ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(o){const m=this._nextAnimationId.toString();this._nextAnimationId++;const x=Array.isArray(o)?(0,p.vP)(o):o;return mo(this._renderer,null,m,"register",[x]),new Ca(m,this._renderer)}}return b.\u0275fac=function(o){return new(o||b)(a.\u0275\u0275inject(a.RendererFactory2),a.\u0275\u0275inject(Un.DOCUMENT))},b.\u0275prov=a.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac}),b})();class Ca extends p.LC{constructor(u,o){super(),this._id=u,this._renderer=o}create(u,o){return new po(this._id,u,o||{},this._renderer)}}class po{constructor(u,o,m,x){this.id=u,this.element=o,this._renderer=x,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",m)}_listen(u,o){return this._renderer.listen(this.element,`@@${this.id}:${u}`,o)}_command(u,...o){return mo(this._renderer,this.element,this.id,u,o)}onDone(u){this._listen("done",u)}onStart(u){this._listen("start",u)}onDestroy(u){this._listen("destroy",u)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(u){this._command("setPosition",u)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function mo(b,u,o,m,x){return b.setProperty(u,`@@${o}:${m}`,x)}const vo="@.disabled";let Aa=(()=>{class b{constructor(o,m,x){this.delegate=o,this.engine=m,this._zone=x,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),m.onRemovalComplete=(W,ee)=>{const ie=ee?.parentNode(W);ie&&ee.removeChild(ie,W)}}createRenderer(o,m){const W=this.delegate.createRenderer(o,m);if(!(o&&m&&m.data&&m.data.animation)){let ze=this._rendererCache.get(W);return ze||(ze=new xi("",W,this.engine),this._rendererCache.set(W,ze)),ze}const ee=m.id,ie=m.id+"-"+this._currentId;this._currentId++,this.engine.register(ie,o);const me=ze=>{Array.isArray(ze)?ze.forEach(me):this.engine.registerTrigger(ee,ie,o,ze.name,ze)};return m.data.animation.forEach(me),new gs(this,ie,W,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,m,x){o>=0&&o<this._microtaskId?this._zone.run(()=>m(x)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(W=>{const[ee,ie]=W;ee(ie)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([m,x]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return b.\u0275fac=function(o){return new(o||b)(a.\u0275\u0275inject(a.RendererFactory2),a.\u0275\u0275inject(di),a.\u0275\u0275inject(a.NgZone))},b.\u0275prov=a.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac}),b})();class xi{constructor(u,o,m){this.namespaceId=u,this.delegate=o,this.engine=m,this.destroyNode=this.delegate.destroyNode?x=>o.destroyNode(x):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(u,o){return this.delegate.createElement(u,o)}createComment(u){return this.delegate.createComment(u)}createText(u){return this.delegate.createText(u)}appendChild(u,o){this.delegate.appendChild(u,o),this.engine.onInsert(this.namespaceId,o,u,!1)}insertBefore(u,o,m,x=!0){this.delegate.insertBefore(u,o,m),this.engine.onInsert(this.namespaceId,o,u,x)}removeChild(u,o,m){this.engine.onRemove(this.namespaceId,o,this.delegate,m)}selectRootElement(u,o){return this.delegate.selectRootElement(u,o)}parentNode(u){return this.delegate.parentNode(u)}nextSibling(u){return this.delegate.nextSibling(u)}setAttribute(u,o,m,x){this.delegate.setAttribute(u,o,m,x)}removeAttribute(u,o,m){this.delegate.removeAttribute(u,o,m)}addClass(u,o){this.delegate.addClass(u,o)}removeClass(u,o){this.delegate.removeClass(u,o)}setStyle(u,o,m,x){this.delegate.setStyle(u,o,m,x)}removeStyle(u,o,m){this.delegate.removeStyle(u,o,m)}setProperty(u,o,m){"@"==o.charAt(0)&&o==vo?this.disableAnimations(u,!!m):this.delegate.setProperty(u,o,m)}setValue(u,o){this.delegate.setValue(u,o)}listen(u,o,m){return this.delegate.listen(u,o,m)}disableAnimations(u,o){this.engine.disableAnimations(u,o)}}class gs extends xi{constructor(u,o,m,x){super(o,m,x),this.factory=u,this.namespaceId=o}setProperty(u,o,m){"@"==o.charAt(0)?"."==o.charAt(1)&&o==vo?this.disableAnimations(u,m=void 0===m||!!m):this.engine.process(this.namespaceId,u,o.substr(1),m):this.delegate.setProperty(u,o,m)}listen(u,o,m){if("@"==o.charAt(0)){const x=function(b){switch(b){case"body":return document.body;case"document":return document;case"window":return window;default:return b}}(u);let W=o.substr(1),ee="";return"@"!=W.charAt(0)&&([W,ee]=function(b){const u=b.indexOf(".");return[b.substring(0,u),b.substr(u+1)]}(W)),this.engine.listen(this.namespaceId,x,W,ee,ie=>{this.factory.scheduleListenerCallback(ie._data||-1,m,ie)})}return this.delegate.listen(u,o,m)}}let Da=(()=>{class b extends di{constructor(o,m,x){super(o.body,m,x)}ngOnDestroy(){this.flush()}}return b.\u0275fac=function(o){return new(o||b)(a.\u0275\u0275inject(Un.DOCUMENT),a.\u0275\u0275inject(le),a.\u0275\u0275inject(hr))},b.\u0275prov=a.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac}),b})();const ki=new a.InjectionToken("AnimationModuleType"),_s=[{provide:p._j,useClass:Mi},{provide:hr,useFactory:function(){return new sa}},{provide:di,useClass:Da},{provide:a.RendererFactory2,useFactory:function(b,u,o){return new Aa(b,u,o)},deps:[g.se,di,a.NgZone]}],bs=[{provide:le,useFactory:function(){return"function"==typeof zr()?new ho:new jn}},{provide:ki,useValue:"BrowserAnimations"},..._s],yo=[{provide:le,useClass:pe},{provide:ki,useValue:"NoopAnimations"},..._s];let _o=(()=>{class b{static withConfig(o){return{ngModule:b,providers:o.disableAnimations?yo:bs}}}return b.\u0275fac=function(o){return new(o||b)},b.\u0275mod=a.\u0275\u0275defineNgModule({type:b}),b.\u0275inj=a.\u0275\u0275defineInjector({providers:bs,imports:[g.b2]}),b})();var un=l(6435);const Li={properties:{id:{type:"string",description:"Id"},name:{type:"string",description:"Name"},shortName:{type:"string",description:"Short name"},description:{type:"string",description:"Description"},startUrl:{type:"string",description:"Start url"},icons:{type:"array",description:"Icons",items:{type:"object",properties:{src:{type:"string",description:"Src"},sizes:{type:"string",description:"Sizes"},type:{type:"string",description:"Type"}},required:["src","sizes","type"]}},themeColor:{type:"string",description:"Theme color"},backgroundColor:{type:"string",description:"Background color"},screenshots:{type:"array",description:"Screenshots",items:{type:"object",properties:{src:{type:"string",description:"Src"},sizes:{type:"string",description:"Sizes"},type:{type:"string",description:"Type"},platform:{type:"string",description:"Platform"},label:{type:"string",description:"Label"}},required:["src","sizes","type","platform","label"]}},iarcRatingId:{type:"string",description:"IARC rating id"},categories:{type:"array",description:"Categories",items:{type:"string",description:"Category"}},additionalProperties:{type:"object",description:"Additional properties",properties:{permissions:{type:"array",description:"Permissions",items:{type:"object",properties:{kind:{type:"string",description:"Kind",enum:["collection"]},mode:{type:"string",description:"Mode",enum:["read","write","delete"]},target:{type:"string",description:"Target"}},required:["kind","mode","target"]}},internal:{type:"boolean",description:"Internal"},starred:{type:"boolean",description:"Internal"},defaultShortcut:{type:"string",description:"Default shortcut"},sidebarShortcuts:{type:"array",description:"Sidebar shortcuts",items:{type:"string",description:"Sidebar shortcut"}}}},shortcuts:{type:"array",description:"Shortcuts",items:{type:"object",properties:{name:{type:"string",description:"Name"},url:{type:"string",description:"Url"},icons:{type:"array",description:"Icons",items:{type:"object",properties:{src:{type:"string",description:"Src"},sizes:{type:"string",description:"Sizes"},type:{type:"string",description:"Type"}},required:["src","sizes","type"]}},shortName:{type:"string",description:"Short name"},description:{type:"string",description:"Description"}},required:["name","url"]}},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","name","startUrl","createdAt","updatedAt"]},Ta={provide:un.RY,useValue:{name:"storeapplications",creator:{schema:{title:"Store Store",description:"User Applications",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:Li.properties,required:["id","name","startUrl","createdAt","updatedAt"]}}},multi:!0},Ma={provide:un.RY,useValue:{name:"userapplications",creator:{schema:{title:"User Applications",description:"User Applications",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:Li.properties,required:["id","name","startUrl","createdAt","updatedAt"]}}},multi:!0},xa={provide:un.RY,useValue:{name:"usertopics",creator:{schema:{title:"User Topics",description:"User Topics",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},title:{type:"string",description:"Title"},description:{type:"string",description:"Description"},icon:{type:"string",description:"Icon"},themeColor:{type:"string",description:"Theme color"},background:{type:"string",description:"Background color"},applications:{type:"array",description:"applications",items:{type:"string",description:"applications"}},categories:{type:"array",description:"Categories",items:{type:"string",description:"Category"}},shortcuts:{type:"array",description:"Shortcuts",items:{type:"string",description:"Shortcut"}},media:{type:"array",description:"Media",items:{type:"object",description:"MediaContent"}},triggers:{type:"array",description:"Shortcuts",items:{type:"object",description:"Shortcut"}},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","title","createdAt","updatedAt"]}}},multi:!0};var Je=l(899),Bi=l(4995);const Wr={provide:un.To,useValue:{name:"userapplications",upsert:!0,data:[{id:"com.central-factory.portal",name:"Central Factory Portal",description:"Central Factory Portal",startUrl:"/",icons:[{src:"assets/icons/mdi/open-in-app.svg",sizes:"512x512",type:"image/svg+xml"}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:Je.k.Collection,mode:Je.R.Read,target:"userpreferences"},{kind:Je.k.Collection,mode:Je.R.Read,target:"useravatars"},{kind:Je.k.Collection,mode:Je.R.Read,target:"userapplications"}]}},{id:"com.central-factory.start",name:"Start",description:"Access to many local and hosted web applications. Applications can be loaded through a webview or through a webpack module federation.",startUrl:"start",icons:[{src:"assets/icons/mdi/flare.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Start",url:"/start",icons:[{src:"assets/icons/mdi/flare.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:Je.k.Collection,mode:Je.R.Read,target:"userapplications"},{kind:Je.k.Collection,mode:Je.R.Write,target:"userapplications"},{kind:Je.k.Collection,mode:Je.R.Delete,target:"userapplications"},{kind:Je.k.Collection,mode:Je.R.Read,target:"storeapplications"},{kind:Je.k.Collection,mode:Je.R.Write,target:"storeapplications"},{kind:Je.k.Collection,mode:Je.R.Delete,target:"storeapplications"},{kind:Je.k.Collection,mode:Je.R.Read,target:"usertopics"},{kind:Je.k.Collection,mode:Je.R.Write,target:"usertopics"},{kind:Je.k.Collection,mode:Je.R.Delete,target:"usertopics"}],sidebarShortcuts:["Start"]}},{id:"com.central-factory.portals",name:"Portals",description:"Access to many local and hosted web applications. Applications can be loaded through a webview or through a webpack module federation.",startUrl:"portals",icons:[{src:"assets/icons/mdi/web-box.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portals",url:"/portals",icons:[{src:"assets/icons/mdi/web-box.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:Je.k.Collection,mode:Je.R.Read,target:"userapplications"},{kind:Je.k.Collection,mode:Je.R.Write,target:"userapplications"},{kind:Je.k.Collection,mode:Je.R.Delete,target:"userapplications"},{kind:Je.k.Collection,mode:Je.R.Read,target:"storeapplications"},{kind:Je.k.Collection,mode:Je.R.Write,target:"storeapplications"},{kind:Je.k.Collection,mode:Je.R.Delete,target:"storeapplications"}]}},{id:"com.central-factory.user-avatars",name:"User Avatars",description:"Avatars management module. Customize your user avatars.",startUrl:"user-avatars",icons:[{src:"assets/icons/mdi/account.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Selected Avatar",url:"/selected-avatar",icons:[{src:"assets/icons/mdi/account.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Select Avatar",url:"/select-avatar",icons:[{src:"assets/icons/mdi/account.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:Je.k.Collection,mode:Je.R.Read,target:"useravatars"},{kind:Je.k.Collection,mode:Je.R.Write,target:"useravatars"},{kind:Je.k.Collection,mode:Je.R.Delete,target:"useravatars"},{kind:Je.k.Collection,mode:Je.R.Read,target:"userpreferences"},{kind:Je.k.Collection,mode:Je.R.Write,target:"userpreferences"}],sidebarShortcuts:["Selected Avatar"]}},{id:"com.central-factory.inventory",name:"Inventory",description:"Assets management module. Manage and preview your assets.",startUrl:"inventory",icons:[{src:"assets/icons/mdi/bag-personal.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Inventory",url:"/inventory",icons:[{src:"assets/icons/mdi/bag-personal.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:Je.k.Collection,mode:Je.R.Read,target:"userassets"},{kind:Je.k.Collection,mode:Je.R.Write,target:"userassets"},{kind:Je.k.Collection,mode:Je.R.Delete,target:"userassets"}],sidebarShortcuts:["Inventory"]}},{id:"com.central-factory.marketplace",name:"Marketplace",description:"Portal Marketplace. Sell your assets and acquire new ones.",startUrl:"marketplace",icons:[{src:"assets/icons/mdi/store.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Marketplace",url:"/marketplace",icons:[{src:"assets/icons/mdi/store.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:Je.k.Collection,mode:Je.R.Read,target:"userassets"},{kind:Je.k.Collection,mode:Je.R.Write,target:"userassets"},{kind:Je.k.Collection,mode:Je.R.Delete,target:"userassets"}],sidebarShortcuts:["Marketplace"]}},{id:"com.central-factory.settings",name:"Settings",description:"Customize your portal experience. Manage your preferences.",startUrl:"settings",icons:[{src:"assets/icons/mdi/cog.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Settings",url:"/settings",icons:[{src:"assets/icons/mdi/cog.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{internal:!0,author:{id:"com.central-factory",name:"Central Factory"},permissions:[{kind:Je.k.Collection,mode:Je.R.Read,target:"userpreferences"},{kind:Je.k.Collection,mode:Je.R.Write,target:"userpreferences"}],sidebarShortcuts:["Settings"]}},{id:"com.central-factory.codex",name:"Codex",description:"Official documentation for the Central Factory Metaverse",startUrl:"codex",categories:["productivity"],icons:[{src:"assets/icons/mdi/book-open-page-variant.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Codex",url:"https://www.aitorllamas.com/metaverse/apps/codex",icons:[{src:"assets/icons/mdi/book-open-page-variant.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},renderingType:Bi.B.Webview,supportsBrowser:!0,internal:!1,permissions:[],defaultShortcut:"Codex",sidebarShortcuts:[],colors:[{variation:Bi.c.Primary,color:"#706fd3"}]}}]},multi:!0},La={provide:un.To,useValue:{name:"usertopics",upsert:!0,data:[{id:"morning.routine",icon:"assets/icons/mdi/weather-sunny.svg",title:"Morning Routine",applications:["com.ibm.weather","com.feedly.feedly","com.spotify.player","com.google.calendar","com.google.mail","com.microsoft.todo.live"],triggers:[{name:"Every morning",rules:{startTime:"06:00",endTime:"09:00"}}]},{id:"plan.day",icon:"assets/icons/mdi/account-check.svg",title:"Plan your day",applications:["com.google.calendar","com.google.mail","com.microsoft.todo.live"],triggers:[{name:"Every morning",rules:{startTime:"09:00",endTime:"10:00"}}]},{id:"work.matrix",icon:"assets/icons/mdi/account-network.svg",title:"Work at The Matrix",applications:["com.microsoft.teams","com.microsoft.outlook.office","com.microsoft.azure","com.microsoft.onedrive","com.microsoft.onenote","com.slack.slack","com.atlassian.jira","com.atlassian.confluence"],triggers:[{name:"Every morning",rules:{startTime:"10:00",endTime:"14:00"}},{name:"Every afternoon",rules:{startTime:"14:00",endTime:"18:00"}}]},{id:"coding.night",icon:"assets/icons/mdi/account-network.svg",title:"Coding Night",applications:["com.google.search","com.ivoox.player","com.spotify.player","com.google.youtube","com.stackexchange.overflow","com.templarian.materialdesignicons","com.brandcolors.brandcolors","com.simpleicons.simpleicons","com.discord.discord"],shortcuts:["com.microsoft.github#PullRequests","com.google.youtube#Subscriptions","com.spotify.player#Library"],categories:["devtools","productivity"],triggers:[{name:"Every night",rules:{startTime:"18:00",endTime:"23:59"}},{name:"Every morning",rules:{startTime:"00:00",endTime:"03:00"}}]},{id:"play.games",icon:"assets/icons/mdi/google-controller.svg",title:"Play Games",applications:["com.microsoft.xbox","com.valve.steam","com.nintendo.my"],triggers:[{name:"Every night",rules:{startTime:"18:00",endTime:"23:59"}},{name:"Every morning",rules:{startTime:"00:00",endTime:"03:00"}}]}]},multi:!0},qn={provide:un.RY,useValue:{name:"userassets",creator:{schema:{title:"User Assets",description:"User assets",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},name:{type:"string",description:"Name"},model:{type:"string",description:"Model"},description:{type:"string",description:"Description"},digital:{type:"boolean",description:"Digital"},private:{type:"boolean",description:"Private"},kind:{type:"string",description:"Kind",enum:["unknown","currency","land","material","building","equipment","furniture","machine","vehicle","media-resource","other"]},url:{type:"string",description:"Url"},previewUrl:{type:"string",description:"Preview url"},currentValue:{type:"object",description:"Current value",properties:{usd:{type:"string",description:"Usd"},eth:{type:"string",description:"Eth"}}},purchaseValue:{type:"object",description:"Purchase value",properties:{usd:{type:"string",description:"Usd"},eth:{type:"string",description:"Eth"}}},purchaseDate:{format:"date-time",type:"string"},data:{type:"object",description:"Data"},owner:{type:"string",description:"Owner"},producer:{type:"string",description:"Producer"},permissions:{type:"array",description:"Permissions",items:{type:"object",description:"Permission"}},createdAt:{format:"date-time",type:"string",description:"Created at"},updatedAt:{format:"date-time",type:"string",description:"Updated at"}}}}},multi:!0},bo={type:"object",description:"Appearance",properties:{format:{type:"string"},src:{type:"string"},smallPreviewUrl:{type:"string"},previewCamera:{type:"object",properties:{position:{type:"string"},rotation:{type:"string"},scale:{type:"string"}}}}},Fa={provide:un.RY,useValue:{name:"useravatars",creator:{schema:{title:"User Avatars",description:"User Avatars",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},welcomeMessage:{type:"string",description:"Welcome message"},name:{type:"string",description:"Name"},title:{type:"string",description:"Title"},selectedAppearance:bo,appearances:{type:"array",description:"Appearances",items:bo},scopes:{type:"array",description:"Scopes",items:{type:"object",properties:{integration:{type:"string",description:"Integration"},domain:{type:"string",description:"Domain"},scope:{type:"string",description:"Scope"}}}},skills:{type:"array",description:"Skills",items:{type:"object",properties:{domain:{type:"string",description:"Domain"},scope:{type:"string",description:"Scope"},skill:{type:"string",description:"Skill"}}}},createdAt:{format:"date-time",type:"string",description:"Created at"},updatedAt:{format:"date-time",type:"string",description:"Updated at"}},attachments:{encrypted:!1}}}},multi:!0},ja={provide:un.RY,useValue:{name:"applicationpermissions",creator:{schema:{title:"Application Permissions",description:"Application Permissions",version:0,keyCompression:!0,primaryKey:{key:"id",fields:["appId","kind","mode","target"],separator:":"},type:"object",properties:{id:{type:"string",description:"Id"},appId:{type:"string",description:"AppId"},kind:{type:"string",description:"Kind",enum:["collection"]},mode:{type:"string",description:"Mode",enum:["read","write","delete"]},target:{type:"string",description:"Target"},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","appId","kind","mode","target"],encrypted:["kind","mode","target"]}}},multi:!0},mi={provide:un.RY,useValue:{name:"userpreferences",creator:{schema:{title:"User Preferences",description:"User preferences",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},key:{type:"string",description:"Key"},value:{description:"Value"},avatar:{type:"string"},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","value"]}}},multi:!0},Fi={production:!1,demo:!0,useMocks:!0,autologin:!0,showSplashScreen:!1,repositoryUrl:"https://raw.githubusercontent.com/central-factory/web-application-manifests/main",webUrl:"http://localhost:3000",documentationUrl:"http://localhost:3000/docs",blogUrl:"http://localhost:3000/blog",developersUrl:"http://localhost:3000/developers"},ji={provide:un.To,useValue:{name:"userpreferences",upsert:!1,data:[{id:"settings.customization",key:"settings.customization",value:{theme:{name:"Metaverse",path:"assets/themes/metaverse/variables.css"}}},{id:"settings.customization.1",key:"settings.customization.1",value:{theme:{name:"Metaverse",path:"assets/themes/metaverse/variables.css"}}},{id:"settings.customization.2",key:"settings.customization.2",value:{theme:{name:"Bubbles",path:"assets/themes/bubbles/variables.css"}}},{id:"settings.customization.3",key:"settings.customization.3",value:{theme:{name:"Default",path:"assets/themes/default/variables.css"}}},{id:"store.settings.repositories",key:"store.settings.repositories",value:[{label:"The Central Factory",url:`${Fi.repositoryUrl}/applications.json`}]}]},multi:!0};var Eo=l(43),Ss=l(4438),za=l(2085),ws=l(2051);let Tu=(()=>{class b{}return b.\u0275fac=function(o){return new(o||b)},b.\u0275mod=a.\u0275\u0275defineNgModule({type:b}),b.\u0275inj=a.\u0275\u0275defineInjector({}),b})(),$a=(()=>{class b{}return b.\u0275fac=function(o){return new(o||b)},b.\u0275mod=a.\u0275\u0275defineNgModule({type:b}),b.\u0275inj=a.\u0275\u0275defineInjector({}),b})(),So=(()=>{class b{}return b.\u0275fac=function(o){return new(o||b)},b.\u0275mod=a.\u0275\u0275defineNgModule({type:b}),b.\u0275inj=a.\u0275\u0275defineInjector({imports:[[Un.CommonModule,Ss.O,ws.Y,Tu,$a]]}),b})();var Rn=l(5088),Et=(()=>{return(b=Et||(Et={})).Body="body",b.Head="head",b.Ears="ears",b.Face="face",b.Eyes="eyes",b.Nose="nose",b.Mouth="mouth",b.Neck="neck",b.Chest="chest",b.Waist="waist",b.Back="back",b.Arms="arms",b.RightArm="right-arm",b.LeftArm="left-arm",b.Wrist="wrist",b.Hands="hands",b.RightHand="right-hand",b.LeftHand="left-hand",b.Legs="legs",b.RightLeg="right-leg",b.LeftLeg="left-leg",b.Feet="feet",b.RightFoot="right-foot",b.LeftFoot="left-foot",b.Finger="finger",Et;var b})();const gi={id:"1",name:"Raven's Cloak",model:"Raven's Cloak",producer:"Shop5363155 Store",owner:"Metam",description:"Microfiber hooded cloak with fleece lining",kind:Rn.R.Equipment,previewUrl:"https://i.imgur.com/ukcsu1q.png",url:"https://es.aliexpress.com/item/1005001952208453.html",currentValue:{usd:"23.62",eth:"0.0070218623"},purchaseValue:{usd:"23.62",eth:"0.0070218623"},purchaseDate:(new Date).toISOString(),digital:!1,private:!0,data:{allowedSlots:[Et.Back],colors:["#ff0000","#00ff00","#0000ff"],isEquipped:!1}},Ui={id:"2",name:"Foundation's Coat",model:"Foundation's Coat",producer:"Shop1948549 Store",owner:"Metam",description:"Hooded coat with thick fleece lining",kind:Rn.R.Equipment,previewUrl:"https://i.imgur.com/w1XmjIj.png",url:"https://es.aliexpress.com/item/1005003209038453.html",currentValue:{usd:"43.9",eth:"0.01305079404"},purchaseValue:{usd:"43.9",eth:"0.01305079404"},purchaseDate:(new Date).toISOString(),digital:!1,private:!0,data:{allowedSlots:[Et.Chest],colors:["#ff0000","#00ff00","#0000ff"],isEquipped:!1}},Dr=((new Date).toISOString(),{provide:un.To,useValue:{name:"userassets",upsert:!0,data:[gi,Ui]},multi:!0});var Sn=l(120);const Cs={provide:un.To,useValue:{name:"useravatars",upsert:!0,data:[{id:"1",welcomeMessage:"Hello!",name:"Thomas Anderson",title:"Software Engineer",selectedAppearance:{id:"2",filename:"appearance.glb",format:Sn.g.Model,src:"assets/avatars/samples/thomas-anderson/default/appearance.glb",portrait:{id:"5a6ecf92-141f-46ca-aa9f-b67c009a5df1",filename:"portrait.png",format:Sn.g.Image,src:"assets/avatars/samples/thomas-anderson/default/portrait.png"}},appearances:[{id:"1",filename:"appearance.glb",format:Sn.g.Model,src:"assets/avatars/samples/thomas-anderson/neo/appearance.glb",portrait:{id:"690798c7-9bf0-45ce-b76a-7982ee119322",filename:"portrait.png",format:Sn.g.Image,src:"assets/avatars/samples/thomas-anderson/neo/portrait.png"},previewCamera:{position:"0 1.5 0.7",rotation:"-5 0 0",scale:"0.4 0.4 0.4"}},{id:"2",filename:"50f2bc3a-fe0c-4036-8546-15a2bc63c1cf",format:Sn.g.Model,src:"assets/avatars/samples/thomas-anderson/default/appearance.glb",portrait:{id:"5a6ecf92-141f-46ca-aa9f-b67c009a5df1",filename:"portrait.png",format:Sn.g.Image,src:"assets/avatars/samples/thomas-anderson/default/portrait.png"},previewCamera:{position:"0 1.5 0.7",rotation:"-5 0 0",scale:"1 1 1"}}],scopes:[{integration:"CF",domain:"Calendars",scope:"manage"},{integration:"Google",domain:"Calendars",scope:"manage"},{integration:"NFT",domain:"Tokens",scope:"manage"}],skills:[{domain:"calendar",scope:"manage",skill:"create"},{domain:"event",scope:"manage",skill:"create"},{domain:"assets",scope:"manage",skill:"trade"}]},{id:"2",welcomeMessage:"Hello!",name:"Elliot Alderson",title:"Software Engineer",selectedAppearance:{id:"1",filename:"appearance.glb",format:Sn.g.Model,src:"assets/avatars/samples/elliot-alderson/default/appearance.glb",portrait:{id:"74f583ff-8c6d-4433-9aa4-4d4a7903dac4",filename:"portrait.png",format:Sn.g.Image,src:"assets/avatars/samples/elliot-alderson/default/portrait.png"}},appearances:[{id:"1",filename:"appearance.glb",format:Sn.g.Model,src:"assets/avatars/samples/elliot-alderson/default/appearance.glb",portrait:{id:"4d84c56a-f62b-4df1-a566-a5124cf4f75a",filename:"portrait.png",format:Sn.g.Image,src:"assets/avatars/samples/elliot-alderson/default/portrait.png"}}],scopes:[],skills:[]},{id:"3",welcomeMessage:"Hello!",name:"Alan Turing",title:"Software Engineer",selectedAppearance:{id:"3",format:Sn.g.Model,src:"assets/avatars/samples/alan-turing/default/appearance.glb",filename:"appearance.glb",portrait:{id:"8eccca39-ba05-4cf5-a106-3dffd9f563b0",filename:"portrait.png",format:Sn.g.Image,src:"assets/avatars/samples/alan-turing/default/portrait.png"}},appearances:[{id:"3",filename:"appearance.glb",format:Sn.g.Model,src:"assets/avatars/samples/alan-turing/default/appearance.glb",portrait:{id:"ab321f41-8a46-42b4-9e42-29f95042d734",filename:"portrait.png",format:Sn.g.Image,src:"assets/avatars/samples/alan-turing/default/portrait.png"}}],scopes:[],skills:[]}]},multi:!0};var Hr=l(3905);let Co=(()=>{class b{static forRoot({enabled:o=!1,autologin:m=!1}){const x=[];return o&&(x.push(Cs),x.push(Dr)),m&&x.push({provide:a.APP_INITIALIZER,useFactory:W=>()=>(0,Hr.z)(W.setupDatabase("test","test1234")),deps:[un.v2],multi:!0}),{ngModule:b,providers:x}}}return b.\u0275fac=function(o){return new(o||b)},b.\u0275mod=a.\u0275\u0275defineNgModule({type:b}),b.\u0275inj=a.\u0275\u0275defineInjector({}),b})();var wn=l(428),Kn=l(3900),er=l(4004),In=l(8505);const vr=new a.InjectionToken("ON_DATABASE_CREATED_GUARD_FAILURE_REDIRECT_TOKEN",{providedIn:"root",factory:()=>"/select-avatar"});let vn=(()=>{class b{constructor(o,m,x){this.entityManager=o,this.router=m,this.failureRedirectTo=x}canActivate(){return this.entityManager.getRepository("userpreferences","com.central-factory.user-avatars").pipe((0,Kn.w)(o=>o.findOne({selector:{id:"userAvatars.selectedAvatar"}})),(0,er.U)(o=>!(!o||!o.value)),(0,In.b)(o=>{o||this.router.navigate([this.failureRedirectTo])}))}}return b.\u0275fac=function(o){return new(o||b)(a.\u0275\u0275inject(un.v2),a.\u0275\u0275inject(wn.Router),a.\u0275\u0275inject(vr))},b.\u0275prov=a.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const $i=new a.InjectionToken("ON_DATABASE_CREATED_GUARD_FAILURE_REDIRECT_TOKEN",{providedIn:"root",factory:()=>"/login"});let Mn=(()=>{class b{constructor(o,m,x){this.entityManager=o,this.router=m,this.failureRedirectTo=x}canActivate(){const o=this.entityManager.isDatabaseCreated();return o||this.router.navigate([this.failureRedirectTo]),o}}return b.\u0275fac=function(o){return new(o||b)(a.\u0275\u0275inject(un.v2),a.\u0275\u0275inject(wn.Router),a.\u0275\u0275inject($i))},b.\u0275prov=a.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();const Wi=new a.InjectionToken("ON_NOT_DATABASE_CREATED_GUARD_FAILURE_REDIRECT_TOKEN",{providedIn:"root",factory:()=>"/"});let Ki=(()=>{class b{constructor(o,m,x){this.entityManager=o,this.router=m,this.failureRedirectTo=x}canActivate(){const o=this.entityManager.isDatabaseCreated();return o&&this.router.navigate([this.failureRedirectTo]),!o}}return b.\u0275fac=function(o){return new(o||b)(a.\u0275\u0275inject(un.v2),a.\u0275\u0275inject(wn.Router),a.\u0275\u0275inject(Wi))},b.\u0275prov=a.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();var Or=l(6961),tr=l(4918),dn=l(7165);(0,p.oQ)([(0,p.oB)({transform:"translate3d(0, 0, 0)"}),(0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"translate3d(0, 0, 0)",offset:.2}),(0,p.oB)({transform:"translate3d(0, -30px, 0)",offset:.4}),(0,p.oB)({transform:"translate3d(0, 0, 0)",offset:.53}),(0,p.oB)({transform:"translate3d(0, -15px, 0)",offset:.7}),(0,p.oB)({transform:"translate3d(0, -4px, 0)",offset:.9}),(0,p.oB)({transform:"translate3d(0, 0, 0)",offset:1})]))],{params:{timing:1,delay:0}}),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:1}),(0,p.oB)({opacity:0}),(0,p.oB)({opacity:1}),(0,p.oB)({opacity:0}),(0,p.oB)({opacity:1})])),{params:{timing:1,delay:0}}),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"scale3d(1, 1, 1)"}),(0,p.oB)({transform:"scale3d({{ scale }}, {{ scale }}, {{ scale }})"}),(0,p.oB)({transform:"scale3d(1, 1, 1)"})])),{params:{scale:1.25,timing:1,delay:0}}),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"scale3d(1, 1, 1)",offset:0}),(0,p.oB)({transform:"scale3d(1.25, 0.75, 1)",offset:.3}),(0,p.oB)({transform:"scale3d(0.75, 1.25, 1)",offset:.4}),(0,p.oB)({transform:"scale3d(1.15, 0.85, 1)",offset:.5}),(0,p.oB)({transform:"scale3d(.95, 1.05, 1)",offset:.65}),(0,p.oB)({transform:"scale3d(1.05, .95, 1)",offset:.75}),(0,p.oB)({transform:"scale3d(1, 1, 1)",offset:1})])),{params:{timing:1,delay:0}}),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"translate3d(0, 0, 0)",offset:0}),(0,p.oB)({transform:"translate3d(-10px, 0, 0)",offset:.1}),(0,p.oB)({transform:"translate3d(10px, 0, 0)",offset:.2}),(0,p.oB)({transform:"translate3d(-10px, 0, 0)",offset:.3}),(0,p.oB)({transform:"translate3d(10px, 0, 0)",offset:.4}),(0,p.oB)({transform:"translate3d(-10px, 0, 0)",offset:.5}),(0,p.oB)({transform:"translate3d(10px, 0, 0)",offset:.6}),(0,p.oB)({transform:"translate3d(-10px, 0, 0)",offset:.7}),(0,p.oB)({transform:"translate3d(10px, 0, 0)",offset:.8}),(0,p.oB)({transform:"translate3d(-10px, 0, 0)",offset:.9}),(0,p.oB)({transform:"translate3d(0, 0, 0)",offset:1})])),{params:{timing:1,delay:0}}),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"rotate3d(0, 0, 1, 15deg)",offset:.2}),(0,p.oB)({transform:"rotate3d(0, 0, 1, -10deg)",offset:.4}),(0,p.oB)({transform:"rotate3d(0, 0, 1, 5deg)",offset:.6}),(0,p.oB)({transform:"rotate3d(0, 0, 1, -5deg)",offset:.8}),(0,p.oB)({transform:"rotate3d(0, 0, 1, 0deg)",offset:1})])),{params:{timing:1,delay:0}}),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"scale3d(1, 1, 1)",offset:0}),(0,p.oB)({transform:"scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg)",offset:.1}),(0,p.oB)({transform:"scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg)",offset:.2}),(0,p.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)",offset:.3}),(0,p.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)",offset:.4}),(0,p.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)",offset:.5}),(0,p.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)",offset:.6}),(0,p.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)",offset:.7}),(0,p.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)",offset:.8}),(0,p.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)",offset:.9}),(0,p.oB)({transform:"scale3d(1, 1, 1)",offset:1})])),{params:{timing:1,delay:0}}),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"none",offset:0}),(0,p.oB)({transform:"translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg)",offset:.15}),(0,p.oB)({transform:"translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg)",offset:.3}),(0,p.oB)({transform:"translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg)",offset:.45}),(0,p.oB)({transform:"translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg)",offset:.6}),(0,p.oB)({transform:"translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg)",offset:.75}),(0,p.oB)({transform:"none",offset:1})])),{params:{timing:1,delay:0}}),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"none",offset:0}),(0,p.oB)({transform:"none",offset:.11}),(0,p.oB)({transform:"skewX(-12.5deg) skewY(-12.5deg)",offset:.22}),(0,p.oB)({transform:"skewX(6.25deg) skewY(6.25deg)",offset:.33}),(0,p.oB)({transform:"skewX(-3.125deg) skewY(-3.125deg)",offset:.44}),(0,p.oB)({transform:"skewX(1.5625deg) skewY(1.5625deg)",offset:.55}),(0,p.oB)({transform:"skewX(-0.78125deg) skewY(-0.78125deg)",offset:.66}),(0,p.oB)({transform:"skewX(0.390625deg) skewY(0.390625deg)",offset:.77}),(0,p.oB)({transform:"skewX(-0.1953125deg) skewY(-0.1953125deg)",offset:.88}),(0,p.oB)({transform:"none",offset:1})])),{params:{timing:1,delay:0}});const Ka=(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.215, 0.610, 0.355, 1.000)",(0,p.F4)([(0,p.oB)({opacity:0,transform:"scale3d(.3, .3, .3)",offset:0}),(0,p.oB)({transform:"scale3d(1.1, 1.1, 1.1)",offset:.2}),(0,p.oB)({transform:"scale3d(.9, .9, .9)",offset:.4}),(0,p.oB)({opacity:1,transform:"scale3d(1.03, 1.03, 1.03)",offset:.6}),(0,p.oB)({transform:"scale3d(.97, .97, .97)",offset:.8}),(0,p.oB)({opacity:1,transform:"scale3d(1, 1, 1)",offset:1})])),{params:{timing:1,delay:0}});function Ir(b,u,o,m){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.215, 0.610, 0.355, 1.000)",(0,p.F4)([(0,p.oB)({opacity:0,transform:"translate3d(0, {{ a }}, 0)",offset:0}),(0,p.oB)({opacity:1,transform:"translate3d(0, {{ b }}, 0)",offset:.6}),(0,p.oB)({transform:"translate3d(0, {{ c }}, 0)",offset:.75}),(0,p.oB)({transform:"translate3d(0, {{ d }}, 0)",offset:.9}),(0,p.oB)({opacity:1,transform:"none",offset:1})])),{params:{timing:1,delay:0,a:b,b:u,c:o,d:m}})}function Ps(b,u,o,m){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.215, 0.610, 0.355, 1.000)",(0,p.F4)([(0,p.oB)({opacity:0,transform:"translate3d({{ a }}, 0, 0)",offset:0}),(0,p.oB)({opacity:1,transform:"translate3d({{ b }}, 0, 0)",offset:.6}),(0,p.oB)({transform:"translate3d({{ c }}, 0, 0)",offset:.75}),(0,p.oB)({transform:"translate3d({{ d }}, 0, 0)",offset:.9}),(0,p.oB)({opacity:1,transform:"none",offset:1})])),{params:{timing:1,delay:0,a:b,b:u,c:o,d:m}})}function Oo(b,u,o,m){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"translate3d(0, {{ a }}, 0)",offset:.2}),(0,p.oB)({opacity:1,transform:"translate3d(0, {{ b }}, 0)",offset:.4}),(0,p.oB)({opacity:1,transform:"translate3d(0, {{ c }}, 0)",offset:.45}),(0,p.oB)({opacity:0,transform:"translate3d(0, {{ d }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:b,b:u,c:o,d:m}})}function nr(b,u){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:1,transform:"translate3d({{ a }}, 0, 0)",offset:.2}),(0,p.oB)({opacity:0,transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:b,b:u}})}function _i(b,u){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:0,transform:"translate3d({{ a }}, 0, 0)",offset:0}),(0,p.oB)({opacity:1,transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:b,b:u}})}function Vi(b,u){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:0,transform:"translate3d(0, {{ a }}, 0)",offset:0}),(0,p.oB)({opacity:1,transform:"translate3d(0, {{ b }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:b,b:u}})}Ir("-3000px","25px","-10px","5px"),Ir("3000px","-25px","10px","-5px"),Ps("-3000px","25px","-10px","5px"),Ps("3000px","-25px","10px","-5px"),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"scale3d(.9, .9, .9)",offset:.2}),(0,p.oB)({opacity:1,transform:"scale3d({{ scale }}, {{ scale }}, {{ scale }})",offset:.5}),(0,p.oB)({opacity:1,transform:"scale3d({{ scale }}, {{ scale }}, {{ scale }})",offset:.55}),(0,p.oB)({opacity:0,transform:"scale3d(.3, .3, .3)",offset:1})])),{params:{timing:1,delay:0,scale:1.1}}),Oo("10px","-20px","-20px","2000px"),Oo("-10px","20px","20px","-2000px"),nr("20px","-2000px"),nr("-20px","2000px"),_i(0,0),Vi("-100%",0);const Gi=Vi("100%",0);function Rr(b,u){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:1,transform:"translate3d({{ a }}, 0, 0)",offset:0}),(0,p.oB)({opacity:0,transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:b,b:u}})}function Ts(b,u){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:1,transform:"translate3d(0, {{ a }}, 0)",offset:0}),(0,p.oB)({opacity:0,transform:"translate3d(0, {{ b }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:b,b:u}})}function rr(b,u){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"translate3d({{ a }}, 0, 0)",offset:0}),(0,p.oB)({transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:b,b:u}})}function Zr(b,u){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"translate3d(0, {{ a }}, 0)",offset:0}),(0,p.oB)({transform:"translate3d(0, {{ b }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:b,b:u}})}function _(b,u){return(0,p.oQ)([(0,p.oB)({"backface-visibility":"visible"}),(0,p.jt)("{{ timing }}s {{ delay }}s ease-in",(0,p.F4)([(0,p.oB)({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:0}),(0,p.oB)({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.4}),(0,p.oB)({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 10deg)",offset:.6}),(0,p.oB)({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -5deg)",offset:.8}),(0,p.oB)({transform:"perspective(400px) rotate3d(0, 0, 0, 0)",offset:1})]))],{params:{timing:1,delay:0,rotateX:b,rotateY:u}})}function ae(b,u){return(0,p.oQ)([(0,p.oB)({"backface-visibility":"visible"}),(0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({transform:"perspective(400px)",offset:0}),(0,p.oB)({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.3}),(0,p.oB)({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:1})]))],{params:{timing:1,delay:0,rotateX:b,rotateY:u}})}function lt(b,u){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({"transform-origin":"{{ origin }}",opacity:0,transform:"rotate3d(0, 0, 1, {{ degrees }})",offset:0}),(0,p.oB)({"transform-origin":"{{ origin }}",opacity:1,transform:"none",offset:1})])),{params:{timing:1,delay:0,origin:b,degrees:u}})}function Jt(b,u){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({"transform-origin":"{{ origin }}",opacity:1,transform:"none",offset:0}),(0,p.oB)({"transform-origin":"{{ origin }}",opacity:0,transform:"rotate3d(0, 0, 1, {{ degrees }})",offset:1})])),{params:{timing:1,delay:0,origin:b,degrees:u}})}function tu(b,u){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.550, 0.055, 0.675, 0.190)",(0,p.F4)([(0,p.oB)({opacity:0,transform:"scale3d(.1, .1, .1) translate3d(0, {{ a }}, 0)",offset:0}),(0,p.oB)({opacity:1,transform:"scale3d(.475, .475, .475) translate3d(0, {{ b }}, 0)",offset:.6})])),{params:{timing:1,delay:0,a:b,b:u}})}function nu(b,u){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.550, 0.055, 0.675, 0.190)",(0,p.F4)([(0,p.oB)({opacity:0,transform:"scale3d(.1, .1, .1) translate3d({{ a }}, 0, 0)",offset:0}),(0,p.oB)({opacity:1,transform:"scale3d(.475, .475, .475) translate3d({{ b }}, 0, 0)",offset:.6})])),{params:{timing:1,delay:0,a:b,b:u}})}function ru(b,u){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.550, 0.055, 0.675, 0.190)",(0,p.F4)([(0,p.oB)({opacity:1,transform:"scale3d(.475, .475, .475) translate3d(0, {{ a }}, 0)",offset:.4}),(0,p.oB)({opacity:0,transform:"scale3d(.1, .1, .1) translate3d(0, {{ b }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:b,b:u}})}function iu(b,u){return(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.550, 0.055, 0.675, 0.190)",(0,p.F4)([(0,p.oB)({opacity:1,transform:"scale3d(.475, .475, .475) translate3d({{ a }}, 0, 0)",offset:.4}),(0,p.oB)({opacity:0,transform:"scale3d(.1, .1, .1) translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:b,b:u}})}_i("-100%",0),_i("100%",0),Rr(0,0),Ts("-100%",0),Ts("100%",0),Rr("-100%",0),Rr("100%",0),Zr("-100%",0),Zr("100%",0),rr("-100%",0),rr("100%",0),Zr(0,"-100%"),Zr(0,"100%"),rr(0,"-100%"),rr(0,"100%"),(0,p.oQ)([(0,p.oB)({"backface-visibility":"visible"}),(0,p.jt)("{{ timing }}s {{ delay }}s ease-out",(0,p.F4)([(0,p.oB)({transform:"perspective(400px) rotate3d(0, 1, 0, -360deg)",offset:0}),(0,p.oB)({transform:"perspective(400px) scale3d(1.5, 1.5, 1.5) rotate3d(0, 1, 0, -190deg)",offset:.4}),(0,p.oB)({transform:"perspective(400px) scale3d(1.5, 1.5, 1.5) rotate3d(0, 1, 0, -170deg)",offset:.5}),(0,p.oB)({transform:"perspective(400px) scale3d(.95, .95, .95)",offset:.8}),(0,p.oB)({transform:"perspective(400px)",offset:1})]))],{params:{timing:1,delay:0}}),_(1,0),_(0,1),ae(1,0),ae(0,1),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:0,transform:"translate3d(100%, 0, 0) skewX(-30deg)",offset:0}),(0,p.oB)({opacity:1,transform:"translate3d(0, 0, 0) skewX(0)",offset:1})])),{params:{timing:1,delay:0}}),(0,p.oQ)((0,p.jt)("{{ timing }}s {{ delay }}s ease-out",(0,p.F4)([(0,p.oB)({opacity:1,offset:0}),(0,p.oB)({opacity:0,transform:"translate3d(100%, 0, 0) skewX(30deg)",offset:1})])),{params:{timing:1,delay:0}}),lt("center","-200deg"),lt("left bottom","-45deg"),lt("right bottom","45deg"),lt("left bottom","45deg"),lt("right bottom","-90deg"),Jt("center","200deg"),Jt("left bottom","45deg"),Jt("right bottom","-45deg"),Jt("left bottom","-45deg"),Jt("right bottom","90deg"),(0,p.oQ)([(0,p.oB)({"transform-origin":"top left"}),(0,p.jt)("{{ timing }}s {{ delay }}s ease-in-out",(0,p.F4)([(0,p.oB)({transform:"rotate3d(0, 0, 1, 80deg)",offset:.2}),(0,p.oB)({transform:"rotate3d(0, 0, 1, 60deg)",offset:.4}),(0,p.oB)({transform:"rotate3d(0, 0, 1, 80deg)",offset:.6}),(0,p.oB)({opacity:1,transform:"rotate3d(0, 0, 1, 60deg)",offset:.8}),(0,p.oB)({opacity:0,transform:"translate3d(0, 700px, 0)",offset:1})]))],{params:{timing:1,delay:0}}),(0,p.oQ)([(0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:0,transform:"scale(0.1) rotate(30deg)","transform-origin":"center bottom",offset:0}),(0,p.oB)({opacity:.5,transform:"rotate(-10deg)",offset:.5}),(0,p.oB)({opacity:.7,transform:"rotate(3deg)",offset:.7}),(0,p.oB)({opacity:1,transform:"scale(1)",offset:1})]))],{params:{timing:1,delay:0}}),(0,p.oQ)([(0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:0,transform:"translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg)",offset:0}),(0,p.oB)({opacity:1,transform:"none",offset:1})]))],{params:{timing:1,delay:0}}),(0,p.oQ)([(0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:1,offset:0}),(0,p.oB)({opacity:0,transform:"translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg)",offset:1})]))],{params:{timing:1,delay:0}}),(0,p.oQ)([(0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:0,transform:"scale3d(.3, .3, .3)",offset:0}),(0,p.oB)({opacity:1,transform:"scale3d(1, 1, 1)",offset:.5})]))],{params:{timing:1,delay:0}}),tu("-1000px","10px"),tu("1000px","-10px"),nu("-1000px","10px"),nu("1000px","-10px"),(0,p.oQ)([(0,p.jt)("{{ timing }}s {{ delay }}s",(0,p.F4)([(0,p.oB)({opacity:1,offset:0}),(0,p.oB)({opacity:0,transform:"scale3d(.3, .3, .3)",offset:.5}),(0,p.oB)({opacity:0,offset:1})]))],{params:{timing:1,delay:0}}),ru("-60px","2000px"),ru("60px","-2000px"),iu("42px","-2000px"),iu("-42px","2000px");var su=l(7579),Lu=l(4128),ks=l(9300),bi=l(1884),Jr=l(2722),Ls=l(1623),Zi=l(7967),Ei=l(3454),Bu=l(5183),Fu=l(6111),Nu=l(405),Bo=l(8753),Yi=l(9750),Bs=l(5605);let Fo=(()=>{class b{constructor(){this.title="CF Portal",this.titleClick=new a.EventEmitter}onTitleClick(){this.titleClick.emit()}}return b.\u0275fac=function(o){return new(o||b)},b.\u0275cmp=a.\u0275\u0275defineComponent({type:b,selectors:[["cf-navbar"]],inputs:{environment:"environment",title:"title"},outputs:{titleClick:"titleClick"},decls:24,vars:10,consts:[["cfBlock","navbar"],["cfBlock","navbar-section","cfMod","left"],["cfElem","title",3,"click"],["cfElem","icon","src","assets/logo.svg",3,"svgClass"],["cfElem","text"],["cfBlock","navbar-section","cfMod","right"],["cfBlock","list","cfMod","horizontal"],["cfElem","item"],["src","assets/icons/mdi/web.svg","cfElem","icon",3,"svgClass"],["cfElem","link",3,"href"],["src","assets/icons/mdi/text-box-search-outline.svg","cfElem","icon",3,"svgClass"],["src","assets/icons/mdi/post-outline.svg","cfElem","icon",3,"svgClass"],["src","assets/icons/mdi/code-tags.svg","cfElem","icon",3,"svgClass"]],template:function(o,m){1&o&&(a.\u0275\u0275elementStart(0,"div",0),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275elementStart(2,"h1",2),a.\u0275\u0275listener("click",function(){return m.onTitleClick()}),a.\u0275\u0275element(3,"cf-svg-icon",3),a.\u0275\u0275elementStart(4,"span",4),a.\u0275\u0275text(5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(6,"div",5),a.\u0275\u0275elementStart(7,"ul",6),a.\u0275\u0275elementStart(8,"li",7),a.\u0275\u0275element(9,"cf-svg-icon",8),a.\u0275\u0275elementStart(10,"a",9),a.\u0275\u0275text(11,"Website"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"li",7),a.\u0275\u0275element(13,"cf-svg-icon",10),a.\u0275\u0275elementStart(14,"a",9),a.\u0275\u0275text(15,"Documentation"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(16,"li",7),a.\u0275\u0275element(17,"cf-svg-icon",11),a.\u0275\u0275elementStart(18,"a",9),a.\u0275\u0275text(19,"Blog"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(20,"li",7),a.\u0275\u0275element(21,"cf-svg-icon",12),a.\u0275\u0275elementStart(22,"a",9),a.\u0275\u0275text(23," Developers "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&o&&(a.\u0275\u0275advance(3),a.\u0275\u0275property("svgClass","icon__svg"),a.\u0275\u0275advance(2),a.\u0275\u0275textInterpolate(m.title),a.\u0275\u0275advance(4),a.\u0275\u0275property("svgClass","icon__svg"),a.\u0275\u0275advance(1),a.\u0275\u0275property("href",null==m.environment?null:m.environment.webUrl,a.\u0275\u0275sanitizeUrl),a.\u0275\u0275advance(3),a.\u0275\u0275property("svgClass","icon__svg"),a.\u0275\u0275advance(1),a.\u0275\u0275property("href",null==m.environment?null:m.environment.documentationUrl,a.\u0275\u0275sanitizeUrl),a.\u0275\u0275advance(3),a.\u0275\u0275property("svgClass","icon__svg"),a.\u0275\u0275advance(1),a.\u0275\u0275property("href",null==m.environment?null:m.environment.blogUrl,a.\u0275\u0275sanitizeUrl),a.\u0275\u0275advance(3),a.\u0275\u0275property("svgClass","icon__svg"),a.\u0275\u0275advance(1),a.\u0275\u0275property("href",null==m.environment?null:m.environment.developersUrl,a.\u0275\u0275sanitizeUrl))},directives:[Ls.G,Zi.I,Ei.e,Yi.b],encapsulation:2}),b})();const Fs=function(b){return{"button--active":b}};function ju(b,u){if(1&b){const o=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"a",19),a.\u0275\u0275listener("click",function(){const W=a.\u0275\u0275restoreView(o).$implicit;return a.\u0275\u0275nextContext(3).onSidebarItemClick(W)}),a.\u0275\u0275elementStart(2,"div",9),a.\u0275\u0275elementStart(3,"span",10),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"button",20),a.\u0275\u0275element(6,"cf-svg-icon",21),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()}if(2&b){const o=u.$implicit;a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(o.name),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(4,Fs,o.active)),a.\u0275\u0275advance(1),a.\u0275\u0275property("src",o.icon)("svgClass","icon__svg")}}const Uu=function(b){return{"background-color":b,"margin-top":"15px"}};function zu(b,u){if(1&b){const o=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",22),a.\u0275\u0275elementStart(1,"div",22),a.\u0275\u0275elementStart(2,"div",9),a.\u0275\u0275elementStart(3,"span",10),a.\u0275\u0275text(4),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(5,"button",23),a.\u0275\u0275listener("click",function(){const W=a.\u0275\u0275restoreView(o).$implicit;return a.\u0275\u0275nextContext(3).onRecentlyOpenedItemClick(W)}),a.\u0275\u0275element(6,"cf-svg-icon",21),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&b){const o=u.$implicit;a.\u0275\u0275advance(4),a.\u0275\u0275textInterpolate(o.name),a.\u0275\u0275advance(1),a.\u0275\u0275property("cdkDragData",o.application)("ngClass",a.\u0275\u0275pureFunction1(6,Fs,o.active))("ngStyle",a.\u0275\u0275pureFunction1(8,Uu,o.color)),a.\u0275\u0275advance(1),a.\u0275\u0275property("src",o.icon)("svgClass","icon__svg")}}const $u=function(){return[]};function ou(b,u){if(1&b){const o=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"div",24),a.\u0275\u0275elementStart(1,"cf-splash-screen",25),a.\u0275\u0275listener("splashScreenHide",function(){return a.\u0275\u0275restoreView(o),a.\u0275\u0275nextContext(3).showSplashScreen=!1}),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&b){const o=a.\u0275\u0275nextContext(3);a.\u0275\u0275advance(1),a.\u0275\u0275propertyInterpolate1("welcomeMessage","Welcome to ",null==o.openedSidebarItem?null:o.openedSidebarItem.name,""),a.\u0275\u0275property("mods","in-scene")("displayLoadingTime",2e3)("displayWelcomeTime",1e3)("title",(null==o.openedSidebarItem?null:o.openedSidebarItem.name)||"")("logo",(null==o.openedSidebarItem?null:o.openedSidebarItem.icon)||"")("backgroundColor",(null==o.openedSidebarItem?null:o.openedSidebarItem.color)||"")("loadingTexts",(null==o.openedSidebarItem||null==o.openedSidebarItem.application||null==o.openedSidebarItem.application.description?null:o.openedSidebarItem.application.description.split("."))||a.\u0275\u0275pureFunction0(8,$u))}}const Wu=function(){return["/select-avatar"]},Ku=function(){return["applications-carousel"]},au=function(b){return{"scene__content--splash-screen":b}};function Hu(b,u){if(1&b){const o=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"cf-sidebar-container"),a.\u0275\u0275elementStart(1,"cf-sidebar",6),a.\u0275\u0275listener("openedChange",function(x){return a.\u0275\u0275restoreView(o),a.\u0275\u0275nextContext(2).sidebarIsOpen=x}),a.\u0275\u0275elementStart(2,"div",7),a.\u0275\u0275elementStart(3,"a",8),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(o),a.\u0275\u0275nextContext(2).onSidebarItemClick({name:"Select Avatar",routerLink:["/select-avatar"],icon:"assets/icons/mdi/account-switch.svg",application:{id:"com.central-factory.user-avatars",name:"User Avatars",description:"Select an avatar",startUrl:"/select-avatar"},active:!1})}),a.\u0275\u0275elementStart(4,"div",9),a.\u0275\u0275elementStart(5,"span",10),a.\u0275\u0275text(6,"Account"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(7,"cf-avatar-appearance-portrait",11),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(8,ju,7,6,"ng-container",12),a.\u0275\u0275elementStart(9,"div",13),a.\u0275\u0275template(10,zu,7,10,"div",14),a.\u0275\u0275elementEnd(),a.\u0275\u0275element(11,"router-outlet",15),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"div",16),a.\u0275\u0275elementStart(13,"div",17),a.\u0275\u0275template(14,ou,2,9,"div",18),a.\u0275\u0275element(15,"router-outlet"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()}if(2&b){const o=a.\u0275\u0275nextContext().ngIf,m=a.\u0275\u0275nextContext();a.\u0275\u0275advance(1),a.\u0275\u0275property("opened",m.sidebarIsOpen)("dock",!0)("dockedSize","100px")("showBackdrop",!0)("closeOnClickBackdrop",!0)("closeOnClickOutside",!0),a.\u0275\u0275advance(2),a.\u0275\u0275property("routerLink",a.\u0275\u0275pureFunction0(15,Wu)),a.\u0275\u0275advance(4),a.\u0275\u0275property("appearancePortrait",null==o.selectedAvatar.selectedAppearance?null:o.selectedAvatar.selectedAppearance.portrait),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",m.sidebarItems),a.\u0275\u0275advance(1),a.\u0275\u0275property("cdkDropListData",m.recentlyOpenedSidebarItems)("cdkDropListConnectedTo",a.\u0275\u0275pureFunction0(16,Ku)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngForOf",m.recentlyOpenedSidebarItems),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngClass",a.\u0275\u0275pureFunction1(17,au,m.showSplashScreen))("@sceneContentAnimationState",m.sceneContentAnimationState),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",m.showSplashScreen)}}function Vu(b,u){1&b&&(a.\u0275\u0275elementStart(0,"div",26),a.\u0275\u0275elementStart(1,"div",27),a.\u0275\u0275element(2,"router-outlet"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd())}function Gu(b,u){if(1&b){const o=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"cf-navbar",28),a.\u0275\u0275listener("titleClick",function(){a.\u0275\u0275restoreView(o);const x=a.\u0275\u0275nextContext(2);return x.sidebarIsOpen=!x.sidebarIsOpen}),a.\u0275\u0275elementEnd()}if(2&b){const o=a.\u0275\u0275nextContext(2);a.\u0275\u0275property("title",o.title)}}const Qu=function(b){return{"no-navbar":b}};function Zu(b,u){if(1&b&&(a.\u0275\u0275elementContainerStart(0),a.\u0275\u0275elementStart(1,"div",1),a.\u0275\u0275elementStart(2,"div",2),a.\u0275\u0275template(3,Hu,16,19,"cf-sidebar-container",3),a.\u0275\u0275template(4,Vu,3,0,"ng-template",null,4,a.\u0275\u0275templateRefExtractor),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(6,Gu,1,1,"cf-navbar",5),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd()),2&b){const o=u.ngIf,m=a.\u0275\u0275reference(5),x=a.\u0275\u0275nextContext();a.\u0275\u0275advance(2),a.\u0275\u0275property("cfMod",a.\u0275\u0275pureFunction1(4,Qu,!x.showNavbar)),a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",o.selectedAvatar)("ngIfElse",m),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",x.showNavbar)}}const Yu=function(b){return{selectedAvatar:b}};var kn=(()=>{return(b=kn||(kn={})).Idle="Idle",b.Opened="Opened",b.Animated="Animated",kn;var b})();const rl=[{path:"",component:(()=>{class b{constructor(o,m,x,W,ee,ie){this.router=o,this.entityManager=m,this.selectedAvatarState=x,this.selectedApplicationState=W,this.recentlyOpenedApplicationsState=ee,this.customizationSettingsState=ie,this.title="Metaverse Portal",this.sidebarIsOpen=!1,this.sidebarItems=[],this.recentlyOpenedSidebarItems=[],this.showSplashScreen=!1,this.showNavbar=!1,this.sceneContentAnimationState=kn.Idle,this.selectedAvatar$=this.selectedAvatarState.avatar$,this.recentlyOpenedApplications$=this.recentlyOpenedApplicationsState.applications$.pipe((0,er.U)(me=>me.reverse()),(0,er.U)(me=>this.generateSidebarItems(me))),this.destroy$=new su.x}ngOnInit(){this.customizationSettingsState.customizationSettings$.pipe((0,er.U)(o=>o?.theme),(0,ks.h)(o=>void 0!==o),(0,bi.x)((o,m)=>o?.path===m?.path),(0,ks.h)((u,o)=>1<=o),(0,In.b)(o=>{this.sceneContentAnimationState=kn.Idle,setTimeout(()=>this.sceneContentAnimationState=kn.Animated,100)}),(0,Jr.R)(this.destroy$)).subscribe(),this.recentlyOpenedApplications$.pipe((0,Jr.R)(this.destroy$),(0,In.b)(o=>this.recentlyOpenedSidebarItems=o)).subscribe(),this.router.events.pipe((0,ks.h)(o=>o instanceof wn.NavigationEnd),(0,Jr.R)(this.destroy$)).subscribe(()=>{this.setSidebarItemsActive(this.sidebarItems)}),this.entityManager.initialize$.pipe((0,Kn.w)(()=>(0,Lu.D)([this.entityManager.getRepository("userapplications","com.central-factory.portal")])),(0,In.b)(([o])=>this.subscribeToDataChanges(o))).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onRecentlyOpenedItemClick(o){this.sceneContentAnimationState=kn.Idle,setTimeout(()=>{this.sceneContentAnimationState=kn.Opened,o.application&&(this.selectedApplicationState.selectApplication(o.application),this.selectedApplicationState.openSidebar())},100)}onSidebarItemClick(o){this.sceneContentAnimationState=kn.Idle,setTimeout(()=>{this.sceneContentAnimationState=kn.Opened,this.showSplashScreen=!0,this.openedSidebarItem=o,o.routerLink&&this.router.navigate(o.routerLink)},100)}subscribeToDataChanges(o){o.find({selector:{"additionalProperties.sidebarShortcuts":{$exists:!0}}}).pipe((0,In.b)(m=>{this.sidebarItems=this.generateSidebarItems(m)}),(0,Jr.R)(this.destroy$)).subscribe()}generateSidebarItems(o){const m=o.sort((x,W)=>x.createdAt.localeCompare(W.createdAt)).reduce((x,W)=>{const me=W.shortcuts||[],ze=(W.additionalProperties?.sidebarShortcuts||[]).map(Ge=>me.find(ut=>ut.name===Ge)).filter(Ge=>!!Ge).map(Ge=>({name:Ge.name,routerLink:[Ge.url],icon:Ge.icons&&Ge.icons.length>0?Ge.icons[0].src:"",color:W.additionalProperties?.colors?.find(ut=>"primary"===ut.variation)?.color||(!0===W.additionalProperties?.internal?"var(--color-base-primary-medium)":void 0),active:!1,application:W}));return x.concat(ze)},[]);return this.setSidebarItemsActive(m),m}setSidebarItemsActive(o){o.forEach(m=>{m.active=this.router.url.startsWith(m.routerLink.join("/"))})}}return b.\u0275fac=function(o){return new(o||b)(a.\u0275\u0275directiveInject(wn.Router),a.\u0275\u0275directiveInject(un.v2),a.\u0275\u0275directiveInject(dn.Y),a.\u0275\u0275directiveInject(tr.H),a.\u0275\u0275directiveInject(Or.r),a.\u0275\u0275directiveInject(Eo.T))},b.\u0275cmp=a.\u0275\u0275defineComponent({type:b,selectors:[["cf-portal-layout"]],decls:2,vars:5,consts:[[4,"ngIf"],["cfBlock","scene","cfMod","layout"],["cfElem","body",3,"cfMod"],[4,"ngIf","ngIfElse"],["notSelectedAvatarLayout",""],["cfElem","navbar",3,"title","titleClick",4,"ngIf"],[3,"opened","dock","dockedSize","showBackdrop","closeOnClickBackdrop","closeOnClickOutside","openedChange"],[2,"margin-top","20px"],["cfBlock","sidebar-item",1,"d-block",3,"routerLink","click"],["cfElem","text"],["cfElem","text-content"],[3,"appearancePortrait"],[4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListSortingDisabled","",3,"cdkDropListData","cdkDropListConnectedTo"],["class","d-block","cfBlock","sidebar-item",4,"ngFor","ngForOf"],["name","sidebar"],["cf-sidebar-content",""],[1,"scene__content",3,"ngClass"],["cfBlock","scene-content","cfMod","splash-screen",4,"ngIf"],["cfBlock","sidebar-item",1,"d-block",3,"click"],["cfBlock","button","cfMod","fab",2,"margin-top","15px",3,"ngClass"],["cfElem","icon",3,"src","svgClass"],["cfBlock","sidebar-item",1,"d-block"],["cdkDrag","","cfBlock","button","cfMod","fab",3,"cdkDragData","ngClass","ngStyle","click"],["cfBlock","scene-content","cfMod","splash-screen"],[3,"mods","displayLoadingTime","displayWelcomeTime","title","logo","backgroundColor","welcomeMessage","loadingTexts","splashScreenHide"],[1,"scene__container"],[1,"scene__content"],["cfElem","navbar",3,"title","titleClick"]],template:function(o,m){1&o&&(a.\u0275\u0275template(0,Zu,7,6,"ng-container",0),a.\u0275\u0275pipe(1,"async")),2&o&&a.\u0275\u0275property("ngIf",a.\u0275\u0275pureFunction1(3,Yu,a.\u0275\u0275pipeBind1(1,1,m.selectedAvatar$)))},directives:[Un.NgIf,Ls.G,Zi.I,Ei.e,Bu.L,Fu.k,wn.RouterLinkWithHref,Nu.P,Un.NgForOf,Bo.Wj,wn.RouterOutlet,Un.NgClass,Yi.b,Bo.Zt,Un.NgStyle,Bs.wn,Fo],pipes:[Un.AsyncPipe],encapsulation:2,data:{animation:[(0,p.X$)("sceneContentAnimationState",[(0,p.eR)(`${kn.Idle} => ${kn.Animated}`,(0,p._7)(Ka)),(0,p.eR)(`${kn.Idle} => ${kn.Opened}`,(0,p._7)(Gi,{params:{timing:.5}}))])]}}),b})(),children:[{path:"login",loadChildren:()=>l.e(12).then(l.bind(l,12)).then(b=>b.LoginModule),canActivate:[Ki]},{path:"select-avatar",loadChildren:()=>l.e(700).then(l.bind(l,8700)).then(b=>b.SelectAvatarModule),canActivate:[Mn]},{path:"create-avatar",loadChildren:()=>l.e(827).then(l.bind(l,3827)).then(b=>b.CreateAvatarModule),canActivate:[Mn]},{path:"selected-avatar",loadChildren:()=>l.e(959).then(l.bind(l,1959)).then(b=>b.SelectedAvatarModule),canActivate:[Mn,vn]},{path:"start",loadChildren:()=>l.e(19).then(l.bind(l,8019)).then(b=>b.StartModule),canActivate:[Mn,vn]},{path:"portals",loadChildren:()=>l.e(350).then(l.bind(l,7350)).then(b=>b.PortalsModule),canActivate:[Mn,vn]},{path:"manage-applications",loadChildren:()=>l.e(835).then(l.bind(l,9835)).then(b=>b.ManageApplicationsModule),canActivate:[Mn,vn]},{path:"inventory",loadChildren:()=>l.e(740).then(l.bind(l,2740)).then(b=>b.InventoryModule),canActivate:[Mn,vn]},{path:"marketplace",loadChildren:()=>l.e(483).then(l.bind(l,6483)).then(b=>b.MarketplaceModule),canActivate:[Mn,vn]},{path:"settings",loadChildren:()=>l.e(672).then(l.bind(l,6672)).then(b=>b.SettingsModule),canActivate:[Mn,vn]},{path:"",redirectTo:"start",pathMatch:"full"}]}];let Xu=(()=>{class b{}return b.\u0275fac=function(o){return new(o||b)},b.\u0275mod=a.\u0275\u0275defineNgModule({type:b}),b.\u0275inj=a.\u0275\u0275defineInjector({imports:[[wn.RouterModule.forRoot(rl)],wn.RouterModule]}),b})();var ec=l(4968);const Ji=b=>"touchend"===b.type||"touchcancel"===b.type?b.changedTouches[0]:b.type.startsWith("touch")?b.targetTouches[0]:b,tc=b=>"touchstart"===b.type||"mousedown"===b.type&&0===b.button;let nc=(()=>{class b{constructor(o){this.resizeBegin=new a.EventEmitter,this.resizing=new a.EventEmitter,this.resizeEnd=new a.EventEmitter,this.element=o.nativeElement}ngAfterViewInit(){this.south&&this.createHandle("resize-handle-s"),this.east&&this.createHandle("resize-handle-e"),this.southEast&&this.createHandle("resize-handle-se");const o=window.getComputedStyle(this.element);this.minWidth=parseFloat(o.minWidth),this.maxWidth=parseFloat(o.maxWidth),this.minHeight=parseFloat(o.minHeight),this.maxHeight=parseFloat(o.maxHeight)}ngOnDestroy(){this.destroySubscription()}onMousedown(o){if(!tc(o))return;const m=o.target.classList,x=m.contains("resize-handle-s"),W=m.contains("resize-handle-e"),ee=m.contains("resize-handle-se"),ie=Ji(o),me=this.element.clientWidth,Ie=this.element.clientHeight,ze=ie.screenX,Ge=ie.screenY,ut=o.type.startsWith("touch"),wt=ut?"touchmove":"mousemove",st=ut?"touchend":"mouseup";if(x||W||ee){this.initResize(o,x,W,ee);const ft=(0,ec.R)(document,st);this.subscription=ft.subscribe(Kt=>this.onMouseup(Kt));const Ct=(0,ec.R)(document,wt).pipe((0,Jr.R)(ft)).subscribe(Kt=>this.move(Kt,me,Ie,ze,Ge));this.subscription.add(Ct)}}move(o,m,x,W,ee){const ie=Ji(o),Ie=ie.screenY-ee;this.newWidth=m+(ie.screenX-W),this.newHeight=x+Ie,this.resizeWidth(ie),this.resizeHeight(ie)}onMouseup(o){this.endResize(o),this.destroySubscription()}destroySubscription(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)}createHandle(o){const m=document.createElement("span");m.className=o,this.element.appendChild(m)}initResize(o,m,x,W){m&&(this.resizingS=!0),x&&(this.resizingE=!0),W&&(this.resizingSE=!0),this.element.classList.add("resizing"),this.newWidth=this.element.clientWidth,this.newHeight=this.element.clientHeight,o.stopPropagation(),this.resizeBegin.emit()}endResize(o){this.resizingS=!1,this.resizingE=!1,this.resizingSE=!1,this.element.classList.remove("resizing"),this.resizeEnd.emit({event:Ji(o),width:this.newWidth,height:this.newHeight})}resizeWidth(o){(this.resizingSE||this.resizingE)&&(!this.minWidth||this.newWidth>=this.minWidth)&&(!this.maxWidth||this.newWidth<=this.maxWidth)&&(this.ghost||(this.element.style.width=`${this.newWidth}px`),this.resizing.emit({event:o,width:this.newWidth,height:this.newHeight,direction:"horizontal"}))}resizeHeight(o){(this.resizingSE||this.resizingS)&&(!this.minHeight||this.newHeight>=this.minHeight)&&(!this.maxHeight||this.newHeight<=this.maxHeight)&&(this.ghost||(this.element.style.height=`${this.newHeight}px`),this.resizing.emit({event:o,width:this.newWidth,height:this.newHeight,direction:"vertical"}))}}return b.\u0275fac=function(o){return new(o||b)(a.\u0275\u0275directiveInject(a.ElementRef))},b.\u0275dir=a.\u0275\u0275defineDirective({type:b,selectors:[["","cfResizable",""]],hostBindings:function(o,m){1&o&&a.\u0275\u0275listener("mousedown",function(W){return m.onMousedown(W)})("touchstart",function(W){return m.onMousedown(W)})},inputs:{south:"south",east:"east",southEast:"southEast",ghost:"ghost"},outputs:{resizeBegin:"resizeBegin",resizing:"resizing",resizeEnd:"resizeEnd"}}),b})(),il=(()=>{class b{constructor(o,m){this.element=o,this.ngZone=m,this.dragX=!0,this.dragY=!0,this.dragStart=new a.EventEmitter,this.dragMove=new a.EventEmitter,this.dragEnd=new a.EventEmitter,this.isDragging=!1,this.globalListeners=new Map}ngOnChanges(o){o.dragEventTarget&&o.dragEventTarget.currentValue&&this.onMousedown(this.dragEventTarget)}ngOnDestroy(){this.removeEventListener()}onMousedown(o){if(tc(o)&&(this.dragX||this.dragY)){const m=Ji(o);this.initDrag(m.pageX,m.pageY),this.addEventListeners(o),this.dragStart.emit(o)}}onMousemove(o){const m=Ji(o);this.onDrag(m.pageX,m.pageY),this.dragMove.emit(o)}onMouseup(o){this.endDrag(),this.removeEventListener(),this.dragEnd.emit(o)}addEventListeners(o){const m=o.type.startsWith("touch"),W=m?"touchend":"mouseup";this.globalListeners.set(m?"touchmove":"mousemove",{handler:ee=>this.onMousemove(ee),options:!1}).set(W,{handler:ee=>this.onMouseup(ee),options:!1}),this.ngZone.runOutsideAngular(()=>{this.globalListeners.forEach((ee,ie)=>{window.document.addEventListener(ie,ee.handler,ee.options)})})}removeEventListener(){this.globalListeners.forEach((o,m)=>{window.document.removeEventListener(m,o.handler,o.options)})}initDrag(o,m){this.isDragging=!0,this.lastPageX=o,this.lastPageY=m,this.element.nativeElement.classList.add("dragging")}onDrag(o,m){if(this.isDragging){const x=o-this.lastPageX,W=m-this.lastPageY,ee=this.element.nativeElement.getBoundingClientRect();this.element.nativeElement.style.left=ee.left+x+"px",this.element.nativeElement.style.top=ee.top+W+"px",this.lastPageX=o,this.lastPageY=m}}endDrag(){this.isDragging=!1,this.element.nativeElement.classList.remove("dragging")}}return b.\u0275fac=function(o){return new(o||b)(a.\u0275\u0275directiveInject(a.ElementRef),a.\u0275\u0275directiveInject(a.NgZone))},b.\u0275dir=a.\u0275\u0275defineDirective({type:b,selectors:[["","cfDraggable",""]],inputs:{dragEventTarget:"dragEventTarget",dragX:"dragX",dragY:"dragY"},outputs:{dragStart:"dragStart",dragMove:"dragMove",dragEnd:"dragEnd"},features:[a.\u0275\u0275NgOnChangesFeature]}),b})();const sl=["modalRoot"],ol=["modalBody"],al=["modalHeader"],ul=["modalFooter"],cl=["closeIcon"],cu=function(){return["light","small","has-icon","only-icon","rounded"]};function No(b,u){if(1&b){const o=a.\u0275\u0275getCurrentView();a.\u0275\u0275elementStart(0,"button",6),a.\u0275\u0275listener("click",function(x){return a.\u0275\u0275restoreView(o),a.\u0275\u0275nextContext().toggleMaximize(x)}),a.\u0275\u0275element(1,"cf-svg-icon",15),a.\u0275\u0275elementEnd()}if(2&b){const o=a.\u0275\u0275nextContext();a.\u0275\u0275property("cfMod",a.\u0275\u0275pureFunction0(2,cu)),a.\u0275\u0275advance(1),a.\u0275\u0275property("src",o.maximized?"assets/icons/mdi/window-restore.svg":"assets/icons/mdi/window-maximize.svg")}}const ll=[[["",8,"window-header__content"]],[["",8,"window-body__content"]],[["",8,"window-footer__content"]]],jo=function(b){return{maximized:b}},fl=function(){return["danger","small","has-icon","only-icon","rounded"]},dl=[".window-header__content",".window-body__content",".window-footer__content"];let hl=(()=>{class b{constructor(o){this.element=o,this.scrollTopEnable=!0,this.maximizable=!1,this.backdrop=!0,this.openModal=new a.EventEmitter,this.closeModal=new a.EventEmitter,this.resizeModal=new a.EventEmitter,this.maximizeModal=new a.EventEmitter}ngAfterViewChecked(){this.executePostDisplayActions&&(this.center(),this.executePostDisplayActions=!1)}onKeyDown(o){o.preventDefault(),o.stopPropagation(),this.hide()}onWindowResize(){this.executePostDisplayActions=!0,this.center()}show(){this.executePostDisplayActions=!0,this.visible=!0,setTimeout(()=>{this.modalRoot.nativeElement.focus(),this.scrollTopEnable&&(this.modalBody.nativeElement.scrollTop=0),this.openModal.emit(!0)},1)}hide(){this.visible=!1,this.closeModal.emit(!0),this.focusLastModal()}center(){let o=this.modalRoot.nativeElement.offsetWidth,m=this.modalRoot.nativeElement.offsetHeight;0===o&&0===m&&(this.modalRoot.nativeElement.style.visibility="hidden",this.modalRoot.nativeElement.style.display="block",o=this.modalRoot.nativeElement.offsetWidth,m=this.modalRoot.nativeElement.offsetHeight,this.modalRoot.nativeElement.style.display="none",this.modalRoot.nativeElement.style.visibility="visible");const x=Math.max((window.innerWidth-o)/2,0),W=Math.max((window.innerHeight-m)/2,0);this.modalRoot.nativeElement.style.left=x+"px",this.modalRoot.nativeElement.style.top=W+"px"}initDrag(o){o.target!==this.closeIcon.nativeElement&&(this.maximized||(this.dragEventTarget=o))}onResize(o){"vertical"===o.direction&&this.calcBodyHeight(),this.resizeModal.emit(o)}calcBodyHeight(){this.modalBody.nativeElement.style.height=this.modalRoot.nativeElement.offsetHeight-(this.modalHeader.nativeElement.offsetHeight+this.modalFooter.nativeElement.offsetHeight)+"px",this.modalBody.nativeElement.style.maxHeight="none"}getMaxModalIndex(){return((b="body *")=>Array.from(document.querySelectorAll(b)).map(u=>parseFloat(window.getComputedStyle(u).zIndex)).filter(u=>!isNaN(u)).sort((u,o)=>u-o).pop()||0)(".ui-modal")}focusLastModal(){const o=((b,u)=>{if("function"==typeof b.closest)return b.closest(u)||null;for(;b;){if(b.matches(u))return b;b=b.parentElement}return null})(this.element.nativeElement.parentElement,".window-modal");o&&o.focus()}toggleMaximize(o){this.maximized?this.revertMaximize():this.maximize(),this.maximizeModal.emit(this.maximized),o.preventDefault()}maximize(){this.preMaximizePageX=parseFloat(this.modalRoot.nativeElement.style.top),this.preMaximizePageY=parseFloat(this.modalRoot.nativeElement.style.left),this.preMaximizeRootWidth=this.modalRoot.nativeElement.offsetWidth,this.preMaximizeRootHeight=this.modalRoot.nativeElement.offsetHeight,this.preMaximizeBodyHeight=this.modalBody.nativeElement.offsetHeight,this.modalRoot.nativeElement.style.top="0px",this.modalRoot.nativeElement.style.left="0px",this.modalRoot.nativeElement.style.width="100vw",this.modalRoot.nativeElement.style.height="100vh",this.modalBody.nativeElement.style.height="calc(100vh - "+(this.modalHeader.nativeElement.offsetHeight+this.modalFooter.nativeElement.offsetHeight)+"px)",this.modalBody.nativeElement.style.maxHeight="none",this.maximized=!0}revertMaximize(){this.modalRoot.nativeElement.style.top=this.preMaximizePageX+"px",this.modalRoot.nativeElement.style.left=this.preMaximizePageY+"px",this.modalRoot.nativeElement.style.width=this.preMaximizeRootWidth+"px",this.modalRoot.nativeElement.style.height=this.preMaximizeRootHeight+"px",this.modalBody.nativeElement.style.height=this.preMaximizeBodyHeight+"px",this.maximized=!1}moveOnTop(){if(!this.backdrop){const o=this.getMaxModalIndex();let m=parseFloat(window.getComputedStyle(this.modalRoot.nativeElement).zIndex)||0;m<=o&&(m=o+1,this.modalRoot.nativeElement.style.zIndex=m.toString())}}}return b.\u0275fac=function(o){return new(o||b)(a.\u0275\u0275directiveInject(a.ElementRef))},b.\u0275cmp=a.\u0275\u0275defineComponent({type:b,selectors:[["cf-window"]],viewQuery:function(o,m){if(1&o&&(a.\u0275\u0275viewQuery(sl,5),a.\u0275\u0275viewQuery(ol,5),a.\u0275\u0275viewQuery(al,5),a.\u0275\u0275viewQuery(ul,5),a.\u0275\u0275viewQuery(cl,5)),2&o){let x;a.\u0275\u0275queryRefresh(x=a.\u0275\u0275loadQuery())&&(m.modalRoot=x.first),a.\u0275\u0275queryRefresh(x=a.\u0275\u0275loadQuery())&&(m.modalBody=x.first),a.\u0275\u0275queryRefresh(x=a.\u0275\u0275loadQuery())&&(m.modalHeader=x.first),a.\u0275\u0275queryRefresh(x=a.\u0275\u0275loadQuery())&&(m.modalFooter=x.first),a.\u0275\u0275queryRefresh(x=a.\u0275\u0275loadQuery())&&(m.closeIcon=x.first)}},hostBindings:function(o,m){1&o&&a.\u0275\u0275listener("keydown.esc",function(W){return m.onKeyDown(W)})("resize",function(){return m.onWindowResize()},!1,a.\u0275\u0275resolveWindow)},inputs:{scrollTopEnable:"scrollTopEnable",maximizable:"maximizable",backdrop:"backdrop"},outputs:{openModal:"openModal",closeModal:"closeModal",resizeModal:"resizeModal",maximizeModal:"maximizeModal"},ngContentSelectors:dl,decls:18,vars:14,consts:[["cfBlock","window-overlay"],["cfBlock","window","tabindex","-1","role","dialog","cfResizable","","cfDraggable","",3,"cfMod","south","east","southEast","dragEventTarget","resizing","mousedown","touchstart"],["modalRoot",""],["cfBlock","window-header",3,"mousedown","touchstart"],["modalHeader",""],["cfElem","controls"],["cfBlock","button",3,"cfMod","click"],["closeIcon",""],["src","assets/icons/mdi/close.svg","cfElem","icon"],["cfBlock","button",3,"cfMod","click",4,"ngIf"],["cfElem","title"],["cfBlock","window-body"],["modalBody",""],["cfBlock","window-footer"],["modalFooter",""],["cfElem","icon",3,"src"]],template:function(o,m){1&o&&(a.\u0275\u0275projectionDef(ll),a.\u0275\u0275element(0,"div",0),a.\u0275\u0275elementStart(1,"div",1,2),a.\u0275\u0275listener("resizing",function(W){return m.onResize(W)})("mousedown",function(){return m.moveOnTop()})("touchstart",function(){return m.moveOnTop()}),a.\u0275\u0275elementStart(3,"div",3,4),a.\u0275\u0275listener("mousedown",function(W){return m.initDrag(W)})("touchstart",function(W){return m.initDrag(W)}),a.\u0275\u0275elementStart(5,"div",5),a.\u0275\u0275elementStart(6,"button",6,7),a.\u0275\u0275listener("click",function(){return m.hide()}),a.\u0275\u0275element(8,"cf-svg-icon",8),a.\u0275\u0275elementEnd(),a.\u0275\u0275template(9,No,2,3,"button",9),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(10,"div",10),a.\u0275\u0275projection(11),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(12,"div",11,12),a.\u0275\u0275projection(14,1),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(15,"div",13,14),a.\u0275\u0275projection(17,2),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementEnd()),2&o&&(a.\u0275\u0275styleProp("display",m.visible&&m.backdrop?"block":"none"),a.\u0275\u0275advance(1),a.\u0275\u0275styleProp("display",m.visible?"block":"none"),a.\u0275\u0275property("cfMod",a.\u0275\u0275pureFunction1(11,jo,m.maximized))("south",!0)("east",!0)("southEast",!0)("dragEventTarget",m.dragEventTarget),a.\u0275\u0275advance(5),a.\u0275\u0275property("cfMod",a.\u0275\u0275pureFunction0(13,fl)),a.\u0275\u0275advance(3),a.\u0275\u0275property("ngIf",m.maximizable))},directives:[Ls.G,nc,il,Zi.I,Ei.e,Yi.b,Un.NgIf],encapsulation:2}),b})();const rc=["rootWindow"];function ic(b,u){1&b&&a.\u0275\u0275element(0,"cf-splash-screen")}let Uo=(()=>{class b{constructor(){this.environment=Fi}ngOnInit(){this.environment.demo&&this.rootWindow.show()}}return b.\u0275fac=function(o){return new(o||b)},b.\u0275cmp=a.\u0275\u0275defineComponent({type:b,selectors:[["cf-portal-root"]],viewQuery:function(o,m){if(1&o&&a.\u0275\u0275viewQuery(rc,7),2&o){let x;a.\u0275\u0275queryRefresh(x=a.\u0275\u0275loadQuery())&&(m.rootWindow=x.first)}},decls:19,vars:2,consts:[["id","bgcanvas"],[4,"ngIf"],[1,"application"],[3,"maximizable"],["rootWindow",""],[1,"window-header__content"],[1,"window-body__content"],["href","https://github.com/central-factory/metaverse","target","_blank"],[1,"window-footer__content"],["cfBlock","button","cfMod","primary",3,"click"]],template:function(o,m){if(1&o){const x=a.\u0275\u0275getCurrentView();a.\u0275\u0275element(0,"canvas",0),a.\u0275\u0275template(1,ic,1,0,"cf-splash-screen",1),a.\u0275\u0275elementStart(2,"div",2),a.\u0275\u0275element(3,"router-outlet"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(4,"cf-window",3,4),a.\u0275\u0275elementContainerStart(6,5),a.\u0275\u0275text(7,"A message from the author"),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementContainerStart(8,6),a.\u0275\u0275elementStart(9,"h3"),a.\u0275\u0275text(10,"Welcome to The Central Factory Metaverse"),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementStart(11,"p"),a.\u0275\u0275text(12," This is a demo release of The Central Factory Metaverse project. Not all features are implemented yet, you might find many issues and unexpected behaviours. You can give us your feedback on "),a.\u0275\u0275elementStart(13,"a",7),a.\u0275\u0275text(14,"the project page"),a.\u0275\u0275elementEnd(),a.\u0275\u0275text(15,". Thank you for getting interested on this project. "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementContainerStart(16,8),a.\u0275\u0275elementStart(17,"button",9),a.\u0275\u0275listener("click",function(){return a.\u0275\u0275restoreView(x),a.\u0275\u0275reference(5).hide()}),a.\u0275\u0275text(18," I'm ready! "),a.\u0275\u0275elementEnd(),a.\u0275\u0275elementContainerEnd(),a.\u0275\u0275elementEnd()}2&o&&(a.\u0275\u0275advance(1),a.\u0275\u0275property("ngIf",m.environment.showSplashScreen),a.\u0275\u0275advance(3),a.\u0275\u0275property("maximizable",!0))},directives:[Un.NgIf,wn.RouterOutlet,hl,Ls.G,Zi.I,Bs.wn],styles:["#bgcanvas[_ngcontent-%COMP%]{display:block;margin:0 auto;width:100vw;height:100vh;position:fixed;z-index:-1}"]}),b})();var lu=l(1718);let Si=(()=>{class b{}return b.\u0275fac=function(o){return new(o||b)},b.\u0275mod=a.\u0275\u0275defineNgModule({type:b}),b.\u0275inj=a.\u0275\u0275defineInjector({imports:[[ws.Y,Ss.O]]}),b})();var zo=l(5687);let pl=(()=>{class b{}return b.\u0275fac=function(o){return new(o||b)},b.\u0275mod=a.\u0275\u0275defineNgModule({type:b}),b.\u0275inj=a.\u0275\u0275defineInjector({imports:[[Un.CommonModule,ws.Y,Ss.O,Bo._t,wn.RouterModule,Si,zo.l,za.x,lu.y]]}),b})(),ml=(()=>{class b{constructor(o){this.customizationSettingsState=o,this.renderProcessRunning=!1,this.textColor="#22b455",this.initialize()}initialize(){this.themeChangeSubscription&&this.themeChangeSubscription.unsubscribe(),this.themeChangeSubscription=this.customizationSettingsState.customizationSettings$.pipe((0,er.U)(o=>o?.theme.name),(0,bi.x)((o,m)=>o===m),(0,In.b)(o=>this.onThemeChange(o))).subscribe()}onThemeChange(o){const m=document.getElementsByClassName("application")[0];if(!m||!o)return void setTimeout(()=>this.initialize(),1e3);if(this.currentTheme===o)return;this.currentTheme=o;const x=new ResizeObserver(W=>{for(const ee of W)if(ee.contentBoxSize){const ie=document.getElementById("bgcanvas"),me=Array.isArray(ee.contentBoxSize)?ee.contentBoxSize[0]:ee.contentBoxSize;ie.width=me.inlineSize,ie.height=window.innerHeight;const Ie=this.initializeMatrix();this.renderTick(()=>this.renderMatrix(Ie))}});switch(o){case"Matrix":this.textColor="#22b455",m.classList.add("application--no-background-color"),x.observe(document.documentElement);break;case"Metaverse":this.textColor="#9575cd",m.classList.add("application--no-background-color"),x.observe(document.documentElement);break;default:x.unobserve(document.documentElement),clearTimeout(this.renderTimeout),delete this.renderTimeout,this.renderProcessRunning=!1,m.classList.remove("application--no-background-color")}}initializeMatrix(){const x=document.getElementById("bgcanvas"),W=x.getContext("2d"),ee=[],ie=Math.ceil(x.height/20);for(let me=0;me<x.width/20;++me)ee.push({x:20*me,stackHeight:10+Math.random()*ie,stackCounter:0});return{tileSize:20,fadeFactor:.05,canvas:x,ctx:W,maxStackHeight:ie,columns:ee}}renderTick(o,m=50){this.renderProcessRunning?console.warn("render process already running"):(this.renderProcessRunning=!0,o(),this.renderTimeout=window.setTimeout(()=>{this.renderProcessRunning=!1,this.renderTick(o,m)},m))}renderMatrix({ctx:o,fadeFactor:m,canvas:x,tileSize:W,maxStackHeight:ee,columns:ie}){o.fillStyle="rgba( 0 , 0 , 0 , "+m+" )",o.fillRect(0,0,x.width,x.height),o.font=W-2+"px monospace",o.fillStyle=this.textColor;for(let me=0;me<ie.length;++me){const Ie=String.fromCharCode(33+Math.floor(94*Math.random()));o.fillText(Ie,ie[me].x,ie[me].stackCounter*W+W),++ie[me].stackCounter>=ie[me].stackHeight&&(ie[me].stackHeight=10+Math.random()*ee,ie[me].stackCounter=0)}}}return b.\u0275fac=function(o){return new(o||b)(a.\u0275\u0275inject(Eo.T))},b.\u0275prov=a.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),vl=(()=>{class b{}return b.\u0275fac=function(o){return new(o||b)},b.\u0275mod=a.\u0275\u0275defineNgModule({type:b,bootstrap:[Uo]}),b.\u0275inj=a.\u0275\u0275defineInjector({providers:[{provide:a.APP_INITIALIZER,useFactory:()=>()=>null,deps:[Eo.T,ml],multi:!0},Ta,Ma,xa,ja,mi,Fa,qn,Wr,La,ji],imports:[[g.b2,_o,D.HttpClientModule,ws.Y.forRoot(),Ss.O,pl,za.x,So,Xu,Co.forRoot({enabled:Fi.useMocks,autologin:Fi.autologin})]]}),b})();Fi.production&&(0,a.enableProdMode)(),g.q6().bootstrapModule(vl).catch(b=>console.error(b))},4995:(re,U,l)=>{l.d(U,{B:()=>g,c:()=>a});var g=(()=>{return(D=g||(g={})).Webview="webview",D.WebpackModuleFederation="webpack-module-federation",D.Unknown="unknown",g;var D})(),a=(()=>{return(D=a||(a={})).Primary="primary",D.Secondary="secondary",D.Success="success",D.Warning="warning",D.Danger="danger",D.Info="info",D.Light="light",D.Dark="dark",a;var D})()},9813:(re,U,l)=>{l.d(U,{o:()=>N,O:()=>k});var g=l(9841),a=l(4004),D=l(7678),p=l(3395),F=l(7777),N=(()=>{return(O=N||(N={}))[O.User=0]="User",O[O.Store=1]="Store",N;var O})();let k=(()=>{class O{constructor(S,R){this.storeApplicationsState=S,this.userApplicationsState=R,this.applications$=(0,g.a)([this.storeApplicationsState.applications$,this.userApplicationsState.applications$]).pipe((0,a.U)(([I,M])=>[...M.map(T=>({origin:N.User,application:T})),...I.map(T=>({origin:N.Store,application:T}))].filter((T,E,y)=>y.findIndex(c=>T.application.id===c.application.id)===E)))}}return O.\u0275fac=function(S){return new(S||O)(F.\u0275\u0275inject(D.I),F.\u0275\u0275inject(p.g))},O.\u0275prov=F.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},6961:(re,U,l)=>{l.d(U,{r:()=>p});var g=l(1135),a=l(7777);let p=(()=>{class F{constructor(){this.applications$=new g.X([]),this.maxApplications=4}addApplication(N){const k=this.applications$.getValue();k.find(w=>w.id===N.id)||(k.length>=this.maxApplications&&k.shift(),k.unshift(N),this.applications$.next(k))}}return F.\u0275fac=function(N){return new(N||F)},F.\u0275prov=a.\u0275\u0275defineInjectable({token:F,factory:F.\u0275fac,providedIn:"root"}),F})()},4918:(re,U,l)=>{l.d(U,{H:()=>N});var g=l(9813),a=l(1135),D=l(4004),p=l(8505),F=l(7777);let N=(()=>{class k{constructor(w){this.availableApplicationsState=w,this.application$=new a.X(void 0),this.sidebarIsOpen$=new a.X(!1)}listenForChanges(w){this.changesSubscription&&this.changesSubscription.unsubscribe(),w?this.changesSubscription=this.availableApplicationsState.applications$.pipe((0,D.U)(S=>S.find(R=>R.application.id===w)),(0,p.b)(S=>this.application$.next(S?.application))).subscribe():this.application$.next(void 0)}selectApplication(w){this.listenForChanges(w.id)}unselectApplication(){this.listenForChanges(void 0)}openSidebar(){this.sidebarIsOpen$.next(!0)}closeSidebar(){this.sidebarIsOpen$.next(!1)}}return k.\u0275fac=function(w){return new(w||k)(F.\u0275\u0275inject(g.O))},k.\u0275prov=F.\u0275\u0275defineInjectable({token:k,factory:k.\u0275fac,providedIn:"root"}),k})()},7678:(re,U,l)=>{l.d(U,{I:()=>I});var g=l(9283),D=l(1549),p=l(1135),F=l(9646),B=l(4128),N=l(8505),k=l(4004),O=l(3900),w=l(4995),S=l(7777);let I=(()=>{class M{constructor(E,y){this.httpClient=E,this.userPreferencesState=y,this.applications$=new p.X([]),this.byCategory$=this.applications$.pipe((0,k.U)(c=>c.reduce((s,v)=>{const d=v.categories;return!d||!d.length||d.forEach(K=>{s[K]||(s[K]=[]),s[K].push(v)}),s},{}))),this.byAuthor$=this.applications$.pipe((0,k.U)(c=>c.reduce((s,v)=>{const d=v.additionalProperties?.author;return d&&(s[d.id]=s[d.id]||[],s[d.id].push(v)),s},{}))),this.topAuthors$=this.byAuthor$.pipe((0,k.U)(c=>Object.keys(c).sort((v,d)=>c[d].length-c[v].length).filter(v=>c[v].length>2).map(v=>c[v][0].additionalProperties?.author).slice(0,5))),this.storeDataUrl="https://raw.githubusercontent.com/central-factory/web-application-manifests/main/applications.json",this.userPreferencesState.byKey("store.settings.repositories").pipe((0,k.U)(c=>c?.value||[]),(0,O.w)(c=>c?(0,B.D)(c.map(s=>this.httpClient.get(s.url))).pipe((0,k.U)(s=>s.reduce((v,d)=>v.concat(d),[]))):(0,F.of)([])),(0,N.b)(c=>{this.applications$.next(c.map(s=>{const d={color:this.getPrimaryColor(s)||"#000000",variation:w.c.Primary};return{...s,createdAt:s.createdAt||(new Date).toISOString(),updatedAt:s.updatedAt||(new Date).toISOString(),additionalProperties:{...s.additionalProperties,author:s.additionalProperties?.author||{id:s.id,name:s.name},renderingType:s.additionalProperties?.renderingType||w.B.Webview,supportsBrowser:s.additionalProperties?.supportsBrowser||!1,internal:!1,permissions:s.additionalProperties?.permissions||[],defaultShortcut:s.additionalProperties?.defaultShortcut||(s.shortcuts?s.shortcuts[0].name:void 0),sidebarShortcuts:s.additionalProperties?.sidebarShortcuts||(s.shortcuts?[s.shortcuts[0].name]:[]),colors:s.additionalProperties?.colors||[d]}}}))})).subscribe()}getPrimaryColor(E){if(E.additionalProperties?.colors&&E.additionalProperties?.colors.length>0){const c=E.additionalProperties?.colors?.find(s=>s.variation===w.c.Primary);if(c)return c?.color}return E.themeColor||E.backgroundColor}}return M.\u0275fac=function(E){return new(E||M)(S.\u0275\u0275inject(g.HttpClient),S.\u0275\u0275inject(D.w))},M.\u0275prov=S.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac,providedIn:"root"}),M})()},3395:(re,U,l)=>{l.d(U,{g:()=>k});var g=l(6435),a=l(1135),D=l(3900),p=l(4128),F=l(8505),B=l(7777);let k=(()=>{class O{constructor(S){this.entityManager=S,this.applications$=new a.X([]),this.entityManager.initialize$.pipe((0,D.w)(()=>(0,p.D)([this.entityManager.getRepository("userapplications","com.central-factory.start")])),(0,F.b)(([R])=>{this.userApplicationsRepository=R,this.subscribeToDataChanges()})).subscribe()}addApplication(S){if(!this.userApplicationsRepository)throw new Error("Repositories not initialized");return this.userApplicationsRepository.upsert(S)}subscribeToDataChanges(){if(!this.userApplicationsRepository)throw new Error("Repositories not initialized");this.userApplicationsRepository.observe().pipe((0,F.b)(S=>this.applications$.next(S))).subscribe()}}return O.\u0275fac=function(S){return new(S||O)(B.\u0275\u0275inject(g.v2))},O.\u0275prov=B.\u0275\u0275defineInjectable({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},5088:(re,U,l)=>{l.d(U,{R:()=>g});var g=(()=>{return(a=g||(g={})).Unknown="unknown",a.Currency="currency",a.Land="land",a.Material="material",a.Building="building",a.Equipment="equipment",a.Furniture="furniture",a.Machine="machine",a.Vehicle="vehicle",a.MediaResource="media-resource",a.Consumable="consumable",a.Other="other",g;var a})()},120:(re,U,l)=>{l.d(U,{g:()=>g});var g=(()=>{return(a=g||(g={})).Model="Model",a.Image="Image",g;var a})()},7165:(re,U,l)=>{l.d(U,{Y:()=>S});var g=l(6435),a=l(1135),D=l(3900),p=l(4128),F=l(8505),B=l(2843),N=l(9646),k=l(4004),O=l(7777);let S=(()=>{class R{constructor(M){this.entityManager=M,this.avatar$=new a.X(void 0),this.entityManager.initialize$.pipe((0,D.w)(()=>(0,p.D)([this.entityManager.getRepository("userpreferences","com.central-factory.user-avatars"),this.entityManager.getRepository("useravatars","com.central-factory.user-avatars")])),(0,F.b)(([T,E])=>{this.userPreferencesRepository=T,this.userAvatarsRepository=E,this.subscribeToDataChanges()})).subscribe()}selectAvatar(M){return this.userPreferencesRepository?this.userPreferencesRepository.upsert({id:"userAvatars.selectedAvatar",key:"userAvatars.selectedAvatar",value:M.id}):(0,B._)(()=>new Error("Repositories not initialized"))}selectAppearance(M){if(!this.userAvatarsRepository)return(0,B._)(()=>new Error("Repositories not initialized"));const T=this.avatar$.getValue();if(!T)return(0,B._)(()=>new Error("Avatar not selected"));const E=JSON.parse(JSON.stringify(T));return E.selectedAppearance=M,this.userAvatarsRepository.upsert(E)}subscribeToDataChanges(){if(!this.userAvatarsRepository||!this.userPreferencesRepository)throw new Error("Repositories not initialized");this.userPreferencesRepository.observeOne({selector:{id:"userAvatars.selectedAvatar"}}).subscribe(M=>{this.avatarQuerySubscription&&this.avatarQuerySubscription.unsubscribe(),M&&this.userAvatarsRepository&&(this.avatarQuerySubscription=this.userAvatarsRepository.observeOne({selector:{id:M.value}}).pipe((0,D.w)(T=>T&&T._attachments&&Object.keys(T._attachments).length>0&&T?this.userAvatarsRepository.getAllAttachments(T.id).pipe((0,k.U)(y=>(T.appearances.forEach(c=>{const s=y.find(d=>d.id===c.portrait.id);s&&(c.portrait.src=URL.createObjectURL(s.data));const v=y.find(d=>d.id===c.id);v&&(c.src=URL.createObjectURL(v.data))}),T.selectedAppearance=T.appearances.find(c=>c.id===T.selectedAppearance.id),T))):(0,N.of)(T)),(0,F.b)(T=>this.avatar$.next(T))).subscribe())})}}return R.\u0275fac=function(M){return new(M||R)(O.\u0275\u0275inject(g.v2))},R.\u0275prov=O.\u0275\u0275defineInjectable({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()},405:(re,U,l)=>{l.d(U,{P:()=>S});var g=l(7777),D=l(1481),p=l(1623),F=l(1457),N=l(3454),k=l(9750);function O(R,I){if(1&R&&g.\u0275\u0275element(0,"img",3),2&R){const M=g.\u0275\u0275nextContext();g.\u0275\u0275property("src",M.src,g.\u0275\u0275sanitizeUrl)}}function w(R,I){1&R&&g.\u0275\u0275element(0,"cf-svg-icon",4)}let S=(()=>{class R{constructor(M){this.domSanitizer=M,this.showEmptyIcon=!1}set appearancePortrait(M){this.src=M?.src?this.domSanitizer.bypassSecurityTrustUrl(M.src):void 0}}return R.\u0275fac=function(M){return new(M||R)(g.\u0275\u0275directiveInject(D.H7))},R.\u0275cmp=g.\u0275\u0275defineComponent({type:R,selectors:[["cf-avatar-appearance-portrait"]],inputs:{appearancePortrait:"appearancePortrait",showEmptyIcon:"showEmptyIcon"},decls:3,vars:2,consts:[["cfBlock","avatar-appearance-portrait"],["cfElem","image",3,"src",4,"ngIf"],["src","assets/icons/mdi/head-question.svg",4,"ngIf"],["cfElem","image",3,"src"],["src","assets/icons/mdi/head-question.svg"]],template:function(M,T){1&M&&(g.\u0275\u0275elementStart(0,"div",0),g.\u0275\u0275template(1,O,1,1,"img",1),g.\u0275\u0275template(2,w,1,0,"cf-svg-icon",2),g.\u0275\u0275elementEnd()),2&M&&(g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",T.src),g.\u0275\u0275advance(1),g.\u0275\u0275property("ngIf",!T.src&&T.showEmptyIcon))},directives:[p.G,F.NgIf,N.e,k.b],encapsulation:2}),R})()},1718:(re,U,l)=>{l.d(U,{y:()=>N});var g=l(1457),D=l(4438),p=l(2051),F=l(7777);let N=(()=>{class k{}return k.\u0275fac=function(w){return new(w||k)},k.\u0275mod=F.\u0275\u0275defineNgModule({type:k}),k.\u0275inj=F.\u0275\u0275defineInjector({imports:[[g.CommonModule,D.O,p.Y]]}),k})()},899:(re,U,l)=>{l.d(U,{k:()=>g,R:()=>a});var g=(()=>((g||(g={})).Collection="collection",g))(),a=(()=>{return(D=a||(a={})).Read="read",D.Write="write",D.Delete="delete",a;var D})()},6435:(re,U,l)=>{l.d(U,{RY:()=>Ff,To:()=>Nf,v2:()=>Lv});var g={};l.r(g),l.d(g,{default:()=>_o});var w,S,a=l(7777),D=l(1611),p=l.n(D);function F(e){return"$"+e}function B(e){return e.substring(1)}function N(){this._store={}}function k(e){if(this._store=new N,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}N.prototype.get=function(e){var t=F(e);return this._store[t]},N.prototype.set=function(e,t){var n=F(e);return this._store[n]=t,!0},N.prototype.has=function(e){return F(e)in this._store},N.prototype.delete=function(e){var t=F(e),n=t in this._store;return delete this._store[t],n},N.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var i=t[n];e(this._store[i],i=B(i))}},Object.defineProperty(N.prototype,"size",{get:function(){return Object.keys(this._store).length}}),k.prototype.add=function(e){return this._store.set(e,!0)},k.prototype.has=function(e){return this._store.has(e)},k.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(k.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(w=Set,S=Map):(w=k,S=N);var R=l(3894),I=l.n(R),M=l(2302),T=l.n(M);function E(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}I()(E,Error),E.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new E(401,"unauthorized","Name or password is incorrect.");var c=new E(400,"bad_request","Missing JSON list of 'docs'"),s=new E(404,"not_found","missing"),v=new E(409,"conflict","Document update conflict"),d=new E(400,"bad_request","_id field must contain a string"),K=new E(412,"missing_id","_id is required for puts"),se=new E(400,"bad_request","Only reserved document ids may start with underscore."),pe=(new E(412,"precondition_failed","Database not open"),new E(500,"unknown_error","Database encountered an unknown error")),le=new E(500,"badarg","Some query argument is invalid"),z=(new E(400,"invalid_request","Request was invalid"),new E(400,"query_parse_error","Some query parameter is invalid")),Y=new E(500,"doc_validation","Bad special document member"),V=new E(400,"bad_request","Something wrong with the request"),J=new E(400,"bad_request","Document must be a JSON object"),_e=(new E(404,"not_found","Database not found"),new E(500,"indexed_db_went_bad","unknown")),ve=(new E(500,"web_sql_went_bad","unknown"),new E(500,"levelDB_went_went_bad","unknown"),new E(403,"forbidden","Forbidden by design doc validate_doc_update function"),new E(400,"bad_request","Invalid rev format")),ce=(new E(412,"file_exists","The database could not be created, the file already exists."),new E(412,"missing_stub","A pre-existing attachment stub wasn't found"));function Fe(e,t){function n(r){for(var i=Object.getOwnPropertyNames(e),f=0,h=i.length;f<h;f++)"function"!=typeof e[i[f]]&&(this[i[f]]=e[i[f]]);void 0!==r&&(this.reason=r)}return n.prototype=E.prototype,new n(t)}function Qe(e){if("object"!=typeof e){var t=e;(e=pe).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}new E(413,"invalid_url","Provided URL is invalid");var pt=l(9069),nt=l.n(pt);const _n=l(3306).v4;var bn=function(e){return atob(e)},cn=function(e){return btoa(e)};function pn(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(f){if("TypeError"!==f.name)throw f;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)r.append(e[i]);return r.getBlob(t.type)}}function tn(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function Yn(e,t){return pn([tn(e)],{type:t})}function ke(e,t){return Yn(bn(e),t)}function xt(e,t){var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(i){var f=i.target.result||"";if(r)return t(f);t(function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return t}(f))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Rt(e,t){xt(e,function(n){t(n)})}var Fn=l(3625),ii=l.n(Fn),Lr=self.setImmediate||self.setTimeout;function Ws(e,t,n,r,i){(n>0||r<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,r)),function(e,t){var n=new FileReader;n.onloadend=function(r){var i=r.target.result||new ArrayBuffer(0);t(i)},n.readAsArrayBuffer(e)}(t,function(f){e.append(f),i()})}function Ai(e,t,n,r,i){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),i()}function Br(e,t){var n="string"==typeof e,r=n?e.length:e.size,i=Math.min(32768,r),f=Math.ceil(r/i),h=0,C=n?new(ii()):new(ii().ArrayBuffer),L=n?Ai:Ws;function $(){Lr(oe)}function X(){var we=function(e){return cn(e)}(C.end(!0));t(we),C.destroy()}function oe(){var ue=h*i;h++,L(C,e,ue,ue+i,h<f?$:X)}oe()}function Pi(e){return ii().hash(e)}var de,hr,is=Function.prototype.toString,Fr=is.call(Object);function qt(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=qt(e[n]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return function(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&is.call(n)==Fr}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var i=qt(e[n]);void 0!==i&&(t[n]=i)}return t}function oi(e){var t=!1;return p()(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function $n(e){return p()(function(t){t=qt(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),i=new Promise(function(f,h){var C;try{var L=oi(function($,X){$?h($):f(X)});t.push(L),(C=e.apply(n,t))&&"function"==typeof C.then&&f(C)}catch($){h($)}});return r&&i.then(function(f){r(null,f)},r),i})}function nn(e,t){return $n(p()(function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var r=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var r=["api",e.name,t],i=0;i<n.length-1;i++)r.push(n[i]);e.constructor.emit("debug",r);var f=n[n.length-1];n[n.length-1]=function(h,C){var L=["api",e.name,t];L=L.concat(h?["error",h]:["success",C]),e.constructor.emit("debug",L),f(h,C)}}}(r,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise(function(i,f){r.taskqueue.addTask(function(h){h?f(h):i(r[e].apply(r,n))})})}))}function Sr(e,t){for(var n={},r=0,i=t.length;r<i;r++){var f=t[r];f in e&&(n[f]=e[f])}return n}function ui(e){return e}function Gs(e){return[{ok:e}]}function Se(e,t,n){var r=t.docs,i=new S;r.forEach(function(fe){i.has(fe.id)?i.get(fe.id).push(fe):i.set(fe.id,[fe])});var f=i.size,h=0,C=new Array(f);var oe=[];i.forEach(function(fe,be){oe.push(be)});var ue=0;!function we(){if(!(ue>=oe.length)){var fe=Math.min(ue+6,oe.length),be=oe.slice(ue,fe);(function(fe,be){fe.forEach(function(Te,Re){var Oe=be+Re,je=i.get(Te),$e=Sr(je[0],["atts_since","attachments"]);$e.open_revs=je.map(function(We){return We.rev}),$e.open_revs=$e.open_revs.filter(ui);var Xe=ui;0===$e.open_revs.length&&(delete $e.open_revs,Xe=Gs),["revs","attachments","binary","ajax","latest"].forEach(function(We){We in t&&($e[We]=t[We])}),e.get(Te,$e,function(We,et){var yt;yt=We?[{error:We}]:Xe(et),function(fe,be,Te){C[fe]={id:be,docs:Te},function(){var fe;++h===f&&(fe=[],C.forEach(function(be){be.docs.forEach(function(Te){fe.push({id:be.id,docs:[Te]})})}),n(null,{results:fe}))}()}(Oe,Te,yt),we()})})})(be,ue),ue+=be.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),de=!!localStorage.getItem("_pouch_check_localstorage")}catch{de=!1}function te(){return de}function Le(){var e;nt().call(this),this._listeners={},e=this,te()&&addEventListener("storage",function(t){e.emit(t.key)})}function rt(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}I()(Le,nt()),Le.prototype.addListener=function(e,t,n,r){if(!this._listeners[t]){var i=this,f=!1;this._listeners[t]=h,this.on(e,h)}function h(){if(i._listeners[t])if(f)f="waiting";else{f=!0;var C=Sr(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(C).on("change",function($){$.seq>r.since&&!r.cancelled&&(r.since=$.seq,r.onChange($))}).on("complete",function(){"waiting"===f&&T()(h),f=!1}).on("error",function(){f=!1})}}},Le.prototype.removeListener=function(e,t){t in this._listeners&&(nt().prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},Le.prototype.notifyLocalWindows=function(e){te()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},Le.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)},hr="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t};var Nr=hr;function Qs(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function Ys(e){var t;if(e?"string"!=typeof e?t=Fe(d):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=Fe(se)):t=Fe(K),t)throw t}function Pn(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(rt("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function us(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function cs(e){var t=us(e);return t?t.join("/"):null}function to(e,t){var n=[],r=[];for(var i in t)t.hasOwnProperty(i)&&(n.push(i),r.push(t[i]));return n.push(e),Function.apply(null,n).apply(null,r)}function jr(e,t,n){return new Promise(function(r,i){e.get(t,function(f,h){if(f){if(404!==f.status)return i(f);h={}}var C=h._rev,L=n(h);if(!L)return r({updated:!1,rev:C});L._id=t,L._rev=C,r(function(e,t,n){return e.put(t).then(function(r){return{updated:!0,rev:r.rev}},function(r){if(409!==r.status)throw r;return jr(e,t._id,n)})}(e,L,n))})})}function no(e,t){var n=qt(e);return t?(delete n._rev_tree,Pi(JSON.stringify(n))):_n().replace(/-/g,"").toLowerCase()}var ci=_n;function wr(e){for(var t,n,r,f,i=e.rev_tree.slice();f=i.pop();){var h=f.ids,C=h[2],L=f.pos;if(C.length)for(var $=0,X=C.length;$<X;$++)i.push({pos:L+1,ids:C[$]});else{var oe=!!h[1].deleted,ue=h[0];(!t||(r!==oe?r:n!==L?n<L:t<ue))&&(t=ue,n=L,r=oe)}}return n+"-"+t}function an(e,t){for(var r,n=e.slice();r=n.pop();)for(var i=r.pos,f=r.ids,h=f[2],C=t(0===h.length,i,f[0],r.ctx,f[1]),L=0,$=h.length;L<$;L++)n.push({pos:i+1,ids:h[L],ctx:C})}function ls(e,t){return e.pos-t.pos}function Cr(e){var t=[];an(e,function(i,f,h,C,L){i&&t.push({rev:f+"-"+h,pos:f,opts:L})}),t.sort(ls).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function li(e){for(var t=wr(e),n=Cr(e.rev_tree),r=[],i=0,f=n.length;i<f;i++){var h=n[i];h.rev!==t&&!h.opts.deleted&&r.push(h.rev)}return r}function ro(e){for(var r,t=[],n=e.slice();r=n.pop();){var i=r.pos,f=r.ids,h=f[0],C=f[1],L=f[2],$=0===L.length,X=r.history?r.history.slice():[];X.push({id:h,opts:C}),$&&t.push({pos:i+1-X.length,ids:X});for(var oe=0,ue=L.length;oe<ue;oe++)n.push({pos:i+1,ids:L[oe],history:X})}return t.reverse()}function fs(e,t){return e.pos-t.pos}function da(e,t,n){var r=function(e,t,n){for(var f,r=0,i=e.length;r<i;)n(e[f=r+i>>>1],t)<0?r=f+1:i=f;return r}(e,t,n);e.splice(r,0,t)}function fi(e,t){for(var n,r,i=t,f=e.length;i<f;i++){var h=e[i],C=[h.id,h.opts,[]];r?(r[2].push(C),r=C):n=r=C}return n}function ha(e,t){return e[0]<t[0]?-1:1}function ds(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var i=n.pop(),f=i.tree1,h=i.tree2;(f[1].status||h[1].status)&&(f[1].status="available"===f[1].status||"available"===h[1].status?"available":"missing");for(var C=0;C<h[2].length;C++)if(f[2][0]){for(var L=!1,$=0;$<f[2].length;$++)f[2][$][0]===h[2][C][0]&&(n.push({tree1:f[2][$],tree2:h[2][C]}),L=!0);L||(r="new_branch",da(f[2],h[2][C],ha))}else r="new_leaf",f[2][0]=h[2][C]}return{conflicts:r,tree:e}}function hs(e,t,n){var h,r=[],i=!1,f=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var C=0,L=e.length;C<L;C++){var $=e[C];if($.pos===t.pos&&$.ids[0]===t.ids[0])h=ds($.ids,t.ids),r.push({pos:$.pos,ids:h.tree}),i=i||h.conflicts,f=!0;else if(!0!==n){var X=$.pos<t.pos?$:t,oe=$.pos<t.pos?t:$,we=[],he=[];for(he.push({ids:X.ids,diff:oe.pos-X.pos,parent:null,parentIdx:null});he.length>0;){var fe=he.pop();if(0!==fe.diff)for(var be=fe.ids[2],Te=0,Re=be.length;Te<Re;Te++)he.push({ids:be[Te],diff:fe.diff-1,parent:fe.ids,parentIdx:Te});else fe.ids[0]===oe.ids[0]&&we.push(fe)}var Oe=we[0];Oe?(h=ds(Oe.ids,oe.ids),Oe.parent[2][Oe.parentIdx]=h.tree,r.push({pos:X.pos,ids:X.ids}),i=i||h.conflicts,f=!0):r.push($)}else r.push($)}return f||r.push(t),r.sort(fs),{tree:r,conflicts:i||"internal_node"}}function Dn(e,t,n){var r=hs(e,t),i=function(e,t){for(var r,i,n=ro(e),f=0,h=n.length;f<h;f++){var $,C=n[f],L=C.ids;if(L.length>t){r||(r={});var X=L.length-t;$={pos:C.pos+X,ids:fi(L,X)};for(var oe=0;oe<X;oe++)r[C.pos+oe+"-"+L[oe].id]=!0}else $={pos:C.pos,ids:fi(L,0)};i=i?hs(i,$,!0).tree:[$]}return r&&an(i,function(we,he,fe){delete r[he+"-"+fe]}),{tree:i,revs:r?Object.keys(r):[]}}(r.tree,n);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function pa(e){return e.ids}function Jn(e,t){t||(t=wr(e));for(var i,n=t.substring(t.indexOf("-")+1),r=e.rev_tree.map(pa);i=r.pop();){if(i[0]===n)return!!i[1].deleted;r=r.concat(i[2])}}function pr(e){return/^_local/.test(e)}function di(e){return e.reduce(function(t,n){return t[n]=!0,t},{})}var so=di(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),ga=di(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Di(e){if(!/^\d+-/.test(e))return Fe(ve);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function oo(e,t,n){n||(n={deterministic_revs:!0});var r,i,f,h={status:"available"};if(e._deleted&&(h.deleted=!0),t)if(e._id||(e._id=ci()),i=no(e,n.deterministic_revs),e._rev){if((f=Di(e._rev)).error)return f;e._rev_tree=[{pos:f.prefix,ids:[f.id,{status:"missing"},[[i,h,[]]]]}],r=f.prefix+1}else e._rev_tree=[{pos:1,ids:[i,h,[]]}],r=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,i=[r[0],t,[]],f=1,h=r.length;f<h;f++)i=[r[f],{status:"missing"},[i]];return[{pos:n,ids:i}]}(e._revisions,h),r=e._revisions.start,i=e._revisions.ids[0]),!e._rev_tree){if((f=Di(e._rev)).error)return f;e._rev_tree=[{pos:r=f.prefix,ids:[i=f.id,h,[]]}]}Ys(e._id),e._rev=r+"-"+i;var C={metadata:{},data:{}};for(var L in e)if(Object.prototype.hasOwnProperty.call(e,L)){var $="_"===L[0];if($&&!so[L]){var X=Fe(Y,L);throw X.message=Y.message+": "+L,X}$&&!ga[L]?C.metadata[L.slice(1)]=e[L]:C.data[L]=e[L]}return C}function ba(e,t,n){if(e.stub)return n();"string"==typeof e.data?function(e,t,n){var r=function(e){try{return bn(e)}catch{return{error:Fe(le,"Attachment is not a valid base64 string")}}}(e.data);if(r.error)return n(r.error);e.length=r.length,e.data="blob"===t?Yn(r,e.content_type):"base64"===t?cn(r):r,Br(r,function(i){e.digest="md5-"+i,n()})}(e,t,n):function(e,t,n){Br(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?Rt(e.data,function(i){e.data=i,n()}):"base64"===t?function(e,t){Rt(e,function(n){t(cn(n))})}(e.data,function(i){e.data=i,n()}):n()})}(e,t,n)}function lo(e,t,n,r,i,f,h,C,L){e=e||1e3;var X=C.new_edits,oe=new S,ue=0,we=t.length;function he(){++ue===we&&L&&L()}t.forEach(function(fe,be){if(fe._id&&pr(fe._id))n[fe._deleted?"_removeLocal":"_putLocal"](fe,{ctx:i},function(Oe,je){f[be]=Oe||je,he()});else{var Re=fe.metadata.id;oe.has(Re)?(we--,oe.get(Re).push([fe,be])):oe.set(Re,[[fe,be]])}}),oe.forEach(function(fe,be){var Te=0;function Re(){++Te<fe.length?Oe():he()}function Oe(){var je=fe[Te],$e=je[0],Xe=je[1];if(r.has(be))!function(e,t,n,r,i,f,h,C){if(function(e,t){for(var h,n=e.slice(),r=t.split("-"),i=parseInt(r[0],10),f=r[1];h=n.pop();){if(h.pos===i&&h.ids[0]===f)return!0;for(var C=h.ids[2],L=0,$=C.length;L<$;L++)n.push({pos:h.pos+1,ids:C[L]})}return!1}(t.rev_tree,n.metadata.rev)&&!C)return r[i]=n,f();var L=t.winningRev||wr(t),$="deleted"in t?t.deleted:Jn(t,L),X="deleted"in n.metadata?n.metadata.deleted:Jn(n.metadata),oe=/^1-/.test(n.metadata.rev);if($&&!X&&C&&oe){var ue=n.data;ue._rev=L,ue._id=n.metadata.id,n=oo(ue,C)}var we=Dn(t.rev_tree,n.metadata.rev_tree[0],e);if(C&&($&&X&&"new_leaf"!==we.conflicts||!$&&"new_leaf"!==we.conflicts||$&&!X&&"new_branch"===we.conflicts)){var fe=Fe(v);return r[i]=fe,f()}var be=n.metadata.rev;n.metadata.rev_tree=we.tree,n.stemmedRevs=we.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var Te=wr(n.metadata),Re=Jn(n.metadata,Te),Oe=$===Re?0:$<Re?-1:1;h(n,Te,Re,be===Te?Re:Jn(n.metadata,be),!0,Oe,i,f)}(e,r.get(be),$e,f,Xe,Re,h,X);else{var We=Dn([],$e.metadata.rev_tree[0],e);$e.metadata.rev_tree=We.tree,$e.stemmedRevs=We.stemmedRevs||[],function(fe,be,Te){var Re=wr(fe.metadata),Oe=Jn(fe.metadata,Re);if("was_delete"in C&&Oe)return f[be]=Fe(s,"deleted"),Te();var je=X&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(fe);if(je){var $e=Fe(v);return f[be]=$e,Te()}h(fe,Re,Oe,Oe,!1,Oe?0:1,be,Te)}($e,Xe,Re)}}Oe()})}var Oi=l(2899);function Ii(e){try{return JSON.stringify(e)}catch{return Oi.stringify(e)}}var en="document-store",ln="by-sequence",Tn="attach-store",mr="attach-seq-store",mn="meta-store",Wn="local-store",Ti="detect-blob-support";function jn(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(Fe(_e,n))}}function ms(e,t,n){return{data:Ii(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function Ar(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch{return Oi.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function Ri(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function vs(e,t,n,r){n?r(e?"string"!=typeof e?e:ke(e,t):pn([""],{type:t})):e?"string"!=typeof e?xt(e,function(i){r(cn(i))}):r(e):r("")}function wa(e,t,n,r){var i=Object.keys(e._attachments||{});if(!i.length)return r&&r();var f=0;function h(){++f===i.length&&r&&r()}i.forEach(function(L){t.attachments&&t.include_docs?function(L,$){var X=L._attachments[$],oe=X.digest;n.objectStore(Tn).get(oe).onsuccess=function(we){X.body=we.target.result.body,h()}}(e,L):(e._attachments[L].stub=!0,h())})}function hi(e,t){return Promise.all(e.map(function(n){if(n.doc&&n.doc._attachments){var r=Object.keys(n.doc._attachments);return Promise.all(r.map(function(i){var f=n.doc._attachments[i];if("body"in f){var h=f.body,C=f.content_type;return new Promise(function(L){vs(h,C,t,function($){n.doc._attachments[i]=Nr(Sr(f,["digest","content_type"]),{data:$}),L()})})}}))}}))}function ho(e,t,n){var r=[],i=n.objectStore(ln),f=n.objectStore(Tn),h=n.objectStore(mr),C=e.length;function L(){--C||!r.length||r.forEach(function(X){h.index("digestSeq").count(IDBKeyRange.bound(X+"::",X+"::\uffff",!1,!1)).onsuccess=function(ue){ue.target.result||f.delete(X)}})}e.forEach(function(X){i.index("_doc_id_rev").getKey(t+"::"+X).onsuccess=function(we){var he=we.target.result;if("number"!=typeof he)return L();i.delete(he),h.index("seq").openCursor(IDBKeyRange.only(he)).onsuccess=function(be){var Te=be.target.result;if(Te){var Re=Te.value.digestSeq.split("::")[0];r.push(Re),h.delete(Te.primaryKey),Te.continue()}else L()}}})}function On(e,t,n){try{return{txn:e.transaction(t,n)}}catch(r){return{error:r}}}var zr=new Le;function Un(e,t,n,r,i,f){for(var C,L,$,X,oe,ue,we,he,h=t.docs,fe=0,be=h.length;fe<be;fe++){var Te=h[fe];Te._id&&pr(Te._id)||(Te=h[fe]=oo(Te,n.new_edits,e)).error&&!we&&(we=Te)}if(we)return f(we);var Re=!1,Oe=0,je=new Array(h.length),$e=new S,Xe=!1;function yt(){Re=!0,Ot()}function Ot(){!he||!Re||(he.docCount+=Oe,ue.put(he))}function Bt(){Xe||(zr.notify(r._meta.name),f(null,je))}function Nt(Ue,Ye,it,mt,ot,vt,dt,Ve){Ue.metadata.winningRev=Ye,Ue.metadata.deleted=it;var ht=Ue.data;if(ht._id=Ue.metadata.id,ht._rev=Ue.metadata.rev,mt&&(ht._deleted=!0),ht._attachments&&Object.keys(ht._attachments).length)return function(Ue,Ye,it,mt,ot,vt){var Ve=0,ht=Object.keys(Ue.data._attachments);function Dt(){Ve===ht.length&&Ae(Ue,Ye,it,mt,ot,vt)}function Vt(){Ve++,Dt()}ht.forEach(function($t){var jt=Ue.data._attachments[$t];if(jt.stub)Ve++,Dt();else{var Wt=jt.data;delete jt.data,jt.revpos=parseInt(Ye,10),function(Ue,Ye,it){X.count(Ue).onsuccess=function(ot){if(ot.target.result)return it();X.put({digest:Ue,body:Ye}).onsuccess=it}}(jt.digest,Wt,Vt)}})}(Ue,Ye,it,ot,dt,Ve);Oe+=vt,Ot(),Ae(Ue,Ye,it,ot,dt,Ve)}function Ae(Ue,Ye,it,mt,ot,vt){var dt=Ue.data,Ve=Ue.metadata;function ht(jt){var Wt=Ue.stemmedRevs||[];mt&&r.auto_compaction&&(Wt=Wt.concat(function(e){var t=[];return an(e.rev_tree,function(n,r,i,f,h){"available"===h.status&&!n&&(t.push(r+"-"+i),h.status="missing")}),t}(Ue.metadata))),Wt&&Wt.length&&ho(Wt,Ue.metadata.id,C),Ve.seq=jt.target.result;var on=ms(Ve,Ye,it);L.put(on).onsuccess=Vt}function Vt(){je[ot]={ok:!0,id:Ve.id,rev:Ve.rev},$e.set(Ue.metadata.id,Ue.metadata),function(Ue,Ye,it){var mt=0,ot=Object.keys(Ue.data._attachments||{});if(!ot.length)return it();function vt(){++mt===ot.length&&it()}function dt(ht){var Vt=oe.put({seq:Ye,digestSeq:Ue.data._attachments[ht].digest+"::"+Ye});Vt.onsuccess=vt,Vt.onerror=function($t){$t.preventDefault(),$t.stopPropagation(),vt()}}for(var Ve=0;Ve<ot.length;Ve++)dt(ot[Ve])}(Ue,Ve.seq,vt)}dt._doc_id_rev=Ve.id+"::"+Ve.rev,delete dt._id,delete dt._rev;var $t=$.put(dt);$t.onsuccess=ht,$t.onerror=function(jt){jt.preventDefault(),jt.stopPropagation(),$.index("_doc_id_rev").getKey(dt._doc_id_rev).onsuccess=function(lr){$.put(dt,lr.target.result).onsuccess=ht}}}!function(e,t,n){if(!e.length)return n();var i,r=0;function f(){r++,e.length===r&&(i?n(i):n())}e.forEach(function(h){var C=h.data&&h.data._attachments?Object.keys(h.data._attachments):[],L=0;if(!C.length)return f();function $(oe){i=oe,++L===C.length&&f()}for(var X in h.data._attachments)h.data._attachments.hasOwnProperty(X)&&ba(h.data._attachments[X],t,$)})}(h,r._meta.blobSupport?"blob":"base64",function(Ue){if(Ue)return f(Ue);!function(){var Ye=On(i,[en,ln,Tn,Wn,mr,mn],"readwrite");if(Ye.error)return f(Ye.error);(C=Ye.txn).onabort=jn(f),C.ontimeout=jn(f),C.oncomplete=Bt,L=C.objectStore(en),$=C.objectStore(ln),X=C.objectStore(Tn),oe=C.objectStore(mr),(ue=C.objectStore(mn)).get(mn).onsuccess=function(it){he=it.target.result,Ot()},function(Ue){var Ye=[];if(h.forEach(function(vt){vt.data&&vt.data._attachments&&Object.keys(vt.data._attachments).forEach(function(dt){var Ve=vt.data._attachments[dt];Ve.stub&&Ye.push(Ve.digest)})}),!Ye.length)return Ue();var mt,it=0;Ye.forEach(function(vt){!function(Ue,Ye){X.get(Ue).onsuccess=function(mt){if(mt.target.result)Ye();else{var ot=Fe(ce,"unknown stub attachment with digest "+Ue);ot.status=412,Ye(ot)}}}(vt,function(dt){dt&&!mt&&(mt=dt),++it===Ye.length&&Ue(mt)})})}(function(it){if(it)return Xe=!0,f(it);!function(){if(h.length)for(var Ue=0,mt=0,ot=h.length;mt<ot;mt++){var vt=h[mt];vt._id&&pr(vt._id)?Ye():L.get(vt.metadata.id).onsuccess=it}function Ye(){++Ue===h.length&&lo(e.revs_limit,h,r,$e,C,je,Nt,n,yt)}function it(Ve){var ht=Ar(Ve.target.result);ht&&$e.set(ht.id,ht),Ye()}}()})}()})}function Mi(e,t,n,r,i){var h,C,L;function $(we){C=we.target.result,h&&i(h,C,L)}function X(we){h=we.target.result,C&&i(h,C,L)}function ue(we){var he=we.target.result;if(!he)return i();i([he.key],[he.value],he)}-1===r&&(r=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n?(L={continue:function(){if(!h.length)return i();var he,we=h[h.length-1];if(t&&t.upper)try{he=IDBKeyRange.bound(we,t.upper,!0,t.upperOpen)}catch(fe){if("DataError"===fe.name&&0===fe.code)return i()}else he=IDBKeyRange.lowerBound(we,!0);h=null,C=null,e.getAll(t=he,r).onsuccess=$,e.getAllKeys(t,r).onsuccess=X}},e.getAll(t,r).onsuccess=$,e.getAllKeys(t,r).onsuccess=X):n?e.openCursor(t,"prev").onsuccess=ue:e.openCursor(t).onsuccess=ue}var xi=!1,gs=[];function go(){xi||!gs.length||(xi=!0,gs.shift()())}function Oa(e,t,n,r){if((e=qt(e)).continuous){var i=n+":"+ci();return zr.addListener(n,i,t,e),zr.notify(n),{cancel:function(){zr.removeListener(n,i)}}}var f=e.doc_ids&&new w(e.doc_ids);e.since=e.since||0;var h=e.since,C="limit"in e?e.limit:-1;0===C&&(C=1);var ue,we,he,fe,L=[],$=0,X=function(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(i){i.doc||(i.doc={});var f=n&&function(e,t,n){try{return!e(t,n)}catch(i){var r="Filter function threw: "+i.toString();return Fe(V,r)}}(e.filter,i.doc,t);if("object"==typeof f)return f;if(f)return!1;if(e.include_docs){if(!e.attachments)for(var h in i.doc._attachments)i.doc._attachments.hasOwnProperty(h)&&(i.doc._attachments[h].stub=!0)}else delete i.doc;return!0}}(e),oe=new S;function Te(et,yt,Pt,Ot){return Pt.seq!==yt?Ot():Pt.winningRev===et._rev?Ot(Pt,et):void(fe.get(et._id+"::"+Pt.winningRev).onsuccess=function(St){Ot(Pt,Ri(St.target.result))})}function Oe(){e.complete(null,{results:L,last_seq:h})}var $e=[en,ln];e.attachments&&$e.push(Tn);var Xe=On(r,$e,"readonly");if(Xe.error)return e.complete(Xe.error);(ue=Xe.txn).onabort=jn(e.complete),ue.oncomplete=function(){!e.continuous&&e.attachments?hi(L).then(Oe):Oe()},we=ue.objectStore(ln),he=ue.objectStore(en),fe=we.index("_doc_id_rev"),Mi(we,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,C,function(et,yt,Pt){if(Pt&&et.length){var Ot=new Array(et.length),Ft=new Array(et.length),Mt=0;yt.forEach(function(Nt,Ae){!function(et,yt,Pt){if(f&&!f.has(et._id))return Pt();var Ot=oe.get(et._id);if(Ot)return Te(et,yt,Ot,Pt);he.get(et._id).onsuccess=function(Ft){Ot=Ar(Ft.target.result),oe.set(et._id,Ot),Te(et,yt,Ot,Pt)}}(Ri(Nt),et[Ae],function(Ze,Ue){Ft[Ae]=Ze,Ot[Ae]=Ue,++Mt===et.length&&function(){for(var Nt=[],Ae=0,Pe=Ot.length;Ae<Pe&&$!==C;Ae++){var xe=Ot[Ae];xe&&Nt.push(Bt(Ft[Ae],xe))}Promise.all(Nt).then(function(Ue){for(var Ye=0,it=Ue.length;Ye<it;Ye++)Ue[Ye]&&e.onChange(Ue[Ye])}).catch(e.complete),$!==C&&Pt.continue()}()})})}function Bt(Nt,Ae){var Pe=e.processChange(Ae,Nt,e);h=Pe.seq=Nt.seq;var xe=X(Pe);return"object"==typeof xe?Promise.reject(xe):xe?($++,e.return_docs&&L.push(Pe),e.attachments&&e.include_docs?new Promise(function(Ze){wa(Ae,e,ue,function(){hi([Pe],e.binary).then(function(){Ze(Pe)})})}):Promise.resolve(Pe)):Promise.resolve()}})}var ys,$r=new S,ki=new S;function _s(e,t){var n=this;!function(e,t,n){gs.push(function(){e(function(f,h){(function(e,t,n,r){try{e(t,n)}catch(i){r.emit("error",i)}})(t,f,h,n),xi=!1,T()(function(){go()})})}),go()}(function(r){!function(e,t,n){var r=t.name,i=null;function h(he,fe){var be=he.objectStore(en);be.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),be.openCursor().onsuccess=function(Te){var Re=Te.target.result;if(Re){var Oe=Re.value,je=Jn(Oe);Oe.deletedOrLocal=je?"1":"0",be.put(Oe),Re.continue()}else fe()}}function L(he,fe){var be=he.objectStore(Wn),Te=he.objectStore(en),Re=he.objectStore(ln);Te.openCursor().onsuccess=function(je){var $e=je.target.result;if($e){var Xe=$e.value,We=Xe.id,et=pr(We),yt=wr(Xe);if(et){var Pt=We+"::"+yt,Ot=We+"::",Ft=We+"::~",Bt=Re.index("_doc_id_rev"),St=IDBKeyRange.bound(Ot,Ft,!1,!1),Mt=Bt.openCursor(St);Mt.onsuccess=function(Nt){if(Mt=Nt.target.result){var Ae=Mt.value;Ae._doc_id_rev===Pt&&be.put(Ae),Re.delete(Mt.primaryKey),Mt.continue()}else Te.delete($e.primaryKey),$e.continue()}}else $e.continue()}else fe&&fe()}}function X(he,fe){var be=he.objectStore(ln),Te=he.objectStore(Tn),Re=he.objectStore(mr);Te.count().onsuccess=function(je){if(!je.target.result)return fe();be.openCursor().onsuccess=function(Xe){var We=Xe.target.result;if(!We)return fe();for(var et=We.value,yt=We.primaryKey,Pt=Object.keys(et._attachments||{}),Ot={},Ft=0;Ft<Pt.length;Ft++)Ot[et._attachments[Pt[Ft]].digest]=!0;var St=Object.keys(Ot);for(Ft=0;Ft<St.length;Ft++)Re.put({seq:yt,digestSeq:St[Ft]+"::"+yt});We.continue()}}}function oe(he){var be=he.objectStore(ln),Te=he.objectStore(en);Te.openCursor().onsuccess=function(Oe){var et,yt,Pt,Ot,je=Oe.target.result;if(je){var $e=function(Oe){return Oe.data?Ar(Oe):(Oe.deleted="1"===Oe.deletedOrLocal,Oe)}(je.value);if($e.winningRev=$e.winningRev||wr($e),$e.seq)return We();et=$e.id+"::",yt=$e.id+"::\uffff",Pt=be.index("_doc_id_rev").openCursor(IDBKeyRange.bound(et,yt)),Ot=0,Pt.onsuccess=function(Ft){var Bt=Ft.target.result;if(!Bt)return $e.seq=Ot,We();var St=Bt.primaryKey;St>Ot&&(Ot=St),Bt.continue()}}function We(){var et=ms($e,$e.winningRev,$e.deleted);Te.put(et).onsuccess=function(){je.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=$n(function(he){he(null,e._meta.instanceId)}),e._bulkDocs=function(fe,be,Te){Un(t,fe,be,e,i,Te)},e._get=function(fe,be,Te){var Re,Oe,je,$e=be.ctx;if(!$e){var Xe=On(i,[en,ln,Tn],"readonly");if(Xe.error)return Te(Xe.error);$e=Xe.txn}function We(){Te(je,{doc:Re,metadata:Oe,ctx:$e})}$e.objectStore(en).get(fe).onsuccess=function(et){if(!(Oe=Ar(et.target.result)))return je=Fe(s,"missing"),We();var yt;if(be.rev)yt=be.latest?function(e,t){for(var r,n=t.rev_tree.slice();r=n.pop();){var i=r.pos,f=r.ids,h=f[0],C=f[1],L=f[2],$=0===L.length,X=r.history?r.history.slice():[];if(X.push({id:h,pos:i,opts:C}),$)for(var oe=0,ue=X.length;oe<ue;oe++){var we=X[oe];if(we.pos+"-"+we.id===e)return i+"-"+h}for(var fe=0,be=L.length;fe<be;fe++)n.push({pos:i+1,ids:L[fe],history:X})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(be.rev,Oe):be.rev;else if(yt=Oe.winningRev,Jn(Oe))return je=Fe(s,"deleted"),We();var Ot=$e.objectStore(ln),Ft=Oe.id+"::"+yt;Ot.index("_doc_id_rev").get(Ft).onsuccess=function(Bt){if((Re=Bt.target.result)&&(Re=Ri(Re)),!Re)return je=Fe(s,"missing"),We();We()}}},e._getAttachment=function(he,fe,be,Te,Re){var Oe;if(Te.ctx)Oe=Te.ctx;else{var je=On(i,[en,ln,Tn],"readonly");if(je.error)return Re(je.error);Oe=je.txn}var $e=be.digest,Xe=be.content_type;Oe.objectStore(Tn).get($e).onsuccess=function(We){vs(We.target.result.body,Xe,Te.binary,function(yt){Re(null,yt)})}},e._info=function(fe){var be,Te,Re=On(i,[mn,ln],"readonly");if(Re.error)return fe(Re.error);var Oe=Re.txn;Oe.objectStore(mn).get(mn).onsuccess=function(je){Te=je.target.result.docCount},Oe.objectStore(ln).openCursor(null,"prev").onsuccess=function(je){var $e=je.target.result;be=$e?$e.key:0},Oe.oncomplete=function(){fe(null,{doc_count:Te,update_seq:be,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(fe,be){!function(e,t,n){var X,oe,h="keys"in e&&e.keys,C=e.skip||0,L="number"==typeof e.limit?e.limit:-1;if(!h&&(X=function(e,t,n,r,i){try{if(e&&t)return i?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return i?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return i?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(f){return{error:f}}return null}("startkey"in e&&e.startkey,"endkey"in e&&e.endkey,!1!==e.inclusive_end,"key"in e&&e.key,e.descending),(oe=X&&X.error)&&("DataError"!==oe.name||0!==oe.code)))return n(Fe(_e,oe.name));var ue=[en,ln,mn];e.attachments&&ue.push(Tn);var we=On(t,ue,"readonly");if(we.error)return n(we.error);var he=we.txn;he.oncomplete=function(){e.attachments?hi(Oe,e.binary).then(Ft):Ft()},he.onabort=jn(n);var je,$e,Mt,fe=he.objectStore(en),be=he.objectStore(ln),Te=he.objectStore(mn),Re=be.index("_doc_id_rev"),Oe=[];function et(St,Mt){var Nt={id:Mt.id,key:Mt.id,value:{rev:St}};Mt.deleted?h&&(Oe.push(Nt),Nt.value.deleted=!0,Nt.doc=null):C--<=0&&(Oe.push(Nt),e.include_docs&&function(St,Mt,Nt){Re.get(St.id+"::"+Nt).onsuccess=function(xe){if(Mt.doc=Ri(xe.target.result)||{},e.conflicts){var Ze=li(St);Ze.length&&(Mt.doc._conflicts=Ze)}wa(Mt.doc,e,he)}}(Mt,Nt,St))}function yt(St){for(var Mt=0,Nt=St.length;Mt<Nt&&Oe.length!==L;Mt++){var Ae=St[Mt];if(Ae.error&&h)Oe.push(Ae);else{var Pe=Ar(Ae);et(Pe.winningRev,Pe)}}}function Pt(St,Mt,Nt){!Nt||(yt(Mt),Oe.length<L&&Nt.continue())}function Ft(){var St={total_rows:je,offset:e.skip,rows:Oe};e.update_seq&&void 0!==$e&&(St.update_seq=$e),n(null,St)}if(Te.get(mn).onsuccess=function(St){je=St.target.result.docCount},e.update_seq&&(Mt=function(St){St.target.result&&St.target.result.length>0&&($e=St.target.result[0])},be.openCursor(null,"prev").onsuccess=function(Ae){var Pe=Ae.target.result,xe=void 0;return Pe&&Pe.key&&(xe=Pe.key),Mt({target:{result:[xe]}})}),!oe&&0!==L){if(h)return function(e,t,n){var r=new Array(e.length),i=0;e.forEach(function(f,h){t.get(f).onsuccess=function(C){r[h]=C.target.result?C.target.result:{key:f,error:"not_found"},++i===e.length&&n(e,r,{})}})}(e.keys,fe,Pt);if(-1===L)return function(e,t,n){if("function"!=typeof e.getAll){var r=[];e.openCursor(t).onsuccess=function(f){var h=f.target.result;h?(r.push(h.value),h.continue()):n({target:{result:r}})}}else e.getAll(t).onsuccess=n}(fe,X,function(St){var Mt=St.target.result;e.descending&&(Mt=Mt.reverse()),yt(Mt)});Mi(fe,X,e.descending,L+C,Pt)}}(fe,i,be)},e._changes=function(fe){return Oa(fe,e,r,i)},e._close=function(he){i.close(),$r.delete(r),he()},e._getRevisionTree=function(he,fe){var be=On(i,[en],"readonly");if(be.error)return fe(be.error);be.txn.objectStore(en).get(he).onsuccess=function(Oe){var je=Ar(Oe.target.result);je?fe(null,je.rev_tree):fe(Fe(s))}},e._doCompaction=function(he,fe,be){var Re=On(i,[en,ln,Tn,mr],"readwrite");if(Re.error)return be(Re.error);var Oe=Re.txn;Oe.objectStore(en).get(he).onsuccess=function($e){var Xe=Ar($e.target.result);an(Xe.rev_tree,function(yt,Pt,Ot,Ft,Bt){-1!==fe.indexOf(Pt+"-"+Ot)&&(Bt.status="missing")}),ho(fe,he,Oe);var We=Xe.winningRev,et=Xe.deleted;Oe.objectStore(en).put(ms(Xe,We,et))},Oe.onabort=jn(be),Oe.oncomplete=function(){be()}},e._getLocal=function(he,fe){var be=On(i,[Wn],"readonly");if(be.error)return fe(be.error);var Re=be.txn.objectStore(Wn).get(he);Re.onerror=jn(fe),Re.onsuccess=function(Oe){var je=Oe.target.result;je?(delete je._doc_id_rev,fe(null,je)):fe(Fe(s))}},e._putLocal=function(he,fe,be){"function"==typeof fe&&(be=fe,fe={}),delete he._revisions;var Te=he._rev,Re=he._id;he._rev=Te?"0-"+(parseInt(Te.split("-")[1],10)+1):"0-1";var je,Oe=fe.ctx;if(!Oe){var $e=On(i,[Wn],"readwrite");if($e.error)return be($e.error);(Oe=$e.txn).onerror=jn(be),Oe.oncomplete=function(){je&&be(null,je)}}var We,Xe=Oe.objectStore(Wn);Te?(We=Xe.get(Re)).onsuccess=function(et){var yt=et.target.result;yt&&yt._rev===Te?Xe.put(he).onsuccess=function(){je={ok:!0,id:he._id,rev:he._rev},fe.ctx&&be(null,je)}:be(Fe(v))}:((We=Xe.add(he)).onerror=function(et){be(Fe(v)),et.preventDefault(),et.stopPropagation()},We.onsuccess=function(){je={ok:!0,id:he._id,rev:he._rev},fe.ctx&&be(null,je)})},e._removeLocal=function(he,fe,be){"function"==typeof fe&&(be=fe,fe={});var Te=fe.ctx;if(!Te){var Re=On(i,[Wn],"readwrite");if(Re.error)return be(Re.error);(Te=Re.txn).oncomplete=function(){Oe&&be(null,Oe)}}var Oe,je=he._id,$e=Te.objectStore(Wn),Xe=$e.get(je);Xe.onerror=jn(be),Xe.onsuccess=function(We){var et=We.target.result;et&&et._rev===he._rev?($e.delete(je),Oe={ok:!0,id:je,rev:"0-0"},fe.ctx&&be(null,Oe)):be(Fe(s))}},e._destroy=function(he,fe){zr.removeAllListeners(r);var be=ki.get(r);be&&be.result&&(be.result.close(),$r.delete(r));var Te=indexedDB.deleteDatabase(r);Te.onsuccess=function(){ki.delete(r),te()&&r in localStorage&&delete localStorage[r],fe(null,{ok:!0})},Te.onerror=jn(fe)};var ue=$r.get(r);if(ue)return i=ue.idb,e._meta=ue.global,T()(function(){n(null,e)});var we=indexedDB.open(r,5);ki.set(r,we),we.onupgradeneeded=function(he){var fe=he.target.result;if(he.oldVersion<1)return function(he){var fe=he.createObjectStore(en,{keyPath:"id"});he.createObjectStore(ln,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),he.createObjectStore(Tn,{keyPath:"digest"}),he.createObjectStore(mn,{keyPath:"id",autoIncrement:!1}),he.createObjectStore(Ti),fe.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),he.createObjectStore(Wn,{keyPath:"_id"});var be=he.createObjectStore(mr,{autoIncrement:!0});be.createIndex("seq","seq"),be.createIndex("digestSeq","digestSeq",{unique:!0})}(fe);var be=he.currentTarget.transaction;he.oldVersion<3&&function(he){he.createObjectStore(Wn,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(fe),he.oldVersion<4&&function(he){var fe=he.createObjectStore(mr,{autoIncrement:!0});fe.createIndex("seq","seq"),fe.createIndex("digestSeq","digestSeq",{unique:!0})}(fe);var Te=[h,L,X,oe],Re=he.oldVersion;!function Oe(){var je=Te[Re-1];Re++,je&&je(be,Oe)}()},we.onsuccess=function(he){(i=he.target.result).onversionchange=function(){i.close(),$r.delete(r)},i.onabort=function(We){rt("error","Database has a global failure",We.target.error),i.close(),$r.delete(r)};var Te,Re,Oe,je,fe=i.transaction([mn,Ti,en],"readwrite"),be=!1;function $e(){void 0===Oe||!be||(e._meta={name:r,instanceId:je,blobSupport:Oe},$r.set(r,{idb:i,global:e._meta}),n(null,e))}function Xe(){if(void 0!==Re&&void 0!==Te){var We=r+"_id";We in Te?je=Te[We]:Te[We]=je=ci(),Te.docCount=Re,fe.objectStore(mn).put(Te)}}fe.objectStore(mn).get(mn).onsuccess=function(We){Te=We.target.result||{id:mn},Xe()},function(e,t){e.objectStore(en).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(r){Re=r.target.result,Xe()}}(fe),ys||(ys=function(e){return new Promise(function(t){var n=pn([""]),r=e.objectStore(Ti).put(n,"key");r.onsuccess=function(){var i=navigator.userAgent.match(/Chrome\/(\d+)/),f=navigator.userAgent.match(/Edge\//);t(f||!i||parseInt(i[1],10)>=43)},r.onerror=e.onabort=function(i){i.preventDefault(),i.stopPropagation(),t(!1)}}).catch(function(){return!1})}(fe)),ys.then(function(We){Oe=We,$e()}),fe.oncomplete=function(){be=!0,$e()},fe.onabort=jn(n)},we.onerror=function(he){var fe=he.target.error&&he.target.error.message;fe?-1!==fe.indexOf("stored database is a higher version")&&(fe=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):fe="Failed to open indexedDB, are you in private browsing mode?",rt("error",fe),n(Fe(_e,fe))}}(n,e,r)},t,n.constructor)}_s.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch{return!1}};const _o=function(e){e.adapter("idb",_s,!0)};var Gt=l(4004),un=l(4966),Li=l.n(un),Ia=l(1452),Ta=l.n(Ia),Ra=l(9456),Ma=l.n(Ra);function Ut(e){var t=e.split("-"),n="RxDB";return t.forEach(function(r){n+=Es(r)}),n+="Plugin",new Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { "+n+" } from 'rxdb/plugins/"+e+"';\n            addRxPlugin("+n+");\n        ")}function Je(e){return"string"!=typeof e&&(e=JSON.stringify(e)),Ta().hash("rxdb-specific-hash-salt"+e)}var Bi=0;function Xn(){var e=(new Date).getTime();return e<=Bi&&(e=Bi+1),Bi=e,e}function Wr(){return new Promise(function(e){return setTimeout(e,0)})}function ka(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){return setTimeout(t,e)})}Promise.resolve(!0);var qn=Promise.resolve(!1),bo=Promise.resolve(null),Pr=Promise.resolve();function Es(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)}function mi(e){for(;"."===e.charAt(0);)e=e.substr(1);for(;"."===e.slice(-1);)e=e.slice(0,-1);return e}function vi(e){if(!e)throw new Error("ensureNotFalsy() is falsy");return e}function Ni(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return e;if(!t&&Array.isArray(e))return e.sort(function(r,i){return"string"==typeof r&&"string"==typeof i?r.localeCompare(i):"object"==typeof r?1:-1}).map(function(r){return Ni(r,t)});if("object"==typeof e&&!Array.isArray(e)){if(e instanceof RegExp)return e;var n={};return Object.keys(e).sort(function(r,i){return r.localeCompare(i)}).forEach(function(r){n[r]=Ni(e[r],t)}),n}return e}function Ua(e,t){return t instanceof RegExp?t.toString():t}function ji(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="abcdefghijklmnopqrstuvwxyz",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function $a(e){var t={db:e};return"string"==typeof e&&(t={adapter:e,db:void 0}),t}var Rn=function(e){return e&&Li()(e,!1)};function Et(e){return Object.assign({},e)}function Ui(e){return e[Object.keys(e)[0]]}var zi=Ma()();function yi(e){var t={};for(var n in e)if(e.hasOwnProperty(n))if("object"==typeof e[n]){var r=yi(e[n]);for(var i in r)!r.hasOwnProperty(i)||(t[n+"."+i]=r[i])}else t[n]=e[n];return t}function Dr(e){return function(e){var t=e.split("-");return{height:parseInt(t[0],10),hash:t[1]}}(e).height}function Kr(e,t,n){return Object.defineProperty(e,t,{get:function(){return n}}),n}function Cs(e){return!(!e.includes("/")&&!e.includes("\\"))}function Hr(e,t){var n=e.get(t);if(!n)throw new Error("missing value from map "+t);return n}function wn(e){return Array.isArray(e)}var Kn_createBlobBuffer=function(t,n){var r;if(zi)return Buffer.from(t,{type:n});try{r=new Blob([t],{type:n})}catch{r=Buffer.from(t,{type:n})}return r},Kn_toString=function(t){return"string"==typeof t?Promise.resolve(t):"undefined"!=typeof Buffer&&t instanceof Buffer?Wr().then(function(){return t.toString()}):new Promise(function(n){var r=new FileReader;r.addEventListener("loadend",function(f){n(f.target.result)}),"[object Uint8Array]"===Object.prototype.toString.call(t)&&(t=new Blob([t])),r.readAsText(t)})},er={bufferSize:1,refCount:!0};function In(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vr(e,t,n){return t&&In(e.prototype,t),n&&In(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vn(e,t){return(vn=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r})(e,t)}function $i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,vn(e,t)}function Mn(e){return(Mn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(e)}function Ki(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Or(e,t,n){return(Or=Ki()?Reflect.construct:function(i,f,h){var C=[null];C.push.apply(C,f);var $=new(Function.bind.apply(i,C));return h&&vn($,h.prototype),$}).apply(null,arguments)}function tr(e){var t="function"==typeof Map?new Map:void 0;return tr=function(r){if(null===r||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return Or(r,arguments,Mn(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),vn(i,r)},tr(e)}var dn={isDevMode:function(){return!1},deepFreezeWhenDevMode:function(t){return t},validatePassword:function(t){throw Ut("encryption")},tunnelErrorMessage:function(t){return"RxDB Error-Code "+t+".\n        - To find out what this means, use the dev-mode-plugin https://pubkey.github.io/rxdb/custom-build.html#dev-mode\n        - Or search for this code https://github.com/pubkey/rxdb/search?q="+t+"\n        "}};function As(e,t,n){return"RxError ("+t+"):\n"+e+"\n"+function(e){var t="";return 0===Object.keys(e).length||(t+="Given parameters: {\n",t+=Object.keys(e).map(function(n){var r="[object Object]";try{r=JSON.stringify(e[n],function(i,f){return void 0===f?null:f},2)}catch{}return n+":"+r}).join("\n"),t+="}"),t}(n)}var Ao=function(e){function t(r,i){var f,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},C=As(i,r,h);return(f=e.call(this,C)||this).code=r,f.message=C,f.parameters=h,f.rxdb=!0,f}return $i(t,e),t.prototype.toString=function(){return this.message},vr(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}]),t}(tr(Error)),Wa=function(e){function t(r,i){var f,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},C=As(i,r,h);return(f=e.call(this,C)||this).code=r,f.message=C,f.parameters=h,f.rxdb=!0,f}return $i(t,e),t.prototype.toString=function(){return this.message},vr(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}]),t}(tr(TypeError));function Ne(e,t){return new Ao(e,dn.tunnelErrorMessage(e),t)}function zt(e,t){return new Wa(e,dn.tunnelErrorMessage(e),t)}var Vr={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],postDestroyRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],createRxQuery:[],preQueryMatcher:[],preSortComparator:[],prePrepareQuery:[],preWriteToStorageInstance:[],postReadFromInstance:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[]};function rn(e,t){Vr[e].forEach(function(n){return n(t)})}function Hi(e,t){return Promise.all(Vr[e].map(function(n){return n(t)}))}var Ir=function(t,n){try{return Promise.resolve(t.findLocalDocumentsById([n])).then(function(r){return r[n]||null})}catch(r){return Promise.reject(r)}},gr=function(t,n){try{return Promise.resolve(t.bulkWrite([n])).then(function(r){if(Object.keys(r.error).length>0)throw Ui(r.error);return Ui(r.success)})}catch(r){return Promise.reject(r)}},Do=function(t,n){try{return Promise.resolve(t.findDocumentsById([n],!1)).then(function(r){return r[n]||null})}catch(r){return Promise.reject(r)}},Ds=function(t,n){try{var r=t.statics.prepareQuery(n.schema,{selector:{}});return Promise.resolve(n.query(r)).then(function(i){return i.documents})}catch(i){return Promise.reject(i)}};function nr(e,t,n){var r,f;if("DELETE"!==t.change.operation)if(n){var i={collection:n,doc:t.change.doc};rn("postReadFromInstance",i),r=n._crypter.decrypt(r=i.doc)}else r=t.change.doc;if("INSERT"!==t.change.operation)if(n){var h={collection:n,doc:t.change.previous};rn("postReadFromInstance",h),f=n._crypter.decrypt(f=h.doc)}else f=t.change.previous;return{eventId:t.eventId,documentId:t.documentId,collectionName:n?n.name:void 0,startTime:t.startTime,endTime:t.endTime,isLocal:e,operation:t.change.operation,documentData:dn.deepFreezeWhenDevMode(r),previousDocumentData:dn.deepFreezeWhenDevMode(f)}}function Io(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function Cn(e,t,n){if(!e.s){if(n instanceof Os){if(!n.s)return void(n.o=Cn.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(Cn.bind(null,e,t),Cn.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var Os=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,i=this.s;if(i){var f=1&i?t:n;if(f){try{Cn(r,1,f(this.v))}catch(h){Cn(r,2,h)}return r}return this}return this.o=function(h){try{var C=h.v;1&h.s?Cn(r,1,t?t(C):C):n?Cn(r,1,n(C)):Cn(r,2,C)}catch(L){Cn(r,2,L)}},r},e}();function Tr(e){return e instanceof Os&&1&e.s}function _i(e,t,n){for(var r;;){var i=e();if(Tr(i)&&(i=i.v),!i)return f;if(i.then){r=0;break}var f=n();if(f&&f.then){if(!Tr(f)){r=1;break}f=f.s}if(t){var h=t();if(h&&h.then&&!Tr(h)){r=2;break}}}var C=new Os,L=Cn.bind(null,C,2);return(0===r?i.then(X):1===r?f.then($):h.then(oe)).then(void 0,L),C;function $(ue){f=ue;do{if(t&&(h=t())&&h.then&&!Tr(h))return void h.then(oe).then(void 0,L);if(!(i=e())||Tr(i)&&!i.v)return void Cn(C,1,f);if(i.then)return void i.then(X).then(void 0,L);Tr(f=n())&&(f=f.v)}while(!f||!f.then);f.then($).then(void 0,L)}function X(ue){ue?(f=n())&&f.then?f.then($).then(void 0,L):$(f):Cn(C,1,f)}function oe(){(i=e())?i.then?i.then(X).then(void 0,L):X(i):Cn(C,1,f)}}var Vi=function(t,n,r,i){try{return r.multiInstance=n.multiInstance,Promise.resolve(Promise.all([n.storage.createStorageInstance(r),n.storage.createKeyObjectStorageInstance({databaseName:n.name,collectionName:Is(t),options:i,multiInstance:n.multiInstance})])).then(function(f){return{storageInstance:f[0],localDocumentsStore:f[1]}})}catch(f){return Promise.reject(f)}},Gr=function(t,n){try{var r=!1,i=arguments,f=i.length>2&&void 0!==i[2]&&i[2],h={previous:n.previous?Hn(t,Et(n.previous)):void 0,document:Hn(t,Et(n.document))};return Promise.resolve(_i(function(){return!r},void 0,function(){return Io(function(){return Promise.resolve(t.database.lockedRun(function(){return gr(t.storageInstance,h)})).then(function(C){var L=Gi(t,C);return r=!0,L})},function(C){var L=C,$=L.documentId;return function(){if(f&&409===L.status)return Promise.resolve(t.database.lockedRun(function(){return Do(t.storageInstance,$)})).then(function(X){if(!X)throw Ne("SNH",{args:{writeRow:n}});h.previous=X});throw 409===L.status?Ne("COL19",{collection:t.name,id:$,pouchDbError:L,data:n}):L}()})}))}catch(C){return Promise.reject(C)}};function Hn(e,t){dn.isDevMode()&&e.schema.fillPrimaryKey(t),t=e._crypter.encrypt(t);var n={collection:e,doc:t};return rn("preWriteToStorageInstance",n),n.doc}function Gi(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={collection:e,doc:t};return rn("postReadFromInstance",r),n?r.doc:e._crypter.decrypt(r.doc)}function Qr(e,t){var n=e.schema.fillObjectWithDefaults(t);return e.schema.fillPrimaryKey(n)}function Is(e){return e+"-local"}function Rr(e){if(!e.collection.schema.jsonSchema.attachments)throw Ne("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}var Ts=function(t,n){try{return Promise.resolve(t.hash(n)).then(function(r){var i=function(t){return"undefined"!=typeof Buffer&&t instanceof Buffer?Buffer.byteLength(t):t.size}(n);return{digest:t.hashKey+"-"+r,length:i}})}catch(r){return Promise.reject(r)}},Ga=function(t){try{var n=function(){var ue=i.collection.database.storage.statics;return i._atomicQueue=i._atomicQueue.then(function(){try{var we=function(Te){if(he)return Te;var Re=Et(i._data);return Re._attachments=Et(Re._attachments),Promise.resolve(Ts(i.collection.database.storage.statics,h)).then(function(Oe){Re._attachments[f]={digest:Oe.digest,length:Oe.length,type:L,data:h};var je={previous:Hn(i.collection,Et(i._data)),document:Hn(i.collection,Et(Re))};return Promise.resolve(gr(i.collection.storageInstance,je)).then(function($e){var We=rr(f,$e._attachments[f],i),et=Et(i._data);return et._rev=$e._rev,et._attachments=$e._attachments,i._dataSync$.next(et),We})})},he=!1,fe=function(){if($&&i._data._attachments&&i._data._attachments[f]){var be=i._data._attachments[f];return Promise.resolve(ue.hash(h)).then(function(Te){if(be.type===L&&be.digest===ue.hashKey+"-"+Te){var Oe=i.getAttachment(f);return he=!0,Oe}})}}();return Promise.resolve(fe&&fe.then?fe.then(we):we(fe))}catch(be){return Promise.reject(be)}}),i._atomicQueue},r=arguments,i=this,f=t.id,h=t.data,C=t.type,L=void 0===C?"text/plain":C,$=!(r.length>1&&void 0!==r[1])||r[1];Rr(i);var X=function(){if(Zr(i.collection.schema))return Promise.resolve(Kn_toString(h)).then(function(oe){var ue=i.collection._crypter._encryptString(oe);h=Kn_createBlobBuffer(ue,"text/plain")})}();return Promise.resolve(X&&X.then?X.then(n):n(X))}catch(oe){return Promise.reject(oe)}},Qa=function(){function e(n){var i=n.id,f=n.type,h=n.length,C=n.digest;this.doc=n.doc,this.id=i,this.type=f,this.length=h,this.digest=C,function(t){Object.entries(t.doc.collection.attachments).forEach(function(n){var i=n[1];Object.defineProperty(t,n[0],{get:function(){return i.bind(t)}})})}(this)}var t=e.prototype;return t.remove=function(){try{var r=this;return r.doc._atomicQueue=r.doc._atomicQueue.then(function(){try{var i=Et(r.doc._data);return i._attachments=Et(i._attachments),delete i._attachments[r.id],Promise.resolve(gr(r.doc.collection.storageInstance,{previous:Hn(r.doc.collection,Et(r.doc._data)),document:Hn(r.doc.collection,i)})).then(function(f){var h=Et(r.doc._data);h._rev=f._rev,h._attachments=f._attachments,r.doc._dataSync$.next(h)})}catch(f){return Promise.reject(f)}}),Promise.resolve(r.doc._atomicQueue)}catch(i){return Promise.reject(i)}},t.getData=function(){try{var r=this;return Promise.resolve(r.doc.collection.storageInstance.getAttachmentData(r.doc.primary,r.id)).then(function(i){return Zr(r.doc.collection.schema)?Promise.resolve(Kn_toString(i)).then(function(f){return Kn_createBlobBuffer(r.doc.collection._crypter._decryptString(f),r.type)}):i})}catch(i){return Promise.reject(i)}},t.getStringData=function(){return this.getData().then(function(r){return Kn_toString(r)})},e}();function rr(e,t,n){return new Qa({doc:n,id:e,type:t.type,length:t.length,digest:t.digest})}function Zr(e){return!(!e.jsonSchema.attachments||!e.jsonSchema.attachments.encrypted)}function Mo(e){Rr(this);var t=this._dataSync$.getValue();return t._attachments&&t._attachments[e]?rr(e,t._attachments[e],this):null}function Za(){var e=this;Rr(this);var t=this._dataSync$.getValue();return t._attachments?Object.keys(t._attachments).map(function(n){return rr(n,t._attachments[n],e)}):[]}var Mu={RxDocument:function(t){t.putAttachment=Ga,t.getAttachment=Mo,t.allAttachments=Za,Object.defineProperty(t,"allAttachments$",{get:function(){var r=this;return this._dataSync$.pipe((0,Gt.U)(function(i){return i._attachments?i._attachments:{}}),(0,Gt.U)(function(i){return Object.entries(i)}),(0,Gt.U)(function(i){return i.map(function(f){return rr(f[0],f[1],r)})}))}})}},Xa={preMigrateDocument:function(t){try{var n=t.docData._attachments,r=function(){if(n){var i=!!Zr(t.oldCollection.schema),f={};return Promise.resolve(Promise.all(Object.keys(n).map(function(h){try{var C=n[h];return Promise.resolve(t.oldCollection.storageInstance.getAttachmentData(t.docData[t.oldCollection.schema.primaryPath],h)).then(function($){function X(){return Promise.resolve(Ts(t.oldCollection.database.storage.statics,$)).then(function(ue){f[h]={digest:ue.digest,length:ue.length,type:C.type,data:$}})}var oe=function(){if(i)return Promise.resolve(Kn_toString($).then(function(ue){return Kn_createBlobBuffer(t.oldCollection._crypter._decryptString(ue),C.type)})).then(function(ue){$=ue})}();return oe&&oe.then?oe.then(X):X()})}catch($){return Promise.reject($)}}))).then(function(){t.docData._attachments=f})}}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(i){return Promise.reject(i)}},postMigrateDocument:function(t){return Promise.resolve()}},qa={name:"attachments",rxdb:!0,prototypes:Mu,overwritable:{},hooks:Xa},H=l(2559),P=l.n(H),_=l(8624),j=l.n(_),G=l(1135),ae=l(1884);function tt(e,t){var n;return{version:e,type:"object",primaryKey:t,properties:(n={},n[t]={type:"string"},n),required:[t]}}function lt(e,t){var n=t;return n=mi(n="properties."+(n=n.replace(/\./g,".properties."))),j().get(e,n)}function Ht(e,t,n){if(!e.s){if(n instanceof Mr){if(!n.s)return void(n.o=Ht.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(Ht.bind(null,e,t),Ht.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var Mr=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,i=this.s;if(i){var f=1&i?t:n;if(f){try{Ht(r,1,f(this.v))}catch(h){Ht(r,2,h)}return r}return this}return this.o=function(h){try{var C=h.v;1&h.s?Ht(r,1,t?t(C):C):n?Ht(r,1,n(C)):Ht(r,2,C)}catch(L){Ht(r,2,L)}},r},e}();function xn(e){return e instanceof Mr&&1&e.s}var Jt={get _data(){if(this.isInstanceOfRxDocument)return this._dataSync$.getValue()},get primaryPath(){if(this.isInstanceOfRxDocument)return this.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){if(this.isInstanceOfRxDocument)return this._data._rev},get deleted$(){if(this.isInstanceOfRxDocument)return this._isDeleted$.asObservable()},get deleted(){if(this.isInstanceOfRxDocument)return this._isDeleted$.getValue()},get $(){return this._dataSync$.asObservable().pipe((0,Gt.U)(function(t){return dn.deepFreezeWhenDevMode(t)}))},_handleChangeEvent:function(t){if(t.documentId===this.primary){var r=Dr(((e=t).documentData?e.documentData:e.previousDocumentData)._rev);if(!(Dr(this._data._rev)>r))switch(t.operation){case"INSERT":break;case"UPDATE":this._dataSync$.next(t.documentData);break;case"DELETE":this.collection._docCache.delete(this.primary),this._isDeleted$.next(!0)}}var e},get$:function(t){if(t.includes(".item."))throw Ne("DOC1",{path:t});if(t===this.primaryPath)throw Ne("DOC2");if(this.collection.schema.finalFields.includes(t))throw Ne("DOC3",{path:t});if(!lt(this.collection.schema.jsonSchema,t))throw Ne("DOC4",{path:t});return this._dataSync$.pipe((0,Gt.U)(function(r){return j().get(r,t)}),(0,ae.x)())},populate:function(t){var n=lt(this.collection.schema.jsonSchema,t),r=this.get(t);if(!r)return bo;if(!n)throw Ne("DOC5",{path:t});if(!n.ref)throw Ne("DOC6",{path:t,schemaObj:n});var i=this.collection.database.collections[n.ref];if(!i)throw Ne("DOC7",{ref:n.ref,path:t,schemaObj:n});return"array"===n.type?i.findByIds(r).then(function(f){var h=f.values();return Array.from(h)}):i.findOne(r).exec()},get:function(t){if(this._data){var n=j().get(this._data,t);return"object"!=typeof n||Array.isArray(n)?dn.deepFreezeWhenDevMode(n):(n=Rn(n),Rs(this.collection.schema,n,t,this),n)}},toJSON:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)return dn.deepFreezeWhenDevMode(this._data);var n=Et(this._data);return delete n._rev,delete n._attachments,dn.deepFreezeWhenDevMode(n)},set:function(t,n){if(!this._isTemporary)throw zt("DOC16",{objPath:t,value:n});if("string"!=typeof t)throw zt("DOC15",{objPath:t,value:n});if(!Object.is(this.get(t),n)){var r=t.split(".");r.pop();var i=r.join(".");if(void 0===j().get(this._data,i))throw Ne("DOC10",{childpath:t,rootPath:i});return j().set(this._data,t,n),this}},update:function(t){throw Ut("update")},putAttachment:function(){throw Ut("attachments")},getAttachment:function(){throw Ut("attachments")},allAttachments:function(){throw Ut("attachments")},get allAttachments$(){throw Ut("attachments")},atomicUpdate:function(t){var n=this;return new Promise(function(r,i){n._atomicQueue=n._atomicQueue.then(function(){try{var f=function(X){if(h)return X;r(n)},h=!1,C=!1,L=function(e,t,n){for(var r;;){var i=e();if(xn(i)&&(i=i.v),!i)return f;if(i.then){r=0;break}var h,f=n();if(f&&f.then){if(!xn(f)){r=1;break}f=f.s}}var C=new Mr,L=Ht.bind(null,C,2);return(0===r?i.then(X):1===r?f.then($):h.then(oe)).then(void 0,L),C;function $(ue){f=ue;do{if(!(i=e())||xn(i)&&!i.v)return void Ht(C,1,f);if(i.then)return void i.then(X).then(void 0,L);xn(f=n())&&(f=f.v)}while(!f||!f.then);f.then($).then(void 0,L)}function X(ue){ue?(f=n())&&f.then?f.then($).then(void 0,L):$(f):Ht(C,1,f)}function oe(){(i=e())?i.then?i.then(X).then(void 0,L):X(i):Ht(C,1,f)}}(function(){return!h&&!C},0,function(){var $=n._dataSync$.getValue(),X=function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}(function(){return Promise.resolve(t(Rn(n._dataSync$.getValue()),n)).then(function(oe){return n.collection&&(oe=n.collection.schema.fillObjectWithDefaults(oe)),Promise.resolve(n._saveData(oe,$)).then(function(){C=!0})})},function(oe){var ue=function(){if((e=oe).parameters&&e.parameters.pouchDbError&&409===e.parameters.pouchDbError.status)return Promise.resolve(Wr()).then(function(){});var e;i(oe),h=!0}();return ue&&ue.then?ue.then(function(){}):void 0});if(X&&X.then)return X.then(function(){})});return Promise.resolve(L&&L.then?L.then(f):f(L))}catch($){return Promise.reject($)}})})},atomicPatch:function(t){return this.atomicUpdate(function(n){return Object.entries(t).forEach(function(r){n[r[0]]=r[1]}),n})},_saveData:function(t,n){try{var r=this;if(t=t,r._isDeleted$.getValue())throw Ne("DOC11",{id:r.primary,document:r});return r.collection.schema.validateChange(n,t),Promise.resolve(r.collection._runHooks("pre","save",t,r)).then(function(){return r.collection.schema.validate(t),Promise.resolve(Gr(r.collection,{previous:n,document:t})).then(function(){return r.collection._runHooks("post","save",t,r)})})}catch(i){return Promise.reject(i)}},save:function(){var t=this;if(!this._isTemporary)throw Ne("DOC17",{id:this.primary,document:this});return this.collection.insert(this).then(function(){return t._isTemporary=!1,t.collection._docCache.set(t.primary,t),t._dataSync$.next(t._data),!0})},remove:function(){var t=this;if(this.deleted)return Promise.reject(Ne("DOC13",{document:this,id:this.primary}));var n=Et(this._data);return this.collection._runHooks("pre","remove",n,this).then(function(){return n._deleted=!0,Gr(t.collection,{previous:t._data,document:n})}).then(function(){return t.collection._runHooks("post","remove",n,t)}).then(function(){return t})},destroy:function(){throw Ne("DOC14")}};function xo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jt,t=function(r,i){this.collection=r,this._isTemporary=!1,this._dataSync$=new G.X(i),this._isDeleted$=new G.X(!1),this._atomicQueue=Pr,this.isInstanceOfRxDocument=!0};return t.prototype=e,t}function Rs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!==t){var i=lt(e.jsonSchema,n);void 0!==i&&(i.properties&&(i=i.properties),Object.keys(i).forEach(function(f){var h=mi(n+"."+f);t.__defineGetter__(f,function(){var C=r||this;if(C.get&&"function"==typeof C.get)return C.get(h)}),Object.defineProperty(t,f+"$",{get:function(){return(r||this).get$(h)},enumerable:!1,configurable:!1}),Object.defineProperty(t,f+"_",{get:function(){return(r||this).populate(h)},enumerable:!1,configurable:!1}),t.__defineSetter__(f,function(C){return(r||this).set(h,C)})}))}}function Qi(e,t,n){if(n[t.schema.primaryPath]&&n[t.schema.primaryPath].startsWith("_design"))return null;var r=new e(t,n);return rn("createRxDocument",r),r}var eu=function(){function e(n){this.jsonSchema=n,this.indexes=function(e){return(e.indexes||[]).map(function(t){return wn(t)?t:[t]})}(this.jsonSchema),this.primaryPath=xr(this.jsonSchema.primaryKey),this.finalFields=function(e){var t=Object.keys(e.properties).filter(function(r){return e.properties[r].final}),n=xr(e.primaryKey);return t.push(n),"string"!=typeof e.primaryKey&&e.primaryKey.fields.forEach(function(r){return t.push(r)}),t}(this.jsonSchema),this.jsonSchema.required=this.jsonSchema.required.concat(this.finalFields).filter(function(r){return!r.includes(".")}).filter(function(r,i,f){return f.indexOf(r)===i})}var t=e.prototype;return t.validateChange=function(r,i){var f=this;this.finalFields.forEach(function(h){if(!P()(r[h],i[h]))throw Ne("DOC9",{dataBefore:r,dataAfter:i,fieldName:h,schema:f.jsonSchema})})},t.validate=function(r,i){},t.fillObjectWithDefaults=function(r){return r=Et(r),Object.entries(this.defaultValues).filter(function(i){var f=i[0];return!r.hasOwnProperty(f)||void 0===r[f]}).forEach(function(i){return r[i[0]]=i[1]}),r},t.getDocumentPrototype=function(){var r={};return Rs(this,r,""),Kr(this,"getDocumentPrototype",function(){return r}),r},t.getPrimaryOfDocumentData=function(r){return xu(this.jsonSchema,r)},t.fillPrimaryKey=function(r){var i=Et(r),f=xu(this.jsonSchema,r),h=r[this.primaryPath];if(h&&h!==f)throw Ne("DOC19",{args:{documentData:r,existingPrimary:h,newPrimary:f},schema:this.jsonSchema});return i[this.primaryPath]=f,i},vr(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"normalized",get:function(){return Kr(this,"normalized",function(e){var t=Ni(Rn(e));return e.indexes&&(t.indexes=Array.from(e.indexes)),"object"==typeof t.primaryKey&&"object"==typeof e.primaryKey&&(t.primaryKey.fields=e.primaryKey.fields),t}(this.jsonSchema))}},{key:"topLevelFields",get:function(){return Object.keys(this.normalized.properties)}},{key:"defaultValues",get:function(){var r={};return Object.entries(this.normalized.properties).filter(function(i){return i[1].hasOwnProperty("default")}).forEach(function(i){return r[i[0]]=i[1].default}),Kr(this,"defaultValues",r)}},{key:"crypt",get:function(){return!!(this.jsonSchema.encrypted&&this.jsonSchema.encrypted.length>0||this.jsonSchema.attachments&&this.jsonSchema.attachments.encrypted)}},{key:"encryptedPaths",get:function(){return this.jsonSchema.encrypted||[]}},{key:"hash",get:function(){return Kr(this,"hash",Je(this.normalized))}}]),e}();function xr(e){return"string"==typeof e?e:e.key}function xu(e,t){if("string"==typeof e.primaryKey)return t[e.primaryKey];var n=e.primaryKey;return n.fields.map(function(r){var i=j().get(t,r);if(void 0===i)throw Ne("DOC18",{args:{field:r,documentData:t}});return i}).join(n.separator)}function nu(e){return(e=Rn(e)).additionalProperties=!1,e.hasOwnProperty("keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes||[],e.required=e.required||[],e.encrypted=e.encrypted||[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.version=e.version||0,e}var ku=function(){function e(n,r){this.password=n,this.schema=r}var t=e.prototype;return t._encryptString=function(r){throw Ut("encryption")},t._decryptString=function(r){throw Ut("encryption")},t.encrypt=function(r){var i=this;if(!this.password)return r;var f=(r=Et(r))._attachments;delete r._attachments;var h=Rn(r);return f&&(h._attachments=f),this.schema.encryptedPaths.forEach(function(C){var L=j().get(h,C);if(void 0!==L){var $=JSON.stringify(L),X=i._encryptString($);j().set(h,C,X)}}),h},t.decrypt=function(r){var i=this;if(!this.password)return r;var f=(r=Et(r))._attachments;delete r._attachments;var h=Rn(r);return f&&(h._attachments=f),this.schema.encryptedPaths.forEach(function(C){var L=j().get(h,C);if(void 0!==L){var $=i._decryptString(L),X=JSON.parse($);j().set(h,C,X)}}),h},e}(),ru=l(3905),iu=l(6451),Ms=l(5577),yr=l(9300),xs=l(7579),nl=l(6063);class su extends xs.x{constructor(t=1/0,n=1/0,r=nl.l){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:f,_windowTime:h}=this;n||(r.push(t),!i&&r.push(f.now()+h)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,f=i.slice();for(let h=0;h<f.length&&!t.closed;h+=r?1:2)t.next(f[h]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,f=(i?1:2)*t;if(t<1/0&&f<r.length&&r.splice(0,r.length-f),!i){const h=n.now();let C=0;for(let L=1;L<r.length&&r[L]<=h;L+=2)C=L;C&&r.splice(0,C+1)}}}var Lu=l(3099);function ks(e,t,n){var r,i;let f,h=!1;return e&&"object"==typeof e?(f=null!==(r=e.bufferSize)&&void 0!==r?r:1/0,t=null!==(i=e.windowTime)&&void 0!==i?i:1/0,h=!!e.refCount,n=e.scheduler):f=e??1/0,(0,Lu.B)({connector:()=>new su(f,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}var bi=l(8505),Lo=new WeakMap,Jr=new WeakMap;function Zi(e){if(!Jr.has(e)){var t=xo(function(e){if(!Lo.has(e)){var t=e.schema.getDocumentPrototype(),n=function(e){var t={};return Object.entries(e.methods).forEach(function(n){t[n[0]]=n[1]}),t}(e),i={};[t,n,Jt].forEach(function(f){Object.getOwnPropertyNames(f).forEach(function(C){var L=Object.getOwnPropertyDescriptor(f,C),$=!0;(C.startsWith("_")||C.endsWith("_")||C.startsWith("$")||C.endsWith("$"))&&($=!1),"function"==typeof L.value?Object.defineProperty(i,C,{get:function(){return L.value.bind(this)},enumerable:$,configurable:!1}):(L.enumerable=$,L.configurable=!1,L.writable&&(L.writable=!1),Object.defineProperty(i,C,L))})}),Lo.set(e,i)}return Lo.get(e)}(e));Jr.set(e,t)}return Jr.get(e)}function Ei(e,t){var n=t[e.schema.primaryPath],r=e._docCache.get(n);if(r)return r;var i=Qi(Zi(e),e,dn.deepFreezeWhenDevMode(t));return e._docCache.set(n,i),e._runHooksSync("post","create",t,i),rn("postCreateRxDocument",i),i}var Yi=function(e){e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Bs=function(e){e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Fo=function(e){var t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Fs=function(e){var t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},ou=function(e){e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);for(var t=e.queryParams.primaryKey,n=e.previousResults,r=0;r<n.length;r++)if(n[r][t]===e.changeEvent.id){n.splice(r,1);break}},au=function(e){var t=e.changeEvent.id,n=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,n)}else if(e.previousResults.find(function(i){return i[e.queryParams.primaryKey]===t}))return;!function(e,t,n,r){var i=e,f=i.length-1,h=0,C=0;if(0===i.length)return i.push(t),i;for(;h<=f;)n(i[C=h+(f-h>>1)],t)<=0?h=C+1:f=C-1;n(i[C],t)<=0&&C++,i.splice(C,0,t)}(e.previousResults,n,e.queryParams.sortComparator)},Qu=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],Zu={doNothing:function(e){},insertFirst:Yi,insertLast:Bs,removeFirstItem:Fo,removeLastItem:Fs,removeFirstInsertLast:function(e){Fo(e),Bs(e)},removeLastInsertFirst:function(e){Fs(e),Yi(e)},removeFirstInsertFirst:function(e){Fo(e),Yi(e)},removeLastInsertLast:function(e){Fs(e),Bs(e)},removeExisting:ou,replaceExisting:function(e){for(var t=e.changeEvent.doc,n=e.queryParams.primaryKey,r=e.previousResults,i=0;i<r.length;i++)if(r[i][n]===e.changeEvent.id){r[i]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}},alwaysWrong:function(e){var t={_id:"wrongHuman"+(new Date).getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},insertAtSortPosition:au,removeExistingAndInsertAtSortPosition:function(e){ou(e),au(e)},runFullQueryAgain:function(e){throw new Error("Action runFullQueryAgain must be implemented by yourself")},unknownAction:function(e){throw new Error("Action unknownAction should never be called")}};function Ju(e){return e?"1":"0"}function cu(e,t){for(var n=[],r=0,i=e.length;r<i;r+=t)n.push(e.substring(r,r+t));return n}function jo(e){return e.charCodeAt(0)-40}!function(e){void 0===e&&(e=6);for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i=0;i<e;i++)n.charAt(Math.floor(Math.random()*r))}(4);var Si="UNKNOWN";function zo(e){return e[e.length-1]}var sn,ze=function(e){return!!e.queryParams.limit},du={0:function(e){return"INSERT"===e.changeEvent.operation},1:function(e){return"UPDATE"===e.changeEvent.operation},2:function(e){return"DELETE"===e.changeEvent.operation},3:ze,4:function(e){return 1===e.queryParams.limit},5:function(e){return!!(e.queryParams.skip&&e.queryParams.skip>0)},6:function(e){return 0===e.previousResults.length},7:function(e){return e.changeEvent.previous===Si},8:function(e){return ze(e)&&e.previousResults.length>=e.queryParams.limit},9:function(e){var t=e.previousResults[0];return!(!t||t[e.queryParams.primaryKey]!==e.changeEvent.id)},10:function(e){var t=zo(e.previousResults);return!(!t||t[e.queryParams.primaryKey]!==e.changeEvent.id)},11:function(e){var t=e.queryParams.sortFields,n=e.changeEvent.previous,r=e.changeEvent.doc;if(!r)return!1;if(!n||n===Si)return!0;for(var i=0;i<t.length;i++){var f=t[i];if(j().get(n,f)!==j().get(r,f))return!0}return!1},12:function(e){var t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);for(var r=e.queryParams.primaryKey,i=e.previousResults,f=0;f<i.length;f++)if(i[f][r]===t)return!0;return!1},13:function(e){var t=e.changeEvent.previous;if(!t||t===Si)return!1;var n=e.previousResults[0];return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)<0)},14:function(e){var t=e.changeEvent.previous;if(!t||t===Si)return!1;var n=zo(e.previousResults);return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)>0)},15:function(e){var t=e.changeEvent.doc;if(!t)return!1;var n=e.previousResults[0];return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)<0)},16:function(e){var t=e.changeEvent.doc;if(!t)return!1;var n=zo(e.previousResults);return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)>0)},17:function(e){var t=e.changeEvent.previous;return!(!t||t===Si)&&e.queryParams.queryMatcher(t)},18:function(e){var t=e.changeEvent.doc;return!!t&&e.queryParams.queryMatcher(t)}};var Ln=function(e){return function(e,t,n){for(var r=e,i=e.l;;){if("number"==typeof(r=r[Ju(t[i](n))])||"string"==typeof r)return r;i=r.l}}((sn||(sn=function(e){for(var t=new Map,r=2+2*parseInt(e.charAt(0)+e.charAt(1),10),f=cu(e.substring(2,r),2),h=0;h<f.length;h++){var L=(C=f[h]).charAt(0),$=jo(C.charAt(1));t.set(L,$)}var oe=cu(e.substring(r,e.length-3),4);for(h=0;h<oe.length;h++){L=(C=oe[h]).charAt(0);var C,ue=C.charAt(1),we=C.charAt(2),he=jo(C.charAt(3));if(!t.has(ue))throw new Error("missing node with id "+ue);if(!t.has(we))throw new Error("missing node with id "+we);var fe=t.get(ue),be=t.get(we);t.set(L,{l:he,0:fe,1:be})}var Re=e.slice(-3),Oe=Re.charAt(0),je=Re.charAt(1);return{l:jo(Re.charAt(2)),0:t.get(Oe),1:t.get(je)}}("14a2b0c/d1e,f+g5h.i4j*k-l)m(n6ohk1pdf1qef1rin-sjn-ton-ugn-vmn-whn-xkn-yln-zdf5{ef5|wx5}df7~dz7\x7fef7\xa1bk7\xa2e{7\xa3g|7\xa4ry7\xa5dp7\xa6gk7\xa7eq7\xa8gt7\xa9ac7\xaamv7\xabgu7\xacnm7\xadiy7\xaenw7\xaf\xa4s8\xb0\xab\xa68\xb1\xack8\xb2\xaam8\xb3\xaev8\xb4\xabn8\xb5\xacn8\xb6vm8\xb7xv8\xb8mn8\xb9\xadj8\xba\xaem8\xbbxm8\xbc\xad\xb93\xbd}~3\xbe\xa9\xb03\xbf\x7f\xa23\xc0\xa1\xa33\xc1m\xb13\xc2\xae\xba3\xc3m\xba3\xc4\xa9\xb43\xc5b\xae3\xc6m\xb53\xc7m\xbb3\xc8x\xbb3\xc9kn3\xcam\xb83\xcb\xbcj6\xcc\xc2m6\xcd\xc6\xc36\xce\xc8m6\xcfnm6\xd0\xca\xc76\xd1\xcc\xce,\xd2\xcd\xd0,\xd3\xc5\xc9,\xd4\xb2\xb6,\xd5\xb3\xb7,\xd6\xaen,\xd7\xba\xbb,\xd8mf9\xd9\xcb\xc19\xdaym9\xdbm\xcf9\xdc\xd1\xd29\xddz{2\xdepq2\xdf\xbd\xbf2\xe0\xbe\xc02\xe1\xa5\xa72\xe2\xb0\xa82\xe3\xc4\xd32\xe4\xb4\xd62\xe5\xddn0\xe6\xden0\xe7\xd8\xdb0\xe8\xd9\xdc0\xe9\xdfn0\xea\xe0\xe30\xeb\xb2\xd40\xec\xaf\xd50\xed\xe1n0\xee\xe2\xe40\xef\xb9\xd70\xf0\xe7v/\xf1\xe5\xe6/\xf2\xe7\xeb/\xf3\xe8\xec/\xf4\xe9\xed/\xf5\xea\xee/\xf6\xday/\xf7\xf2m(\xf8\xf3\xef(\xf9\xf6y(\xfa\xf7\xf8:\xfb\xf4\xf5:\xfcm\xf9:\xfd\xf0\xf14\xfe\xfa\xfb4\xff\xfe\xfd*\u0100\xfcm*\xff\u0100.")),sn),du,e)};function zn(e,t){return t.sort&&0!==t.sort.length?t.sort.map(function(n){return Object.keys(n)[0]}):[e]}var ei=new WeakMap;function ti(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var n=function(e){if(ei.has(e))return ei.get(e);var t=e.collection,n=e.getPreparedQuery(),r=t.schema.primaryPath,i=t.database.storage.statics.getSortComparator(t.storageInstance.schema,n),h=t.database.storage.statics.getQueryMatcher(t.storageInstance.schema,n),L={primaryKey:e.collection.schema.primaryPath,skip:n.skip,limit:n.limit,sortFields:zn(r,e.mangoQuery),sortComparator:function(X,oe){var ue={docA:X,docB:oe,rxQuery:e};return rn("preSortComparator",ue),i(ue.docA,ue.docB)},queryMatcher:function(X){var oe={doc:X,rxQuery:e};return rn("preQueryMatcher",oe),h(oe.doc)}};return ei.set(e,L),L}(e),r=e._resultsData.slice(),i=e._resultsDataMap,f=!1,h=t.find(function(C){var L=function(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:dn.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}(C),X=function(e){var t=Ln(e);return Qu[t]}({queryParams:n,changeEvent:L,previousResults:r,keyDocumentMap:i});return"runFullQueryAgain"===X||("doNothing"!==X?(f=!0,function(e,t,n,r,i){(0,Zu[e])({queryParams:t,changeEvent:n,previousResults:r,keyDocumentMap:i})}(X,n,L,r,i),!1):void 0)});return h?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:f,newResults:r}}var Wo=function(){function e(){this._map=new Map}return e.prototype.getByQuery=function(r){var i=r.toString();return this._map.has(i)||this._map.set(i,r),this._map.get(i)},e}();function Wf(){return new Wo}function gl(e,t){t.uncached=!0;var n=t.toString();e._map.delete(n)}var yl=(100,3e4,function(r,i){if(!(i._map.size<100)){for(var f=Xn()-3e4,h=[],L=0,$=Array.from(i._map.values());L<$.length;L++){var X=$[L];if(!(X.refCount$.observers.length>0)){if(0===X._lastEnsureEqual&&X._creationTime<f){gl(i,X);continue}h.push(X)}}var oe=h.length-100;oe<=0||h.sort(function(he,fe){return he._lastEnsureEqual-fe._lastEnsureEqual}).slice(0,oe).forEach(function(he){return gl(i,he)})}}),ac=new WeakSet;var Zf=0,hu=function(){function e(n,r,i){this.id=++Zf,this._execOverDatabaseCount=0,this._creationTime=Xn(),this._lastEnsureEqual=0,this.other={},this.uncached=!1,this.refCount$=new G.X(null),this._latestChangeEvent=-1,this._resultsData=null,this._resultsDataMap=new Map,this._lastExecStart=0,this._lastExecEnd=0,this._resultsDocs$=new G.X(null),this._ensureEqualQueue=qn,this.op=n,this.mangoQuery=r,this.collection=i,r||(r={selector:{}})}var t=e.prototype;return t._setResultData=function(r){var i=this,f=function(e,t){return t.map(function(n){return Ei(e,n)})}(this.collection,r),h=this.collection.schema.primaryPath;return this._resultsDataMap=new Map,this._resultsData=f.map(function(C){var L=C._dataSync$.getValue();return i._resultsDataMap.set(L[h],L),L}),this._resultsDocs$.next(f),f},t._execOverDatabase=function(){var i,r=this;switch(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=Xn(),this.op){case"find":i=this.collection._queryStorageInstance(this);break;case"findOne":i=this.collection._queryStorageInstance(this,1);break;default:throw Ne("QU1",{collection:this.collection.name,op:this.op})}return i.then(function(f){return r._lastExecEnd=Xn(),f})},t.exec=function(r){var i=this;if(r&&"findOne"!==this.op)throw Ne("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return lc(this).then(function(){return(0,ru.z)(i.$)}).then(function(f){if(!f&&r)throw Ne("QU10",{collection:i.collection.name,query:i.mangoQuery,op:i.op});return f})},t.toString=function(){var r=Ni({op:this.op,query:this.mangoQuery,other:this.other},!0),i=JSON.stringify(r,Ua);return this.toString=function(){return i},i},t.getPreparedQuery=function(){var r={rxQuery:this,mangoQuery:Rn(this.mangoQuery)};rn("prePrepareQuery",r);var i=this.collection.database.storage.statics.prepareQuery(this.collection.storageInstance.schema,r.mangoQuery);return this.getPreparedQuery=function(){return i},i},t.doesDocumentDataMatch=function(r){return!r._deleted&&this.queryMatcher(Hn(this.collection,r))},t.remove=function(){var r;return this.exec().then(function(i){return r=i,Array.isArray(i)?Promise.all(i.map(function(f){return f.remove()})):i.remove()}).then(function(){return r})},t.update=function(r){throw Ut("update")},t.where=function(r){throw Ut("query-builder")},t.sort=function(r){throw Ut("query-builder")},t.skip=function(r){throw Ut("query-builder")},t.limit=function(r){throw Ut("query-builder")},vr(e,[{key:"$",get:function(){var r=this;if(!this._$){var i=this._resultsDocs$.pipe((0,Ms.z)(function(h){return lc(r).then(function(C){return!C&&h})}),(0,yr.h)(function(h){return!!h}),(0,Gt.U)(function(h){return h.slice(0)}),(0,Gt.U)(function(h){return"findOne"===r.op?0===h.length?null:h[0]:h}),ks(er)).asObservable(),f=this.collection.$.pipe((0,bi.b)(function(){return lc(r)}),(0,yr.h)(function(){return!1}));this._$=(0,iu.T)(i,f,this.refCount$.pipe((0,yr.h)(function(){return!1})))}return this._$}},{key:"queryMatcher",get:function(){return Kr(this,"queryMatcher",this.collection.database.storage.statics.getQueryMatcher(this.collection.storageInstance.schema,this.getPreparedQuery()))}},{key:"asRxQuery",get:function(){return this}}]),e}();function _l(e){return e.collection._queryCache.getByQuery(e)}function cc(e,t,n){if(t&&"object"!=typeof t)throw zt("QU7",{queryObj:t});if(Array.isArray(t))throw zt("QU8",{queryObj:t});rn("preCreateRxQuery",{op:e,queryObj:t,collection:n});var r=new hu(e,t,n);return rn("createRxQuery",r=_l(r)),function(e){ac.has(e)||(ac.add(e),Wr().then(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"object"==typeof window&&window.requestIdleCallback?new Promise(function(t){return window.requestIdleCallback(t,{timeout:e})}):ka(0)}(200)}).then(function(){e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),ac.delete(e)}))}(n),r}function bl(e){return e._latestChangeEvent>=e.asRxQuery.collection._changeEventBuffer.counter}function lc(e){return e.collection.database.destroyed||bl(e)?qn:(e._ensureEqualQueue=e._ensureEqualQueue.then(function(){return function(e){if(e._lastEnsureEqual=Xn(),e.collection.database.destroyed||bl(e))return qn;var t=!1,n=!1;if(-1===e._latestChangeEvent&&(n=!0),!n){var r=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(null===r)n=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.counter;var i=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(r),f=ti(e,i);f.runFullQueryAgain?n=!0:f.changed&&(t=!0,e._setResultData(f.newResults))}}if(n){var h=e.collection._changeEventBuffer.counter;return e._execOverDatabase().then(function(C){return e._latestChangeEvent=h,P()(C,e._resultsData)||(t=!0,e._setResultData(C)),t})}return t}(e)}),e._ensureEqualQueue)}var Xf=l(8675),qf=function(){function e(){this._map=new Map,this._map=new Map}var t=e.prototype;return t.get=function(r){return this._map.get(r)},t.set=function(r,i){return this._map.set(r,i)},t.delete=function(r){return this._map.delete(r)},e}();function ed(){return new qf}var td=function(){function e(n){var r=this;this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=n,this.subs.push(this.collection.$.pipe((0,yr.h)(function(i){return!i.isLocal})).subscribe(function(i){return r._handleChangeEvent(i)}))}var t=e.prototype;return t._handleChangeEvent=function(r){for(this.counter++,this.buffer.push(r),this.eventCounterMap.set(r,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},t.getArrayIndexByPointer=function(r){var f=this.eventCounterMap.get(this.buffer[0]);return r<f?null:r-f},t.getFrom=function(r){var i=[],f=this.getArrayIndexByPointer(r);if(null===f)return null;for(;;){var h=this.buffer[f];if(f++,!h)return i;i.push(h)}},t.runFrom=function(r,i){var f=this.getFrom(r);if(null===f)throw new Error("out of bounds");f.forEach(function(h){return i(h)})},t.reduceByLastOfDoc=function(r){return r.slice(0)},t.hasChangeWithRevision=function(r){for(var i=this.buffer.length;i>0;){i--;var f=this.buffer[i];if(f.documentData&&f.documentData._rev===r)return!0}return!1},t.destroy=function(){this.subs.forEach(function(r){return r.unsubscribe()})},e}(),El=["pre","post"],Sl=["insert","save","remove","create"],wl=!1,pu=function(){function e(n,r,i,f,h){var C=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},L=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},$=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},X=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},oe=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},ue=arguments.length>10&&void 0!==arguments[10]?arguments[10]:yl,we=arguments.length>11&&void 0!==arguments[11]?arguments[11]:{};this._isInMemory=!1,this.destroyed=!1,this._atomicUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._repStates=new Set,this._docCache=ed(),this._queryCache=Wf(),this._crypter={},this._observable$={},this._changeEventBuffer={},this.database=n,this.name=r,this.schema=i,this.storageInstance=f,this.localDocumentsStore=h,this.instanceCreationOptions=C,this.migrationStrategies=L,this.methods=$,this.attachments=X,this.options=oe,this.cacheReplacementPolicy=ue,this.statics=we,rd(this.asRxCollection)}var t=e.prototype;return t.prepare=function(r){try{var i=this;i._crypter=function(e,t){return new ku(e,t)}(i.database.password,i.schema),i._observable$=i.database.eventBulks$.pipe((0,yr.h)(function(C){return C.collectionName===i.name}),(0,Ms.z)(function(C){return C.events})),i._changeEventBuffer=function(e){return new td(e)}(i.asRxCollection);var f=i.storageInstance.changeStream().subscribe(function(C){var L={id:C.id,internal:!1,collectionName:i.name,storageToken:vi(i.database.storageToken),events:C.events.map(function($){return nr(!1,$,i)}),databaseToken:i.database.token};i.database.$emit(L)});i._subs.push(f);var h=i.localDocumentsStore.changeStream().subscribe(function(C){var L={id:C.id,internal:!1,collectionName:i.name,storageToken:vi(i.database.storageToken),events:C.events.map(function($){return nr(!0,$,i)}),databaseToken:i.database.token};i.database.$emit(L)});return i._subs.push(h),i._subs.push(i._observable$.pipe((0,yr.h)(function(C){return!C.isLocal})).subscribe(function(C){var L=i._docCache.get(C.documentId);L&&L._handleChangeEvent(C)})),Promise.resolve()}catch(C){return Promise.reject(C)}},t.migrationNeeded=function(){throw Ut("migration")},t.getDataMigrator=function(){throw Ut("migration")},t.migrate=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getDataMigrator().migrate(r)},t.migratePromise=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getDataMigrator().migratePromise(r)},t._queryStorageInstance=function(r,i){try{var f=arguments,h=this,C=f.length>2&&void 0!==f[2]&&f[2],L=r.getPreparedQuery();return i&&(L.limit=i),Promise.resolve(h.database.lockedRun(function(){return h.storageInstance.query(L)})).then(function($){return $.documents.map(function(oe){return Gi(h,oe,C)})})}catch($){return Promise.reject($)}},t.insert=function(r){try{var i=this,f=null;if(function(e){return void 0!==e&&!!e.isInstanceOfRxDocument}(r)){if(!(f=r)._isTemporary)throw Ne("COL1",{data:r});r=f.toJSON()}var h=Qr(i,r),C=f;return Promise.resolve(i._runHooks("pre","insert",h)).then(function(){return i.schema.validate(h),Promise.resolve(Gr(i,{document:h})).then(function(L){return f?f._dataSync$.next(L):C=Ei(i,L),Promise.resolve(i._runHooks("post","insert",h,C)).then(function(){return C})})})}catch(L){return Promise.reject(L)}},t.bulkInsert=function(r){try{var i=this;if(0===r.length)return Promise.resolve({success:[],error:[]});var f=r.map(function(h){return Qr(i,h)});return Promise.resolve(Promise.all(f.map(function(h){return i._runHooks("pre","insert",h).then(function(){return i.schema.validate(h),h})}))).then(function(h){var C=h.map(function($){return{document:Hn(i,$)}}),L=new Map;return h.forEach(function($){L.set($[i.schema.primaryPath],$)}),Promise.resolve(i.database.lockedRun(function(){return i.storageInstance.bulkWrite(C)})).then(function($){var oe=Object.entries($.success).map(function(ue){var he=ue[1],fe=Hr(L,ue[0]);return fe._rev=he._rev,Ei(i,fe)});return Promise.resolve(Promise.all(oe.map(function(ue){return i._runHooks("post","insert",L.get(ue.primary),ue)}))).then(function(){return{success:oe,error:Object.values($.error)}})})})}catch(h){return Promise.reject(h)}},t.bulkRemove=function(r){try{var i=this;return 0===r.length?Promise.resolve({success:[],error:[]}):Promise.resolve(i.findByIds(r)).then(function(f){var h=[],C=new Map;return Array.from(f.values()).forEach(function(L){var $=Rn(L.toJSON(!0));h.push($),C.set(L.primary,$)}),Promise.resolve(Promise.all(h.map(function(L){return i._runHooks("pre","remove",L,f.get(L[i.schema.primaryPath]))}))).then(function(){var L=h.map(function($){var X=Et($);return X._deleted=!0,{previous:Hn(i,$),document:Hn(i,X)}});return Promise.resolve(i.database.lockedRun(function(){return i.storageInstance.bulkWrite(L)})).then(function($){var X=Object.keys($.success);return Promise.resolve(Promise.all(X.map(function(oe){return i._runHooks("post","remove",C.get(oe),f.get(oe))}))).then(function(){return{success:X.map(function(ue){return f.get(ue)}),error:Object.values($.error)}})})})})}catch(f){return Promise.reject(f)}},t.upsert=function(r){var i=this,f=Qr(this,r),h=f[this.schema.primaryPath];if(!h)throw Ne("COL3",{primaryPath:this.schema.primaryPath,data:f,schema:this.schema.jsonSchema});return this.findOne(h).exec().then(function(C){return C&&!C.deleted?(f._rev=C._rev,C.atomicUpdate(function(){return f}).then(function(){return C})):i.insert(r)})},t.atomicUpsert=function(r){var C,i=this,f=Qr(this,r),h=f[this.schema.primaryPath];if(!h)throw Ne("COL4",{data:r});return C=(C=this._atomicUpsertQueues.has(h)?this._atomicUpsertQueues.get(h):Pr).then(function(){return function(e,t,n){var r=e._docCache.get(t);return r?Promise.resolve({doc:r,inserted:!1}):e.findOne(t).exec().then(function(i){return i?{doc:i,inserted:!1}:e.insert(n).then(function(f){return{doc:f,inserted:!0}})})}(i,h,f)}).then(function(L){return L.inserted?L.doc:function(e,t){return e.atomicUpdate(function(n){return t._rev=n._rev,n._data=t,n._data}).then(function(){return e})}(L.doc,f).then(function(){return Wr()}).then(function(){return Wr()}).then(function(){return Wr()}).then(function(){return L.doc})}),this._atomicUpsertQueues.set(h,C),C},t.find=function(r){if("string"==typeof r)throw Ne("COL5",{queryObj:r});return r||(r={selector:{}}),cc("find",r,this)},t.findOne=function(r){var i;if("string"==typeof r){var f;i=cc("findOne",{selector:(f={},f[this.schema.primaryPath]=r,f)},this)}else{if(r||(r={selector:{}}),r.limit)throw Ne("QU6");i=cc("findOne",r,this)}if("number"==typeof r||Array.isArray(r))throw zt("COL6",{queryObj:r});return i},t.findByIds=function(r){try{var i=this,f=new Map,h=[];r.forEach(function(L){var $=i._docCache.get(L);$?f.set(L,$):h.push(L)});var C=function(){if(h.length>0)return Promise.resolve(i.storageInstance.findDocumentsById(h,!1)).then(function(L){Object.values(L).forEach(function($){$=Gi(i,$);var X=Ei(i,$);f.set(X.primary,X)})})}();return Promise.resolve(C&&C.then?C.then(function(){return f}):f)}catch(L){return Promise.reject(L)}},t.findByIds$=function(r){var i=this,f=null,h=-1,C=this.findByIds(r).then(function(L){h=i._changeEventBuffer.counter,f=L});return this.$.pipe((0,Xf.O)(null),(0,Ms.z)(function(L){return C.then(function(){return L})}),(0,Ms.z)(function(L){try{var $=vi(f),X=i._changeEventBuffer.getFrom(h+1),oe=function(){if(null===X)return Promise.resolve(i.findByIds(r)).then(function(ue){h=i._changeEventBuffer.counter,Array.from(ue.entries()).forEach(function(we){return $.set(we[0],we[1])})});X.filter(function(ue){return r.includes(ue.documentId)}).forEach(function(ue){var we=ue.operation;"INSERT"===we||"UPDATE"===we?$.set(ue.documentId,i._docCache.get(ue.documentId)):$.delete(ue.documentId)})}();return Promise.resolve(oe&&oe.then?oe.then(function(){return $}):$)}catch(ue){return Promise.reject(ue)}}),(0,yr.h)(function(L){return!!L}),ks(er))},t.exportJSON=function(){throw Ut("json-dump")},t.importJSON=function(r){throw Ut("json-dump")},t.syncCouchDB=function(r){throw Ut("replication")},t.syncGraphQL=function(r){throw Ut("replication-graphql")},t.inMemory=function(){throw Ut("in-memory")},t.addHook=function(r,i,f){var h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof f)throw zt("COL7",{key:i,when:r});if(!El.includes(r))throw zt("COL8",{key:i,when:r});if(!Sl.includes(i))throw Ne("COL9",{key:i});if("post"===r&&"create"===i&&!0===h)throw Ne("COL10",{when:r,key:i,parallel:h});var C=f.bind(this),L=h?"parallel":"series";this.hooks[i]=this.hooks[i]||{},this.hooks[i][r]=this.hooks[i][r]||{series:[],parallel:[]},this.hooks[i][r][L].push(C)},t.getHooks=function(r,i){try{return this.hooks[i][r]}catch{return{series:[],parallel:[]}}},t._runHooks=function(r,i,f,h){var C=this.getHooks(r,i);return C?function(e,t){return e.reduce(function(n,r){return n.then(r)},Promise.resolve(void 0))}(C.series.map(function($){return function(){return $(f,h)}})).then(function(){return Promise.all(C.parallel.map(function($){return $(f,h)}))}):Pr},t._runHooksSync=function(r,i,f,h){var C=this.getHooks(r,i);!C||C.series.forEach(function(L){return L(f,h)})},t.newDocument=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r=this.schema.fillObjectWithDefaults(r);var i=Qi(Zi(this),this,r);return i._isTemporary=!0,this._runHooksSync("post","create",r,i),i},t.destroy=function(){var r=this;return this.destroyed?qn:(this._onDestroyCall&&this._onDestroyCall(),this._subs.forEach(function(i){return i.unsubscribe()}),this._changeEventBuffer&&this._changeEventBuffer.destroy(),Array.from(this._repStates).forEach(function(i){return i.cancel()}),Promise.all([this.storageInstance.close(),this.localDocumentsStore.close()]).then(function(){return delete r.database.collections[r.name],r.destroyed=!0,Hi("postDestroyRxCollection",r).then(function(){return!0})}))},t.remove=function(){return this.database.removeCollection(this.name)},vr(e,[{key:"$",get:function(){return this._observable$}},{key:"insert$",get:function(){return this.$.pipe((0,yr.h)(function(r){return"INSERT"===r.operation}))}},{key:"update$",get:function(){return this.$.pipe((0,yr.h)(function(r){return"UPDATE"===r.operation}))}},{key:"remove$",get:function(){return this.$.pipe((0,yr.h)(function(r){return"DELETE"===r.operation}))}},{key:"onDestroy",get:function(){var r=this;return this._onDestroy||(this._onDestroy=new Promise(function(i){return r._onDestroyCall=i})),this._onDestroy}},{key:"asRxCollection",get:function(){return this}}]),e}();function rd(e){if(!wl){wl=!0;var t=Object.getPrototypeOf(e);Sl.forEach(function(n){El.map(function(r){var i=r+Es(n);t[i]=function(f,h){return this.addHook(r,n,f,h)}})})}}var Cl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function fc(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var n=e._pHM.get(t);e._hPM.delete(n),e._pHM.delete(t)}e._iC.delete(t)}}function dc(e){e._tryIR||0===e._iC.size||(e._tryIR=!0,setTimeout(function(){e.isIdle()?setTimeout(function(){e.isIdle()?(function(e){0!==e._iC.size&&(e._iC.values().next().value._manRes(),setTimeout(function(){return dc(e)},0))}(e),e._tryIR=!1):e._tryIR=!1},0):e._tryIR=!1},0))}Cl.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,dc(this)},wrapCall:function(t){var r,n=this;this.lock();try{r=t()}catch(i){throw this.unlock(),i}return r.then&&"function"==typeof r.then?r.then(function(i){return n.unlock(),i}).catch(function(i){throw n.unlock(),i}):(this.unlock(),r)},requestIdlePromise:function(t){var n=this;t=t||{};var r,i=new Promise(function(C){return r=C});if(i._manRes=function(){fc(n,i),r()},t.timeout){var h=setTimeout(function(){i._manRes()},t.timeout);i._timeoutObj=h}return this._iC.add(i),dc(this),i},cancelIdlePromise:function(t){fc(this,t)},requestIdleCallback:function(t,n){var r=this._lHN++,i=this.requestIdlePromise(n);return this._hPM.set(r,i),this._pHM.set(i,r),i.then(function(){return t()}),r},cancelIdleCallback:function(t){var n=this._hPM.get(t);this.cancelIdlePromise(n)},clear:function(){var t=this;this._iC.forEach(function(n){return fc(t,n)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}},Promise.resolve(!1),Promise.resolve(!0);var Xi=Promise.resolve();function Al(e,t){return e||(e=0),new Promise(function(n){return setTimeout(function(){return n(t)},e)})}function hc(){return Math.random().toString(36).substring(2)}var Pl=0,pc=0;function mu(){var e=(new Date).getTime();return e===Pl?1e3*e+ ++pc:(Pl=e,pc=0,1e3*e)}var vu="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);const yd={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),Xi}catch(n){return Promise.reject(n)}},canBeUsed:function(){if(vu&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 150},microSeconds:mu};var gu=function(){function e(t){this.ttl=t,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(t){return this.set.has(t)},e.prototype.add=function(t){var n=this;this.timeMap.set(t,Dl()),this.set.add(t),setTimeout(function(){!function(e){for(var t=Dl()-e.ttl,n=e.set[Symbol.iterator]();;){var r=n.next().value;if(!r)return;if(!(e.timeMap.get(r)<t))return;e.timeMap.delete(r),e.set.delete(r)}}(n)},0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function Dl(){return(new Date).getTime()}function mc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var br="messages";function Ol(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function Il(e){e.closed||Tl(e).then(function(){return Al(e.options.idb.fallbackInterval)}).then(function(){return Il(e)})}function Tl(e){return e.closed||!e.messagesCallback?Xi:function(e,t){var n=e.transaction(br).objectStore(br),r=[];return new Promise(function(f){(function(){try{var f=IDBKeyRange.bound(t+1,1/0);return n.openCursor(f)}catch{return n.openCursor()}}()).onsuccess=function(h){var C=h.target.result;C?C.value.id<t+1?C.continue(t+1):(r.push(C.value),C.continue()):f(r)}})}(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(r){return!!r}).map(function(r){return r.id>e.lastCursorId&&(e.lastCursorId=r.id),r}).filter(function(r){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(r,e)}).sort(function(r,i){return r.time-i.time});return n.forEach(function(r){e.messagesCallback&&(e.eMIs.add(r.id),e.messagesCallback(r.data))}),Xi})}const Bd={create:function(e,t){return t=mc(t),function(e){var r=Ol().open("pubkey.broadcast-channel-0-"+e,1);return r.onupgradeneeded=function(f){f.target.result.createObjectStore(br,{keyPath:"id",autoIncrement:!0})},new Promise(function(f,h){r.onerror=function(C){return h(C)},r.onsuccess=function(){f(r.result)}})}(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:hc(),eMIs:new gu(2*t.idb.ttl),writeBlockPromise:Xi,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},Il(r),r})},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,Tl(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return function(e,t,n){var i={uuid:t,time:(new Date).getTime(),data:n},f=e.transaction([br],"readwrite");return new Promise(function(h,C){f.oncomplete=function(){return h()},f.onerror=function($){return C($)},f.objectStore(br).add(i)})}(e.db,e.uuid,t)}).then(function(){0===Math.floor(11*Math.random()+0)&&function(e,t){(function(e,t){var n=(new Date).getTime()-t,r=e.transaction(br).objectStore(br),i=[];return new Promise(function(f){r.openCursor().onsuccess=function(h){var C=h.target.result;if(C){var L=C.value;if(!(L.time<n))return void f(i);i.push(L),C.continue()}else f(i)}})})(e,t).then(function(n){return Promise.all(n.map(function(r){return function(e,t){var n=e.transaction([br],"readwrite").objectStore(br).delete(t);return new Promise(function(r){n.onsuccess=function(){return r()}})}(e,r.id)}))})}(e.db,e.options.idb.ttl)}),e.writeBlockPromise},canBeUsed:function(){return!vu&&!!Ol()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:mu};function Rl(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function Ml(e){return"pubkey.broadcastChannel-"+e}function xl(){if(vu)return!1;var e=Rl();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}const Gd={create:function(e,t){if(t=mc(t),!xl())throw new Error("BroadcastChannel: localstorage cannot be used");var n=hc(),r=new gu(t.localstorage.removeTimeout),i={channelName:e,uuid:n,eMIs:r};return i.listener=function(e,t){var n=Ml(e),r=function(f){f.key===n&&t(JSON.parse(f.newValue))};return window.addEventListener("storage",r),r}(e,function(f){!i.messagesCallback||f.uuid!==n&&(!f.token||r.has(f.token)||f.data.time&&f.data.time<i.messagesCallbackTime||(r.add(f.token),i.messagesCallback(f.data)))}),i},close:function(e){!function(e){window.removeEventListener("storage",e)}(e.listener)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(n){Al().then(function(){var r=Ml(e.channelName),i={token:hc(),time:(new Date).getTime(),data:t,uuid:e.uuid},f=JSON.stringify(i);Rl().setItem(r,f);var h=document.createEvent("Event");h.initEvent("storage",!0,!0),h.key=r,h.newValue=f,window.dispatchEvent(h),n()})})},canBeUsed:xl,type:"localstorage",averageResponseTime:function(){var t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?240:120},microSeconds:mu};var Qd=mu,vc=new Set;const nh={create:function(e){var t={name:e,messagesCallback:null};return vc.add(t),t},close:function(e){vc.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(n){return setTimeout(function(){Array.from(vc).filter(function(i){return i.name===e.name}).filter(function(i){return i!==e}).filter(function(i){return!!i.messagesCallback}).forEach(function(i){return i.messagesCallback(t)}),n()},5)})},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:Qd};var kl=[yd,Bd,Gd],Ll=new Set,ih=0,gc=function(t,n){this.id=ih++,Ll.add(this),this.name=t,this.options=mc(n),this.method=function(e){var t=[].concat(e.methods,kl).filter(Boolean);if(e.type){if("simulate"===e.type)return nh;var n=t.find(function(i){return i.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}!e.webWorkerSupport&&!vu&&(t=t.filter(function(i){return"idb"!==i.type}));var r=t.find(function(i){return i.canBeUsed()});if(r)return r;throw new Error("No useable method found in "+JSON.stringify(kl.map(function(i){return i.type})))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,function(e){var t=e.method.create(e.name,e.options);!function(e){return!(!e||"function"!=typeof e.then)}(t)?e._state=t:(e._prepP=t,t.then(function(n){e._state=n}))}(this)};function Bl(e,t,n){var i={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:Xi).then(function(){var h=e.method.postMessage(e._state,i);return e._uMP.add(h),h.catch().then(function(){return e._uMP.delete(h)}),h})}function Fl(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Nl(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&Fl(e)){var t=function(i){e._addEL[i.type].forEach(function(f){i.time>=f.time-1e5&&f.fn(i.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function jl(e,t,n){e._addEL[t]=e._addEL[t].filter(function(r){return r!==n}),function(e){if(e._iL&&!Fl(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}gc._pubkey=!0,gc.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return Bl(this,"message",t)},postInternal:function(t){return Bl(this,"internal",t)},set onmessage(e){var n={time:this.method.microSeconds(),fn:e};jl(this,"message",this._onML),e&&"function"==typeof e?(this._onML=n,Nl(this,"message",n)):this._onML=null},addEventListener:function(t,n){Nl(this,t,{time:this.method.microSeconds(),fn:n})},removeEventListener:function(t,n){jl(this,t,this._addEL[t].find(function(i){return i.fn===n}))},close:function(){var t=this;if(!this.closed){Ll.delete(this),this.closed=!0;var n=this._prepP?this._prepP:Xi;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var Ul=function(t,n,r,i){try{return Promise.resolve(t.createStorageInstance({databaseName:n,collectionName:"_rxdb_internal",schema:tt(0,"collectionName"),options:r,multiInstance:i})).then(function(f){return Promise.resolve(t.createKeyObjectStorageInstance({databaseName:n,collectionName:"",options:r,multiInstance:i})).then(function(h){return{internalStore:f,localDocumentsStore:h}})})}catch(f){return Promise.reject(f)}},fh=function(t){try{var n="storageToken";return Promise.resolve(Ir(t.localDocumentsStore,n)).then(function(r){if(r)return r.value;var i=ji(10);return Promise.resolve(t.localDocumentsStore.bulkWrite([{document:{_id:n,value:i,_attachments:{}}}])).then(function(){return i})})}catch(r){return Promise.reject(r)}},_c=new Set,yu=function(){function e(n,r,i,f,h){var C=arguments.length>5&&void 0!==arguments[5]&&arguments[5],L=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},$=arguments.length>7?arguments[7]:void 0,X=arguments.length>8?arguments[8]:void 0,oe=arguments.length>9?arguments[9]:void 0,ue=arguments.length>10?arguments[10]:void 0;this.token=ji(10),this._subs=[],this.destroyed=!1,this.eventBulks$=new xs.x,this.observable$=this.eventBulks$.pipe((0,Ms.z)(function(we){return we.events})),this.emittedEventBulkIds=new gu(6e4),this.name=n,this.storage=r,this.instanceCreationOptions=i,this.password=f,this.multiInstance=h,this.eventReduce=C,this.options=L,this.idleQueue=$,this.internalStore=X,this.localDocumentsStore=oe,this.broadcastChannel=ue,this.collections={}}var t=e.prototype;return t.dangerousRemoveCollectionInfo=function(){try{var r=this;return Promise.resolve(Ds(r.storage,r.internalStore)).then(function(i){var f=i.map(function(h){var C=Et(h);return C._deleted=!0,{previous:h,document:C}});return Promise.resolve(r.internalStore.bulkWrite(f)).then(function(){})})}catch(i){return Promise.reject(i)}},t.$emit=function(r){this.emittedEventBulkIds.has(r.id)||(this.emittedEventBulkIds.add(r.id),this.eventBulks$.next(r),function(e,t){e.destroyed||e.multiInstance&&e.broadcastChannel&&!t.internal&&e.token===t.databaseToken&&e.storageToken===t.storageToken&&e.broadcastChannel.postMessage(t).then(function(){return!0})}(this,r))},t.removeCollectionDoc=function(r,i){try{var f=this,h=_u(r,i);return Promise.resolve(Do(f.internalStore,h)).then(function(C){if(!C)throw Ne("SNH",{name:r,schema:i});var L=Et(C);return L._deleted=!0,Promise.resolve(f.lockedRun(function(){return f.internalStore.bulkWrite([{document:L,previous:C}])})).then(function(){})})}catch(C){return Promise.reject(C)}},t.addCollections=function(r){try{var i=this;return Promise.resolve(i.lockedRun(function(){return i.internalStore.findDocumentsById(Object.keys(r).map(function(f){return _u(f,r[f].schema)}),!1)})).then(function(f){var h={};Object.entries(f).forEach(function(L){h[L[0]]=L[1]});var C={};return Promise.resolve(Promise.all(Object.entries(r).map(function(L){var $=L[0],X=L[1],oe=$,ue=h[_u($,r[oe].schema)],we=Et(X);we.name=oe;var he=function(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&rn("preCreateRxSchema",e);var n=new eu(nu(e));return rn("createRxSchema",n),n}(X.schema);if(C[oe]=he.hash,we.schema=he,we.database=i,he.crypt&&!i.password)throw Ne("DB7",{name:$});if(i.collections[$])throw Ne("DB3",{name:$});if(ue&&ue.schemaHash!==C[oe])throw Ne("DB6",{name:$,previousSchemaHash:ue.schemaHash,schemaHash:C[oe],previousSchema:ue.schema,schema:X.schema});var fe=Et(X);return fe.database=i,fe.name=$,rn("preCreateRxCollection",fe),function(e,t){var n=e.database,r=e.name,i=e.schema,f=e.instanceCreationOptions,h=void 0===f?{}:f,C=e.migrationStrategies,L=void 0===C?{}:C,$=e.autoMigrate,X=void 0===$||$,oe=e.statics,ue=void 0===oe?{}:oe,we=e.methods,he=void 0===we?{}:we,fe=e.attachments,be=void 0===fe?{}:fe,Te=e.options,Re=void 0===Te?{}:Te,Oe=e.cacheReplacementPolicy,je=void 0===Oe?yl:Oe;dn.isDevMode()&&Object.keys(he).filter(function(Xe){return i.topLevelFields.includes(Xe)}).forEach(function(Xe){throw Ne("COL18",{funName:Xe})});var $e={databaseName:n.name,collectionName:r,schema:i.jsonSchema,options:h,multiInstance:n.multiInstance};return rn("preCreateRxStorageInstance",$e),Vi(r,n,$e,h).then(function(Xe){var We=new pu(n,r,i,Xe.storageInstance,Xe.localDocumentsStore,h,L,he,be,Re,je,ue);return We.prepare(t).then(function(){Object.entries(ue).forEach(function(yt){var Ot=yt[1];Object.defineProperty(We,yt[0],{get:function(){return Ot.bind(We)}})});var et=Pr;return X&&0!==We.schema.version&&(et=We.migratePromise()),et}).then(function(){return rn("createRxCollection",We),We}).catch(function(et){return Promise.all([Xe.storageInstance.close(),Xe.localDocumentsStore.close()]).then(function(){return Promise.reject(et)})})})}(we,!!ue)}))).then(function(L){var $=[],X={};L.forEach(function(ue){var we=ue.name;X[we]=ue;var he=_u(we,r[we].schema);h[he]||$.push({document:{collectionName:he,schemaHash:C[we],schema:ue.schema.normalized,version:ue.schema.version,_attachments:{}}}),i.collections[we]=ue,i[we]||Object.defineProperty(i,we,{get:function(){return i.collections[we]}})});var oe=function(){if($.length>0)return Promise.resolve(i.lockedRun(function(){return i.internalStore.bulkWrite($)})).then(function(){})}();return oe&&oe.then?oe.then(function(){return X}):X})})}catch(f){return Promise.reject(f)}},t.removeCollection=function(r){var i=this,f=Pr;return this.collections[r]&&(f=this.collections[r].destroy()),f.then(function(){return function(t,n){try{return Promise.resolve(t.lockedRun(function(){return Ds(t.storage,t.internalStore)})).then(function(r){var i=r.filter(function(f){return f.collectionName.split("-")[0]===n});return Promise.all(i.map(function(f){var h=Et(f);return h._deleted=!0,t.lockedRun(function(){return gr(t.internalStore,{previous:f,document:h})})})).then(function(){return i.map(function(f){return f.version})})})}catch(r){return Promise.reject(r)}}(i,r)}).then(function(h){return Promise.all(h.map(function(C){return Vi(r,i,{databaseName:i.name,collectionName:r,schema:tt(C,"collectionName"),options:i.instanceCreationOptions,multiInstance:i.multiInstance},{})}))}).then(function(h){return Promise.all(h.map(function(C){return i.lockedRun(function(){return Promise.all([C.storageInstance.remove(),C.localDocumentsStore.remove()])})}))}).then(function(){})},t.lockedRun=function(r){return this.idleQueue.wrapCall(r)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(){throw Ut("json-dump")},t.importJSON=function(r){throw Ut("json-dump")},t.server=function(r){throw Ut("server")},t.backup=function(r){throw Ut("backup")},t.leaderElector=function(){throw Ut("leader-election")},t.isLeader=function(){throw Ut("leader-election")},t.waitForLeadership=function(){throw Ut("leader-election")},t.migrationStates=function(){throw Ut("migration")},t.destroy=function(){var r=this;return this.destroyed||(rn("preDestroyRxDatabase",this),this.destroyed=!0,this._subs.map(function(i){return i.unsubscribe()}),"pseudoInstance"===this.name)?qn:this.requestIdlePromise().then(function(){return Promise.all(Object.keys(r.collections).map(function(i){return r.collections[i]}).map(function(i){return i.destroy()}))}).then(function(){return r.internalStore.close()}).then(function(){return r.localDocumentsStore.close()}).then(function(){return r.broadcastChannel?r.broadcastChannel.close():null}).then(function(){return _c.delete(r.name)}).then(function(){return!0})},t.remove=function(){var r=this;return this.destroy().then(function(){return function(t,n){return Promise.resolve(Ul(n,t,{},!1)).then(function(r){return Promise.resolve(Ds(n,r.internalStore)).then(function(i){return Promise.resolve(Promise.all(i.map(function(f){try{var C=f.schema,L=f.collectionName.split("-"),$=L[0],X=parseInt(L[1],10),oe=xr(C.primaryKey);return Promise.resolve(Promise.all([n.createStorageInstance({databaseName:t,collectionName:$,schema:tt(X,oe),options:{},multiInstance:!1}),n.createKeyObjectStorageInstance({databaseName:t,collectionName:Is($),options:{},multiInstance:!1})])).then(function(ue){var he=ue[1];return Promise.resolve(Promise.all([ue[0].remove(),he.remove()])).then(function(){})})}catch(ue){return Promise.reject(ue)}}))).then(function(){return Promise.all([r.internalStore.remove(),r.localDocumentsStore.remove()])})})})}(r.name,r.storage)})},vr(e,[{key:"$",get:function(){return this.observable$}}]),e}();function _u(e,t){return e+"-"+t.version}function mh(e){var we,t=e.storage,n=e.instanceCreationOptions,r=e.name,i=e.password,f=e.multiInstance,h=void 0===f||f,C=e.eventReduce,L=void 0!==C&&C,$=e.ignoreDuplicate,X=void 0!==$&&$,oe=e.options,ue=void 0===oe?{}:oe;rn("preCreateRxDatabase",{storage:t,instanceCreationOptions:n,name:r,password:i,multiInstance:h,eventReduce:L,ignoreDuplicate:X,options:ue}),i&&dn.validatePassword(i),X||function(e){if(_c.has(e))throw Ne("DB8",{name:e,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}(r),_c.add(r),h&&(we=new gc("RxDB:"+r+":socket"));var he=new Cl;return Ul(t,r,n,h).then(function(fe){var be=new yu(r,t,n,i,h,L,ue,he,fe.internalStore,fe.localDocumentsStore,we);return function(t){try{return Promise.resolve(fh(t)).then(function(n){t.storageToken=n;var e,r=t.localDocumentsStore.changeStream().subscribe(function(i){var f={id:i.id,internal:!1,storageToken:vi(t.storageToken),events:i.events.map(function(h){return nr(!0,h)}),databaseToken:t.token};t.$emit(f)});t._subs.push(r),t.multiInstance&&vi((e=t).broadcastChannel).addEventListener("message",function(t){t.storageToken!==e.storageToken||t.databaseToken===e.token||e.$emit(t)})})}catch(n){return Promise.reject(n)}}(be).then(function(){return Hi("createRxDatabase",be)}).then(function(){return be})})}var vh={RxSchema:eu.prototype,Crypter:ku.prototype,RxDocument:Jt,RxQuery:hu.prototype,RxCollection:pu.prototype,RxDatabase:yu.prototype},Ec=new Set;function js(e){if(rn("preAddRxPlugin",{plugin:e,plugins:Ec}),!Ec.has(e)){if(Ec.add(e),!e.rxdb)throw zt("PL1",{plugin:e});e.prototypes&&Object.entries(e.prototypes).forEach(function(t){return(0,t[1])(vh[t[0]])}),e.overwritable&&Object.assign(dn,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(function(t){return Vr[t[0]].push(t[1])})}}var Sc,wc,Cc,zl={UT1:"given name is no string or empty",UT2:"collection- and database-names must match the regex to be compatible with couchdb databases.\n    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/\n    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'",UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",PL1:"Given plugin is not RxDB plugin. Pouchdb plugins must be added via addPouchPlugin()",PL2:"You tried importy a RxDB plugin to pouchdb. Use addRxPlugin() instead.",P1:"PouchDB.getBatch: limit must be > 2",P2:"bulkWrite() cannot be called with an empty array",P3:"bulkAddRevisions cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU7:"query must be an object",QU8:"query cannot be an array",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase.[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://pubkey.github.io/rxdb/questions-answers.html#cant-change-the-schema",DB7:"RxDatabase.addCollections(): schema encrypted but no password given",DB8:"RxDatabase.create(): A RxDatabase with the same name and adapter already exists.\nMake sure to use this combination only once or set ignoreDuplicate to true if you do this intentional",DB9:"RxDatabase.create(): Adapter not added. Use RxDB.plugin(require('pouchdb-adapter-[adaptername]'));",DB10:"RxDatabase.create(): To use leveldown-adapters, you have to add the leveldb-plugin. Use RxDB.plugin(require('pouchdb-adapter-leveldb'));",DB11:"RxDatabase.create(): Invalid db-name, folder-paths must not have an ending slash",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() fieldName ._id can only be used as primaryKey",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.atomicUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL19:"Document document update conflict, when changing a document you must work on the previous revision",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): cant save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",AT1:"to use attachments, please define this in your schema",EN1:"password is no string",EN2:"validatePassword: min-length of password not complied",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ cant use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not useable on local documents",LD7:"Local document already exists",RC1:"Replication: already added",RC2:"RxCollection.syncCouchDB() query must be from the same RxCollection",RC3:"RxCollection.syncCouchDB() Do not use a collection's pouchdb as remote, use the collection instead",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await inital replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await inital replication if multiInstance because the replication might run on another instance",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",DEV1:"dev-mode added multiple times, this is likely because you have mixed up the import from the the plugins/core and the full RxDB",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",IM1:"InMemory: Memory-Adapter must be added. Use addPouchPlugin(require('pouchdb-adapter-memory'));",IM2:"inMemoryCollection.sync(): Do not replicate with the in-memory instance. Replicate with the parent instead",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"cannot find sub schema by key",SNH:"This should never happen"},bh=new(xo(Jt));function $l(){if(!Cc){var t=Object.getOwnPropertyNames(bh),n=Object.getOwnPropertyNames(Jt);Cc=[].concat(t,n,["deleted","synced"])}return Cc}function Sh(e){var t=xr(e.primaryKey);return function r(i,f){"object"==typeof i&&Object.keys(i).forEach(function(h){i.properties||function(i,f,h){if("string"==typeof i&&"object"==typeof f&&!Array.isArray(f)&&function(e){if(""!==e&&"_deleted"!==e){if(["properties","language"].includes(e))throw Ne("SC23",{fieldName:e});var t="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",n=new RegExp(t);if("_id"!==e&&!e.match(n))throw Ne("SC1",{regex:t,fieldName:e})}}(i),f.hasOwnProperty("item")&&"array"!==f.type)throw Ne("SC2",{fieldName:i});if(f.hasOwnProperty("required")&&"boolean"==typeof f.required)throw Ne("SC24",{fieldName:i});if(f.hasOwnProperty("ref"))if(Array.isArray(f.type)){if(f.type.length>2||!f.type.includes("string")||!f.type.includes("null"))throw Ne("SC4",{fieldName:i})}else switch(f.type){case"string":break;case"array":if(!f.items||!f.items.type||"string"!==f.items.type)throw Ne("SC3",{fieldName:i});break;default:throw Ne("SC4",{fieldName:i})}var C=h.split(".").length>=2;if(C){if(f.primary)throw Ne("SC6",{path:h,primary:f.primary});if(f.default)throw Ne("SC7",{path:h})}if(!C){if("_id"===i&&"_id"!==t)throw Ne("COL2",{fieldName:i});if("_"===i.charAt(0)){if("_id"===i||"_deleted"===i)return;throw Ne("SC8",{fieldName:i})}}}(h,i[h],f);var C=f;"properties"!==h&&(C=C+"."+h),r(i[h],C)})}(e,""),!0}function Wl(e){for(var t=e.split("."),n="",r=0;r<t.length;r+=1)n=n.concat("[]"!==t[r]?".properties.".concat(t[r]):".items");return mi(n)}function Ac(e){!e||Object.entries(e).forEach(function(t){var n=t[0],r=t[1];if("string"!=typeof n)throw zt("COL14",{name:n});if(n.startsWith("_"))throw zt("COL15",{name:n});if("function"!=typeof r)throw zt("COL16",{name:n,type:typeof n});if(function(){if(!Sc){var e=new pu,t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Sc=[].concat(t,n)}return Sc}().includes(n)||$l().includes(n))throw Ne("COL17",{name:n})})}var Kl="^[a-z][_$a-z0-9\\-]*$",Oh=new RegExp(Kl);function Hl(e){if("string"!=typeof e||0===e.length)throw zt("UT1",{name:e});if(Cs(e))return!0;if(!e.match(Oh))throw Ne("UT2",{regex:Kl,givenName:e});return!0}var Th=l(4949),Rh=l.n(Th),Vl="dev-mode",xh={name:Vl,rxdb:!0,overwritable:{isDevMode:function(){return!0},deepFreezeWhenDevMode:function(e){return e&&Rh()(e)},tunnelErrorMessage:function(t){if(!zl[t])throw console.error("RxDB: Error-Code not known: "+t),new Error("Error-Code "+t+" not known, contact the maintainer");return zl[t]}},hooks:{preAddRxPlugin:function(t){if(t.plugin.name===Vl)throw Ne("DEV1",{plugins:t.plugins})},preCreateRxSchema:function(e){if(!e.primaryKey)throw Ne("SC30",{schema:e});if(!e.hasOwnProperty("properties"))throw Ne("SC29",{schema:e});if(e.properties._rev)throw Ne("SC10",{schema:e});if(!e.hasOwnProperty("version")||"number"!=typeof e.version||e.version<0)throw Ne("SC11",{version:e.version});if(Sh(e),function(e){if(!e.primaryKey)throw Ne("SC30",{schema:e});function t(h){if(!h)throw Ne("SC33",{schema:e});var C=h.type;if(!C||!["string","number","integer"].includes(C))throw Ne("SC32",{schema:e,args:{schemaPart:h}})}if("string"==typeof e.primaryKey)t(e.properties[e.primaryKey]);else{var i=e.primaryKey;t(lt(e,i.key)),i.fields.forEach(function(h){t(lt(e,h))})}}(e),Object.keys(e.properties).forEach(function(t){var n=e.properties[t];if(t===e.primaryKey){if(e.indexes&&e.indexes.includes(t))throw Ne("SC13",{value:n,schema:e});if(n.unique)throw Ne("SC14",{value:n,schema:e});if(e.encrypted&&e.encrypted.includes(t))throw Ne("SC15",{value:n,schema:e});if("string"!==n.type)throw Ne("SC16",{value:n,schema:e})}if($l().includes(t))throw Ne("SC17",{key:t,schema:e})}),e.indexes){if(!wn(e.indexes))throw Ne("SC18",{indexes:e.indexes,schema:e});e.indexes.forEach(function(t){if("string"!=typeof t&&!Array.isArray(t))throw Ne("SC19",{index:t,schema:e});if(Array.isArray(t))for(var n=0;n<t.length;n+=1)if("string"!=typeof t[n])throw Ne("SC20",{index:t,schema:e})})}if(Object.keys(e).includes("compoundIndexes"))throw Ne("SC25",{schema:e});Object.keys(yi(e)).map(function(t){var n=t.split(".");return n.pop(),n.join(".")}).filter(function(t){return""!==t}).filter(function(t,n,r){return r.indexOf(t)===n}).filter(function(t){return!!j().get(e,t).index}).forEach(function(t){throw Ne("SC26",{index:mi(t=(t=t.replace("properties.","")).replace(/\.properties\./g,".")),schema:e})}),(e.indexes||[]).reduce(function(t,n){return wn(n)?t.concat(n):t.push(n),t},[]).filter(function(t,n,r){return r.indexOf(t)===n}).map(function(t){var n=Wl(t),r=j().get(e,n);if(!r||"object"!=typeof r)throw Ne("SC21",{index:t,schema:e});return{indexPath:t,schemaObj:r}}).filter(function(t){return"string"!==t.schemaObj.type&&"integer"!==t.schemaObj.type&&"number"!==t.schemaObj.type}).forEach(function(t){throw Ne("SC22",{key:t.indexPath,type:t.schemaObj.type,schema:e})}),Object.keys(yi(e)).map(function(t){var n=t.split(".");return n.pop(),n.join(".")}).filter(function(t){return""!==t&&"attachments"!==t}).filter(function(t,n,r){return r.indexOf(t)===n}).filter(function(t){return!!j().get(e,t).encrypted}).forEach(function(t){throw Ne("SC27",{index:mi(t=(t=t.replace("properties.","")).replace(/\.properties\./g,".")),schema:e})}),e.encrypted&&e.encrypted.forEach(function(t){var n=Wl(t),r=j().get(e,n);if(!r||"object"!=typeof r)throw Ne("SC28",{field:t,schema:e})})},preCreateRxDatabase:function(t){!function(e){if(Hl(e.name),Cs(e.name)&&(e.name.endsWith("/")||e.name.endsWith("\\")))throw Ne("DB11",{name:e.name})}(t)},preCreateRxCollection:function(t){if(function(e){if(function(){if(!wc){var e=new yu("pseudoInstance","memory"),t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));wc=[].concat(t,n),e.destroy()}return wc}().includes(e.name))throw Ne("DB5",{name:e.name});Hl(e.name)}(t),"_"===t.name.charAt(0))throw Ne("DB2",{name:t.name});if(!t.schema)throw Ne("DB4",{name:t.name,args:t})},preCreateRxQuery:function(t){!function(e){if("[object Object]"!==Object.prototype.toString.call(e.queryObj))throw zt("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj});var n=["selector","limit","skip","sort"];Object.keys(e.queryObj).forEach(function(r){if(!n.includes(r))throw zt("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj,key:r})})}(t)},createRxCollection:function(t){Ac(t.statics),Ac(t.methods),Ac(t.attachments),t.schema&&t.migrationStrategies&&function(e,t){if("object"!=typeof t||Array.isArray(t))throw zt("COL11",{schema:e});var n=function(e){var n=0;return new Array(e.version?e.version:0).fill(0).map(function(){return n++})}(e);if(n.length!==Object.keys(t).length)throw Ne("COL12",{have:Object.keys(t),should:n});n.map(function(r){return{v:r,s:t[r+1]}}).filter(function(r){return"function"!=typeof r.s}).forEach(function(r){throw zt("COL13",{version:r.v,type:typeof r,schema:e})})}(t.schema,t.migrationStrategies)}}},kh=l(7466),Gl=l.n(kh),Lh=l(4384),jh=function(t){return function(e,t){return Gl().encrypt(e,t).toString()}(t,this.password)},Uh=function(t){var n=function(e,t){return Gl().decrypt(e,t).toString(Lh)}(t,this.password);return n},$h={Crypter:function(t){t._encryptString=jh,t._decryptString=Uh}},Wh={validatePassword:function(t){if(t&&"string"!=typeof t)throw zt("EN1",{password:t});if(t&&t.length<8)throw Ne("EN2",{minPassLength:8,password:t})}},Kh={name:"encryption",rxdb:!0,prototypes:$h,overwritable:Wh,hooks:{createRxDatabase:function(t){return function(t){try{if(!t.password)return Promise.resolve(qn);var n=Je(t.password),r="pwHash";return Promise.resolve(Ir(t.localDocumentsStore,r)).then(function(i){return i?n===i.value||Promise.resolve(t.destroy()).then(function(){throw Ne("DB1",{passwordHash:Je(t.password),existingPasswordHash:i.value})}):Promise.resolve(t.localDocumentsStore.bulkWrite([{document:{_id:r,value:n,_attachments:{}}}])).then(function(){return!0})})}catch(i){return Promise.reject(i)}}(t)}}},Hh=("undefined"!=typeof AbortController&&AbortController,fetch),bu=Headers;function An(e,t){if(e===t)return 0;e=qi(e),t=qi(t);var n=Oc(e),r=Oc(t);if(n-r!=0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=An(e[r],t[r]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),r=Object.keys(t),i=Math.min(n.length,r.length),f=0;f<i;f++){var h=An(n[f],r[f]);if(0!==h||0!==(h=An(e[n[f]],t[r[f]])))return h}return n.length===r.length?0:n.length>r.length?1:-1}(e,t)}function qi(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=qi(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var i in e={},t)if(t.hasOwnProperty(i)){var f=t[i];void 0!==f&&(e[i]=qi(f))}}}return e}function Er(e){return Oc(e=qi(e))+""+function(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,i=r?"0":"2",h=function(e,t,n){var r=function(e,t,n){for(var r="",i=3-e.length;r.length<i;)r+="0";return r}(e);return r+e}(((r?-n:n)- -324).toString());i+=""+h;var C=Math.abs(parseFloat(t[0]));r&&(C=10-C);var L=C.toFixed(20);return i+""+L.replace(/\.?0+$/,"")}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,i=n.length,f="";if(t)for(;++r<i;)f+=Er(n[r]);else for(;++r<i;){var h=n[r];f+=Er(h)+Er(e[h])}return f}return""}(e)+"\0"}function Zh(e,t){var r,n=t;if("1"===e[t])r=0,t++;else{var f="0"===e[t];t++;var h="",C=e.substring(t,t+3),L=parseInt(C,10)+-324;for(f&&(L=-L),t+=3;;){var $=e[t];if("\0"===$)break;h+=$,t++}r=1===(h=h.split(".")).length?parseInt(h,10):parseFloat(h[0]+"."+h[1]),f&&(r-=10),0!==L&&(r=parseFloat(r+"e"+L))}return{num:r,length:t-n}}function Yh(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var i=r.element,f=r.index;Array.isArray(i)?i.push(n):f===e.length-2?i[e.pop()]=n:e.push(n)}}function Oc(e){var n=["boolean","number","string","object"].indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function Ic(e,t){for(var n=e,r=0,i=t.length;r<i&&(n=n[t[r]]);r++);return n}function np(e,t,n){for(var r=0,i=t.length;r<i-1;r++){var f=t[r];e=e[f]=e[f]||{}}e[t[i-1]]=n}function Tc(e,t){return e<t?-1:e>t?1:0}function Ko(e){for(var t=[],n="",r=0,i=e.length;r<i;r++){var f=e[r];"."===f?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=f}return t.push(n),t}var rp=["$or","$nor","$not"];function Yl(e){return rp.indexOf(e)>-1}function Gn(e){return Object.keys(e)[0]}function Rc(e){return e[Gn(e)]}function Ho(e){var t={};return e.forEach(function(n){Object.keys(n).forEach(function(r){var i=n[r];if("object"!=typeof i&&(i={$eq:i}),Yl(r))t[r]=i instanceof Array?i.map(function(h){return Ho([h])}):Ho([i]);else{var f=t[r]=t[r]||{};Object.keys(i).forEach(function(h){var C=i[h];return"$gt"===h||"$gte"===h?function(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}(h,C,f):"$lt"===h||"$lte"===h?function(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}(h,C,f):"$ne"===h?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(C,f):"$eq"===h?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(C,f):void(f[h]=C)})}})}),t}function Jl(e){for(var t in e){if(Array.isArray(e))for(var n in e)e[n].$and&&(e[n]=Ho(e[n].$and));var r=e[t];"object"==typeof r&&Jl(r)}return e}function Xl(e,t){for(var n in e){"$and"===n&&(t=!0);var r=e[n];"object"==typeof r&&(t=Xl(r,t))}return t}function Mc(e){var t=qt(e),n=!1;Xl(t,!1)&&("$and"in(t=Jl(t))&&(t=Ho(t.$and)),n=!0),["$or","$nor"].forEach(function(C){C in t&&t[C].forEach(function(L){for(var $=Object.keys(L),X=0;X<$.length;X++){var oe=$[X],ue=L[oe];("object"!=typeof ue||null===ue)&&(L[oe]={$eq:ue})}})}),"$not"in t&&(t.$not=Ho([t.$not]));for(var r=Object.keys(t),i=0;i<r.length;i++){var f=r[i],h=t[f];"object"!=typeof h||null===h?h={$eq:h}:"$ne"in h&&!n&&(h.$ne=[h.$ne]),t[f]=h}return t}function Eu(e,t,n){if(e=e.filter(function(h){return Us(h.doc,t.selector,n)}),t.sort){var r=function(e){function t(n){return e.map(function(r){var f=Ko(Gn(r));return Ic(n,f)})}return function(n,r){var h=An(t(n.doc),t(r.doc));return 0!==h?h:Tc(n.doc._id,r.doc._id)}}(t.sort);e=e.sort(r),"string"!=typeof t.sort[0]&&"desc"===Rc(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var i=t.skip||0;e=e.slice(i,("limit"in t?t.limit:e.length)+i)}return e}function Us(e,t,n){return n.every(function(r){var i=t[r],f=Ko(r),h=Ic(e,f);return Yl(r)?function(e,t,n){return"$or"===e?t.some(function(r){return Us(n,r,Object.keys(r))}):"$not"===e?!Us(n,t,Object.keys(t)):!t.find(function(r){return Us(n,r,Object.keys(r))})}(r,i,e):xc(i,e,f,h)})}function xc(e,t,n,r){return!e||("object"==typeof e?Object.keys(e).every(function(i){return function(e,t,n,r,i){if(!ef[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return ef[e](t,n,r,i)}(i,t,e[i],n,r)}):e===r)}function Vo(e){return null!=e}function es(e){return void 0!==e}function ql(e,t){return t.some(function(n){return e instanceof Array?e.indexOf(n)>-1:e===n})}var ef={$elemMatch:function(e,t,n,r){return!(!Array.isArray(r)||0===r.length)&&r.some("object"==typeof r[0]?function(i){return Us(i,t,Object.keys(t))}:function(i){return xc(t,e,n,i)})},$allMatch:function(e,t,n,r){return!(!Array.isArray(r)||0===r.length)&&r.every("object"==typeof r[0]?function(i){return Us(i,t,Object.keys(t))}:function(i){return xc(t,e,n,i)})},$eq:function(e,t,n,r){return es(r)&&0===An(r,t)},$gte:function(e,t,n,r){return es(r)&&An(r,t)>=0},$gt:function(e,t,n,r){return es(r)&&An(r,t)>0},$lte:function(e,t,n,r){return es(r)&&An(r,t)<=0},$lt:function(e,t,n,r){return es(r)&&An(r,t)<0},$exists:function(e,t,n,r){return t?es(r):!es(r)},$mod:function(e,t,n,r){return Vo(r)&&function(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}(r,t)},$ne:function(e,t,n,r){return t.every(function(i){return 0!==An(r,i)})},$in:function(e,t,n,r){return Vo(r)&&ql(r,t)},$nin:function(e,t,n,r){return Vo(r)&&!ql(r,t)},$size:function(e,t,n,r){return Vo(r)&&function(e,t){return e.length===t}(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&function(e,t){return t.every(function(n){return e.indexOf(n)>-1})}(r,t)},$regex:function(e,t,n,r){return Vo(r)&&function(e,t){return new RegExp(t).test(e)}(r,t)},$type:function(e,t,n,r){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,t)}};function _p(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter)return t(new Error('selector invalid for filter "'+("string"==typeof e.filter?e.filter:"function")+'"'));t()}function bp(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=cs(e.view):e.filter=cs(e.filter))}function Ep(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!Pn(e.db)}function Sp(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var r=Fe(V,"`view` filter parameter not found or invalid.");return n(r)}var i=us(t.view);e.db.get("_design/"+i[0],function(h,C){if(e.isCancelled)return n(null,{status:"cancelled"});if(h)return n(Qe(h));var L=C&&C.views&&C.views[i[1]]&&C.views[i[1]].map;if(!L)return n(Fe(s,C.views?"missing json key: "+i[1]:"missing json key: views"));t.filter=function(e){return to(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{})}(L),e.doChanges(t)})}else if(t.selector)t.filter=function(h){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var r=Eu([{doc:e}],{selector:t=Mc(t)},Object.keys(t));return r&&1===r.length}(h,t.selector)},e.doChanges(t);else{var f=us(t.filter);e.db.get("_design/"+f[0],function(h,C){if(e.isCancelled)return n(null,{status:"cancelled"});if(h)return n(Qe(h));var L=C&&C.filters&&C.filters[f[1]];if(!L)return n(Fe(s,C&&C.filters?"missing json key: "+f[1]:"missing json key: filters"));t.filter=function(e){return to('"use strict";\nreturn '+e+";",{})}(L),e.doChanges(t)})}}function Go(e,t,n){nt().call(this);var r=this;this.db=e;var i=(t=t?qt(t):{}).complete=oi(function(C,L){C?function(e,t){return"listenerCount"in e?e.listenerCount(t):nt().listenerCount(e,t)}(r,"error")>0&&r.emit("error",C):r.emit("complete",L),r.removeAllListeners(),e.removeListener("destroyed",f)});function f(){r.cancel()}n&&(r.on("complete",function(C){n(null,C)}),r.on("error",n)),e.once("destroyed",f),t.onChange=function(C,L,$){r.isCancelled||function(e,t,n,r){try{e.emit("change",t,n,r)}catch(i){rt("error",'Error in .on("change", function):',i)}}(r,C,L,$)};var h=new Promise(function(C,L){t.complete=function($,X){$?L($):C(X)}});r.once("cancel",function(){e.removeListener("destroyed",f),t.complete(null,{status:"cancelled"})}),this.then=h.then.bind(h),this.catch=h.catch.bind(h),this.then(function(C){i(null,C)},i),e.taskqueue.isReady?r.validateChanges(t):e.taskqueue.addTask(function(C){C?t.complete(C):r.isCancelled?r.emit("cancel"):r.validateChanges(t)})}function Pp(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=Cr(t.rev_tree).map(function(f){return{rev:f.rev}}));var i={id:t.id,changes:r,doc:e};return Jn(t,e._rev)&&(i.deleted=!0),n.conflicts&&(i.doc._conflicts=li(t),i.doc._conflicts.length||delete i.doc._conflicts),i}function tf(e,t){return e<t?-1:e>t?1:0}function kc(e,t){return function(n,r){n||r[0]&&r[0].error?((n=n||r[0]).docId=t,e(n)):e(null,r.length?r[0]:r)}}function Op(e,t){var n=tf(e._id,t._id);return 0!==n?n:tf(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function nf(e){var t=e._compactionQueue[0],n=t.opts,r=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(i){i&&i.last_seq&&(n.last_seq=i.last_seq),e._compact(n,function(f,h){f?r(f):r(null,h),T()(function(){e._compactionQueue.shift(),e._compactionQueue.length&&nf(e)})})})}function Zt(){for(var e in nt().call(this),Zt.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function Qo(){this.isReady=!1,this.failed=!1,this.queue=[]}function At(e,t){if(!(this instanceof At))return new At(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=qt(t),n.auto_compaction=t.auto_compaction,n.prefix=At.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var i=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=At.adapters,i=At.preferredAdapters,f=At.prefix,h=t.adapter;if(!h)for(var C=0;C<i.length&&"idb"===(h=i[C])&&"websql"in r&&te()&&localStorage["_pouch__websqldb_"+f+e];++C)rt("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var L=r[h];return{name:L&&"use_prefix"in L&&!L.use_prefix?e:f+e,adapter:h}}((t.prefix||"")+e,t);if(t.name=i.name,t.adapter=t.adapter||i.adapter,n.name=e,n._adapter=t.adapter,At.emit("debug",["adapter","Picked adapter: ",t.adapter]),!At.adapters[t.adapter]||!At.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);Zt.call(n),n.taskqueue=new Qo,n.adapter=t.adapter,At.adapters[t.adapter].call(n,t,function(f){if(f)return n.taskqueue.fail(f);(function(e){function t(r){e.removeListener("closed",n),r||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)})(n),n.emit("created",n),At.emit("created",n.name),n.taskqueue.ready(n)})}I()(Go,nt()),Go.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Go.prototype.validateChanges=function(e){var t=e.complete,n=this;At._changesFilterPlugin?At._changesFilterPlugin.validate(e,function(r){if(r)return t(r);n.doChanges(e)}):n.doChanges(e)},Go.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=qt(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Pp,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(At._changesFilterPlugin){if(At._changesFilterPlugin.normalize(e),At._changesFilterPlugin.shouldFilter(this,e))return At._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(f){f in e&&rt("warn",'The "'+f+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var i=t.cancel;t.cancel=p()(function(f){r.cancel(),i.apply(this,f)})}}else this.db.info().then(function(f){t.isCancelled?n(null,{status:"cancelled"}):(e.since=f.update_seq,t.doChanges(e))},n)},I()(Zt,nt()),Zt.prototype.post=nn("post",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(Fe(J));this.bulkDocs({docs:[e]},t,kc(n,e._id))}),Zt.prototype.put=nn("put",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(Fe(J));if(Ys(e._id),pr(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var h,C,$,X,r=this;function f(h){"function"==typeof r._put&&!1!==t.new_edits?r._put(e,t,h):r.bulkDocs({docs:[e]},t,kc(h,e._id))}t.force&&e._rev?(C=(h=e._rev.split("-"))[1],$=parseInt(h[0],10)+1,X=no(),e._revisions={start:$,ids:[X,C]},e._rev=$+"-"+X,t.new_edits=!1,f(function(h){n(h,h?null:{ok:!0,id:e._id,rev:e._rev})})):f(n)}),Zt.prototype.putAttachment=nn("putAttachment",function(e,t,n,r,i){var f=this;function h(C){var L="_rev"in C?parseInt(C._rev,10):0;return C._attachments=C._attachments||{},C._attachments[t]={content_type:i,data:r,revpos:++L},f.put(C)}return"function"==typeof i&&(i=r,r=n,n=null),void 0===i&&(i=r,r=n,n=null),i||rt("warn","Attachment",t,"on document",e,"is missing content_type"),f.get(e).then(function(C){if(C._rev!==n)throw Fe(v);return h(C)},function(C){if(C.reason===s.message)return h({_id:e});throw C})}),Zt.prototype.removeAttachment=nn("removeAttachment",function(e,t,n,r){var i=this;i.get(e,function(f,h){if(f)r(f);else{if(h._rev===n)return h._attachments?(delete h._attachments[t],0===Object.keys(h._attachments).length&&delete h._attachments,void i.put(h,r)):r();r(Fe(v))}})}),Zt.prototype.remove=nn("remove",function(e,t,n,r){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(i=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),(n=n||{}).was_delete=!0;var f={_id:i._id,_rev:i._rev||n.rev,_deleted:!0};if(pr(f._id)&&"function"==typeof this._removeLocal)return this._removeLocal(i,r);this.bulkDocs({docs:[f]},n,kc(r,f._id))}),Zt.prototype.revsDiff=nn("revsDiff",function(e,t,n){"function"==typeof t&&(n=t,t={});var r=Object.keys(e);if(!r.length)return n(null,{});var i=0,f=new S;function h(L,$){f.has(L)||f.set(L,{missing:[]}),f.get(L).missing.push($)}r.map(function(L){this._getRevisionTree(L,function($,X){if($&&404===$.status&&"missing"===$.message)f.set(L,{missing:e[L]});else{if($)return n($);!function(L,$){var X=e[L].slice(0);an($,function(oe,ue,we,he,fe){var be=ue+"-"+we,Te=X.indexOf(be);-1!==Te&&(X.splice(Te,1),"available"!==fe.status&&h(L,be))}),X.forEach(function(oe){h(L,oe)})}(L,X)}if(++i===r.length){var oe={};return f.forEach(function(ue,we){oe[we]=ue}),n(null,oe)}})},this)}),Zt.prototype.bulkGet=nn("bulkGet",function(e,t){Se(this,e,t)}),Zt.prototype.compactDocument=nn("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(i,f){if(i)return n(i);var h=function(e){var t={},n=[];return an(e,function(r,i,f,h){var C=i+"-"+f;return r&&(t[C]=0),void 0!==h&&n.push({from:h,to:C}),C}),n.reverse(),n.forEach(function(r){t[r.from]=void 0===t[r.from]?1+t[r.to]:Math.min(t[r.from],1+t[r.to])}),t}(f),C=[],L=[];Object.keys(h).forEach(function($){h[$]>t&&C.push($)}),an(f,function($,X,oe,ue,we){var he=X+"-"+oe;"available"===we.status&&-1!==C.indexOf(he)&&L.push(he)}),r._doCompaction(e,L,n)})}),Zt.prototype.compact=nn("compact",function(e,t){"function"==typeof e&&(t=e,e={});var n=this;e=e||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:e,callback:t}),1===n._compactionQueue.length&&nf(n)}),Zt.prototype._compact=function(e,t){var n=this,i=[];n.changes({return_docs:!1,last_seq:e.last_seq||0}).on("change",function(C){i.push(n.compactDocument(C.id,0))}).on("complete",function(C){var L=C.last_seq;Promise.all(i).then(function(){return jr(n,"_local/compaction",function(X){return(!X.last_seq||X.last_seq<L)&&(X.last_seq=L,X)})}).then(function(){t(null,{ok:!0})}).catch(t)}).on("error",t)},Zt.prototype.get=nn("get",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(Fe(d));if(pr(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var r=[],i=this;function f(){var L=[],$=r.length;if(!$)return n(null,L);r.forEach(function(X){i.get(e,{rev:X,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},function(oe,ue){if(oe)L.push({missing:X});else{for(var we,he=0,fe=L.length;he<fe;he++)if(L[he].ok&&L[he].ok._rev===ue._rev){we=!0;break}we||L.push({ok:ue})}--$||n(null,L)})})}if(!t.open_revs)return this._get(e,t,function(L,$){if(L)return L.docId=e,n(L);var X=$.doc,oe=$.metadata,ue=$.ctx;if(t.conflicts){var we=li(oe);we.length&&(X._conflicts=we)}if(Jn(oe,X._rev)&&(X._deleted=!0),t.revs||t.revs_info){for(var he=X._rev.split("-"),fe=parseInt(he[0],10),be=he[1],Te=ro(oe.rev_tree),Re=null,Oe=0;Oe<Te.length;Oe++){var je=Te[Oe],$e=je.ids.map(function(Bt){return Bt.id}).indexOf(be);($e===fe-1||!Re&&-1!==$e)&&(Re=je)}if(!Re)return(L=new Error("invalid rev tree")).docId=e,n(L);var We=Re.ids.map(function(Bt){return Bt.id}).indexOf(X._rev.split("-")[1])+1;if(Re.ids.splice(We,Re.ids.length-We),Re.ids.reverse(),t.revs&&(X._revisions={start:Re.pos+Re.ids.length-1,ids:Re.ids.map(function(Bt){return Bt.id})}),t.revs_info){var yt=Re.pos+Re.ids.length;X._revs_info=Re.ids.map(function(Bt){return{rev:--yt+"-"+Bt.id,status:Bt.opts.status}})}}if(t.attachments&&X._attachments){var Pt=X._attachments,Ot=Object.keys(Pt).length;if(0===Ot)return n(null,X);Object.keys(Pt).forEach(function(Bt){this._getAttachment(X._id,Bt,Pt[Bt],{rev:X._rev,binary:t.binary,ctx:ue},function(St,Mt){var Nt=X._attachments[Bt];Nt.data=Mt,delete Nt.stub,delete Nt.length,--Ot||n(null,X)})},i)}else{if(X._attachments)for(var Ft in X._attachments)X._attachments.hasOwnProperty(Ft)&&(X._attachments[Ft].stub=!0);n(null,X)}});if("all"===t.open_revs)this._getRevisionTree(e,function(L,$){if(L)return n(L);r=Cr($).map(function(X){return X.rev}),f()});else{if(!Array.isArray(t.open_revs))return n(Fe(pe,"function_clause"));r=t.open_revs;for(var h=0;h<r.length;h++){var C=r[h];if("string"!=typeof C||!/^\d+-/.test(C))return n(Fe(ve))}f()}}),Zt.prototype.getAttachment=nn("getAttachment",function(e,t,n,r){var i=this;n instanceof Function&&(r=n,n={}),this._get(e,n,function(f,h){return f?r(f):h.doc._attachments&&h.doc._attachments[t]?(n.ctx=h.ctx,n.binary=!0,void i._getAttachment(e,t,h.doc._attachments[t],n,r)):r(Fe(s))})}),Zt.prototype.allDocs=nn("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(r){return r in e})[0];if(n)return void t(Fe(z,"Query parameter `"+n+"` is not compatible with multi-get"));if(!Pn(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)}),Zt.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new Go(this,e,t)},Zt.prototype.close=nn("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),Zt.prototype.info=nn("info",function(e){var t=this;this._info(function(n,r){if(n)return e(n);r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||Pn(t)),r.adapter=t.adapter,e(null,r)})}),Zt.prototype.id=nn("id",function(e){return this._id(e)}),Zt.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Zt.prototype.bulkDocs=nn("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(Fe(c));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(Fe(J));var i;if(e.docs.forEach(function(C){C._attachments&&Object.keys(C._attachments).forEach(function(L){i=i||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(L),C._attachments[L].content_type||rt("warn","Attachment",L,"on document",C._id,"is missing content_type")})}),i)return n(Fe(V,i));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var f=this;!t.new_edits&&!Pn(f)&&e.docs.sort(Op),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),i=0;i<r.length;i++){var f=r[i];n._attachments[f]=Sr(n._attachments[f],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var h=e.docs.map(function(C){return C._id});return this._bulkDocs(e,t,function(C,L){if(C)return n(C);if(t.new_edits||(L=L.filter(function(oe){return oe.error})),!Pn(f))for(var $=0,X=L.length;$<X;$++)L[$].id=L[$].id||h[$];n(null,L)})}),Zt.prototype.registerDependentDatabase=nn("registerDependentDatabase",function(e,t){var n=new this.constructor(e,this.__opts);jr(this,"_local/_pouch_dependentDbs",function(i){return i.dependentDbs=i.dependentDbs||{},!i.dependentDbs[e]&&(i.dependentDbs[e]=!0,i)}).then(function(){t(null,{db:n})}).catch(t)}),Zt.prototype.destroy=nn("destroy",function(e,t){"function"==typeof e&&(t=e,e={});var n=this,r=!("use_prefix"in n)||n.use_prefix;function i(){n._destroy(e,function(f,h){if(f)return t(f);n._destroyed=!0,n.emit("destroyed"),t(null,h||{ok:!0})})}if(Pn(n))return i();n.get("_local/_pouch_dependentDbs",function(f,h){if(f)return 404!==f.status?t(f):i();var L=n.constructor,$=Object.keys(h.dependentDbs).map(function(X){var oe=r?X.replace(new RegExp("^"+L.prefix),""):X;return new L(oe,n.__opts).destroy()});Promise.all($).then(i,t)})}),Qo.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},Qo.prototype.fail=function(e){this.failed=e,this.execute()},Qo.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},Qo.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},I()(At,Zt),At.adapters={},At.preferredAdapters=[],At.prefix="_pouch_";var rf=new(nt());(function(e){Object.keys(nt().prototype).forEach(function(n){"function"==typeof nt().prototype[n]&&(e[n]=rf[n].bind(rf))});var t=e._destructionListeners=new S;e.on("ref",function(r){t.has(r.name)||t.set(r.name,[]),t.get(r.name).push(r)}),e.on("unref",function(r){if(t.has(r.name)){var i=t.get(r.name),f=i.indexOf(r);f<0||(i.splice(f,1),i.length>1?t.set(r.name,i):t.delete(r.name))}}),e.on("destroyed",function(r){if(t.has(r)){var i=t.get(r);t.delete(r),i.forEach(function(f){f.emit("destroyed",!0)})}})})(At),At.adapter=function(e,t,n){t.valid()&&(At.adapters[e]=t,n&&At.preferredAdapters.push(e))},At.plugin=function(e){if("function"==typeof e)e(At);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){At.prototype[t]=e[t]})}return this.__defaults&&(At.__defaults=Nr({},this.__defaults)),At},At.defaults=function(e){function t(n,r){if(!(this instanceof t))return new t(n,r);r=r||{},n&&"object"==typeof n&&(n=(r=n).name,delete r.name),r=Nr({},t.__defaults,r),At.call(this,n,r)}return I()(t,At),t.preferredAdapters=At.preferredAdapters.slice(),Object.keys(At).forEach(function(n){n in t||(t[n]=At[n])}),t.__defaults=Nr({},this.__defaults,e),t},At.fetch=function(e,t){return Hh(e,t)},At.plugin(function(e){e._changesFilterPlugin={validate:_p,normalize:bp,shouldFilter:Ep,filter:Sp}}),At.version="7.2.2";const Su=At;function ts(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,ts)}catch{}}function Lc(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Lc)}catch{}}function Bc(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Bc)}catch{}}function sf(e,t){return t&&e.then(function(n){T()(function(){t(null,n)})},function(n){T()(function(){t(n)})}),e}function Fc(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function af(e){var t=new w(e),n=new Array(t.size),r=-1;return t.forEach(function(i){n[++r]=i}),n}function Nc(e){var t=new Array(e.size),n=-1;return e.forEach(function(r,i){t[++n]=i}),t}function Zo(){this.promise=new Promise(function(e){e()})}function uf(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function cf(e,t,n,r,i,f){var C,h=function(e,t){return uf(e)+uf(t)+"undefined"}(n,r);if(!i&&(C=e._cachedViews=e._cachedViews||{})[h])return C[h];var L=e.info().then(function($){var X=$.db_name+"-mrview-"+(i?"temp":Pi(h));return jr(e,"_local/"+f,function(ue){ue.views=ue.views||{};var we=t;-1===we.indexOf("/")&&(we=t+"/"+t);var he=ue.views[we]=ue.views[we]||{};if(!he[X])return he[X]=!0,ue}).then(function(){return e.registerDependentDatabase(X).then(function(ue){var we=ue.db;we.auto_compaction=!0;var he={name:X,db:we,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};return he.db.get("_local/lastSeq").catch(function(fe){if(404!==fe.status)throw fe}).then(function(fe){return he.seq=fe?fe.seq:0,C&&he.db.once("destroyed",function(){delete C[h]}),he})})})});return C&&(C[h]=L),L}I()(ts,Error),I()(Lc,Error),I()(Bc,Error),Zo.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},Zo.prototype.finish=function(){return this.promise};var lf={},ff=new Zo;function jc(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function hf(e,t){try{e.emit("error",t)}catch{rt("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),rt("error",t)}}function pf(e){return(e=qt(e)).index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function Yo(e,t,n,r){var i,f;n.headers=new bu({"Content-type":"application/json"}),e.fetch(t,n).then(function(h){return i=h.status,f=h.ok,h.json()}).then(function(h){if(f)r(null,h);else{h.status=i;var C=Qe(h);r(C)}}).catch(r)}function $p(e,t,n){t=pf(t),Yo(e,"_index",{method:"POST",body:JSON.stringify(t)},n)}function Wp(e,t,n){Yo(e,"_find",{method:"POST",body:JSON.stringify(t)},n)}function Kp(e,t,n){Yo(e,"_explain",{method:"POST",body:JSON.stringify(t)},n)}function Hp(e,t){Yo(e,"_index",{method:"GET"},t)}function Vp(e,t,n){var r=t.ddoc,f=t.name;return r?f?void Yo(e,"_index/"+[r,t.type||"json",f].map(encodeURIComponent).join("/"),{method:"DELETE"},n):n(new Error("you must provide an index's name")):n(new Error("you must provide an index's ddoc"))}function mf(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}}function Jo(e){return mf(function(t){var n=t.pop(),r=e.apply(this,t);return function(e,t){e.then(function(n){T()(function(){t(null,n)})},function(n){T()(function(){t(n)})})}(r,n),r})}var Uc=mf(function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];Array.isArray(i)?t=t.concat(Uc.apply(null,i)):t.push(i)}return t});function zc(e){for(var t={},n=0,r=e.length;n<r;n++)t=Nr(t,e[n]);return t}function vf(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r;n++)if(e[n]!==t[n])return!1;return!0}function gf(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}var cm=function(e,t,n,r){function i(Ae,Pe,xe){try{Pe(xe)}catch(Ze){hf(Ae,Ze)}}function f(Ae,Pe,xe,Ze,Ue){try{return{output:Pe(xe,Ze,Ue)}}catch(Ye){return hf(Ae,Ye),{error:Ye}}}function h(Ae,Pe){var xe=An(Ae.key,Pe.key);return 0!==xe?xe:An(Ae.value,Pe.value)}function C(Ae,Pe,xe){return xe=xe||0,"number"==typeof Pe?Ae.slice(xe,Pe+xe):xe>0?Ae.slice(xe):Ae}function L(Ae){var Pe=Ae.value;return Pe&&"object"==typeof Pe&&Pe._id||Ae.id}function X(Ae){return function(Pe){return Ae.include_docs&&Ae.attachments&&Ae.binary&&function(Ae){Ae.rows.forEach(function(Pe){var xe=Pe.doc&&Pe.doc._attachments;!xe||Object.keys(xe).forEach(function(Ze){var Ue=xe[Ze];xe[Ze].data=ke(Ue.data,Ue.content_type)})})}(Pe),Pe}}function oe(Ae,Pe,xe,Ze){var Ue=Pe[Ae];void 0!==Ue&&(Ze&&(Ue=encodeURIComponent(JSON.stringify(Ue))),xe.push(Ae+"="+Ue))}function ue(Ae){if(void 0!==Ae){var Pe=Number(Ae);return isNaN(Pe)||Pe!==parseInt(Ae,10)?Ae:Pe}}function fe(Ae,Pe){var xe=Ae.descending?"endkey":"startkey",Ze=Ae.descending?"startkey":"endkey";if(void 0!==Ae[xe]&&void 0!==Ae[Ze]&&An(Ae[xe],Ae[Ze])>0)throw new ts("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(Pe.reduce&&!1!==Ae.reduce){if(Ae.include_docs)throw new ts("{include_docs:true} is invalid for reduce");if(Ae.keys&&Ae.keys.length>1&&!Ae.group&&!Ae.group_level)throw new ts("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(Ue){var Ye=function(Ae){if(Ae){if("number"!=typeof Ae)return new ts('Invalid value for integer: "'+Ae+'"');if(Ae<0)return new ts('Invalid value for positive integer: "'+Ae+'"')}}(Ae[Ue]);if(Ye)throw Ye})}function Oe(Ae){return function(Pe){if(404===Pe.status)return Ae;throw Pe}}function Xe(Ae){var Pe="string"==typeof Ae?Ae:Ae.name,xe=lf[Pe];return xe||(xe=lf[Pe]=new Zo),xe}function We(Ae){return Fc(Xe(Ae),function(){return function(Ae){var Pe,xe;var Ue=t(Ae.mapFun,function(ht,Dt){var Vt={id:xe._id,key:qi(ht)};null!=Dt&&(Vt.value=qi(Dt)),Pe.push(Vt)}),Ye=Ae.seq||0;function it(ht,Dt){return function(){return function(Ae,Pe,xe){var Ze="_local/lastSeq";return Ae.db.get(Ze).catch(Oe({_id:Ze,seq:0})).then(function(Ue){var Ye=Nc(Pe);return Promise.all(Ye.map(function(it){return function(Ae,Pe,xe){var Ze="_local/doc_"+Ae,Ue={_id:Ze,keys:[]},Ye=xe.get(Ae),it=Ye[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(Ye[1])?Promise.resolve(Ue):Pe.db.get(Ze).catch(Oe(Ue))).then(function(Ve){return function(Ve){return Ve.keys.length?Pe.db.allDocs({keys:Ve.keys,include_docs:!0}):Promise.resolve({rows:[]})}(Ve).then(function(ht){return function(Ve,ht){for(var Dt=[],Vt=new w,$t=0,jt=ht.rows.length;$t<jt;$t++){var on=ht.rows[$t].doc;if(on&&(Dt.push(on),Vt.add(on._id),on._deleted=!it.has(on._id),!on._deleted)){var lr=it.get(on._id);"value"in lr&&(on.value=lr.value)}}var Zn=Nc(it);return Zn.forEach(function(ra){if(!Vt.has(ra)){var ia={_id:ra},jf=it.get(ra);"value"in jf&&(ia.value=jf.value),Dt.push(ia)}}),Ve.keys=af(Zn.concat(Ve.keys)),Dt.push(Ve),Dt}(Ve,ht)})})}(it,Ae,Pe)})).then(function(it){var mt=Qs(it);return Ue.seq=xe,mt.push(Ue),Ae.db.bulkDocs({docs:mt})})})}(Ae,ht,Dt)}}var mt=new Zo;function ot(){return Ae.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:Ye,limit:50}).then(vt)}function vt(ht){var Dt=ht.results;if(Dt.length){var Vt=function(ht){for(var Dt=new S,Vt=0,$t=ht.length;Vt<$t;Vt++){var jt=ht[Vt];if("_"!==jt.doc._id[0]){Pe=[],(xe=jt.doc)._deleted||i(Ae.sourceDB,Ue,xe),Pe.sort(h);var Wt=Ve(Pe);Dt.set(jt.doc._id,[Wt,jt.changes])}Ye=jt.seq}return Dt}(Dt);if(mt.add(it(Vt,Ye)),!(Dt.length<50))return ot()}}function Ve(ht){for(var Vt,Dt=new S,$t=0,jt=ht.length;$t<jt;$t++){var Wt=ht[$t],on=[Wt.key,Wt.id];$t>0&&0===An(Wt.key,Vt)&&on.push($t),Dt.set(Er(on),Wt),Vt=Wt.key}return Dt}return ot().then(function(){return mt.finish()}).then(function(){Ae.seq=Ye})}(Ae)})()}function Pt(Ae,Pe){return Fc(Xe(Ae),function(){return function(Ae,Pe){var xe,Ze=Ae.reduceFun&&!1!==Pe.reduce,Ue=Pe.skip||0;function Ye($t){return $t.include_docs=!0,Ae.db.allDocs($t).then(function(jt){return xe=jt.total_rows,jt.rows.map(function(Wt){if("value"in Wt.doc&&"object"==typeof Wt.doc.value&&null!==Wt.doc.value){var on=Object.keys(Wt.doc.value).sort(),lr=["id","key","value"];if(!(on<lr||on>lr))return Wt.doc.value}var Zn=function(e){for(var t=[],n=[],r=0;;){var i=e[r++];if("\0"!==i)switch(i){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var f=Zh(e,r);t.push(f.num),r+=f.length;break;case"4":for(var h="";;){var C=e[r];if("\0"===C)break;h+=C,r++}h=h.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(h);break;case"5":var L={element:[],index:t.length};t.push(L.element),n.push(L);break;case"6":var $={element:{},index:t.length};t.push($.element),n.push($);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}else{if(1===t.length)return t.pop();Yh(t,n)}}}(Wt.doc._id);return{key:Zn[0],id:Zn[1],value:"value"in Wt.doc?Wt.doc.value:null}})})}function it($t){var jt;if(jt=Ze?function(Ae,Pe,xe){0===xe.group_level&&delete xe.group_level;var Ze=xe.group||xe.group_level,Ue=n(Ae.reduceFun),Ye=[],it=isNaN(xe.group_level)?Number.POSITIVE_INFINITY:xe.group_level;Pe.forEach(function(Ve){var ht=Ye[Ye.length-1],Dt=Ze?Ve.key:null;if(Ze&&Array.isArray(Dt)&&(Dt=Dt.slice(0,it)),ht&&0===An(ht.groupKey,Dt))return ht.keys.push([Ve.key,Ve.id]),void ht.values.push(Ve.value);Ye.push({keys:[[Ve.key,Ve.id]],values:[Ve.value],groupKey:Dt})}),Pe=[];for(var mt=0,ot=Ye.length;mt<ot;mt++){var vt=Ye[mt],dt=f(Ae.sourceDB,Ue,vt.keys,vt.values,!1);if(dt.error&&dt.error instanceof Bc)throw dt.error;Pe.push({value:dt.error?null:dt.output,key:vt.groupKey})}return{rows:C(Pe,xe.limit,xe.skip)}}(Ae,$t,Pe):{total_rows:xe,offset:Ue,rows:$t},Pe.update_seq&&(jt.update_seq=Ae.seq),Pe.include_docs){var Wt=af($t.map(L));return Ae.sourceDB.allDocs({keys:Wt,include_docs:!0,conflicts:Pe.conflicts,attachments:Pe.attachments,binary:Pe.binary}).then(function(on){var lr=new S;return on.rows.forEach(function(Zn){lr.set(Zn.id,Zn.doc)}),$t.forEach(function(Zn){var ra=L(Zn),ia=lr.get(ra);ia&&(Zn.doc=ia)}),jt})}return jt}if(void 0!==Pe.keys&&!Pe.keys.length&&(Pe.limit=0,delete Pe.keys),void 0!==Pe.keys){var ot=Pe.keys.map(function($t){var jt={startkey:Er([$t]),endkey:Er([$t,{}])};return Pe.update_seq&&(jt.update_seq=!0),Ye(jt)});return Promise.all(ot).then(Qs).then(it)}var dt,Ve,vt={descending:Pe.descending};if(Pe.update_seq&&(vt.update_seq=!0),"start_key"in Pe&&(dt=Pe.start_key),"startkey"in Pe&&(dt=Pe.startkey),"end_key"in Pe&&(Ve=Pe.end_key),"endkey"in Pe&&(Ve=Pe.endkey),void 0!==dt&&(vt.startkey=Er(Pe.descending?[dt,{}]:[dt])),void 0!==Ve){var ht=!1!==Pe.inclusive_end;Pe.descending&&(ht=!ht),vt.endkey=Er(ht?[Ve,{}]:[Ve])}if(void 0!==Pe.key){var Dt=Er([Pe.key]),Vt=Er([Pe.key,{}]);vt.descending?(vt.endkey=Dt,vt.startkey=Vt):(vt.startkey=Dt,vt.endkey=Vt)}return Ze||("number"==typeof Pe.limit&&(vt.limit=Pe.limit),vt.skip=Ue),Ye(vt).then(it)}(Ae,Pe)})()}var Nt=function(e){return p()(function(t){var n=t.pop(),r=e.apply(this,t);return"function"==typeof n&&sf(r,n),r})}(function(){var Ae=this;return"function"==typeof Ae._viewCleanup?function(Ae){return new Promise(function(Pe,xe){Ae._viewCleanup(function(Ze,Ue){if(Ze)return xe(Ze);Pe(Ue)})})}(Ae):Pn(Ae)?function(Ae){return Ae.fetch("_view_cleanup",{headers:new bu({"Content-Type":"application/json"}),method:"POST"}).then(function(Pe){return Pe.json()})}(Ae):function(Ae){return Ae.get("_local/"+e).then(function(Pe){var xe=new S;Object.keys(Pe.views).forEach(function(Ue){var Ye=jc(Ue),it="_design/"+Ye[0],mt=Ye[1],ot=xe.get(it);ot||(ot=new w,xe.set(it,ot)),ot.add(mt)});var Ze={keys:Nc(xe),include_docs:!0};return Ae.allDocs(Ze).then(function(Ue){var Ye={};Ue.rows.forEach(function(ot){var vt=ot.key.substring(8);xe.get(ot.key).forEach(function(dt){var Ve=vt+"/"+dt;Pe.views[Ve]||(Ve=dt);var ht=Object.keys(Pe.views[Ve]),Dt=ot.doc&&ot.doc.views&&ot.doc.views[dt];ht.forEach(function(Vt){Ye[Vt]=Ye[Vt]||Dt})})});var mt=Object.keys(Ye).filter(function(ot){return!Ye[ot]}).map(function(ot){return Fc(Xe(ot),function(){return new Ae.constructor(ot,Ae.__opts).destroy()})()});return Promise.all(mt).then(function(){return{ok:!0}})})},Oe({ok:!0}))}(Ae)});return{query:function(Ae,Pe,xe){var Ze=this;"function"==typeof Pe&&(xe=Pe,Pe={}),Pe=Pe?function(Ae){return Ae.group_level=ue(Ae.group_level),Ae.limit=ue(Ae.limit),Ae.skip=ue(Ae.skip),Ae}(Pe):{},"function"==typeof Ae&&(Ae={map:Ae});var Ue=Promise.resolve().then(function(){return function(Ae,Pe,xe){if("function"==typeof Ae._query)return function(Ae,Pe,xe){return new Promise(function(Ze,Ue){Ae._query(Pe,xe,function(Ye,it){if(Ye)return Ue(Ye);Ze(it)})})}(Ae,Pe,xe);if(Pn(Ae))return function(Ae,Pe,xe){var Ue,it,mt,Ze=[],Ye="GET";if(oe("reduce",xe,Ze),oe("include_docs",xe,Ze),oe("attachments",xe,Ze),oe("limit",xe,Ze),oe("descending",xe,Ze),oe("group",xe,Ze),oe("group_level",xe,Ze),oe("skip",xe,Ze),oe("stale",xe,Ze),oe("conflicts",xe,Ze),oe("startkey",xe,Ze,!0),oe("start_key",xe,Ze,!0),oe("endkey",xe,Ze,!0),oe("end_key",xe,Ze,!0),oe("inclusive_end",xe,Ze),oe("key",xe,Ze,!0),oe("update_seq",xe,Ze),Ze=""===(Ze=Ze.join("&"))?"":"?"+Ze,void 0!==xe.keys){var vt="keys="+encodeURIComponent(JSON.stringify(xe.keys));vt.length+Ze.length+1<=2e3?Ze+=("?"===Ze[0]?"&":"?")+vt:(Ye="POST","string"==typeof Pe?Ue={keys:xe.keys}:Pe.keys=xe.keys)}if("string"==typeof Pe){var dt=jc(Pe);return Ae.fetch("_design/"+dt[0]+"/_view/"+dt[1]+Ze,{headers:new bu({"Content-Type":"application/json"}),method:Ye,body:JSON.stringify(Ue)}).then(function(Ve){return it=Ve.ok,mt=Ve.status,Ve.json()}).then(function(Ve){if(!it)throw Ve.status=mt,Qe(Ve);return Ve.rows.forEach(function(ht){if(ht.value&&ht.value.error&&"builtin_reduce_error"===ht.value.error)throw new Error(ht.reason)}),Ve}).then(X(xe))}return Ue=Ue||{},Object.keys(Pe).forEach(function(Ve){Ue[Ve]=Array.isArray(Pe[Ve])?Pe[Ve]:Pe[Ve].toString()}),Ae.fetch("_temp_view"+Ze,{headers:new bu({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(Ue)}).then(function(Ve){return it=Ve.ok,mt=Ve.status,Ve.json()}).then(function(Ve){if(!it)throw Ve.status=mt,Qe(Ve);return Ve}).then(X(xe))}(Ae,Pe,xe);if("string"!=typeof Pe)return fe(xe,Pe),ff.add(function(){return cf(Ae,"temp_view/temp_view",Pe.map,Pe.reduce,!0,e).then(function(ot){return function(e,t){return e.then(function(n){return t().then(function(){return n})},function(n){return t().then(function(){throw n})})}(We(ot).then(function(){return Pt(ot,xe)}),function(){return ot.db.destroy()})})}),ff.finish();var Ze=Pe,Ue=jc(Ze),it=Ue[1];return Ae.get("_design/"+Ue[0]).then(function(mt){var ot=mt.views&&mt.views[it];if(!ot)throw new Lc("ddoc "+mt._id+" has no view named "+it);return r(mt,it),fe(xe,ot),cf(Ae,Ze,ot.map,ot.reduce,!1,e).then(function(dt){return"ok"===xe.stale||"update_after"===xe.stale?("update_after"===xe.stale&&T()(function(){We(dt)}),Pt(dt,xe)):We(dt).then(function(){return Pt(dt,xe)})})})}(Ze,Ae,Pe)});return sf(Ue,xe),Ue},viewCleanup:Nt}}("indexes",function(e,t){return function(e,t){var n=function(e){for(var t=0,n=e.length;t<n;t++)if(-1!==e[t].indexOf("."))return!1;return!0}(e),r=1===e.length;return n?r?function(e,t){return function(n){t(n[e])}}(e[0],t):function(e,t){return function(n){for(var r=[],i=0,f=e.length;i<f;i++)r.push(n[e[i]]);t(r)}}(e,t):r?function(e,t){var n=Ko(e);return function(r){for(var i=r,f=0,h=n.length;f<h;f++)if(void 0===(i=i[n[f]]))return;t(i)}}(e[0],t):function(e,t){return function(n){for(var r=[],i=0,f=e.length;i<f;i++){for(var h=Ko(e[i]),C=n,L=0,$=h.length;L<$;L++)if(void 0===(C=C[h[L]]))return;r.push(C)}t(r)}}(e,t)}(Object.keys(e.fields),t)},function(){throw new Error("reduce not supported")},function(e,t){var n=e.views[t];if(!n.map||!n.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")});function $c(e){return e._customFindAbstractMapper||cm}function yf(e){return e.fields=e.fields.map(function(t){if("string"==typeof t){var n={};return n[t]="asc",n}return t}),e}function dm(e,t){for(var n=[],r=0;r<t.def.fields.length;r++){var i=Gn(t.def.fields[r]);n.push(e[i])}return n}function _f(e){return e.allDocs({startkey:"_design/",endkey:"_design/\uffff",include_docs:!0}).then(function(t){var n={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return n.indexes=Uc(n.indexes,t.rows.filter(function(r){return"query"===r.doc.language}).map(function(r){return(void 0!==r.doc.views?Object.keys(r.doc.views):[]).map(function(f){return{ddoc:r.id,name:f,type:"json",def:yf(r.doc.views[f].options.def)}})})),n.indexes.sort(function(r,i){return Tc(r.name,i.name)}),n.total_rows=n.indexes.length,n})}var Wc={"\uffff":{}};const bm={queryOpts:{limit:0,startkey:Wc,endkey:null},inMemoryFields:[]};function Em(e,t){for(var n=e.def.fields.map(Gn),r=0,i=n.length;r<i;r++)if(t===n[r])return!0;return!1}function Sm(e,t){return"$eq"!==Gn(e[t])}function bf(e,t){var n=t.def.fields.map(Gn);return e.slice().sort(function(r,i){var f=n.indexOf(r),h=n.indexOf(i);return-1===f&&(f=Number.MAX_VALUE),-1===h&&(h=Number.MAX_VALUE),Tc(f,h)})}function Am(e,t,n,r){var i=Uc(e,function(e,t,n){for(var r=!1,i=0,f=(n=bf(n,e)).length;i<f;i++){var h=n[i];if(r||!Em(e,h))return n.slice(i);i<f-1&&Sm(t,h)&&(r=!0)}return[]}(t,n,r),function(e){var t=[];return Object.keys(e).forEach(function(n){Object.keys(e[n]).forEach(function(i){"$ne"===i&&t.push(n)})}),t}(n));return bf(function(e){for(var t={},n=0;n<e.length;n++)t["$"+e[n]]=!0;return Object.keys(t).map(function(r){return r.substring(1)})}(i),t)}var Dm=["$eq","$gt","$gte","$lt","$lte"];function Ef(e){return-1===Dm.indexOf(e)}function Im(e,t,n,r){var i=e.def.fields.map(Gn);return!!function(e,t,n){if(t){var r=function(e,t){return!(e.length>t.length)&&vf(e,t)}(t,e),i=vf(n,e);return r&&i}return function(e,t){e=e.slice();for(var n=0,r=t.length;n<r;n++){var i=t[n];if(!e.length)break;var f=e.indexOf(i);if(-1===f)return!1;e.splice(f,1)}return!0}(n,e)}(i,t,n)&&function(e,t){var r=t[e[0]];return void 0===r||!(1===Object.keys(r).length&&"$ne"===Gn(r))}(i,r)}function km(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function jm(e,t){var n=e.selector,r=e.sort;if(function(e){return Object.keys(e).map(function(n){return e[n]}).some(function(n){return"object"==typeof n&&0===Object.keys(n).length})}(n))return Nr({},bm,{index:t[0]});var i=function(e,t){var i,n=Object.keys(e),r=t?t.map(Gn):[];return i=n.length>=r.length?n:r,0===r.length?{fields:i}:{fields:i=i.sort(function(f,h){var C=r.indexOf(f);-1===C&&(C=Number.MAX_VALUE);var L=r.indexOf(h);return-1===L&&(L=Number.MAX_VALUE),C<L?-1:C>L?1:0}),sortOrder:t.map(Gn)}}(n,r),f=i.fields,C=function(e,t,n,r,i){var f=function(e,t,n,r){return r.filter(function(i){return Im(i,n,t,e)})}(e,t,n,r);if(0===f.length){if(i)throw{error:"no_usable_index",message:"There is no index available for this selector."};var h=r[0];return h.defaultUsed=!0,h}if(1===f.length&&!i)return f[0];var C=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t}(t);if(i){var $="_design/"+i[0],X=2===i.length&&i[1],oe=f.find(function(ue){return!!(X&&ue.ddoc===$&&X===ue.name||ue.ddoc===$)});if(!oe)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return oe}return function(e,t){for(var n=null,r=-1,i=0,f=e.length;i<f;i++){var h=e[i],C=t(h);C>r&&(r=C,n=h)}return n}(f,function(ue){for(var we=ue.def.fields.map(Gn),he=0,fe=0,be=we.length;fe<be;fe++)C[we[fe]]&&he++;return he})}(n,f,i.sortOrder,t,e.use_index),L=function(e,t){return t.defaultUsed?function(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}(e):1===t.def.fields.length?function(e,t){var h,n=Gn(t.def.fields[0]),r=e[n]||{},i=[];return Object.keys(r).forEach(function(C){Ef(C)&&i.push(n);var $=function(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}return{startkey:null}}(C,r[C]);h=h?zc([h,$]):$}),{queryOpts:h,inMemoryFields:i}}(e,t):function(e,t){var h,C,n=t.def.fields.map(Gn),r=[],i=[],f=[];function L(yt){!1!==h&&i.push(null),!1!==C&&f.push(Wc),r=n.slice(yt)}for(var $=0,X=n.length;$<X;$++){var ue=e[n[$]];if(!ue||!Object.keys(ue).length){L($);break}if(Object.keys(ue).some(Ef)){L($);break}if($>0){var we="$gt"in ue||"$gte"in ue||"$lt"in ue||"$lte"in ue,he=Object.keys(e[n[$-1]]),fe=gf(he,["$eq"]),be=gf(he,Object.keys(ue));if(we&&!fe&&!be){L($);break}}for(var Re=Object.keys(ue),Oe=null,je=0;je<Re.length;je++){var $e=Re[je],We=km($e,ue[$e]);Oe=Oe?zc([Oe,We]):We}i.push("startkey"in Oe?Oe.startkey:null),f.push("endkey"in Oe?Oe.endkey:Wc),"inclusive_start"in Oe&&(h=Oe.inclusive_start),"inclusive_end"in Oe&&(C=Oe.inclusive_end)}var et={startkey:i,endkey:f};return void 0!==h&&(et.inclusive_start=h),void 0!==C&&(et.inclusive_end=C),{queryOpts:et,inMemoryFields:r}}(e,t)}(n,C);return{queryOpts:L.queryOpts,index:C,inMemoryFields:Am(L.inMemoryFields,C,n,f)}}function Sf(e,t,n){return t.selector&&(t.selector=Mc(t.selector)),t.sort&&(t.sort=function(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(t){if("string"==typeof t){var n={};return n[t]="asc",n}return t})}(t.sort)),t.use_index&&(t.use_index=function(e){var t=[];return"string"==typeof e?t.push(e):t=e,t.map(function(n){return n.replace("_design/","")})}(t.use_index)),function(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}(t),_f(e).then(function(r){e.constructor.emit("debug",["find","planning query",t]);var i=jm(t,r.indexes);e.constructor.emit("debug",["find","query plan",i]);var f=i.index;!function(e,t){if(t.defaultUsed&&e.sort){var n=e.sort.filter(function(r){return"_id"!==Object.keys(r)[0]}).map(function(r){return Object.keys(r)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}}(t,f);var h=Nr({include_docs:!0,reduce:!1,indexes_count:r.total_rows},i.queryOpts);return"startkey"in h&&"endkey"in h&&An(h.startkey,h.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===Rc(t.sort[0])&&(h.descending=!0,h=function(e){var t=qt(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}(h)),i.inMemoryFields.length||("limit"in t&&(h.limit=t.limit),"skip"in t&&(h.skip=t.skip)),n?Promise.resolve(i,h):Promise.resolve().then(function(){if("_all_docs"===f.name)return function(e,t){var n=qt(t);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),n.limit>0&&n.indexes_count&&(n.original_limit=n.limit,n.limit+=n.indexes_count),e.allDocs(n).then(function(r){return r.rows=r.rows.filter(function(i){return!/^_design\//.test(i.id)}),n.original_limit&&(n.limit=n.original_limit),r.rows=r.rows.slice(0,n.limit),r})}(e,h);var L=function(e){return e.ddoc.substring(8)+"/"+e.name}(f);return $c(e).query.call(e,L,h)}).then(function(L){!1===h.inclusive_start&&(L.rows=function(e,t,n){for(var r=n.def.fields,i=0,f=e.length;i<f;i++){var C=dm(e[i].doc,n);if(1===r.length)C=C[0];else for(;C.length>t.length;)C.pop();if(Math.abs(An(C,t))>0)break}return i>0?e.slice(i):e}(L.rows,h.startkey,f)),i.inMemoryFields.length&&(L.rows=Eu(L.rows,t,i.inMemoryFields));var $={docs:L.rows.map(function(X){var oe=X.doc;return t.fields?function(e,t){for(var n={},r=0,i=t.length;r<i;r++){var f=Ko(t[r]),h=Ic(e,f);void 0!==h&&np(n,f,h)}return n}(oe,t.fields):oe})};return f.defaultUsed&&($.warning="No matching index found, create an index to optimize query time."),$}))})}var Km=Jo(function(e,t){var r,n=qt((t=pf(t)).index);function i(){return r||(r=Pi(JSON.stringify(t)))}t.index=yf(t.index),function(e){var t=e.fields.filter(function(n){return"asc"===Rc(n)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}(t.index);var f=t.name||"idx-"+i(),h=t.ddoc||"idx-"+i(),C="_design/"+h,L=!1,$=!1;return e.constructor.emit("debug",["find","creating index",C]),jr(e,C,function(oe){return oe._rev&&"query"!==oe.language&&(L=!0),oe.language="query",oe.views=oe.views||{},!($=!!oe.views[f])&&(oe.views[f]={map:{fields:zc(t.index.fields)},reduce:"_count",options:{def:n}},oe)}).then(function(){if(L)throw new Error('invalid language for ddoc with id "'+C+'" (should be "query")')}).then(function(){var oe=h+"/"+f;return $c(e).query.call(e,oe,{limit:0,reduce:!1}).then(function(){return{id:C,name:f,result:$?"exists":"created"}})})}),Hm=Jo(Sf),Vm=Jo(function(e,t){return Sf(e,t,!0).then(function(n){return{dbname:e.name,index:n.index,selector:t.selector,range:{start_key:n.queryOpts.startkey,end_key:n.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}})}),Gm=Jo(_f),Qm=Jo(function(e,t){if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var n=t.ddoc,r=t.name;return jr(e,n,function(f){return 1===Object.keys(f.views).length&&f.views[r]?{_id:n,_deleted:!0}:(delete f.views[r],f)}).then(function(){return $c(e).viewCleanup.apply(e)}).then(function(){return{ok:!0}})}),zs={};zs.createIndex=$n(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));(Pn(this)?$p:Km)(this,e,t)}),zs.find=$n(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));(Pn(this)?Wp:Hm)(this,e,t)}),zs.explain=$n(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to explain()"));(Pn(this)?Kp:Vm)(this,e,t)}),zs.getIndexes=$n(function(e){(Pn(this)?Hp:Gm)(this,e)}),zs.deleteIndex=$n(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));(Pn(this)?Vp:Qm)(this,e,t)});const Zm=zs;var Xo=function(t){try{if(!t)return Promise.resolve({});var n={};return Promise.resolve(Promise.all(Object.entries(t).map(function(r){try{var i=r[0],f=r[1];if(!f.type)throw Ne("SNH",{args:{obj:f}});var h=function(){if(f.data){var C=f;return Promise.resolve(Promise.all([Pf(C.data),Kn_toString(C.data)])).then(function(L){n[i]={digest:Df+"-"+L[0],length:L[1].length,type:C.type}})}n[i]=f}();return Promise.resolve(h&&h.then?h.then(function(){}):void 0)}catch(C){return Promise.reject(C)}}))).then(function(){return n})}catch(r){return Promise.reject(r)}},$s=new Set,Cu="_local/",wf="_design/";function Au(e,t){return"_id"===e||t[e]||((t=Et(t))[e]=t._id,delete t._id),t}function ur(e,t){var n=Au(e,t);return delete(n=Et(n))._revisions,n._attachments={},t._attachments&&Object.entries(t._attachments).forEach(function(r){var f=r[1];n._attachments[r[0]]=f.data?{data:f.data,type:f.type?f.type:f.content_type}:{digest:f.digest,type:f.type?f.type:f.content_type,length:f.length}}),n}function Cf(e,t){var n=Kc(e,t);return(n=Et(n))._attachments={},t._attachments&&Object.entries(t._attachments).forEach(function(r){var f=r[1];n._attachments[r[0]]=f.data?{data:f.data,content_type:f.type}:{digest:f.digest,content_type:f.type,length:f.length,stub:!0}}),n}function Kc(e,t){if("_id"===e)return t;var n=t[e],r=Et(t);return delete r[e],r._id=n,r}function Af(e,t,n){if(!t)throw new Error("primary missing !!");return(e?"local":"non-local")+"|"+t+"|"+n}function Hc(e,t){if("_id"===t)return e;if(Array.isArray(e))return e.map(function(r){return Hc(r,t)});if("object"==typeof e){var n={};return Object.entries(e).forEach(function(r){var i=r[0],f=r[1];i===t?n._id=f:n[i]=i.startsWith("$")?Hc(f,t):f}),n}return e}function Pf(e){return new Promise(function(t){Br(e,function(n){t(n)})})}var Df="md5",Of=!1,If=new Map;function Tf(e){var t=[e.name,e.adapter].join("|"),n=If.get(t);return n||(n={subject:new xs.x},If.set(t,n)),n}var qm=0;function Vc(e,t,n,r){var i="DELETE"===t.operation?t.previous:t.doc,f=i[e];return{eventId:Af(!1,f,i._rev),documentId:f,change:t,startTime:n,endTime:r}}function Rf(e){if(e.rxdb)throw zt("PL2",{plugin:e});"object"==typeof e&&e.default&&(e=e.default),Su.plugin(e)}Rf(Zm),function(){if(!Of){Of=!0;var e=Su.prototype.bulkDocs;Su.plugin({bulkDocs:function(r,i,f){try{var X,h=function(){var he=Et(i);return he.isDeeper=!0,e.call(C,X,he,function(fe,be){if(!fe)return function(){try{var Te=function(){if(!f)return be;f(null,be)},Re=function(){if(!i.isDeeper){var Oe=Xn();return Promise.resolve(function(t,n){try{var r=[],i=function(){if(n.writeOptions.hasOwnProperty("new_edits")&&!n.writeOptions.new_edits)return Promise.resolve(Promise.all(n.writeDocs.map(function(h){try{var C=h._id;return h=ur(t,h),Promise.resolve(Xo(h._attachments)).then(function(L){h._attachments=L;var $=n.previousDocs.get(C);if($&&($=ur(t,$)),!($&&Dr($._rev)>Dr(h._rev))&&($||!h._deleted)&&!($&&$._deleted&&h._deleted)){var X;if($&&!$._deleted||h._deleted)if(h._deleted&&$&&!$._deleted)$._rev=h._rev,X={operation:"DELETE",doc:null,id:C,previous:$};else{if(!$)throw Ne("SNH",{args:{writeDoc:h}});X={operation:"UPDATE",doc:h,id:C,previous:$}}else X={operation:"INSERT",doc:h,id:C,previous:null};var oe=Vc(t,X,n.startTime,n.endTime);r.push(oe)}})}catch(L){return Promise.reject(L)}}))).then(function(){});var f=function(){if(!n.writeOptions.custom||n.writeOptions.custom&&!n.writeOptions.custom.writeRowById){var h=new Map;return n.writeDocs.forEach(function(L){return h.set(L._id,L)}),Promise.resolve(Promise.all(n.writeResult.map(function(L){try{var $=L.id;if($.startsWith(wf)||$.startsWith(Cu))return Promise.resolve();var X=Hr(h,L.id);return X=ur(t,X),Promise.resolve(Xo(X._attachments)).then(function(oe){X._attachments=oe,(X=Et(X))._rev=L.rev;var ue=function(e,t){if(!t)throw Ne("SNH",{args:{pouchDoc:t}});var n=t._id,r=ur(e,t),i=r._rev?Dr(r._rev):1;return t._deleted?{operation:"DELETE",id:n,doc:null,previous:r}:1===i?{operation:"INSERT",id:n,doc:r,previous:null}:{operation:"UPDATE",id:n,doc:r,previous:"UNKNOWN"}}(t,X),we=Vc(t,ue);r.push(we)})}catch(oe){return Promise.reject(oe)}}))).then(function(){})}var C=n.writeOptions.custom.writeRowById;return Promise.resolve(Promise.all(n.writeResult.map(function(L){try{if(L.error)return Promise.resolve();var $=L.id,X=Hr(C,$),oe=ur(t,X.document);return Promise.resolve(Xo(oe._attachments)).then(function(ue){function we(){if(!X.document._deleted||X.previous&&!X.previous._deleted){var be=Vc(n.writeOptions.custom.primaryPath,he,n.startTime,n.endTime);r.push(be)}}oe._attachments=ue,oe._rev=L.rev;var he,fe=function(){if(!X.previous||X.previous._deleted)he={operation:"INSERT",doc:oe,id:$,previous:null};else{var be=function(){if(X.document._deleted){var Te=ur(t,X.previous);return Promise.resolve(Xo(Te._attachments)).then(function(Re){Te._attachments=Re,Te._rev=L.rev,he={operation:"DELETE",doc:null,id:L.id,previous:Te}})}he={operation:"UPDATE",doc:oe,id:L.id,previous:X.previous}}();if(be&&be.then)return be.then(function(){})}}();return fe&&fe.then?fe.then(we):we()})}catch(ue){return Promise.reject(ue)}}))).then(function(){})}();return f&&f.then?f.then(function(){}):void 0}();return Promise.resolve(i&&i.then?i.then(function(){return r}):r)}catch(f){return Promise.reject(f)}}("_id",{emitId:$,writeDocs:X,writeOptions:i,writeResult:be,previousDocs:oe,startTime:L,endTime:Oe})).then(function($e){var Xe={id:ji(10),events:$e};Tf(C).subject.next(Xe)})}}();return Promise.resolve(Re&&Re.then?Re.then(Te):Te())}catch(Oe){return Promise.reject(Oe)}}();if(!f)throw fe;f(fe)})},C=this,L=Xn(),$=qm++;if("function"==typeof i&&(f=i,i={}),i||(i={}),Array.isArray(r)?X=r:void 0===r?X=[]:(X=r.docs,r.hasOwnProperty("new_edits")&&(i.new_edits=r.new_edits)),0===X.length)throw Ne("SNH",{args:{body:r,options:i}});var oe=new Map,ue=function(){if(i.hasOwnProperty("new_edits")&&!1===i.new_edits){var we=X.map(function(he){return he._id});return Promise.resolve(C.changes({live:!1,since:0,doc_ids:we,style:"all_docs"})).then(function(he){return Promise.resolve(Promise.all(he.results.map(function(fe){try{return Promise.resolve(C.get(fe.id,{rev:fe.changes[0].rev,deleted:"ok",revs:!!i.set_new_edit_as_latest_revision,style:"all_docs"}))}catch(be){return Promise.reject(be)}}))).then(function(fe){fe.forEach(function(be){return oe.set(be._id,be)}),i.set_new_edit_as_latest_revision&&X.forEach(function(be){var Re=oe.get(be._id);if(Re){var Oe=be._rev.split("-"),je=parseInt(Oe[0],10),$e=Oe[1];Re._revisions||(Re._revisions={ids:[]}),be._revisions={start:je,ids:Re._revisions.ids},be._revisions.ids.unshift($e),delete Re._revisions}})})})}}();return Promise.resolve(ue&&ue.then?ue.then(h):h())}catch(we){return Promise.reject(we)}}})}}();var qo=Su,nv=0,rv=function(){function e(n,r,i,f,h){var C=this;this.id=nv++,this.changes$=new xs.x,this.subs=[],this.databaseName=n,this.collectionName=r,this.schema=i,this.internals=f,this.options=h,$s.add(this),this.primaryPath=xr(this.schema.primaryKey);var L=Tf(this.internals.pouch),$=new gu(6e4),X=L.subject.subscribe(function(oe){try{return 0===oe.events.length||$.has(oe.id)||($.add(oe.id),oe.events.forEach(function(ue){ue.change.doc&&(ue.change.doc=Au(C.primaryPath,ue.change.doc)),ue.change.previous&&(ue.change.previous=Au(C.primaryPath,ue.change.previous))}),C.changes$.next(oe)),Promise.resolve()}catch(ue){return Promise.reject(ue)}});this.subs.push(X)}var t=e.prototype;return t.close=function(){return this.subs.forEach(function(r){return r.unsubscribe()}),$s.delete(this),Pr},t.remove=function(){try{var r=this;return r.subs.forEach(function(i){return i.unsubscribe()}),$s.delete(r),Promise.resolve(r.internals.pouch.destroy()).then(function(){})}catch(i){return Promise.reject(i)}},t.bulkAddRevisions=function(r){try{var i=this;if(0===r.length)throw Ne("P3",{args:{documents:r}});var f=r.map(function(h){return Cf(i.primaryPath,h)});return Promise.resolve(i.internals.pouch.bulkDocs(f,{new_edits:!1,set_new_edit_as_latest_revision:!0})).then(function(){})}catch(h){return Promise.reject(h)}},t.bulkWrite=function(r){try{var i=this;if(0===r.length)throw Ne("P2",{args:{documentWrites:r}});var f=new Map,h=r.map(function(C){f.set(C.document[i.primaryPath],C);var $=Cf(i.primaryPath,C.document);return C.previous&&($._rev=C.previous._rev),$});return Promise.resolve(i.internals.pouch.bulkDocs(h,{custom:{primaryPath:i.primaryPath,writeRowById:f}})).then(function(C){var L={success:{},error:{}};return Promise.resolve(Promise.all(C.map(function($){try{var X=Hr(f,$.id),oe=function(){if(!$.error){var we=function(){L.success[$.id]=he},he=Et(X.document);(he=Au(i.primaryPath,he))._rev=$.rev,he._attachments={};var fe=function(){if(X.document._attachments)return Promise.resolve(Xo(X.document._attachments)).then(function(be){he._attachments=be});X.document._attachments={}}();return fe&&fe.then?fe.then(we):we()}L.error[$.id]={isError:!0,status:409,documentId:$.id,writeRow:X}}();return Promise.resolve(oe&&oe.then?oe.then(function(){}):void 0)}catch(ue){return Promise.reject(ue)}}))).then(function(){return L})})}catch(C){return Promise.reject(C)}},t.query=function(r){try{var i=this;return Promise.resolve(i.internals.pouch.find(r)).then(function(f){return{documents:f.docs.map(function(C){return ur(i.primaryPath,C)})}})}catch(f){return Promise.reject(f)}},t.getAttachmentData=function(r,i){try{return Promise.resolve(this.internals.pouch.getAttachment(r,i))}catch(h){return Promise.reject(h)}},t.findDocumentsById=function(r,i){try{var f=function(X){return h?X:Promise.resolve(C.internals.pouch.allDocs({include_docs:!0,keys:r})).then(function(oe){var ue={};return oe.rows.filter(function(we){return!!we.doc}).forEach(function(we){var he=we.doc;he=ur(C.primaryPath,he),ue[we.id]=he}),ue})},h=!1,C=this,L=function(){if(i)return Promise.resolve(C.internals.pouch.changes({live:!1,since:0,doc_ids:r,style:"all_docs"})).then(function($){var X={};return Promise.resolve(Promise.all($.results.map(function(oe){try{return Promise.resolve(C.internals.pouch.get(oe.id,{rev:oe.changes[0].rev,deleted:"ok",style:"all_docs"})).then(function(ue){var we=ur(C.primaryPath,ue);X[oe.id]=we})}catch(ue){return Promise.reject(ue)}}))).then(function(){return h=!0,X})})}();return Promise.resolve(L&&L.then?L.then(f):f(L))}catch($){return Promise.reject($)}},t.changeStream=function(){return this.changes$.asObservable()},t.getChangedDocuments=function(r){try{return Promise.resolve(this.internals.pouch.changes({live:!1,limit:r.limit,include_docs:!1,since:r.sinceSequence,descending:"before"===r.direction})).then(function(h){return{changedDocuments:h.results.filter(function($){return!$.id.startsWith(wf)}).map(function($){return{id:$.id,sequence:$.seq}}),lastSequence:h.last_seq}})}catch(h){return Promise.reject(h)}},e}(),sv=function(){function e(n,r,i,f){this.changes$=new xs.x,this.databaseName=n,this.collectionName=r,this.internals=i,this.options=f,$s.add(this)}var t=e.prototype;return t.close=function(){return $s.delete(this),Pr},t.remove=function(){try{return $s.delete(this),Promise.resolve(this.internals.pouch.destroy()).then(function(){})}catch(i){return Promise.reject(i)}},t.bulkWrite=function(r){try{var i=this;if(0===r.length)throw Ne("P2",{args:{documentWrites:r}});var f=new Map,h=r.map(function(L){f.set(L.document._id,L);var $=Et(L.document);return $._id=Cu+$._id,L.previous&&($._rev=L.previous._rev),$}),C=Xn();return Promise.resolve(i.internals.pouch.bulkDocs(h)).then(function(L){var $=Xn(),X={success:{},error:{}},oe={id:ji(10),events:[]};return L.forEach(function(ue){ue.id=function(e){return e.substring(Cu.length)}(ue.id);var we=Hr(f,ue.id);if(ue.error)X.error[ue.id]={isError:!0,status:409,documentId:ue.id,writeRow:we};else{var be,fe=Et(we.document);if(fe._rev=ue.rev,fe._attachments={},X.success[ue.id]=fe,we.previous)if(we.document._deleted){var Te=Et(we.previous);Te._rev=ue.rev,be={operation:"DELETE",doc:null,id:ue.id,previous:Te}}else be={operation:"UPDATE",doc:fe,id:ue.id,previous:we.previous};else be={operation:"INSERT",doc:fe,id:ue.id,previous:null};if(!we.document._deleted||we.previous&&!we.previous._deleted){var Re="DELETE"===be.operation?be.previous:be.doc,Oe=Af(!0,Re._id,Re._rev?Re._rev:"");oe.events.push({eventId:Oe,documentId:ue.id,change:be,startTime:C,endTime:$})}}}),i.changes$.next(oe),X})}catch(L){return Promise.reject(L)}},t.findLocalDocumentsById=function(r){try{var i=this,f={};return Promise.resolve(Promise.all(r.map(function(h){try{var C=Cu+h,L=function(e,t){try{var n=Promise.resolve(i.internals.pouch.get(C)).then(function($){$._id=h,f[h]=$})}catch(r){return}return n&&n.then?n.then(void 0,t):n}(0,function(){});return Promise.resolve(L&&L.then?L.then(function(){}):void 0)}catch($){return Promise.reject($)}}))).then(function(){return f})}catch(h){return Promise.reject(h)}},t.changeStream=function(){return this.changes$.asObservable()},e}(),ov={hash:function(t){return Pf(t)},hashKey:Df,getSortComparator:function(t,n){var r,i=xr(t.primaryKey),f=n.sort?n.sort:[(r={},r[i]="asc",r)],h=Object.keys(n.selector).filter(function(L){return!L.startsWith("$")});return function($,X){if($[i]===X[i])throw Ne("SNH",{args:{a:$,b:X},primaryPath:i});var oe=[$,X].map(function(we){return{doc:Kc(i,we)}}),ue=Eu(oe,{selector:{},sort:f},h);if(2!==ue.length)throw Ne("SNH",{query:n,primaryPath:i,args:{rows:oe,sortedRows:ue}});return ue[0].doc._id===oe[0].doc._id?-1:1}},getQueryMatcher:function(t,n){var r=xr(t.primaryKey),i=Mc(n.selector);return function(C){var X=Eu([{doc:Kc(r,C)}],{selector:i},Object.keys(n.selector));return X&&1===X.length}},prepareQuery:function(t,n){var r=xr(t.primaryKey),i=n;if(i.sort&&i.sort.forEach(function(h){var C=Object.keys(h)[0],L=["$gt","$gte","$lt","$lte"];if(!i.selector[C]||!Object.keys(i.selector[C]).some(function(oe){return L.includes(oe)})){var X=lt(t,C);if(!X)throw Ne("QU5",{query:i,key:C,schema:t});switch(i.selector[C]||(i.selector[C]={}),X.type){case"number":case"integer":i.selector[C].$gt=-1e28;break;case"string":"string"!=typeof i.selector[C]&&(i.selector[C].$gt="");break;default:i.selector[C].$gt=null}}}),i.selector[r]&&i.selector[r].$regex)throw Ne("QU4",{path:r,query:n});if(i.sort){var f=i.sort.map(function(h){var C,L=Object.keys(h)[0],$=Object.values(h)[0];return(C={})[L===r?"_id":L]=$,C});i.sort=f}return Object.entries(i.selector).forEach(function(h){var C=h[0],L=h[1];"object"==typeof L&&null!==L&&!Array.isArray(L)&&0===Object.keys(L).length&&delete i.selector[C]}),i.selector=Hc(i.selector,r),i}},uv=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.name="pouchdb",this.statics=ov,this.adapter=n,this.pouchSettings=r,cv(n)}var t=e.prototype;return t.createPouch=function(r,i){try{var h={location:r,adapter:$a(this.adapter),settings:i},C=Object.assign({},h.adapter,this.pouchSettings,h.settings),L=new qo(h.location,C);return Promise.resolve(L)}catch($){return Promise.reject($)}},t.createStorageInstance=function(r){try{var f=Mf(r.databaseName,r.collectionName,r.schema.version);return Promise.resolve(this.createPouch(f,r.options)).then(function(h){return Promise.resolve(function(t,n){try{if(!n.indexes)return Promise.resolve();var r=xr(n.primaryKey);return Promise.resolve(t.getIndexes()).then(function(i){var f=new Set(i.indexes.map(function(h){return h.name}));return Promise.resolve(Promise.all(n.indexes.map(function(h){try{var C=wn(h)?h:[h],L="idx-rxdb-index-"+(C=C.map(function($){return $===r?"_id":$})).join(",");return f.has(L)?Promise.resolve():Promise.resolve(t.createIndex({name:L,ddoc:L,index:{fields:C}}))}catch($){return Promise.reject($)}}))).then(function(){})})}catch(i){return Promise.reject(i)}}(h,r.schema)).then(function(){return new rv(r.databaseName,r.collectionName,r.schema,{pouch:h},r.options)})})}catch(h){return Promise.reject(h)}},t.createKeyObjectStorageInstance=function(r){try{var f=Et(r.options);f.auto_compaction=!1,f.revs_limit=1;var h=Mf(r.databaseName,r.collectionName,0);return Promise.resolve(this.createPouch(h,r.options)).then(function(C){return new sv(r.databaseName,r.collectionName,{pouch:C},r.options)})}catch(C){return Promise.reject(C)}},e}();function cv(e){if("string"==typeof e){if(!qo.adapters||!qo.adapters[e])throw Ne("DB9",{adapter:e})}else if(function(e){if(!e||"function"!=typeof e.super_)throw Ne("UT4",{adapter:e})}(e),!qo.adapters||!qo.adapters.leveldb)throw Ne("DB10",{adapter:e})}function Mf(e,t,n){var r=e+"-rxdb-"+n+"-";if(t.includes("/")){var i=t.split("/"),f=i.pop();return i.join("/")+"/"+r+f}return r+t}function lv(e,t){if(!e)throw new Error("adapter missing");return new uv(e,t)}var fv=["__proto__","constructor","prototype"];function ea(e,t){Object.keys(t).forEach(function(n){fv.includes(n)||(void 0===e[n]?e[n]=t[n]:ta(t[n])?ea(e[n],t[n]):e[n]=t[n])})}function ta(e){return"[object Object]"===e.toString()}var Pu=function(){function e(n){if(this.options={},this._conditions={},this._fields={},n){var r=this;n.selector&&r.find(n.selector),n.limit&&r.limit(n.limit),n.skip&&r.skip(n.skip),n.sort&&n.sort.forEach(function(i){return r.sort(i)})}}var t=e.prototype;return t.where=function(r,i){if(!arguments.length)return this;var f=typeof arguments[0];if("string"===f)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"===f&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw zt("MQ1",{path:arguments[0]})},t.equals=function(r){return this._ensurePath("equals"),this._conditions[this._path]=r,this},t.eq=function(r){return this._ensurePath("eq"),this._conditions[this._path]=r,this},t.or=function(r){var i=this._conditions.$or||(this._conditions.$or=[]);return Array.isArray(r)||(r=[r]),i.push.apply(i,r),this},t.nor=function(r){var i=this._conditions.$nor||(this._conditions.$nor=[]);return Array.isArray(r)||(r=[r]),i.push.apply(i,r),this},t.and=function(r){var i=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(r)||(r=[r]),i.push.apply(i,r),this},t.mod=function(r,i){var f,h;1===arguments.length?(this._ensurePath("mod"),f=arguments[0],h=this._path):2!==arguments.length||Array.isArray(arguments[1])?3===arguments.length?(f=arguments.slice(1),h=arguments[0]):(f=arguments[1],h=arguments[0]):(this._ensurePath("mod"),f=arguments.slice(),h=this._path);var C=this._conditions[h]||(this._conditions[h]={});return C.$mod=f,this},t.exists=function(r,i){var f,h;0===arguments.length?(this._ensurePath("exists"),f=this._path,h=!0):1===arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),f=this._path,h=arguments[0]):(f=arguments[0],h=!0):2===arguments.length&&(f=arguments[0],h=arguments[1]);var C=this._conditions[f]||(this._conditions[f]={});return C.$exists=h,this},t.elemMatch=function(r,i){if(null===arguments[0])throw zt("MQ2");var f,h,C;if("function"==typeof arguments[0])this._ensurePath("elemMatch"),h=this._path,f=arguments[0];else if(ta(arguments[0]))this._ensurePath("elemMatch"),h=this._path,C=arguments[0];else if("function"==typeof arguments[1])h=arguments[0],f=arguments[1];else{if(!arguments[1]||!ta(arguments[1]))throw zt("MQ2");h=arguments[0],C=arguments[1]}f&&(f(C=new e),C=C._conditions);var L=this._conditions[h]||(this._conditions[h]={});return L.$elemMatch=C,this},t.sort=function(r){var i=this;if(!r)return this;var f,h=typeof r;if(Array.isArray(r)){f=r.length;for(var C=0;C<r.length;++C)hv(this.options,r[C][0],r[C][1]);return this}if(1===arguments.length&&"string"===h){f=(r=r.split(/\s+/)).length;for(var L=0;L<f;++L){var $=r[L];if($){var X="-"===$[0]?-1:1;-1===X&&($=$.substring(1)),Lf(this.options,$,X)}}return this}if(ta(r)){var oe=Object.keys(r);return oe.forEach(function(ue){return Lf(i.options,ue,r[ue])}),this}throw zt("MQ3",{args:arguments})},t.merge=function(r){if(!r)return this;if(!Bf(r))throw zt("MQ4",{source:r});return r instanceof e?(r._conditions&&ea(this._conditions,r._conditions),r._fields&&(this._fields||(this._fields={}),ea(this._fields,r._fields)),r.options&&(this.options||(this.options={}),ea(this.options,r.options)),r._distinct&&(this._distinct=r._distinct),this):(ea(this._conditions,r),this)},t.find=function(r){return Bf(r)&&this.merge(r),this},t._ensurePath=function(r){if(!this._path)throw Ne("MQ5",{method:r})},t.toJSON=function(){var r={selector:this._conditions};return this.options.skip&&(r.skip=this.options.skip),this.options.limit&&(r.limit=this.options.limit),this.options.sort&&(r.sort=function(e){return Object.entries(e).map(function(t){var n;return(n={})[t[0]]=1===t[1]?"asc":"desc",n})}(this.options.sort)),{query:r,path:this._path}},e}(),xf=["limit","skip","maxScan","batchSize","comment"];xf.forEach(function(e){Pu.prototype[e]=function(t){return this.options[e]=t,this}});var kf=["gt","gte","lt","lte","ne","in","nin","all","regex","size"];function Lf(e,t,n){if(Array.isArray(e.sort))throw zt("MQ6",{opts:e,field:t,value:n});if(n&&n.$meta)(e.sort||(e.sort={}))[t]={$meta:n.$meta};else{var i=String(n||1).toLowerCase();if(!/^(?:ascending|asc|descending|desc|1|-1)$/.test(i))throw Array.isArray(n)&&(n="["+n+"]"),zt("MQ7",{field:t,value:n});var f=e.sort||(e.sort={}),h=n.toString().replace("asc","1").replace("ascending","1").replace("desc","-1").replace("descending","-1");f[t]=parseInt(h,10)}}function hv(e,t,n){if(e.sort=e.sort||[],!Array.isArray(e.sort))throw zt("MQ8",{opts:e,field:t,value:n});e.sort.push([t,n])}function Bf(e){return e instanceof Pu||ta(e)}kf.forEach(function(e){Pu.prototype[e]=function(){var t,n;1===arguments.length?(this._ensurePath(e),n=arguments[0],t=this._path):(n=arguments[1],t=arguments[0]);var r=null===this._conditions[t]||"object"==typeof this._conditions[t]?this._conditions[t]:this._conditions[t]={};return r["$"+e]=n,this}});var Gc="queryBuilderPath";function Qc(e,t){e[t]=function(n){return function(e,t,n){var r=function(e){return new Pu(e)}(Rn(e.mangoQuery));e.other[Gc]&&(r._path=e.other[Gc]),r[t](n);var i=r.toJSON(),f=new hu(e.op,i.query,e.collection);return i.path&&(f.other[Gc]=i.path),_l(f)}(this,t,n)}}var vv={name:"query-builder",rxdb:!0,prototypes:{RxQuery:function(t){["where","equals","eq","or","nor","and","mod","exists","elemMatch","sort"].forEach(function(n){Qc(t,n)}),xf.forEach(function(n){Qc(t,n)}),kf.forEach(function(n){Qc(t,n)})}}},gv=l(9790),yv=l.n(gv);function _v(e){var t=this._data,n=yv()(t,e);return this._saveData(n,t)}function bv(e){return this.exec().then(function(t){return t?Array.isArray(t)?Promise.all(t.map(function(n){return n.update(e)})).then(function(){return t}):t.update(e).then(function(){return t}):null})}var Sv={RxDocument:function(t){t.update=_v},RxQuery:function(t){t.update=bv}},wv={name:"update",rxdb:!0,prototypes:Sv},Cv=l(8167),Av=l.n(Cv),Zc=new Map;function Yc(e){var t=e.hash;if(!Zc.has(t)){var n=Av()(e.jsonSchema);Zc.set(t,n)}return Zc.get(t)}var Pv=function(t){var n=Yc(this);if(n(t))return t;throw Ne("VD2",{errors:n.errors,obj:t,schema:this.jsonSchema})},Iv={RxSchema:function(t){t._getValidator=Yc,t.validate=Pv}},Tv={createRxSchema:function(t){"object"==typeof window&&window.requestIdleCallback&&window.requestIdleCallback(function(){Yc(t)})}},Rv={name:"validate",rxdb:!0,prototypes:Iv,hooks:Tv},Yt=l(3900),cr=l(2843),ni=l(9646),Du=l(9770),ri=l(2076),na=l(4128),Mv=l(1042);let xv=(()=>{class e{constructor(){this.isInitialized=!1}initialize(n){this.isInitialized?console.warn("PermissionsService already initialized"):(this.collection=n,this.isInitialized=!0)}requestPermissions(n){return(0,Du.P)(()=>this.isInitialized&&this.collection?(0,ri.D)(this.collection.bulkInsert(n)).pipe((0,Gt.U)(({success:r})=>!!r)):(0,cr._)(()=>new Error("PermissionsService not initialized")))}hasPermission(n){return(0,Du.P)(()=>{if(!this.isInitialized||!this.collection)return(0,cr._)(()=>new Error("PermissionsService not initialized"));const r=this.collection.findOne({selector:{id:`${n.appId}:${n.kind}:${n.mode}:${n.target}`}});return(0,ri.D)(r.exec()).pipe((0,Gt.U)(i=>!!i))})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=a.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Qn=l(899);class kv{constructor(t,n,r){this.appId=t,this.collection=n,this.acl=r}insert(t){return this.requestPermission(Qn.R.Write).pipe((0,Yt.w)(()=>this.collection.insert(t)),(0,Gt.U)(n=>this.docToJSON(n)))}upsert(t){return this.requestPermission(Qn.R.Write).pipe((0,Yt.w)(()=>this.collection.upsert(t)),(0,Gt.U)(n=>this.docToJSON(n)))}findOne(t){return this.requestPermission(Qn.R.Read).pipe((0,Yt.w)(()=>this.collection.findOne(t).exec()),(0,Gt.U)(n=>n?this.docToJSON(n):null))}find(t){return this.requestPermission(Qn.R.Read).pipe((0,Yt.w)(()=>this.collection.find(t).exec()),(0,Gt.U)(n=>n.map(r=>this.docToJSON(r))))}observe(t){return this.requestPermission(Qn.R.Read).pipe((0,Yt.w)(()=>this.collection.find(t).$),(0,Gt.U)(n=>n.map(r=>this.docToJSON(r))))}observeOne(t){return this.observe(t).pipe((0,Gt.U)(n=>n.length>0?n[0]:null))}update(t,n){return this.requestPermission(Qn.R.Write).pipe((0,Yt.w)(()=>this.collection.find(t).update(n)),(0,Gt.U)(r=>r.map(i=>this.docToJSON(i))))}remove(t){return this.requestPermission(Qn.R.Write).pipe((0,Yt.w)(()=>this.collection.find(t).remove()),(0,Gt.U)(n=>n.map(r=>this.docToJSON(r))))}putAttachment(t,n,r=!1){return this.requestPermission(Qn.R.Write).pipe((0,Yt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Yt.w)(i=>i?i.putAttachment(n,r):(0,cr._)(()=>new Error("No document found for id "+t))),(0,Gt.U)(i=>i.id))}getAttachment(t,n){return this.requestPermission(Qn.R.Read).pipe((0,Yt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Yt.w)(r=>r?(0,ni.of)(r.getAttachment(n)):(0,cr._)(()=>new Error("No document found for id "+t))),(0,Yt.w)(r=>r?(0,ri.D)(r.getData()).pipe((0,Gt.U)(i=>({id:r.id,data:i,type:r.type}))):(0,cr._)(()=>new Error("No attachment found for id "+n))))}getAllAttachments(t){return this.requestPermission(Qn.R.Read).pipe((0,Yt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Yt.w)(n=>n?(0,ni.of)(n.allAttachments()):(0,cr._)(()=>new Error("No document found for id "+t))),(0,Yt.w)(n=>n.length<=0?(0,ni.of)([]):(0,na.D)(n.map(r=>(0,ri.D)(r.getData()).pipe((0,Gt.U)(i=>({id:r.id,data:i,type:r.type})))))))}removeAttachment(t,n){return this.requestPermission(Qn.R.Write).pipe((0,Yt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Yt.w)(r=>{if(!r)return(0,cr._)(()=>new Error("No document found for id "+t));const i=r.getAttachment(n);return i?i.remove():(0,cr._)(()=>new Error("No attachment found for id "+n))}))}observeAttachments(t){return this.requestPermission(Qn.R.Read).pipe((0,Yt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Yt.w)(n=>n?n.allAttachments$:(0,cr._)(()=>new Error("No document found for id "+t))),(0,Yt.w)(n=>(0,na.D)(n.map(r=>(0,ri.D)(r.getData()).pipe((0,Gt.U)(i=>({id:r.id,data:i,type:r.type})))))))}requestPermission(t){return this.acl.hasPermission({appId:this.appId,kind:Qn.k.Collection,mode:t,target:this.collection.name}).pipe((0,Yt.w)(n=>n?(0,ni.of)(n):(0,cr._)(()=>new Error(`No permission to perform action ${t} on ${this.collection.name} with appId ${this.appId}`))))}docToJSON(t){const n=JSON.parse(JSON.stringify(t));return n._attachments=t._attachments,n}}Rf(g),js(xh),js(Rv),js(Kh),js(vv),js(wv),js(qa);const Ff=new a.InjectionToken("ENTITY_MANAGER_BASE_COLLECTIONS_TOKEN"),Nf=new a.InjectionToken("ENTITY_MANAGER_INITIAL_DATA_TOKEN");let Lv=(()=>{class e{constructor(n,r,i){this.acl=n,this.baseCollections=r,this.initialData=i,this.initialize$=new su(0)}setupDatabase(n,r){return this.createDatabase(n,r).pipe((0,Yt.w)(i=>this.addBaseCollections(i)),(0,bi.b)(i=>this.acl.initialize(i.applicationpermissions)),(0,Yt.w)(i=>this.addInitialData(i)),(0,bi.b)(()=>this.initialize$.next()),(0,Gt.U)(()=>{}))}isDatabaseCreated(){return void 0!==this._dbInstance}getRepository(n,r){if(!this._dbInstance)return(0,cr._)(()=>new Error("Database not initialized"));const i=this._dbInstance.collections[n];if(!i)return(0,cr._)(()=>new Error("Collection not initialized"));const f=new kv(r,i,this.acl);return(0,ni.of)(f)}createDatabase(n,r){return(0,Du.P)(()=>(0,ri.D)(mh({name:n,password:r,storage:lv("idb")})).pipe((0,bi.b)(i=>this._dbInstance=i)))}addBaseCollections(n){const r=this.baseCollections.reduce((i,f)=>Object.assign(i,{[f.name]:f.creator}),{});return(0,Du.P)(()=>(0,ri.D)(n.addCollections(r)).pipe((0,bi.b)(i=>{Object.values(i).forEach(f=>{f.preInsert(h=>{const C=(new Date).toISOString();h.id=h.id||(0,Mv.Z)(),h.createdAt=h.createdAt||C,h.updatedAt=h.updatedAt||C},!1),f.preSave((h,C)=>{const L=(new Date).toISOString();h.createdAt=C.createdAt||L,h.updatedAt=L},!1)})})))}addInitialData(n){return(0,na.D)(this.initialData.map(r=>{const i=n[r.name],f=!("upsert"in r)||r.upsert;return(0,na.D)(r.data.map(h=>(f?(0,ni.of)(!0):(0,ri.D)(i.findOne({selector:{id:h.id}}).exec()).pipe((0,Gt.U)(L=>!L))).pipe((0,Yt.w)(L=>L?(0,ri.D)(i.upsert(h)).pipe((0,Yt.w)(()=>{if("userapplications"!==r.name)return(0,ni.of)(void 0);const $=(h.additionalProperties?.permissions||[]).map(X=>({...X,appId:h.id,id:`${h.id}:${X.kind}:${X.mode}:${X.target}`}));return $.length?(0,na.D)($.map(X=>n.applicationpermissions.upsert(X))):(0,ni.of)(void 0)})):(0,ni.of)(void 0)))))}))}}return e.\u0275fac=function(n){return new(n||e)(a.\u0275\u0275inject(xv),a.\u0275\u0275inject(Ff),a.\u0275\u0275inject(Nf))},e.\u0275prov=a.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},43:(re,U,l)=>{l.d(U,{T:()=>R});var g=l(1457),D=l(6435),p=l(1135),F=l(3900),B=l(4128),N=l(8505),k=l(2843),O=l(9841),w=l(7777);let R=(()=>{class I{constructor(T,E){this.document=T,this.entityManager=E,this.customizationSettings$=new p.X(void 0),this.entityManager.initialize$.pipe((0,F.w)(()=>(0,B.D)([this.entityManager.getRepository("userpreferences","com.central-factory.settings")])),(0,N.b)(([y])=>{this.userPreferencesRepository=y,this.subscribeToDataChanges()})).subscribe()}setCustomizationSettings(T,E){return this.userPreferencesRepository?this.userPreferencesRepository.upsert({id:"settings.customization"+(E?`.${E}`:""),key:"settings.customization",value:T,avatar:E}):(0,k._)(()=>new Error("Repositories not initialized"))}subscribeToDataChanges(){if(!this.userPreferencesRepository)throw new Error("Repositories not initialized");this.customizationSettings$.pipe((0,N.b)(T=>{!T||T.theme&&this.loadThemeFromUrl(T.theme.path)})).subscribe(),(0,O.a)([this.userPreferencesRepository.observeOne({selector:{key:"userAvatars.selectedAvatar"}}),this.userPreferencesRepository.observe({selector:{key:"settings.customization"}})]).pipe((0,N.b)(([T,E])=>{if(E.length<=0)return;const y=E.find(c=>c.avatar===T?.value)||E[0];this.customizationSettings$.next(y.value)})).subscribe()}loadThemeFromUrl(T){if(this.activeThemeLinkElem&&this.activeThemeLinkElem?.href.endsWith(T))return;const y=this.document.getElementsByTagName("head")[0],c=this.document.createElement("link");c.rel="stylesheet",c.href=T,y.appendChild(c),this.activeThemeLinkElem&&y.removeChild(this.activeThemeLinkElem),this.activeThemeLinkElem=c}}return I.\u0275fac=function(T){return new(T||I)(w.\u0275\u0275inject(g.DOCUMENT),w.\u0275\u0275inject(D.v2))},I.\u0275prov=w.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()},1549:(re,U,l)=>{l.d(U,{w:()=>R});var g=l(1457),D=l(6435),p=l(1135),F=l(3900),B=l(4128),N=l(8505),k=l(2843),O=l(4004),w=l(7777);let R=(()=>{class I{constructor(T,E){this.document=T,this.entityManager=E,this.userPreferences$=new p.X([]),this.entityManager.initialize$.pipe((0,F.w)(()=>(0,B.D)([this.entityManager.getRepository("userpreferences","com.central-factory.settings")])),(0,N.b)(([y])=>{this.userPreferencesRepository=y,this.subscribeToDataChanges()})).subscribe()}setValue(T,E){return this.userPreferencesRepository?this.userPreferencesRepository.upsert({id:T,key:T,value:E}):(0,k._)(()=>new Error("Repositories not initialized"))}subscribeToDataChanges(){if(!this.userPreferencesRepository)throw new Error("Repositories not initialized")}byKey(T){if(!this.userPreferencesRepository)throw new Error("Repositories not initialized");return this.userPreferencesRepository.observeOne({selector:{key:T}}).pipe((0,O.U)(E=>E||void 0))}}return I.\u0275fac=function(T){return new(T||I)(w.\u0275\u0275inject(g.DOCUMENT),w.\u0275\u0275inject(D.v2))},I.\u0275prov=w.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()},4438:(re,U,l)=>{l.d(U,{O:()=>D});var g=l(7777);let D=(()=>{class p{}return p.\u0275fac=function(B){return new(B||p)},p.\u0275mod=g.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=g.\u0275\u0275defineInjector({}),p})()},1894:(re,U,l)=>{l.d(U,{t:()=>D});var g=l(7777);let D=(()=>{class p{constructor(){this.separators={el:"__",mod:"--",val:"-"},this.ignoreValues=!1,this.modCase="kebab"}setMods(B,N,k,O,w,S){Object.keys(k).forEach(R=>{if(O[R]){if(k[R]===O[R])return;S.removeClass(w.nativeElement,this.generateClass(B,N,R,O[R]))}k[R]&&S.addClass(w.nativeElement,this.generateClass(B,N,R,k[R]))}),Object.keys(O).forEach(R=>{!(R in k)&&O[R]&&S.removeClass(w.nativeElement,this.generateClass(B,N,R,O[R]))})}generateClass(B,N,k,O){this.ignoreValues&&(O=!!O),"string"!=typeof O&&"boolean"!=typeof O&&(O=!!O);let w=B;return N&&(w+=this.separators.el+N),k&&(k=this.modNameHandler(k),w+=this.separators.mod+k,"boolean"!=typeof O&&null!=O&&(w+=this.separators.val+O)),w}parseMods(B){if("string"==typeof B&&(B=B.split(/\s+/)),Array.isArray(B)){const N=B;B={},N.forEach(k=>{B[k]=!0})}else if("object"!=typeof B)return{};return B}modNameHandler(B){switch(this.modCase){case"kebab":return B?B.replace(/[A-Z]/g,function(N){return"-"+N.toLowerCase()}).replace(/$\-/,""):"";case"snake":return B?B.replace(/[A-Z]/g,function(N){return"_"+N.toLowerCase()}).replace(/$\-/,""):"";default:return B}}}return p.\u0275fac=function(B){return new(B||p)},p.\u0275prov=g.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},1623:(re,U,l)=>{l.d(U,{G:()=>p});var g=l(7777),D=l(1894);let p=(()=>{class F{constructor(N,k,O,w){this.bemService=w,this.name=O,this.element=N,this.renderer=k,k.addClass(N.nativeElement,this.bemService.generateClass(O))}ngOnChanges(){if(JSON.stringify(this.cfMod)!==this._modSerialized){this._modSerialized=JSON.stringify(this.cfMod);let N=this.cfMod;const{renderer:k,element:O,name:w}=this;N=this.bemService.parseMods(N),this.bemService.setMods(w,"",N,this._mods||{},O,k),this._mods=this._mods===N?Object.assign({},N):N}}}return F.\u0275fac=function(N){return new(N||F)(g.\u0275\u0275directiveInject(g.ElementRef),g.\u0275\u0275directiveInject(g.Renderer2),g.\u0275\u0275injectAttribute("cfBlock"),g.\u0275\u0275directiveInject(D.t))},F.\u0275dir=g.\u0275\u0275defineDirective({type:F,selectors:[["","cfBlock",""]],inputs:{cfMod:"cfMod"},features:[g.\u0275\u0275NgOnChangesFeature]}),F})()},3454:(re,U,l)=>{l.d(U,{e:()=>F});var g=l(7777),D=l(1894),p=l(1623);let F=(()=>{class B{constructor(k,O,w,S,R){this.bemService=R,this.blockName=S.name,this.name=w,this.element=k,this.renderer=O,O.addClass(k.nativeElement,this.bemService.generateClass(S.name,w))}ngOnChanges(){if(JSON.stringify(this.cfMod)!==this._modSerialized){this._modSerialized=JSON.stringify(this.cfMod);let k=this.cfMod;const{renderer:O,element:w,blockName:S,name:R}=this;k=this.bemService.parseMods(k),this.bemService.setMods(S,R,k,this._mods||{},w,O),this._mods=this._mods===k?Object.assign({},k):k}}}return B.\u0275fac=function(k){return new(k||B)(g.\u0275\u0275directiveInject(g.ElementRef),g.\u0275\u0275directiveInject(g.Renderer2),g.\u0275\u0275injectAttribute("cfElem"),g.\u0275\u0275directiveInject(p.G),g.\u0275\u0275directiveInject(D.t))},B.\u0275dir=g.\u0275\u0275defineDirective({type:B,selectors:[["","cfElem",""]],inputs:{cfMod:"cfMod"},features:[g.\u0275\u0275NgOnChangesFeature]}),B})()},7967:(re,U,l)=>{l.d(U,{I:()=>D});var g=l(7777);let D=(()=>{class p{}return p.\u0275fac=function(B){return new(B||p)},p.\u0275dir=g.\u0275\u0275defineDirective({type:p,selectors:[["","cfMod",""]]}),p})()},5183:(re,U,l)=>{l.d(U,{L:()=>k});var g=l(1457),D=l(7777);function F(O,w){if(1&O){const S=D.\u0275\u0275getCurrentView();D.\u0275\u0275elementStart(0,"div",2),D.\u0275\u0275listener("click",function(){return D.\u0275\u0275restoreView(S),D.\u0275\u0275nextContext()._onBackdropClicked()}),D.\u0275\u0275elementEnd()}if(2&O){const S=D.\u0275\u0275nextContext();D.\u0275\u0275property("ngClass",S.backdropClass)}}const B=[[["cf-sidebar"],["","cf-sidebar",""]],[["","cf-sidebar-content",""]]],N=["cf-sidebar,[cf-sidebar]","[cf-sidebar-content]"];let k=(()=>{class O{constructor(S,R){this._ref=S,this.animate=!0,this.allowSidebarBackdropControl=!0,this.showBackdrop=!1,this.showBackdropChange=new D.EventEmitter,this.backdropClick=new D.EventEmitter,this._sidebars=[],this._isBrowser=(0,g.isPlatformBrowser)(R)}ngAfterContentInit(){!this._isBrowser||this._onToggle()}ngOnChanges(S){!this._isBrowser||S.showBackdrop&&this.showBackdropChange.emit(S.showBackdrop.currentValue)}ngOnDestroy(){!this._isBrowser||this._unsubscribe()}_addSidebar(S){this._sidebars.push(S),this._subscribe(S)}_removeSidebar(S){const R=this._sidebars.indexOf(S);-1!==R&&this._sidebars.splice(R,1)}_getContentStyle(){let S=0,R=0,I=0,M=0,T="",E="",y="";for(const c of this._sidebars)if(c._isModeSlide&&c.opened&&(T=`translate${c._isLeftOrRight?"X":"Y"}(${c._isLeftOrTop?"":"-"}${c._isLeftOrRight?c._width:c._height}px)`),c._isModePush&&c.opened||c.dock){let s=0;switch(c._isModeSlide&&c.opened?c._isLeftOrRight?y="100%":E="100%":s=c._isDocked||c._isModeOver&&c.dock?c._dockedSize:c._isLeftOrRight?c._width:c._height,c.position){case"left":S=Math.max(S,s);break;case"right":R=Math.max(R,s);break;case"top":I=Math.max(I,s);break;case"bottom":M=Math.max(M,s)}}return{padding:`${I}px ${R}px ${M}px ${S}px`,webkitTransform:T,transform:T,height:E,width:y}}_onBackdropClicked(){let S=!1;for(const R of this._sidebars)R.opened&&R.showBackdrop&&R.closeOnClickBackdrop&&(R.close(),S=!0);S&&this.backdropClick.emit()}_subscribe(S){S.openStart.subscribe(()=>this._onToggle()),S.sidebarOpen.subscribe(()=>this._markForCheck()),S.closeStart.subscribe(()=>this._onToggle()),S.sidebarClose.subscribe(()=>this._markForCheck()),S.modeChange.subscribe(()=>this._markForCheck()),S.positionChange.subscribe(()=>this._markForCheck()),S._onRerender.subscribe(()=>this._markForCheck())}_unsubscribe(){for(const S of this._sidebars)S.openStart.unsubscribe(),S.sidebarOpen.unsubscribe(),S.closeStart.unsubscribe(),S.sidebarClose.unsubscribe(),S.modeChange.unsubscribe(),S.positionChange.unsubscribe(),S._onRerender.unsubscribe()}_onToggle(){if(this._sidebars.length>0&&this.allowSidebarBackdropControl){const S=this._sidebars.some(R=>R.opened&&R.showBackdrop);this.showBackdrop=S,this.showBackdropChange.emit(S)}setTimeout(()=>{this._markForCheck()})}_markForCheck(){this._ref.markForCheck()}}return O.\u0275fac=function(S){return new(S||O)(D.\u0275\u0275directiveInject(D.ChangeDetectorRef),D.\u0275\u0275directiveInject(D.PLATFORM_ID))},O.\u0275cmp=D.\u0275\u0275defineComponent({type:O,selectors:[["cf-sidebar-container"]],inputs:{animate:"animate",allowSidebarBackdropControl:"allowSidebarBackdropControl",showBackdrop:"showBackdrop",contentClass:"contentClass",backdropClass:"backdropClass"},outputs:{showBackdropChange:"showBackdropChange",backdropClick:"backdropClick"},features:[D.\u0275\u0275NgOnChangesFeature],ngContentSelectors:N,decls:4,vars:5,consts:[["aria-hidden","true","class","cf-sidebar__backdrop",3,"ngClass","click",4,"ngIf"],[1,"cf-sidebar__content",3,"ngClass","ngStyle"],["aria-hidden","true",1,"cf-sidebar__backdrop",3,"ngClass","click"]],template:function(S,R){1&S&&(D.\u0275\u0275projectionDef(B),D.\u0275\u0275template(0,F,1,1,"div",0),D.\u0275\u0275projection(1),D.\u0275\u0275elementStart(2,"div",1),D.\u0275\u0275projection(3,1),D.\u0275\u0275elementEnd()),2&S&&(D.\u0275\u0275property("ngIf",R.showBackdrop),D.\u0275\u0275advance(2),D.\u0275\u0275classProp("cf-sidebar__content--animate",R.animate),D.\u0275\u0275property("ngClass",R.contentClass)("ngStyle",R._getContentStyle()))},directives:[g.NgIf,g.NgClass,g.NgStyle],encapsulation:2,changeDetection:0}),O})()},6111:(re,U,l)=>{l.d(U,{k:()=>k});var g=l(1457),a=l(7777),F=l(5183);const B=["sidebar"],N=["*"];let k=(()=>{class O{constructor(S,R,I){if(this._container=S,this._ref=R,this.opened=!1,this.openedChange=new a.EventEmitter,this.mode="over",this.dock=!1,this.dockedSize="0px",this.position="start",this.animate=!0,this.autoCollapseOnInit=!0,this.trapFocus=!1,this.autoFocus=!0,this.showBackdrop=!1,this.closeOnClickBackdrop=!1,this.closeOnClickOutside=!1,this.keyClose=!1,this.keyCode=27,this.contentInit=new a.EventEmitter,this.openStart=new a.EventEmitter,this.sidebarOpen=new a.EventEmitter,this.closeStart=new a.EventEmitter,this.sidebarClose=new a.EventEmitter,this.transitionEnd=new a.EventEmitter,this.modeChange=new a.EventEmitter,this.positionChange=new a.EventEmitter,this._onRerender=new a.EventEmitter,this._focusableElementsString="a[href], area[href], input:not([disabled]), select:not([disabled]),textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], [contenteditable]",this._tabIndexAttr="__tabindex__",this._tabIndexIndicatorAttr="__ngsidebar-tabindex__",this._clickEvent="click",this._onClickOutsideAttached=!1,this._onKeyDownAttached=!1,this._onResizeAttached=!1,!this._container)throw new Error("<cf-sidebar> must be inside a <cf-sidebar-container>. See https://github.com/arkon/ng-sidebar#usage for more info.");this._isBrowser=(0,g.isPlatformBrowser)(I),this._isBrowser&&"undefined"!=typeof window&&"undefined"!=typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!("onclick"in window)&&(this._clickEvent="touchstart"),this._normalizePosition(),this.open=this.open.bind(this),this._onTransitionEnd=this._onTransitionEnd.bind(this),this._onFocusTrap=this._onFocusTrap.bind(this),this._onClickOutside=this._onClickOutside.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._collapse=this._collapse.bind(this)}ngOnInit(){!this._isBrowser||(this.animate&&(this._shouldAnimate=!0,this.animate=!1),this._container._addSidebar(this),this.autoCollapseOnInit&&this._collapse())}ngAfterContentInit(){this.contentInit.emit()}ngOnChanges(S){!this._isBrowser||(S.animate&&this._shouldAnimate&&(this._shouldAnimate=S.animate.currentValue),S.closeOnClickOutside&&(S.closeOnClickOutside.currentValue?this._initCloseClickListener():this._destroyCloseClickListener()),S.keyClose&&(S.keyClose.currentValue?this._initCloseKeyDownListener():this._destroyCloseKeyDownListener()),S.position&&(this._normalizePosition(),setTimeout(()=>{this.positionChange.emit(S.position.currentValue)})),S.mode&&setTimeout(()=>{this.modeChange.emit(S.mode.currentValue)}),S.dock&&this.triggerRerender(),S.opened&&(this._shouldAnimate&&(this.animate=!0,this._shouldAnimate=!1),S.opened.currentValue?this.open():this.close()),(S.autoCollapseHeight||S.autoCollapseWidth)&&this._initCollapseListeners())}ngOnDestroy(){!this._isBrowser||(this._destroyCloseListeners(),this._destroyCollapseListeners(),this._container._removeSidebar(this))}open(){!this._isBrowser||(this.opened=!0,this.openedChange.emit(!0),this.openStart.emit(),this._ref.detectChanges(),setTimeout(()=>{this.animate&&!this._isModeSlide?this._elSidebar.nativeElement.addEventListener("transitionend",this._onTransitionEnd):(this._setFocused(),this._initCloseListeners(),this.opened&&this.sidebarOpen.emit())}))}close(){!this._isBrowser||(this.opened=!1,this.openedChange.emit(!1),this.closeStart.emit(),this._ref.detectChanges(),setTimeout(()=>{this.animate&&!this._isModeSlide?this._elSidebar.nativeElement.addEventListener("transitionend",this._onTransitionEnd):(this._setFocused(),this._destroyCloseListeners(),this.opened||this.sidebarClose.emit())}))}triggerRerender(){!this._isBrowser||setTimeout(()=>{this._onRerender.emit()})}_getStyle(){let S="";if(!this.opened){const R="translate"+(this._isLeftOrRight?"X":"Y");S=`${R}(${(this._isLeftOrTop?"-":"")+"100%"})`,this.dock&&this._dockedSize>0&&(!this._isModeSlide||!this.opened)&&(S+=` ${R}(${this._isLeftOrTop?"+":"-"}${this.dockedSize})`)}return{webkitTransform:S,transform:S}}_onTransitionEnd(S){S.target===this._elSidebar.nativeElement&&S.propertyName.endsWith("transform")&&(this._setFocused(),this.opened?(this._initCloseListeners(),this.sidebarOpen.emit()):(this._destroyCloseListeners(),this.sidebarClose.emit()),this.transitionEnd.emit(),this._elSidebar.nativeElement.removeEventListener("transitionend",this._onTransitionEnd))}get _shouldTrapFocus(){return this.opened&&this.trapFocus}_focusFirstItem(){this._focusableElements&&this._focusableElements.length>0&&this._focusableElements[0].focus()}_onFocusTrap(S){this._shouldTrapFocus&&!this._elSidebar.nativeElement.contains(S.target)&&this._focusFirstItem()}_setFocused(){if(this._focusableElements=Array.from(this._elSidebar.nativeElement.querySelectorAll(this._focusableElementsString)),this.opened){this._focusedBeforeOpen=document.activeElement;for(const S of this._focusableElements){const R=S.getAttribute(this._tabIndexAttr),I=null!==S.getAttribute(this._tabIndexIndicatorAttr);null!==R?(S.setAttribute("tabindex",R),S.removeAttribute(this._tabIndexAttr)):I&&(S.removeAttribute("tabindex"),S.removeAttribute(this._tabIndexIndicatorAttr))}this.autoFocus&&this._focusFirstItem(),document.addEventListener("focus",this._onFocusTrap,!0)}else{for(const S of this._focusableElements){const R=S.getAttribute("tabindex");S.setAttribute("tabindex","-1"),S.setAttribute(this._tabIndexIndicatorAttr,""),null!==R&&S.setAttribute(this._tabIndexAttr,R)}document.removeEventListener("focus",this._onFocusTrap,!0),this._focusedBeforeOpen&&this.autoFocus&&this._isModeOver&&(this._focusedBeforeOpen.focus(),this._focusedBeforeOpen=null)}}_initCloseListeners(){this._initCloseClickListener(),this._initCloseKeyDownListener()}_initCloseClickListener(){setTimeout(()=>{this.opened&&this.closeOnClickOutside&&!this._onClickOutsideAttached&&(document.addEventListener(this._clickEvent,this._onClickOutside),this._onClickOutsideAttached=!0)})}_initCloseKeyDownListener(){setTimeout(()=>{this.opened&&this.keyClose&&!this._onKeyDownAttached&&(document.addEventListener("keydown",this._onKeyDown),this._onKeyDownAttached=!0)})}_destroyCloseListeners(){this._destroyCloseClickListener(),this._destroyCloseKeyDownListener()}_destroyCloseClickListener(){this._onClickOutsideAttached&&(document.removeEventListener(this._clickEvent,this._onClickOutside),this._onClickOutsideAttached=!1)}_destroyCloseKeyDownListener(){this._onKeyDownAttached&&(document.removeEventListener("keydown",this._onKeyDown),this._onKeyDownAttached=!1)}_onClickOutside(S){this._onClickOutsideAttached&&this._elSidebar&&!this._elSidebar.nativeElement.contains(S.target)&&this.close()}_onKeyDown(S){(S=S||window.event).keyCode===this.keyCode&&this.close()}_initCollapseListeners(){(this.autoCollapseHeight||this.autoCollapseWidth)&&setTimeout(()=>{this._onResizeAttached||(window.addEventListener("resize",this._collapse),this._onResizeAttached=!0)})}_destroyCollapseListeners(){this._onResizeAttached&&(window.removeEventListener("resize",this._collapse),this._onResizeAttached=!1)}_collapse(){const S=window.innerHeight,R=window.innerWidth;this.autoCollapseHeight&&(S<=this.autoCollapseHeight&&this.opened?(this._wasCollapsed=!0,this.close()):S>this.autoCollapseHeight&&this._wasCollapsed&&(this.open(),this._wasCollapsed=!1)),this.autoCollapseWidth&&(R<=this.autoCollapseWidth&&this.opened?(this._wasCollapsed=!0,this.close()):R>this.autoCollapseWidth&&this._wasCollapsed&&(this.open(),this._wasCollapsed=!1))}get _height(){return this._elSidebar.nativeElement?this._isDocked?this._dockedSize:this._elSidebar.nativeElement.offsetHeight:0}get _width(){return this._elSidebar.nativeElement?this._isDocked?this._dockedSize:this._elSidebar.nativeElement.offsetWidth:0}get _dockedSize(){return parseFloat(this.dockedSize)}get _isModeOver(){return"over"===this.mode}get _isModePush(){return"push"===this.mode}get _isModeSlide(){return"slide"===this.mode}get _isDocked(){return!(!this.dock||!this.dockedSize||this.opened)}get _isLeftOrTop(){return"left"===this.position||"top"===this.position}get _isLeftOrRight(){return"left"===this.position||"right"===this.position}get _isInert(){return!this.opened&&!this.dock}_normalizePosition(){const S=(()=>{let O="ltr";return"undefined"!=typeof window&&(O=window.getComputedStyle?window.getComputedStyle(document.body,null).getPropertyValue("direction"):document.body.currentStyle.direction),"ltr"===O})();"start"===this.position?this.position=S?"left":"right":"end"===this.position&&(this.position=S?"right":"left")}}return O.\u0275fac=function(S){return new(S||O)(a.\u0275\u0275directiveInject(F.L,8),a.\u0275\u0275directiveInject(a.ChangeDetectorRef),a.\u0275\u0275directiveInject(a.PLATFORM_ID))},O.\u0275cmp=a.\u0275\u0275defineComponent({type:O,selectors:[["cf-sidebar"]],viewQuery:function(S,R){if(1&S&&a.\u0275\u0275viewQuery(B,5),2&S){let I;a.\u0275\u0275queryRefresh(I=a.\u0275\u0275loadQuery())&&(R._elSidebar=I.first)}},inputs:{opened:"opened",mode:"mode",dock:"dock",dockedSize:"dockedSize",position:"position",animate:"animate",autoCollapseHeight:"autoCollapseHeight",autoCollapseWidth:"autoCollapseWidth",autoCollapseOnInit:"autoCollapseOnInit",sidebarClass:"sidebarClass",ariaLabel:"ariaLabel",trapFocus:"trapFocus",autoFocus:"autoFocus",showBackdrop:"showBackdrop",closeOnClickBackdrop:"closeOnClickBackdrop",closeOnClickOutside:"closeOnClickOutside",keyClose:"keyClose",keyCode:"keyCode"},outputs:{openedChange:"openedChange",contentInit:"contentInit",openStart:"openStart",sidebarOpen:"sidebarOpen",closeStart:"closeStart",sidebarClose:"sidebarClose",transitionEnd:"transitionEnd",modeChange:"modeChange",positionChange:"positionChange",_onRerender:"_onRerender"},features:[a.\u0275\u0275NgOnChangesFeature],ngContentSelectors:N,decls:3,vars:15,consts:[["role","complementary",3,"ngClass","ngStyle"],["sidebar",""]],template:function(S,R){1&S&&(a.\u0275\u0275projectionDef(),a.\u0275\u0275elementStart(0,"aside",0,1),a.\u0275\u0275projection(2),a.\u0275\u0275elementEnd()),2&S&&(a.\u0275\u0275classMapInterpolate3("cf-sidebar cf-sidebar--",R.opened?"opened":"closed"," cf-sidebar--",R.position," cf-sidebar--",R.mode,""),a.\u0275\u0275classProp("cf-sidebar--docked",R._isDocked)("cf-sidebar--inert",R._isInert)("cf-sidebar--animate",R.animate),a.\u0275\u0275property("ngClass",R.sidebarClass)("ngStyle",R._getStyle()),a.\u0275\u0275attribute("aria-hidden",!R.opened)("aria-label",R.ariaLabel))},directives:[g.NgClass,g.NgStyle],encapsulation:2,changeDetection:0}),O})()},5687:(re,U,l)=>{l.d(U,{l:()=>F});var g=l(1457),D=l(7777);let F=(()=>{class B{}return B.\u0275fac=function(k){return new(k||B)},B.\u0275mod=D.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=D.\u0275\u0275defineInjector({imports:[[g.CommonModule]]}),B})()},5605:(re,U,l)=>{l.d(U,{wn:()=>T});var g=l(5861),a=l(7340),D=l(7777),p=l(1623),F=l(7967),B=l(1457),N=l(3454),k=l(9750);let O=(()=>{class E{}return E.\u0275fac=function(c){return new(c||E)},E.\u0275cmp=D.\u0275\u0275defineComponent({type:E,selectors:[["cf-spinner"]],decls:2,vars:0,consts:[["cfBlock","spinner","cfMod","3x"]],template:function(c,s){1&c&&(D.\u0275\u0275elementStart(0,"div",0),D.\u0275\u0275element(1,"div"),D.\u0275\u0275elementEnd())},directives:[p.G,F.I],styles:["[_nghost-%COMP%]{display:contents}"]}),E})();function w(E,y){1&E&&(D.\u0275\u0275elementStart(0,"div",8),D.\u0275\u0275element(1,"cf-spinner"),D.\u0275\u0275elementEnd())}function S(E,y){if(1&E&&(D.\u0275\u0275elementStart(0,"p",9),D.\u0275\u0275text(1),D.\u0275\u0275elementEnd()),2&E){const c=D.\u0275\u0275nextContext();D.\u0275\u0275advance(1),D.\u0275\u0275textInterpolate1(" ",c.loadingText," ")}}const R=function(E){return{"background-color":E}};var I=(()=>{return(E=I||(I={})).Visible="visible",E.Hidden="hidden",I;var E})(),M=(()=>{return(E=M||(M={})).Visible="visible",E.Hidden="hidden",M;var E})();let T=(()=>{class E{constructor(){this.title="Portal",this.logo="assets/logo.svg",this.loadingTexts=["Setting up the rockets...","Calling the crew..","Jumping to the cyber space..."],this.welcomeMessage="Welcome to the Metaverse",this.displayLoadingTime=5e3,this.displayWelcomeTime=3e3,this.mods="",this.splashScreenHide=new D.EventEmitter,this.state=I.Visible,this.logoState=M.Hidden,this.selectedLoadingTextIndex=void 0}ngOnInit(){this.displaySplashScreen()}displaySplashScreen(){var c=this;return(0,g.Z)(function*(){c.displayLoadingText(),yield c.wait(c.displayLoadingTime),c.logoState=M.Visible,c.selectedLoadingTextIndex=void 0,c.loadingText=c.welcomeMessage,yield c.wait(c.displayWelcomeTime),c.state=I.Hidden,c.splashScreenHide.emit()})()}displayLoadingText(){var c=this;return(0,g.Z)(function*(){if(c.logoState===M.Visible)return c.selectedLoadingTextIndex=void 0,void(c.loadingText=c.welcomeMessage);const v=(void 0===c.selectedLoadingTextIndex?-1:c.selectedLoadingTextIndex)+1;if(v>=c.loadingTexts.length)return c.selectedLoadingTextIndex=void 0,yield c.wait(1e3),void c.displayLoadingText();c.selectedLoadingTextIndex=v,c.loadingText=c.loadingTexts[v],yield c.wait(1e3),c.displayLoadingText()})()}wait(c){return new Promise(s=>setTimeout(s,c))}}return E.\u0275fac=function(c){return new(c||E)},E.\u0275cmp=D.\u0275\u0275defineComponent({type:E,selectors:[["cf-splash-screen"]],inputs:{title:"title",logo:"logo",backgroundColor:"backgroundColor",loadingTexts:"loadingTexts",welcomeMessage:"welcomeMessage",displayLoadingTime:"displayLoadingTime",displayWelcomeTime:"displayWelcomeTime",mods:"mods"},outputs:{splashScreenHide:"splashScreenHide"},decls:9,vars:10,consts:[["cfBlock","splash-screen",3,"cfMod","ngStyle"],["cfElem","content"],["cfElem","title"],["cfElem","spinner"],["cfElem","logo"],["cfElem","logo-image",3,"src"],["cfElem","spinner-content",4,"ngIf"],["cfElem","loading-text",4,"ngIf"],["cfElem","spinner-content"],["cfElem","loading-text"]],template:function(c,s){1&c&&(D.\u0275\u0275elementStart(0,"div",0),D.\u0275\u0275elementStart(1,"div",1),D.\u0275\u0275elementStart(2,"h1",2),D.\u0275\u0275text(3),D.\u0275\u0275elementEnd(),D.\u0275\u0275elementStart(4,"div",3),D.\u0275\u0275elementStart(5,"div",4),D.\u0275\u0275element(6,"cf-svg-icon",5),D.\u0275\u0275elementEnd(),D.\u0275\u0275template(7,w,2,0,"div",6),D.\u0275\u0275elementEnd(),D.\u0275\u0275template(8,S,2,1,"p",7),D.\u0275\u0275elementEnd(),D.\u0275\u0275elementEnd()),2&c&&(D.\u0275\u0275property("@splashState",s.state)("cfMod",s.mods)("ngStyle",D.\u0275\u0275pureFunction1(8,R,s.backgroundColor)),D.\u0275\u0275advance(3),D.\u0275\u0275textInterpolate(s.title),D.\u0275\u0275advance(2),D.\u0275\u0275property("@logoState",s.logoState),D.\u0275\u0275advance(1),D.\u0275\u0275property("src",s.logo),D.\u0275\u0275advance(1),D.\u0275\u0275property("ngIf","visible"!==s.logoState),D.\u0275\u0275advance(1),D.\u0275\u0275property("ngIf",s.loadingText))},directives:[p.G,F.I,B.NgStyle,N.e,k.b,B.NgIf,O],encapsulation:2,data:{animation:[(0,a.X$)("splashState",[(0,a.SB)(I.Visible,(0,a.oB)({opacity:1,display:"block"})),(0,a.SB)(I.Hidden,(0,a.oB)({opacity:0,display:"none"})),(0,a.eR)(`${I.Hidden} => ${I.Visible}`,[(0,a.oB)({opacity:0}),(0,a.jt)("1s",(0,a.oB)({opacity:1}))]),(0,a.eR)(`${I.Visible} => ${I.Hidden}`,[(0,a.jt)("1s",(0,a.oB)({opacity:0}))])]),(0,a.X$)("logoState",[(0,a.SB)(M.Visible,(0,a.oB)({opacity:1,display:"flex"})),(0,a.SB)(M.Hidden,(0,a.oB)({opacity:0,display:"none"})),(0,a.eR)(`${M.Hidden} => ${M.Visible}`,[(0,a.oB)({display:"flex",opacity:0}),(0,a.jt)("1s",(0,a.oB)({opacity:1}))]),(0,a.eR)(`${M.Visible} => ${M.Hidden}`,[(0,a.jt)("1s",(0,a.oB)({opacity:0}))])])]}}),E})()},2085:(re,U,l)=>{l.d(U,{x:()=>B});var g=l(1457),a=l(4438),D=l(7777);let p=(()=>{class N{}return N.\u0275fac=function(O){return new(O||N)},N.\u0275mod=D.\u0275\u0275defineNgModule({type:N}),N.\u0275inj=D.\u0275\u0275defineInjector({imports:[[a.O]]}),N})();var F=l(2051);let B=(()=>{class N{}return N.\u0275fac=function(O){return new(O||N)},N.\u0275mod=D.\u0275\u0275defineNgModule({type:N}),N.\u0275inj=D.\u0275\u0275defineInjector({imports:[[g.CommonModule,a.O,p,F.Y]]}),N})()},5028:(re,U,l)=>{l.d(U,{M6:()=>M,Kb:()=>E});var g=l(1457),D=l(7777),F=l(9646),B=l(2843),N=l(4004),k=l(8505),O=l(262),w=l(8746),S=l(3099),R=l(7191);const I=new D.InjectionToken("SERVER_URL");let M=(()=>{class y{constructor(s,v,d,K){this.loader=s,this.platformId=v,this.serverUrl=d,this._document=K,this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map,this.document=this._document}addSvg(s,v){if(!this.iconsByUrl.has(s)){const d=this.document.createElement("DIV");d.innerHTML=v;const K=d.querySelector("svg");this.iconsByUrl.set(s,K)}}loadSvg(s,v=s){if(this.serverUrl&&null===s.match(/^(http(s)?):/)&&(v=s=this.serverUrl+s),this.iconsByUrl.has(v))return(0,F.of)(this.iconsByUrl.get(v));if(this.iconsLoadingByUrl.has(v))return this.iconsLoadingByUrl.get(v);const d=this.loader.getSvg(s).pipe((0,N.U)(K=>{const se=this.document.createElement("DIV");return se.innerHTML=K,se.querySelector("svg")}),(0,k.b)(K=>this.iconsByUrl.set(v,K)),(0,O.K)(K=>(console.error(K),(0,B._)(K))),(0,w.x)(()=>this.iconsLoadingByUrl.delete(v)),(0,S.B)());return this.iconsLoadingByUrl.set(v,d),d}getSvgByName(s){return this.iconsByUrl.has(s)?(0,F.of)(this.iconsByUrl.get(s)):this.iconsLoadingByUrl.has(s)?this.iconsLoadingByUrl.get(s):(0,B._)(`No svg with name '${s}' has been loaded`)}unloadSvg(s){this.iconsByUrl.has(s)&&this.iconsByUrl.delete(s)}}return y.\u0275fac=function(s){return new(s||y)(D.\u0275\u0275inject(R.S),D.\u0275\u0275inject(D.PLATFORM_ID),D.\u0275\u0275inject(I,8),D.\u0275\u0275inject(g.DOCUMENT,8))},y.\u0275prov=D.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y})();const E={provide:M,deps:[[new D.Optional,new D.SkipSelf,M],R.S,[D.PLATFORM_ID],[new D.Optional,I],[new D.Optional,g.DOCUMENT]],useFactory:function(y,c,s,v,d){return y||new M(c,s,v,d)}}},9750:(re,U,l)=>{l.d(U,{b:()=>B});var g=l(7777),D=l(5028);const p=["*"];class F{constructor(){this.loaded=!1}}let B=(()=>{class N{constructor(O,w,S,R,I){this.element=O,this.differs=w,this.renderer=S,this.iconReg=R,this.cdr=I,this.stretch=!1,this.applyClass=!1,this.svgClass="icon__svg",this.helper=new F,this._svgStyle=null}set svgStyle(O){this._svgStyle=O,!this.helper.differ&&O&&(this.helper.differ=this.differs.find(O).create())}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}ngOnChanges(O){const w=this.element.nativeElement.firstChild;(O.src||O.name)&&(this.helper.loaded&&this.destroy(),this.init()),O.stretch&&this.stylize(),O.applyClass&&(this.applyClass?this.setClass(w,null,this.klass):this.setClass(w,this.klass,null)),O.svgClass&&this.setClass(w,O.svgClass.previousValue,O.svgClass.currentValue),O.klass&&(this.setClass(this.element.nativeElement,O.klass.previousValue,O.klass.currentValue),this.setClass(w,O.klass.previousValue,this.applyClass?O.klass.currentValue:null)),O.viewBox&&(this.helper.loaded&&this.destroy(),this.init()),O.svgAriaLabel&&this.doAria(O.svgAriaLabel.currentValue)}ngDoCheck(){if(this.helper.svg&&this.helper.differ){const O=this.helper.differ.diff(this._svgStyle);O&&this.applyChanges(O)}}init(){if(this.name){const O=this.iconReg.getSvgByName(this.name);O&&(this.helper.icnSub=O.subscribe(w=>this.initSvg(w)))}else if(this.src){const O=this.iconReg.loadSvg(this.src);O&&(this.helper.icnSub=O.subscribe(w=>this.initSvg(w)))}else this.element.nativeElement.innerHTML="",this.cdr.markForCheck()}initSvg(O){!this.helper.loaded&&O&&(this.setSvg(O),this.resetDiffer())}destroy(){this.helper.icnSub&&this.helper.icnSub.unsubscribe(),this.helper=new F}resetDiffer(){this._svgStyle&&!this.helper.differ&&(this.helper.differ=this.differs.find(this._svgStyle).create())}setSvg(O){if(!this.helper.loaded&&O){this.helper.svg=O;const w=O.cloneNode(!0),S=this.element.nativeElement;if(S.innerHTML="",this.renderer.appendChild(S,w),this.helper.loaded=!0,this.copyNgContentAttribute(S,w),this.klass&&this.applyClass&&this.setClass(S.firstChild,null,this.klass),this.svgClass&&this.setClass(S.firstChild,null,this.svgClass),this.viewBox)if("auto"===this.viewBox){const R=w.getAttribute("width"),I=w.getAttribute("height");I&&R&&(this.renderer.setAttribute(w,"viewBox",`0 0 ${R} ${I}`),this.renderer.removeAttribute(w,"width"),this.renderer.removeAttribute(w,"height"))}else""!==this.viewBox&&(this.renderer.setAttribute(w,"viewBox",this.viewBox),this.renderer.removeAttribute(w,"width"),this.renderer.removeAttribute(w,"height"));this.stylize(),void 0===this.svgAriaLabel&&S.firstChild.hasAttribute("aria-label")||this.doAria(this.svgAriaLabel||""),this.cdr.markForCheck()}}copyNgContentAttribute(O,w){const S=O.attributes,R=S.length;for(let I=0;I<R;I+=1){const M=S.item(I);if(M&&M.name.startsWith("_ngcontent")){this.setNgContentAttribute(w,M.name);break}}}setNgContentAttribute(O,w){this.renderer.setAttribute(O,w,"");const S=O.childNodes.length;for(let R=0;R<S;R+=1){const I=O.childNodes[R];I instanceof Element&&this.setNgContentAttribute(I,w)}}stylize(){if(this.helper.svg){const O=this.element.nativeElement.firstChild;!0===this.stretch?this.renderer.setAttribute(O,"preserveAspectRatio","none"):!1===this.stretch&&this.renderer.removeAttribute(O,"preserveAspectRatio")}}applyChanges(O){O.forEachRemovedItem(w=>this.setStyle(w.key,null)),O.forEachAddedItem(w=>this.setStyle(w.key,w.currentValue)),O.forEachChangedItem(w=>this.setStyle(w.key,w.currentValue))}setStyle(O,w){const[S,R]=O.split("."),I=this.element.nativeElement.firstChild;null!==(w=null!==w&&R?`${w}${R}`:w)?this.renderer.setStyle(I,S,w):this.renderer.removeStyle(I,S)}setClass(O,w,S){if(O){if(w){const R=(Array.isArray(w)?w:w.split(" ")).filter(I=>I);for(const I of R)this.renderer.removeClass(O,I)}if(S){const R=(Array.isArray(S)?S:S.split(" ")).filter(I=>I);for(const I of R)this.renderer.addClass(O,I)}}}doAria(O){const w=this.element.nativeElement.firstChild;w&&(""===O?(this.renderer.setAttribute(w,"aria-hidden","true"),this.renderer.removeAttribute(w,"aria-label")):(this.renderer.removeAttribute(w,"aria-hidden"),this.renderer.setAttribute(w,"aria-label",O)))}}return N.\u0275fac=function(O){return new(O||N)(g.\u0275\u0275directiveInject(g.ElementRef),g.\u0275\u0275directiveInject(g.KeyValueDiffers),g.\u0275\u0275directiveInject(g.Renderer2),g.\u0275\u0275directiveInject(D.M6),g.\u0275\u0275directiveInject(g.ChangeDetectorRef))},N.\u0275cmp=g.\u0275\u0275defineComponent({type:N,selectors:[["cf-svg-icon"]],inputs:{src:"src",name:"name",stretch:"stretch",applyClass:"applyClass",svgClass:"svgClass",klass:["class","klass"],viewBox:"viewBox",svgAriaLabel:"svgAriaLabel",svgStyle:"svgStyle"},features:[g.\u0275\u0275NgOnChangesFeature],ngContentSelectors:p,decls:1,vars:0,template:function(O,w){1&O&&(g.\u0275\u0275projectionDef(),g.\u0275\u0275projection(0))},encapsulation:2}),N})()},2051:(re,U,l)=>{l.d(U,{Y:()=>k});var g=l(1457),D=l(7777),F=l(4438),B=l(5028),N=l(7191);let k=(()=>{class O{static forRoot(S={}){return{ngModule:O,providers:[B.Kb,S.loader||{provide:N.S,useClass:N.o}]}}}return O.\u0275fac=function(S){return new(S||O)},O.\u0275mod=D.\u0275\u0275defineNgModule({type:O}),O.\u0275inj=D.\u0275\u0275defineInjector({imports:[[g.CommonModule,F.O]]}),O})()},7191:(re,U,l)=>{l.d(U,{S:()=>F,o:()=>B});var g=l(9283),D=l(7777);class F{}let B=(()=>{class N extends F{constructor(O){super(),this.http=O}getSvg(O){return this.http.get(O,{responseType:"text"})}}return N.\u0275fac=function(O){return new(O||N)(D.\u0275\u0275inject(g.HttpClient))},N.\u0275prov=D.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac}),N})()},1611:re=>{re.exports=function(l){return function(){var g=arguments.length;if(g){for(var a=[],D=-1;++D<g;)a[D]=arguments[D];return l.call(this,a)}return l.call(this,[])}}},5834:(re,U,l)=>{var g=l(5203),a=l(5685),D=a(g("String.prototype.indexOf"));re.exports=function(F,B){var N=g(F,!!B);return"function"==typeof N&&D(F,".prototype.")>-1?a(N):N}},5685:(re,U,l)=>{var g=l(4444),a=l(5203),D=a("%Function.prototype.apply%"),p=a("%Function.prototype.call%"),F=a("%Reflect.apply%",!0)||g.call(p,D),B=a("%Object.getOwnPropertyDescriptor%",!0),N=a("%Object.defineProperty%",!0),k=a("%Math.max%");if(N)try{N({},"a",{value:1})}catch{N=null}re.exports=function(S){var R=F(g,p,arguments);if(B&&N){var I=B(R,"length");I.configurable&&N(R,"length",{value:1+k(0,S.length-(arguments.length-1))})}return R};var O=function(){return F(g,D,arguments)};N?N(re.exports,"apply",{value:O}):re.exports.apply=O},7466:function(re,U,l){var g;re.exports=(g=l(7585),l(8319),l(9493),l(7865),l(3057),function(){var a=g,p=a.lib.BlockCipher,F=a.algo,B=[],N=[],k=[],O=[],w=[],S=[],R=[],I=[],M=[],T=[];!function(){for(var c=[],s=0;s<256;s++)c[s]=s<128?s<<1:s<<1^283;var v=0,d=0;for(s=0;s<256;s++){var K=d^d<<1^d<<2^d<<3^d<<4;B[v]=K=K>>>8^255&K^99,N[K]=v;var le,se=c[v],ye=c[se],pe=c[ye];k[v]=(le=257*c[K]^16843008*K)<<24|le>>>8,O[v]=le<<16|le>>>16,w[v]=le<<8|le>>>24,S[v]=le,R[K]=(le=16843009*pe^65537*ye^257*se^16843008*v)<<24|le>>>8,I[K]=le<<16|le>>>16,M[K]=le<<8|le>>>24,T[K]=le,v?(v=se^c[c[c[pe^se]]],d^=c[c[d]]):v=d=1}}();var E=[0,1,2,4,8,16,32,64,128,27,54],y=F.AES=p.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var s=this._keyPriorReset=this._key,v=s.words,d=s.sigBytes/4,se=4*((this._nRounds=d+6)+1),ye=this._keySchedule=[],pe=0;pe<se;pe++)pe<d?ye[pe]=v[pe]:(c=ye[pe-1],pe%d?d>6&&pe%d==4&&(c=B[c>>>24]<<24|B[c>>>16&255]<<16|B[c>>>8&255]<<8|B[255&c]):(c=B[(c=c<<8|c>>>24)>>>24]<<24|B[c>>>16&255]<<16|B[c>>>8&255]<<8|B[255&c],c^=E[pe/d|0]<<24),ye[pe]=ye[pe-d]^c);for(var le=this._invKeySchedule=[],Q=0;Q<se;Q++){if(pe=se-Q,Q%4)var c=ye[pe];else c=ye[pe-4];le[Q]=Q<4||pe<=4?c:R[B[c>>>24]]^I[B[c>>>16&255]]^M[B[c>>>8&255]]^T[B[255&c]]}}},encryptBlock:function(c,s){this._doCryptBlock(c,s,this._keySchedule,k,O,w,S,B)},decryptBlock:function(c,s){var v=c[s+1];c[s+1]=c[s+3],c[s+3]=v,this._doCryptBlock(c,s,this._invKeySchedule,R,I,M,T,N),v=c[s+1],c[s+1]=c[s+3],c[s+3]=v},_doCryptBlock:function(c,s,v,d,K,se,ye,pe){for(var le=this._nRounds,Q=c[s]^v[0],z=c[s+1]^v[1],Y=c[s+2]^v[2],V=c[s+3]^v[3],J=4,q=1;q<le;q++){var _e=d[Q>>>24]^K[z>>>16&255]^se[Y>>>8&255]^ye[255&V]^v[J++],Be=d[z>>>24]^K[Y>>>16&255]^se[V>>>8&255]^ye[255&Q]^v[J++],He=d[Y>>>24]^K[V>>>16&255]^se[Q>>>8&255]^ye[255&z]^v[J++],Ee=d[V>>>24]^K[Q>>>16&255]^se[z>>>8&255]^ye[255&Y]^v[J++];Q=_e,z=Be,Y=He,V=Ee}_e=(pe[Q>>>24]<<24|pe[z>>>16&255]<<16|pe[Y>>>8&255]<<8|pe[255&V])^v[J++],Be=(pe[z>>>24]<<24|pe[Y>>>16&255]<<16|pe[V>>>8&255]<<8|pe[255&Q])^v[J++],He=(pe[Y>>>24]<<24|pe[V>>>16&255]<<16|pe[Q>>>8&255]<<8|pe[255&z])^v[J++],Ee=(pe[V>>>24]<<24|pe[Q>>>16&255]<<16|pe[z>>>8&255]<<8|pe[255&Y])^v[J++],c[s]=_e,c[s+1]=Be,c[s+2]=He,c[s+3]=Ee},keySize:8});a.AES=p._createHelper(y)}(),g.AES)},3057:function(re,U,l){var D,p,F,B,N,k,w,R,I,T,E,y,s,d,se,ye,le,Q,g;re.exports=(g=l(7585),l(7865),void(g.lib.Cipher||(D=g,p=D.lib,F=p.Base,B=p.WordArray,N=p.BufferedBlockAlgorithm,k=D.enc,w=k.Base64,R=D.algo.EvpKDF,I=p.Cipher=N.extend({cfg:F.extend(),createEncryptor:function(z,Y){return this.create(this._ENC_XFORM_MODE,z,Y)},createDecryptor:function(z,Y){return this.create(this._DEC_XFORM_MODE,z,Y)},init:function(z,Y,V){this.cfg=this.cfg.extend(V),this._xformMode=z,this._key=Y,this.reset()},reset:function(){N.reset.call(this),this._doReset()},process:function(z){return this._append(z),this._process()},finalize:function(z){return z&&this._append(z),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function z(Y){return"string"==typeof Y?Q:ye}return function(Y){return{encrypt:function(V,J,q){return z(J).encrypt(Y,V,J,q)},decrypt:function(V,J,q){return z(J).decrypt(Y,V,J,q)}}}}()}),p.StreamCipher=I.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),T=D.mode={},E=p.BlockCipherMode=F.extend({createEncryptor:function(z,Y){return this.Encryptor.create(z,Y)},createDecryptor:function(z,Y){return this.Decryptor.create(z,Y)},init:function(z,Y){this._cipher=z,this._iv=Y}}),y=T.CBC=function(){var z=E.extend();function Y(V,J,q){var _e,Be=this._iv;Be?(_e=Be,this._iv=undefined):_e=this._prevBlock;for(var He=0;He<q;He++)V[J+He]^=_e[He]}return z.Encryptor=z.extend({processBlock:function(V,J){var q=this._cipher,_e=q.blockSize;Y.call(this,V,J,_e),q.encryptBlock(V,J),this._prevBlock=V.slice(J,J+_e)}}),z.Decryptor=z.extend({processBlock:function(V,J){var q=this._cipher,_e=q.blockSize,Be=V.slice(J,J+_e);q.decryptBlock(V,J),Y.call(this,V,J,_e),this._prevBlock=Be}}),z}(),s=(D.pad={}).Pkcs7={pad:function(z,Y){for(var V=4*Y,J=V-z.sigBytes%V,q=J<<24|J<<16|J<<8|J,_e=[],Be=0;Be<J;Be+=4)_e.push(q);var He=B.create(_e,J);z.concat(He)},unpad:function(z){z.sigBytes-=255&z.words[z.sigBytes-1>>>2]}},p.BlockCipher=I.extend({cfg:I.cfg.extend({mode:y,padding:s}),reset:function(){var z;I.reset.call(this);var Y=this.cfg,V=Y.iv,J=Y.mode;this._xformMode==this._ENC_XFORM_MODE?z=J.createEncryptor:(z=J.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==z?this._mode.init(this,V&&V.words):(this._mode=z.call(J,this,V&&V.words),this._mode.__creator=z)},_doProcessBlock:function(z,Y){this._mode.processBlock(z,Y)},_doFinalize:function(){var z,Y=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Y.pad(this._data,this.blockSize),z=this._process(!0)):(z=this._process(!0),Y.unpad(z)),z},blockSize:4}),d=p.CipherParams=F.extend({init:function(z){this.mixIn(z)},toString:function(z){return(z||this.formatter).stringify(this)}}),se=(D.format={}).OpenSSL={stringify:function(z){var V=z.ciphertext,J=z.salt;return(J?B.create([1398893684,1701076831]).concat(J).concat(V):V).toString(w)},parse:function(z){var Y,V=w.parse(z),J=V.words;return 1398893684==J[0]&&1701076831==J[1]&&(Y=B.create(J.slice(2,4)),J.splice(0,4),V.sigBytes-=16),d.create({ciphertext:V,salt:Y})}},ye=p.SerializableCipher=F.extend({cfg:F.extend({format:se}),encrypt:function(z,Y,V,J){J=this.cfg.extend(J);var q=z.createEncryptor(V,J),_e=q.finalize(Y),Be=q.cfg;return d.create({ciphertext:_e,key:V,iv:Be.iv,algorithm:z,mode:Be.mode,padding:Be.padding,blockSize:z.blockSize,formatter:J.format})},decrypt:function(z,Y,V,J){return J=this.cfg.extend(J),Y=this._parse(Y,J.format),z.createDecryptor(V,J).finalize(Y.ciphertext)},_parse:function(z,Y){return"string"==typeof z?Y.parse(z,this):z}}),le=(D.kdf={}).OpenSSL={execute:function(z,Y,V,J){J||(J=B.random(8));var q=R.create({keySize:Y+V}).compute(z,J),_e=B.create(q.words.slice(Y),4*V);return q.sigBytes=4*Y,d.create({key:q,iv:_e,salt:J})}},Q=p.PasswordBasedCipher=ye.extend({cfg:ye.cfg.extend({kdf:le}),encrypt:function(z,Y,V,J){var q=(J=this.cfg.extend(J)).kdf.execute(V,z.keySize,z.ivSize);J.iv=q.iv;var _e=ye.encrypt.call(this,z,Y,q.key,J);return _e.mixIn(q),_e},decrypt:function(z,Y,V,J){J=this.cfg.extend(J),Y=this._parse(Y,J.format);var q=J.kdf.execute(V,z.keySize,z.ivSize,Y.salt);return J.iv=q.iv,ye.decrypt.call(this,z,Y,q.key,J)}}))))},7585:function(re,U,l){var g;re.exports=(g=g||function(a,D){var p;if("undefined"!=typeof window&&window.crypto&&(p=window.crypto),"undefined"!=typeof self&&self.crypto&&(p=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(p=globalThis.crypto),!p&&"undefined"!=typeof window&&window.msCrypto&&(p=window.msCrypto),!p&&"undefined"!=typeof global&&global.crypto&&(p=global.crypto),!p)try{p=l(2480)}catch{}var F=function(){if(p){if("function"==typeof p.getRandomValues)try{return p.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof p.randomBytes)try{return p.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},B=Object.create||function(){function c(){}return function(s){var v;return c.prototype=s,v=new c,c.prototype=null,v}}(),N={},k=N.lib={},O=k.Base={extend:function(c){var s=B(this);return c&&s.mixIn(c),(!s.hasOwnProperty("init")||this.init===s.init)&&(s.init=function(){s.$super.init.apply(this,arguments)}),s.init.prototype=s,s.$super=this,s},create:function(){var c=this.extend();return c.init.apply(c,arguments),c},init:function(){},mixIn:function(c){for(var s in c)c.hasOwnProperty(s)&&(this[s]=c[s]);c.hasOwnProperty("toString")&&(this.toString=c.toString)},clone:function(){return this.init.prototype.extend(this)}},w=k.WordArray=O.extend({init:function(c,s){c=this.words=c||[],this.sigBytes=null!=s?s:4*c.length},toString:function(c){return(c||R).stringify(this)},concat:function(c){var s=this.words,v=c.words,d=this.sigBytes,K=c.sigBytes;if(this.clamp(),d%4)for(var se=0;se<K;se++)s[d+se>>>2]|=(v[se>>>2]>>>24-se%4*8&255)<<24-(d+se)%4*8;else for(var pe=0;pe<K;pe+=4)s[d+pe>>>2]=v[pe>>>2];return this.sigBytes+=K,this},clamp:function(){var c=this.words,s=this.sigBytes;c[s>>>2]&=4294967295<<32-s%4*8,c.length=a.ceil(s/4)},clone:function(){var c=O.clone.call(this);return c.words=this.words.slice(0),c},random:function(c){for(var s=[],v=0;v<c;v+=4)s.push(F());return new w.init(s,c)}}),S=N.enc={},R=S.Hex={stringify:function(c){for(var s=c.words,v=c.sigBytes,d=[],K=0;K<v;K++){var se=s[K>>>2]>>>24-K%4*8&255;d.push((se>>>4).toString(16)),d.push((15&se).toString(16))}return d.join("")},parse:function(c){for(var s=c.length,v=[],d=0;d<s;d+=2)v[d>>>3]|=parseInt(c.substr(d,2),16)<<24-d%8*4;return new w.init(v,s/2)}},I=S.Latin1={stringify:function(c){for(var s=c.words,v=c.sigBytes,d=[],K=0;K<v;K++)d.push(String.fromCharCode(s[K>>>2]>>>24-K%4*8&255));return d.join("")},parse:function(c){for(var s=c.length,v=[],d=0;d<s;d++)v[d>>>2]|=(255&c.charCodeAt(d))<<24-d%4*8;return new w.init(v,s)}},M=S.Utf8={stringify:function(c){try{return decodeURIComponent(escape(I.stringify(c)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(c){return I.parse(unescape(encodeURIComponent(c)))}},T=k.BufferedBlockAlgorithm=O.extend({reset:function(){this._data=new w.init,this._nDataBytes=0},_append:function(c){"string"==typeof c&&(c=M.parse(c)),this._data.concat(c),this._nDataBytes+=c.sigBytes},_process:function(c){var s,v=this._data,d=v.words,K=v.sigBytes,se=this.blockSize,pe=K/(4*se),le=(pe=c?a.ceil(pe):a.max((0|pe)-this._minBufferSize,0))*se,Q=a.min(4*le,K);if(le){for(var z=0;z<le;z+=se)this._doProcessBlock(d,z);s=d.splice(0,le),v.sigBytes-=Q}return new w.init(s,Q)},clone:function(){var c=O.clone.call(this);return c._data=this._data.clone(),c},_minBufferSize:0}),y=(k.Hasher=T.extend({cfg:O.extend(),init:function(c){this.cfg=this.cfg.extend(c),this.reset()},reset:function(){T.reset.call(this),this._doReset()},update:function(c){return this._append(c),this._process(),this},finalize:function(c){return c&&this._append(c),this._doFinalize()},blockSize:16,_createHelper:function(c){return function(s,v){return new c.init(v).finalize(s)}},_createHmacHelper:function(c){return function(s,v){return new y.HMAC.init(c,v).finalize(s)}}}),N.algo={});return N}(Math),g)},8319:function(re,U,l){var g,p;re.exports=(g=l(7585),p=g.lib.WordArray,g.enc.Base64={stringify:function(k){var O=k.words,w=k.sigBytes,S=this._map;k.clamp();for(var R=[],I=0;I<w;I+=3)for(var y=(O[I>>>2]>>>24-I%4*8&255)<<16|(O[I+1>>>2]>>>24-(I+1)%4*8&255)<<8|O[I+2>>>2]>>>24-(I+2)%4*8&255,c=0;c<4&&I+.75*c<w;c++)R.push(S.charAt(y>>>6*(3-c)&63));var s=S.charAt(64);if(s)for(;R.length%4;)R.push(s);return R.join("")},parse:function(k){var O=k.length,w=this._map,S=this._reverseMap;if(!S){S=this._reverseMap=[];for(var R=0;R<w.length;R++)S[w.charCodeAt(R)]=R}var I=w.charAt(64);if(I){var M=k.indexOf(I);-1!==M&&(O=M)}return function(k,O,w){for(var S=[],R=0,I=0;I<O;I++)if(I%4){var M=w[k.charCodeAt(I-1)]<<I%4*2,T=w[k.charCodeAt(I)]>>>6-I%4*2;S[R>>>2]|=(M|T)<<24-R%4*8,R++}return p.create(S,R)}(k,O,S)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},g.enc.Base64)},4384:function(re,U,l){re.exports=l(7585).enc.Utf8},7865:function(re,U,l){var a,D,p,F,B,k,g;re.exports=(g=l(7585),l(5162),l(3764),F=(D=(a=g).lib).WordArray,k=(B=a.algo).EvpKDF=(p=D.Base).extend({cfg:p.extend({keySize:4,hasher:B.MD5,iterations:1}),init:function(O){this.cfg=this.cfg.extend(O)},compute:function(O,w){for(var S,R=this.cfg,I=R.hasher.create(),M=F.create(),T=M.words,E=R.keySize,y=R.iterations;T.length<E;){S&&I.update(S),S=I.update(O).finalize(w),I.reset();for(var c=1;c<y;c++)S=I.finalize(S),I.reset();M.concat(S)}return M.sigBytes=4*E,M}}),a.EvpKDF=function(O,w,S){return k.create(S).compute(O,w)},g.EvpKDF)},3764:function(re,U,l){var g,B;re.exports=(g=l(7585),B=g.enc.Utf8,void(g.algo.HMAC=g.lib.Base.extend({init:function(O,w){O=this._hasher=new O.init,"string"==typeof w&&(w=B.parse(w));var S=O.blockSize,R=4*S;w.sigBytes>R&&(w=O.finalize(w)),w.clamp();for(var I=this._oKey=w.clone(),M=this._iKey=w.clone(),T=I.words,E=M.words,y=0;y<S;y++)T[y]^=1549556828,E[y]^=909522486;I.sigBytes=M.sigBytes=R,this.reset()},reset:function(){var O=this._hasher;O.reset(),O.update(this._iKey)},update:function(O){return this._hasher.update(O),this},finalize:function(O){var w=this._hasher,S=w.finalize(O);return w.reset(),w.finalize(this._oKey.clone().concat(S))}})))},9493:function(re,U,l){var g;re.exports=(g=l(7585),function(a){var D=g,p=D.lib,F=p.WordArray,B=p.Hasher,N=D.algo,k=[];!function(){for(var M=0;M<64;M++)k[M]=4294967296*a.abs(a.sin(M+1))|0}();var O=N.MD5=B.extend({_doReset:function(){this._hash=new F.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(M,T){for(var E=0;E<16;E++){var y=T+E,c=M[y];M[y]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var s=this._hash.words,v=M[T+0],d=M[T+1],K=M[T+2],se=M[T+3],ye=M[T+4],pe=M[T+5],le=M[T+6],Q=M[T+7],z=M[T+8],Y=M[T+9],V=M[T+10],J=M[T+11],q=M[T+12],_e=M[T+13],Be=M[T+14],He=M[T+15],Ee=s[0],ve=s[1],ne=s[2],ce=s[3];Ee=w(Ee,ve,ne,ce,v,7,k[0]),ce=w(ce,Ee,ve,ne,d,12,k[1]),ne=w(ne,ce,Ee,ve,K,17,k[2]),ve=w(ve,ne,ce,Ee,se,22,k[3]),Ee=w(Ee,ve,ne,ce,ye,7,k[4]),ce=w(ce,Ee,ve,ne,pe,12,k[5]),ne=w(ne,ce,Ee,ve,le,17,k[6]),ve=w(ve,ne,ce,Ee,Q,22,k[7]),Ee=w(Ee,ve,ne,ce,z,7,k[8]),ce=w(ce,Ee,ve,ne,Y,12,k[9]),ne=w(ne,ce,Ee,ve,V,17,k[10]),ve=w(ve,ne,ce,Ee,J,22,k[11]),Ee=w(Ee,ve,ne,ce,q,7,k[12]),ce=w(ce,Ee,ve,ne,_e,12,k[13]),ne=w(ne,ce,Ee,ve,Be,17,k[14]),Ee=S(Ee,ve=w(ve,ne,ce,Ee,He,22,k[15]),ne,ce,d,5,k[16]),ce=S(ce,Ee,ve,ne,le,9,k[17]),ne=S(ne,ce,Ee,ve,J,14,k[18]),ve=S(ve,ne,ce,Ee,v,20,k[19]),Ee=S(Ee,ve,ne,ce,pe,5,k[20]),ce=S(ce,Ee,ve,ne,V,9,k[21]),ne=S(ne,ce,Ee,ve,He,14,k[22]),ve=S(ve,ne,ce,Ee,ye,20,k[23]),Ee=S(Ee,ve,ne,ce,Y,5,k[24]),ce=S(ce,Ee,ve,ne,Be,9,k[25]),ne=S(ne,ce,Ee,ve,se,14,k[26]),ve=S(ve,ne,ce,Ee,z,20,k[27]),Ee=S(Ee,ve,ne,ce,_e,5,k[28]),ce=S(ce,Ee,ve,ne,K,9,k[29]),ne=S(ne,ce,Ee,ve,Q,14,k[30]),Ee=R(Ee,ve=S(ve,ne,ce,Ee,q,20,k[31]),ne,ce,pe,4,k[32]),ce=R(ce,Ee,ve,ne,z,11,k[33]),ne=R(ne,ce,Ee,ve,J,16,k[34]),ve=R(ve,ne,ce,Ee,Be,23,k[35]),Ee=R(Ee,ve,ne,ce,d,4,k[36]),ce=R(ce,Ee,ve,ne,ye,11,k[37]),ne=R(ne,ce,Ee,ve,Q,16,k[38]),ve=R(ve,ne,ce,Ee,V,23,k[39]),Ee=R(Ee,ve,ne,ce,_e,4,k[40]),ce=R(ce,Ee,ve,ne,v,11,k[41]),ne=R(ne,ce,Ee,ve,se,16,k[42]),ve=R(ve,ne,ce,Ee,le,23,k[43]),Ee=R(Ee,ve,ne,ce,Y,4,k[44]),ce=R(ce,Ee,ve,ne,q,11,k[45]),ne=R(ne,ce,Ee,ve,He,16,k[46]),Ee=I(Ee,ve=R(ve,ne,ce,Ee,K,23,k[47]),ne,ce,v,6,k[48]),ce=I(ce,Ee,ve,ne,Q,10,k[49]),ne=I(ne,ce,Ee,ve,Be,15,k[50]),ve=I(ve,ne,ce,Ee,pe,21,k[51]),Ee=I(Ee,ve,ne,ce,q,6,k[52]),ce=I(ce,Ee,ve,ne,se,10,k[53]),ne=I(ne,ce,Ee,ve,V,15,k[54]),ve=I(ve,ne,ce,Ee,d,21,k[55]),Ee=I(Ee,ve,ne,ce,z,6,k[56]),ce=I(ce,Ee,ve,ne,He,10,k[57]),ne=I(ne,ce,Ee,ve,le,15,k[58]),ve=I(ve,ne,ce,Ee,_e,21,k[59]),Ee=I(Ee,ve,ne,ce,ye,6,k[60]),ce=I(ce,Ee,ve,ne,J,10,k[61]),ne=I(ne,ce,Ee,ve,K,15,k[62]),ve=I(ve,ne,ce,Ee,Y,21,k[63]),s[0]=s[0]+Ee|0,s[1]=s[1]+ve|0,s[2]=s[2]+ne|0,s[3]=s[3]+ce|0},_doFinalize:function(){var M=this._data,T=M.words,E=8*this._nDataBytes,y=8*M.sigBytes;T[y>>>5]|=128<<24-y%32;var c=a.floor(E/4294967296),s=E;T[15+(y+64>>>9<<4)]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),T[14+(y+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),M.sigBytes=4*(T.length+1),this._process();for(var v=this._hash,d=v.words,K=0;K<4;K++){var se=d[K];d[K]=16711935&(se<<8|se>>>24)|4278255360&(se<<24|se>>>8)}return v},clone:function(){var M=B.clone.call(this);return M._hash=this._hash.clone(),M}});function w(M,T,E,y,c,s,v){var d=M+(T&E|~T&y)+c+v;return(d<<s|d>>>32-s)+T}function S(M,T,E,y,c,s,v){var d=M+(T&y|E&~y)+c+v;return(d<<s|d>>>32-s)+T}function R(M,T,E,y,c,s,v){var d=M+(T^E^y)+c+v;return(d<<s|d>>>32-s)+T}function I(M,T,E,y,c,s,v){var d=M+(E^(T|~y))+c+v;return(d<<s|d>>>32-s)+T}D.MD5=B._createHelper(O),D.HmacMD5=B._createHmacHelper(O)}(Math),g.MD5)},5162:function(re,U,l){var a,D,p,F,N,k,g;re.exports=(g=l(7585),p=(D=(a=g).lib).WordArray,N=[],k=a.algo.SHA1=(F=D.Hasher).extend({_doReset:function(){this._hash=new p.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,w){for(var S=this._hash.words,R=S[0],I=S[1],M=S[2],T=S[3],E=S[4],y=0;y<80;y++){if(y<16)N[y]=0|O[w+y];else{var c=N[y-3]^N[y-8]^N[y-14]^N[y-16];N[y]=c<<1|c>>>31}var s=(R<<5|R>>>27)+E+N[y];s+=y<20?1518500249+(I&M|~I&T):y<40?1859775393+(I^M^T):y<60?(I&M|I&T|M&T)-1894007588:(I^M^T)-899497514,E=T,T=M,M=I<<30|I>>>2,I=R,R=s}S[0]=S[0]+R|0,S[1]=S[1]+I|0,S[2]=S[2]+M|0,S[3]=S[3]+T|0,S[4]=S[4]+E|0},_doFinalize:function(){var O=this._data,w=O.words,S=8*this._nDataBytes,R=8*O.sigBytes;return w[R>>>5]|=128<<24-R%32,w[14+(R+64>>>9<<4)]=Math.floor(S/4294967296),w[15+(R+64>>>9<<4)]=S,O.sigBytes=4*w.length,this._process(),this._hash},clone:function(){var O=F.clone.call(this);return O._hash=this._hash.clone(),O}}),a.SHA1=F._createHelper(k),a.HmacSHA1=F._createHmacHelper(k),g.SHA1)},6952:(re,U,l)=>{var g=l(1356),a=l(3407),D=l(2e3),p=l(2342),F=l(9235),B=l(2374),N=Date.prototype.getTime;function O(R){return null==R}function w(R){return!(!R||"object"!=typeof R||"number"!=typeof R.length||"function"!=typeof R.copy||"function"!=typeof R.slice||R.length>0&&"number"!=typeof R[0])}re.exports=function k(R,I,M){var T=M||{};return!!(T.strict?D(R,I):R===I)||(!R||!I||"object"!=typeof R&&"object"!=typeof I?T.strict?D(R,I):R==I:function(R,I,M){var T,E;if(typeof R!=typeof I||O(R)||O(I)||R.prototype!==I.prototype||a(R)!==a(I))return!1;var y=p(R),c=p(I);if(y!==c)return!1;if(y||c)return R.source===I.source&&F(R)===F(I);if(B(R)&&B(I))return N.call(R)===N.call(I);var s=w(R),v=w(I);if(s!==v)return!1;if(s||v){if(R.length!==I.length)return!1;for(T=0;T<R.length;T++)if(R[T]!==I[T])return!1;return!0}if(typeof R!=typeof I)return!1;try{var d=g(R),K=g(I)}catch{return!1}if(d.length!==K.length)return!1;for(d.sort(),K.sort(),T=d.length-1;T>=0;T--)if(d[T]!=K[T])return!1;for(T=d.length-1;T>=0;T--)if(!k(R[E=d[T]],I[E],M))return!1;return!0}(R,I,T))}},4949:re=>{re.exports=function U(l){return Object.freeze(l),Object.getOwnPropertyNames(l).forEach(function(g){l.hasOwnProperty(g)&&null!==l[g]&&("object"==typeof l[g]||"function"==typeof l[g])&&!Object.isFrozen(l[g])&&U(l[g])}),l}},2358:(re,U,l)=>{var g=l(1356),a="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),D=Object.prototype.toString,p=Array.prototype.concat,F=Object.defineProperty,k=F&&function(){var S={};try{for(var R in F(S,"x",{enumerable:!1,value:S}),S)return!1;return S.x===S}catch{return!1}}(),O=function(S,R,I,M){R in S&&(!function(S){return"function"==typeof S&&"[object Function]"===D.call(S)}(M)||!M())||(k?F(S,R,{configurable:!0,enumerable:!1,value:I,writable:!0}):S[R]=I)},w=function(S,R){var I=arguments.length>2?arguments[2]:{},M=g(R);a&&(M=p.call(M,Object.getOwnPropertySymbols(R)));for(var T=0;T<M.length;T+=1)O(S,M[T],R[M[T]],I[M[T]])};w.supportsDescriptors=!!k,re.exports=w},9069:re=>{var g,U="object"==typeof Reflect?Reflect:null,l=U&&"function"==typeof U.apply?U.apply:function(v,d,K){return Function.prototype.apply.call(v,d,K)};g=U&&"function"==typeof U.ownKeys?U.ownKeys:Object.getOwnPropertySymbols?function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:function(v){return Object.getOwnPropertyNames(v)};var D=Number.isNaN||function(v){return v!=v};function p(){p.init.call(this)}re.exports=p,re.exports.once=function(s,v){return new Promise(function(d,K){function se(pe){s.removeListener(v,ye),K(pe)}function ye(){"function"==typeof s.removeListener&&s.removeListener("error",se),d([].slice.call(arguments))}c(s,v,ye,{once:!0}),"error"!==v&&function(s,v,d){"function"==typeof s.on&&c(s,"error",v,{once:!0})}(s,se)})},p.EventEmitter=p,p.prototype._events=void 0,p.prototype._eventsCount=0,p.prototype._maxListeners=void 0;var F=10;function B(s){if("function"!=typeof s)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof s)}function N(s){return void 0===s._maxListeners?p.defaultMaxListeners:s._maxListeners}function k(s,v,d,K){var se,ye,pe;if(B(d),void 0===(ye=s._events)?(ye=s._events=Object.create(null),s._eventsCount=0):(void 0!==ye.newListener&&(s.emit("newListener",v,d.listener?d.listener:d),ye=s._events),pe=ye[v]),void 0===pe)pe=ye[v]=d,++s._eventsCount;else if("function"==typeof pe?pe=ye[v]=K?[d,pe]:[pe,d]:K?pe.unshift(d):pe.push(d),(se=N(s))>0&&pe.length>se&&!pe.warned){pe.warned=!0;var le=new Error("Possible EventEmitter memory leak detected. "+pe.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");le.name="MaxListenersExceededWarning",le.emitter=s,le.type=v,le.count=pe.length,function(s){console&&console.warn&&console.warn(s)}(le)}return s}function O(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w(s,v,d){var K={fired:!1,wrapFn:void 0,target:s,type:v,listener:d},se=O.bind(K);return se.listener=d,K.wrapFn=se,se}function S(s,v,d){var K=s._events;if(void 0===K)return[];var se=K[v];return void 0===se?[]:"function"==typeof se?d?[se.listener||se]:[se]:d?function(s){for(var v=new Array(s.length),d=0;d<v.length;++d)v[d]=s[d].listener||s[d];return v}(se):I(se,se.length)}function R(s){var v=this._events;if(void 0!==v){var d=v[s];if("function"==typeof d)return 1;if(void 0!==d)return d.length}return 0}function I(s,v){for(var d=new Array(v),K=0;K<v;++K)d[K]=s[K];return d}function c(s,v,d,K){if("function"==typeof s.on)K.once?s.once(v,d):s.on(v,d);else{if("function"!=typeof s.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof s);s.addEventListener(v,function se(ye){K.once&&s.removeEventListener(v,se),d(ye)})}}Object.defineProperty(p,"defaultMaxListeners",{enumerable:!0,get:function(){return F},set:function(s){if("number"!=typeof s||s<0||D(s))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+s+".");F=s}}),p.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},p.prototype.setMaxListeners=function(v){if("number"!=typeof v||v<0||D(v))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+v+".");return this._maxListeners=v,this},p.prototype.getMaxListeners=function(){return N(this)},p.prototype.emit=function(v){for(var d=[],K=1;K<arguments.length;K++)d.push(arguments[K]);var se="error"===v,ye=this._events;if(void 0!==ye)se=se&&void 0===ye.error;else if(!se)return!1;if(se){var pe;if(d.length>0&&(pe=d[0]),pe instanceof Error)throw pe;var le=new Error("Unhandled error."+(pe?" ("+pe.message+")":""));throw le.context=pe,le}var Q=ye[v];if(void 0===Q)return!1;if("function"==typeof Q)l(Q,this,d);else{var z=Q.length,Y=I(Q,z);for(K=0;K<z;++K)l(Y[K],this,d)}return!0},p.prototype.on=p.prototype.addListener=function(v,d){return k(this,v,d,!1)},p.prototype.prependListener=function(v,d){return k(this,v,d,!0)},p.prototype.once=function(v,d){return B(d),this.on(v,w(this,v,d)),this},p.prototype.prependOnceListener=function(v,d){return B(d),this.prependListener(v,w(this,v,d)),this},p.prototype.off=p.prototype.removeListener=function(v,d){var K,se,ye,pe,le;if(B(d),void 0===(se=this._events))return this;if(void 0===(K=se[v]))return this;if(K===d||K.listener===d)0==--this._eventsCount?this._events=Object.create(null):(delete se[v],se.removeListener&&this.emit("removeListener",v,K.listener||d));else if("function"!=typeof K){for(ye=-1,pe=K.length-1;pe>=0;pe--)if(K[pe]===d||K[pe].listener===d){le=K[pe].listener,ye=pe;break}if(ye<0)return this;0===ye?K.shift():function(s,v){for(;v+1<s.length;v++)s[v]=s[v+1];s.pop()}(K,ye),1===K.length&&(se[v]=K[0]),void 0!==se.removeListener&&this.emit("removeListener",v,le||d)}return this},p.prototype.removeAllListeners=function(v){var d,K,se;if(void 0===(K=this._events))return this;if(void 0===K.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==K[v]&&(0==--this._eventsCount?this._events=Object.create(null):delete K[v]),this;if(0===arguments.length){var pe,ye=Object.keys(K);for(se=0;se<ye.length;++se)"removeListener"!==(pe=ye[se])&&this.removeAllListeners(pe);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(d=K[v]))this.removeListener(v,d);else if(void 0!==d)for(se=d.length-1;se>=0;se--)this.removeListener(v,d[se]);return this},p.prototype.listeners=function(v){return S(this,v,!0)},p.prototype.rawListeners=function(v){return S(this,v,!1)},p.listenerCount=function(s,v){return"function"==typeof s.listenerCount?s.listenerCount(v):R.call(s,v)},p.prototype.listenerCount=R,p.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]}},2559:re=>{re.exports=function U(l,g){if(l===g)return!0;if(l&&g&&"object"==typeof l&&"object"==typeof g){if(l.constructor!==g.constructor)return!1;var a,D,p;if(Array.isArray(l)){if((a=l.length)!=g.length)return!1;for(D=a;0!=D--;)if(!U(l[D],g[D]))return!1;return!0}if(l.constructor===RegExp)return l.source===g.source&&l.flags===g.flags;if(l.valueOf!==Object.prototype.valueOf)return l.valueOf()===g.valueOf();if(l.toString!==Object.prototype.toString)return l.toString()===g.toString();if((a=(p=Object.keys(l)).length)!==Object.keys(g).length)return!1;for(D=a;0!=D--;)if(!Object.prototype.hasOwnProperty.call(g,p[D]))return!1;for(D=a;0!=D--;){var F=p[D];if(!U(l[F],g[F]))return!1}return!0}return l!=l&&g!=g}},9076:re=>{var U=Object.prototype.hasOwnProperty,l=Object.prototype.toString;re.exports=function(a,D,p){if("[object Function]"!==l.call(D))throw new TypeError("iterator must be a function");var F=a.length;if(F===+F)for(var B=0;B<F;B++)D.call(p,a[B],B,a);else for(var N in a)U.call(a,N)&&D.call(p,a[N],N,a)}},3457:re=>{var U="Function.prototype.bind called on incompatible ",l=Array.prototype.slice,g=Object.prototype.toString,a="[object Function]";re.exports=function(p){var F=this;if("function"!=typeof F||g.call(F)!==a)throw new TypeError(U+F);for(var N,B=l.call(arguments,1),k=function(){if(this instanceof N){var I=F.apply(this,B.concat(l.call(arguments)));return Object(I)===I?I:this}return F.apply(p,B.concat(l.call(arguments)))},O=Math.max(0,F.length-B.length),w=[],S=0;S<O;S++)w.push("$"+S);if(N=Function("binder","return function ("+w.join(",")+"){ return binder.apply(this,arguments); }")(k),F.prototype){var R=function(){};R.prototype=F.prototype,N.prototype=new R,R.prototype=null}return N}},4444:(re,U,l)=>{var g=l(3457);re.exports=Function.prototype.bind||g},1227:(re,U,l)=>{for(var g=l(6788),a=l(7549),D=/[\{\[]/,p=/[\}\]]/,F=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],B={},N=0;N<F.length;N++)B[F[N]]=!0;var k=function(S){return a(S)&&!B.hasOwnProperty(S)},O={s:function(S){return""+S},d:function(S){return""+Number(S)},o:function(S){return JSON.stringify(S)}},w=function(){var S=[],R=0,I={},M=function(y){for(var c="";c.length<2*R;)c+="  ";S.push(c+y)},T=function(y){return p.test(y.trim()[0])&&D.test(y[y.length-1])?(R--,M(y),void R++):D.test(y[y.length-1])?(M(y),void R++):p.test(y.trim()[0])?(R--,void M(y)):void M(y)},E=function(y){if(!y)return E;if(1===arguments.length&&y.indexOf("\n")>-1)for(var c=y.trim().split("\n"),s=0;s<c.length;s++)T(c[s].trim());else T(g.format.apply(g,arguments));return E};return E.scope={},E.formats=O,E.sym=function(y){return(!y||!k(y))&&(y="tmp"),I[y]||(I[y]=0),y+(I[y]++||"")},E.property=function(y,c){return 1===arguments.length&&(c=y,y=""),a(c+="")?y?y+"."+c:c:y?y+"["+JSON.stringify(c)+"]":JSON.stringify(c)},E.toString=function(){return S.join("\n")},E.toFunction=function(y){y||(y={});var c="return ("+E.toString()+")";Object.keys(E.scope).forEach(function(d){y[d]||(y[d]=E.scope[d])});var s=Object.keys(y).map(function(d){return d}),v=s.map(function(d){return y[d]});return Function.apply(null,s.concat(c)).apply(null,v)},arguments.length&&E.apply(null,arguments),E};w.formats=O,re.exports=w},2562:(re,U,l)=>{var g=l(7549),a=function(D,p){return g(p)?D+"."+p:D+"["+JSON.stringify(p)+"]"};a.valid=g,a.property=function(D){return g(D)?D:JSON.stringify(D)},re.exports=a},5203:(re,U,l)=>{var g,a=SyntaxError,D=Function,p=TypeError,F=function(le){try{return D('"use strict"; return ('+le+").constructor;")()}catch{}},B=Object.getOwnPropertyDescriptor;if(B)try{B({},"")}catch{B=null}var N=function(){throw new p},k=B?function(){try{return N}catch{try{return B(arguments,"callee").get}catch{return N}}}():N,O=l(2969)(),w=Object.getPrototypeOf||function(le){return le.__proto__},S={},R="undefined"==typeof Uint8Array?g:w(Uint8Array),I={"%AggregateError%":"undefined"==typeof AggregateError?g:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?g:ArrayBuffer,"%ArrayIteratorPrototype%":O?w([][Symbol.iterator]()):g,"%AsyncFromSyncIteratorPrototype%":g,"%AsyncFunction%":S,"%AsyncGenerator%":S,"%AsyncGeneratorFunction%":S,"%AsyncIteratorPrototype%":S,"%Atomics%":"undefined"==typeof Atomics?g:Atomics,"%BigInt%":"undefined"==typeof BigInt?g:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?g:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?g:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?g:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?g:FinalizationRegistry,"%Function%":D,"%GeneratorFunction%":S,"%Int8Array%":"undefined"==typeof Int8Array?g:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?g:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?g:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":O?w(w([][Symbol.iterator]())):g,"%JSON%":"object"==typeof JSON?JSON:g,"%Map%":"undefined"==typeof Map?g:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&O?w((new Map)[Symbol.iterator]()):g,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?g:Promise,"%Proxy%":"undefined"==typeof Proxy?g:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?g:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?g:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&O?w((new Set)[Symbol.iterator]()):g,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?g:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":O?w(""[Symbol.iterator]()):g,"%Symbol%":O?Symbol:g,"%SyntaxError%":a,"%ThrowTypeError%":k,"%TypedArray%":R,"%TypeError%":p,"%Uint8Array%":"undefined"==typeof Uint8Array?g:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?g:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?g:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?g:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?g:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?g:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?g:WeakSet},M=function le(Q){var z;if("%AsyncFunction%"===Q)z=F("async function () {}");else if("%GeneratorFunction%"===Q)z=F("function* () {}");else if("%AsyncGeneratorFunction%"===Q)z=F("async function* () {}");else if("%AsyncGenerator%"===Q){var Y=le("%AsyncGeneratorFunction%");Y&&(z=Y.prototype)}else if("%AsyncIteratorPrototype%"===Q){var V=le("%AsyncGenerator%");V&&(z=w(V.prototype))}return I[Q]=z,z},T={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},E=l(4444),y=l(3164),c=E.call(Function.call,Array.prototype.concat),s=E.call(Function.apply,Array.prototype.splice),v=E.call(Function.call,String.prototype.replace),d=E.call(Function.call,String.prototype.slice),K=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,se=/\\(\\)?/g,ye=function(Q){var z=d(Q,0,1),Y=d(Q,-1);if("%"===z&&"%"!==Y)throw new a("invalid intrinsic syntax, expected closing `%`");if("%"===Y&&"%"!==z)throw new a("invalid intrinsic syntax, expected opening `%`");var V=[];return v(Q,K,function(J,q,_e,Be){V[V.length]=_e?v(Be,se,"$1"):q||J}),V},pe=function(Q,z){var V,Y=Q;if(y(T,Y)&&(Y="%"+(V=T[Y])[0]+"%"),y(I,Y)){var J=I[Y];if(J===S&&(J=M(Y)),void 0===J&&!z)throw new p("intrinsic "+Q+" exists, but is not available. Please file an issue!");return{alias:V,name:Y,value:J}}throw new a("intrinsic "+Q+" does not exist!")};re.exports=function(Q,z){if("string"!=typeof Q||0===Q.length)throw new p("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof z)throw new p('"allowMissing" argument must be a boolean');var Y=ye(Q),V=Y.length>0?Y[0]:"",J=pe("%"+V+"%",z),q=J.name,_e=J.value,Be=!1,He=J.alias;He&&(V=He[0],s(Y,c([0,1],He)));for(var Ee=1,ve=!0;Ee<Y.length;Ee+=1){var ne=Y[Ee],ce=d(ne,0,1),De=d(ne,-1);if(('"'===ce||"'"===ce||"`"===ce||'"'===De||"'"===De||"`"===De)&&ce!==De)throw new a("property names with quotes must have matching quotes");if(("constructor"===ne||!ve)&&(Be=!0),y(I,q="%"+(V+="."+ne)+"%"))_e=I[q];else if(null!=_e){if(!(ne in _e)){if(!z)throw new p("base intrinsic for "+Q+" exists, but the property is not available.");return}if(B&&Ee+1>=Y.length){var Fe=B(_e,ne);_e=(ve=!!Fe)&&"get"in Fe&&!("originalValue"in Fe.get)?Fe.get:_e[ne]}else ve=y(_e,ne),_e=_e[ne];ve&&!Be&&(I[q]=_e)}}return _e}},2969:(re,U,l)=>{var g="undefined"!=typeof Symbol&&Symbol,a=l(1983);re.exports=function(){return"function"==typeof g&&"function"==typeof Symbol&&"symbol"==typeof g("foo")&&"symbol"==typeof Symbol("bar")&&a()}},1983:re=>{re.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var l={},g=Symbol("test"),a=Object(g);if("string"==typeof g||"[object Symbol]"!==Object.prototype.toString.call(g)||"[object Symbol]"!==Object.prototype.toString.call(a))return!1;for(g in l[g]=42,l)return!1;if("function"==typeof Object.keys&&0!==Object.keys(l).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(l).length)return!1;var p=Object.getOwnPropertySymbols(l);if(1!==p.length||p[0]!==g||!Object.prototype.propertyIsEnumerable.call(l,g))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var F=Object.getOwnPropertyDescriptor(l,g);if(42!==F.value||!0!==F.enumerable)return!1}return!0}},6259:(re,U,l)=>{var g=l(1983);re.exports=function(){return g()&&!!Symbol.toStringTag}},3164:(re,U,l)=>{var g=l(4444);re.exports=g.call(Function.call,Object.prototype.hasOwnProperty)},3894:re=>{re.exports="function"==typeof Object.create?function(l,g){g&&(l.super_=g,l.prototype=Object.create(g.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}))}:function(l,g){if(g){l.super_=g;var a=function(){};a.prototype=g.prototype,l.prototype=new a,l.prototype.constructor=l}}},3407:(re,U,l)=>{var g=l(6259)(),D=l(5834)("Object.prototype.toString"),p=function(k){return!(g&&k&&"object"==typeof k&&Symbol.toStringTag in k)&&"[object Arguments]"===D(k)},F=function(k){return!!p(k)||null!==k&&"object"==typeof k&&"number"==typeof k.length&&k.length>=0&&"[object Array]"!==D(k)&&"[object Function]"===D(k.callee)},B=function(){return p(arguments)}();p.isLegacyArguments=F,re.exports=B?p:F},2374:(re,U,l)=>{var g=Date.prototype.getDay,D=Object.prototype.toString,F=l(6259)();re.exports=function(N){return"object"==typeof N&&null!==N&&(F?function(N){try{return g.call(N),!0}catch{return!1}}(N):"[object Date]"===D.call(N))}},9456:re=>{re.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||"undefined"!=typeof process&&"object"==typeof process.versions&&!!process.versions.electron||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}},110:(re,U,l)=>{var N,g=Object.prototype.toString,a=Function.prototype.toString,D=/^\s*(?:function)?\*/,p=l(6259)(),F=Object.getPrototypeOf;re.exports=function(O){if("function"!=typeof O)return!1;if(D.test(a.call(O)))return!0;if(!p)return"[object GeneratorFunction]"===g.call(O);if(!F)return!1;if(void 0===N){var S=function(){if(!p)return!1;try{return Function("return function*() {}")()}catch{}}();N=!!S&&F(S)}return F(O)===N}},1570:re=>{var U=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l=/\/\d{1,3}(?=%|$)/,g=/\//,a=/%.*$/,D=/([^0-9a-f:/%])/i,p=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function F(k){if(!U.test(k))return!1;var O=k.split(".");if(4!==O.length||"0"===O[0][0]&&O[0].length>1||"0"===O[1][0]&&O[1].length>1||"0"===O[2][0]&&O[2].length>1||"0"===O[3][0]&&O[3].length>1)return!1;var w=Number(O[0]),S=Number(O[1]),R=Number(O[2]),I=Number(O[3]);return w>=0&&w<256&&S>=0&&S<256&&R>=0&&R<256&&I>=0&&I<256}function B(k){var O=k.replace(l,""),w=k.length!==O.length;if(w||!w&&g.test(k))return!1;var S=O.replace(a,""),R=S.lastIndexOf(":");if(-1===R)return!1;var T=F(S.substring(R+1))?S.substring(0,R+1)+"1234:5678":S;if(D.test(T)||p.test(T))return!1;var E=T.split("::");if(E.length>2)return!1;if(2===E.length){var y=""===E[0]?[]:E[0].split(":"),c=""===E[1]?[]:E[1].split(":");if(8-(y.length+c.length)<=0)return!1}else if(8!==T.split(":").length)return!1;return!0}function N(k){return F(k)||B(k)}re.exports=function(O){if(O||(O={}),4===O.version)return F;if(6===O.version)return B;if(null==O.version)return N;throw new Error("Unknown version: "+O.version)},re.exports.__all_regexes__=[U,l,g,a,D,p]},1367:(re,U,l)=>{var g=l(1570),a=/\s/,D=/^[a-zA-Z0-9.-]+$/,p=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,F=/^\+[0-9][0-9 ]{5,27}[0-9]$/,B=/ {2}/,N=/ /g;U["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,U.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,U.time=/^\d{2}:\d{2}:\d{2}$/,U.email=function(k){return-1!==k.indexOf("@")&&!a.test(k)},U["ip-address"]=U.ipv4=g({version:4}),U.ipv6=g({version:6}),U.uri=/^[a-zA-Z][a-zA-Z0-9+\-.]*:[^\s]*$/,U.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,U.hostname=function(k){if(!D.test(k))return!1;for(var O=k.split("."),w=0;w<O.length;w++)if(!p.test(O[w]))return!1;return!0},U.alpha=/^[a-zA-Z]+$/,U.alphanumeric=/^[a-zA-Z0-9]+$/,U.style=/.:\s*[^;]/g,U.phone=function(k){if(!F.test(k)||B.test(k))return!1;var O=k.substring(1).replace(N,"").length;return O>=7&&O<=15},U["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/},8167:(re,U,l)=>{var g=l(2562),a=l(1227),D=l(6936),p=l(1995),F=l(1367),N={any:function(){return"true"},null:function(R){return R+" === null"},boolean:function(R){return"typeof "+R+' === "boolean"'},array:function(R){return"Array.isArray("+R+")"},object:function(R){return"typeof "+R+' === "object" && '+R+" && !Array.isArray("+R+")"},number:function(R){return"typeof "+R+' === "number" && isFinite('+R+")"},integer:function(R){return"typeof "+R+' === "number" && (Math.floor('+R+") === "+R+" || "+R+" > 9007199254740992 || "+R+" < -9007199254740992)"},string:function(R){return"typeof "+R+' === "string"'}},k=function(R,I){I=Math.min(-1===I?R.length:I,R.length);for(var M=[],T=0;T<I;T++)M.push("object"==typeof R[T]?JSON.stringify(R[T]):R[T]);for(T=1;T<M.length;T++)if(M.indexOf(M[T])!==T)return!1;return!0},O=function(R,I){var T=(0|I)!==I?Math.pow(10,I.toString().split(".").pop().length):1;return!(T>1?((0|R)!==R?Math.pow(10,R.toString().split(".").pop().length):1)>T||Math.round(T*R)%(T*I):R%I)},w=function(R,I,M){return M>-1&&I.length>M||R.test(I)},S=function(R,I,M,T,E){var y=E?p(F,E.formats):F,c={unique:k,formats:y,isMultipleOf:O,testLimitedRegex:w},s=!!E&&!!E.verbose,v=!(!E||void 0===E.greedy)&&E.greedy,d={},K=[],se=function(J){var q=J+(d[J]=(d[J]||0)+1);return K.push(q),q},ye=function(J){var q=JSON.stringify(J);try{for(var _e=/\[([^\[\]"]+)\]/;_e.test(q);)q=q.replace(_e,Be);return q}catch{return JSON.stringify(J)}function Be(He,Ee){if(-1===K.indexOf(Ee))throw new Error("Unreplaceable");return'." + '+Ee+' + "'}},pe={},le=function(J){if(pe[J])return pe[J];var q=se("pattern");return c[q]=new RegExp(J),pe[J]=q,q},Q=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],z=function(){var J=Q.shift();return Q.push(J+J[0]),K.push(J),J},Y=function(J,q,_e,Be,He){var Ee=q.properties,ve=q.type,ne=!1;Array.isArray(q.items)&&(Ee={},q.items.forEach(function(Tt,xt){Ee[xt]=Tt}),ve="array",ne=!0);var ce=0,De=function(Tt,xt,Rt){V("errors++"),!0===_e&&(V("if (validate.errors === null) validate.errors = []"),s?V("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",ye(xt||J),JSON.stringify(Tt),Rt||J,JSON.stringify(ve),JSON.stringify(He)):V("validate.errors.push({field:%s,message:%s})",ye(xt||J),JSON.stringify(Tt)))};!0===q.required?(ce++,V("if (%s === undefined) {",J),De("is required"),V("} else {")):(ce++,V("if (%s !== undefined) {",J));var Fe=[].concat(ve).map(function(Tt){if(Tt&&!N.hasOwnProperty(Tt))throw new Error("Unknown type: "+Tt);return N[Tt||"any"](J)}).join(" || ")||"true";if("true"!==Fe&&(ce++,V("if (!(%s)) {",Fe),De("is the wrong type"),V("} else {")),ne)if(!1===q.additionalItems)V("if (%s.length > %d) {",J,q.items.length),De("has additional items"),V("}");else if(q.additionalItems){var Qe=z();V("for (var %s = %d; %s < %s.length; %s++) {",Qe,q.items.length,Qe,J,Qe),Y(J+"["+Qe+"]",q.additionalItems,_e,Be,He.concat("additionalItems")),V("}")}if(q.format&&y[q.format]){"string"!==ve&&F[q.format]&&V("if (%s) {",N.string(J));var pt=se("format");c[pt]=y[q.format],"function"==typeof c[pt]?V("if (!%s(%s)) {",pt,J):V("if (!testLimitedRegex(%s, %s, %d)) {",pt,J,void 0===q.maxLength?-1:q.maxLength),De("must be "+q.format+" format"),V("}"),"string"!==ve&&F[q.format]&&V("}")}if(Array.isArray(q.required)&&(pt=se("missing"),V("var %s = 0",pt),V("if ((%s)) {","object"!==ve?N.object(J):"true"),q.required.map(function(xt){var Rt=g(J,xt);V("if (%s === undefined) {",Rt),De("is required",Rt),V("%s++",pt),V("}")}),V("}"),v||(V("if (%s === 0) {",pt),ce++)),q.uniqueItems&&("array"!==ve&&V("if (%s) {",N.array(J)),V("if (!(unique(%s, %d))) {",J,q.maxItems||-1),De("must be unique"),V("}"),"array"!==ve&&V("}")),q.enum){var at=q.enum.some(function(Tt){return"object"==typeof Tt});V("if (%s) {",q.enum.map(at?function(Tt){return"JSON.stringify("+J+") !== JSON.stringify("+JSON.stringify(Tt)+")"}:function(Tt){return J+" !== "+JSON.stringify(Tt)}).join(" && ")||"false"),De("must be an enum value"),V("}")}if(q.dependencies&&("object"!==ve&&V("if (%s) {",N.object(J)),Object.keys(q.dependencies).forEach(function(Tt){var xt=q.dependencies[Tt];"string"==typeof xt&&(xt=[xt]),Array.isArray(xt)&&(V("if (%s !== undefined && !(%s)) {",g(J,Tt),xt.map(function(fr){return g(J,fr)+" !== undefined"}).join(" && ")||"true"),De("dependencies not set"),V("}")),"object"==typeof xt&&(V("if (%s !== undefined) {",g(J,Tt)),Y(J,xt,_e,Be,He.concat(["dependencies",Tt])),V("}"))}),"object"!==ve&&V("}")),q.additionalProperties||!1===q.additionalProperties){"object"!==ve&&V("if (%s) {",N.object(J)),Qe=z();var It=se("keys"),bn=Object.keys(Ee||{}).map(function(xt){return It+"["+Qe+"] !== "+JSON.stringify(xt)}).concat(Object.keys(q.patternProperties||{}).map(function(xt){return"!"+le(xt)+".test("+It+"["+Qe+"])"})).join(" && ")||"true";V("var %s = Object.keys(%s)",It,J)("for (var %s = 0; %s < %s.length; %s++) {",Qe,Qe,It,Qe)("if (%s) {",bn),!1===q.additionalProperties?(Be&&V("delete %s",J+"["+It+"["+Qe+"]]"),De("has additional properties",null,JSON.stringify(J+".")+" + "+It+"["+Qe+"]")):Y(J+"["+It+"["+Qe+"]]",q.additionalProperties,_e,Be,He.concat(["additionalProperties"])),V("}")("}"),"object"!==ve&&V("}")}if(q.$ref){var cn=function(R,I,M){var T=function(d){return d&&d.id===M?d:"object"==typeof d&&d?Object.keys(d).reduce(function(K,se){return K||T(d[se])},null):null},E=T(R);if(E)return E;M=(M=M.replace(/^#/,"")).replace(/\/$/,"");try{return D.get(R,decodeURI(M))}catch{var c,y=M.indexOf("#");if(0!==y)if(-1===y)c=I[M];else{c=I[M.slice(0,y)];var v=M.slice(y).replace(/^#/,"");try{return D.get(c,v)}catch{}}else c=I[M];return c||null}}(M,E&&E.schemas||{},q.$ref);if(cn){var pn=I[q.$ref];pn||(I[q.$ref]=function(Rt){return pn(Rt)},pn=S(cn,I,M,!1,E)),pt=se("ref"),c[pt]=pn,V("if (!(%s(%s))) {",pt,J),De("referenced schema does not match"),V("}")}}if(q.not){var tn=se("prev");V("var %s = errors",tn),Y(J,q.not,!1,Be,He.concat("not")),V("if (%s === errors) {",tn),De("negative schema matches"),V("} else {")("errors = %s",tn)("}")}if(q.items&&!ne&&("array"!==ve&&V("if (%s) {",N.array(J)),Qe=z(),V("for (var %s = 0; %s < %s.length; %s++) {",Qe,Qe,J,Qe),Y(J+"["+Qe+"]",q.items,_e,Be,He.concat("items")),V("}"),"array"!==ve&&V("}")),q.patternProperties&&("object"!==ve&&V("if (%s) {",N.object(J)),It=se("keys"),Qe=z(),V("var %s = Object.keys(%s)",It,J)("for (var %s = 0; %s < %s.length; %s++) {",Qe,Qe,It,Qe),Object.keys(q.patternProperties).forEach(function(Rt){var fr=le(Rt);V("if (%s.test(%s)) {",fr,It+"["+Qe+"]"),Y(J+"["+It+"["+Qe+"]]",q.patternProperties[Rt],_e,Be,He.concat(["patternProperties",Rt])),V("}")}),V("}"),"object"!==ve&&V("}")),q.pattern){var Yn=le(q.pattern);"string"!==ve&&V("if (%s) {",N.string(J)),V("if (!(testLimitedRegex(%s, %s, %d))) {",Yn,J,void 0===q.maxLength?-1:q.maxLength),De("pattern mismatch"),V("}"),"string"!==ve&&V("}")}if(q.allOf&&q.allOf.forEach(function(Tt,xt){Y(J,Tt,_e,Be,He.concat(["allOf",xt]))}),q.anyOf&&q.anyOf.length&&(tn=se("prev"),q.anyOf.forEach(function(xt,Rt){0===Rt?V("var %s = errors",tn):V("if (errors !== %s) {",tn)("errors = %s",tn),Y(J,xt,!1,!1,He)}),q.anyOf.forEach(function(xt,Rt){Rt&&V("}")}),V("if (%s !== errors) {",tn),De("no schemas match"),V("}")),q.oneOf&&q.oneOf.length){tn=se("prev");var ke=se("passes");V("var %s = errors",tn)("var %s = 0",ke),q.oneOf.forEach(function(xt,Rt){Y(J,xt,!1,!1,He),V("if (%s === errors) {",tn)("%s++",ke)("} else {")("errors = %s",tn)("}")}),V("if (%s !== 1) {",ke),De("no (or more than one) schemas match"),V("}")}for(void 0!==q.multipleOf&&("number"!==ve&&"integer"!==ve&&V("if (%s) {",N.number(J)),V("if (!isMultipleOf(%s, %d)) {",J,q.multipleOf),De("has a remainder"),V("}"),"number"!==ve&&"integer"!==ve&&V("}")),void 0!==q.maxProperties&&("object"!==ve&&V("if (%s) {",N.object(J)),V("if (Object.keys(%s).length > %d) {",J,q.maxProperties),De("has more properties than allowed"),V("}"),"object"!==ve&&V("}")),void 0!==q.minProperties&&("object"!==ve&&V("if (%s) {",N.object(J)),V("if (Object.keys(%s).length < %d) {",J,q.minProperties),De("has less properties than allowed"),V("}"),"object"!==ve&&V("}")),void 0!==q.maxItems&&("array"!==ve&&V("if (%s) {",N.array(J)),V("if (%s.length > %d) {",J,q.maxItems),De("has more items than allowed"),V("}"),"array"!==ve&&V("}")),void 0!==q.minItems&&("array"!==ve&&V("if (%s) {",N.array(J)),V("if (%s.length < %d) {",J,q.minItems),De("has less items than allowed"),V("}"),"array"!==ve&&V("}")),void 0!==q.maxLength&&("string"!==ve&&V("if (%s) {",N.string(J)),V("if (%s.length > %d) {",J,q.maxLength),De("has longer length than allowed"),V("}"),"string"!==ve&&V("}")),void 0!==q.minLength&&("string"!==ve&&V("if (%s) {",N.string(J)),V("if (%s.length < %d) {",J,q.minLength),De("has less length than allowed"),V("}"),"string"!==ve&&V("}")),void 0!==q.minimum&&("number"!==ve&&"integer"!==ve&&V("if (%s) {",N.number(J)),V("if (%s %s %d) {",J,q.exclusiveMinimum?"<=":"<",q.minimum),De("is less than minimum"),V("}"),"number"!==ve&&"integer"!==ve&&V("}")),void 0!==q.maximum&&("number"!==ve&&"integer"!==ve&&V("if (%s) {",N.number(J)),V("if (%s %s %d) {",J,q.exclusiveMaximum?">=":">",q.maximum),De("is more than maximum"),V("}"),"number"!==ve&&"integer"!==ve&&V("}")),Ee&&Object.keys(Ee).forEach(function(Tt){Array.isArray(ve)&&-1!==ve.indexOf("null")&&V("if (%s !== null) {",J),Y(g(J,Tt),Ee[Tt],_e,Be,He.concat(ne?Tt:["properties",Tt])),Array.isArray(ve)&&-1!==ve.indexOf("null")&&V("}")});ce--;)V("}")},V=a("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return Y("data",R,T,E&&E.filter,[]),V("return errors === 0")("}"),(V=V.toFunction(c)).errors=null,Object.defineProperty&&Object.defineProperty(V,"error",{get:function(){return V.errors?V.errors.map(function(J){return J.field+" "+J.message}).join("\n"):""}}),V.toJSON=function(){return R},V};re.exports=function(R,I){return"string"==typeof R&&(R=JSON.parse(R)),S(R,{},R,!0,I)},re.exports.filter=function(R,I){var M=re.exports(R,p(I,{filter:!0}));return function(T){return M(T),T}}},7549:re=>{re.exports=function(l){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(l)}},2342:(re,U,l)=>{var D,p,F,B,g=l(5834),a=l(6259)();if(a){D=g("Object.prototype.hasOwnProperty"),p=g("RegExp.prototype.exec"),F={};var N=function(){throw F};B={toString:N,valueOf:N},"symbol"==typeof Symbol.toPrimitive&&(B[Symbol.toPrimitive]=N)}var k=g("Object.prototype.toString"),O=Object.getOwnPropertyDescriptor;re.exports=a?function(R){if(!R||"object"!=typeof R)return!1;var I=O(R,"lastIndex");if(!I||!D(I,"value"))return!1;try{p(R,B)}catch(T){return T===F}}:function(R){return!(!R||"object"!=typeof R&&"function"!=typeof R)&&"[object RegExp]"===k(R)}},597:(re,U,l)=>{var g=l(9076),a=l(7029),D=l(5834),p=D("Object.prototype.toString"),F=l(6259)(),B="undefined"==typeof globalThis?global:globalThis,N=a(),k=D("Array.prototype.indexOf",!0)||function(T,E){for(var y=0;y<T.length;y+=1)if(T[y]===E)return y;return-1},O=D("String.prototype.slice"),w={},S=l(8555),R=Object.getPrototypeOf;F&&S&&R&&g(N,function(M){var T=new B[M];if(Symbol.toStringTag in T){var E=R(T),y=S(E,Symbol.toStringTag);if(!y){var c=R(E);y=S(c,Symbol.toStringTag)}w[M]=y.get}}),re.exports=function(T){if(!T||"object"!=typeof T)return!1;if(!F||!(Symbol.toStringTag in T)){var E=O(p(T),8,-1);return k(N,E)>-1}return!!S&&function(T){var E=!1;return g(w,function(y,c){if(!E)try{E=y.call(T)===c}catch{}}),E}(T)}},6936:(re,U)=>{var l=/~/,g=/~[01]/g;function a(O){switch(O){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+O)}function D(O){return l.test(O)?O.replace(g,a):O}function F(O){if("string"==typeof O){if(""===(O=O.split("/"))[0])return O;throw new Error("Invalid JSON pointer.")}if(Array.isArray(O)){for(const w of O)if("string"!=typeof w&&"number"!=typeof w)throw new Error("Invalid JSON pointer. Must be of type string or number.");return O}throw new Error("Invalid JSON pointer.")}function B(O,w){if("object"!=typeof O)throw new Error("Invalid input object.");var S=(w=F(w)).length;if(1===S)return O;for(var R=1;R<S;){if(O=O[D(w[R++])],S===R)return O;if("object"!=typeof O)return}}function N(O,w,S){if("object"!=typeof O)throw new Error("Invalid input object.");if(0===(w=F(w)).length)throw new Error("Invalid JSON pointer for set.");return function(O,w,S){for(var R,I,M=1,T=w.length;M<T;){if("constructor"===w[M]||"prototype"===w[M]||"__proto__"===w[M])return O;if(R=D(w[M++]),I=T>M,void 0===O[R]&&(Array.isArray(O)&&"-"===R&&(R=O.length),I&&(O[R]=""!==w[M]&&w[M]<1/0||"-"===w[M]?[]:{})),!I)break;O=O[R]}var E=O[R];return void 0===S?delete O[R]:O[R]=S,E}(O,w,S)}U.get=B,U.set=N,U.compile=function(O){var w=F(O);return{get:function(S){return B(S,w)},set:function(S,R){return N(S,w,R)}}}},9790:(re,U,l)=>{function g(le){return le&&"object"==typeof le&&"default"in le?le.default:le}var a=g(l(8309)),D=g(l(6952)),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(le){return typeof le}:function(le){return le&&"function"==typeof Symbol&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le},F=Object.assign||function(le){for(var Q=1;Q<arguments.length;Q++){var z=arguments[Q];for(var Y in z)Object.prototype.hasOwnProperty.call(z,Y)&&(le[Y]=z[Y])}return le},w=function(le,Q){Object.keys(le).forEach(function(z){Q(le[z],z)})},R=function(le){return!!("undefined"!=typeof Uint8Array&&le instanceof Uint8Array||le&&le.$Uint8ArrayPolyfill)},I_each=w,M=function(Q){return Array.isArray(Q)&&!R(Q)},T=function(Q){return M(Q)||c(Q)},y=function(Q){return/^[0-9]+$/.test(Q)},c=function(le){return!(!le||"number"==typeof le||"string"==typeof le||"boolean"==typeof le||M(le)||null===le||le instanceof RegExp||"function"==typeof le||le instanceof Date||R(le))},s=function(le){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof le&&Q.field&&(le+=" for field '"+Q.field+"'");var z=new Error(le);return z.name="ModifyJsError",z},v_each=w,K=function(Q,z,Y){if(Y=Y||{},!c(z))throw s("Modifier must be an object");var J,V=function(Q,z){if(!c(Q))return!1;var Y=void 0;return I_each(Q,function(V,J){var q="$"===J.substr(0,1);if(void 0===Y)Y=q;else if(Y!==q)throw new Error("Inconsistent operator: "+JSON.stringify(Q))}),!!Y}(z=a(z));if(V?(J=a(Q),v_each(z,function(q,_e){var Be=pe[_e];if(!Be)throw s("Invalid modifier specified "+_e);v_each(q,function(He,Ee){if(""===Ee)throw s("An empty update path is not valid.");var ve=Ee.split(".");if(!function(le,Q){return le.every(function(z){return Q&&Q(z)||z})}(ve))throw s("The update path '"+Ee+"' contains an empty field name, which is not allowed.");var ne=se(J,ve,{noCreate:ye[_e],forbidArray:"$rename"===_e,arrayIndices:Y.arrayIndices}),ce=ve.pop();Be(ne,ce,He,Ee,J)})})):J=z,Y.returnInsteadOfReplacing)return J;v_each(Object.keys(Q),function(q){"_id"!==q&&delete Q[q]}),v_each(J,function(q,_e){Q[_e]=q})},se=function(Q,z,Y){Y=Y||{};for(var V=!1,J=0;J<z.length;J++){var q=J===z.length-1,_e=z[J];if(!T(Q)){if(Y.noCreate)return;var He=s("cannot use the part '"+_e+"' to traverse "+Q);throw He.setPropertyError=!0,He}if(Q instanceof Array){if(Y.forbidArray)return null;if("$"===_e){if(V)throw s("Too many positional (i.e. '$') elements");if(!Y.arrayIndices||!Y.arrayIndices.length)throw s("The positional operator did not find the match needed from the query");_e=Y.arrayIndices[0],V=!0}else{if(!y(_e)){if(Y.noCreate)return;throw s("can't append to array using string field name ["+_e+"]")}_e=parseInt(_e)}if(q&&(z[J]=_e),Y.noCreate&&_e>=Q.length)return;for(;Q.length<_e;)Q.push(null);if(!q)if(Q.length===_e)Q.push({});else if("object"!==p(Q[_e]))throw s("can't modify field '"+z[J+1]+"' of list value "+JSON.stringify(Q[_e]))}else if(!(_e in Q)){if(Y.noCreate)return;q||(Q[_e]={})}if(q)return Q;Q=Q[_e]}},ye={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},pe={$currentDate:function(Q,z,Y){if("object"===(void 0===Y?"undefined":p(Y))&&Y.hasOwnProperty("$type")){if("date"!==Y.$type)throw s("Minimongo does currently only support the date type in $currentDate modifiers",{field:z})}else if(!0!==Y)throw s("Invalid $currentDate modifier",{field:z});Q[z]=new Date},$min:function(Q,z,Y){if("number"!=typeof Y)throw s("Modifier $min allowed for numbers only",{field:z});if(z in Q){if("number"!=typeof Q[z])throw s("Cannot apply $min modifier to non-number",{field:z});Q[z]>Y&&(Q[z]=Y)}else Q[z]=Y},$max:function(Q,z,Y){if("number"!=typeof Y)throw s("Modifier $max allowed for numbers only",{field:z});if(z in Q){if("number"!=typeof Q[z])throw s("Cannot apply $max modifier to non-number",{field:z});Q[z]<Y&&(Q[z]=Y)}else Q[z]=Y},$inc:function(Q,z,Y){if("number"!=typeof Y)throw s("Modifier $inc allowed for numbers only",{field:z});if(z in Q){if("number"!=typeof Q[z])throw s("Cannot apply $inc modifier to non-number",{field:z});Q[z]+=Y}else Q[z]=Y},$set:function(Q,z,Y){var V,le;if("object"!==(void 0===(le=Q)?"undefined":p(le))||null===le)throw(V=s("Cannot set property on non-object field",{field:z})).setPropertyError=!0,V;if(null===Q)throw(V=s("Cannot set property on null",{field:z})).setPropertyError=!0,V;Q[z]=Y},$setOnInsert:function(Q,z,Y){},$unset:function(Q,z,Y){void 0!==Q&&(Q instanceof Array?z in Q&&(Q[z]=null):delete Q[z])},$push:function(Q,z,Y){if(void 0===Q[z]&&(Q[z]=[]),!(Q[z]instanceof Array))throw s("Cannot apply $push modifier to non-array",{field:z});if(Y&&Y.$each){var V=Y.$each;if(!(V instanceof Array))throw s("$each must be an array",{field:z});var J=void 0;if("$position"in Y){if("number"!=typeof Y.$position)throw s("$position must be a numeric value",{field:z});if(Y.$position<0)throw s("$position in $push must be zero or positive",{field:z});J=Y.$position}var q=void 0;if("$slice"in Y){if("number"!=typeof Y.$slice)throw s("$slice must be a numeric value",{field:z});if(Y.$slice>0)throw s("$slice in $push must be zero or negative",{field:z});q=Y.$slice}if(Y.$sort)throw s("$sort in $push not implemented yet");if(void 0===J)for(var Be=0;Be<V.length;Be++)Q[z].push(V[Be]);else{var He=[J,0];for(Be=0;Be<V.length;Be++)He.push(V[Be]);Array.prototype.splice.apply(Q[z],He)}void 0!==q&&(Q[z]=0===q?[]:Q[z].slice(q))}else Q[z].push(Y)},$pushAll:function(Q,z,Y){if(!("object"===(void 0===Y?"undefined":p(Y))&&Y instanceof Array))throw s("Modifier $pushAll/pullAll allowed for arrays only");var V=Q[z];if(void 0===V)Q[z]=Y;else{if(!(V instanceof Array))throw s("Cannot apply $pushAll modifier to non-array",{field:z});for(var J=0;J<Y.length;J++)V.push(Y[J])}},$addToSet:function(Q,z,Y){var V=!1;"object"===(void 0===Y?"undefined":p(Y))&&"$each"===Object.keys(Y)[0]&&(V=!0);var q=V?Y.$each:[Y],_e=Q[z];if(void 0===_e)Q[z]=q;else{if(!(_e instanceof Array))throw s("Cannot apply $addToSet modifier to non-array",{field:z});v_each(q,function(Be){for(var He=0;He<_e.length;He++)if(D(Be,_e[He]))return;_e.push(Be)})}},$pop:function(Q,z,Y){if(void 0!==Q){var V=Q[z];if(void 0!==V){if(!(V instanceof Array))throw s("Cannot apply $pop modifier to non-array",{field:z});"number"==typeof Y&&Y<0?V.splice(0,1):V.pop()}}},$pull:function(Q,z,Y){if(void 0!==Q){var V=Q[z];if(void 0!==V)throw V instanceof Array?s("$pull not implemented yet"):s("Cannot apply $pull/pullAll modifier to non-array",{field:z})}},$pullAll:function(Q,z,Y){if(!("object"===(void 0===Y?"undefined":p(Y))&&Y instanceof Array))throw s("Modifier $pushAll/pullAll allowed for arrays only",{field:z});if(void 0!==Q){var V=Q[z];if(void 0!==V){if(!(V instanceof Array))throw s("Cannot apply $pull/pullAll modifier to non-array",{field:z});for(var J=[],q=0;q<V.length;q++){for(var _e=!1,Be=0;Be<Y.length;Be++)if(D(V[q],Y[Be])){_e=!0;break}_e||J.push(V[q])}Q[z]=J}}},$rename:function(Q,z,Y,V,J){if(V===Y)throw s("$rename source must differ from target",{field:z});if(null===Q)throw s("$rename source field invalid",{field:z});if("string"!=typeof Y)throw s("$rename target must be a string",{field:z});if(Y.indexOf("\0")>-1)throw s("The 'to' field for $rename cannot contain an embedded null byte",{field:z});if(void 0!==Q){var q=Q[z];delete Q[z];var _e=Y.split("."),Be=se(J,_e,{forbidArray:!0});if(null===Be)throw s("$rename target field invalid",{field:z});Be[_e.pop()]=q}},$bit:function(Q,z,Y){throw s("$bit is not supported",{field:z})}};re.exports=function(le,Q,z){if(!z||!z.each)return K(le,Q,F({},z,{returnInsteadOfReplacing:!0}))}},8309:re=>{var U=function(){"use strict";function l(w,S){return null!=S&&w instanceof S}var g,a,D;try{g=Map}catch{g=function(){}}try{a=Set}catch{a=function(){}}try{D=Promise}catch{D=function(){}}function p(w,S,R,I,M){"object"==typeof S&&(R=S.depth,I=S.prototype,M=S.includeNonEnumerable,S=S.circular);var T=[],E=[],y="undefined"!=typeof Buffer;return void 0===S&&(S=!0),void 0===R&&(R=1/0),function c(s,v){if(null===s)return null;if(0===v)return s;var d,K;if("object"!=typeof s)return s;if(l(s,g))d=new g;else if(l(s,a))d=new a;else if(l(s,D))d=new D(function(J,q){s.then(function(_e){J(c(_e,v-1))},function(_e){q(c(_e,v-1))})});else if(p.__isArray(s))d=[];else if(p.__isRegExp(s))d=new RegExp(s.source,O(s)),s.lastIndex&&(d.lastIndex=s.lastIndex);else if(p.__isDate(s))d=new Date(s.getTime());else{if(y&&Buffer.isBuffer(s))return d=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(d),d;l(s,Error)?d=Object.create(s):void 0===I?(K=Object.getPrototypeOf(s),d=Object.create(K)):(d=Object.create(I),K=I)}if(S){var se=T.indexOf(s);if(-1!=se)return E[se];T.push(s),E.push(d)}for(var ye in l(s,g)&&s.forEach(function(J,q){var _e=c(q,v-1),Be=c(J,v-1);d.set(_e,Be)}),l(s,a)&&s.forEach(function(J){var q=c(J,v-1);d.add(q)}),s){var pe;K&&(pe=Object.getOwnPropertyDescriptor(K,ye)),(!pe||null!=pe.set)&&(d[ye]=c(s[ye],v-1))}if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(s);for(ye=0;ye<le.length;ye++){var Q=le[ye];(z=Object.getOwnPropertyDescriptor(s,Q))&&!z.enumerable&&!M||(d[Q]=c(s[Q],v-1),z.enumerable||Object.defineProperty(d,Q,{enumerable:!1}))}}if(M){var Y=Object.getOwnPropertyNames(s);for(ye=0;ye<Y.length;ye++){var z,V=Y[ye];(z=Object.getOwnPropertyDescriptor(s,V))&&z.enumerable||(d[V]=c(s[V],v-1),Object.defineProperty(d,V,{enumerable:!1}))}}return d}(w,R)}function F(w){return Object.prototype.toString.call(w)}function O(w){var S="";return w.global&&(S+="g"),w.ignoreCase&&(S+="i"),w.multiline&&(S+="m"),S}return p.clonePrototype=function(S){if(null===S)return null;var R=function(){};return R.prototype=S,new R},p.__objToStr=F,p.__isDate=function(w){return"object"==typeof w&&"[object Date]"===F(w)},p.__isArray=function(w){return"object"==typeof w&&"[object Array]"===F(w)},p.__isRegExp=function(w){return"object"==typeof w&&"[object RegExp]"===F(w)},p.__getRegExpFlags=O,p}();re.exports&&(re.exports=U)},1175:re=>{var U=function(l){return l!=l};re.exports=function(g,a){return 0===g&&0===a?1/g==1/a:!!(g===a||U(g)&&U(a))}},2e3:(re,U,l)=>{var g=l(2358),a=l(5685),D=l(1175),p=l(6305),F=l(3859),B=a(p(),Object);g(B,{getPolyfill:p,implementation:D,shim:F}),re.exports=B},6305:(re,U,l)=>{var g=l(1175);re.exports=function(){return"function"==typeof Object.is?Object.is:g}},3859:(re,U,l)=>{var g=l(6305),a=l(2358);re.exports=function(){var p=g();return a(Object,{is:p},{is:function(){return Object.is!==p}}),p}},2450:(re,U,l)=>{var g;if(!Object.keys){var a=Object.prototype.hasOwnProperty,D=Object.prototype.toString,p=l(9978),F=Object.prototype.propertyIsEnumerable,B=!F.call({toString:null},"toString"),N=F.call(function(){},"prototype"),k=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],O=function(I){var M=I.constructor;return M&&M.prototype===I},w={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},S=function(){if("undefined"==typeof window)return!1;for(var I in window)try{if(!w["$"+I]&&a.call(window,I)&&null!==window[I]&&"object"==typeof window[I])try{O(window[I])}catch{return!0}}catch{return!0}return!1}();g=function(M){var T=null!==M&&"object"==typeof M,E="[object Function]"===D.call(M),y=p(M),c=T&&"[object String]"===D.call(M),s=[];if(!T&&!E&&!y)throw new TypeError("Object.keys called on a non-object");var v=N&&E;if(c&&M.length>0&&!a.call(M,0))for(var d=0;d<M.length;++d)s.push(String(d));if(y&&M.length>0)for(var K=0;K<M.length;++K)s.push(String(K));else for(var se in M)(!v||"prototype"!==se)&&a.call(M,se)&&s.push(String(se));if(B)for(var ye=function(I){if("undefined"==typeof window||!S)return O(I);try{return O(I)}catch{return!1}}(M),pe=0;pe<k.length;++pe)(!ye||"constructor"!==k[pe])&&a.call(M,k[pe])&&s.push(k[pe]);return s}}re.exports=g},1356:(re,U,l)=>{var g=Array.prototype.slice,a=l(9978),D=Object.keys,p=D?function(N){return D(N)}:l(2450),F=Object.keys;p.shim=function(){if(Object.keys){var N=function(){var k=Object.keys(arguments);return k&&k.length===arguments.length}(1,2);N||(Object.keys=function(O){return a(O)?F(g.call(O)):F(O)})}else Object.keys=p;return Object.keys||p},re.exports=p},9978:re=>{var U=Object.prototype.toString;re.exports=function(g){var a=U.call(g),D="[object Arguments]"===a;return D||(D="[object Array]"!==a&&null!==g&&"object"==typeof g&&"number"==typeof g.length&&g.length>=0&&"[object Function]"===U.call(g.callee)),D}},8624:function(re,U){var l,g,a;!function(D,p){"use strict";"object"==typeof re.exports?re.exports=p():(g=[],void 0!==(a="function"==typeof(l=p)?l.apply(U,g):l)&&(re.exports=a))}(0,function(){"use strict";var D=Object.prototype.toString;function p(I,M){return null!=I&&Object.prototype.hasOwnProperty.call(I,M)}function F(I){if(!I||k(I)&&0===I.length)return!0;if("string"!=typeof I){for(var M in I)if(p(I,M))return!1;return!0}return!1}function B(I){return D.call(I)}var k=Array.isArray||function(I){return"[object Array]"===D.call(I)};function w(I){var M=parseInt(I);return M.toString()===I?M:I}function S(I){var T,y,M=function(s){return Object.keys(M).reduce(function(v,d){return"create"===d||"function"==typeof M[d]&&(v[d]=M[d].bind(M,s)),v},{})};function E(s,v){if(T(s,v))return s[v]}function c(s,v,d,K){if("number"==typeof v&&(v=[v]),!v||0===v.length)return s;if("string"==typeof v)return c(s,v.split(".").map(w),d,K);var se=v[0],ye=y(s,se);return 1===v.length?((void 0===ye||!K)&&(s[se]=d),ye):(void 0===ye&&(s[se]="number"==typeof v[1]?[]:{}),c(s[se],v.slice(1),d,K))}return T=(I=I||{}).includeInheritedProps?function(){return!0}:function(s,v){return"number"==typeof v&&Array.isArray(s)||p(s,v)},y=I.includeInheritedProps?function(s,v){"string"!=typeof v&&"number"!=typeof v&&(v=String(v));var d=E(s,v);if("__proto__"===v||"prototype"===v||"constructor"===v&&"function"==typeof d)throw new Error("For security reasons, object's magic properties cannot be set");return d}:function(s,v){return E(s,v)},M.has=function(s,v){if("number"==typeof v?v=[v]:"string"==typeof v&&(v=v.split(".")),!v||0===v.length)return!!s;for(var d=0;d<v.length;d++){var K=w(v[d]);if(!("number"==typeof K&&k(s)&&K<s.length||(I.includeInheritedProps?K in Object(s):p(s,K))))return!1;s=s[K]}return!0},M.ensureExists=function(s,v,d){return c(s,v,d,!0)},M.set=function(s,v,d,K){return c(s,v,d,K)},M.insert=function(s,v,d,K){var se=M.get(s,v);K=~~K,k(se)||M.set(s,v,se=[]),se.splice(K,0,d)},M.empty=function(s,v){var d,K;if(!F(v)&&null!=s&&(d=M.get(s,v))){if("string"==typeof d)return M.set(s,v,"");if(function(I){return"boolean"==typeof I||"[object Boolean]"===B(I)}(d))return M.set(s,v,!1);if("number"==typeof d)return M.set(s,v,0);if(k(d))d.length=0;else{if(!function(I){return"object"==typeof I&&"[object Object]"===B(I)}(d))return M.set(s,v,null);for(K in d)T(d,K)&&delete d[K]}}},M.push=function(s,v){var d=M.get(s,v);k(d)||M.set(s,v,d=[]),d.push.apply(d,Array.prototype.slice.call(arguments,2))},M.coalesce=function(s,v,d){for(var K,se=0,ye=v.length;se<ye;se++)if(void 0!==(K=M.get(s,v[se])))return K;return d},M.get=function(s,v,d){if("number"==typeof v&&(v=[v]),!v||0===v.length)return s;if(null==s)return d;if("string"==typeof v)return M.get(s,v.split("."),d);var K=w(v[0]),se=y(s,K);return void 0===se?d:1===v.length?se:M.get(s[K],v.slice(1),d)},M.del=function(v,d){if("number"==typeof d&&(d=[d]),null==v||F(d))return v;if("string"==typeof d)return M.del(v,d.split("."));var K=w(d[0]);return y(v,K),T(v,K)?1!==d.length?M.del(v[K],d.slice(1)):(k(v)?v.splice(K,1):delete v[K],v):v},M}var R=S();return R.create=S,R.withInheritedProps=S({includeInheritedProps:!0}),R})},3625:re=>{re.exports=function(U){"use strict";var g=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function D(E,y){var c=E[0],s=E[1],v=E[2],d=E[3];s=((s+=((v=((v+=((d=((d+=((c=((c+=(s&v|~s&d)+y[0]-680876936|0)<<7|c>>>25)+s|0)&s|~c&v)+y[1]-389564586|0)<<12|d>>>20)+c|0)&c|~d&s)+y[2]+606105819|0)<<17|v>>>15)+d|0)&d|~v&c)+y[3]-1044525330|0)<<22|s>>>10)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s&v|~s&d)+y[4]-176418897|0)<<7|c>>>25)+s|0)&s|~c&v)+y[5]+1200080426|0)<<12|d>>>20)+c|0)&c|~d&s)+y[6]-1473231341|0)<<17|v>>>15)+d|0)&d|~v&c)+y[7]-45705983|0)<<22|s>>>10)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s&v|~s&d)+y[8]+1770035416|0)<<7|c>>>25)+s|0)&s|~c&v)+y[9]-1958414417|0)<<12|d>>>20)+c|0)&c|~d&s)+y[10]-42063|0)<<17|v>>>15)+d|0)&d|~v&c)+y[11]-1990404162|0)<<22|s>>>10)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s&v|~s&d)+y[12]+1804603682|0)<<7|c>>>25)+s|0)&s|~c&v)+y[13]-40341101|0)<<12|d>>>20)+c|0)&c|~d&s)+y[14]-1502002290|0)<<17|v>>>15)+d|0)&d|~v&c)+y[15]+1236535329|0)<<22|s>>>10)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s&d|v&~d)+y[1]-165796510|0)<<5|c>>>27)+s|0)&v|s&~v)+y[6]-1069501632|0)<<9|d>>>23)+c|0)&s|c&~s)+y[11]+643717713|0)<<14|v>>>18)+d|0)&c|d&~c)+y[0]-373897302|0)<<20|s>>>12)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s&d|v&~d)+y[5]-701558691|0)<<5|c>>>27)+s|0)&v|s&~v)+y[10]+38016083|0)<<9|d>>>23)+c|0)&s|c&~s)+y[15]-660478335|0)<<14|v>>>18)+d|0)&c|d&~c)+y[4]-405537848|0)<<20|s>>>12)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s&d|v&~d)+y[9]+568446438|0)<<5|c>>>27)+s|0)&v|s&~v)+y[14]-1019803690|0)<<9|d>>>23)+c|0)&s|c&~s)+y[3]-187363961|0)<<14|v>>>18)+d|0)&c|d&~c)+y[8]+1163531501|0)<<20|s>>>12)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s&d|v&~d)+y[13]-1444681467|0)<<5|c>>>27)+s|0)&v|s&~v)+y[2]-51403784|0)<<9|d>>>23)+c|0)&s|c&~s)+y[7]+1735328473|0)<<14|v>>>18)+d|0)&c|d&~c)+y[12]-1926607734|0)<<20|s>>>12)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s^v^d)+y[5]-378558|0)<<4|c>>>28)+s|0)^s^v)+y[8]-2022574463|0)<<11|d>>>21)+c|0)^c^s)+y[11]+1839030562|0)<<16|v>>>16)+d|0)^d^c)+y[14]-35309556|0)<<23|s>>>9)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s^v^d)+y[1]-1530992060|0)<<4|c>>>28)+s|0)^s^v)+y[4]+1272893353|0)<<11|d>>>21)+c|0)^c^s)+y[7]-155497632|0)<<16|v>>>16)+d|0)^d^c)+y[10]-1094730640|0)<<23|s>>>9)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s^v^d)+y[13]+681279174|0)<<4|c>>>28)+s|0)^s^v)+y[0]-358537222|0)<<11|d>>>21)+c|0)^c^s)+y[3]-722521979|0)<<16|v>>>16)+d|0)^d^c)+y[6]+76029189|0)<<23|s>>>9)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s^v^d)+y[9]-640364487|0)<<4|c>>>28)+s|0)^s^v)+y[12]-421815835|0)<<11|d>>>21)+c|0)^c^s)+y[15]+530742520|0)<<16|v>>>16)+d|0)^d^c)+y[2]-995338651|0)<<23|s>>>9)+v|0,s=((s+=((d=((d+=(s^((c=((c+=(v^(s|~d))+y[0]-198630844|0)<<6|c>>>26)+s|0)|~v))+y[7]+1126891415|0)<<10|d>>>22)+c|0)^((v=((v+=(c^(d|~s))+y[14]-1416354905|0)<<15|v>>>17)+d|0)|~c))+y[5]-57434055|0)<<21|s>>>11)+v|0,s=((s+=((d=((d+=(s^((c=((c+=(v^(s|~d))+y[12]+1700485571|0)<<6|c>>>26)+s|0)|~v))+y[3]-1894986606|0)<<10|d>>>22)+c|0)^((v=((v+=(c^(d|~s))+y[10]-1051523|0)<<15|v>>>17)+d|0)|~c))+y[1]-2054922799|0)<<21|s>>>11)+v|0,s=((s+=((d=((d+=(s^((c=((c+=(v^(s|~d))+y[8]+1873313359|0)<<6|c>>>26)+s|0)|~v))+y[15]-30611744|0)<<10|d>>>22)+c|0)^((v=((v+=(c^(d|~s))+y[6]-1560198380|0)<<15|v>>>17)+d|0)|~c))+y[13]+1309151649|0)<<21|s>>>11)+v|0,s=((s+=((d=((d+=(s^((c=((c+=(v^(s|~d))+y[4]-145523070|0)<<6|c>>>26)+s|0)|~v))+y[11]-1120210379|0)<<10|d>>>22)+c|0)^((v=((v+=(c^(d|~s))+y[2]+718787259|0)<<15|v>>>17)+d|0)|~c))+y[9]-343485551|0)<<21|s>>>11)+v|0,E[0]=c+E[0]|0,E[1]=s+E[1]|0,E[2]=v+E[2]|0,E[3]=d+E[3]|0}function p(E){var c,y=[];for(c=0;c<64;c+=4)y[c>>2]=E.charCodeAt(c)+(E.charCodeAt(c+1)<<8)+(E.charCodeAt(c+2)<<16)+(E.charCodeAt(c+3)<<24);return y}function F(E){var c,y=[];for(c=0;c<64;c+=4)y[c>>2]=E[c]+(E[c+1]<<8)+(E[c+2]<<16)+(E[c+3]<<24);return y}function B(E){var s,v,d,K,se,ye,y=E.length,c=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=y;s+=64)D(c,p(E.substring(s-64,s)));for(v=(E=E.substring(s-64)).length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<v;s+=1)d[s>>2]|=E.charCodeAt(s)<<(s%4<<3);if(d[s>>2]|=128<<(s%4<<3),s>55)for(D(c,d),s=0;s<16;s+=1)d[s]=0;return K=(K=8*y).toString(16).match(/(.*?)(.{0,8})$/),se=parseInt(K[2],16),ye=parseInt(K[1],16)||0,d[14]=se,d[15]=ye,D(c,d),c}function k(E){var c,y="";for(c=0;c<4;c+=1)y+=g[E>>8*c+4&15]+g[E>>8*c&15];return y}function O(E){var y;for(y=0;y<E.length;y+=1)E[y]=k(E[y]);return E.join("")}function w(E){return/[\u0080-\uFFFF]/.test(E)&&(E=unescape(encodeURIComponent(E))),E}function M(E){var s,y=[],c=E.length;for(s=0;s<c-1;s+=2)y.push(parseInt(E.substr(s,2),16));return String.fromCharCode.apply(String,y)}function T(){this.reset()}return O(B("hello")),"undefined"!=typeof ArrayBuffer&&!ArrayBuffer.prototype.slice&&function(){function E(y,c){return(y=0|y||0)<0?Math.max(y+c,0):Math.min(y,c)}ArrayBuffer.prototype.slice=function(y,c){var K,se,ye,pe,s=this.byteLength,v=E(y,s),d=s;return undefined!==c&&(d=E(c,s)),v>d?new ArrayBuffer(0):(K=d-v,se=new ArrayBuffer(K),ye=new Uint8Array(se),pe=new Uint8Array(this,v,K),ye.set(pe),se)}}(),T.prototype.append=function(E){return this.appendBinary(w(E)),this},T.prototype.appendBinary=function(E){this._buff+=E,this._length+=E.length;var c,y=this._buff.length;for(c=64;c<=y;c+=64)D(this._hash,p(this._buff.substring(c-64,c)));return this._buff=this._buff.substring(c-64),this},T.prototype.end=function(E){var s,d,y=this._buff,c=y.length,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<c;s+=1)v[s>>2]|=y.charCodeAt(s)<<(s%4<<3);return this._finish(v,c),d=O(this._hash),E&&(d=M(d)),this.reset(),d},T.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},T.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},T.prototype.setState=function(E){return this._buff=E.buff,this._length=E.length,this._hash=E.hash,this},T.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},T.prototype._finish=function(E,y){var s,v,d,c=y;if(E[c>>2]|=128<<(c%4<<3),c>55)for(D(this._hash,E),c=0;c<16;c+=1)E[c]=0;s=(s=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),v=parseInt(s[2],16),d=parseInt(s[1],16)||0,E[14]=v,E[15]=d,D(this._hash,E)},T.hash=function(E,y){return T.hashBinary(w(E),y)},T.hashBinary=function(E,y){var s=O(B(E));return y?M(s):s},(T.ArrayBuffer=function(){this.reset()}).prototype.append=function(E){var s,y=function(E,y,c){var s=new Uint8Array(E.byteLength+y.byteLength);return s.set(new Uint8Array(E)),s.set(new Uint8Array(y),E.byteLength),c?s:s.buffer}(this._buff.buffer,E,!0),c=y.length;for(this._length+=E.byteLength,s=64;s<=c;s+=64)D(this._hash,F(y.subarray(s-64,s)));return this._buff=s-64<c?new Uint8Array(y.buffer.slice(s-64)):new Uint8Array(0),this},T.ArrayBuffer.prototype.end=function(E){var v,d,y=this._buff,c=y.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(v=0;v<c;v+=1)s[v>>2]|=y[v]<<(v%4<<3);return this._finish(s,c),d=O(this._hash),E&&(d=M(d)),this.reset(),d},T.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},T.ArrayBuffer.prototype.getState=function(){var E=T.prototype.getState.call(this);return E.buff=function(E){return String.fromCharCode.apply(null,new Uint8Array(E))}(E.buff),E},T.ArrayBuffer.prototype.setState=function(E){return E.buff=function(E,y){var d,c=E.length,s=new ArrayBuffer(c),v=new Uint8Array(s);for(d=0;d<c;d+=1)v[d]=E.charCodeAt(d);return y?v:s}(E.buff,!0),T.prototype.setState.call(this,E)},T.ArrayBuffer.prototype.destroy=T.prototype.destroy,T.ArrayBuffer.prototype._finish=T.prototype._finish,T.ArrayBuffer.hash=function(E,y){var s=O(function(E){var s,v,d,K,se,ye,y=E.length,c=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=y;s+=64)D(c,F(E.subarray(s-64,s)));for(v=(E=s-64<y?E.subarray(s-64):new Uint8Array(0)).length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<v;s+=1)d[s>>2]|=E[s]<<(s%4<<3);if(d[s>>2]|=128<<(s%4<<3),s>55)for(D(c,d),s=0;s<16;s+=1)d[s]=0;return K=(K=8*y).toString(16).match(/(.*?)(.{0,8})$/),se=parseInt(K[2],16),ye=parseInt(K[1],16)||0,d[14]=se,d[15]=ye,D(c,d),c}(new Uint8Array(E)));return y?M(s):s},T}()},2302:(re,U,l)=>{var a,D,g=[l(4703),l(3328),l(6139),l(5675),l(1767),l(3259)],p=-1,F=[],B=!1;function N(){!a||!D||(a=!1,D.length?F=D.concat(F):p=-1,F.length&&k())}function k(){if(!a){B=!1,a=!0;for(var M=F.length,T=setTimeout(N);M;){for(D=F,F=[];D&&++p<M;)D[p].run();p=-1,M=F.length}D=null,p=-1,a=!1,clearTimeout(T)}}for(var O,w=-1,S=g.length;++w<S;)if(g[w]&&g[w].test&&g[w].test()){O=g[w].install(k);break}function R(M,T){this.fun=M,this.array=T}R.prototype.run=function(){var M=this.fun,T=this.array;switch(T.length){case 0:return M();case 1:return M(T[0]);case 2:return M(T[0],T[1]);case 3:return M(T[0],T[1],T[2]);default:return M.apply(null,T)}},re.exports=function(M){var T=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)T[E-1]=arguments[E];F.push(new R(M,T)),!B&&!a&&(B=!0,O())}},5675:(re,U)=>{U.test=function(){return!global.setImmediate&&void 0!==global.MessageChannel},U.install=function(l){var g=new global.MessageChannel;return g.port1.onmessage=l,function(){g.port2.postMessage(0)}}},6139:(re,U)=>{var l=global.MutationObserver||global.WebKitMutationObserver;U.test=function(){return l},U.install=function(g){var a=0,D=new l(g),p=global.document.createTextNode("");return D.observe(p,{characterData:!0}),function(){p.data=a=++a%2}}},3328:(re,U)=>{U.test=function(){return"function"==typeof global.queueMicrotask},U.install=function(l){return function(){global.queueMicrotask(l)}}},1767:(re,U)=>{U.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")},U.install=function(l){return function(){var g=global.document.createElement("script");return g.onreadystatechange=function(){l(),g.onreadystatechange=null,g.parentNode.removeChild(g),g=null},global.document.documentElement.appendChild(g),l}}},3259:(re,U)=>{U.test=function(){return!0},U.install=function(l){return function(){setTimeout(l,0)}}},2448:(re,U)=>{Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0;const l=[];for(let D=0;D<256;++D)l.push((D+256).toString(16).substr(1));U.default=function(D,p){const F=p||0;return(l[D[F+0]]+l[D[F+1]]+l[D[F+2]]+l[D[F+3]]+"-"+l[D[F+4]]+l[D[F+5]]+"-"+l[D[F+6]]+l[D[F+7]]+"-"+l[D[F+8]]+l[D[F+9]]+"-"+l[D[F+10]]+l[D[F+11]]+l[D[F+12]]+l[D[F+13]]+l[D[F+14]]+l[D[F+15]]).toLowerCase()}},3306:(re,U,l)=>{Object.defineProperty(U,"v1",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(U,"v3",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(U,"v4",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(U,"v5",{enumerable:!0,get:function(){return F.default}});var a=B(l(9110)),D=B(l(8693)),p=B(l(491)),F=B(l(8518));function B(N){return N&&N.__esModule?N:{default:N}}},872:(re,U)=>{function a(I){return 14+(I+64>>>9<<4)+1}function F(I,M){const T=(65535&I)+(65535&M);return(I>>16)+(M>>16)+(T>>16)<<16|65535&T}function N(I,M,T,E,y,c){return F(function(I,M){return I<<M|I>>>32-M}(F(F(M,I),F(E,c)),y),T)}function k(I,M,T,E,y,c,s){return N(M&T|~M&E,I,M,y,c,s)}function O(I,M,T,E,y,c,s){return N(M&E|T&~E,I,M,y,c,s)}function w(I,M,T,E,y,c,s){return N(M^T^E,I,M,y,c,s)}function S(I,M,T,E,y,c,s){return N(T^(M|~E),I,M,y,c,s)}Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0,U.default=function(I){if("string"==typeof I){const M=unescape(encodeURIComponent(I));I=new Uint8Array(M.length);for(let T=0;T<M.length;++T)I[T]=M.charCodeAt(T)}return function(I){const M=[],T=32*I.length,E="0123456789abcdef";for(let y=0;y<T;y+=8){const c=I[y>>5]>>>y%32&255,s=parseInt(E.charAt(c>>>4&15)+E.charAt(15&c),16);M.push(s)}return M}(function(I,M){I[M>>5]|=128<<M%32,I[a(M)-1]=M;let T=1732584193,E=-271733879,y=-1732584194,c=271733878;for(let s=0;s<I.length;s+=16){const v=T,d=E,K=y,se=c;T=k(T,E,y,c,I[s],7,-680876936),c=k(c,T,E,y,I[s+1],12,-389564586),y=k(y,c,T,E,I[s+2],17,606105819),E=k(E,y,c,T,I[s+3],22,-1044525330),T=k(T,E,y,c,I[s+4],7,-176418897),c=k(c,T,E,y,I[s+5],12,1200080426),y=k(y,c,T,E,I[s+6],17,-1473231341),E=k(E,y,c,T,I[s+7],22,-45705983),T=k(T,E,y,c,I[s+8],7,1770035416),c=k(c,T,E,y,I[s+9],12,-1958414417),y=k(y,c,T,E,I[s+10],17,-42063),E=k(E,y,c,T,I[s+11],22,-1990404162),T=k(T,E,y,c,I[s+12],7,1804603682),c=k(c,T,E,y,I[s+13],12,-40341101),y=k(y,c,T,E,I[s+14],17,-1502002290),E=k(E,y,c,T,I[s+15],22,1236535329),T=O(T,E,y,c,I[s+1],5,-165796510),c=O(c,T,E,y,I[s+6],9,-1069501632),y=O(y,c,T,E,I[s+11],14,643717713),E=O(E,y,c,T,I[s],20,-373897302),T=O(T,E,y,c,I[s+5],5,-701558691),c=O(c,T,E,y,I[s+10],9,38016083),y=O(y,c,T,E,I[s+15],14,-660478335),E=O(E,y,c,T,I[s+4],20,-405537848),T=O(T,E,y,c,I[s+9],5,568446438),c=O(c,T,E,y,I[s+14],9,-1019803690),y=O(y,c,T,E,I[s+3],14,-187363961),E=O(E,y,c,T,I[s+8],20,1163531501),T=O(T,E,y,c,I[s+13],5,-1444681467),c=O(c,T,E,y,I[s+2],9,-51403784),y=O(y,c,T,E,I[s+7],14,1735328473),E=O(E,y,c,T,I[s+12],20,-1926607734),T=w(T,E,y,c,I[s+5],4,-378558),c=w(c,T,E,y,I[s+8],11,-2022574463),y=w(y,c,T,E,I[s+11],16,1839030562),E=w(E,y,c,T,I[s+14],23,-35309556),T=w(T,E,y,c,I[s+1],4,-1530992060),c=w(c,T,E,y,I[s+4],11,1272893353),y=w(y,c,T,E,I[s+7],16,-155497632),E=w(E,y,c,T,I[s+10],23,-1094730640),T=w(T,E,y,c,I[s+13],4,681279174),c=w(c,T,E,y,I[s],11,-358537222),y=w(y,c,T,E,I[s+3],16,-722521979),E=w(E,y,c,T,I[s+6],23,76029189),T=w(T,E,y,c,I[s+9],4,-640364487),c=w(c,T,E,y,I[s+12],11,-421815835),y=w(y,c,T,E,I[s+15],16,530742520),E=w(E,y,c,T,I[s+2],23,-995338651),T=S(T,E,y,c,I[s],6,-198630844),c=S(c,T,E,y,I[s+7],10,1126891415),y=S(y,c,T,E,I[s+14],15,-1416354905),E=S(E,y,c,T,I[s+5],21,-57434055),T=S(T,E,y,c,I[s+12],6,1700485571),c=S(c,T,E,y,I[s+3],10,-1894986606),y=S(y,c,T,E,I[s+10],15,-1051523),E=S(E,y,c,T,I[s+1],21,-2054922799),T=S(T,E,y,c,I[s+8],6,1873313359),c=S(c,T,E,y,I[s+15],10,-30611744),y=S(y,c,T,E,I[s+6],15,-1560198380),E=S(E,y,c,T,I[s+13],21,1309151649),T=S(T,E,y,c,I[s+4],6,-145523070),c=S(c,T,E,y,I[s+11],10,-1120210379),y=S(y,c,T,E,I[s+2],15,718787259),E=S(E,y,c,T,I[s+9],21,-343485551),T=F(T,v),E=F(E,d),y=F(y,K),c=F(c,se)}return[T,E,y,c]}(function(I){if(0===I.length)return[];const M=8*I.length,T=new Uint32Array(a(M));for(let E=0;E<M;E+=8)T[E>>5]|=(255&I[E/8])<<E%32;return T}(I),8*I.length))}},5468:(re,U)=>{Object.defineProperty(U,"__esModule",{value:!0}),U.default=function(){if(!l)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(g)};const l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),g=new Uint8Array(16)},209:(re,U)=>{function l(p,F,B,N){switch(p){case 0:return F&B^~F&N;case 1:case 3:return F^B^N;case 2:return F&B^F&N^B&N}}function g(p,F){return p<<F|p>>>32-F}Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0,U.default=function(p){const F=[1518500249,1859775393,2400959708,3395469782],B=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof p){const w=unescape(encodeURIComponent(p));p=[];for(let S=0;S<w.length;++S)p.push(w.charCodeAt(S))}p.push(128);const k=Math.ceil((p.length/4+2)/16),O=new Array(k);for(let w=0;w<k;++w){const S=new Uint32Array(16);for(let R=0;R<16;++R)S[R]=p[64*w+4*R]<<24|p[64*w+4*R+1]<<16|p[64*w+4*R+2]<<8|p[64*w+4*R+3];O[w]=S}O[k-1][14]=8*(p.length-1)/Math.pow(2,32),O[k-1][14]=Math.floor(O[k-1][14]),O[k-1][15]=8*(p.length-1)&4294967295;for(let w=0;w<k;++w){const S=new Uint32Array(80);for(let y=0;y<16;++y)S[y]=O[w][y];for(let y=16;y<80;++y)S[y]=g(S[y-3]^S[y-8]^S[y-14]^S[y-16],1);let R=B[0],I=B[1],M=B[2],T=B[3],E=B[4];for(let y=0;y<80;++y){const c=Math.floor(y/20),s=g(R,5)+l(c,I,M,T)+E+F[c]+S[y]>>>0;E=T,T=M,M=g(I,30)>>>0,I=R,R=s}B[0]=B[0]+R>>>0,B[1]=B[1]+I>>>0,B[2]=B[2]+M>>>0,B[3]=B[3]+T>>>0,B[4]=B[4]+E>>>0}return[B[0]>>24&255,B[0]>>16&255,B[0]>>8&255,255&B[0],B[1]>>24&255,B[1]>>16&255,B[1]>>8&255,255&B[1],B[2]>>24&255,B[2]>>16&255,B[2]>>8&255,255&B[2],B[3]>>24&255,B[3]>>16&255,B[3]>>8&255,255&B[3],B[4]>>24&255,B[4]>>16&255,B[4]>>8&255,255&B[4]]}},9110:(re,U,l)=>{Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0;var g=D(l(5468)),a=D(l(2448));function D(w){return w&&w.__esModule?w:{default:w}}let p,F,B=0,N=0;U.default=function(w,S,R){let I=S&&R||0;const M=S||[];let T=(w=w||{}).node||p,E=void 0!==w.clockseq?w.clockseq:F;if(null==T||null==E){const K=w.random||(w.rng||g.default)();null==T&&(T=p=[1|K[0],K[1],K[2],K[3],K[4],K[5]]),null==E&&(E=F=16383&(K[6]<<8|K[7]))}let y=void 0!==w.msecs?w.msecs:Date.now(),c=void 0!==w.nsecs?w.nsecs:N+1;const s=y-B+(c-N)/1e4;if(s<0&&void 0===w.clockseq&&(E=E+1&16383),(s<0||y>B)&&void 0===w.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");B=y,N=c,F=E,y+=122192928e5;const v=(1e4*(268435455&y)+c)%4294967296;M[I++]=v>>>24&255,M[I++]=v>>>16&255,M[I++]=v>>>8&255,M[I++]=255&v;const d=y/4294967296*1e4&268435455;M[I++]=d>>>8&255,M[I++]=255&d,M[I++]=d>>>24&15|16,M[I++]=d>>>16&255,M[I++]=E>>>8|128,M[I++]=255&E;for(let K=0;K<6;++K)M[I+K]=T[K];return S||(0,a.default)(M)}},8693:(re,U,l)=>{Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0;var g=D(l(1657)),a=D(l(872));function D(B){return B&&B.__esModule?B:{default:B}}var F=(0,g.default)("v3",48,a.default);U.default=F},1657:(re,U,l)=>{Object.defineProperty(U,"__esModule",{value:!0}),U.default=function(k,O,w){function S(R,I,M,T){const E=M&&T||0;if("string"==typeof R&&(R=function(k){k=unescape(encodeURIComponent(k));const O=[];for(let w=0;w<k.length;++w)O.push(k.charCodeAt(w));return O}(R)),"string"==typeof I&&(I=function(k){const O=[];return k.replace(/[a-fA-F0-9]{2}/g,function(w){O.push(parseInt(w,16))}),O}(I)),!Array.isArray(R))throw TypeError("value must be an array of bytes");if(!Array.isArray(I)||16!==I.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");const y=w(I.concat(R));if(y[6]=15&y[6]|O,y[8]=63&y[8]|128,M)for(let c=0;c<16;++c)M[E+c]=y[c];return M||(0,g.default)(y)}try{S.name=k}catch{}return S.DNS=F,S.URL=B,S},U.URL=U.DNS=void 0;var k,g=(k=l(2448))&&k.__esModule?k:{default:k};const F="6ba7b810-9dad-11d1-80b4-00c04fd430c8";U.DNS=F;const B="6ba7b811-9dad-11d1-80b4-00c04fd430c8";U.URL=B},491:(re,U,l)=>{Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0;var g=D(l(5468)),a=D(l(2448));function D(B){return B&&B.__esModule?B:{default:B}}U.default=function(B,N,k){"string"==typeof B&&(N="binary"===B?new Uint8Array(16):null,B=null);const O=(B=B||{}).random||(B.rng||g.default)();if(O[6]=15&O[6]|64,O[8]=63&O[8]|128,N){const w=k||0;for(let S=0;S<16;++S)N[w+S]=O[S];return N}return(0,a.default)(O)}},8518:(re,U,l)=>{Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0;var g=D(l(1657)),a=D(l(209));function D(B){return B&&B.__esModule?B:{default:B}}var F=(0,g.default)("v5",80,a.default);U.default=F},4468:re=>{var U=Object,l=TypeError;re.exports=function(){if(null!=this&&this!==U(this))throw new l("RegExp.prototype.flags getter called on non-object");var a="";return this.global&&(a+="g"),this.ignoreCase&&(a+="i"),this.multiline&&(a+="m"),this.dotAll&&(a+="s"),this.unicode&&(a+="u"),this.sticky&&(a+="y"),a}},9235:(re,U,l)=>{var g=l(2358),a=l(5685),D=l(4468),p=l(6343),F=l(1956),B=a(D);g(B,{getPolyfill:p,implementation:D,shim:F}),re.exports=B},6343:(re,U,l)=>{var g=l(4468),a=l(2358).supportsDescriptors,D=Object.getOwnPropertyDescriptor,p=TypeError;re.exports=function(){if(!a)throw new p("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var B=D(RegExp.prototype,"flags");if(B&&"function"==typeof B.get&&"boolean"==typeof/a/.dotAll)return B.get}return g}},1956:(re,U,l)=>{var g=l(2358).supportsDescriptors,a=l(6343),D=Object.getOwnPropertyDescriptor,p=Object.defineProperty,F=TypeError,B=Object.getPrototypeOf,N=/a/;re.exports=function(){if(!g||!B)throw new F("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var O=a(),w=B(N),S=D(w,"flags");return(!S||S.get!==O)&&p(w,"flags",{configurable:!0,enumerable:!1,get:O}),O}},4966:re=>{var U=function(){"use strict";function l(w,S){return null!=S&&w instanceof S}var g,a,D;try{g=Map}catch{g=function(){}}try{a=Set}catch{a=function(){}}try{D=Promise}catch{D=function(){}}function p(w,S,R,I,M){"object"==typeof S&&(R=S.depth,I=S.prototype,M=S.includeNonEnumerable,S=S.circular);var T=[],E=[],y="undefined"!=typeof Buffer;return void 0===S&&(S=!0),void 0===R&&(R=1/0),function c(s,v){if(null===s)return null;if(0===v)return s;var d,K;if("object"!=typeof s)return s;if(l(s,g))d=new g;else if(l(s,a))d=new a;else if(l(s,D))d=new D(function(J,q){s.then(function(_e){J(c(_e,v-1))},function(_e){q(c(_e,v-1))})});else if(p.__isArray(s))d=[];else if(p.__isRegExp(s))d=new RegExp(s.source,O(s)),s.lastIndex&&(d.lastIndex=s.lastIndex);else if(p.__isDate(s))d=new Date(s.getTime());else{if(y&&Buffer.isBuffer(s))return d=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(d),d;l(s,Error)?d=Object.create(s):void 0===I?(K=Object.getPrototypeOf(s),d=Object.create(K)):(d=Object.create(I),K=I)}if(S){var se=T.indexOf(s);if(-1!=se)return E[se];T.push(s),E.push(d)}for(var ye in l(s,g)&&s.forEach(function(J,q){var _e=c(q,v-1),Be=c(J,v-1);d.set(_e,Be)}),l(s,a)&&s.forEach(function(J){var q=c(J,v-1);d.add(q)}),s){var pe;K&&(pe=Object.getOwnPropertyDescriptor(K,ye)),(!pe||null!=pe.set)&&(d[ye]=c(s[ye],v-1))}if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(s);for(ye=0;ye<le.length;ye++){var Q=le[ye];(z=Object.getOwnPropertyDescriptor(s,Q))&&!z.enumerable&&!M||(d[Q]=c(s[Q],v-1),z.enumerable||Object.defineProperty(d,Q,{enumerable:!1}))}}if(M){var Y=Object.getOwnPropertyNames(s);for(ye=0;ye<Y.length;ye++){var z,V=Y[ye];(z=Object.getOwnPropertyDescriptor(s,V))&&z.enumerable||(d[V]=c(s[V],v-1),Object.defineProperty(d,V,{enumerable:!1}))}}return d}(w,R)}function F(w){return Object.prototype.toString.call(w)}function O(w){var S="";return w.global&&(S+="g"),w.ignoreCase&&(S+="i"),w.multiline&&(S+="m"),S}return p.clonePrototype=function(S){if(null===S)return null;var R=function(){};return R.prototype=S,new R},p.__objToStr=F,p.__isDate=function(w){return"object"==typeof w&&"[object Date]"===F(w)},p.__isArray=function(w){return"object"==typeof w&&"[object Array]"===F(w)},p.__isRegExp=function(w){return"object"==typeof w&&"[object RegExp]"===F(w)},p.__getRegExpFlags=O,p}();re.exports&&(re.exports=U)},1135:(re,U,l)=>{l.d(U,{X:()=>a});var g=l(7579);class a extends g.x{constructor(p){super(),this._value=p}get value(){return this.getValue()}_subscribe(p){const F=super._subscribe(p);return!F.closed&&p.next(this._value),F}getValue(){const{hasError:p,thrownError:F,_value:B}=this;if(p)throw F;return this._throwIfClosed(),B}next(p){super.next(this._value=p)}}},8306:(re,U,l)=>{l.d(U,{y:()=>w});var g=l(930),a=l(727),D=l(8822),p=l(4671);var N=l(2416),k=l(576),O=l(2806);let w=(()=>{class M{constructor(E){E&&(this._subscribe=E)}lift(E){const y=new M;return y.source=this,y.operator=E,y}subscribe(E,y,c){const s=function(M){return M&&M instanceof g.Lv||function(M){return M&&(0,k.m)(M.next)&&(0,k.m)(M.error)&&(0,k.m)(M.complete)}(M)&&(0,a.Nn)(M)}(E)?E:new g.Hp(E,y,c);return(0,O.x)(()=>{const{operator:v,source:d}=this;s.add(v?v.call(s,d):d?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(E){try{return this._subscribe(E)}catch(y){E.error(y)}}forEach(E,y){return new(y=S(y))((c,s)=>{const v=new g.Hp({next:d=>{try{E(d)}catch(K){s(K),v.unsubscribe()}},error:s,complete:c});this.subscribe(v)})}_subscribe(E){var y;return null===(y=this.source)||void 0===y?void 0:y.subscribe(E)}[D.L](){return this}pipe(...E){return function(M){return 0===M.length?p.y:1===M.length?M[0]:function(E){return M.reduce((y,c)=>c(y),E)}}(E)(this)}toPromise(E){return new(E=S(E))((y,c)=>{let s;this.subscribe(v=>s=v,v=>c(v),()=>y(s))})}}return M.create=T=>new M(T),M})();function S(M){var T;return null!==(T=M??N.v.Promise)&&void 0!==T?T:Promise}},7579:(re,U,l)=>{l.d(U,{x:()=>N});var g=l(8306),a=l(727);const p=(0,l(3888).d)(O=>function(){O(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var F=l(8737),B=l(2806);let N=(()=>{class O extends g.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(S){const R=new k(this,this);return R.operator=S,R}_throwIfClosed(){if(this.closed)throw new p}next(S){(0,B.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const R=this.observers.slice();for(const I of R)I.next(S)}})}error(S){(0,B.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=S;const{observers:R}=this;for(;R.length;)R.shift().error(S)}})}complete(){(0,B.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:S}=this;for(;S.length;)S.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var S;return(null===(S=this.observers)||void 0===S?void 0:S.length)>0}_trySubscribe(S){return this._throwIfClosed(),super._trySubscribe(S)}_subscribe(S){return this._throwIfClosed(),this._checkFinalizedStatuses(S),this._innerSubscribe(S)}_innerSubscribe(S){const{hasError:R,isStopped:I,observers:M}=this;return R||I?a.Lc:(M.push(S),new a.w0(()=>(0,F.P)(M,S)))}_checkFinalizedStatuses(S){const{hasError:R,thrownError:I,isStopped:M}=this;R?S.error(I):M&&S.complete()}asObservable(){const S=new g.y;return S.source=this,S}}return O.create=(w,S)=>new k(w,S),O})();class k extends N{constructor(w,S){super(),this.destination=w,this.source=S}next(w){var S,R;null===(R=null===(S=this.destination)||void 0===S?void 0:S.next)||void 0===R||R.call(S,w)}error(w){var S,R;null===(R=null===(S=this.destination)||void 0===S?void 0:S.error)||void 0===R||R.call(S,w)}complete(){var w,S;null===(S=null===(w=this.destination)||void 0===w?void 0:w.complete)||void 0===S||S.call(w)}_subscribe(w){var S,R;return null!==(R=null===(S=this.source)||void 0===S?void 0:S.subscribe(w))&&void 0!==R?R:a.Lc}}},930:(re,U,l)=>{l.d(U,{Hp:()=>I,Lv:()=>R});var g=l(576),a=l(727),D=l(2416),p=l(7849),F=l(5032);const B=O("C",void 0,void 0);function O(c,s,v){return{kind:c,value:s,error:v}}var w=l(3410),S=l(2806);class R extends a.w0{constructor(s){super(),this.isStopped=!1,s?(this.destination=s,(0,a.Nn)(s)&&s.add(this)):this.destination=y}static create(s,v,d){return new I(s,v,d)}next(s){this.isStopped?E(O("N",s,void 0),this):this._next(s)}error(s){this.isStopped?E(O("E",void 0,s),this):(this.isStopped=!0,this._error(s))}complete(){this.isStopped?E(B,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(s){this.destination.next(s)}_error(s){try{this.destination.error(s)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class I extends R{constructor(s,v,d){let K;if(super(),(0,g.m)(s))K=s;else if(s){let se;({next:K,error:v,complete:d}=s),this&&D.v.useDeprecatedNextContext?(se=Object.create(s),se.unsubscribe=()=>this.unsubscribe()):se=s,K=null==K?void 0:K.bind(se),v=null==v?void 0:v.bind(se),d=null==d?void 0:d.bind(se)}this.destination={next:K?M(K):F.Z,error:M(v??T),complete:d?M(d):F.Z}}}function M(c,s){return(...v)=>{try{c(...v)}catch(d){D.v.useDeprecatedSynchronousErrorHandling?(0,S.O)(d):(0,p.h)(d)}}}function T(c){throw c}function E(c,s){const{onStoppedNotification:v}=D.v;v&&w.z.setTimeout(()=>v(c,s))}const y={closed:!0,next:F.Z,error:T,complete:F.Z}},727:(re,U,l)=>{l.d(U,{Lc:()=>B,w0:()=>F,Nn:()=>N});var g=l(576);const D=(0,l(3888).d)(O=>function(S){O(this),this.message=S?`${S.length} errors occurred during unsubscription:\n${S.map((R,I)=>`${I+1}) ${R.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=S});var p=l(8737);class F{constructor(w){this.initialTeardown=w,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let w;if(!this.closed){this.closed=!0;const{_parentage:S}=this;if(S)if(this._parentage=null,Array.isArray(S))for(const M of S)M.remove(this);else S.remove(this);const{initialTeardown:R}=this;if((0,g.m)(R))try{R()}catch(M){w=M instanceof D?M.errors:[M]}const{_teardowns:I}=this;if(I){this._teardowns=null;for(const M of I)try{k(M)}catch(T){w=w??[],T instanceof D?w=[...w,...T.errors]:w.push(T)}}if(w)throw new D(w)}}add(w){var S;if(w&&w!==this)if(this.closed)k(w);else{if(w instanceof F){if(w.closed||w._hasParent(this))return;w._addParent(this)}(this._teardowns=null!==(S=this._teardowns)&&void 0!==S?S:[]).push(w)}}_hasParent(w){const{_parentage:S}=this;return S===w||Array.isArray(S)&&S.includes(w)}_addParent(w){const{_parentage:S}=this;this._parentage=Array.isArray(S)?(S.push(w),S):S?[S,w]:w}_removeParent(w){const{_parentage:S}=this;S===w?this._parentage=null:Array.isArray(S)&&(0,p.P)(S,w)}remove(w){const{_teardowns:S}=this;S&&(0,p.P)(S,w),w instanceof F&&w._removeParent(this)}}F.EMPTY=(()=>{const O=new F;return O.closed=!0,O})();const B=F.EMPTY;function N(O){return O instanceof F||O&&"closed"in O&&(0,g.m)(O.remove)&&(0,g.m)(O.add)&&(0,g.m)(O.unsubscribe)}function k(O){(0,g.m)(O)?O():O.unsubscribe()}},2416:(re,U,l)=>{l.d(U,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3905:(re,U,l)=>{l.d(U,{z:()=>D});var g=l(6805),a=l(930);function D(p,F){const B="object"==typeof F;return new Promise((N,k)=>{const O=new a.Hp({next:w=>{N(w),O.unsubscribe()},error:k,complete:()=>{B?N(F.defaultValue):k(new g.K)}});p.subscribe(O)})}},9841:(re,U,l)=>{l.d(U,{a:()=>w});var g=l(8306),a=l(4742),D=l(2076),p=l(4671),F=l(3268),B=l(3269),N=l(1810),k=l(5403),O=l(9672);function w(...I){const M=(0,B.yG)(I),T=(0,B.jO)(I),{args:E,keys:y}=(0,a.D)(I);if(0===E.length)return(0,D.D)([],M);const c=new g.y(function(I,M,T=p.y){return E=>{R(M,()=>{const{length:y}=I,c=new Array(y);let s=y,v=y;for(let d=0;d<y;d++)R(M,()=>{const K=(0,D.D)(I[d],M);let se=!1;K.subscribe(new k.Q(E,ye=>{c[d]=ye,se||(se=!0,v--),v||E.next(T(c.slice()))},()=>{--s||E.complete()}))},E)},E)}}(E,M,y?s=>(0,N.n)(y,s):p.y));return T?c.pipe((0,F.Z)(T)):c}function R(I,M,T){I?(0,O.f)(T,I,M):M()}},7272:(re,U,l)=>{l.d(U,{z:()=>F});var g=l(8189),D=l(3269),p=l(2076);function F(...B){return(0,g.J)(1)((0,p.D)(B,(0,D.yG)(B)))}},9770:(re,U,l)=>{l.d(U,{P:()=>D});var g=l(8306),a=l(8421);function D(p){return new g.y(F=>{(0,a.Xf)(p()).subscribe(F)})}},515:(re,U,l)=>{l.d(U,{E:()=>a});const a=new(l(8306).y)(F=>F.complete())},4128:(re,U,l)=>{l.d(U,{D:()=>k});var g=l(8306),a=l(4742),D=l(8421),p=l(3269),F=l(5403),B=l(3268),N=l(1810);function k(...O){const w=(0,p.jO)(O),{args:S,keys:R}=(0,a.D)(O),I=new g.y(M=>{const{length:T}=S;if(!T)return void M.complete();const E=new Array(T);let y=T,c=T;for(let s=0;s<T;s++){let v=!1;(0,D.Xf)(S[s]).subscribe(new F.Q(M,d=>{v||(v=!0,c--),E[s]=d},()=>y--,void 0,()=>{(!y||!v)&&(c||M.next(R?(0,N.n)(R,E):E),M.complete())}))}});return w?I.pipe((0,B.Z)(w)):I}},2076:(re,U,l)=>{l.d(U,{D:()=>ye});var g=l(8421),a=l(9672),D=l(4482),p=l(5403);function F(pe,le=0){return(0,D.e)((Q,z)=>{Q.subscribe(new p.Q(z,Y=>(0,a.f)(z,pe,()=>z.next(Y),le),()=>(0,a.f)(z,pe,()=>z.complete(),le),Y=>(0,a.f)(z,pe,()=>z.error(Y),le)))})}function B(pe,le=0){return(0,D.e)((Q,z)=>{z.add(pe.schedule(()=>Q.subscribe(z),le))})}var O=l(8306),S=l(2202),R=l(576);function M(pe,le){if(!pe)throw new Error("Iterable cannot be null");return new O.y(Q=>{(0,a.f)(Q,le,()=>{const z=pe[Symbol.asyncIterator]();(0,a.f)(Q,le,()=>{z.next().then(Y=>{Y.done?Q.complete():Q.next(Y.value)})},0,!0)})})}var T=l(3670),E=l(8239),y=l(1144),c=l(6495),s=l(2206),v=l(4532),d=l(3260);function ye(pe,le){return le?function(pe,le){if(null!=pe){if((0,T.c)(pe))return function(pe,le){return(0,g.Xf)(pe).pipe(B(le),F(le))}(pe,le);if((0,y.z)(pe))return function(pe,le){return new O.y(Q=>{let z=0;return le.schedule(function(){z===pe.length?Q.complete():(Q.next(pe[z++]),Q.closed||this.schedule())})})}(pe,le);if((0,E.t)(pe))return function(pe,le){return(0,g.Xf)(pe).pipe(B(le),F(le))}(pe,le);if((0,s.D)(pe))return M(pe,le);if((0,c.T)(pe))return function(pe,le){return new O.y(Q=>{let z;return(0,a.f)(Q,le,()=>{z=pe[S.h](),(0,a.f)(Q,le,()=>{let Y,V;try{({value:Y,done:V}=z.next())}catch(J){return void Q.error(J)}V?Q.complete():Q.next(Y)},0,!0)}),()=>(0,R.m)(null==z?void 0:z.return)&&z.return()})}(pe,le);if((0,d.L)(pe))return function(pe,le){return M((0,d.Q)(pe),le)}(pe,le)}throw(0,v.z)(pe)}(pe,le):(0,g.Xf)(pe)}},4968:(re,U,l)=>{l.d(U,{R:()=>w});var g=l(8421),a=l(8306),D=l(5577),p=l(1144),F=l(576),B=l(3268);const N=["addListener","removeListener"],k=["addEventListener","removeEventListener"],O=["on","off"];function w(T,E,y,c){if((0,F.m)(y)&&(c=y,y=void 0),c)return w(T,E,y).pipe((0,B.Z)(c));const[s,v]=function(T){return(0,F.m)(T.addEventListener)&&(0,F.m)(T.removeEventListener)}(T)?k.map(d=>K=>T[d](E,K,y)):function(T){return(0,F.m)(T.addListener)&&(0,F.m)(T.removeListener)}(T)?N.map(S(T,E)):function(T){return(0,F.m)(T.on)&&(0,F.m)(T.off)}(T)?O.map(S(T,E)):[];if(!s&&(0,p.z)(T))return(0,D.z)(d=>w(d,E,y))((0,g.Xf)(T));if(!s)throw new TypeError("Invalid event target");return new a.y(d=>{const K=(...se)=>d.next(1<se.length?se:se[0]);return s(K),()=>v(K)})}function S(T,E){return y=>c=>T[y](E,c)}},8421:(re,U,l)=>{l.d(U,{Xf:()=>I});var g=l(655),a=l(1144),D=l(8239),p=l(8306),F=l(3670),B=l(2206),N=l(4532),k=l(6495),O=l(3260),w=l(576),S=l(7849),R=l(8822);function I(d){if(d instanceof p.y)return d;if(null!=d){if((0,F.c)(d))return function(d){return new p.y(K=>{const se=d[R.L]();if((0,w.m)(se.subscribe))return se.subscribe(K);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(d);if((0,a.z)(d))return function(d){return new p.y(K=>{for(let se=0;se<d.length&&!K.closed;se++)K.next(d[se]);K.complete()})}(d);if((0,D.t)(d))return function(d){return new p.y(K=>{d.then(se=>{K.closed||(K.next(se),K.complete())},se=>K.error(se)).then(null,S.h)})}(d);if((0,B.D)(d))return c(d);if((0,k.T)(d))return function(d){return new p.y(K=>{for(const se of d)if(K.next(se),K.closed)return;K.complete()})}(d);if((0,O.L)(d))return function(d){return c((0,O.Q)(d))}(d)}throw(0,N.z)(d)}function c(d){return new p.y(K=>{(function(d,K){var se,ye,pe,le;return(0,g.mG)(this,void 0,void 0,function*(){try{for(se=(0,g.KL)(d);!(ye=yield se.next()).done;)if(K.next(ye.value),K.closed)return}catch(Q){pe={error:Q}}finally{try{ye&&!ye.done&&(le=se.return)&&(yield le.call(se))}finally{if(pe)throw pe.error}}K.complete()})})(d,K).catch(se=>K.error(se))})}},6451:(re,U,l)=>{l.d(U,{T:()=>B});var g=l(8189),a=l(8421),D=l(515),p=l(3269),F=l(2076);function B(...N){const k=(0,p.yG)(N),O=(0,p._6)(N,1/0),w=N;return w.length?1===w.length?(0,a.Xf)(w[0]):(0,g.J)(O)((0,F.D)(w,k)):D.E}},9646:(re,U,l)=>{l.d(U,{of:()=>D});var g=l(3269),a=l(2076);function D(...p){const F=(0,g.yG)(p);return(0,a.D)(p,F)}},2843:(re,U,l)=>{l.d(U,{_:()=>D});var g=l(8306),a=l(576);function D(p,F){const B=(0,a.m)(p)?p:()=>p,N=k=>k.error(B());return new g.y(F?k=>F.schedule(N,0,k):N)}},5963:(re,U,l)=>{l.d(U,{H:()=>F});var g=l(8306),a=l(4986),D=l(3532);function F(B=0,N,k=a.P){let O=-1;return null!=N&&((0,D.K)(N)?k=N:O=N),new g.y(w=>{let S=function(B){return B instanceof Date&&!isNaN(B)}(B)?+B-k.now():B;S<0&&(S=0);let R=0;return k.schedule(function(){w.closed||(w.next(R++),0<=O?this.schedule(void 0,O):w.complete())},S)})}},5403:(re,U,l)=>{l.d(U,{Q:()=>a});var g=l(930);class a extends g.Lv{constructor(p,F,B,N,k){super(p),this.onFinalize=k,this._next=F?function(O){try{F(O)}catch(w){p.error(w)}}:super._next,this._error=N?function(O){try{N(O)}catch(w){p.error(w)}finally{this.unsubscribe()}}:super._error,this._complete=B?function(){try{B()}catch(O){p.error(O)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var p;const{closed:F}=this;super.unsubscribe(),!F&&(null===(p=this.onFinalize)||void 0===p||p.call(this))}}},3601:(re,U,l)=>{l.d(U,{e:()=>N});var g=l(4986),a=l(4482),D=l(8421),p=l(5403),B=l(5963);function N(k,O=g.P){return function(k){return(0,a.e)((O,w)=>{let S=!1,R=null,I=null,M=!1;const T=()=>{if(null==I||I.unsubscribe(),I=null,S){S=!1;const y=R;R=null,w.next(y)}M&&w.complete()},E=()=>{I=null,M&&w.complete()};O.subscribe(new p.Q(w,y=>{S=!0,R=y,I||(0,D.Xf)(k()).subscribe(I=new p.Q(w,T,E))},()=>{M=!0,(!S||!I||I.closed)&&w.complete()}))})}(()=>(0,B.H)(k,O))}},262:(re,U,l)=>{l.d(U,{K:()=>p});var g=l(8421),a=l(5403),D=l(4482);function p(F){return(0,D.e)((B,N)=>{let w,k=null,O=!1;k=B.subscribe(new a.Q(N,void 0,void 0,S=>{w=(0,g.Xf)(F(S,p(F)(B))),k?(k.unsubscribe(),k=null,w.subscribe(N)):O=!0})),O&&(k.unsubscribe(),k=null,w.subscribe(N))})}},1884:(re,U,l)=>{l.d(U,{x:()=>p});var g=l(4671),a=l(4482),D=l(5403);function p(B,N=g.y){return B=B??F,(0,a.e)((k,O)=>{let w,S=!0;k.subscribe(new D.Q(O,R=>{const I=N(R);(S||!B(w,I))&&(S=!1,w=I,O.next(R))}))})}function F(B,N){return B===N}},9300:(re,U,l)=>{l.d(U,{h:()=>D});var g=l(4482),a=l(5403);function D(p,F){return(0,g.e)((B,N)=>{let k=0;B.subscribe(new a.Q(N,O=>p.call(F,O,k++)&&N.next(O)))})}},8746:(re,U,l)=>{l.d(U,{x:()=>a});var g=l(4482);function a(D){return(0,g.e)((p,F)=>{try{p.subscribe(F)}finally{F.add(D)}})}},4004:(re,U,l)=>{l.d(U,{U:()=>D});var g=l(4482),a=l(5403);function D(p,F){return(0,g.e)((B,N)=>{let k=0;B.subscribe(new a.Q(N,O=>{N.next(p.call(F,O,k++))}))})}},8189:(re,U,l)=>{l.d(U,{J:()=>D});var g=l(5577),a=l(4671);function D(p=1/0){return(0,g.z)(a.y,p)}},5577:(re,U,l)=>{l.d(U,{z:()=>k});var g=l(4004),a=l(8421),D=l(4482),F=(l(9672),l(5403)),N=l(576);function k(O,w,S=1/0){return(0,N.m)(w)?k((R,I)=>(0,g.U)((M,T)=>w(R,M,I,T))((0,a.Xf)(O(R,I))),S):("number"==typeof w&&(S=w),(0,D.e)((R,I)=>function(O,w,S,R,I,M,T,E){const y=[];let c=0,s=0,v=!1;const d=()=>{v&&!y.length&&!c&&w.complete()},K=ye=>c<R?se(ye):y.push(ye),se=ye=>{c++;let pe=!1;(0,a.Xf)(S(ye,s++)).subscribe(new F.Q(w,le=>{w.next(le)},()=>{pe=!0},void 0,()=>{if(pe)try{for(c--;y.length&&c<R;){const le=y.shift();se(le)}d()}catch(le){w.error(le)}}))};return O.subscribe(new F.Q(w,K,()=>{v=!0,d()})),()=>{}}(R,I,O,S)))}},3099:(re,U,l)=>{l.d(U,{B:()=>B});var g=l(2076),a=l(5698),D=l(7579),p=l(930),F=l(4482);function B(k={}){const{connector:O=(()=>new D.x),resetOnError:w=!0,resetOnComplete:S=!0,resetOnRefCountZero:R=!0}=k;return I=>{let M=null,T=null,E=null,y=0,c=!1,s=!1;const v=()=>{null==T||T.unsubscribe(),T=null},d=()=>{v(),M=E=null,c=s=!1},K=()=>{const se=M;d(),null==se||se.unsubscribe()};return(0,F.e)((se,ye)=>{y++,!s&&!c&&v();const pe=E=E??O();ye.add(()=>{y--,0===y&&!s&&!c&&(T=N(K,R))}),pe.subscribe(ye),M||(M=new p.Hp({next:le=>pe.next(le),error:le=>{s=!0,v(),T=N(d,w,le),pe.error(le)},complete:()=>{c=!0,v(),T=N(d,S),pe.complete()}}),(0,g.D)(se).subscribe(M))})(I)}}function N(k,O,...w){return!0===O?(k(),null):!1===O?null:O(...w).pipe((0,a.q)(1)).subscribe(()=>k())}},8675:(re,U,l)=>{l.d(U,{O:()=>p});var g=l(7272),a=l(3269),D=l(4482);function p(...F){const B=(0,a.yG)(F);return(0,D.e)((N,k)=>{(B?(0,g.z)(F,N,B):(0,g.z)(F,N)).subscribe(k)})}},3900:(re,U,l)=>{l.d(U,{w:()=>p});var g=l(8421),a=l(4482),D=l(5403);function p(F,B){return(0,a.e)((N,k)=>{let O=null,w=0,S=!1;const R=()=>S&&!O&&k.complete();N.subscribe(new D.Q(k,I=>{null==O||O.unsubscribe();let M=0;const T=w++;(0,g.Xf)(F(I,T)).subscribe(O=new D.Q(k,E=>k.next(B?B(I,E,T,M++):E),()=>{O=null,R()}))},()=>{S=!0,R()}))})}},5698:(re,U,l)=>{l.d(U,{q:()=>p});var g=l(515),a=l(4482),D=l(5403);function p(F){return F<=0?()=>g.E:(0,a.e)((B,N)=>{let k=0;B.subscribe(new D.Q(N,O=>{++k<=F&&(N.next(O),F<=k&&N.complete())}))})}},2722:(re,U,l)=>{l.d(U,{R:()=>F});var g=l(4482),a=l(5403),D=l(8421),p=l(5032);function F(B){return(0,g.e)((N,k)=>{(0,D.Xf)(B).subscribe(new a.Q(k,()=>k.complete(),p.Z)),!k.closed&&N.subscribe(k)})}},8505:(re,U,l)=>{l.d(U,{b:()=>F});var g=l(576),a=l(4482),D=l(5403),p=l(4671);function F(B,N,k){const O=(0,g.m)(B)||N||k?{next:B,error:N,complete:k}:B;return O?(0,a.e)((w,S)=>{var R;null===(R=O.subscribe)||void 0===R||R.call(O);let I=!0;w.subscribe(new D.Q(S,M=>{var T;null===(T=O.next)||void 0===T||T.call(O,M),S.next(M)},()=>{var M;I=!1,null===(M=O.complete)||void 0===M||M.call(O),S.complete()},M=>{var T;I=!1,null===(T=O.error)||void 0===T||T.call(O,M),S.error(M)},()=>{var M,T;I&&(null===(M=O.unsubscribe)||void 0===M||M.call(O)),null===(T=O.finalize)||void 0===T||T.call(O)}))}):p.y}},4408:(re,U,l)=>{l.d(U,{o:()=>F});var g=l(727);class a extends g.w0{constructor(N,k){super()}schedule(N,k=0){return this}}const D={setInterval(...B){const{delegate:N}=D;return((null==N?void 0:N.setInterval)||setInterval)(...B)},clearInterval(B){const{delegate:N}=D;return((null==N?void 0:N.clearInterval)||clearInterval)(B)},delegate:void 0};var p=l(8737);class F extends a{constructor(N,k){super(N,k),this.scheduler=N,this.work=k,this.pending=!1}schedule(N,k=0){if(this.closed)return this;this.state=N;const O=this.id,w=this.scheduler;return null!=O&&(this.id=this.recycleAsyncId(w,O,k)),this.pending=!0,this.delay=k,this.id=this.id||this.requestAsyncId(w,this.id,k),this}requestAsyncId(N,k,O=0){return D.setInterval(N.flush.bind(N,this),O)}recycleAsyncId(N,k,O=0){if(null!=O&&this.delay===O&&!1===this.pending)return k;D.clearInterval(k)}execute(N,k){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const O=this._execute(N,k);if(O)return O;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(N,k){let w,O=!1;try{this.work(N)}catch(S){O=!0,w=S||new Error("Scheduled action threw falsy error")}if(O)return this.unsubscribe(),w}unsubscribe(){if(!this.closed){const{id:N,scheduler:k}=this,{actions:O}=k;this.work=this.state=this.scheduler=null,this.pending=!1,(0,p.P)(O,this),null!=N&&(this.id=this.recycleAsyncId(k,N,null)),this.delay=null,super.unsubscribe()}}}},7565:(re,U,l)=>{l.d(U,{v:()=>D});var g=l(6063);class a{constructor(F,B=a.now){this.schedulerActionCtor=F,this.now=B}schedule(F,B=0,N){return new this.schedulerActionCtor(this,F).schedule(N,B)}}a.now=g.l.now;class D extends a{constructor(F,B=a.now){super(F,B),this.actions=[],this._active=!1,this._scheduled=void 0}flush(F){const{actions:B}=this;if(this._active)return void B.push(F);let N;this._active=!0;do{if(N=F.execute(F.state,F.delay))break}while(F=B.shift());if(this._active=!1,N){for(;F=B.shift();)F.unsubscribe();throw N}}}},6406:(re,U,l)=>{l.d(U,{Z:()=>N});var g=l(4408),a=l(727);const D={schedule(O){let w=requestAnimationFrame,S=cancelAnimationFrame;const{delegate:R}=D;R&&(w=R.requestAnimationFrame,S=R.cancelAnimationFrame);const I=w(M=>{S=void 0,O(M)});return new a.w0(()=>null==S?void 0:S(I))},requestAnimationFrame(...O){const{delegate:w}=D;return((null==w?void 0:w.requestAnimationFrame)||requestAnimationFrame)(...O)},cancelAnimationFrame(...O){const{delegate:w}=D;return((null==w?void 0:w.cancelAnimationFrame)||cancelAnimationFrame)(...O)},delegate:void 0};var F=l(7565);const N=new class extends F.v{flush(w){this._active=!0;const S=this._scheduled;this._scheduled=void 0;const{actions:R}=this;let I;w=w||R.shift();do{if(I=w.execute(w.state,w.delay))break}while((w=R[0])&&w.id===S&&R.shift());if(this._active=!1,I){for(;(w=R[0])&&w.id===S&&R.shift();)w.unsubscribe();throw I}}}(class extends g.o{constructor(w,S){super(w,S),this.scheduler=w,this.work=S}requestAsyncId(w,S,R=0){return null!==R&&R>0?super.requestAsyncId(w,S,R):(w.actions.push(this),w._scheduled||(w._scheduled=D.requestAnimationFrame(()=>w.flush(void 0))))}recycleAsyncId(w,S,R=0){if(null!=R&&R>0||null==R&&this.delay>0)return super.recycleAsyncId(w,S,R);w.actions.some(I=>I.id===S)||(D.cancelAnimationFrame(S),w._scheduled=void 0)}})},3101:(re,U,l)=>{l.d(U,{E:()=>M});var g=l(4408);let D,a=1;const p={};function F(E){return E in p&&(delete p[E],!0)}const B={setImmediate(E){const y=a++;return p[y]=!0,D||(D=Promise.resolve()),D.then(()=>F(y)&&E()),y},clearImmediate(E){F(E)}},{setImmediate:k,clearImmediate:O}=B,w={setImmediate(...E){const{delegate:y}=w;return((null==y?void 0:y.setImmediate)||k)(...E)},clearImmediate(E){const{delegate:y}=w;return((null==y?void 0:y.clearImmediate)||O)(E)},delegate:void 0};var R=l(7565);const M=new class extends R.v{flush(y){this._active=!0;const c=this._scheduled;this._scheduled=void 0;const{actions:s}=this;let v;y=y||s.shift();do{if(v=y.execute(y.state,y.delay))break}while((y=s[0])&&y.id===c&&s.shift());if(this._active=!1,v){for(;(y=s[0])&&y.id===c&&s.shift();)y.unsubscribe();throw v}}}(class extends g.o{constructor(y,c){super(y,c),this.scheduler=y,this.work=c}requestAsyncId(y,c,s=0){return null!==s&&s>0?super.requestAsyncId(y,c,s):(y.actions.push(this),y._scheduled||(y._scheduled=w.setImmediate(y.flush.bind(y,void 0))))}recycleAsyncId(y,c,s=0){if(null!=s&&s>0||null==s&&this.delay>0)return super.recycleAsyncId(y,c,s);y.actions.some(v=>v.id===c)||(w.clearImmediate(c),y._scheduled=void 0)}})},4986:(re,U,l)=>{l.d(U,{z:()=>D,P:()=>p});var g=l(4408);const D=new(l(7565).v)(g.o),p=D},6063:(re,U,l)=>{l.d(U,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},3410:(re,U,l)=>{l.d(U,{z:()=>g});const g={setTimeout(...a){const{delegate:D}=g;return((null==D?void 0:D.setTimeout)||setTimeout)(...a)},clearTimeout(a){const{delegate:D}=g;return((null==D?void 0:D.clearTimeout)||clearTimeout)(a)},delegate:void 0}},2202:(re,U,l)=>{l.d(U,{h:()=>a});const a="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},8822:(re,U,l)=>{l.d(U,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(re,U,l)=>{l.d(U,{K:()=>a});const a=(0,l(3888).d)(D=>function(){D(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(re,U,l)=>{l.d(U,{jO:()=>p,yG:()=>F,_6:()=>B});var g=l(576),a=l(3532);function D(N){return N[N.length-1]}function p(N){return(0,g.m)(D(N))?N.pop():void 0}function F(N){return(0,a.K)(D(N))?N.pop():void 0}function B(N,k){return"number"==typeof D(N)?N.pop():k}},4742:(re,U,l)=>{l.d(U,{D:()=>F});const{isArray:g}=Array,{getPrototypeOf:a,prototype:D,keys:p}=Object;function F(N){if(1===N.length){const k=N[0];if(g(k))return{args:k,keys:null};if(function(N){return N&&"object"==typeof N&&a(N)===D}(k)){const O=p(k);return{args:O.map(w=>k[w]),keys:O}}}return{args:N,keys:null}}},8737:(re,U,l)=>{function g(a,D){if(a){const p=a.indexOf(D);0<=p&&a.splice(p,1)}}l.d(U,{P:()=>g})},3888:(re,U,l)=>{function g(a){const p=a(F=>{Error.call(F),F.stack=(new Error).stack});return p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p}l.d(U,{d:()=>g})},1810:(re,U,l)=>{function g(a,D){return a.reduce((p,F,B)=>(p[F]=D[B],p),{})}l.d(U,{n:()=>g})},2806:(re,U,l)=>{l.d(U,{x:()=>D,O:()=>p});var g=l(2416);let a=null;function D(F){if(g.v.useDeprecatedSynchronousErrorHandling){const B=!a;if(B&&(a={errorThrown:!1,error:null}),F(),B){const{errorThrown:N,error:k}=a;if(a=null,N)throw k}}else F()}function p(F){g.v.useDeprecatedSynchronousErrorHandling&&a&&(a.errorThrown=!0,a.error=F)}},9672:(re,U,l)=>{function g(a,D,p,F=0,B=!1){const N=D.schedule(function(){p(),B?a.add(this.schedule(null,F)):this.unsubscribe()},F);if(a.add(N),!B)return N}l.d(U,{f:()=>g})},4671:(re,U,l)=>{function g(a){return a}l.d(U,{y:()=>g})},1144:(re,U,l)=>{l.d(U,{z:()=>g});const g=a=>a&&"number"==typeof a.length&&"function"!=typeof a},2206:(re,U,l)=>{l.d(U,{D:()=>a});var g=l(576);function a(D){return Symbol.asyncIterator&&(0,g.m)(null==D?void 0:D[Symbol.asyncIterator])}},576:(re,U,l)=>{function g(a){return"function"==typeof a}l.d(U,{m:()=>g})},3670:(re,U,l)=>{l.d(U,{c:()=>D});var g=l(8822),a=l(576);function D(p){return(0,a.m)(p[g.L])}},6495:(re,U,l)=>{l.d(U,{T:()=>D});var g=l(2202),a=l(576);function D(p){return(0,a.m)(null==p?void 0:p[g.h])}},8239:(re,U,l)=>{l.d(U,{t:()=>a});var g=l(576);function a(D){return(0,g.m)(null==D?void 0:D.then)}},3260:(re,U,l)=>{l.d(U,{Q:()=>D,L:()=>p});var g=l(655),a=l(576);function D(F){return(0,g.FC)(this,arguments,function*(){const N=F.getReader();try{for(;;){const{value:k,done:O}=yield(0,g.qq)(N.read());if(O)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(k)}}finally{N.releaseLock()}})}function p(F){return(0,a.m)(null==F?void 0:F.getReader)}},3532:(re,U,l)=>{l.d(U,{K:()=>a});var g=l(576);function a(D){return D&&(0,g.m)(D.schedule)}},4482:(re,U,l)=>{l.d(U,{A:()=>a,e:()=>D});var g=l(576);function a(p){return(0,g.m)(null==p?void 0:p.lift)}function D(p){return F=>{if(a(F))return F.lift(function(B){try{return p(B,this)}catch(N){this.error(N)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(re,U,l)=>{l.d(U,{Z:()=>p});var g=l(4004);const{isArray:a}=Array;function p(F){return(0,g.U)(B=>function(F,B){return a(B)?F(...B):F(B)}(F,B))}},5032:(re,U,l)=>{function g(){}l.d(U,{Z:()=>g})},7849:(re,U,l)=>{l.d(U,{h:()=>D});var g=l(2416),a=l(3410);function D(p){a.z.setTimeout(()=>{const{onUnhandledError:F}=g.v;if(!F)throw p;F(p)})}},4532:(re,U,l)=>{function g(a){return new TypeError(`You provided ${null!==a&&"object"==typeof a?"an invalid object":`'${a}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}l.d(U,{z:()=>g})},1452:re=>{re.exports=function(U){"use strict";var g=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function D(E,y){var c=E[0],s=E[1],v=E[2],d=E[3];s=((s+=((v=((v+=((d=((d+=((c=((c+=(s&v|~s&d)+y[0]-680876936|0)<<7|c>>>25)+s|0)&s|~c&v)+y[1]-389564586|0)<<12|d>>>20)+c|0)&c|~d&s)+y[2]+606105819|0)<<17|v>>>15)+d|0)&d|~v&c)+y[3]-1044525330|0)<<22|s>>>10)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s&v|~s&d)+y[4]-176418897|0)<<7|c>>>25)+s|0)&s|~c&v)+y[5]+1200080426|0)<<12|d>>>20)+c|0)&c|~d&s)+y[6]-1473231341|0)<<17|v>>>15)+d|0)&d|~v&c)+y[7]-45705983|0)<<22|s>>>10)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s&v|~s&d)+y[8]+1770035416|0)<<7|c>>>25)+s|0)&s|~c&v)+y[9]-1958414417|0)<<12|d>>>20)+c|0)&c|~d&s)+y[10]-42063|0)<<17|v>>>15)+d|0)&d|~v&c)+y[11]-1990404162|0)<<22|s>>>10)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s&v|~s&d)+y[12]+1804603682|0)<<7|c>>>25)+s|0)&s|~c&v)+y[13]-40341101|0)<<12|d>>>20)+c|0)&c|~d&s)+y[14]-1502002290|0)<<17|v>>>15)+d|0)&d|~v&c)+y[15]+1236535329|0)<<22|s>>>10)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s&d|v&~d)+y[1]-165796510|0)<<5|c>>>27)+s|0)&v|s&~v)+y[6]-1069501632|0)<<9|d>>>23)+c|0)&s|c&~s)+y[11]+643717713|0)<<14|v>>>18)+d|0)&c|d&~c)+y[0]-373897302|0)<<20|s>>>12)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s&d|v&~d)+y[5]-701558691|0)<<5|c>>>27)+s|0)&v|s&~v)+y[10]+38016083|0)<<9|d>>>23)+c|0)&s|c&~s)+y[15]-660478335|0)<<14|v>>>18)+d|0)&c|d&~c)+y[4]-405537848|0)<<20|s>>>12)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s&d|v&~d)+y[9]+568446438|0)<<5|c>>>27)+s|0)&v|s&~v)+y[14]-1019803690|0)<<9|d>>>23)+c|0)&s|c&~s)+y[3]-187363961|0)<<14|v>>>18)+d|0)&c|d&~c)+y[8]+1163531501|0)<<20|s>>>12)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s&d|v&~d)+y[13]-1444681467|0)<<5|c>>>27)+s|0)&v|s&~v)+y[2]-51403784|0)<<9|d>>>23)+c|0)&s|c&~s)+y[7]+1735328473|0)<<14|v>>>18)+d|0)&c|d&~c)+y[12]-1926607734|0)<<20|s>>>12)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s^v^d)+y[5]-378558|0)<<4|c>>>28)+s|0)^s^v)+y[8]-2022574463|0)<<11|d>>>21)+c|0)^c^s)+y[11]+1839030562|0)<<16|v>>>16)+d|0)^d^c)+y[14]-35309556|0)<<23|s>>>9)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s^v^d)+y[1]-1530992060|0)<<4|c>>>28)+s|0)^s^v)+y[4]+1272893353|0)<<11|d>>>21)+c|0)^c^s)+y[7]-155497632|0)<<16|v>>>16)+d|0)^d^c)+y[10]-1094730640|0)<<23|s>>>9)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s^v^d)+y[13]+681279174|0)<<4|c>>>28)+s|0)^s^v)+y[0]-358537222|0)<<11|d>>>21)+c|0)^c^s)+y[3]-722521979|0)<<16|v>>>16)+d|0)^d^c)+y[6]+76029189|0)<<23|s>>>9)+v|0,s=((s+=((v=((v+=((d=((d+=((c=((c+=(s^v^d)+y[9]-640364487|0)<<4|c>>>28)+s|0)^s^v)+y[12]-421815835|0)<<11|d>>>21)+c|0)^c^s)+y[15]+530742520|0)<<16|v>>>16)+d|0)^d^c)+y[2]-995338651|0)<<23|s>>>9)+v|0,s=((s+=((d=((d+=(s^((c=((c+=(v^(s|~d))+y[0]-198630844|0)<<6|c>>>26)+s|0)|~v))+y[7]+1126891415|0)<<10|d>>>22)+c|0)^((v=((v+=(c^(d|~s))+y[14]-1416354905|0)<<15|v>>>17)+d|0)|~c))+y[5]-57434055|0)<<21|s>>>11)+v|0,s=((s+=((d=((d+=(s^((c=((c+=(v^(s|~d))+y[12]+1700485571|0)<<6|c>>>26)+s|0)|~v))+y[3]-1894986606|0)<<10|d>>>22)+c|0)^((v=((v+=(c^(d|~s))+y[10]-1051523|0)<<15|v>>>17)+d|0)|~c))+y[1]-2054922799|0)<<21|s>>>11)+v|0,s=((s+=((d=((d+=(s^((c=((c+=(v^(s|~d))+y[8]+1873313359|0)<<6|c>>>26)+s|0)|~v))+y[15]-30611744|0)<<10|d>>>22)+c|0)^((v=((v+=(c^(d|~s))+y[6]-1560198380|0)<<15|v>>>17)+d|0)|~c))+y[13]+1309151649|0)<<21|s>>>11)+v|0,s=((s+=((d=((d+=(s^((c=((c+=(v^(s|~d))+y[4]-145523070|0)<<6|c>>>26)+s|0)|~v))+y[11]-1120210379|0)<<10|d>>>22)+c|0)^((v=((v+=(c^(d|~s))+y[2]+718787259|0)<<15|v>>>17)+d|0)|~c))+y[9]-343485551|0)<<21|s>>>11)+v|0,E[0]=c+E[0]|0,E[1]=s+E[1]|0,E[2]=v+E[2]|0,E[3]=d+E[3]|0}function p(E){var c,y=[];for(c=0;c<64;c+=4)y[c>>2]=E.charCodeAt(c)+(E.charCodeAt(c+1)<<8)+(E.charCodeAt(c+2)<<16)+(E.charCodeAt(c+3)<<24);return y}function F(E){var c,y=[];for(c=0;c<64;c+=4)y[c>>2]=E[c]+(E[c+1]<<8)+(E[c+2]<<16)+(E[c+3]<<24);return y}function B(E){var s,v,d,K,se,ye,y=E.length,c=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=y;s+=64)D(c,p(E.substring(s-64,s)));for(v=(E=E.substring(s-64)).length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<v;s+=1)d[s>>2]|=E.charCodeAt(s)<<(s%4<<3);if(d[s>>2]|=128<<(s%4<<3),s>55)for(D(c,d),s=0;s<16;s+=1)d[s]=0;return K=(K=8*y).toString(16).match(/(.*?)(.{0,8})$/),se=parseInt(K[2],16),ye=parseInt(K[1],16)||0,d[14]=se,d[15]=ye,D(c,d),c}function k(E){var c,y="";for(c=0;c<4;c+=1)y+=g[E>>8*c+4&15]+g[E>>8*c&15];return y}function O(E){var y;for(y=0;y<E.length;y+=1)E[y]=k(E[y]);return E.join("")}function w(E){return/[\u0080-\uFFFF]/.test(E)&&(E=unescape(encodeURIComponent(E))),E}function M(E){var s,y=[],c=E.length;for(s=0;s<c-1;s+=2)y.push(parseInt(E.substr(s,2),16));return String.fromCharCode.apply(String,y)}function T(){this.reset()}return O(B("hello")),"undefined"!=typeof ArrayBuffer&&!ArrayBuffer.prototype.slice&&function(){function E(y,c){return(y=0|y||0)<0?Math.max(y+c,0):Math.min(y,c)}ArrayBuffer.prototype.slice=function(y,c){var K,se,ye,pe,s=this.byteLength,v=E(y,s),d=s;return undefined!==c&&(d=E(c,s)),v>d?new ArrayBuffer(0):(K=d-v,se=new ArrayBuffer(K),ye=new Uint8Array(se),pe=new Uint8Array(this,v,K),ye.set(pe),se)}}(),T.prototype.append=function(E){return this.appendBinary(w(E)),this},T.prototype.appendBinary=function(E){this._buff+=E,this._length+=E.length;var c,y=this._buff.length;for(c=64;c<=y;c+=64)D(this._hash,p(this._buff.substring(c-64,c)));return this._buff=this._buff.substring(c-64),this},T.prototype.end=function(E){var s,d,y=this._buff,c=y.length,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(s=0;s<c;s+=1)v[s>>2]|=y.charCodeAt(s)<<(s%4<<3);return this._finish(v,c),d=O(this._hash),E&&(d=M(d)),this.reset(),d},T.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},T.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},T.prototype.setState=function(E){return this._buff=E.buff,this._length=E.length,this._hash=E.hash,this},T.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},T.prototype._finish=function(E,y){var s,v,d,c=y;if(E[c>>2]|=128<<(c%4<<3),c>55)for(D(this._hash,E),c=0;c<16;c+=1)E[c]=0;s=(s=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),v=parseInt(s[2],16),d=parseInt(s[1],16)||0,E[14]=v,E[15]=d,D(this._hash,E)},T.hash=function(E,y){return T.hashBinary(w(E),y)},T.hashBinary=function(E,y){var s=O(B(E));return y?M(s):s},(T.ArrayBuffer=function(){this.reset()}).prototype.append=function(E){var s,y=function(E,y,c){var s=new Uint8Array(E.byteLength+y.byteLength);return s.set(new Uint8Array(E)),s.set(new Uint8Array(y),E.byteLength),c?s:s.buffer}(this._buff.buffer,E,!0),c=y.length;for(this._length+=E.byteLength,s=64;s<=c;s+=64)D(this._hash,F(y.subarray(s-64,s)));return this._buff=s-64<c?new Uint8Array(y.buffer.slice(s-64)):new Uint8Array(0),this},T.ArrayBuffer.prototype.end=function(E){var v,d,y=this._buff,c=y.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(v=0;v<c;v+=1)s[v>>2]|=y[v]<<(v%4<<3);return this._finish(s,c),d=O(this._hash),E&&(d=M(d)),this.reset(),d},T.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},T.ArrayBuffer.prototype.getState=function(){var E=T.prototype.getState.call(this);return E.buff=function(E){return String.fromCharCode.apply(null,new Uint8Array(E))}(E.buff),E},T.ArrayBuffer.prototype.setState=function(E){return E.buff=function(E,y){var d,c=E.length,s=new ArrayBuffer(c),v=new Uint8Array(s);for(d=0;d<c;d+=1)v[d]=E.charCodeAt(d);return y?v:s}(E.buff,!0),T.prototype.setState.call(this,E)},T.ArrayBuffer.prototype.destroy=T.prototype.destroy,T.ArrayBuffer.prototype._finish=T.prototype._finish,T.ArrayBuffer.hash=function(E,y){var s=O(function(E){var s,v,d,K,se,ye,y=E.length,c=[1732584193,-271733879,-1732584194,271733878];for(s=64;s<=y;s+=64)D(c,F(E.subarray(s-64,s)));for(v=(E=s-64<y?E.subarray(s-64):new Uint8Array(0)).length,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<v;s+=1)d[s>>2]|=E[s]<<(s%4<<3);if(d[s>>2]|=128<<(s%4<<3),s>55)for(D(c,d),s=0;s<16;s+=1)d[s]=0;return K=(K=8*y).toString(16).match(/(.*?)(.{0,8})$/),se=parseInt(K[2],16),ye=parseInt(K[1],16)||0,d[14]=se,d[15]=ye,D(c,d),c}(new Uint8Array(E)));return y?M(s):s},T}()},1451:re=>{re.exports=function(l){return l&&"object"==typeof l&&"function"==typeof l.copy&&"function"==typeof l.fill&&"function"==typeof l.readUInt8}},8791:(re,U,l)=>{var g=l(3407),a=l(110),D=l(2031),p=l(597);function F(ke){return ke.call.bind(ke)}var B="undefined"!=typeof BigInt,N="undefined"!=typeof Symbol,k=F(Object.prototype.toString),O=F(Number.prototype.valueOf),w=F(String.prototype.valueOf),S=F(Boolean.prototype.valueOf);if(B)var R=F(BigInt.prototype.valueOf);if(N)var I=F(Symbol.prototype.valueOf);function M(ke,Tt){if("object"!=typeof ke)return!1;try{return Tt(ke),!0}catch{return!1}}function z(ke){return"[object Map]"===k(ke)}function V(ke){return"[object Set]"===k(ke)}function q(ke){return"[object WeakMap]"===k(ke)}function Be(ke){return"[object WeakSet]"===k(ke)}function Ee(ke){return"[object ArrayBuffer]"===k(ke)}function ve(ke){return"undefined"!=typeof ArrayBuffer&&(Ee.working?Ee(ke):ke instanceof ArrayBuffer)}function ne(ke){return"[object DataView]"===k(ke)}function ce(ke){return"undefined"!=typeof DataView&&(ne.working?ne(ke):ke instanceof DataView)}U.isArgumentsObject=g,U.isGeneratorFunction=a,U.isTypedArray=p,U.isPromise=function(ke){return"undefined"!=typeof Promise&&ke instanceof Promise||null!==ke&&"object"==typeof ke&&"function"==typeof ke.then&&"function"==typeof ke.catch},U.isArrayBufferView=function(ke){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(ke):p(ke)||ce(ke)},U.isUint8Array=function(ke){return"Uint8Array"===D(ke)},U.isUint8ClampedArray=function(ke){return"Uint8ClampedArray"===D(ke)},U.isUint16Array=function(ke){return"Uint16Array"===D(ke)},U.isUint32Array=function(ke){return"Uint32Array"===D(ke)},U.isInt8Array=function(ke){return"Int8Array"===D(ke)},U.isInt16Array=function(ke){return"Int16Array"===D(ke)},U.isInt32Array=function(ke){return"Int32Array"===D(ke)},U.isFloat32Array=function(ke){return"Float32Array"===D(ke)},U.isFloat64Array=function(ke){return"Float64Array"===D(ke)},U.isBigInt64Array=function(ke){return"BigInt64Array"===D(ke)},U.isBigUint64Array=function(ke){return"BigUint64Array"===D(ke)},z.working="undefined"!=typeof Map&&z(new Map),U.isMap=function(ke){return"undefined"!=typeof Map&&(z.working?z(ke):ke instanceof Map)},V.working="undefined"!=typeof Set&&V(new Set),U.isSet=function(ke){return"undefined"!=typeof Set&&(V.working?V(ke):ke instanceof Set)},q.working="undefined"!=typeof WeakMap&&q(new WeakMap),U.isWeakMap=function(ke){return"undefined"!=typeof WeakMap&&(q.working?q(ke):ke instanceof WeakMap)},Be.working="undefined"!=typeof WeakSet&&Be(new WeakSet),U.isWeakSet=function(ke){return Be(ke)},Ee.working="undefined"!=typeof ArrayBuffer&&Ee(new ArrayBuffer),U.isArrayBuffer=ve,ne.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&ne(new DataView(new ArrayBuffer(1),0,1)),U.isDataView=ce;var De="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function Fe(ke){return"[object SharedArrayBuffer]"===k(ke)}function Qe(ke){return void 0!==De&&(void 0===Fe.working&&(Fe.working=Fe(new De)),Fe.working?Fe(ke):ke instanceof De)}function _n(ke){return M(ke,O)}function Bn(ke){return M(ke,w)}function bn(ke){return M(ke,S)}function cn(ke){return B&&M(ke,R)}function pn(ke){return N&&M(ke,I)}U.isSharedArrayBuffer=Qe,U.isAsyncFunction=function(ke){return"[object AsyncFunction]"===k(ke)},U.isMapIterator=function(ke){return"[object Map Iterator]"===k(ke)},U.isSetIterator=function(ke){return"[object Set Iterator]"===k(ke)},U.isGeneratorObject=function(ke){return"[object Generator]"===k(ke)},U.isWebAssemblyCompiledModule=function(ke){return"[object WebAssembly.Module]"===k(ke)},U.isNumberObject=_n,U.isStringObject=Bn,U.isBooleanObject=bn,U.isBigIntObject=cn,U.isSymbolObject=pn,U.isBoxedPrimitive=function(ke){return _n(ke)||Bn(ke)||bn(ke)||cn(ke)||pn(ke)},U.isAnyArrayBuffer=function(ke){return"undefined"!=typeof Uint8Array&&(ve(ke)||Qe(ke))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ke){Object.defineProperty(U,ke,{enumerable:!1,value:function(){throw new Error(ke+" is not supported in userland")}})})},6788:(re,U,l)=>{var g=Object.getOwnPropertyDescriptors||function(ce){for(var De=Object.keys(ce),Fe={},Qe=0;Qe<De.length;Qe++)Fe[De[Qe]]=Object.getOwnPropertyDescriptor(ce,De[Qe]);return Fe},a=/%[sdj%]/g;U.format=function(ne){if(!d(ne)){for(var ce=[],De=0;De<arguments.length;De++)ce.push(B(arguments[De]));return ce.join(" ")}De=1;for(var Fe=arguments,Qe=Fe.length,pt=String(ne).replace(a,function(at){if("%%"===at)return"%";if(De>=Qe)return at;switch(at){case"%s":return String(Fe[De++]);case"%d":return Number(Fe[De++]);case"%j":try{return JSON.stringify(Fe[De++])}catch{return"[Circular]"}default:return at}}),nt=Fe[De];De<Qe;nt=Fe[++De])c(nt)||!pe(nt)?pt+=" "+nt:pt+=" "+B(nt);return pt},U.deprecate=function(ne,ce){if("undefined"!=typeof process&&!0===process.noDeprecation)return ne;if("undefined"==typeof process)return function(){return U.deprecate(ne,ce).apply(this,arguments)};var De=!1;return function(){if(!De){if(process.throwDeprecation)throw new Error(ce);process.traceDeprecation?console.trace(ce):console.error(ce),De=!0}return ne.apply(this,arguments)}};var D={},p=/^$/;if(process.env.NODE_DEBUG){var F=process.env.NODE_DEBUG;F=F.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),p=new RegExp("^"+F+"$","i")}function B(ne,ce){var De={seen:[],stylize:k};return arguments.length>=3&&(De.depth=arguments[2]),arguments.length>=4&&(De.colors=arguments[3]),y(ce)?De.showHidden=ce:ce&&U._extend(De,ce),se(De.showHidden)&&(De.showHidden=!1),se(De.depth)&&(De.depth=2),se(De.colors)&&(De.colors=!1),se(De.customInspect)&&(De.customInspect=!0),De.colors&&(De.stylize=N),w(De,ne,De.depth)}function N(ne,ce){var De=B.styles[ce];return De?"\x1b["+B.colors[De][0]+"m"+ne+"\x1b["+B.colors[De][1]+"m":ne}function k(ne,ce){return ne}function w(ne,ce,De){if(ne.customInspect&&ce&&z(ce.inspect)&&ce.inspect!==U.inspect&&(!ce.constructor||ce.constructor.prototype!==ce)){var Fe=ce.inspect(De,ne);return d(Fe)||(Fe=w(ne,Fe,De)),Fe}var Qe=function(ne,ce){if(se(ce))return ne.stylize("undefined","undefined");if(d(ce)){var De="'"+JSON.stringify(ce).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ne.stylize(De,"string")}return v(ce)?ne.stylize(""+ce,"number"):y(ce)?ne.stylize(""+ce,"boolean"):c(ce)?ne.stylize("null","null"):void 0}(ne,ce);if(Qe)return Qe;var pt=Object.keys(ce),nt=function(ne){var ce={};return ne.forEach(function(De,Fe){ce[De]=!0}),ce}(pt);if(ne.showHidden&&(pt=Object.getOwnPropertyNames(ce)),Q(ce)&&(pt.indexOf("message")>=0||pt.indexOf("description")>=0))return R(ce);if(0===pt.length){if(z(ce))return ne.stylize("[Function"+(ce.name?": "+ce.name:"")+"]","special");if(ye(ce))return ne.stylize(RegExp.prototype.toString.call(ce),"regexp");if(le(ce))return ne.stylize(Date.prototype.toString.call(ce),"date");if(Q(ce))return R(ce)}var bn,bt="",It=!1,_n=["{","}"];return E(ce)&&(It=!0,_n=["[","]"]),z(ce)&&(bt=" [Function"+(ce.name?": "+ce.name:"")+"]"),ye(ce)&&(bt=" "+RegExp.prototype.toString.call(ce)),le(ce)&&(bt=" "+Date.prototype.toUTCString.call(ce)),Q(ce)&&(bt=" "+R(ce)),0!==pt.length||It&&0!=ce.length?De<0?ye(ce)?ne.stylize(RegExp.prototype.toString.call(ce),"regexp"):ne.stylize("[Object]","special"):(ne.seen.push(ce),bn=It?function(ne,ce,De,Fe,Qe){for(var pt=[],nt=0,at=ce.length;nt<at;++nt)Be(ce,String(nt))?pt.push(M(ne,ce,De,Fe,String(nt),!0)):pt.push("");return Qe.forEach(function(bt){bt.match(/^\d+$/)||pt.push(M(ne,ce,De,Fe,bt,!0))}),pt}(ne,ce,De,nt,pt):pt.map(function(cn){return M(ne,ce,De,nt,cn,It)}),ne.seen.pop(),function(ne,ce,De){var Qe=ne.reduce(function(pt,nt){return nt.indexOf("\n"),pt+nt.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Qe>60?De[0]+(""===ce?"":ce+"\n ")+" "+ne.join(",\n  ")+" "+De[1]:De[0]+ce+" "+ne.join(", ")+" "+De[1]}(bn,bt,_n)):_n[0]+bt+_n[1]}function R(ne){return"["+Error.prototype.toString.call(ne)+"]"}function M(ne,ce,De,Fe,Qe,pt){var nt,at,bt;if((bt=Object.getOwnPropertyDescriptor(ce,Qe)||{value:ce[Qe]}).get?at=ne.stylize(bt.set?"[Getter/Setter]":"[Getter]","special"):bt.set&&(at=ne.stylize("[Setter]","special")),Be(Fe,Qe)||(nt="["+Qe+"]"),at||(ne.seen.indexOf(bt.value)<0?(at=c(De)?w(ne,bt.value,null):w(ne,bt.value,De-1)).indexOf("\n")>-1&&(at=pt?at.split("\n").map(function(It){return"  "+It}).join("\n").substr(2):"\n"+at.split("\n").map(function(It){return"   "+It}).join("\n")):at=ne.stylize("[Circular]","special")),se(nt)){if(pt&&Qe.match(/^\d+$/))return at;(nt=JSON.stringify(""+Qe)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(nt=nt.substr(1,nt.length-2),nt=ne.stylize(nt,"name")):(nt=nt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),nt=ne.stylize(nt,"string"))}return nt+": "+at}function E(ne){return Array.isArray(ne)}function y(ne){return"boolean"==typeof ne}function c(ne){return null===ne}function v(ne){return"number"==typeof ne}function d(ne){return"string"==typeof ne}function se(ne){return void 0===ne}function ye(ne){return pe(ne)&&"[object RegExp]"===V(ne)}function pe(ne){return"object"==typeof ne&&null!==ne}function le(ne){return pe(ne)&&"[object Date]"===V(ne)}function Q(ne){return pe(ne)&&("[object Error]"===V(ne)||ne instanceof Error)}function z(ne){return"function"==typeof ne}function V(ne){return Object.prototype.toString.call(ne)}function J(ne){return ne<10?"0"+ne.toString(10):ne.toString(10)}U.debuglog=function(ne){if(ne=ne.toUpperCase(),!D[ne])if(p.test(ne)){var ce=process.pid;D[ne]=function(){var De=U.format.apply(U,arguments);console.error("%s %d: %s",ne,ce,De)}}else D[ne]=function(){};return D[ne]},U.inspect=B,B.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},B.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},U.types=l(8791),U.isArray=E,U.isBoolean=y,U.isNull=c,U.isNullOrUndefined=function(ne){return null==ne},U.isNumber=v,U.isString=d,U.isSymbol=function(ne){return"symbol"==typeof ne},U.isUndefined=se,U.isRegExp=ye,U.types.isRegExp=ye,U.isObject=pe,U.isDate=le,U.types.isDate=le,U.isError=Q,U.types.isNativeError=Q,U.isFunction=z,U.isPrimitive=function(ne){return null===ne||"boolean"==typeof ne||"number"==typeof ne||"string"==typeof ne||"symbol"==typeof ne||void 0===ne},U.isBuffer=l(1451);var q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _e(){var ne=new Date,ce=[J(ne.getHours()),J(ne.getMinutes()),J(ne.getSeconds())].join(":");return[ne.getDate(),q[ne.getMonth()],ce].join(" ")}function Be(ne,ce){return Object.prototype.hasOwnProperty.call(ne,ce)}U.log=function(){console.log("%s - %s",_e(),U.format.apply(U,arguments))},U.inherits=l(3894),U._extend=function(ne,ce){if(!ce||!pe(ce))return ne;for(var De=Object.keys(ce),Fe=De.length;Fe--;)ne[De[Fe]]=ce[De[Fe]];return ne};var He="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function Ee(ne,ce){if(!ne){var De=new Error("Promise was rejected with a falsy value");De.reason=ne,ne=De}return ce(ne)}U.promisify=function(ce){if("function"!=typeof ce)throw new TypeError('The "original" argument must be of type Function');if(He&&ce[He]){var De;if("function"!=typeof(De=ce[He]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(De,He,{value:De,enumerable:!1,writable:!1,configurable:!0}),De}function De(){for(var Fe,Qe,pt=new Promise(function(bt,It){Fe=bt,Qe=It}),nt=[],at=0;at<arguments.length;at++)nt.push(arguments[at]);nt.push(function(bt,It){bt?Qe(bt):Fe(It)});try{ce.apply(this,nt)}catch(bt){Qe(bt)}return pt}return Object.setPrototypeOf(De,Object.getPrototypeOf(ce)),He&&Object.defineProperty(De,He,{value:De,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(De,g(ce))},U.promisify.custom=He,U.callbackify=function(ne){if("function"!=typeof ne)throw new TypeError('The "original" argument must be of type Function');function ce(){for(var De=[],Fe=0;Fe<arguments.length;Fe++)De.push(arguments[Fe]);var Qe=De.pop();if("function"!=typeof Qe)throw new TypeError("The last argument must be of type Function");var pt=this,nt=function(){return Qe.apply(pt,arguments)};ne.apply(this,De).then(function(at){process.nextTick(nt.bind(null,null,at))},function(at){process.nextTick(Ee.bind(null,at,nt))})}return Object.setPrototypeOf(ce,Object.getPrototypeOf(ne)),Object.defineProperties(ce,g(ne)),ce}},1042:(re,U,l)=>{l.d(U,{Z:()=>R});var g,a=new Uint8Array(16);function D(){if(!g&&!(g="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return g(a)}const p=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,B=function(I){return"string"==typeof I&&p.test(I)};for(var N=[],k=0;k<256;++k)N.push((k+256).toString(16).substr(1));const R=function(I,M,T){var E=(I=I||{}).random||(I.rng||D)();if(E[6]=15&E[6]|64,E[8]=63&E[8]|128,M){T=T||0;for(var y=0;y<16;++y)M[T+y]=E[y];return M}return function(I){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,T=(N[I[M+0]]+N[I[M+1]]+N[I[M+2]]+N[I[M+3]]+"-"+N[I[M+4]]+N[I[M+5]]+"-"+N[I[M+6]]+N[I[M+7]]+"-"+N[I[M+8]]+N[I[M+9]]+"-"+N[I[M+10]]+N[I[M+11]]+N[I[M+12]]+N[I[M+13]]+N[I[M+14]]+N[I[M+15]]).toLowerCase();if(!B(T))throw TypeError("Stringified UUID is invalid");return T}(E)}},2899:(re,U)=>{function l(g,a,D){var p=D[D.length-1];g===p.element&&(D.pop(),p=D[D.length-1]);var F=p.element,B=p.index;Array.isArray(F)?F.push(g):B===a.length-2?F[a.pop()]=g:a.push(g)}U.stringify=function(a){var D=[];D.push({obj:a});for(var F,B,k,O,S,R,I,M,T,p="";F=D.pop();)if(B=F.obj,p+=F.prefix||"",k=F.val||"")p+=k;else if("object"!=typeof B)p+=void 0===B?null:JSON.stringify(B);else if(null===B)p+="null";else if(Array.isArray(B)){for(D.push({val:"]"}),O=B.length-1;O>=0;O--)D.push({obj:B[O],prefix:0===O?"":","});D.push({val:"["})}else{for(R in S=[],B)B.hasOwnProperty(R)&&S.push(R);for(D.push({val:"}"}),O=S.length-1;O>=0;O--)M=B[I=S[O]],T=O>0?",":"",T+=JSON.stringify(I)+":",D.push({obj:M,prefix:T});D.push({val:"{"})}return p},U.parse=function(g){for(var F,B,N,k,O,w,S,R,I,a=[],D=[],p=0;;)if("}"!==(F=g[p++])&&"]"!==F&&void 0!==F)switch(F){case" ":case"\t":case"\n":case":":case",":break;case"n":p+=3,l(null,a,D);break;case"t":p+=3,l(!0,a,D);break;case"f":p+=4,l(!1,a,D);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(B="",p--;;){if(N=g[p++],!/[\d\.\-e\+]/.test(N)){p--;break}B+=N}l(parseFloat(B),a,D);break;case'"':for(k="",O=void 0,w=0;'"'!==(S=g[p++])||"\\"===O&&w%2==1;)k+=S,"\\"===(O=S)?w++:w=0;l(JSON.parse('"'+k+'"'),a,D);break;case"[":a.push((R={element:[],index:a.length}).element),D.push(R);break;case"{":a.push((I={element:{},index:a.length}).element),D.push(I);break;default:throw new Error("unexpectedly reached end of input: "+F)}else{if(1===a.length)return a.pop();l(a.pop(),a,D)}}},2031:(re,U,l)=>{var g=l(9076),a=l(7029),D=l(5834),p=D("Object.prototype.toString"),F=l(6259)(),B="undefined"==typeof globalThis?global:globalThis,N=a(),k=D("String.prototype.slice"),O={},w=l(8555),S=Object.getPrototypeOf;F&&w&&S&&g(N,function(M){if("function"==typeof B[M]){var T=new B[M];if(Symbol.toStringTag in T){var E=S(T),y=w(E,Symbol.toStringTag);if(!y){var c=S(E);y=w(c,Symbol.toStringTag)}O[M]=y.get}}});var I=l(597);re.exports=function(T){return!!I(T)&&(F&&Symbol.toStringTag in T?function(T){var E=!1;return g(O,function(y,c){if(!E)try{var s=y.call(T);s===c&&(E=s)}catch{}}),E}(T):k(p(T),8,-1))}},1995:re=>{re.exports=function(){for(var g={},a=0;a<arguments.length;a++){var D=arguments[a];for(var p in D)U.call(D,p)&&(g[p]=D[p])}return g};var U=Object.prototype.hasOwnProperty},655:(re,U,l)=>{function k(Q,z,Y,V){return new(Y||(Y=Promise))(function(q,_e){function Be(ve){try{Ee(V.next(ve))}catch(ne){_e(ne)}}function He(ve){try{Ee(V.throw(ve))}catch(ne){_e(ne)}}function Ee(ve){ve.done?q(ve.value):function(q){return q instanceof Y?q:new Y(function(_e){_e(q)})}(ve.value).then(Be,He)}Ee((V=V.apply(Q,z||[])).next())})}function y(Q){return this instanceof y?(this.v=Q,this):new y(Q)}function c(Q,z,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,V=Y.apply(Q,z||[]),q=[];return J={},_e("next"),_e("throw"),_e("return"),J[Symbol.asyncIterator]=function(){return this},J;function _e(ce){V[ce]&&(J[ce]=function(De){return new Promise(function(Fe,Qe){q.push([ce,De,Fe,Qe])>1||Be(ce,De)})})}function Be(ce,De){try{!function(ce){ce.value instanceof y?Promise.resolve(ce.value.v).then(Ee,ve):ne(q[0][2],ce)}(V[ce](De))}catch(Fe){ne(q[0][3],Fe)}}function Ee(ce){Be("next",ce)}function ve(ce){Be("throw",ce)}function ne(ce,De){ce(De),q.shift(),q.length&&Be(q[0][0],q[0][1])}}function v(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y,z=Q[Symbol.asyncIterator];return z?z.call(Q):(Q=function(Q){var z="function"==typeof Symbol&&Symbol.iterator,Y=z&&Q[z],V=0;if(Y)return Y.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&V>=Q.length&&(Q=void 0),{value:Q&&Q[V++],done:!Q}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),Y={},V("next"),V("throw"),V("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function V(q){Y[q]=Q[q]&&function(_e){return new Promise(function(Be,He){!function(q,_e,Be,He){Promise.resolve(He).then(function(Ee){q({value:Ee,done:Be})},_e)}(Be,He,(_e=Q[q](_e)).done,_e.value)})}}}l.d(U,{mG:()=>k,qq:()=>y,FC:()=>c,KL:()=>v})},2480:()=>{},4703:()=>{},7029:re=>{var U=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],l="undefined"==typeof globalThis?global:globalThis;re.exports=function(){for(var a=[],D=0;D<U.length;D++)"function"==typeof l[U[D]]&&(a[a.length]=U[D]);return a}},8555:(re,U,l)=>{var a=l(5203)("%Object.getOwnPropertyDescriptor%",!0);if(a)try{a([],"length")}catch{a=null}re.exports=a},7340:(re,U,l)=>{l.d(U,{l3:()=>D,_j:()=>g,LC:()=>a,ZN:()=>c,jt:()=>F,oQ:()=>R,F4:()=>w,vP:()=>N,SB:()=>O,oB:()=>k,eR:()=>S,X$:()=>p,_7:()=>M,ZE:()=>s,k1:()=>v});class g{}class a{}const D="*";function p(d,K){return{type:7,name:d,definitions:K,options:{}}}function F(d,K=null){return{type:4,styles:K,timings:d}}function N(d,K=null){return{type:2,steps:d,options:K}}function k(d){return{type:6,styles:d,offset:null}}function O(d,K,se){return{type:0,name:d,styles:K,options:se}}function w(d){return{type:5,steps:d}}function S(d,K,se=null){return{type:1,expr:d,animation:K,options:se}}function R(d,K=null){return{type:8,animation:d,options:K}}function M(d,K=null){return{type:10,animation:d,options:K}}function y(d){Promise.resolve(null).then(d)}class c{constructor(K=0,se=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=K+se}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(K=>K()),this._onDoneFns=[])}onStart(K){this._onStartFns.push(K)}onDone(K){this._onDoneFns.push(K)}onDestroy(K){this._onDestroyFns.push(K)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){y(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(K=>K()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(K=>K()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(K){this._position=this.totalTime?K*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(K){const se="start"==K?this._onStartFns:this._onDoneFns;se.forEach(ye=>ye()),se.length=0}}class s{constructor(K){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=K;let se=0,ye=0,pe=0;const le=this.players.length;0==le?y(()=>this._onFinish()):this.players.forEach(Q=>{Q.onDone(()=>{++se==le&&this._onFinish()}),Q.onDestroy(()=>{++ye==le&&this._onDestroy()}),Q.onStart(()=>{++pe==le&&this._onStart()})}),this.totalTime=this.players.reduce((Q,z)=>Math.max(Q,z.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(K=>K()),this._onDoneFns=[])}init(){this.players.forEach(K=>K.init())}onStart(K){this._onStartFns.push(K)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(K=>K()),this._onStartFns=[])}onDone(K){this._onDoneFns.push(K)}onDestroy(K){this._onDestroyFns.push(K)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(K=>K.play())}pause(){this.players.forEach(K=>K.pause())}restart(){this.players.forEach(K=>K.restart())}finish(){this._onFinish(),this.players.forEach(K=>K.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(K=>K.destroy()),this._onDestroyFns.forEach(K=>K()),this._onDestroyFns=[])}reset(){this.players.forEach(K=>K.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(K){const se=K*this.totalTime;this.players.forEach(ye=>{const pe=ye.totalTime?Math.min(1,se/ye.totalTime):1;ye.setPosition(pe)})}getPosition(){const K=this.players.reduce((se,ye)=>null===se||ye.totalTime>se.totalTime?ye:se,null);return null!=K?K.getPosition():0}beforeDestroy(){this.players.forEach(K=>{K.beforeDestroy&&K.beforeDestroy()})}triggerCallback(K){const se="start"==K?this._onStartFns:this._onDoneFns;se.forEach(ye=>ye()),se.length=0}}const v="!"},8753:(re,U,l)=>{l.d(U,{Zt:()=>Xa,Hk:()=>Za,Wj:()=>Qa,_t:()=>qa});var g=l(7777),a=l(1457);function D(H){return null!=H&&"false"!=`${H}`}function p(H,P=0){return function(H){return!isNaN(parseFloat(H))&&!isNaN(Number(H))}(H)?Number(H):P}function k(H){return H instanceof g.ElementRef?H.nativeElement:H}var w=l(7579),S=l(9646),R=l(8306),I=l(4968),M=l(6406),E=(l(3101),l(3601)),y=l(9300);let c;try{c="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch{c=!1}let ye,J,s=(()=>{class H{constructor(_){this._platformId=_,this.isBrowser=this._platformId?(0,a.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!c)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return H.\u0275fac=function(_){return new(_||H)(g.\u0275\u0275inject(g.PLATFORM_ID))},H.\u0275prov=g.\u0275\u0275defineInjectable({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();function le(H){return function(){if(null==ye&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ye=!0}))}finally{ye=ye||!1}return ye}()?H:!!H.capture}function _e(H){if(function(){if(null==J){const H="undefined"!=typeof document?document.head:null;J=!(!H||!H.createShadowRoot&&!H.attachShadow)}return J}()){const P=H.getRootNode?H.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&P instanceof ShadowRoot)return P}return null}function He(H){return H.composedPath?H.composedPath()[0]:H.target}let nt=(()=>{class H{constructor(_,j,G){this._ngZone=_,this._platform=j,this._scrolled=new w.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=G}register(_){this.scrollContainers.has(_)||this.scrollContainers.set(_,_.elementScrolled().subscribe(()=>this._scrolled.next(_)))}deregister(_){const j=this.scrollContainers.get(_);j&&(j.unsubscribe(),this.scrollContainers.delete(_))}scrolled(_=20){return this._platform.isBrowser?new R.y(j=>{this._globalSubscription||this._addGlobalListener();const G=_>0?this._scrolled.pipe((0,E.e)(_)).subscribe(j):this._scrolled.subscribe(j);return this._scrolledCount++,()=>{G.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,S.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((_,j)=>this.deregister(j)),this._scrolled.complete()}ancestorScrolled(_,j){const G=this.getAncestorScrollContainers(_);return this.scrolled(j).pipe((0,y.h)(ae=>!ae||G.indexOf(ae)>-1))}getAncestorScrollContainers(_){const j=[];return this.scrollContainers.forEach((G,ae)=>{this._scrollableContainsElement(ae,_)&&j.push(ae)}),j}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(_,j){let G=k(j),ae=_.getElementRef().nativeElement;do{if(G==ae)return!0}while(G=G.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const _=this._getWindow();return(0,I.R)(_.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return H.\u0275fac=function(_){return new(_||H)(g.\u0275\u0275inject(g.NgZone),g.\u0275\u0275inject(s),g.\u0275\u0275inject(a.DOCUMENT,8))},H.\u0275prov=g.\u0275\u0275defineInjectable({token:H,factory:H.\u0275fac,providedIn:"root"}),H})(),It=(()=>{class H{constructor(_,j,G){this._platform=_,this._change=new w.x,this._changeListener=ae=>{this._change.next(ae)},this._document=G,j.runOutsideAngular(()=>{if(_.isBrowser){const ae=this._getWindow();ae.addEventListener("resize",this._changeListener),ae.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const _=this._getWindow();_.removeEventListener("resize",this._changeListener),_.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const _={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),_}getViewportRect(){const _=this.getViewportScrollPosition(),{width:j,height:G}=this.getViewportSize();return{top:_.top,left:_.left,bottom:_.top+G,right:_.left+j,height:G,width:j}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const _=this._document,j=this._getWindow(),G=_.documentElement,ae=G.getBoundingClientRect();return{top:-ae.top||_.body.scrollTop||j.scrollY||G.scrollTop||0,left:-ae.left||_.body.scrollLeft||j.scrollX||G.scrollLeft||0}}change(_=20){return _>0?this._change.pipe((0,E.e)(_)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const _=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:_.innerWidth,height:_.innerHeight}:{width:0,height:0}}}return H.\u0275fac=function(_){return new(_||H)(g.\u0275\u0275inject(s),g.\u0275\u0275inject(g.NgZone),g.\u0275\u0275inject(a.DOCUMENT,8))},H.\u0275prov=g.\u0275\u0275defineInjectable({token:H,factory:H.\u0275fac,providedIn:"root"}),H})(),tn=(()=>{class H{}return H.\u0275fac=function(_){return new(_||H)},H.\u0275mod=g.\u0275\u0275defineNgModule({type:H}),H.\u0275inj=g.\u0275\u0275defineInjector({}),H})();var So=l(4986),Rn=l(5963),gi=l(727),Ui=l(6451),zi=l(2722),yi=l(8675),wo=l(4004),Dr=l(5698),Sn=l(8505),Kr=l(3900);const Cs=new g.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,g.inject)(a.DOCUMENT)}});let Co=(()=>{class H{constructor(_){if(this.value="ltr",this.change=new g.EventEmitter,_){const G=_.documentElement?_.documentElement.dir:null,ae=(_.body?_.body.dir:null)||G;this.value="ltr"===ae||"rtl"===ae?ae:"ltr"}}ngOnDestroy(){this.change.complete()}}return H.\u0275fac=function(_){return new(_||H)(g.\u0275\u0275inject(Cs,8))},H.\u0275prov=g.\u0275\u0275defineInjectable({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();function er(H,P,_){for(let j in P)if(P.hasOwnProperty(j)){const G=P[j];G?H.setProperty(j,G,_?.has(j)?"important":""):H.removeProperty(j)}return H}function In(H,P){const _=P?"":"none";er(H.style,{"touch-action":P?"":"none","-webkit-user-drag":P?"":"none","-webkit-tap-highlight-color":P?"":"transparent","user-select":_,"-ms-user-select":_,"-webkit-user-select":_,"-moz-user-select":_})}function vr(H,P,_){er(H.style,{position:P?"":"fixed",top:P?"":"0",opacity:P?"":"0",left:P?"":"-999em"},_)}function vn(H,P){return P&&"none"!=P?H+" "+P:H}function $i(H){const P=H.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(H)*P}function Wi(H,P){return H.getPropertyValue(P).split(",").map(j=>j.trim())}function Ki(H){const P=H.getBoundingClientRect();return{top:P.top,right:P.right,bottom:P.bottom,left:P.left,width:P.width,height:P.height,x:P.x,y:P.y}}function Or(H,P,_){const{top:j,bottom:G,left:ae,right:Ce}=H;return _>=j&&_<=G&&P>=ae&&P<=Ce}function tr(H,P,_){H.top+=P,H.bottom=H.top+H.height,H.left+=_,H.right=H.left+H.width}function dn(H,P,_,j){const{top:G,right:ae,bottom:Ce,left:Me,width:Ke,height:tt}=H,lt=Ke*P,hn=tt*P;return j>G-hn&&j<Ce+hn&&_>Me-lt&&_<ae+lt}class _t{constructor(P,_){this._document=P,this._viewportRuler=_,this.positions=new Map}clear(){this.positions.clear()}cache(P){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),P.forEach(_=>{this.positions.set(_,{scrollPosition:{top:_.scrollTop,left:_.scrollLeft},clientRect:Ki(_)})})}handleScroll(P){const _=He(P),j=this.positions.get(_);if(!j)return null;const G=j.scrollPosition;let ae,Ce;if(_===this._document){const tt=this._viewportRuler.getViewportScrollPosition();ae=tt.top,Ce=tt.left}else ae=_.scrollTop,Ce=_.scrollLeft;const Me=G.top-ae,Ke=G.left-Ce;return this.positions.forEach((tt,lt)=>{tt.clientRect&&_!==lt&&_.contains(lt)&&tr(tt.clientRect,Me,Ke)}),G.top=ae,G.left=Ce,{top:Me,left:Ke}}}function As(H){const P=H.cloneNode(!0),_=P.querySelectorAll("[id]"),j=H.nodeName.toLowerCase();P.removeAttribute("id");for(let G=0;G<_.length;G++)_[G].removeAttribute("id");return"canvas"===j?zt(H,P):("input"===j||"select"===j||"textarea"===j)&&Ne(H,P),Ao("canvas",H,P,zt),Ao("input, textarea, select",H,P,Ne),P}function Ao(H,P,_,j){const G=P.querySelectorAll(H);if(G.length){const ae=_.querySelectorAll(H);for(let Ce=0;Ce<G.length;Ce++)j(G[Ce],ae[Ce])}}let Wa=0;function Ne(H,P){"file"!==P.type&&(P.value=H.value),"radio"===P.type&&P.name&&(P.name=`mat-clone-${P.name}-${Wa++}`)}function zt(H,P){const _=P.getContext("2d");if(_)try{_.drawImage(H,0,0)}catch{}}const Po=le({passive:!0}),Vr=le({passive:!1}),Hi=new Set(["position"]);class Ka{constructor(P,_,j,G,ae,Ce){this._config=_,this._document=j,this._ngZone=G,this._viewportRuler=ae,this._dragDropRegistry=Ce,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new w.x,this._pointerMoveSubscription=gi.w0.EMPTY,this._pointerUpSubscription=gi.w0.EMPTY,this._scrollSubscription=gi.w0.EMPTY,this._resizeSubscription=gi.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new w.x,this.started=new w.x,this.released=new w.x,this.ended=new w.x,this.entered=new w.x,this.exited=new w.x,this.dropped=new w.x,this.moved=this._moveEvents,this._pointerDown=Me=>{if(this.beforeStarted.next(),this._handles.length){const Ke=this._handles.find(tt=>Me.target&&(Me.target===tt||tt.contains(Me.target)));Ke&&!this._disabledHandles.has(Ke)&&!this.disabled&&this._initializeDragSequence(Ke,Me)}else this.disabled||this._initializeDragSequence(this._rootElement,Me)},this._pointerMove=Me=>{const Ke=this._getPointerPositionOnPage(Me);if(!this._hasStartedDragging){if(Math.abs(Ke.x-this._pickupPositionOnPage.x)+Math.abs(Ke.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Mr=Date.now()>=this._dragStartTime+this._getDragStartDelay(Me),xn=this._dropContainer;if(!Mr)return void this._endDragSequence(Me);(!xn||!xn.isDragging()&&!xn.isReceiving())&&(Me.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(Me)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),Me.preventDefault();const tt=this._getConstrainedPointerPosition(Ke);if(this._hasMoved=!0,this._lastKnownPointerPosition=Ke,this._updatePointerDirectionDelta(tt),this._dropContainer)this._updateActiveDropContainer(tt,Ke);else{const lt=this._activeTransform;lt.x=tt.x-this._pickupPositionOnPage.x+this._passiveTransform.x,lt.y=tt.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(lt.x,lt.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:tt,event:Me,distance:this._getDragDistance(tt),delta:this._pointerDirectionDelta})})},this._pointerUp=Me=>{this._endDragSequence(Me)},this.withRootElement(P).withParent(_.parentDragRef||null),this._parentPositions=new _t(j,ae),Ce.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(P){const _=D(P);_!==this._disabled&&(this._disabled=_,this._toggleNativeDragInteractions(),this._handles.forEach(j=>In(j,_)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(P){this._handles=P.map(j=>k(j)),this._handles.forEach(j=>In(j,this.disabled)),this._toggleNativeDragInteractions();const _=new Set;return this._disabledHandles.forEach(j=>{this._handles.indexOf(j)>-1&&_.add(j)}),this._disabledHandles=_,this}withPreviewTemplate(P){return this._previewTemplate=P,this}withPlaceholderTemplate(P){return this._placeholderTemplate=P,this}withRootElement(P){const _=k(P);return _!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{_.addEventListener("mousedown",this._pointerDown,Vr),_.addEventListener("touchstart",this._pointerDown,Po)}),this._initialTransform=void 0,this._rootElement=_),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(P){return this._boundaryElement=P?k(P):null,this._resizeSubscription.unsubscribe(),P&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(P){return this._parentDragRef=P,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(P){!this._disabledHandles.has(P)&&this._handles.indexOf(P)>-1&&(this._disabledHandles.add(P),In(P,!0))}enableHandle(P){this._disabledHandles.has(P)&&(this._disabledHandles.delete(P),In(P,this.disabled))}withDirection(P){return this._direction=P,this}_withDropContainer(P){this._dropContainer=P}getFreeDragPosition(){const P=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:P.x,y:P.y}}setFreeDragPosition(P){return this._activeTransform={x:0,y:0},this._passiveTransform.x=P.x,this._passiveTransform.y=P.y,this._dropContainer||this._applyRootElementTransform(P.x,P.y),this}withPreviewContainer(P){return this._previewContainer=P,this}_sortFromLastPointerPosition(){const P=this._lastKnownPointerPosition;P&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(P),P)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(P){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(P),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const _=this._getPointerPositionOnPage(P);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(_),dropPoint:_})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(P){gr(P)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const _=this._dropContainer;if(_){const j=this._rootElement,G=j.parentNode,ae=this._placeholder=this._createPlaceholderElement(),Ce=this._anchor=this._anchor||this._document.createComment(""),Me=this._getShadowRoot();G.insertBefore(Ce,j),this._initialTransform=j.style.transform||"",this._preview=this._createPreviewElement(),vr(j,!1,Hi),this._document.body.appendChild(G.replaceChild(ae,j)),this._getPreviewInsertionPoint(G,Me).appendChild(this._preview),this.started.next({source:this}),_.start(),this._initialContainer=_,this._initialIndex=_.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(_?_.getScrollableParents():[])}_initializeDragSequence(P,_){this._parentDragRef&&_.stopPropagation();const j=this.isDragging(),G=gr(_),ae=!G&&0!==_.button,Ce=this._rootElement,Me=He(_),Ke=!G&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),tt=G?function(H){const P=H.touches&&H.touches[0]||H.changedTouches&&H.changedTouches[0];return!(!P||-1!==P.identifier||null!=P.radiusX&&1!==P.radiusX||null!=P.radiusY&&1!==P.radiusY)}(_):0===(H=_).offsetX&&0===H.offsetY;var H;if(Me&&Me.draggable&&"mousedown"===_.type&&_.preventDefault(),j||ae||Ke||tt)return;if(this._handles.length){const Ht=Ce.style;this._rootElementTapHighlight=Ht.webkitTapHighlightColor||"",Ht.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Ht=>this._updateOnScroll(Ht)),this._boundaryElement&&(this._boundaryRect=Ki(this._boundaryElement));const lt=this._previewTemplate;this._pickupPositionInElement=lt&&lt.template&&!lt.matchSize?{x:0,y:0}:this._getPointerPositionInElement(P,_);const hn=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(_);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:hn.x,y:hn.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,_)}_cleanupDragArtifacts(P){vr(this._rootElement,!0,Hi),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const _=this._dropContainer,j=_.getItemIndex(this),G=this._getPointerPositionOnPage(P),ae=this._getDragDistance(G),Ce=_._isOverContainer(G.x,G.y);this.ended.next({source:this,distance:ae,dropPoint:G}),this.dropped.next({item:this,currentIndex:j,previousIndex:this._initialIndex,container:_,previousContainer:this._initialContainer,isPointerOverContainer:Ce,distance:ae,dropPoint:G}),_.drop(this,j,this._initialIndex,this._initialContainer,Ce,ae,G),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:P,y:_},{x:j,y:G}){let ae=this._initialContainer._getSiblingContainerFromPosition(this,P,_);!ae&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(P,_)&&(ae=this._initialContainer),ae&&ae!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=ae,this._dropContainer.enter(this,P,_,ae===this._initialContainer&&ae.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:ae,currentIndex:ae.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(j,G),this._dropContainer._sortItem(this,P,_,this._pointerDirectionDelta),this._applyPreviewTransform(P-this._pickupPositionInElement.x,_-this._pickupPositionInElement.y))}_createPreviewElement(){const P=this._previewTemplate,_=this.previewClass,j=P?P.template:null;let G;if(j&&P){const ae=P.matchSize?this._rootElement.getBoundingClientRect():null,Ce=P.viewContainer.createEmbeddedView(j,P.context);Ce.detectChanges(),G=Ha(Ce,this._document),this._previewRef=Ce,P.matchSize?Va(G,ae):G.style.transform=Ir(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const ae=this._rootElement;G=As(ae),Va(G,ae.getBoundingClientRect()),this._initialTransform&&(G.style.transform=this._initialTransform)}return er(G.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Hi),In(G,!1),G.classList.add("cdk-drag-preview"),G.setAttribute("dir",this._direction),_&&(Array.isArray(_)?_.forEach(ae=>G.classList.add(ae)):G.classList.add(_)),G}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const P=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(P.left,P.top);const _=function(H){const P=getComputedStyle(H),_=Wi(P,"transition-property"),j=_.find(Me=>"transform"===Me||"all"===Me);if(!j)return 0;const G=_.indexOf(j),ae=Wi(P,"transition-duration"),Ce=Wi(P,"transition-delay");return $i(ae[G])+$i(Ce[G])}(this._preview);return 0===_?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(j=>{const G=Ce=>{(!Ce||He(Ce)===this._preview&&"transform"===Ce.propertyName)&&(this._preview?.removeEventListener("transitionend",G),j(),clearTimeout(ae))},ae=setTimeout(G,1.5*_);this._preview.addEventListener("transitionend",G)}))}_createPlaceholderElement(){const P=this._placeholderTemplate,_=P?P.template:null;let j;return _?(this._placeholderRef=P.viewContainer.createEmbeddedView(_,P.context),this._placeholderRef.detectChanges(),j=Ha(this._placeholderRef,this._document)):j=As(this._rootElement),j.classList.add("cdk-drag-placeholder"),j}_getPointerPositionInElement(P,_){const j=this._rootElement.getBoundingClientRect(),G=P===this._rootElement?null:P,ae=G?G.getBoundingClientRect():j,Ce=gr(_)?_.targetTouches[0]:_,Me=this._getViewportScrollPosition();return{x:ae.left-j.left+(Ce.pageX-ae.left-Me.left),y:ae.top-j.top+(Ce.pageY-ae.top-Me.top)}}_getPointerPositionOnPage(P){const _=this._getViewportScrollPosition(),j=gr(P)?P.touches[0]||P.changedTouches[0]||{pageX:0,pageY:0}:P,G=j.pageX-_.left,ae=j.pageY-_.top;if(this._ownerSVGElement){const Ce=this._ownerSVGElement.getScreenCTM();if(Ce){const Me=this._ownerSVGElement.createSVGPoint();return Me.x=G,Me.y=ae,Me.matrixTransform(Ce.inverse())}}return{x:G,y:ae}}_getConstrainedPointerPosition(P){const _=this._dropContainer?this._dropContainer.lockAxis:null;let{x:j,y:G}=this.constrainPosition?this.constrainPosition(P,this):P;if("x"===this.lockAxis||"x"===_?G=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===_)&&(j=this._pickupPositionOnPage.x),this._boundaryRect){const{x:ae,y:Ce}=this._pickupPositionInElement,Me=this._boundaryRect,Ke=this._previewRect,tt=Me.top+Ce,lt=Me.bottom-(Ke.height-Ce);j=Ps(j,Me.left+ae,Me.right-(Ke.width-ae)),G=Ps(G,tt,lt)}return{x:j,y:G}}_updatePointerDirectionDelta(P){const{x:_,y:j}=P,G=this._pointerDirectionDelta,ae=this._pointerPositionAtLastDirectionChange,Ce=Math.abs(_-ae.x),Me=Math.abs(j-ae.y);return Ce>this._config.pointerDirectionChangeThreshold&&(G.x=_>ae.x?1:-1,ae.x=_),Me>this._config.pointerDirectionChangeThreshold&&(G.y=j>ae.y?1:-1,ae.y=j),G}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const P=this._handles.length>0||!this.isDragging();P!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=P,In(this._rootElement,P))}_removeRootElementListeners(P){P.removeEventListener("mousedown",this._pointerDown,Vr),P.removeEventListener("touchstart",this._pointerDown,Po)}_applyRootElementTransform(P,_){const j=Ir(P,_),G=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=G.transform&&"none"!=G.transform?G.transform:""),G.transform=vn(j,this._initialTransform)}_applyPreviewTransform(P,_){const j=this._previewTemplate?.template?void 0:this._initialTransform,G=Ir(P,_);this._preview.style.transform=vn(G,j)}_getDragDistance(P){const _=this._pickupPositionOnPage;return _?{x:P.x-_.x,y:P.y-_.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:P,y:_}=this._passiveTransform;if(0===P&&0===_||this.isDragging()||!this._boundaryElement)return;const j=this._boundaryElement.getBoundingClientRect(),G=this._rootElement.getBoundingClientRect();if(0===j.width&&0===j.height||0===G.width&&0===G.height)return;const ae=j.left-G.left,Ce=G.right-j.right,Me=j.top-G.top,Ke=G.bottom-j.bottom;j.width>G.width?(ae>0&&(P+=ae),Ce>0&&(P-=Ce)):P=0,j.height>G.height?(Me>0&&(_+=Me),Ke>0&&(_-=Ke)):_=0,(P!==this._passiveTransform.x||_!==this._passiveTransform.y)&&this.setFreeDragPosition({y:_,x:P})}_getDragStartDelay(P){const _=this.dragStartDelay;return"number"==typeof _?_:gr(P)?_.touch:_?_.mouse:0}_updateOnScroll(P){const _=this._parentPositions.handleScroll(P);if(_){const j=He(P);this._boundaryRect&&j!==this._boundaryElement&&j.contains(this._boundaryElement)&&tr(this._boundaryRect,_.top,_.left),this._pickupPositionOnPage.x+=_.left,this._pickupPositionOnPage.y+=_.top,this._dropContainer||(this._activeTransform.x-=_.left,this._activeTransform.y-=_.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const P=this._parentPositions.positions.get(this._document);return P?P.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=_e(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(P,_){const j=this._previewContainer||"global";if("parent"===j)return P;if("global"===j){const G=this._document;return _||G.fullscreenElement||G.webkitFullscreenElement||G.mozFullScreenElement||G.msFullscreenElement||G.body}return k(j)}}function Ir(H,P){return`translate3d(${Math.round(H)}px, ${Math.round(P)}px, 0)`}function Ps(H,P,_){return Math.max(P,Math.min(_,H))}function gr(H){return"t"===H.type[0]}function Ha(H,P){const _=H.rootNodes;if(1===_.length&&_[0].nodeType===P.ELEMENT_NODE)return _[0];const j=P.createElement("div");return _.forEach(G=>j.appendChild(G)),j}function Va(H,P){H.style.width=`${P.width}px`,H.style.height=`${P.height}px`,H.style.transform=Ir(P.left,P.top)}function nr(H,P){return Math.max(0,Math.min(P,H))}class Os{constructor(P,_,j,G,ae){this._dragDropRegistry=_,this._ngZone=G,this._viewportRuler=ae,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new w.x,this.entered=new w.x,this.exited=new w.x,this.dropped=new w.x,this.sorted=new w.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=gi.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new w.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(H=0,P=So.z){return H<0&&(H=0),(0,Rn.H)(H,H,P)}(0,M.Z).pipe((0,zi.R)(this._stopScrollTimers)).subscribe(()=>{const Ce=this._scrollNode,Me=this.autoScrollStep;1===this._verticalScrollDirection?Ce.scrollBy(0,-Me):2===this._verticalScrollDirection&&Ce.scrollBy(0,Me),1===this._horizontalScrollDirection?Ce.scrollBy(-Me,0):2===this._horizontalScrollDirection&&Ce.scrollBy(Me,0)})},this.element=k(P),this._document=j,this.withScrollableParents([this.element]),_.registerDropContainer(this),this._parentPositions=new _t(j,ae)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(P,_,j,G){let ae;this._draggingStarted(),null==G?(ae=this.sortingDisabled?this._draggables.indexOf(P):-1,-1===ae&&(ae=this._getItemIndexFromPointerPosition(P,_,j))):ae=G;const Ce=this._activeDraggables,Me=Ce.indexOf(P),Ke=P.getPlaceholderElement();let tt=Ce[ae];if(tt===P&&(tt=Ce[ae+1]),Me>-1&&Ce.splice(Me,1),tt&&!this._dragDropRegistry.isDragging(tt)){const lt=tt.getRootElement();lt.parentElement.insertBefore(Ke,lt),Ce.splice(ae,0,P)}else if(this._shouldEnterAsFirstChild(_,j)){const lt=Ce[0].getRootElement();lt.parentNode.insertBefore(Ke,lt),Ce.unshift(P)}else k(this.element).appendChild(Ke),Ce.push(P);Ke.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:P,container:this,currentIndex:this.getItemIndex(P)})}exit(P){this._reset(),this.exited.next({item:P,container:this})}drop(P,_,j,G,ae,Ce,Me){this._reset(),this.dropped.next({item:P,currentIndex:_,previousIndex:j,container:this,previousContainer:G,isPointerOverContainer:ae,distance:Ce,dropPoint:Me})}withItems(P){const _=this._draggables;return this._draggables=P,P.forEach(j=>j._withDropContainer(this)),this.isDragging()&&(_.filter(G=>G.isDragging()).every(G=>-1===P.indexOf(G))?this._reset():this._cacheItems()),this}withDirection(P){return this._direction=P,this}connectedTo(P){return this._siblings=P.slice(),this}withOrientation(P){return this._orientation=P,this}withScrollableParents(P){const _=k(this.element);return this._scrollableElements=-1===P.indexOf(_)?[_,...P]:P.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(P){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(j=>j.drag===P):this._draggables.indexOf(P)}isReceiving(){return this._activeSiblings.size>0}_sortItem(P,_,j,G){if(this.sortingDisabled||!this._clientRect||!dn(this._clientRect,.05,_,j))return;const ae=this._itemPositions,Ce=this._getItemIndexFromPointerPosition(P,_,j,G);if(-1===Ce&&ae.length>0)return;const Me="horizontal"===this._orientation,Ke=ae.findIndex(Jt=>Jt.drag===P),tt=ae[Ce],hn=tt.clientRect,Ht=Ke>Ce?1:-1,Mr=this._getItemOffsetPx(ae[Ke].clientRect,hn,Ht),xn=this._getSiblingOffsetPx(Ke,ae,Ht),Yr=ae.slice();(function(H,P,_){const j=nr(P,H.length-1),G=nr(_,H.length-1);if(j===G)return;const ae=H[j],Ce=G<j?-1:1;for(let Me=j;Me!==G;Me+=Ce)H[Me]=H[Me+Ce];H[G]=ae})(ae,Ke,Ce),this.sorted.next({previousIndex:Ke,currentIndex:Ce,container:this,item:P}),ae.forEach((Jt,xo)=>{if(Yr[xo]===Jt)return;const Rs=Jt.drag===P,Qi=Rs?Mr:xn,ko=Rs?P.getPlaceholderElement():Jt.drag.getRootElement();Jt.offset+=Qi,Me?(ko.style.transform=vn(`translate3d(${Math.round(Jt.offset)}px, 0, 0)`,Jt.initialTransform),tr(Jt.clientRect,0,Qi)):(ko.style.transform=vn(`translate3d(0, ${Math.round(Jt.offset)}px, 0)`,Jt.initialTransform),tr(Jt.clientRect,Qi,0))}),this._previousSwap.overlaps=Or(hn,_,j),this._previousSwap.drag=tt.drag,this._previousSwap.delta=Me?G.x:G.y}_startScrollingIfNecessary(P,_){if(this.autoScrollDisabled)return;let j,G=0,ae=0;if(this._parentPositions.positions.forEach((Ce,Me)=>{Me===this._document||!Ce.clientRect||j||dn(Ce.clientRect,.05,P,_)&&([G,ae]=function(H,P,_,j){const G=Tr(P,j),ae=_i(P,_);let Ce=0,Me=0;if(G){const Ke=H.scrollTop;1===G?Ke>0&&(Ce=1):H.scrollHeight-Ke>H.clientHeight&&(Ce=2)}if(ae){const Ke=H.scrollLeft;1===ae?Ke>0&&(Me=1):H.scrollWidth-Ke>H.clientWidth&&(Me=2)}return[Ce,Me]}(Me,Ce.clientRect,P,_),(G||ae)&&(j=Me))}),!G&&!ae){const{width:Ce,height:Me}=this._viewportRuler.getViewportSize(),Ke={width:Ce,height:Me,top:0,right:Ce,bottom:Me,left:0};G=Tr(Ke,_),ae=_i(Ke,P),j=window}j&&(G!==this._verticalScrollDirection||ae!==this._horizontalScrollDirection||j!==this._scrollNode)&&(this._verticalScrollDirection=G,this._horizontalScrollDirection=ae,this._scrollNode=j,(G||ae)&&j?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const P=k(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=P.msScrollSnapType||P.scrollSnapType||"",P.scrollSnapType=P.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const P=k(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(P).clientRect}_cacheItemPositions(){const P="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(_=>{const j=_.getVisibleElement();return{drag:_,offset:0,initialTransform:j.style.transform||"",clientRect:Ki(j)}}).sort((_,j)=>P?_.clientRect.left-j.clientRect.left:_.clientRect.top-j.clientRect.top)}_reset(){this._isDragging=!1;const P=k(this.element).style;P.scrollSnapType=P.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(_=>{const j=_.getRootElement();if(j){const G=this._itemPositions.find(ae=>ae.drag===_)?.initialTransform;j.style.transform=G||""}}),this._siblings.forEach(_=>_._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(P,_,j){const G="horizontal"===this._orientation,ae=_[P].clientRect,Ce=_[P+-1*j];let Me=ae[G?"width":"height"]*j;if(Ce){const Ke=G?"left":"top",tt=G?"right":"bottom";-1===j?Me-=Ce.clientRect[Ke]-ae[tt]:Me+=ae[Ke]-Ce.clientRect[tt]}return Me}_getItemOffsetPx(P,_,j){const G="horizontal"===this._orientation;let ae=G?_.left-P.left:_.top-P.top;return-1===j&&(ae+=G?_.width-P.width:_.height-P.height),ae}_shouldEnterAsFirstChild(P,_){if(!this._activeDraggables.length)return!1;const j=this._itemPositions,G="horizontal"===this._orientation;if(j[0].drag!==this._activeDraggables[0]){const Ce=j[j.length-1].clientRect;return G?P>=Ce.right:_>=Ce.bottom}{const Ce=j[0].clientRect;return G?P<=Ce.left:_<=Ce.top}}_getItemIndexFromPointerPosition(P,_,j,G){const ae="horizontal"===this._orientation,Ce=this._itemPositions.findIndex(({drag:Me,clientRect:Ke})=>{if(Me===P)return!1;if(G){const tt=ae?G.x:G.y;if(Me===this._previousSwap.drag&&this._previousSwap.overlaps&&tt===this._previousSwap.delta)return!1}return ae?_>=Math.floor(Ke.left)&&_<Math.floor(Ke.right):j>=Math.floor(Ke.top)&&j<Math.floor(Ke.bottom)});return-1!==Ce&&this.sortPredicate(Ce,P,this)?Ce:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(P,_){return null!=this._clientRect&&Or(this._clientRect,P,_)}_getSiblingContainerFromPosition(P,_,j){return this._siblings.find(G=>G._canReceive(P,_,j))}_canReceive(P,_,j){if(!this._clientRect||!Or(this._clientRect,_,j)||!this.enterPredicate(P,this))return!1;const G=this._getShadowRoot().elementFromPoint(_,j);if(!G)return!1;const ae=k(this.element);return G===ae||ae.contains(G)}_startReceiving(P,_){const j=this._activeSiblings;!j.has(P)&&_.every(G=>this.enterPredicate(G,this)||this._draggables.indexOf(G)>-1)&&(j.add(P),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(P){this._activeSiblings.delete(P),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(P=>{if(this.isDragging()){const _=this._parentPositions.handleScroll(P);_&&(this._itemPositions.forEach(({clientRect:j})=>{tr(j,_.top,_.left)}),this._itemPositions.forEach(({drag:j})=>{this._dragDropRegistry.isDragging(j)&&j._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const P=_e(k(this.element));this._cachedShadowRoot=P||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const P=this._activeDraggables.filter(_=>_.isDragging());this._siblings.forEach(_=>_._startReceiving(this,P))}}function Tr(H,P){const{top:_,bottom:j,height:G}=H,ae=.05*G;return P>=_-ae&&P<=_+ae?1:P>=j-ae&&P<=j+ae?2:0}function _i(H,P){const{left:_,right:j,width:G}=H,ae=.05*G;return P>=_-ae&&P<=_+ae?1:P>=j-ae&&P<=j+ae?2:0}const Gr=le({passive:!1,capture:!0});let Hn=(()=>{class H{constructor(_,j){this._ngZone=_,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=G=>G.isDragging(),this.pointerMove=new w.x,this.pointerUp=new w.x,this.scroll=new w.x,this._preventDefaultWhileDragging=G=>{this._activeDragInstances.length>0&&G.preventDefault()},this._persistentTouchmoveListener=G=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&G.preventDefault(),this.pointerMove.next(G))},this._document=j}registerDropContainer(_){this._dropInstances.has(_)||this._dropInstances.add(_)}registerDragItem(_){this._dragInstances.add(_),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Gr)})}removeDropContainer(_){this._dropInstances.delete(_)}removeDragItem(_){this._dragInstances.delete(_),this.stopDragging(_),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Gr)}startDragging(_,j){if(!(this._activeDragInstances.indexOf(_)>-1)&&(this._activeDragInstances.push(_),1===this._activeDragInstances.length)){const G=j.type.startsWith("touch");this._globalListeners.set(G?"touchend":"mouseup",{handler:ae=>this.pointerUp.next(ae),options:!0}).set("scroll",{handler:ae=>this.scroll.next(ae),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Gr}),G||this._globalListeners.set("mousemove",{handler:ae=>this.pointerMove.next(ae),options:Gr}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((ae,Ce)=>{this._document.addEventListener(Ce,ae.handler,ae.options)})})}}stopDragging(_){const j=this._activeDragInstances.indexOf(_);j>-1&&(this._activeDragInstances.splice(j,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(_){return this._activeDragInstances.indexOf(_)>-1}scrolled(_){const j=[this.scroll];return _&&_!==this._document&&j.push(new R.y(G=>this._ngZone.runOutsideAngular(()=>{const Ce=Me=>{this._activeDragInstances.length&&G.next(Me)};return _.addEventListener("scroll",Ce,!0),()=>{_.removeEventListener("scroll",Ce,!0)}}))),(0,Ui.T)(...j)}ngOnDestroy(){this._dragInstances.forEach(_=>this.removeDragItem(_)),this._dropInstances.forEach(_=>this.removeDropContainer(_)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((_,j)=>{this._document.removeEventListener(j,_.handler,_.options)}),this._globalListeners.clear()}}return H.\u0275fac=function(_){return new(_||H)(g.\u0275\u0275inject(g.NgZone),g.\u0275\u0275inject(a.DOCUMENT))},H.\u0275prov=g.\u0275\u0275defineInjectable({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();const Gi={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Qr=(()=>{class H{constructor(_,j,G,ae){this._document=_,this._ngZone=j,this._viewportRuler=G,this._dragDropRegistry=ae}createDrag(_,j=Gi){return new Ka(_,j,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(_){return new Os(_,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return H.\u0275fac=function(_){return new(_||H)(g.\u0275\u0275inject(a.DOCUMENT),g.\u0275\u0275inject(g.NgZone),g.\u0275\u0275inject(It),g.\u0275\u0275inject(Hn))},H.\u0275prov=g.\u0275\u0275defineInjectable({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();const Is=new g.InjectionToken("CDK_DRAG_PARENT"),Rr=new g.InjectionToken("CdkDropListGroup"),To=new g.InjectionToken("CDK_DRAG_CONFIG");let Ga=0;const Ro=new g.InjectionToken("CdkDropList");let Qa=(()=>{class H{constructor(_,j,G,ae,Ce,Me,Ke){this.element=_,this._changeDetectorRef=G,this._scrollDispatcher=ae,this._dir=Ce,this._group=Me,this._destroyed=new w.x,this.connectedTo=[],this.id="cdk-drop-list-"+Ga++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new g.EventEmitter,this.entered=new g.EventEmitter,this.exited=new g.EventEmitter,this.sorted=new g.EventEmitter,this._unsortedItems=new Set,this._dropListRef=j.createDropList(_),this._dropListRef.data=this,Ke&&this._assignDefaults(Ke),this._dropListRef.enterPredicate=(tt,lt)=>this.enterPredicate(tt.data,lt.data),this._dropListRef.sortPredicate=(tt,lt,hn)=>this.sortPredicate(tt,lt.data,hn.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),H._dropLists.push(this),Me&&Me._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(_){this._dropListRef.disabled=this._disabled=D(_)}addItem(_){this._unsortedItems.add(_),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(_){this._unsortedItems.delete(_),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((_,j)=>_._dragRef.getVisibleElement().compareDocumentPosition(j._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const _=H._dropLists.indexOf(this);_>-1&&H._dropLists.splice(_,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(_){this._dir&&this._dir.change.pipe((0,yi.O)(this._dir.value),(0,zi.R)(this._destroyed)).subscribe(j=>_.withDirection(j)),_.beforeStarted.subscribe(()=>{const j=function(H){return Array.isArray(H)?H:[H]}(this.connectedTo).map(G=>"string"==typeof G?H._dropLists.find(Ce=>Ce.id===G):G);if(this._group&&this._group._items.forEach(G=>{-1===j.indexOf(G)&&j.push(G)}),!this._scrollableParentsResolved){const G=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(ae=>ae.getElementRef().nativeElement);this._dropListRef.withScrollableParents(G),this._scrollableParentsResolved=!0}_.disabled=this.disabled,_.lockAxis=this.lockAxis,_.sortingDisabled=D(this.sortingDisabled),_.autoScrollDisabled=D(this.autoScrollDisabled),_.autoScrollStep=p(this.autoScrollStep,2),_.connectedTo(j.filter(G=>G&&G!==this).map(G=>G._dropListRef)).withOrientation(this.orientation)})}_handleEvents(_){_.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),_.entered.subscribe(j=>{this.entered.emit({container:this,item:j.item.data,currentIndex:j.currentIndex})}),_.exited.subscribe(j=>{this.exited.emit({container:this,item:j.item.data}),this._changeDetectorRef.markForCheck()}),_.sorted.subscribe(j=>{this.sorted.emit({previousIndex:j.previousIndex,currentIndex:j.currentIndex,container:this,item:j.item.data})}),_.dropped.subscribe(j=>{this.dropped.emit({previousIndex:j.previousIndex,currentIndex:j.currentIndex,previousContainer:j.previousContainer.data,container:j.container.data,item:j.item.data,isPointerOverContainer:j.isPointerOverContainer,distance:j.distance,dropPoint:j.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(_){const{lockAxis:j,draggingDisabled:G,sortingDisabled:ae,listAutoScrollDisabled:Ce,listOrientation:Me}=_;this.disabled=G??!1,this.sortingDisabled=ae??!1,this.autoScrollDisabled=Ce??!1,this.orientation=Me||"vertical",j&&(this.lockAxis=j)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(_=>_._dragRef))}}return H._dropLists=[],H.\u0275fac=function(_){return new(_||H)(g.\u0275\u0275directiveInject(g.ElementRef),g.\u0275\u0275directiveInject(Qr),g.\u0275\u0275directiveInject(g.ChangeDetectorRef),g.\u0275\u0275directiveInject(nt),g.\u0275\u0275directiveInject(Co,8),g.\u0275\u0275directiveInject(Rr,12),g.\u0275\u0275directiveInject(To,8))},H.\u0275dir=g.\u0275\u0275defineDirective({type:H,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(_,j){2&_&&(g.\u0275\u0275attribute("id",j.id),g.\u0275\u0275classProp("cdk-drop-list-disabled",j.disabled)("cdk-drop-list-dragging",j._dropListRef.isDragging())("cdk-drop-list-receiving",j._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[g.\u0275\u0275ProvidersFeature([{provide:Rr,useValue:void 0},{provide:Ro,useExisting:H}])]}),H})();const rr=new g.InjectionToken("CdkDragHandle"),Mo=new g.InjectionToken("CdkDragPlaceholder");let Za=(()=>{class H{constructor(_){this.templateRef=_}}return H.\u0275fac=function(_){return new(_||H)(g.\u0275\u0275directiveInject(g.TemplateRef))},H.\u0275dir=g.\u0275\u0275defineDirective({type:H,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[g.\u0275\u0275ProvidersFeature([{provide:Mo,useExisting:H}])]}),H})();const Ya=new g.InjectionToken("CdkDragPreview");let Xa=(()=>{class H{constructor(_,j,G,ae,Ce,Me,Ke,tt,lt,hn,Ht){this.element=_,this.dropContainer=j,this._ngZone=ae,this._viewContainerRef=Ce,this._dir=Ke,this._changeDetectorRef=lt,this._selfHandle=hn,this._parentDrag=Ht,this._destroyed=new w.x,this.started=new g.EventEmitter,this.released=new g.EventEmitter,this.ended=new g.EventEmitter,this.entered=new g.EventEmitter,this.exited=new g.EventEmitter,this.dropped=new g.EventEmitter,this.moved=new R.y(Mr=>{const xn=this._dragRef.moved.pipe((0,wo.U)(Yr=>({source:this,pointerPosition:Yr.pointerPosition,event:Yr.event,delta:Yr.delta,distance:Yr.distance}))).subscribe(Mr);return()=>{xn.unsubscribe()}}),this._dragRef=tt.createDrag(_,{dragStartThreshold:Me&&null!=Me.dragStartThreshold?Me.dragStartThreshold:5,pointerDirectionChangeThreshold:Me&&null!=Me.pointerDirectionChangeThreshold?Me.pointerDirectionChangeThreshold:5,zIndex:Me?.zIndex}),this._dragRef.data=this,H._dragInstances.push(this),Me&&this._assignDefaults(Me),j&&(this._dragRef._withDropContainer(j._dropListRef),j.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(_){this._disabled=D(_),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Dr.q)(1),(0,zi.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(_){const j=_.rootElementSelector,G=_.freeDragPosition;j&&!j.firstChange&&this._updateRootElement(),G&&!G.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const _=H._dragInstances.indexOf(this);_>-1&&H._dragInstances.splice(_,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const _=this.element.nativeElement;let j=_;this.rootElementSelector&&(j=void 0!==_.closest?_.closest(this.rootElementSelector):_.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(j||_)}_getBoundaryElement(){const _=this.boundaryElement;return _?"string"==typeof _?this.element.nativeElement.closest(_):k(_):null}_syncInputs(_){_.beforeStarted.subscribe(()=>{if(!_.isDragging()){const j=this._dir,G=this.dragStartDelay,ae=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,Ce=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;_.disabled=this.disabled,_.lockAxis=this.lockAxis,_.dragStartDelay="object"==typeof G&&G?G:p(G),_.constrainPosition=this.constrainPosition,_.previewClass=this.previewClass,_.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(ae).withPreviewTemplate(Ce).withPreviewContainer(this.previewContainer||"global"),j&&_.withDirection(j.value)}}),_.beforeStarted.pipe((0,Dr.q)(1)).subscribe(()=>{if(this._parentDrag)return void _.withParent(this._parentDrag._dragRef);let j=this.element.nativeElement.parentElement;for(;j;){if(j.classList.contains("cdk-drag")){_.withParent(H._dragInstances.find(G=>G.element.nativeElement===j)?._dragRef||null);break}j=j.parentElement}})}_handleEvents(_){_.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),_.released.subscribe(()=>{this.released.emit({source:this})}),_.ended.subscribe(j=>{this.ended.emit({source:this,distance:j.distance,dropPoint:j.dropPoint}),this._changeDetectorRef.markForCheck()}),_.entered.subscribe(j=>{this.entered.emit({container:j.container.data,item:this,currentIndex:j.currentIndex})}),_.exited.subscribe(j=>{this.exited.emit({container:j.container.data,item:this})}),_.dropped.subscribe(j=>{this.dropped.emit({previousIndex:j.previousIndex,currentIndex:j.currentIndex,previousContainer:j.previousContainer.data,container:j.container.data,isPointerOverContainer:j.isPointerOverContainer,item:this,distance:j.distance,dropPoint:j.dropPoint})})}_assignDefaults(_){const{lockAxis:j,dragStartDelay:G,constrainPosition:ae,previewClass:Ce,boundaryElement:Me,draggingDisabled:Ke,rootElementSelector:tt,previewContainer:lt}=_;this.disabled=Ke??!1,this.dragStartDelay=G||0,j&&(this.lockAxis=j),ae&&(this.constrainPosition=ae),Ce&&(this.previewClass=Ce),Me&&(this.boundaryElement=Me),tt&&(this.rootElementSelector=tt),lt&&(this.previewContainer=lt)}_setupHandlesListener(){this._handles.changes.pipe((0,yi.O)(this._handles),(0,Sn.b)(_=>{const j=_.filter(G=>G._parentDrag===this).map(G=>G.element);this._selfHandle&&this.rootElementSelector&&j.push(this.element),this._dragRef.withHandles(j)}),(0,Kr.w)(_=>(0,Ui.T)(..._.map(j=>j._stateChanges.pipe((0,yi.O)(j))))),(0,zi.R)(this._destroyed)).subscribe(_=>{const j=this._dragRef,G=_.element.nativeElement;_.disabled?j.disableHandle(G):j.enableHandle(G)})}}return H._dragInstances=[],H.\u0275fac=function(_){return new(_||H)(g.\u0275\u0275directiveInject(g.ElementRef),g.\u0275\u0275directiveInject(Ro,12),g.\u0275\u0275directiveInject(a.DOCUMENT),g.\u0275\u0275directiveInject(g.NgZone),g.\u0275\u0275directiveInject(g.ViewContainerRef),g.\u0275\u0275directiveInject(To,8),g.\u0275\u0275directiveInject(Co,8),g.\u0275\u0275directiveInject(Qr),g.\u0275\u0275directiveInject(g.ChangeDetectorRef),g.\u0275\u0275directiveInject(rr,10),g.\u0275\u0275directiveInject(Is,12))},H.\u0275dir=g.\u0275\u0275defineDirective({type:H,selectors:[["","cdkDrag",""]],contentQueries:function(_,j,G){if(1&_&&(g.\u0275\u0275contentQuery(G,Ya,5),g.\u0275\u0275contentQuery(G,Mo,5),g.\u0275\u0275contentQuery(G,rr,5)),2&_){let ae;g.\u0275\u0275queryRefresh(ae=g.\u0275\u0275loadQuery())&&(j._previewTemplate=ae.first),g.\u0275\u0275queryRefresh(ae=g.\u0275\u0275loadQuery())&&(j._placeholderTemplate=ae.first),g.\u0275\u0275queryRefresh(ae=g.\u0275\u0275loadQuery())&&(j._handles=ae)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(_,j){2&_&&g.\u0275\u0275classProp("cdk-drag-disabled",j.disabled)("cdk-drag-dragging",j._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[g.\u0275\u0275ProvidersFeature([{provide:Is,useExisting:H}]),g.\u0275\u0275NgOnChangesFeature]}),H})(),qa=(()=>{class H{}return H.\u0275fac=function(_){return new(_||H)},H.\u0275mod=g.\u0275\u0275defineNgModule({type:H}),H.\u0275inj=g.\u0275\u0275defineInjector({providers:[Qr],imports:[tn]}),H})()},1481:(re,U,l)=>{l.d(U,{b2:()=>cn,H7:()=>Sr,q6:()=>Bn,se:()=>J});var g=l(1457),a=l(7777);class D extends g.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class p extends D{static makeCurrent(){(0,g.\u0275setRootDomAdapter)(new p)}onAndCancel(de,te,ge){return de.addEventListener(te,ge,!1),()=>{de.removeEventListener(te,ge,!1)}}dispatchEvent(de,te){de.dispatchEvent(te)}remove(de){de.parentNode&&de.parentNode.removeChild(de)}createElement(de,te){return(te=te||this.getDefaultDocument()).createElement(de)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(de){return de.nodeType===Node.ELEMENT_NODE}isShadowRoot(de){return de instanceof DocumentFragment}getGlobalEventTarget(de,te){return"window"===te?window:"document"===te?de:"body"===te?de.body:null}getBaseHref(de){const te=(F=F||document.querySelector("base"),F?F.getAttribute("href"):null);return null==te?null:function(Se){N=N||document.createElement("a"),N.setAttribute("href",Se);const de=N.pathname;return"/"===de.charAt(0)?de:`/${de}`}(te)}resetBaseElement(){F=null}getUserAgent(){return window.navigator.userAgent}getCookie(de){return(0,g.\u0275parseCookieValue)(document.cookie,de)}}let N,F=null;const O=new a.InjectionToken("TRANSITION_ID"),S=[{provide:a.APP_INITIALIZER,useFactory:function(Se,de,te){return()=>{te.get(a.ApplicationInitStatus).donePromise.then(()=>{const ge=(0,g.\u0275getDOM)(),Le=de.querySelectorAll(`style[ng-transition="${Se}"]`);for(let rt=0;rt<Le.length;rt++)ge.remove(Le[rt])})}},deps:[O,g.DOCUMENT,a.Injector],multi:!0}];class R{static init(){(0,a.setTestabilityGetter)(new R)}addToWindow(de){a.\u0275global.getAngularTestability=(ge,Le=!0)=>{const rt=de.findTestabilityInTree(ge,Le);if(null==rt)throw new Error("Could not find testability for element.");return rt},a.\u0275global.getAllAngularTestabilities=()=>de.getAllTestabilities(),a.\u0275global.getAllAngularRootElements=()=>de.getAllRootElements(),a.\u0275global.frameworkStabilizers||(a.\u0275global.frameworkStabilizers=[]),a.\u0275global.frameworkStabilizers.push(ge=>{const Le=a.\u0275global.getAllAngularTestabilities();let rt=Le.length,kt=!1;const En=function(Nn){kt=kt||Nn,rt--,0==rt&&ge(kt)};Le.forEach(function(Nn){Nn.whenStable(En)})})}findTestabilityInTree(de,te,ge){return null==te?null:de.getTestability(te)??(ge?(0,g.\u0275getDOM)().isShadowRoot(te)?this.findTestabilityInTree(de,te.host,!0):this.findTestabilityInTree(de,te.parentElement,!0):null)}}let I=(()=>{class Se{build(){return new XMLHttpRequest}}return Se.\u0275fac=function(te){return new(te||Se)},Se.\u0275prov=a.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac}),Se})();const M=new a.InjectionToken("EventManagerPlugins");let T=(()=>{class Se{constructor(te,ge){this._zone=ge,this._eventNameToPlugin=new Map,te.forEach(Le=>Le.manager=this),this._plugins=te.slice().reverse()}addEventListener(te,ge,Le){return this._findPluginFor(ge).addEventListener(te,ge,Le)}addGlobalEventListener(te,ge,Le){return this._findPluginFor(ge).addGlobalEventListener(te,ge,Le)}getZone(){return this._zone}_findPluginFor(te){const ge=this._eventNameToPlugin.get(te);if(ge)return ge;const Le=this._plugins;for(let rt=0;rt<Le.length;rt++){const kt=Le[rt];if(kt.supports(te))return this._eventNameToPlugin.set(te,kt),kt}throw new Error(`No event manager plugin found for event ${te}`)}}return Se.\u0275fac=function(te){return new(te||Se)(a.\u0275\u0275inject(M),a.\u0275\u0275inject(a.NgZone))},Se.\u0275prov=a.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac}),Se})();class E{constructor(de){this._doc=de}addGlobalEventListener(de,te,ge){const Le=(0,g.\u0275getDOM)().getGlobalEventTarget(this._doc,de);if(!Le)throw new Error(`Unsupported event target ${Le} for event ${te}`);return this.addEventListener(Le,te,ge)}}let y=(()=>{class Se{constructor(){this._stylesSet=new Set}addStyles(te){const ge=new Set;te.forEach(Le=>{this._stylesSet.has(Le)||(this._stylesSet.add(Le),ge.add(Le))}),this.onStylesAdded(ge)}onStylesAdded(te){}getAllStyles(){return Array.from(this._stylesSet)}}return Se.\u0275fac=function(te){return new(te||Se)},Se.\u0275prov=a.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac}),Se})(),c=(()=>{class Se extends y{constructor(te){super(),this._doc=te,this._hostNodes=new Map,this._hostNodes.set(te.head,[])}_addStylesToHost(te,ge,Le){te.forEach(rt=>{const kt=this._doc.createElement("style");kt.textContent=rt,Le.push(ge.appendChild(kt))})}addHost(te){const ge=[];this._addStylesToHost(this._stylesSet,te,ge),this._hostNodes.set(te,ge)}removeHost(te){const ge=this._hostNodes.get(te);ge&&ge.forEach(s),this._hostNodes.delete(te)}onStylesAdded(te){this._hostNodes.forEach((ge,Le)=>{this._addStylesToHost(te,Le,ge)})}ngOnDestroy(){this._hostNodes.forEach(te=>te.forEach(s))}}return Se.\u0275fac=function(te){return new(te||Se)(a.\u0275\u0275inject(g.DOCUMENT))},Se.\u0275prov=a.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac}),Se})();function s(Se){(0,g.\u0275getDOM)().remove(Se)}const v={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},d=/%COMP%/g;function z(Se,de,te){for(let ge=0;ge<de.length;ge++){let Le=de[ge];Array.isArray(Le)?z(Se,Le,te):(Le=Le.replace(d,Se),te.push(Le))}return te}function Y(Se){return de=>{if("__ngUnwrap__"===de)return Se;!1===Se(de)&&(de.preventDefault(),de.returnValue=!1)}}let J=(()=>{class Se{constructor(te,ge,Le){this.eventManager=te,this.sharedStylesHost=ge,this.appId=Le,this.rendererByCompId=new Map,this.defaultRenderer=new q(te)}createRenderer(te,ge){if(!te||!ge)return this.defaultRenderer;switch(ge.encapsulation){case a.ViewEncapsulation.Emulated:{let Le=this.rendererByCompId.get(ge.id);return Le||(Le=new He(this.eventManager,this.sharedStylesHost,ge,this.appId),this.rendererByCompId.set(ge.id,Le)),Le.applyToHost(te),Le}case 1:case a.ViewEncapsulation.ShadowDom:return new Ee(this.eventManager,this.sharedStylesHost,te,ge);default:if(!this.rendererByCompId.has(ge.id)){const Le=z(ge.id,ge.styles,[]);this.sharedStylesHost.addStyles(Le),this.rendererByCompId.set(ge.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Se.\u0275fac=function(te){return new(te||Se)(a.\u0275\u0275inject(T),a.\u0275\u0275inject(c),a.\u0275\u0275inject(a.APP_ID))},Se.\u0275prov=a.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac}),Se})();class q{constructor(de){this.eventManager=de,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(de,te){return te?document.createElementNS(v[te]||te,de):document.createElement(de)}createComment(de){return document.createComment(de)}createText(de){return document.createTextNode(de)}appendChild(de,te){de.appendChild(te)}insertBefore(de,te,ge){de&&de.insertBefore(te,ge)}removeChild(de,te){de&&de.removeChild(te)}selectRootElement(de,te){let ge="string"==typeof de?document.querySelector(de):de;if(!ge)throw new Error(`The selector "${de}" did not match any elements`);return te||(ge.textContent=""),ge}parentNode(de){return de.parentNode}nextSibling(de){return de.nextSibling}setAttribute(de,te,ge,Le){if(Le){te=Le+":"+te;const rt=v[Le];rt?de.setAttributeNS(rt,te,ge):de.setAttribute(te,ge)}else de.setAttribute(te,ge)}removeAttribute(de,te,ge){if(ge){const Le=v[ge];Le?de.removeAttributeNS(Le,te):de.removeAttribute(`${ge}:${te}`)}else de.removeAttribute(te)}addClass(de,te){de.classList.add(te)}removeClass(de,te){de.classList.remove(te)}setStyle(de,te,ge,Le){Le&(a.RendererStyleFlags2.DashCase|a.RendererStyleFlags2.Important)?de.style.setProperty(te,ge,Le&a.RendererStyleFlags2.Important?"important":""):de.style[te]=ge}removeStyle(de,te,ge){ge&a.RendererStyleFlags2.DashCase?de.style.removeProperty(te):de.style[te]=""}setProperty(de,te,ge){de[te]=ge}setValue(de,te){de.nodeValue=te}listen(de,te,ge){return"string"==typeof de?this.eventManager.addGlobalEventListener(de,te,Y(ge)):this.eventManager.addEventListener(de,te,Y(ge))}}class He extends q{constructor(de,te,ge,Le){super(de),this.component=ge;const rt=z(Le+"-"+ge.id,ge.styles,[]);te.addStyles(rt),this.contentAttr="_ngcontent-%COMP%".replace(d,Le+"-"+ge.id),this.hostAttr="_nghost-%COMP%".replace(d,Le+"-"+ge.id)}applyToHost(de){super.setAttribute(de,this.hostAttr,"")}createElement(de,te){const ge=super.createElement(de,te);return super.setAttribute(ge,this.contentAttr,""),ge}}class Ee extends q{constructor(de,te,ge,Le){super(de),this.sharedStylesHost=te,this.hostEl=ge,this.shadowRoot=ge.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const rt=z(Le.id,Le.styles,[]);for(let kt=0;kt<rt.length;kt++){const En=document.createElement("style");En.textContent=rt[kt],this.shadowRoot.appendChild(En)}}nodeOrShadowRoot(de){return de===this.hostEl?this.shadowRoot:de}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(de,te){return super.appendChild(this.nodeOrShadowRoot(de),te)}insertBefore(de,te,ge){return super.insertBefore(this.nodeOrShadowRoot(de),te,ge)}removeChild(de,te){return super.removeChild(this.nodeOrShadowRoot(de),te)}parentNode(de){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(de)))}}let ve=(()=>{class Se extends E{constructor(te){super(te)}supports(te){return!0}addEventListener(te,ge,Le){return te.addEventListener(ge,Le,!1),()=>this.removeEventListener(te,ge,Le)}removeEventListener(te,ge,Le){return te.removeEventListener(ge,Le)}}return Se.\u0275fac=function(te){return new(te||Se)(a.\u0275\u0275inject(g.DOCUMENT))},Se.\u0275prov=a.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac}),Se})();const ne=["alt","control","meta","shift"],De={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fe={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Qe={alt:Se=>Se.altKey,control:Se=>Se.ctrlKey,meta:Se=>Se.metaKey,shift:Se=>Se.shiftKey};let pt=(()=>{class Se extends E{constructor(te){super(te)}supports(te){return null!=Se.parseEventName(te)}addEventListener(te,ge,Le){const rt=Se.parseEventName(ge),kt=Se.eventCallback(rt.fullKey,Le,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.\u0275getDOM)().onAndCancel(te,rt.domEventName,kt))}static parseEventName(te){const ge=te.toLowerCase().split("."),Le=ge.shift();if(0===ge.length||"keydown"!==Le&&"keyup"!==Le)return null;const rt=Se._normalizeKey(ge.pop());let kt="";if(ne.forEach(Nn=>{const hr=ge.indexOf(Nn);hr>-1&&(ge.splice(hr,1),kt+=Nn+".")}),kt+=rt,0!=ge.length||0===rt.length)return null;const En={};return En.domEventName=Le,En.fullKey=kt,En}static getEventFullKey(te){let ge="",Le=function(Se){let de=Se.key;if(null==de){if(de=Se.keyIdentifier,null==de)return"Unidentified";de.startsWith("U+")&&(de=String.fromCharCode(parseInt(de.substring(2),16)),3===Se.location&&Fe.hasOwnProperty(de)&&(de=Fe[de]))}return De[de]||de}(te);return Le=Le.toLowerCase()," "===Le?Le="space":"."===Le&&(Le="dot"),ne.forEach(rt=>{rt!=Le&&Qe[rt](te)&&(ge+=rt+".")}),ge+=Le,ge}static eventCallback(te,ge,Le){return rt=>{Se.getEventFullKey(rt)===te&&Le.runGuarded(()=>ge(rt))}}static _normalizeKey(te){return"esc"===te?"escape":te}}return Se.\u0275fac=function(te){return new(te||Se)(a.\u0275\u0275inject(g.DOCUMENT))},Se.\u0275prov=a.\u0275\u0275defineInjectable({token:Se,factory:Se.\u0275fac}),Se})();const Bn=(0,a.createPlatformFactory)(a.platformCore,"browser",[{provide:a.PLATFORM_ID,useValue:g.\u0275PLATFORM_BROWSER_ID},{provide:a.PLATFORM_INITIALIZER,useValue:function(){p.makeCurrent(),R.init()},multi:!0},{provide:g.DOCUMENT,useFactory:function(){return(0,a.\u0275setDocument)(document),document},deps:[]}]),bn=[{provide:a.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:a.ErrorHandler,useFactory:function(){return new a.ErrorHandler},deps:[]},{provide:M,useClass:ve,multi:!0,deps:[g.DOCUMENT,a.NgZone,a.PLATFORM_ID]},{provide:M,useClass:pt,multi:!0,deps:[g.DOCUMENT]},{provide:J,useClass:J,deps:[T,c,a.APP_ID]},{provide:a.RendererFactory2,useExisting:J},{provide:y,useExisting:c},{provide:c,useClass:c,deps:[g.DOCUMENT]},{provide:a.Testability,useClass:a.Testability,deps:[a.NgZone]},{provide:T,useClass:T,deps:[M,a.NgZone]},{provide:g.XhrFactory,useClass:I,deps:[]}];let cn=(()=>{class Se{constructor(te){if(te)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(te){return{ngModule:Se,providers:[{provide:a.APP_ID,useValue:te.appId},{provide:O,useExisting:a.APP_ID},S]}}}return Se.\u0275fac=function(te){return new(te||Se)(a.\u0275\u0275inject(Se,12))},Se.\u0275mod=a.\u0275\u0275defineNgModule({type:Se}),Se.\u0275inj=a.\u0275\u0275defineInjector({providers:bn,imports:[g.CommonModule,a.ApplicationModule]}),Se})();"undefined"!=typeof window&&window;let Sr=(()=>{class Se{}return Se.\u0275fac=function(te){return new(te||Se)},Se.\u0275prov=a.\u0275\u0275defineInjectable({token:Se,factory:function(te){let ge=null;return ge=te?new(te||Se):a.\u0275\u0275inject(ui),ge},providedIn:"root"}),Se})(),ui=(()=>{class Se extends Sr{constructor(te){super(),this._doc=te}sanitize(te,ge){if(null==ge)return null;switch(te){case a.SecurityContext.NONE:return ge;case a.SecurityContext.HTML:return(0,a.\u0275allowSanitizationBypassAndThrow)(ge,"HTML")?(0,a.\u0275unwrapSafeValue)(ge):(0,a.\u0275_sanitizeHtml)(this._doc,String(ge)).toString();case a.SecurityContext.STYLE:return(0,a.\u0275allowSanitizationBypassAndThrow)(ge,"Style")?(0,a.\u0275unwrapSafeValue)(ge):ge;case a.SecurityContext.SCRIPT:if((0,a.\u0275allowSanitizationBypassAndThrow)(ge,"Script"))return(0,a.\u0275unwrapSafeValue)(ge);throw new Error("unsafe value used in a script context");case a.SecurityContext.URL:return(0,a.\u0275getSanitizationBypassType)(ge),(0,a.\u0275allowSanitizationBypassAndThrow)(ge,"URL")?(0,a.\u0275unwrapSafeValue)(ge):(0,a.\u0275_sanitizeUrl)(String(ge));case a.SecurityContext.RESOURCE_URL:if((0,a.\u0275allowSanitizationBypassAndThrow)(ge,"ResourceURL"))return(0,a.\u0275unwrapSafeValue)(ge);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${te} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(te){return(0,a.\u0275bypassSanitizationTrustHtml)(te)}bypassSecurityTrustStyle(te){return(0,a.\u0275bypassSanitizationTrustStyle)(te)}bypassSecurityTrustScript(te){return(0,a.\u0275bypassSanitizationTrustScript)(te)}bypassSecurityTrustUrl(te){return(0,a.\u0275bypassSanitizationTrustUrl)(te)}bypassSecurityTrustResourceUrl(te){return(0,a.\u0275bypassSanitizationTrustResourceUrl)(te)}}return Se.\u0275fac=function(te){return new(te||Se)(a.\u0275\u0275inject(g.DOCUMENT))},Se.\u0275prov=a.\u0275\u0275defineInjectable({token:Se,factory:function(te){let ge=null;return ge=te?new te:function(Se){return new ui(Se.get(g.DOCUMENT))}(a.\u0275\u0275inject(a.Injector)),ge},providedIn:"root"}),Se})()},5861:(re,U,l)=>{function g(D,p,F,B,N,k,O){try{var w=D[k](O),S=w.value}catch(R){return void F(R)}w.done?p(S):Promise.resolve(S).then(B,N)}function a(D){return function(){var p=this,F=arguments;return new Promise(function(B,N){var k=D.apply(p,F);function O(S){g(k,B,N,O,w,"next",S)}function w(S){g(k,B,N,O,w,"throw",S)}O(void 0)})}}l.d(U,{Z:()=>a})}}]);