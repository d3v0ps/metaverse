(self.webpackChunk_central_factory_portal=self.webpackChunk_central_factory_portal||[]).push([[768],{3354:(fe,W,c)=>{c.d(W,{NI:()=>N,cw:()=>w,kI:()=>O}),c(7777);var D=c(4006);class N extends D.NI{constructor(S=null,C,_){super(S,C,_)}setValue(S,C={}){return super.setValue(S,C)}patchValue(S,C={}){return super.patchValue(S,C)}reset(S=null,C={}){return super.reset(S,C)}get(){return null}setValidators(S){return super.setValidators(S)}setAsyncValidators(S){return super.setAsyncValidators(S)}setErrors(S,C={}){return super.setErrors(S,C)}getError(S){return super.getError(S)}hasError(S){return super.hasError(S)}}class w extends D.cw{constructor(S,C,_){super(S,C,_),this.controls=S}registerControl(S,C){return super.registerControl(S,C)}addControl(S,C){return super.addControl(S,C)}removeControl(S){return super.removeControl(S)}setControl(S,C){return super.setControl(S,C)}contains(S){return super.contains(S)}setValue(S,C={}){return super.setValue(S,C)}patchValue(S,C={}){return super.patchValue(S,C)}reset(S={},C={}){return super.reset(S,C)}getRawValue(){return super.getRawValue()}get(S){return super.get(S)}setValidators(S){return super.setValidators(S)}setAsyncValidators(S){return super.setAsyncValidators(S)}setErrors(S,C={}){return super.setErrors(S,C)}getError(S,C){return super.getError(S,C)}hasError(S,C){return super.hasError(S,C)}}class O extends D.kI{static min(S){return super.min(S)}static max(S){return super.max(S)}static required(S){return super.required(S)}static requiredTrue(S){return super.requiredTrue(S)}static email(S){return super.email(S)}static minLength(S){return super.minLength(S)}static maxLength(S){return super.maxLength(S)}static pattern(S){return super.pattern(S)}static nullValidator(S){return null}static compose(S){return super.compose(S)}static composeAsync(S){return super.composeAsync(S)}static fileRequired(S){if(!(S.value instanceof FormData))return{fileRequired:!0};const C=[];S.value.forEach(_=>C.push(_));for(const _ of C)if(_ instanceof File)return null;return{fileRequired:!0}}static filesMinLength(S){return C=>{const _=C.value;if(S<1)return null;if(!(_&&_ instanceof FormData))return{filesMinLength:{requiredLength:S,actualLength:0}};const v=[];_.forEach(a=>v.push(a));const d=v.length;return d<S?{filesMinLength:{requiredLength:S,actualLength:d}}:null}}static filesMaxLength(S){return C=>{if(!(C.value instanceof FormData))return null;const _=[];C.value.forEach(d=>_.push(d));const v=_.length;return v>S?{filesMaxLength:{requiredLength:S,actualLength:v}}:null}}static fileMaxSize(S){return C=>{if(!(C.value instanceof FormData))return null;const _=[];C.value.forEach(v=>_.push(v));for(const v of _)if(v instanceof File&&v.size>S)return{fileMaxSize:{requiredSize:S,actualSize:v.size,file:v}};return null}}}Symbol()},3768:(fe,W,c)=>{c.r(W);var i=c(1481),u=c(7777),D=c(1281),L=c(7579),U=c(9841),k=c(7272),V=c(8306),N=c(5698),w=c(9300);function O(y){return(0,w.h)((l,o)=>y<=o)}var E=c(8372),x=c(4004),T=c(8675),S=c(2722),C=c(3353);let _=(()=>{class y{}return y.\u0275fac=function(o){return new(o||y)},y.\u0275mod=u.\u0275\u0275defineNgModule({type:y}),y.\u0275inj=u.\u0275\u0275defineInjector({}),y})();const v=new Set;let d,a=(()=>{class y{constructor(o){this._platform=o,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):h}matchMedia(o){return(this._platform.WEBKIT||this._platform.BLINK)&&function(y){if(!v.has(y))try{d||(d=document.createElement("style"),d.setAttribute("type","text/css"),document.head.appendChild(d)),d.sheet&&(d.sheet.insertRule(`@media ${y} {body{ }}`,0),v.add(y))}catch(l){console.error(l)}}(o),this._matchMedia(o)}}return y.\u0275fac=function(o){return new(o||y)(u.\u0275\u0275inject(C.t4))},y.\u0275prov=u.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function h(y){return{matches:"all"===y||""===y,media:y,addListener:()=>{},removeListener:()=>{}}}let H=(()=>{class y{constructor(o,g){this._mediaMatcher=o,this._zone=g,this._queries=new Map,this._destroySubject=new L.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(o){return ae((0,D.Eq)(o)).some(j=>this._registerQuery(j).mql.matches)}observe(o){const j=ae((0,D.Eq)(o)).map(le=>this._registerQuery(le).observable);let Y=(0,U.a)(j);return Y=(0,k.z)(Y.pipe((0,N.q)(1)),Y.pipe(O(1),(0,E.b)(0))),Y.pipe((0,x.U)(le=>{const he={matches:!1,breakpoints:{}};return le.forEach(({matches:Se,query:Le})=>{he.matches=he.matches||Se,he.breakpoints[Le]=Se}),he}))}_registerQuery(o){if(this._queries.has(o))return this._queries.get(o);const g=this._mediaMatcher.matchMedia(o),Y={observable:new V.y(le=>{const he=Se=>this._zone.run(()=>le.next(Se));return g.addListener(he),()=>{g.removeListener(he)}}).pipe((0,T.O)(g),(0,x.U)(({matches:le})=>({query:o,matches:le})),(0,S.R)(this._destroySubject)),mql:g};return this._queries.set(o,Y),Y}}return y.\u0275fac=function(o){return new(o||y)(u.\u0275\u0275inject(a),u.\u0275\u0275inject(u.NgZone))},y.\u0275prov=u.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function ae(y){return y.map(l=>l.split(",")).reduce((l,o)=>l.concat(o)).map(l=>l.trim())}var Ee=c(9283),B=c(7340);function ne(){return"undefined"!=typeof window&&void 0!==window.document}function Q(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function te(y){switch(y.length){case 0:return new B.ZN;case 1:return y[0];default:return new B.ZE(y)}}function X(y,l,o,g,j={},Y={}){const le=[],he=[];let Se=-1,Le=null;if(g.forEach(Je=>{const nt=Je.offset,bt=nt==Se,Ut=bt&&Le||{};Object.keys(Je).forEach(vt=>{let St=vt,zt=Je[vt];if("offset"!==vt)switch(St=l.normalizePropertyName(St,le),zt){case B.k1:zt=j[vt];break;case B.l3:zt=Y[vt];break;default:zt=l.normalizeStyleValue(vt,St,zt,le)}Ut[St]=zt}),bt||he.push(Ut),Le=Ut,Se=nt}),le.length){const Je="\n - ";throw new Error(`Unable to animate due to the following errors:${Je}${le.join(Je)}`)}return he}function se(y,l,o,g){switch(l){case"start":y.onStart(()=>g(o&&ce(o,"start",y)));break;case"done":y.onDone(()=>g(o&&ce(o,"done",y)));break;case"destroy":y.onDestroy(()=>g(o&&ce(o,"destroy",y)))}}function ce(y,l,o){const Y=Oe(y.element,y.triggerName,y.fromState,y.toState,l||y.phaseName,o.totalTime??y.totalTime,!!o.disabled),le=y._data;return null!=le&&(Y._data=le),Y}function Oe(y,l,o,g,j="",Y=0,le){return{element:y,triggerName:l,fromState:o,toState:g,phaseName:j,totalTime:Y,disabled:!!le}}function We(y,l,o){let g;return y instanceof Map?(g=y.get(l),g||y.set(l,g=o)):(g=y[l],g||(g=y[l]=o)),g}function tt(y){const l=y.indexOf(":");return[y.substring(1,l),y.substr(l+1)]}let Pe=(y,l)=>!1,De=(y,l,o)=>[];(Q()||"undefined"!=typeof Element)&&(Pe=ne()?(y,l)=>{for(;l&&l!==document.documentElement;){if(l===y)return!0;l=l.parentNode||l.host}return!1}:(y,l)=>y.contains(l),De=(y,l,o)=>{let g=[];if(o){const j=y.querySelectorAll(l);for(let Y=0;Y<j.length;Y++)g.push(j[Y])}else{const j=y.querySelector(l);j&&g.push(j)}return g});let ke=null,Ge=!1;function it(y){ke||(ke=("undefined"!=typeof document?document.body:null)||{},Ge=!!ke.style&&"WebkitAppearance"in ke.style);let l=!0;return ke.style&&!function(y){return"ebkit"==y.substring(1,6)}(y)&&(l=y in ke.style,!l&&Ge&&(l="Webkit"+y.charAt(0).toUpperCase()+y.substr(1)in ke.style)),l}const at=Pe,Et=De;function Rt(y){const l={};return Object.keys(y).forEach(o=>{const g=o.replace(/([a-z])([A-Z])/g,"$1-$2");l[g]=y[o]}),l}let Nt=(()=>{class y{validateStyleProperty(o){return it(o)}matchesElement(o,g){return!1}containsElement(o,g){return at(o,g)}query(o,g,j){return Et(o,g,j)}computeStyle(o,g,j){return j||""}animate(o,g,j,Y,le,he=[],Se){return new B.ZN(j,Y)}}return y.\u0275fac=function(o){return new(o||y)},y.\u0275prov=u.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y})(),$t=(()=>{class y{}return y.NOOP=new Nt,y})();const Mn="ng-enter",qt="ng-leave",Nn="ng-trigger",ze=".ng-trigger",Pt="ng-animating",ht=".ng-animating";function xt(y){if("number"==typeof y)return y;const l=y.match(/^(-?[\.\d]+)(m?s)/);return!l||l.length<2?0:sr(parseFloat(l[1]),l[2])}function sr(y,l){return"s"===l?1e3*y:y}function hr(y,l,o){return y.hasOwnProperty("duration")?y:function(y,l,o){let j,Y=0,le="";if("string"==typeof y){const he=y.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===he)return l.push(`The provided timing value "${y}" is invalid.`),{duration:0,delay:0,easing:""};j=sr(parseFloat(he[1]),he[2]);const Se=he[3];null!=Se&&(Y=sr(parseFloat(Se),he[4]));const Le=he[5];Le&&(le=Le)}else j=y;if(!o){let he=!1,Se=l.length;j<0&&(l.push("Duration values below 0 are not allowed for this animation step."),he=!0),Y<0&&(l.push("Delay values below 0 are not allowed for this animation step."),he=!0),he&&l.splice(Se,0,`The provided timing value "${y}" is invalid.`)}return{duration:j,delay:Y,easing:le}}(y,l,o)}function Cn(y,l={}){return Object.keys(y).forEach(o=>{l[o]=y[o]}),l}function $n(y,l,o={}){if(l)for(let g in y)o[g]=y[g];else Cn(y,o);return o}function Fr(y,l,o){return o?l+":"+o+";":""}function kr(y){let l="";for(let o=0;o<y.style.length;o++){const g=y.style.item(o);l+=Fr(0,g,y.style.getPropertyValue(g))}for(const o in y.style)y.style.hasOwnProperty(o)&&!o.startsWith("_")&&(l+=Fr(0,xn(o),y.style[o]));y.setAttribute("style",l)}function On(y,l,o){y.style&&(Object.keys(l).forEach(g=>{const j=Cr(g);o&&!o.hasOwnProperty(g)&&(o[g]=y.style[j]),y.style[j]=l[g]}),Q()&&kr(y))}function Rn(y,l){y.style&&(Object.keys(l).forEach(o=>{const g=Cr(o);y.style[g]=""}),Q()&&kr(y))}function Jn(y){return Array.isArray(y)?1==y.length?y[0]:(0,B.vP)(y):y}const br=new RegExp("{{\\s*(.+?)\\s*}}","g");function Er(y){let l=[];if("string"==typeof y){let o;for(;o=br.exec(y);)l.push(o[1]);br.lastIndex=0}return l}function Xn(y,l,o){const g=y.toString(),j=g.replace(br,(Y,le)=>{let he=l[le];return l.hasOwnProperty(le)||(o.push(`Please provide a value for the animation param ${le}`),he=""),he.toString()});return j==g?y:j}function Lr(y){const l=[];let o=y.next();for(;!o.done;)l.push(o.value),o=y.next();return l}const Sr=/-+([a-z0-9])/g;function Cr(y){return y.replace(Sr,(...l)=>l[1].toUpperCase())}function xn(y){return y.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function pn(y,l){return 0===y||0===l}function Br(y,l,o){const g=Object.keys(o);if(g.length&&l.length){let Y=l[0],le=[];if(g.forEach(he=>{Y.hasOwnProperty(he)||le.push(he),Y[he]=o[he]}),le.length)for(var j=1;j<l.length;j++){let he=l[j];le.forEach(function(Se){he[Se]=Nr(y,Se)})}}return l}function ln(y,l,o){switch(l.type){case 7:return y.visitTrigger(l,o);case 0:return y.visitState(l,o);case 1:return y.visitTransition(l,o);case 2:return y.visitSequence(l,o);case 3:return y.visitGroup(l,o);case 4:return y.visitAnimate(l,o);case 5:return y.visitKeyframes(l,o);case 6:return y.visitStyle(l,o);case 8:return y.visitReference(l,o);case 9:return y.visitAnimateChild(l,o);case 10:return y.visitAnimateRef(l,o);case 11:return y.visitQuery(l,o);case 12:return y.visitStagger(l,o);default:throw new Error(`Unable to resolve animation metadata node #${l.type}`)}}function Nr(y,l){return window.getComputedStyle(y)[l]}function pr(y,l){const o=[];return"string"==typeof y?y.split(/\s*,\s*/).forEach(g=>function(y,l,o){if(":"==y[0]){const Se=function(y,l){switch(y){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,g)=>parseFloat(g)>parseFloat(o);case":decrement":return(o,g)=>parseFloat(g)<parseFloat(o);default:return l.push(`The transition alias value "${y}" is not supported`),"* => *"}}(y,o);if("function"==typeof Se)return void l.push(Se);y=Se}const g=y.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==g||g.length<4)return o.push(`The provided transition expression "${y}" is not supported`),l;const j=g[1],Y=g[2],le=g[3];l.push(_e(j,le));"<"==Y[0]&&!("*"==j&&"*"==le)&&l.push(_e(le,j))}(g,o,l)):o.push(y),o}const ur=new Set(["true","1"]),Ie=new Set(["false","0"]);function _e(y,l){const o=ur.has(y)||Ie.has(y),g=ur.has(l)||Ie.has(l);return(j,Y)=>{let le="*"==y||y==j,he="*"==l||l==Y;return!le&&o&&"boolean"==typeof j&&(le=j?ur.has(y):Ie.has(y)),!he&&g&&"boolean"==typeof Y&&(he=Y?ur.has(l):Ie.has(l)),le&&he}}const G=new RegExp("s*:selfs*,?","g");function re(y,l,o){return new oe(y).build(l,o)}class oe{constructor(l){this._driver=l}build(l,o){const g=new et(o);return this._resetContextStyleTimingState(g),ln(this,Jn(l),g)}_resetContextStyleTimingState(l){l.currentQuerySelector="",l.collectedStyles={},l.collectedStyles[""]={},l.currentTime=0}visitTrigger(l,o){let g=o.queryCount=0,j=o.depCount=0;const Y=[],le=[];return"@"==l.name.charAt(0)&&o.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),l.definitions.forEach(he=>{if(this._resetContextStyleTimingState(o),0==he.type){const Se=he,Le=Se.name;Le.toString().split(/\s*,\s*/).forEach(Je=>{Se.name=Je,Y.push(this.visitState(Se,o))}),Se.name=Le}else if(1==he.type){const Se=this.visitTransition(he,o);g+=Se.queryCount,j+=Se.depCount,le.push(Se)}else o.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:l.name,states:Y,transitions:le,queryCount:g,depCount:j,options:null}}visitState(l,o){const g=this.visitStyle(l.styles,o),j=l.options&&l.options.params||null;if(g.containsDynamicStyles){const Y=new Set,le=j||{};if(g.styles.forEach(he=>{if(rn(he)){const Se=he;Object.keys(Se).forEach(Le=>{Er(Se[Le]).forEach(Je=>{le.hasOwnProperty(Je)||Y.add(Je)})})}}),Y.size){const he=Lr(Y.values());o.errors.push(`state("${l.name}", ...) must define default values for all the following style substitutions: ${he.join(", ")}`)}}return{type:0,name:l.name,style:g,options:j?{params:j}:null}}visitTransition(l,o){o.queryCount=0,o.depCount=0;const g=ln(this,Jn(l.animation),o);return{type:1,matchers:pr(l.expr,o.errors),animation:g,queryCount:o.queryCount,depCount:o.depCount,options:sn(l.options)}}visitSequence(l,o){return{type:2,steps:l.steps.map(g=>ln(this,g,o)),options:sn(l.options)}}visitGroup(l,o){const g=o.currentTime;let j=0;const Y=l.steps.map(le=>{o.currentTime=g;const he=ln(this,le,o);return j=Math.max(j,o.currentTime),he});return o.currentTime=j,{type:3,steps:Y,options:sn(l.options)}}visitAnimate(l,o){const g=function(y,l){let o=null;if(y.hasOwnProperty("duration"))o=y;else if("number"==typeof y)return yn(hr(y,l).duration,0,"");const g=y;if(g.split(/\s+/).some(Y=>"{"==Y.charAt(0)&&"{"==Y.charAt(1))){const Y=yn(0,0,"");return Y.dynamic=!0,Y.strValue=g,Y}return o=o||hr(g,l),yn(o.duration,o.delay,o.easing)}(l.timings,o.errors);o.currentAnimateTimings=g;let j,Y=l.styles?l.styles:(0,B.oB)({});if(5==Y.type)j=this.visitKeyframes(Y,o);else{let le=l.styles,he=!1;if(!le){he=!0;const Le={};g.easing&&(Le.easing=g.easing),le=(0,B.oB)(Le)}o.currentTime+=g.duration+g.delay;const Se=this.visitStyle(le,o);Se.isEmptyStep=he,j=Se}return o.currentAnimateTimings=null,{type:4,timings:g,style:j,options:null}}visitStyle(l,o){const g=this._makeStyleAst(l,o);return this._validateStyleAst(g,o),g}_makeStyleAst(l,o){const g=[];Array.isArray(l.styles)?l.styles.forEach(le=>{"string"==typeof le?le==B.l3?g.push(le):o.errors.push(`The provided style string value ${le} is not allowed.`):g.push(le)}):g.push(l.styles);let j=!1,Y=null;return g.forEach(le=>{if(rn(le)){const he=le,Se=he.easing;if(Se&&(Y=Se,delete he.easing),!j)for(let Le in he)if(he[Le].toString().indexOf("{{")>=0){j=!0;break}}}),{type:6,styles:g,easing:Y,offset:l.offset,containsDynamicStyles:j,options:null}}_validateStyleAst(l,o){const g=o.currentAnimateTimings;let j=o.currentTime,Y=o.currentTime;g&&Y>0&&(Y-=g.duration+g.delay),l.styles.forEach(le=>{"string"!=typeof le&&Object.keys(le).forEach(he=>{if(!this._driver.validateStyleProperty(he))return void o.errors.push(`The provided animation property "${he}" is not a supported CSS property for animations`);const Se=o.collectedStyles[o.currentQuerySelector],Le=Se[he];let Je=!0;Le&&(Y!=j&&Y>=Le.startTime&&j<=Le.endTime&&(o.errors.push(`The CSS property "${he}" that exists between the times of "${Le.startTime}ms" and "${Le.endTime}ms" is also being animated in a parallel animation between the times of "${Y}ms" and "${j}ms"`),Je=!1),Y=Le.startTime),Je&&(Se[he]={startTime:Y,endTime:j}),o.options&&function(y,l,o){const g=l.params||{},j=Er(y);j.length&&j.forEach(Y=>{g.hasOwnProperty(Y)||o.push(`Unable to resolve the local animation param ${Y} in the given list of values`)})}(le[he],o.options,o.errors)})})}visitKeyframes(l,o){const g={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push("keyframes() must be placed inside of a call to animate()"),g;let Y=0;const le=[];let he=!1,Se=!1,Le=0;const Je=l.steps.map(on=>{const En=this._makeStyleAst(on,o);let Ln=null!=En.offset?En.offset:function(y){if("string"==typeof y)return null;let l=null;if(Array.isArray(y))y.forEach(o=>{if(rn(o)&&o.hasOwnProperty("offset")){const g=o;l=parseFloat(g.offset),delete g.offset}});else if(rn(y)&&y.hasOwnProperty("offset")){const o=y;l=parseFloat(o.offset),delete o.offset}return l}(En.styles),Bn=0;return null!=Ln&&(Y++,Bn=En.offset=Ln),Se=Se||Bn<0||Bn>1,he=he||Bn<Le,Le=Bn,le.push(Bn),En});Se&&o.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),he&&o.errors.push("Please ensure that all keyframe offsets are in order");const nt=l.steps.length;let bt=0;Y>0&&Y<nt?o.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==Y&&(bt=1/(nt-1));const Ut=nt-1,vt=o.currentTime,St=o.currentAnimateTimings,zt=St.duration;return Je.forEach((on,En)=>{const Ln=bt>0?En==Ut?1:bt*En:le[En],Bn=Ln*zt;o.currentTime=vt+St.delay+Bn,St.duration=Bn,this._validateStyleAst(on,o),on.offset=Ln,g.styles.push(on)}),g}visitReference(l,o){return{type:8,animation:ln(this,Jn(l.animation),o),options:sn(l.options)}}visitAnimateChild(l,o){return o.depCount++,{type:9,options:sn(l.options)}}visitAnimateRef(l,o){return{type:10,animation:this.visitReference(l.animation,o),options:sn(l.options)}}visitQuery(l,o){const g=o.currentQuerySelector,j=l.options||{};o.queryCount++,o.currentQuery=l;const[Y,le]=function(y){const l=!!y.split(/\s*,\s*/).find(o=>":self"==o);return l&&(y=y.replace(G,"")),y=y.replace(/@\*/g,ze).replace(/@\w+/g,o=>ze+"-"+o.substr(1)).replace(/:animating/g,ht),[y,l]}(l.selector);o.currentQuerySelector=g.length?g+" "+Y:Y,We(o.collectedStyles,o.currentQuerySelector,{});const he=ln(this,Jn(l.animation),o);return o.currentQuery=null,o.currentQuerySelector=g,{type:11,selector:Y,limit:j.limit||0,optional:!!j.optional,includeSelf:le,animation:he,originalSelector:l.selector,options:sn(l.options)}}visitStagger(l,o){o.currentQuery||o.errors.push("stagger() can only be used inside of query()");const g="full"===l.timings?{duration:0,delay:0,easing:"full"}:hr(l.timings,o.errors,!0);return{type:12,animation:ln(this,Jn(l.animation),o),timings:g,options:null}}}class et{constructor(l){this.errors=l,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function rn(y){return!Array.isArray(y)&&"object"==typeof y}function sn(y){return y?(y=Cn(y)).params&&(y.params=function(y){return y?Cn(y):null}(y.params)):y={},y}function yn(y,l,o){return{duration:y,delay:l,easing:o}}function Pn(y,l,o,g,j,Y,le=null,he=!1){return{type:1,element:y,keyframes:l,preStyleProps:o,postStyleProps:g,duration:j,delay:Y,totalTime:j+Y,easing:le,subTimeline:he}}class Fn{constructor(){this._map=new Map}get(l){return this._map.get(l)||[]}append(l,o){let g=this._map.get(l);g||this._map.set(l,g=[]),g.push(...o)}has(l){return this._map.has(l)}clear(){this._map.clear()}}const Wn=new RegExp(":enter","g"),vs=new RegExp(":leave","g");function ns(y,l,o,g,j,Y={},le={},he,Se,Le=[]){return(new ys).buildKeyframes(y,l,o,g,j,Y,le,he,Se,Le)}class ys{buildKeyframes(l,o,g,j,Y,le,he,Se,Le,Je=[]){Le=Le||new Fn;const nt=new rs(l,o,Le,j,Y,Je,[]);nt.options=Se,nt.currentTimeline.setStyles([le],null,nt.errors,Se),ln(this,g,nt);const bt=nt.timelines.filter(Ut=>Ut.containsAnimation());if(bt.length&&Object.keys(he).length){const Ut=bt[bt.length-1];Ut.allowOnlyTimelineStyles()||Ut.setStyles([he],null,nt.errors,Se)}return bt.length?bt.map(Ut=>Ut.buildKeyframes()):[Pn(o,[],[],[],0,0,"",!1)]}visitTrigger(l,o){}visitState(l,o){}visitTransition(l,o){}visitAnimateChild(l,o){const g=o.subInstructions.get(o.element);if(g){const j=o.createSubContext(l.options),Y=o.currentTimeline.currentTime,le=this._visitSubInstructions(g,j,j.options);Y!=le&&o.transformIntoNewTimeline(le)}o.previousNode=l}visitAnimateRef(l,o){const g=o.createSubContext(l.options);g.transformIntoNewTimeline(),this.visitReference(l.animation,g),o.transformIntoNewTimeline(g.currentTimeline.currentTime),o.previousNode=l}_visitSubInstructions(l,o,g){let Y=o.currentTimeline.currentTime;const le=null!=g.duration?xt(g.duration):null,he=null!=g.delay?xt(g.delay):null;return 0!==le&&l.forEach(Se=>{const Le=o.appendInstructionToTimeline(Se,le,he);Y=Math.max(Y,Le.duration+Le.delay)}),Y}visitReference(l,o){o.updateOptions(l.options,!0),ln(this,l.animation,o),o.previousNode=l}visitSequence(l,o){const g=o.subContextCount;let j=o;const Y=l.options;if(Y&&(Y.params||Y.delay)&&(j=o.createSubContext(Y),j.transformIntoNewTimeline(),null!=Y.delay)){6==j.previousNode.type&&(j.currentTimeline.snapshotCurrentStyles(),j.previousNode=ei);const le=xt(Y.delay);j.delayNextStep(le)}l.steps.length&&(l.steps.forEach(le=>ln(this,le,j)),j.currentTimeline.applyStylesToKeyframe(),j.subContextCount>g&&j.transformIntoNewTimeline()),o.previousNode=l}visitGroup(l,o){const g=[];let j=o.currentTimeline.currentTime;const Y=l.options&&l.options.delay?xt(l.options.delay):0;l.steps.forEach(le=>{const he=o.createSubContext(l.options);Y&&he.delayNextStep(Y),ln(this,le,he),j=Math.max(j,he.currentTimeline.currentTime),g.push(he.currentTimeline)}),g.forEach(le=>o.currentTimeline.mergeTimelineCollectedStyles(le)),o.transformIntoNewTimeline(j),o.previousNode=l}_visitTiming(l,o){if(l.dynamic){const g=l.strValue;return hr(o.params?Xn(g,o.params,o.errors):g,o.errors)}return{duration:l.duration,delay:l.delay,easing:l.easing}}visitAnimate(l,o){const g=o.currentAnimateTimings=this._visitTiming(l.timings,o),j=o.currentTimeline;g.delay&&(o.incrementTime(g.delay),j.snapshotCurrentStyles());const Y=l.style;5==Y.type?this.visitKeyframes(Y,o):(o.incrementTime(g.duration),this.visitStyle(Y,o),j.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=l}visitStyle(l,o){const g=o.currentTimeline,j=o.currentAnimateTimings;!j&&g.getCurrentStyleProperties().length&&g.forwardFrame();const Y=j&&j.easing||l.easing;l.isEmptyStep?g.applyEmptyStep(Y):g.setStyles(l.styles,Y,o.errors,o.options),o.previousNode=l}visitKeyframes(l,o){const g=o.currentAnimateTimings,j=o.currentTimeline.duration,Y=g.duration,he=o.createSubContext().currentTimeline;he.easing=g.easing,l.styles.forEach(Se=>{he.forwardTime((Se.offset||0)*Y),he.setStyles(Se.styles,Se.easing,o.errors,o.options),he.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(he),o.transformIntoNewTimeline(j+Y),o.previousNode=l}visitQuery(l,o){const g=o.currentTimeline.currentTime,j=l.options||{},Y=j.delay?xt(j.delay):0;Y&&(6===o.previousNode.type||0==g&&o.currentTimeline.getCurrentStyleProperties().length)&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=ei);let le=g;const he=o.invokeQuery(l.selector,l.originalSelector,l.limit,l.includeSelf,!!j.optional,o.errors);o.currentQueryTotal=he.length;let Se=null;he.forEach((Le,Je)=>{o.currentQueryIndex=Je;const nt=o.createSubContext(l.options,Le);Y&&nt.delayNextStep(Y),Le===o.element&&(Se=nt.currentTimeline),ln(this,l.animation,nt),nt.currentTimeline.applyStylesToKeyframe(),le=Math.max(le,nt.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(le),Se&&(o.currentTimeline.mergeTimelineCollectedStyles(Se),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=l}visitStagger(l,o){const g=o.parentContext,j=o.currentTimeline,Y=l.timings,le=Math.abs(Y.duration),he=le*(o.currentQueryTotal-1);let Se=le*o.currentQueryIndex;switch(Y.duration<0?"reverse":Y.easing){case"reverse":Se=he-Se;break;case"full":Se=g.currentStaggerTime}const Je=o.currentTimeline;Se&&Je.delayNextStep(Se);const nt=Je.currentTime;ln(this,l.animation,o),o.previousNode=l,g.currentStaggerTime=j.currentTime-nt+(j.startTime-g.currentTimeline.startTime)}}const ei={};class rs{constructor(l,o,g,j,Y,le,he,Se){this._driver=l,this.element=o,this.subInstructions=g,this._enterClassName=j,this._leaveClassName=Y,this.errors=le,this.timelines=he,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ei,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Se||new gi(this._driver,o,0),he.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(l,o){if(!l)return;const g=l;let j=this.options;null!=g.duration&&(j.duration=xt(g.duration)),null!=g.delay&&(j.delay=xt(g.delay));const Y=g.params;if(Y){let le=j.params;le||(le=this.options.params={}),Object.keys(Y).forEach(he=>{(!o||!le.hasOwnProperty(he))&&(le[he]=Xn(Y[he],le,this.errors))})}}_copyOptions(){const l={};if(this.options){const o=this.options.params;if(o){const g=l.params={};Object.keys(o).forEach(j=>{g[j]=o[j]})}}return l}createSubContext(l=null,o,g){const j=o||this.element,Y=new rs(this._driver,j,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(j,g||0));return Y.previousNode=this.previousNode,Y.currentAnimateTimings=this.currentAnimateTimings,Y.options=this._copyOptions(),Y.updateOptions(l),Y.currentQueryIndex=this.currentQueryIndex,Y.currentQueryTotal=this.currentQueryTotal,Y.parentContext=this,this.subContextCount++,Y}transformIntoNewTimeline(l){return this.previousNode=ei,this.currentTimeline=this.currentTimeline.fork(this.element,l),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(l,o,g){const j={duration:o??l.duration,delay:this.currentTimeline.currentTime+(g??0)+l.delay,easing:""},Y=new Xs(this._driver,l.element,l.keyframes,l.preStyleProps,l.postStyleProps,j,l.stretchStartingKeyframe);return this.timelines.push(Y),j}incrementTime(l){this.currentTimeline.forwardTime(this.currentTimeline.duration+l)}delayNextStep(l){l>0&&this.currentTimeline.delayNextStep(l)}invokeQuery(l,o,g,j,Y,le){let he=[];if(j&&he.push(this.element),l.length>0){l=(l=l.replace(Wn,"."+this._enterClassName)).replace(vs,"."+this._leaveClassName);let Le=this._driver.query(this.element,l,1!=g);0!==g&&(Le=g<0?Le.slice(Le.length+g,Le.length):Le.slice(0,g)),he.push(...Le)}return!Y&&0==he.length&&le.push(`\`query("${o}")\` returned zero elements. (Use \`query("${o}", { optional: true })\` if you wish to allow this.)`),he}}class gi{constructor(l,o,g,j){this._driver=l,this.element=o,this.startTime=g,this._elementTimelineStylesLookup=j,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(l){const o=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||o?(this.forwardTime(this.currentTime+l),o&&this.snapshotCurrentStyles()):this.startTime+=l}fork(l,o){return this.applyStylesToKeyframe(),new gi(this._driver,l,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(l){this.applyStylesToKeyframe(),this.duration=l,this._loadKeyframe()}_updateStyle(l,o){this._localTimelineStyles[l]=o,this._globalTimelineStyles[l]=o,this._styleSummary[l]={time:this.currentTime,value:o}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(l){l&&(this._previousKeyframe.easing=l),Object.keys(this._globalTimelineStyles).forEach(o=>{this._backFill[o]=this._globalTimelineStyles[o]||B.l3,this._currentKeyframe[o]=B.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(l,o,g,j){o&&(this._previousKeyframe.easing=o);const Y=j&&j.params||{},le=function(y,l){const o={};let g;return y.forEach(j=>{"*"===j?(g=g||Object.keys(l),g.forEach(Y=>{o[Y]=B.l3})):$n(j,!1,o)}),o}(l,this._globalTimelineStyles);Object.keys(le).forEach(he=>{const Se=Xn(le[he],Y,g);this._pendingStyles[he]=Se,this._localTimelineStyles.hasOwnProperty(he)||(this._backFill[he]=this._globalTimelineStyles.hasOwnProperty(he)?this._globalTimelineStyles[he]:B.l3),this._updateStyle(he,Se)})}applyStylesToKeyframe(){const l=this._pendingStyles,o=Object.keys(l);0!=o.length&&(this._pendingStyles={},o.forEach(g=>{this._currentKeyframe[g]=l[g]}),Object.keys(this._localTimelineStyles).forEach(g=>{this._currentKeyframe.hasOwnProperty(g)||(this._currentKeyframe[g]=this._localTimelineStyles[g])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(l=>{const o=this._localTimelineStyles[l];this._pendingStyles[l]=o,this._updateStyle(l,o)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const l=[];for(let o in this._currentKeyframe)l.push(o);return l}mergeTimelineCollectedStyles(l){Object.keys(l._styleSummary).forEach(o=>{const g=this._styleSummary[o],j=l._styleSummary[o];(!g||j.time>g.time)&&this._updateStyle(o,j.value)})}buildKeyframes(){this.applyStylesToKeyframe();const l=new Set,o=new Set,g=1===this._keyframes.size&&0===this.duration;let j=[];this._keyframes.forEach((he,Se)=>{const Le=$n(he,!0);Object.keys(Le).forEach(Je=>{const nt=Le[Je];nt==B.k1?l.add(Je):nt==B.l3&&o.add(Je)}),g||(Le.offset=Se/this.duration),j.push(Le)});const Y=l.size?Lr(l.values()):[],le=o.size?Lr(o.values()):[];if(g){const he=j[0],Se=Cn(he);he.offset=0,Se.offset=1,j=[he,Se]}return Pn(this.element,j,Y,le,this.duration,this.startTime,this.easing,!1)}}class Xs extends gi{constructor(l,o,g,j,Y,le,he=!1){super(l,o,le.delay),this.keyframes=g,this.preStyleProps=j,this.postStyleProps=Y,this._stretchStartingKeyframe=he,this.timings={duration:le.duration,delay:le.delay,easing:le.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let l=this.keyframes,{delay:o,duration:g,easing:j}=this.timings;if(this._stretchStartingKeyframe&&o){const Y=[],le=g+o,he=o/le,Se=$n(l[0],!1);Se.offset=0,Y.push(Se);const Le=$n(l[0],!1);Le.offset=xi(he),Y.push(Le);const Je=l.length-1;for(let nt=1;nt<=Je;nt++){let bt=$n(l[nt],!1);bt.offset=xi((o+bt.offset*g)/le),Y.push(bt)}g=le,o=0,j="",l=Y}return Pn(this.element,l,this.preStyleProps,this.postStyleProps,g,o,j,!0)}}function xi(y,l=3){const o=Math.pow(10,l-1);return Math.round(y*o)/o}class Fi{}class wr extends Fi{normalizePropertyName(l,o){return Cr(l)}normalizeStyleValue(l,o,g,j){let Y="";const le=g.toString().trim();if(jr[o]&&0!==g&&"0"!==g)if("number"==typeof g)Y="px";else{const he=g.match(/^[+-]?[\d\.]+([a-z]*)$/);he&&0==he[1].length&&j.push(`Please provide a CSS unit value for ${l}:${g}`)}return le+Y}}const jr=(()=>function(y){const l={};return y.forEach(o=>l[o]=!0),l}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ki(y,l,o,g,j,Y,le,he,Se,Le,Je,nt,bt){return{type:0,element:y,triggerName:l,isRemovalTransition:j,fromState:o,fromStyles:Y,toState:g,toStyles:le,timelines:he,queriedElements:Se,preStyleProps:Le,postStyleProps:Je,totalTime:nt,errors:bt}}const ni={};class Li{constructor(l,o,g){this._triggerName=l,this.ast=o,this._stateStyles=g}match(l,o,g,j){return function(y,l,o,g,j){return y.some(Y=>Y(l,o,g,j))}(this.ast.matchers,l,o,g,j)}buildStyles(l,o,g){const j=this._stateStyles["*"],Y=this._stateStyles[l],le=j?j.buildStyles(o,g):{};return Y?Y.buildStyles(o,g):le}build(l,o,g,j,Y,le,he,Se,Le,Je){const nt=[],bt=this.ast.options&&this.ast.options.params||ni,vt=this.buildStyles(g,he&&he.params||ni,nt),St=Se&&Se.params||ni,zt=this.buildStyles(j,St,nt),on=new Set,En=new Map,Ln=new Map,Bn="void"===j,ms={params:{...bt,...St}},Gr=Je?[]:ns(l,o,this.ast.animation,Y,le,vt,zt,ms,Le,nt);let Zn=0;if(Gr.forEach(fi=>{Zn=Math.max(fi.duration+fi.delay,Zn)}),nt.length)return ki(o,this._triggerName,g,j,Bn,vt,zt,[],[],En,Ln,Zn,nt);Gr.forEach(fi=>{const hi=fi.element,gu=We(En,hi,{});fi.preStyleProps.forEach(Mi=>gu[Mi]=!0);const Ks=We(Ln,hi,{});fi.postStyleProps.forEach(Mi=>Ks[Mi]=!0),hi!==o&&on.add(hi)});const Qr=Lr(on.values());return ki(o,this._triggerName,g,j,Bn,vt,zt,Gr,Qr,En,Ln,Zn)}}class Ss{constructor(l,o,g){this.styles=l,this.defaultParams=o,this.normalizer=g}buildStyles(l,o){const g={},j=Cn(this.defaultParams);return Object.keys(l).forEach(Y=>{const le=l[Y];null!=le&&(j[Y]=le)}),this.styles.styles.forEach(Y=>{if("string"!=typeof Y){const le=Y;Object.keys(le).forEach(he=>{let Se=le[he];Se.length>1&&(Se=Xn(Se,j,o));const Le=this.normalizer.normalizePropertyName(he,o);Se=this.normalizer.normalizeStyleValue(he,Le,Se,o),g[Le]=Se})}}),g}}class Bi{constructor(l,o,g){this.name=l,this.ast=o,this._normalizer=g,this.transitionFactories=[],this.states={},o.states.forEach(j=>{this.states[j.name]=new Ss(j.style,j.options&&j.options.params||{},g)}),vi(this.states,"true","1"),vi(this.states,"false","0"),o.transitions.forEach(j=>{this.transitionFactories.push(new Li(l,j,this.states))}),this.fallbackTransition=function(y,l,o){return new Li(y,{type:1,animation:{type:2,steps:[],options:null},matchers:[(le,he)=>!0],options:null,queryCount:0,depCount:0},l)}(l,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(l,o,g,j){return this.transitionFactories.find(le=>le.match(l,o,g,j))||null}matchStyles(l,o,g){return this.fallbackTransition.buildStyles(l,o,g)}}function vi(y,l,o){y.hasOwnProperty(l)?y.hasOwnProperty(o)||(y[o]=y[l]):y.hasOwnProperty(o)&&(y[l]=y[o])}const ws=new Fn;class yi{constructor(l,o,g){this.bodyNode=l,this._driver=o,this._normalizer=g,this._animations={},this._playersById={},this.players=[]}register(l,o){const g=[],j=re(this._driver,o,g);if(g.length)throw new Error(`Unable to build the animation due to the following errors: ${g.join("\n")}`);this._animations[l]=j}_buildPlayer(l,o,g){const j=l.element,Y=X(0,this._normalizer,0,l.keyframes,o,g);return this._driver.animate(j,Y,l.duration,l.delay,l.easing,[],!0)}create(l,o,g={}){const j=[],Y=this._animations[l];let le;const he=new Map;if(Y?(le=ns(this._driver,o,Y,Mn,qt,{},{},g,ws,j),le.forEach(Je=>{const nt=We(he,Je.element,{});Je.postStyleProps.forEach(bt=>nt[bt]=null)})):(j.push("The requested animation doesn't exist or has already been destroyed"),le=[]),j.length)throw new Error(`Unable to create the animation due to the following errors: ${j.join("\n")}`);he.forEach((Je,nt)=>{Object.keys(Je).forEach(bt=>{Je[bt]=this._driver.computeStyle(nt,bt,B.l3)})});const Le=te(le.map(Je=>{const nt=he.get(Je.element);return this._buildPlayer(Je,{},nt)}));return this._playersById[l]=Le,Le.onDestroy(()=>this.destroy(l)),this.players.push(Le),Le}destroy(l){const o=this._getPlayer(l);o.destroy(),delete this._playersById[l];const g=this.players.indexOf(o);g>=0&&this.players.splice(g,1)}_getPlayer(l){const o=this._playersById[l];if(!o)throw new Error(`Unable to find the timeline player referenced by ${l}`);return o}listen(l,o,g,j){const Y=Oe(o,"","","");return se(this._getPlayer(l),g,Y,j),()=>{}}command(l,o,g,j){if("register"==g)return void this.register(l,j[0]);if("create"==g)return void this.create(l,o,j[0]||{});const Y=this._getPlayer(l);switch(g){case"play":Y.play();break;case"pause":Y.pause();break;case"reset":Y.reset();break;case"restart":Y.restart();break;case"finish":Y.finish();break;case"init":Y.init();break;case"setPosition":Y.setPosition(parseFloat(j[0]));break;case"destroy":this.destroy(l)}}}const is="ng-animate-queued",_i="ng-animate-disabled",Ni=[],As={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Os={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jn="__ng_removed";class ss{constructor(l,o=""){this.namespaceId=o;const g=l&&l.hasOwnProperty("value");if(this.value=(g?l.value:l)??null,g){const Y=Cn(l);delete Y.value,this.options=Y}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(l){const o=l.params;if(o){const g=this.options.params;Object.keys(o).forEach(j=>{null==g[j]&&(g[j]=o[j])})}}}const bi="void",Ei=new ss(bi);class os{constructor(l,o,g){this.id=l,this.hostElement=o,this._engine=g,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+l,kn(o,this._hostClassName)}listen(l,o,g,j){if(!this._triggers.hasOwnProperty(o))throw new Error(`Unable to listen on the animation trigger event "${g}" because the animation trigger "${o}" doesn't exist!`);if(null==g||0==g.length)throw new Error(`Unable to listen on the animation trigger "${o}" because the provided event is undefined!`);if("start"!=(y=g)&&"done"!=y)throw new Error(`The provided animation trigger event "${g}" for the animation trigger "${o}" is not supported!`);var y;const Y=We(this._elementListeners,l,[]),le={name:o,phase:g,callback:j};Y.push(le);const he=We(this._engine.statesByElement,l,{});return he.hasOwnProperty(o)||(kn(l,Nn),kn(l,Nn+"-"+o),he[o]=Ei),()=>{this._engine.afterFlush(()=>{const Se=Y.indexOf(le);Se>=0&&Y.splice(Se,1),this._triggers[o]||delete he[o]})}}register(l,o){return!this._triggers[l]&&(this._triggers[l]=o,!0)}_getTrigger(l){const o=this._triggers[l];if(!o)throw new Error(`The provided animation trigger "${l}" has not been registered!`);return o}trigger(l,o,g,j=!0){const Y=this._getTrigger(o),le=new Si(this.id,o,l);let he=this._engine.statesByElement.get(l);he||(kn(l,Nn),kn(l,Nn+"-"+o),this._engine.statesByElement.set(l,he={}));let Se=he[o];const Le=new ss(g,this.id);if(!(g&&g.hasOwnProperty("value"))&&Se&&Le.absorbOptions(Se.options),he[o]=Le,Se||(Se=Ei),Le.value!==bi&&Se.value===Le.value){if(!function(y,l){const o=Object.keys(y),g=Object.keys(l);if(o.length!=g.length)return!1;for(let j=0;j<o.length;j++){const Y=o[j];if(!l.hasOwnProperty(Y)||y[Y]!==l[Y])return!1}return!0}(Se.params,Le.params)){const St=[],zt=Y.matchStyles(Se.value,Se.params,St),on=Y.matchStyles(Le.value,Le.params,St);St.length?this._engine.reportError(St):this._engine.afterFlush(()=>{Rn(l,zt),On(l,on)})}return}const bt=We(this._engine.playersByElement,l,[]);bt.forEach(St=>{St.namespaceId==this.id&&St.triggerName==o&&St.queued&&St.destroy()});let Ut=Y.matchTransition(Se.value,Le.value,l,Le.params),vt=!1;if(!Ut){if(!j)return;Ut=Y.fallbackTransition,vt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:o,transition:Ut,fromState:Se,toState:Le,player:le,isFallbackTransition:vt}),vt||(kn(l,is),le.onStart(()=>{Dr(l,is)})),le.onDone(()=>{let St=this.players.indexOf(le);St>=0&&this.players.splice(St,1);const zt=this._engine.playersByElement.get(l);if(zt){let on=zt.indexOf(le);on>=0&&zt.splice(on,1)}}),this.players.push(le),bt.push(le),le}deregister(l){delete this._triggers[l],this._engine.statesByElement.forEach((o,g)=>{delete o[l]}),this._elementListeners.forEach((o,g)=>{this._elementListeners.set(g,o.filter(j=>j.name!=l))})}clearElementCache(l){this._engine.statesByElement.delete(l),this._elementListeners.delete(l);const o=this._engine.playersByElement.get(l);o&&(o.forEach(g=>g.destroy()),this._engine.playersByElement.delete(l))}_signalRemovalForInnerTriggers(l,o){const g=this._engine.driver.query(l,ze,!0);g.forEach(j=>{if(j[jn])return;const Y=this._engine.fetchNamespacesByElement(j);Y.size?Y.forEach(le=>le.triggerLeaveAnimation(j,o,!1,!0)):this.clearElementCache(j)}),this._engine.afterFlushAnimationsDone(()=>g.forEach(j=>this.clearElementCache(j)))}triggerLeaveAnimation(l,o,g,j){const Y=this._engine.statesByElement.get(l);if(Y){const le=[];if(Object.keys(Y).forEach(he=>{if(this._triggers[he]){const Se=this.trigger(l,he,bi,j);Se&&le.push(Se)}}),le.length)return this._engine.markElementAsRemoved(this.id,l,!0,o),g&&te(le).onDone(()=>this._engine.processLeaveNode(l)),!0}return!1}prepareLeaveAnimationListeners(l){const o=this._elementListeners.get(l),g=this._engine.statesByElement.get(l);if(o&&g){const j=new Set;o.forEach(Y=>{const le=Y.name;if(j.has(le))return;j.add(le);const Se=this._triggers[le].fallbackTransition,Le=g[le]||Ei,Je=new ss(bi),nt=new Si(this.id,le,l);this._engine.totalQueuedPlayers++,this._queue.push({element:l,triggerName:le,transition:Se,fromState:Le,toState:Je,player:nt,isFallbackTransition:!0})})}}removeNode(l,o){const g=this._engine;if(l.childElementCount&&this._signalRemovalForInnerTriggers(l,o),this.triggerLeaveAnimation(l,o,!0))return;let j=!1;if(g.totalAnimations){const Y=g.players.length?g.playersByQueriedElement.get(l):[];if(Y&&Y.length)j=!0;else{let le=l;for(;le=le.parentNode;)if(g.statesByElement.get(le)){j=!0;break}}}if(this.prepareLeaveAnimationListeners(l),j)g.markElementAsRemoved(this.id,l,!1,o);else{const Y=l[jn];(!Y||Y===As)&&(g.afterFlush(()=>this.clearElementCache(l)),g.destroyInnerAnimations(l),g._onRemovalComplete(l,o))}}insertNode(l,o){kn(l,this._hostClassName)}drainQueuedTransitions(l){const o=[];return this._queue.forEach(g=>{const j=g.player;if(j.destroyed)return;const Y=g.element,le=this._elementListeners.get(Y);le&&le.forEach(he=>{if(he.name==g.triggerName){const Se=Oe(Y,g.triggerName,g.fromState.value,g.toState.value);Se._data=l,se(g.player,he.phase,Se,he.callback)}}),j.markedForDestroy?this._engine.afterFlush(()=>{j.destroy()}):o.push(g)}),this._queue=[],o.sort((g,j)=>{const Y=g.transition.ast.depCount,le=j.transition.ast.depCount;return 0==Y||0==le?Y-le:this._engine.driver.containsElement(g.element,j.element)?1:-1})}destroy(l){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,l)}elementContainsData(l){let o=!1;return this._elementListeners.has(l)&&(o=!0),o=!!this._queue.find(g=>g.element===l)||o,o}}class Ps{constructor(l,o,g){this.bodyNode=l,this.driver=o,this._normalizer=g,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(j,Y)=>{}}_onRemovalComplete(l,o){this.onRemovalComplete(l,o)}get queuedPlayers(){const l=[];return this._namespaceList.forEach(o=>{o.players.forEach(g=>{g.queued&&l.push(g)})}),l}createNamespace(l,o){const g=new os(l,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(g,o):(this.newHostElements.set(o,g),this.collectEnterElement(o)),this._namespaceLookup[l]=g}_balanceNamespaceList(l,o){const g=this._namespaceList.length-1;if(g>=0){let j=!1;for(let Y=g;Y>=0;Y--)if(this.driver.containsElement(this._namespaceList[Y].hostElement,o)){this._namespaceList.splice(Y+1,0,l),j=!0;break}j||this._namespaceList.splice(0,0,l)}else this._namespaceList.push(l);return this.namespacesByHostElement.set(o,l),l}register(l,o){let g=this._namespaceLookup[l];return g||(g=this.createNamespace(l,o)),g}registerTrigger(l,o,g){let j=this._namespaceLookup[l];j&&j.register(o,g)&&this.totalAnimations++}destroy(l,o){if(!l)return;const g=this._fetchNamespace(l);this.afterFlush(()=>{this.namespacesByHostElement.delete(g.hostElement),delete this._namespaceLookup[l];const j=this._namespaceList.indexOf(g);j>=0&&this._namespaceList.splice(j,1)}),this.afterFlushAnimationsDone(()=>g.destroy(o))}_fetchNamespace(l){return this._namespaceLookup[l]}fetchNamespacesByElement(l){const o=new Set,g=this.statesByElement.get(l);if(g){const j=Object.keys(g);for(let Y=0;Y<j.length;Y++){const le=g[j[Y]].namespaceId;if(le){const he=this._fetchNamespace(le);he&&o.add(he)}}}return o}trigger(l,o,g,j){if(ri(o)){const Y=this._fetchNamespace(l);if(Y)return Y.trigger(o,g,j),!0}return!1}insertNode(l,o,g,j){if(!ri(o))return;const Y=o[jn];if(Y&&Y.setForRemoval){Y.setForRemoval=!1,Y.setForMove=!0;const le=this.collectedLeaveElements.indexOf(o);le>=0&&this.collectedLeaveElements.splice(le,1)}if(l){const le=this._fetchNamespace(l);le&&le.insertNode(o,g)}j&&this.collectEnterElement(o)}collectEnterElement(l){this.collectedEnterElements.push(l)}markElementAsDisabled(l,o){o?this.disabledNodes.has(l)||(this.disabledNodes.add(l),kn(l,_i)):this.disabledNodes.has(l)&&(this.disabledNodes.delete(l),Dr(l,_i))}removeNode(l,o,g,j){if(ri(o)){const Y=l?this._fetchNamespace(l):null;if(Y?Y.removeNode(o,j):this.markElementAsRemoved(l,o,!1,j),g){const le=this.namespacesByHostElement.get(o);le&&le.id!==l&&le.removeNode(o,j)}}else this._onRemovalComplete(o,j)}markElementAsRemoved(l,o,g,j){this.collectedLeaveElements.push(o),o[jn]={namespaceId:l,setForRemoval:j,hasAnimation:g,removedBeforeQueried:!1}}listen(l,o,g,j,Y){return ri(o)?this._fetchNamespace(l).listen(o,g,j,Y):()=>{}}_buildInstruction(l,o,g,j,Y){return l.transition.build(this.driver,l.element,l.fromState.value,l.toState.value,g,j,l.fromState.options,l.toState.options,o,Y)}destroyInnerAnimations(l){let o=this.driver.query(l,ze,!0);o.forEach(g=>this.destroyActiveAnimationsForElement(g)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(l,ht,!0),o.forEach(g=>this.finishActiveQueriedAnimationOnElement(g)))}destroyActiveAnimationsForElement(l){const o=this.playersByElement.get(l);o&&o.forEach(g=>{g.queued?g.markedForDestroy=!0:g.destroy()})}finishActiveQueriedAnimationOnElement(l){const o=this.playersByQueriedElement.get(l);o&&o.forEach(g=>g.finish())}whenRenderingDone(){return new Promise(l=>{if(this.players.length)return te(this.players).onDone(()=>l());l()})}processLeaveNode(l){const o=l[jn];if(o&&o.setForRemoval){if(l[jn]=As,o.namespaceId){this.destroyInnerAnimations(l);const g=this._fetchNamespace(o.namespaceId);g&&g.clearElementCache(l)}this._onRemovalComplete(l,o.setForRemoval)}l.classList?.contains(_i)&&this.markElementAsDisabled(l,!1),this.driver.query(l,".ng-animate-disabled",!0).forEach(g=>{this.markElementAsDisabled(g,!1)})}flush(l=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((g,j)=>this._balanceNamespaceList(g,j)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let g=0;g<this.collectedEnterElements.length;g++)kn(this.collectedEnterElements[g],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const g=[];try{o=this._flushAnimations(g,l)}finally{for(let j=0;j<g.length;j++)g[j]()}}else for(let g=0;g<this.collectedLeaveElements.length;g++)this.processLeaveNode(this.collectedLeaveElements[g]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(g=>g()),this._flushFns=[],this._whenQuietFns.length){const g=this._whenQuietFns;this._whenQuietFns=[],o.length?te(o).onDone(()=>{g.forEach(j=>j())}):g.forEach(j=>j())}}reportError(l){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${l.join("\n")}`)}_flushAnimations(l,o){const g=new Fn,j=[],Y=new Map,le=[],he=new Map,Se=new Map,Le=new Map,Je=new Set;this.disabledNodes.forEach(lt=>{Je.add(lt);const yt=this.driver.query(lt,".ng-animate-queued",!0);for(let Ct=0;Ct<yt.length;Ct++)Je.add(yt[Ct])});const nt=this.bodyNode,bt=Array.from(this.statesByElement.keys()),Ut=Ui(bt,this.collectedEnterElements),vt=new Map;let St=0;Ut.forEach((lt,yt)=>{const Ct=Mn+St++;vt.set(yt,Ct),lt.forEach(Wt=>kn(Wt,Ct))});const zt=[],on=new Set,En=new Set;for(let lt=0;lt<this.collectedLeaveElements.length;lt++){const yt=this.collectedLeaveElements[lt],Ct=yt[jn];Ct&&Ct.setForRemoval&&(zt.push(yt),on.add(yt),Ct.hasAnimation?this.driver.query(yt,".ng-star-inserted",!0).forEach(Wt=>on.add(Wt)):En.add(yt))}const Ln=new Map,Bn=Ui(bt,Array.from(on));Bn.forEach((lt,yt)=>{const Ct=qt+St++;Ln.set(yt,Ct),lt.forEach(Wt=>kn(Wt,Ct))}),l.push(()=>{Ut.forEach((lt,yt)=>{const Ct=vt.get(yt);lt.forEach(Wt=>Dr(Wt,Ct))}),Bn.forEach((lt,yt)=>{const Ct=Ln.get(yt);lt.forEach(Wt=>Dr(Wt,Ct))}),zt.forEach(lt=>{this.processLeaveNode(lt)})});const ms=[],Gr=[];for(let lt=this._namespaceList.length-1;lt>=0;lt--)this._namespaceList[lt].drainQueuedTransitions(o).forEach(Ct=>{const Wt=Ct.player,Tn=Ct.element;if(ms.push(Wt),this.collectedEnterElements.length){const _r=Tn[jn];if(_r&&_r.setForMove)return void Wt.destroy()}const yr=!nt||!this.driver.containsElement(nt,Tn),ir=Ln.get(Tn),Zr=vt.get(Tn),dn=this._buildInstruction(Ct,g,Zr,ir,yr);if(dn.errors&&dn.errors.length)return void Gr.push(dn);if(yr)return Wt.onStart(()=>Rn(Tn,dn.fromStyles)),Wt.onDestroy(()=>On(Tn,dn.toStyles)),void j.push(Wt);if(Ct.isFallbackTransition)return Wt.onStart(()=>Rn(Tn,dn.fromStyles)),Wt.onDestroy(()=>On(Tn,dn.toStyles)),void j.push(Wt);const rl=[];dn.timelines.forEach(_r=>{_r.stretchStartingKeyframe=!0,this.disabledNodes.has(_r.element)||rl.push(_r)}),dn.timelines=rl,g.append(Tn,dn.timelines),le.push({instruction:dn,player:Wt,element:Tn}),dn.queriedElements.forEach(_r=>We(he,_r,[]).push(Wt)),dn.preStyleProps.forEach((_r,Gs)=>{const Lo=Object.keys(_r);if(Lo.length){let Xi=Se.get(Gs);Xi||Se.set(Gs,Xi=new Set),Lo.forEach(Bo=>Xi.add(Bo))}}),dn.postStyleProps.forEach((_r,Gs)=>{const Lo=Object.keys(_r);let Xi=Le.get(Gs);Xi||Le.set(Gs,Xi=new Set),Lo.forEach(Bo=>Xi.add(Bo))})});if(Gr.length){const lt=[];Gr.forEach(yt=>{lt.push(`@${yt.triggerName} has failed due to:\n`),yt.errors.forEach(Ct=>lt.push(`- ${Ct}\n`))}),ms.forEach(yt=>yt.destroy()),this.reportError(lt)}const Zn=new Map,Qr=new Map;le.forEach(lt=>{const yt=lt.element;g.has(yt)&&(Qr.set(yt,yt),this._beforeAnimationBuild(lt.player.namespaceId,lt.instruction,Zn))}),j.forEach(lt=>{const yt=lt.element;this._getPreviousPlayers(yt,!1,lt.namespaceId,lt.triggerName,null).forEach(Wt=>{We(Zn,yt,[]).push(Wt),Wt.destroy()})});const fi=zt.filter(lt=>Ar(lt,Se,Le)),hi=new Map;Ts(hi,this.driver,En,Le,B.l3).forEach(lt=>{Ar(lt,Se,Le)&&fi.push(lt)});const Ks=new Map;Ut.forEach((lt,yt)=>{Ts(Ks,this.driver,new Set(lt),Se,B.k1)}),fi.forEach(lt=>{const yt=hi.get(lt),Ct=Ks.get(lt);hi.set(lt,{...yt,...Ct})});const Mi=[],ko=[],vu={};le.forEach(lt=>{const{element:yt,player:Ct,instruction:Wt}=lt;if(g.has(yt)){if(Je.has(yt))return Ct.onDestroy(()=>On(yt,Wt.toStyles)),Ct.disabled=!0,Ct.overrideTotalTime(Wt.totalTime),void j.push(Ct);let Tn=vu;if(Qr.size>1){let ir=yt;const Zr=[];for(;ir=ir.parentNode;){const dn=Qr.get(ir);if(dn){Tn=dn;break}Zr.push(ir)}Zr.forEach(dn=>Qr.set(dn,Tn))}const yr=this._buildAnimation(Ct.namespaceId,Wt,Zn,Y,Ks,hi);if(Ct.setRealPlayer(yr),Tn===vu)Mi.push(Ct);else{const ir=this.playersByElement.get(Tn);ir&&ir.length&&(Ct.parentPlayer=te(ir)),j.push(Ct)}}else Rn(yt,Wt.fromStyles),Ct.onDestroy(()=>On(yt,Wt.toStyles)),ko.push(Ct),Je.has(yt)&&j.push(Ct)}),ko.forEach(lt=>{const yt=Y.get(lt.element);if(yt&&yt.length){const Ct=te(yt);lt.setRealPlayer(Ct)}}),j.forEach(lt=>{lt.parentPlayer?lt.syncPlayerEvents(lt.parentPlayer):lt.destroy()});for(let lt=0;lt<zt.length;lt++){const yt=zt[lt],Ct=yt[jn];if(Dr(yt,qt),Ct&&Ct.hasAnimation)continue;let Wt=[];if(he.size){let yr=he.get(yt);yr&&yr.length&&Wt.push(...yr);let ir=this.driver.query(yt,ht,!0);for(let Zr=0;Zr<ir.length;Zr++){let dn=he.get(ir[Zr]);dn&&dn.length&&Wt.push(...dn)}}const Tn=Wt.filter(yr=>!yr.destroyed);Tn.length?ro(this,yt,Tn):this.processLeaveNode(yt)}return zt.length=0,Mi.forEach(lt=>{this.players.push(lt),lt.onDone(()=>{lt.destroy();const yt=this.players.indexOf(lt);this.players.splice(yt,1)}),lt.play()}),Mi}elementContainsData(l,o){let g=!1;const j=o[jn];return j&&j.setForRemoval&&(g=!0),this.playersByElement.has(o)&&(g=!0),this.playersByQueriedElement.has(o)&&(g=!0),this.statesByElement.has(o)&&(g=!0),this._fetchNamespace(l).elementContainsData(o)||g}afterFlush(l){this._flushFns.push(l)}afterFlushAnimationsDone(l){this._whenQuietFns.push(l)}_getPreviousPlayers(l,o,g,j,Y){let le=[];if(o){const he=this.playersByQueriedElement.get(l);he&&(le=he)}else{const he=this.playersByElement.get(l);if(he){const Se=!Y||Y==bi;he.forEach(Le=>{Le.queued||!Se&&Le.triggerName!=j||le.push(Le)})}}return(g||j)&&(le=le.filter(he=>!(g&&g!=he.namespaceId||j&&j!=he.triggerName))),le}_beforeAnimationBuild(l,o,g){const Y=o.element,le=o.isRemovalTransition?void 0:l,he=o.isRemovalTransition?void 0:o.triggerName;for(const Se of o.timelines){const Le=Se.element,Je=Le!==Y,nt=We(g,Le,[]);this._getPreviousPlayers(Le,Je,le,he,o.toState).forEach(Ut=>{const vt=Ut.getRealPlayer();vt.beforeDestroy&&vt.beforeDestroy(),Ut.destroy(),nt.push(Ut)})}Rn(Y,o.fromStyles)}_buildAnimation(l,o,g,j,Y,le){const he=o.triggerName,Se=o.element,Le=[],Je=new Set,nt=new Set,bt=o.timelines.map(vt=>{const St=vt.element;Je.add(St);const zt=St[jn];if(zt&&zt.removedBeforeQueried)return new B.ZN(vt.duration,vt.delay);const on=St!==Se,En=function(y){const l=[];return _n(y,l),l}((g.get(St)||Ni).map(Zn=>Zn.getRealPlayer())).filter(Zn=>!!Zn.element&&Zn.element===St),Ln=Y.get(St),Bn=le.get(St),ms=X(0,this._normalizer,0,vt.keyframes,Ln,Bn),Gr=this._buildPlayer(vt,ms,En);if(vt.subTimeline&&j&&nt.add(St),on){const Zn=new Si(l,he,St);Zn.setRealPlayer(Gr),Le.push(Zn)}return Gr});Le.forEach(vt=>{We(this.playersByQueriedElement,vt.element,[]).push(vt),vt.onDone(()=>function(y,l,o){let g;if(y instanceof Map){if(g=y.get(l),g){if(g.length){const j=g.indexOf(o);g.splice(j,1)}0==g.length&&y.delete(l)}}else if(g=y[l],g){if(g.length){const j=g.indexOf(o);g.splice(j,1)}0==g.length&&delete y[l]}return g}(this.playersByQueriedElement,vt.element,vt))}),Je.forEach(vt=>kn(vt,Pt));const Ut=te(bt);return Ut.onDestroy(()=>{Je.forEach(vt=>Dr(vt,Pt)),On(Se,o.toStyles)}),nt.forEach(vt=>{We(j,vt,[]).push(Ut)}),Ut}_buildPlayer(l,o,g){return o.length>0?this.driver.animate(l.element,o,l.duration,l.delay,l.easing,g):new B.ZN(l.duration,l.delay)}}class Si{constructor(l,o,g){this.namespaceId=l,this.triggerName=o,this.element=g,this._player=new B.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(l){this._containsRealPlayer||(this._player=l,Object.keys(this._queuedCallbacks).forEach(o=>{this._queuedCallbacks[o].forEach(g=>se(l,o,void 0,g))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(l.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(l){this.totalTime=l}syncPlayerEvents(l){const o=this._player;o.triggerCallback&&l.onStart(()=>o.triggerCallback("start")),l.onDone(()=>this.finish()),l.onDestroy(()=>this.destroy())}_queueEvent(l,o){We(this._queuedCallbacks,l,[]).push(o)}onDone(l){this.queued&&this._queueEvent("done",l),this._player.onDone(l)}onStart(l){this.queued&&this._queueEvent("start",l),this._player.onStart(l)}onDestroy(l){this.queued&&this._queueEvent("destroy",l),this._player.onDestroy(l)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(l){this.queued||this._player.setPosition(l)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(l){const o=this._player;o.triggerCallback&&o.triggerCallback(l)}}function ri(y){return y&&1===y.nodeType}function ii(y,l){const o=y.style.display;return y.style.display=l??"none",o}function Ts(y,l,o,g,j){const Y=[];o.forEach(Se=>Y.push(ii(Se)));const le=[];g.forEach((Se,Le)=>{const Je={};Se.forEach(nt=>{const bt=Je[nt]=l.computeStyle(Le,nt,j);(!bt||0==bt.length)&&(Le[jn]=Os,le.push(Le))}),y.set(Le,Je)});let he=0;return o.forEach(Se=>ii(Se,Y[he++])),le}function Ui(y,l){const o=new Map;if(y.forEach(he=>o.set(he,[])),0==l.length)return o;const j=new Set(l),Y=new Map;function le(he){if(!he)return 1;let Se=Y.get(he);if(Se)return Se;const Le=he.parentNode;return Se=o.has(Le)?Le:j.has(Le)?1:le(Le),Y.set(he,Se),Se}return l.forEach(he=>{const Se=le(he);1!==Se&&o.get(Se).push(he)}),o}function kn(y,l){y.classList?.add(l)}function Dr(y,l){y.classList?.remove(l)}function ro(y,l,o){te(o).onDone(()=>y.processLeaveNode(l))}function _n(y,l){for(let o=0;o<y.length;o++){const g=y[o];g instanceof B.ZE?_n(g.players,l):l.push(g)}}function Ar(y,l,o){const g=o.get(y);if(!g)return!1;let j=l.get(y);return j?g.forEach(Y=>j.add(Y)):l.set(y,g),o.delete(y),!0}class mn{constructor(l,o,g){this.bodyNode=l,this._driver=o,this._normalizer=g,this._triggerCache={},this.onRemovalComplete=(j,Y)=>{},this._transitionEngine=new Ps(l,o,g),this._timelineEngine=new yi(l,o,g),this._transitionEngine.onRemovalComplete=(j,Y)=>this.onRemovalComplete(j,Y)}registerTrigger(l,o,g,j,Y){const le=l+"-"+j;let he=this._triggerCache[le];if(!he){const Se=[],Le=re(this._driver,Y,Se);if(Se.length)throw new Error(`The animation trigger "${j}" has failed to build due to the following errors:\n - ${Se.join("\n - ")}`);he=function(y,l,o){return new Bi(y,l,o)}(j,Le,this._normalizer),this._triggerCache[le]=he}this._transitionEngine.registerTrigger(o,j,he)}register(l,o){this._transitionEngine.register(l,o)}destroy(l,o){this._transitionEngine.destroy(l,o)}onInsert(l,o,g,j){this._transitionEngine.insertNode(l,o,g,j)}onRemove(l,o,g,j){this._transitionEngine.removeNode(l,o,j||!1,g)}disableAnimations(l,o){this._transitionEngine.markElementAsDisabled(l,o)}process(l,o,g,j){if("@"==g.charAt(0)){const[Y,le]=tt(g);this._timelineEngine.command(Y,o,le,j)}else this._transitionEngine.trigger(l,o,g,j)}listen(l,o,g,j,Y){if("@"==g.charAt(0)){const[le,he]=tt(g);return this._timelineEngine.listen(le,o,he,Y)}return this._transitionEngine.listen(l,o,g,j,Y)}flush(l=-1){this._transitionEngine.flush(l)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function qn(y,l){let o=null,g=null;return Array.isArray(l)&&l.length?(o=er(l[0]),l.length>1&&(g=er(l[l.length-1]))):l&&(o=er(l)),o||g?new Vi(y,o,g):null}let Vi=(()=>{class y{constructor(o,g,j){this._element=o,this._startStyles=g,this._endStyles=j,this._state=0;let Y=y.initialStylesByElement.get(o);Y||y.initialStylesByElement.set(o,Y={}),this._initialStyles=Y}start(){this._state<1&&(this._startStyles&&On(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(On(this._element,this._initialStyles),this._endStyles&&(On(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(y.initialStylesByElement.delete(this._element),this._startStyles&&(Rn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rn(this._element,this._endStyles),this._endStyles=null),On(this._element,this._initialStyles),this._state=3)}}return y.initialStylesByElement=new WeakMap,y})();function er(y){let l=null;const o=Object.keys(y);for(let g=0;g<o.length;g++){const j=o[g];Is(j)&&(l=l||{},l[j]=y[j])}return l}function Is(y){return"display"===y||"position"===y}const oi="animation",zi="animationend";class Wi{constructor(l,o,g,j,Y,le,he){this._element=l,this._name=o,this._duration=g,this._delay=j,this._easing=Y,this._fillMode=le,this._onDoneFn=he,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=Se=>this._handleCallback(Se)}apply(){(function(y,l){const o=ct(y,"").trim();let g=0;o.length&&(function(y,l){let o=0;for(let g=0;g<y.length;g++)","===y.charAt(g)&&o++;return o}(o)+1,l=`${o}, ${l}`),je(y,"",l)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),q(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Hi(this._element,this._name,"paused")}resume(){Hi(this._element,this._name,"running")}setPosition(l){const o=F(this._element,this._name);this._position=l*this._duration,je(this._element,"Delay",`-${this._position}ms`,o)}getPosition(){return this._position}_handleCallback(l){const o=l._ngTestManualTimestamp||Date.now(),g=1e3*parseFloat(l.elapsedTime.toFixed(3));l.animationName==this._name&&Math.max(o-this._startTime,0)>=this._delay&&g>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),q(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(y,l){const g=ct(y,"").split(","),j=P(g,l);j>=0&&(g.splice(j,1),je(y,"",g.join(",")))}(this._element,this._name))}}function Hi(y,l,o){je(y,"PlayState",o,F(y,l))}function F(y,l){const o=ct(y,"");return o.indexOf(",")>0?P(o.split(","),l):P([o],l)}function P(y,l){for(let o=0;o<y.length;o++)if(y[o].indexOf(l)>=0)return o;return-1}function q(y,l,o){o?y.removeEventListener(zi,l):y.addEventListener(zi,l)}function je(y,l,o,g){const j=oi+l;if(null!=g){const Y=y.style[j];if(Y.length){const le=Y.split(",");le[g]=o,o=le.join(",")}}y.style[j]=o}function ct(y,l){return y.style[oi+l]||""}class ai{constructor(l,o,g,j,Y,le,he,Se){this.element=l,this.keyframes=o,this.animationName=g,this._duration=j,this._delay=Y,this._finalStyles=he,this._specialStyles=Se,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=le||"linear",this.totalTime=j+Y,this._buildStyler()}onStart(l){this._onStartFns.push(l)}onDone(l){this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(l=>l()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(l=>l()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(l){this._styler.setPosition(l)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Wi(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(l){const o="start"==l?this._onStartFns:this._onDoneFns;o.forEach(g=>g()),o.length=0}beforeDestroy(){this.init();const l={};if(this.hasStarted()){const o=this._state>=3;Object.keys(this._finalStyles).forEach(g=>{"offset"!=g&&(l[g]=o?this._finalStyles[g]:Nr(this.element,g))})}this.currentSnapshot=l}}class io extends B.ZN{constructor(l,o){super(),this.element=l,this._startingStyles={},this.__initialized=!1,this._styles=Rt(o)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(l=>{this._startingStyles[l]=this.element.style[l]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(l=>this.element.style.setProperty(l,this._styles[l])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(l=>{const o=this._startingStyles[l];o?this.element.style.setProperty(l,o):this.element.style.removeProperty(l)}),this._startingStyles=null,super.destroy())}}class oo{constructor(){this._count=0}validateStyleProperty(l){return it(l)}matchesElement(l,o){return!1}containsElement(l,o){return at(l,o)}query(l,o,g){return Et(l,o,g)}computeStyle(l,o,g){return window.getComputedStyle(l)[o]}buildKeyframeElement(l,o,g){g=g.map(he=>Rt(he));let j=`@keyframes ${o} {\n`,Y="";g.forEach(he=>{Y=" ";const Se=parseFloat(he.offset);j+=`${Y}${100*Se}% {\n`,Y+=" ",Object.keys(he).forEach(Le=>{const Je=he[Le];switch(Le){case"offset":return;case"easing":return void(Je&&(j+=`${Y}animation-timing-function: ${Je};\n`));default:return void(j+=`${Y}${Le}: ${Je};\n`)}}),j+=`${Y}}\n`}),j+="}\n";const le=document.createElement("style");return le.textContent=j,le}animate(l,o,g,j,Y,le=[],he){const Se=le.filter(zt=>zt instanceof ai),Le={};pn(g,j)&&Se.forEach(zt=>{let on=zt.currentSnapshot;Object.keys(on).forEach(En=>Le[En]=on[En])});const Je=function(y){let l={};return y&&(Array.isArray(y)?y:[y]).forEach(g=>{Object.keys(g).forEach(j=>{"offset"==j||"easing"==j||(l[j]=g[j])})}),l}(o=Br(l,o,Le));if(0==g)return new io(l,Je);const nt="gen_css_kf_"+this._count++,bt=this.buildKeyframeElement(l,nt,o);(function(y){const l=y.getRootNode?.();return"undefined"!=typeof ShadowRoot&&l instanceof ShadowRoot?l:document.head})(l).appendChild(bt);const vt=qn(l,o),St=new ai(l,o,nt,g,j,Y,Je,vt);return St.onDestroy(()=>{var y;(y=bt).parentNode.removeChild(y)}),St}}class Wo{constructor(l,o,g,j){this.element=l,this.keyframes=o,this.options=g,this._specialStyles=j,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=g.duration,this._delay=g.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(l=>l()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const l=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,l,this.options),this._finalKeyframe=l.length?l[l.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(l,o,g){return l.animate(o,g)}onStart(l){this._onStartFns.push(l)}onDone(l){this._onDoneFns.push(l)}onDestroy(l){this._onDestroyFns.push(l)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(l=>l()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(l=>l()),this._onDestroyFns=[])}setPosition(l){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=l*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const l={};if(this.hasStarted()){const o=this._finalKeyframe;Object.keys(o).forEach(g=>{"offset"!=g&&(l[g]=this._finished?o[g]:Nr(this.element,g))})}this.currentSnapshot=l}triggerCallback(l){const o="start"==l?this._onStartFns:this._onDoneFns;o.forEach(g=>g()),o.length=0}}class Ia{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(an().toString()),this._cssKeyframesDriver=new oo}validateStyleProperty(l){return it(l)}matchesElement(l,o){return!1}containsElement(l,o){return at(l,o)}query(l,o,g){return Et(l,o,g)}computeStyle(l,o,g){return window.getComputedStyle(l)[o]}overrideWebAnimationsSupport(l){this._isNativeImpl=l}animate(l,o,g,j,Y,le=[],he){if(!he&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(l,o,g,j,Y,le);const Je={duration:g,delay:j,fill:0==j?"both":"forwards"};Y&&(Je.easing=Y);const nt={},bt=le.filter(vt=>vt instanceof Wo);pn(g,j)&&bt.forEach(vt=>{let St=vt.currentSnapshot;Object.keys(St).forEach(zt=>nt[zt]=St[zt])});const Ut=qn(l,o=Br(l,o=o.map(vt=>$n(vt,!1)),nt));return new Wo(l,o,Je,Ut)}}function an(){return ne()&&Element.prototype.animate||{}}var Hn=c(1457);let Ma=(()=>{class y extends B._j{constructor(o,g){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(g.body,{id:"0",encapsulation:u.ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(o){const g=this._nextAnimationId.toString();this._nextAnimationId++;const j=Array.isArray(o)?(0,B.vP)(o):o;return Ko(this._renderer,null,g,"register",[j]),new Ra(g,this._renderer)}}return y.\u0275fac=function(o){return new(o||y)(u.\u0275\u0275inject(u.RendererFactory2),u.\u0275\u0275inject(Hn.DOCUMENT))},y.\u0275prov=u.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y})();class Ra extends B.LC{constructor(l,o){super(),this._id=l,this._renderer=o}create(l,o){return new xa(this._id,l,o||{},this._renderer)}}class xa{constructor(l,o,g,j){this.id=l,this.element=o,this._renderer=j,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",g)}_listen(l,o){return this._renderer.listen(this.element,`@@${this.id}:${l}`,o)}_command(l,...o){return Ko(this._renderer,this.element,this.id,l,o)}onDone(l){this._listen("done",l)}onStart(l){this._listen("start",l)}onDestroy(l){this._listen("destroy",l)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(l){this._command("setPosition",l)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ko(y,l,o,g,j){return y.setProperty(l,`@@${o}:${g}`,j)}const Gt="@.disabled";let Ru=(()=>{class y{constructor(o,g,j){this.delegate=o,this.engine=g,this._zone=j,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),g.onRemovalComplete=(Y,le)=>{const he=le?.parentNode(Y);he&&le.removeChild(he,Y)}}createRenderer(o,g){const Y=this.delegate.createRenderer(o,g);if(!(o&&g&&g.data&&g.data.animation)){let Je=this._rendererCache.get(Y);return Je||(Je=new Go("",Y,this.engine),this._rendererCache.set(Y,Je)),Je}const le=g.id,he=g.id+"-"+this._currentId;this._currentId++,this.engine.register(he,o);const Se=Je=>{Array.isArray(Je)?Je.forEach(Se):this.engine.registerTrigger(le,he,o,Je.name,Je)};return g.data.animation.forEach(Se),new uo(this,he,Y,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,g,j){o>=0&&o<this._microtaskId?this._zone.run(()=>g(j)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Y=>{const[le,he]=Y;le(he)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([g,j]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return y.\u0275fac=function(o){return new(o||y)(u.\u0275\u0275inject(u.RendererFactory2),u.\u0275\u0275inject(mn),u.\u0275\u0275inject(u.NgZone))},y.\u0275prov=u.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y})();class Go{constructor(l,o,g){this.namespaceId=l,this.delegate=o,this.engine=g,this.destroyNode=this.delegate.destroyNode?j=>o.destroyNode(j):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(l,o){return this.delegate.createElement(l,o)}createComment(l){return this.delegate.createComment(l)}createText(l){return this.delegate.createText(l)}appendChild(l,o){this.delegate.appendChild(l,o),this.engine.onInsert(this.namespaceId,o,l,!1)}insertBefore(l,o,g,j=!0){this.delegate.insertBefore(l,o,g),this.engine.onInsert(this.namespaceId,o,l,j)}removeChild(l,o,g){this.engine.onRemove(this.namespaceId,o,this.delegate,g)}selectRootElement(l,o){return this.delegate.selectRootElement(l,o)}parentNode(l){return this.delegate.parentNode(l)}nextSibling(l){return this.delegate.nextSibling(l)}setAttribute(l,o,g,j){this.delegate.setAttribute(l,o,g,j)}removeAttribute(l,o,g){this.delegate.removeAttribute(l,o,g)}addClass(l,o){this.delegate.addClass(l,o)}removeClass(l,o){this.delegate.removeClass(l,o)}setStyle(l,o,g,j){this.delegate.setStyle(l,o,g,j)}removeStyle(l,o,g){this.delegate.removeStyle(l,o,g)}setProperty(l,o,g){"@"==o.charAt(0)&&o==Gt?this.disableAnimations(l,!!g):this.delegate.setProperty(l,o,g)}setValue(l,o){this.delegate.setValue(l,o)}listen(l,o,g){return this.delegate.listen(l,o,g)}disableAnimations(l,o){this.engine.disableAnimations(l,o)}}class uo extends Go{constructor(l,o,g,j){super(o,g,j),this.factory=l,this.namespaceId=o}setProperty(l,o,g){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Gt?this.disableAnimations(l,g=void 0===g||!!g):this.engine.process(this.namespaceId,l,o.substr(1),g):this.delegate.setProperty(l,o,g)}listen(l,o,g){if("@"==o.charAt(0)){const j=function(y){switch(y){case"body":return document.body;case"document":return document;case"window":return window;default:return y}}(l);let Y=o.substr(1),le="";return"@"!=Y.charAt(0)&&([Y,le]=function(y){const l=y.indexOf(".");return[y.substring(0,l),y.substr(l+1)]}(Y)),this.engine.listen(this.namespaceId,j,Y,le,he=>{this.factory.scheduleListenerCallback(he._data||-1,g,he)})}return this.delegate.listen(l,o,g)}}let Ci=(()=>{class y extends mn{constructor(o,g,j){super(o.body,g,j)}ngOnDestroy(){this.flush()}}return y.\u0275fac=function(o){return new(o||y)(u.\u0275\u0275inject(Hn.DOCUMENT),u.\u0275\u0275inject($t),u.\u0275\u0275inject(Fi))},y.\u0275prov=u.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y})();const mr=new u.InjectionToken("AnimationModuleType"),Fs=[{provide:B._j,useClass:Ma},{provide:Fi,useFactory:function(){return new wr}},{provide:mn,useClass:Ci},{provide:u.RendererFactory2,useFactory:function(y,l,o){return new Ru(y,l,o)},deps:[i.se,mn,u.NgZone]}],Vr=[{provide:$t,useFactory:function(){return"function"==typeof an()?new Ia:new oo}},{provide:mr,useValue:"BrowserAnimations"},...Fs],Qo=[{provide:$t,useClass:Nt},{provide:mr,useValue:"NoopAnimations"},...Fs];let Zo=(()=>{class y{static withConfig(o){return{ngModule:y,providers:o.disableAnimations?Qo:Vr}}}return y.\u0275fac=function(o){return new(o||y)},y.\u0275mod=u.\u0275\u0275defineNgModule({type:y}),y.\u0275inj=u.\u0275\u0275defineInjector({providers:Vr,imports:[i.b2]}),y})();var bn=c(6435);const Qi={properties:{id:{type:"string",description:"Id"},name:{type:"string",description:"Name"},shortName:{type:"string",description:"Short name"},description:{type:"string",description:"Description"},startUrl:{type:"string",description:"Start url"},icons:{type:"array",description:"Icons",items:{type:"object",properties:{src:{type:"string",description:"Src"},sizes:{type:"string",description:"Sizes"},type:{type:"string",description:"Type"}},required:["src","sizes","type"]}},themeColor:{type:"string",description:"Theme color"},backgroundColor:{type:"string",description:"Background color"},screenshots:{type:"array",description:"Screenshots",items:{type:"object",properties:{src:{type:"string",description:"Src"},sizes:{type:"string",description:"Sizes"},type:{type:"string",description:"Type"},platform:{type:"string",description:"Platform"},label:{type:"string",description:"Label"}},required:["src","sizes","type","platform","label"]}},iarcRatingId:{type:"string",description:"IARC rating id"},categories:{type:"array",description:"Categories",items:{type:"string",description:"Category"}},additionalProperties:{type:"object",description:"Additional properties",properties:{permissions:{type:"array",description:"Permissions",items:{type:"object",properties:{kind:{type:"string",description:"Kind",enum:["collection"]},mode:{type:"string",description:"Mode",enum:["read","write","delete"]},target:{type:"string",description:"Target"}},required:["kind","mode","target"]}},internal:{type:"boolean",description:"Internal"},starred:{type:"boolean",description:"Internal"},defaultShortcut:{type:"string",description:"Default shortcut"},sidebarShortcuts:{type:"array",description:"Sidebar shortcuts",items:{type:"string",description:"Sidebar shortcut"}}}},shortcuts:{type:"array",description:"Shortcuts",items:{type:"object",properties:{name:{type:"string",description:"Name"},url:{type:"string",description:"Url"},icons:{type:"array",description:"Icons",items:{type:"object",properties:{src:{type:"string",description:"Src"},sizes:{type:"string",description:"Sizes"},type:{type:"string",description:"Type"}},required:["src","sizes","type"]}},shortName:{type:"string",description:"Short name"},description:{type:"string",description:"Description"}},required:["name","url"]}},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","name","startUrl","createdAt","updatedAt"]},ui={provide:bn.RY,useValue:{name:"storeapplications",creator:{schema:{title:"Store Store",description:"User Applications",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:Qi.properties,required:["id","name","startUrl","createdAt","updatedAt"]}}},multi:!0},ho={provide:bn.RY,useValue:{name:"userapplications",creator:{schema:{title:"User Applications",description:"User Applications",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:Qi.properties,required:["id","name","startUrl","createdAt","updatedAt"]}}},multi:!0};var pt=c(899),po=c(4995);const mo={provide:bn.To,useValue:{name:"userapplications",upsert:!0,data:[{id:"com.central-factory.portal",name:"Central Factory Portal",description:"Central Factory Portal",startUrl:"/",icons:[{src:"assets/icons/mdi/open-in-app.svg",sizes:"512x512",type:"image/svg+xml"}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:pt.k.Collection,mode:pt.R.Read,target:"userpreferences"},{kind:pt.k.Collection,mode:pt.R.Read,target:"useravatars"},{kind:pt.k.Collection,mode:pt.R.Read,target:"userapplications"}]}},{id:"com.central-factory.portals",name:"Portals",description:"Access to many local and hosted web applications. Applications can be loaded through a webview or through a webpack module federation.",startUrl:"portals",icons:[{src:"assets/icons/mdi/web-box.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Start",url:"/start",icons:[{src:"assets/icons/mdi/flare.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Portals",url:"/portals",icons:[{src:"assets/icons/mdi/web-box.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,sidebarShortcuts:["Start"],permissions:[{kind:pt.k.Collection,mode:pt.R.Read,target:"userapplications"},{kind:pt.k.Collection,mode:pt.R.Write,target:"userapplications"},{kind:pt.k.Collection,mode:pt.R.Delete,target:"userapplications"},{kind:pt.k.Collection,mode:pt.R.Read,target:"storeapplications"},{kind:pt.k.Collection,mode:pt.R.Write,target:"storeapplications"},{kind:pt.k.Collection,mode:pt.R.Delete,target:"storeapplications"},{kind:pt.k.Collection,mode:pt.R.Read,target:"usertopics"},{kind:pt.k.Collection,mode:pt.R.Write,target:"usertopics"},{kind:pt.k.Collection,mode:pt.R.Delete,target:"usertopics"}]}},{id:"com.central-factory.avatars",name:"Avatars",description:"Avatars management module. Customize your avatars.",startUrl:"user-avatars",icons:[{src:"assets/icons/mdi/account.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Selected Avatar",url:"/selected-avatar",icons:[{src:"assets/icons/mdi/account.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Select Avatar",url:"/select-avatar",icons:[{src:"assets/icons/mdi/account.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:pt.k.Collection,mode:pt.R.Read,target:"useravatars"},{kind:pt.k.Collection,mode:pt.R.Write,target:"useravatars"},{kind:pt.k.Collection,mode:pt.R.Delete,target:"useravatars"},{kind:pt.k.Collection,mode:pt.R.Read,target:"userpreferences"},{kind:pt.k.Collection,mode:pt.R.Write,target:"userpreferences"}],sidebarShortcuts:["Selected Avatar"]}},{id:"com.central-factory.inventory",name:"Inventory",description:"Assets management module. Manage and preview your assets.",startUrl:"inventory",icons:[{src:"assets/icons/mdi/bag-personal.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Inventory",url:"/inventory",icons:[{src:"assets/icons/mdi/bag-personal.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},disabled:!0,internal:!0,permissions:[{kind:pt.k.Collection,mode:pt.R.Read,target:"userassets"},{kind:pt.k.Collection,mode:pt.R.Write,target:"userassets"},{kind:pt.k.Collection,mode:pt.R.Delete,target:"userassets"}],sidebarShortcuts:["Inventory"]}},{id:"com.central-factory.marketplace",name:"Marketplace",description:"Portal Marketplace. Sell your assets and acquire new ones.",startUrl:"marketplace",icons:[{src:"assets/icons/mdi/store.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Marketplace",url:"/marketplace",icons:[{src:"assets/icons/mdi/store.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,disabled:!0,permissions:[{kind:pt.k.Collection,mode:pt.R.Read,target:"userassets"},{kind:pt.k.Collection,mode:pt.R.Write,target:"userassets"},{kind:pt.k.Collection,mode:pt.R.Delete,target:"userassets"}],sidebarShortcuts:["Marketplace"]}},{id:"com.central-factory.settings",name:"Settings",description:"Customize your portal experience. Manage your preferences.",startUrl:"settings",icons:[{src:"assets/icons/mdi/cog.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Settings",url:"/settings",icons:[{src:"assets/icons/mdi/cog.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{internal:!0,author:{id:"com.central-factory",name:"Central Factory"},permissions:[{kind:pt.k.Collection,mode:pt.R.Read,target:"userpreferences"},{kind:pt.k.Collection,mode:pt.R.Write,target:"userpreferences"}],sidebarShortcuts:["Settings"]}},{id:"com.central-factory.codex",name:"Codex",description:"Official documentation for the Central Factory Metaverse",startUrl:"codex",categories:["productivity"],icons:[{src:"assets/icons/mdi/book-open-page-variant.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Codex",url:"https://www.aitorllamas.com/metaverse/apps/codex",icons:[{src:"assets/icons/mdi/book-open-page-variant.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},renderingType:po.B.Webview,supportsBrowser:!0,internal:!1,permissions:[],defaultShortcut:"Codex",sidebarShortcuts:[],colors:[{variation:po.c.Primary,color:"#706fd3"}]}}]},multi:!0},vo={provide:bn.RY,useValue:{name:"userassets",creator:{schema:{title:"User Assets",description:"User assets",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},name:{type:"string",description:"Name"},model:{type:"string",description:"Model"},description:{type:"string",description:"Description"},digital:{type:"boolean",description:"Digital"},private:{type:"boolean",description:"Private"},kind:{type:"string",description:"Kind",enum:["unknown","currency","land","material","building","equipment","furniture","machine","vehicle","media-resource","other"]},url:{type:"string",description:"Url"},previewUrl:{type:"string",description:"Preview url"},currentValue:{type:"object",description:"Current value",properties:{usd:{type:"string",description:"Usd"},eth:{type:"string",description:"Eth"}}},purchaseValue:{type:"object",description:"Purchase value",properties:{usd:{type:"string",description:"Usd"},eth:{type:"string",description:"Eth"}}},purchaseDate:{format:"date-time",type:"string"},data:{type:"object",description:"Data"},owner:{type:"string",description:"Owner"},producer:{type:"string",description:"Producer"},permissions:{type:"array",description:"Permissions",items:{type:"object",description:"Permission"}},createdAt:{format:"date-time",type:"string",description:"Created at"},updatedAt:{format:"date-time",type:"string",description:"Updated at"}}}}},multi:!0},wi={type:"object",description:"Appearance",properties:{format:{type:"string"},src:{type:"string"},smallPreviewUrl:{type:"string"},previewCamera:{type:"object",properties:{position:{type:"string"},rotation:{type:"string"},scale:{type:"string"}}}}},gr={provide:bn.RY,useValue:{name:"useravatars",creator:{schema:{title:"User Avatars",description:"User Avatars",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},welcomeMessage:{type:"string",description:"Welcome message"},name:{type:"string",description:"Name"},title:{type:"string",description:"Title"},selectedAppearance:wi,appearances:{type:"array",description:"Appearances",items:wi},scopes:{type:"array",description:"Scopes",items:{type:"object",properties:{integration:{type:"string",description:"Integration"},domain:{type:"string",description:"Domain"},scope:{type:"string",description:"Scope"}}}},skills:{type:"array",description:"Skills",items:{type:"object",properties:{domain:{type:"string",description:"Domain"},scope:{type:"string",description:"Scope"},skill:{type:"string",description:"Skill"}}}},createdAt:{format:"date-time",type:"string",description:"Created at"},updatedAt:{format:"date-time",type:"string",description:"Updated at"}},attachments:{encrypted:!1}}}},multi:!0},Yo={provide:bn.RY,useValue:{name:"applicationpermissions",creator:{schema:{title:"Application Permissions",description:"Application Permissions",version:0,keyCompression:!0,primaryKey:{key:"id",fields:["appId","kind","mode","target"],separator:":"},type:"object",properties:{id:{type:"string",description:"Id"},appId:{type:"string",description:"AppId"},kind:{type:"string",description:"Kind",enum:["collection"]},mode:{type:"string",description:"Mode",enum:["read","write","delete"]},target:{type:"string",description:"Target"},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","appId","kind","mode","target"],encrypted:["kind","mode","target"]}}},multi:!0},bo={provide:bn.RY,useValue:{name:"userpreferences",creator:{schema:{title:"User Preferences",description:"User preferences",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},key:{type:"string",description:"Key"},value:{description:"Value"},avatar:{type:"string"},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","value"]}}},multi:!0},zr={production:!1,demo:!0,useMocks:!0,autologin:!0,showSplashScreen:!1,repositoryUrl:"https://raw.githubusercontent.com/central-factory/web-application-manifests/main",webUrl:"http://localhost:3000",documentationUrl:"http://localhost:3000/docs",blogUrl:"http://localhost:3000/blog",developersUrl:"http://localhost:3000/developers"},li={provide:bn.To,useValue:{name:"userpreferences",upsert:!1,data:[{id:"settings.customization",key:"settings.customization",value:{theme:{name:"Metaverse",path:"assets/themes/metaverse/variables.css"}}},{id:"settings.customization.1",key:"settings.customization.1",value:{theme:{name:"Metaverse",path:"assets/themes/metaverse/variables.css"}}},{id:"settings.customization.2",key:"settings.customization.2",value:{theme:{name:"Bubbles",path:"assets/themes/bubbles/variables.css"}}},{id:"settings.customization.3",key:"settings.customization.3",value:{theme:{name:"Default",path:"assets/themes/default/variables.css"}}},{id:"store.settings.repositories",key:"store.settings.repositories",value:[{label:"The Central Factory",url:`${zr.repositoryUrl}/applications.json`}]}]},multi:!0};var us=c(43);const $r={provide:bn.RY,useValue:{name:"usertopics",creator:{schema:{title:"User Topics",description:"User Topics",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},priority:{type:"string",description:"Id",enum:["low","medium","high"]},title:{type:"string",description:"Title"},description:{type:"string",description:"Description"},icon:{type:"string",description:"Icon"},themeColor:{type:"string",description:"Theme color"},background:{type:"string",description:"Background color"},applications:{type:"array",description:"applications",items:{type:"string",description:"applications"}},categories:{type:"array",description:"Categories",items:{type:"string",description:"Category"}},shortcuts:{type:"array",description:"Shortcuts",items:{type:"string",description:"Shortcut"}},media:{type:"array",description:"Media",items:{type:"object",description:"MediaContent"}},triggers:{type:"array",description:"Shortcuts",items:{type:"object",description:"Shortcut"}},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","priority","title","createdAt","updatedAt"]}}},multi:!0},ks={provide:bn.To,useValue:{name:"usertopics",upsert:!0,data:[{id:"morning.routine",priority:"low",icon:"assets/icons/mdi/weather-sunny.svg",title:"Morning Routine",background:"https://images.unsplash.com/photo-1415750465391-51ed29b1e610?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80",themeColor:"light",applications:["com.ibm.weather","com.feedly.feedly","com.spotify.player","com.google.calendar","com.google.mail","com.doist.todoist","com.microsoft.github"],shortcuts:["com.ibm.weather#TodaysForecast","com.feedly.feedly#NewsFeed","com.spotify.player#PlayMusic","com.google.calendar#Agenda","com.doist.todoist#Today"],categories:["lifestyle","productivity","food","fitness","health"],triggers:[{name:"Every morning",rules:{startTime:"06:00",endTime:"09:30"}}]},{id:"meal.time",priority:"medium",icon:"assets/icons/mdi/silverware.svg",title:"Meal Time",background:"https://images.unsplash.com/photo-1565895405138-6c3a1555da6a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80",themeColor:"light",applications:["com.fitbit.fitbit","com.uber.eats","com.glovo.glovo","com.justeat.justeat","com.burgerking.burgerking"],shortcuts:[],categories:["food","health"],triggers:[{name:"Breakfast",rules:{startTime:"06:00",endTime:"8:00"}},{name:"Coffee",rules:{startTime:"11:00",endTime:"12:00"}},{name:"Lunch",rules:{startTime:"13:00",endTime:"14:00"}},{name:"Tea",rules:{startTime:"17:00",endTime:"18:00"}},{name:"Dinner",rules:{startTime:"21:00",endTime:"22:00"}}]},{id:"plan.day",priority:"low",icon:"assets/icons/mdi/account-check.svg",title:"Plan your day",background:"https://images.unsplash.com/photo-1484480974693-6ca0a78fb36b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1472&q=80",applications:["com.google.calendar","com.google.mail","com.google.keep","com.doist.todoist","com.mieconomista.contaauto"],shortcuts:["com.google.calendar#Agenda","com.google.calendar#CreateEvent","com.google.keep#CreateNote","com.google.mail#Inbox","com.google.mail#CreateEmail","com.doist.todoist#CreateTask","com.mieconomista.contaauto#CreateInvoice"],categories:["productivity","business"],triggers:[{name:"Every morning",rules:{startTime:"09:00",endTime:"10:30"}}]},{id:"daily.meeting",priority:"high",icon:"assets/icons/mdi/video.svg",title:"Daily Meeting",background:"https://images.unsplash.com/photo-1552581234-26160f608093?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80",applications:["com.microsoft.outlook.office","com.atlassian.jira","com.microsoft.onenote","com.microsoft.teams"],shortcuts:["com.microsoft.outlook.office#Agenda","com.atlassian.jira#Board","com.microsoft.onenote#CreateNote","com.microsoft.vscode.insiders#Code"],categories:["productivity","business"],triggers:[{name:"Every morning",rules:{startTime:"09:50",endTime:"10:30"}}]},{id:"work.matrix",priority:"medium",icon:"assets/icons/mdi/account-network.svg",title:"Work at The Matrix",background:"https://images.unsplash.com/photo-1564069114553-7215e1ff1890?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1332&q=80",applications:["com.microsoft.teams","com.slack.slack","com.microsoft.outlook.office","com.atlassian.jira","com.microsoft.azure","com.microsoft.onedrive","com.microsoft.onenote","com.atlassian.confluence"],shortcuts:["com.microsoft.outlook.office#Inbox","com.microsoft.outlook.office#CreateEmail","com.microsoft.outlook.office#Agenda","com.microsoft.onedrive#UploadFile","com.microsoft.onenote#CreateNote","com.atlassian.jira#CreateIssue","com.atlassian.jira#Board","com.atlassian.confluence#CreateNote","com.microsoft.vscode.insiders#Code"],categories:["productivity","business"],triggers:[{name:"Every morning",rules:{startTime:"10:00",endTime:"14:00"}},{name:"Every afternoon",rules:{startTime:"14:00",endTime:"18:00"}}]},{id:"coding.night",priority:"low",icon:"assets/icons/mdi/account-network.svg",title:"Coding Nights",background:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1472&q=80",themeColor:"light",applications:["com.google.search","com.microsoft.github","com.central-factory.codex","com.ivoox.player","com.spotify.player","com.google.youtube","com.stackexchange.overflow","com.templarian.materialdesignicons","com.brandcolors.brandcolors","com.simpleicons.simpleicons","com.discord.discord"],shortcuts:["com.microsoft.vscode.insiders#Code","com.microsoft.github#PullRequests","com.google.youtube#Subscriptions","com.spotify.player#Library"],categories:["devtools","productivity"],triggers:[{name:"Every night",rules:{startTime:"18:00",endTime:"23:59"}},{name:"Every morning",rules:{startTime:"00:00",endTime:"03:00"}}]},{id:"gaming.night",priority:"low",icon:"assets/icons/mdi/google-controller.svg",themeColor:"light",background:"https://images.unsplash.com/photo-1610041321327-b794c052db27?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80",title:"Gaming Night",applications:["com.microsoft.xbox","com.valve.steam","com.nintendo.my","com.discord.discord","com.amazon.twitchtv","com.google.youtube","com.spotify.spotify"],shortcuts:["com.amazon.twitchtv#Following","com.google.youtube#Subscriptions"],categories:["games"],media:[{type:"image",title:"Halo Infinite",src:"https://store-images.s-microsoft.com/image/apps.56579.13727851868390641.c9cc5f66-aff8-406c-af6b-440838730be0.0dee39b3-efb2-4425-8f1f-087c111ff9b2?w=300&h=300",url:"https://www.xbox.com/es-ES/play/games/halo-infinite-campa%C3%B1a/9NP1P1WFS0LB"},{type:"image",title:"Nobody Saves the World",src:"https://store-images.s-microsoft.com/image/apps.53413.13585830814774327.d6e142bb-27e2-4109-8139-edac768eca10.bd597240-e065-42b4-a809-b42e4a7a9815?w=300&h=300",url:"https://www.xbox.com/en-US/play/games/nobody-saves-the-world/9NFZ65KKJ10X"}],triggers:[{name:"Every night",rules:{startTime:"18:00",endTime:"23:59"}},{name:"Every morning",rules:{startTime:"00:00",endTime:"03:00"}}]}]},multi:!0};var Ai=c(4438),Oi=c(2085),Wr=c(2051);let Pi=(()=>{class y{}return y.\u0275fac=function(o){return new(o||y)},y.\u0275mod=u.\u0275\u0275defineNgModule({type:y}),y.\u0275inj=u.\u0275\u0275defineInjector({}),y})(),ls=(()=>{class y{}return y.\u0275fac=function(o){return new(o||y)},y.\u0275mod=u.\u0275\u0275defineNgModule({type:y}),y.\u0275inj=u.\u0275\u0275defineInjector({}),y})(),So=(()=>{class y{}return y.\u0275fac=function(o){return new(o||y)},y.\u0275mod=u.\u0275\u0275defineNgModule({type:y}),y.\u0275inj=u.\u0275\u0275defineInjector({imports:[[Hn.CommonModule,Ai.O,Wr.Y,Pi,ls]]}),y})();var Ls=c(5088),Pr=(()=>{return(y=Pr||(Pr={})).Body="body",y.Head="head",y.Ears="ears",y.Face="face",y.Eyes="eyes",y.Nose="nose",y.Mouth="mouth",y.Neck="neck",y.Chest="chest",y.Waist="waist",y.Back="back",y.Arms="arms",y.RightArm="right-arm",y.LeftArm="left-arm",y.Wrist="wrist",y.Hands="hands",y.RightHand="right-hand",y.LeftHand="left-hand",y.Legs="legs",y.RightLeg="right-leg",y.LeftLeg="left-leg",y.Feet="feet",y.RightFoot="right-foot",y.LeftFoot="left-foot",y.Finger="finger",Pr;var y})();const Zi={id:"1",name:"Raven's Cloak",model:"Raven's Cloak",producer:"Shop5363155 Store",owner:"Metam",description:"Microfiber hooded cloak with fleece lining",kind:Ls.R.Equipment,previewUrl:"https://i.imgur.com/ukcsu1q.png",url:"https://es.aliexpress.com/item/1005001952208453.html",currentValue:{usd:"23.62",eth:"0.0070218623"},purchaseValue:{usd:"23.62",eth:"0.0070218623"},purchaseDate:(new Date).toISOString(),digital:!1,private:!0,data:{allowedSlots:[Pr.Back],colors:["#ff0000","#00ff00","#0000ff"],isEquipped:!1}},Vn={id:"2",name:"Foundation's Coat",model:"Foundation's Coat",producer:"Shop1948549 Store",owner:"Metam",description:"Hooded coat with thick fleece lining",kind:Ls.R.Equipment,previewUrl:"https://i.imgur.com/w1XmjIj.png",url:"https://es.aliexpress.com/item/1005003209038453.html",currentValue:{usd:"43.9",eth:"0.01305079404"},purchaseValue:{usd:"43.9",eth:"0.01305079404"},purchaseDate:(new Date).toISOString(),digital:!1,private:!0,data:{allowedSlots:[Pr.Chest],colors:["#ff0000","#00ff00","#0000ff"],isEquipped:!1}},Ns=((new Date).toISOString(),{provide:bn.To,useValue:{name:"userassets",upsert:!0,data:[Zi,Vn]},multi:!0});var Ke=c(120);const Ba={provide:bn.To,useValue:{name:"useravatars",upsert:!0,data:[{id:"1",welcomeMessage:"Hello!",name:"Thomas Anderson",title:"Software Engineer",selectedAppearance:{id:"2",filename:"appearance.glb",format:Ke.g.Model,src:"assets/avatars/samples/thomas-anderson/default/appearance.glb",portrait:{id:"5a6ecf92-141f-46ca-aa9f-b67c009a5df1",filename:"portrait.png",format:Ke.g.Image,src:"assets/avatars/samples/thomas-anderson/default/portrait.png"}},appearances:[{id:"1",filename:"appearance.glb",format:Ke.g.Model,src:"assets/avatars/samples/thomas-anderson/neo/appearance.glb",portrait:{id:"690798c7-9bf0-45ce-b76a-7982ee119322",filename:"portrait.png",format:Ke.g.Image,src:"assets/avatars/samples/thomas-anderson/neo/portrait.png"},previewCamera:{position:"0 1.5 0.7",rotation:"-5 0 0",scale:"0.4 0.4 0.4"}},{id:"2",filename:"50f2bc3a-fe0c-4036-8546-15a2bc63c1cf",format:Ke.g.Model,src:"assets/avatars/samples/thomas-anderson/default/appearance.glb",portrait:{id:"5a6ecf92-141f-46ca-aa9f-b67c009a5df1",filename:"portrait.png",format:Ke.g.Image,src:"assets/avatars/samples/thomas-anderson/default/portrait.png"},previewCamera:{position:"0 1.5 0.7",rotation:"-5 0 0",scale:"1 1 1"}}],scopes:[{integration:"CF",domain:"Calendars",scope:"manage"},{integration:"Google",domain:"Calendars",scope:"manage"},{integration:"NFT",domain:"Tokens",scope:"manage"}],skills:[{domain:"calendar",scope:"manage",skill:"create"},{domain:"event",scope:"manage",skill:"create"},{domain:"assets",scope:"manage",skill:"trade"}]},{id:"2",welcomeMessage:"Hello!",name:"Elliot Alderson",title:"Software Engineer",selectedAppearance:{id:"1",filename:"appearance.glb",format:Ke.g.Model,src:"assets/avatars/samples/elliot-alderson/default/appearance.glb",portrait:{id:"74f583ff-8c6d-4433-9aa4-4d4a7903dac4",filename:"portrait.png",format:Ke.g.Image,src:"assets/avatars/samples/elliot-alderson/default/portrait.png"}},appearances:[{id:"1",filename:"appearance.glb",format:Ke.g.Model,src:"assets/avatars/samples/elliot-alderson/default/appearance.glb",portrait:{id:"4d84c56a-f62b-4df1-a566-a5124cf4f75a",filename:"portrait.png",format:Ke.g.Image,src:"assets/avatars/samples/elliot-alderson/default/portrait.png"}}],scopes:[],skills:[]},{id:"3",welcomeMessage:"Hello!",name:"Alan Turing",title:"Software Engineer",selectedAppearance:{id:"3",format:Ke.g.Model,src:"assets/avatars/samples/alan-turing/default/appearance.glb",filename:"appearance.glb",portrait:{id:"8eccca39-ba05-4cf5-a106-3dffd9f563b0",filename:"portrait.png",format:Ke.g.Image,src:"assets/avatars/samples/alan-turing/default/portrait.png"}},appearances:[{id:"3",filename:"appearance.glb",format:Ke.g.Model,src:"assets/avatars/samples/alan-turing/default/appearance.glb",portrait:{id:"ab321f41-8a46-42b4-9e42-29f95042d734",filename:"portrait.png",format:Ke.g.Image,src:"assets/avatars/samples/alan-turing/default/portrait.png"}}],scopes:[],skills:[]}]},multi:!0};var Ti=c(3905);let wn=(()=>{class y{static forRoot({enabled:o=!1,autologin:g=!1}){const j=[];return o&&(j.push(Ba),j.push(Ns)),g&&j.push({provide:u.APP_INITIALIZER,useFactory:Y=>()=>(0,Ti.z)(Y.setupDatabase("test","test1234")),deps:[bn.v2],multi:!0}),{ngModule:y,providers:j}}}return y.\u0275fac=function(o){return new(o||y)},y.\u0275mod=u.\u0275\u0275defineNgModule({type:y}),y.\u0275inj=u.\u0275\u0275defineInjector({}),y})();var nr=c(428),Co=c(3900),di=c(8505);const ea=new u.InjectionToken("ON_DATABASE_CREATED_GUARD_FAILURE_REDIRECT_TOKEN",{providedIn:"root",factory:()=>"/select-avatar"});let Tr=(()=>{class y{constructor(o,g,j){this.entityManager=o,this.router=g,this.failureRedirectTo=j}canActivate(){return this.entityManager.getRepository("userpreferences","com.central-factory.avatars").pipe((0,Co.w)(o=>o.findOne({selector:{id:"userAvatars.selectedAvatar"}})),(0,x.U)(o=>!(!o||!o.value)),(0,di.b)(o=>{o||this.router.navigate([this.failureRedirectTo])}))}}return y.\u0275fac=function(o){return new(o||y)(u.\u0275\u0275inject(bn.v2),u.\u0275\u0275inject(nr.Router),u.\u0275\u0275inject(ea))},y.\u0275prov=u.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const ta=new u.InjectionToken("ON_DATABASE_CREATED_GUARD_FAILURE_REDIRECT_TOKEN",{providedIn:"root",factory:()=>"/login"});let Hr=(()=>{class y{constructor(o,g,j){this.entityManager=o,this.router=g,this.failureRedirectTo=j}canActivate(){const o=this.entityManager.isDatabaseCreated();return o||this.router.navigate([this.failureRedirectTo]),o}}return y.\u0275fac=function(o){return new(o||y)(u.\u0275\u0275inject(bn.v2),u.\u0275\u0275inject(nr.Router),u.\u0275\u0275inject(ta))},y.\u0275prov=u.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const wo=new u.InjectionToken("ON_NOT_DATABASE_CREATED_GUARD_FAILURE_REDIRECT_TOKEN",{providedIn:"root",factory:()=>"/"});let js=(()=>{class y{constructor(o,g,j){this.entityManager=o,this.router=g,this.failureRedirectTo=j}canActivate(){const o=this.entityManager.isDatabaseCreated();return o&&this.router.navigate([this.failureRedirectTo]),!o}}return y.\u0275fac=function(o){return new(o||y)(u.\u0275\u0275inject(bn.v2),u.\u0275\u0275inject(nr.Router),u.\u0275\u0275inject(wo))},y.\u0275prov=u.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();var na=c(6961),Us=c(4918),ra=c(7165);(0,B.oQ)([(0,B.oB)({transform:"translate3d(0, 0, 0)"}),(0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({transform:"translate3d(0, 0, 0)",offset:.2}),(0,B.oB)({transform:"translate3d(0, -30px, 0)",offset:.4}),(0,B.oB)({transform:"translate3d(0, 0, 0)",offset:.53}),(0,B.oB)({transform:"translate3d(0, -15px, 0)",offset:.7}),(0,B.oB)({transform:"translate3d(0, -4px, 0)",offset:.9}),(0,B.oB)({transform:"translate3d(0, 0, 0)",offset:1})]))],{params:{timing:1,delay:0}}),(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({opacity:1}),(0,B.oB)({opacity:0}),(0,B.oB)({opacity:1}),(0,B.oB)({opacity:0}),(0,B.oB)({opacity:1})])),{params:{timing:1,delay:0}}),(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({transform:"scale3d(1, 1, 1)"}),(0,B.oB)({transform:"scale3d({{ scale }}, {{ scale }}, {{ scale }})"}),(0,B.oB)({transform:"scale3d(1, 1, 1)"})])),{params:{scale:1.25,timing:1,delay:0}}),(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({transform:"scale3d(1, 1, 1)",offset:0}),(0,B.oB)({transform:"scale3d(1.25, 0.75, 1)",offset:.3}),(0,B.oB)({transform:"scale3d(0.75, 1.25, 1)",offset:.4}),(0,B.oB)({transform:"scale3d(1.15, 0.85, 1)",offset:.5}),(0,B.oB)({transform:"scale3d(.95, 1.05, 1)",offset:.65}),(0,B.oB)({transform:"scale3d(1.05, .95, 1)",offset:.75}),(0,B.oB)({transform:"scale3d(1, 1, 1)",offset:1})])),{params:{timing:1,delay:0}}),(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({transform:"translate3d(0, 0, 0)",offset:0}),(0,B.oB)({transform:"translate3d(-10px, 0, 0)",offset:.1}),(0,B.oB)({transform:"translate3d(10px, 0, 0)",offset:.2}),(0,B.oB)({transform:"translate3d(-10px, 0, 0)",offset:.3}),(0,B.oB)({transform:"translate3d(10px, 0, 0)",offset:.4}),(0,B.oB)({transform:"translate3d(-10px, 0, 0)",offset:.5}),(0,B.oB)({transform:"translate3d(10px, 0, 0)",offset:.6}),(0,B.oB)({transform:"translate3d(-10px, 0, 0)",offset:.7}),(0,B.oB)({transform:"translate3d(10px, 0, 0)",offset:.8}),(0,B.oB)({transform:"translate3d(-10px, 0, 0)",offset:.9}),(0,B.oB)({transform:"translate3d(0, 0, 0)",offset:1})])),{params:{timing:1,delay:0}}),(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({transform:"rotate3d(0, 0, 1, 15deg)",offset:.2}),(0,B.oB)({transform:"rotate3d(0, 0, 1, -10deg)",offset:.4}),(0,B.oB)({transform:"rotate3d(0, 0, 1, 5deg)",offset:.6}),(0,B.oB)({transform:"rotate3d(0, 0, 1, -5deg)",offset:.8}),(0,B.oB)({transform:"rotate3d(0, 0, 1, 0deg)",offset:1})])),{params:{timing:1,delay:0}}),(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({transform:"scale3d(1, 1, 1)",offset:0}),(0,B.oB)({transform:"scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg)",offset:.1}),(0,B.oB)({transform:"scale3d(.9, .9, .9) rotate3d(0, 0, 1, -3deg)",offset:.2}),(0,B.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)",offset:.3}),(0,B.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)",offset:.4}),(0,B.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)",offset:.5}),(0,B.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)",offset:.6}),(0,B.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)",offset:.7}),(0,B.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, -3deg)",offset:.8}),(0,B.oB)({transform:"scale3d(1.1, 1.1, 1.1) rotate3d(0, 0, 1, 3deg)",offset:.9}),(0,B.oB)({transform:"scale3d(1, 1, 1)",offset:1})])),{params:{timing:1,delay:0}}),(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({transform:"none",offset:0}),(0,B.oB)({transform:"translate3d(-25%, 0, 0) rotate3d(0, 0, 1, -5deg)",offset:.15}),(0,B.oB)({transform:"translate3d(20%, 0, 0) rotate3d(0, 0, 1, 3deg)",offset:.3}),(0,B.oB)({transform:"translate3d(-15%, 0, 0) rotate3d(0, 0, 1, -3deg)",offset:.45}),(0,B.oB)({transform:"translate3d(10%, 0, 0) rotate3d(0, 0, 1, 2deg)",offset:.6}),(0,B.oB)({transform:"translate3d(-5%, 0, 0) rotate3d(0, 0, 1, -1deg)",offset:.75}),(0,B.oB)({transform:"none",offset:1})])),{params:{timing:1,delay:0}}),(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({transform:"none",offset:0}),(0,B.oB)({transform:"none",offset:.11}),(0,B.oB)({transform:"skewX(-12.5deg) skewY(-12.5deg)",offset:.22}),(0,B.oB)({transform:"skewX(6.25deg) skewY(6.25deg)",offset:.33}),(0,B.oB)({transform:"skewX(-3.125deg) skewY(-3.125deg)",offset:.44}),(0,B.oB)({transform:"skewX(1.5625deg) skewY(1.5625deg)",offset:.55}),(0,B.oB)({transform:"skewX(-0.78125deg) skewY(-0.78125deg)",offset:.66}),(0,B.oB)({transform:"skewX(0.390625deg) skewY(0.390625deg)",offset:.77}),(0,B.oB)({transform:"skewX(-0.1953125deg) skewY(-0.1953125deg)",offset:.88}),(0,B.oB)({transform:"none",offset:1})])),{params:{timing:1,delay:0}});const Mt=(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.215, 0.610, 0.355, 1.000)",(0,B.F4)([(0,B.oB)({opacity:0,transform:"scale3d(.3, .3, .3)",offset:0}),(0,B.oB)({transform:"scale3d(1.1, 1.1, 1.1)",offset:.2}),(0,B.oB)({transform:"scale3d(.9, .9, .9)",offset:.4}),(0,B.oB)({opacity:1,transform:"scale3d(1.03, 1.03, 1.03)",offset:.6}),(0,B.oB)({transform:"scale3d(.97, .97, .97)",offset:.8}),(0,B.oB)({opacity:1,transform:"scale3d(1, 1, 1)",offset:1})])),{params:{timing:1,delay:0}});function Dn(y,l,o,g){return(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.215, 0.610, 0.355, 1.000)",(0,B.F4)([(0,B.oB)({opacity:0,transform:"translate3d(0, {{ a }}, 0)",offset:0}),(0,B.oB)({opacity:1,transform:"translate3d(0, {{ b }}, 0)",offset:.6}),(0,B.oB)({transform:"translate3d(0, {{ c }}, 0)",offset:.75}),(0,B.oB)({transform:"translate3d(0, {{ d }}, 0)",offset:.9}),(0,B.oB)({opacity:1,transform:"none",offset:1})])),{params:{timing:1,delay:0,a:y,b:l,c:o,d:g}})}function Gn(y,l,o,g){return(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.215, 0.610, 0.355, 1.000)",(0,B.F4)([(0,B.oB)({opacity:0,transform:"translate3d({{ a }}, 0, 0)",offset:0}),(0,B.oB)({opacity:1,transform:"translate3d({{ b }}, 0, 0)",offset:.6}),(0,B.oB)({transform:"translate3d({{ c }}, 0, 0)",offset:.75}),(0,B.oB)({transform:"translate3d({{ d }}, 0, 0)",offset:.9}),(0,B.oB)({opacity:1,transform:"none",offset:1})])),{params:{timing:1,delay:0,a:y,b:l,c:o,d:g}})}function Ji(y,l,o,g){return(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({transform:"translate3d(0, {{ a }}, 0)",offset:.2}),(0,B.oB)({opacity:1,transform:"translate3d(0, {{ b }}, 0)",offset:.4}),(0,B.oB)({opacity:1,transform:"translate3d(0, {{ c }}, 0)",offset:.45}),(0,B.oB)({opacity:0,transform:"translate3d(0, {{ d }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:y,b:l,c:o,d:g}})}function ds(y,l){return(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({opacity:1,transform:"translate3d({{ a }}, 0, 0)",offset:.2}),(0,B.oB)({opacity:0,transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:y,b:l}})}function sa(y,l){return(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({opacity:0,transform:"translate3d({{ a }}, 0, 0)",offset:0}),(0,B.oB)({opacity:1,transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:y,b:l}})}function Na(y,l){return(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({opacity:0,transform:"translate3d(0, {{ a }}, 0)",offset:0}),(0,B.oB)({opacity:1,transform:"translate3d(0, {{ b }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:y,b:l}})}Dn("-3000px","25px","-10px","5px"),Dn("3000px","-25px","10px","-5px"),Gn("-3000px","25px","-10px","5px"),Gn("3000px","-25px","10px","-5px"),(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({transform:"scale3d(.9, .9, .9)",offset:.2}),(0,B.oB)({opacity:1,transform:"scale3d({{ scale }}, {{ scale }}, {{ scale }})",offset:.5}),(0,B.oB)({opacity:1,transform:"scale3d({{ scale }}, {{ scale }}, {{ scale }})",offset:.55}),(0,B.oB)({opacity:0,transform:"scale3d(.3, .3, .3)",offset:1})])),{params:{timing:1,delay:0,scale:1.1}}),Ji("10px","-20px","-20px","2000px"),Ji("-10px","20px","20px","-2000px"),ds("20px","-2000px"),ds("-20px","2000px"),sa(0,0),Na("-100%",0);const ku=Na("100%",0);function aa(y,l){return(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({opacity:1,transform:"translate3d({{ a }}, 0, 0)",offset:0}),(0,B.oB)({opacity:0,transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:y,b:l}})}function ja(y,l){return(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({opacity:1,transform:"translate3d(0, {{ a }}, 0)",offset:0}),(0,B.oB)({opacity:0,transform:"translate3d(0, {{ b }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:y,b:l}})}function zn(y,l){return(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({transform:"translate3d({{ a }}, 0, 0)",offset:0}),(0,B.oB)({transform:"translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:y,b:l}})}function fs(y,l){return(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({transform:"translate3d(0, {{ a }}, 0)",offset:0}),(0,B.oB)({transform:"translate3d(0, {{ b }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:y,b:l}})}function Kr(y,l){return(0,B.oQ)([(0,B.oB)({"backface-visibility":"visible"}),(0,B.jt)("{{ timing }}s {{ delay }}s ease-in",(0,B.F4)([(0,B.oB)({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:0}),(0,B.oB)({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.4}),(0,B.oB)({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 10deg)",offset:.6}),(0,B.oB)({transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -5deg)",offset:.8}),(0,B.oB)({transform:"perspective(400px) rotate3d(0, 0, 0, 0)",offset:1})]))],{params:{timing:1,delay:0,rotateX:y,rotateY:l}})}function za(y,l){return(0,B.oQ)([(0,B.oB)({"backface-visibility":"visible"}),(0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({transform:"perspective(400px)",offset:0}),(0,B.oB)({opacity:1,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, -20deg)",offset:.3}),(0,B.oB)({opacity:0,transform:"perspective(400px) rotate3d({{ rotateX }}, {{ rotateY }}, 0, 90deg)",offset:1})]))],{params:{timing:1,delay:0,rotateX:y,rotateY:l}})}function Ao(y,l){return(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({"transform-origin":"{{ origin }}",opacity:0,transform:"rotate3d(0, 0, 1, {{ degrees }})",offset:0}),(0,B.oB)({"transform-origin":"{{ origin }}",opacity:1,transform:"none",offset:1})])),{params:{timing:1,delay:0,origin:y,degrees:l}})}function rr(y,l){return(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({"transform-origin":"{{ origin }}",opacity:1,transform:"none",offset:0}),(0,B.oB)({"transform-origin":"{{ origin }}",opacity:0,transform:"rotate3d(0, 0, 1, {{ degrees }})",offset:1})])),{params:{timing:1,delay:0,origin:y,degrees:l}})}function Ws(y,l){return(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.550, 0.055, 0.675, 0.190)",(0,B.F4)([(0,B.oB)({opacity:0,transform:"scale3d(.1, .1, .1) translate3d(0, {{ a }}, 0)",offset:0}),(0,B.oB)({opacity:1,transform:"scale3d(.475, .475, .475) translate3d(0, {{ b }}, 0)",offset:.6})])),{params:{timing:1,delay:0,a:y,b:l}})}function Ha(y,l){return(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.550, 0.055, 0.675, 0.190)",(0,B.F4)([(0,B.oB)({opacity:0,transform:"scale3d(.1, .1, .1) translate3d({{ a }}, 0, 0)",offset:0}),(0,B.oB)({opacity:1,transform:"scale3d(.475, .475, .475) translate3d({{ b }}, 0, 0)",offset:.6})])),{params:{timing:1,delay:0,a:y,b:l}})}function Io(y,l){return(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.550, 0.055, 0.675, 0.190)",(0,B.F4)([(0,B.oB)({opacity:1,transform:"scale3d(.475, .475, .475) translate3d(0, {{ a }}, 0)",offset:.4}),(0,B.oB)({opacity:0,transform:"scale3d(.1, .1, .1) translate3d(0, {{ b }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:y,b:l}})}function Mo(y,l){return(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.550, 0.055, 0.675, 0.190)",(0,B.F4)([(0,B.oB)({opacity:1,transform:"scale3d(.475, .475, .475) translate3d({{ a }}, 0, 0)",offset:.4}),(0,B.oB)({opacity:0,transform:"scale3d(.1, .1, .1) translate3d({{ b }}, 0, 0)",offset:1})])),{params:{timing:1,delay:0,a:y,b:l}})}sa("-100%",0),sa("100%",0),aa(0,0),ja("-100%",0),ja("100%",0),aa("-100%",0),aa("100%",0),fs("-100%",0),fs("100%",0),zn("-100%",0),zn("100%",0),fs(0,"-100%"),fs(0,"100%"),zn(0,"-100%"),zn(0,"100%"),(0,B.oQ)([(0,B.oB)({"backface-visibility":"visible"}),(0,B.jt)("{{ timing }}s {{ delay }}s ease-out",(0,B.F4)([(0,B.oB)({transform:"perspective(400px) rotate3d(0, 1, 0, -360deg)",offset:0}),(0,B.oB)({transform:"perspective(400px) scale3d(1.5, 1.5, 1.5) rotate3d(0, 1, 0, -190deg)",offset:.4}),(0,B.oB)({transform:"perspective(400px) scale3d(1.5, 1.5, 1.5) rotate3d(0, 1, 0, -170deg)",offset:.5}),(0,B.oB)({transform:"perspective(400px) scale3d(.95, .95, .95)",offset:.8}),(0,B.oB)({transform:"perspective(400px)",offset:1})]))],{params:{timing:1,delay:0}}),Kr(1,0),Kr(0,1),za(1,0),za(0,1),(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({opacity:0,transform:"translate3d(100%, 0, 0) skewX(-30deg)",offset:0}),(0,B.oB)({opacity:1,transform:"translate3d(0, 0, 0) skewX(0)",offset:1})])),{params:{timing:1,delay:0}}),(0,B.oQ)((0,B.jt)("{{ timing }}s {{ delay }}s ease-out",(0,B.F4)([(0,B.oB)({opacity:1,offset:0}),(0,B.oB)({opacity:0,transform:"translate3d(100%, 0, 0) skewX(30deg)",offset:1})])),{params:{timing:1,delay:0}}),Ao("center","-200deg"),Ao("left bottom","-45deg"),Ao("right bottom","45deg"),Ao("left bottom","45deg"),Ao("right bottom","-90deg"),rr("center","200deg"),rr("left bottom","45deg"),rr("right bottom","-45deg"),rr("left bottom","-45deg"),rr("right bottom","90deg"),(0,B.oQ)([(0,B.oB)({"transform-origin":"top left"}),(0,B.jt)("{{ timing }}s {{ delay }}s ease-in-out",(0,B.F4)([(0,B.oB)({transform:"rotate3d(0, 0, 1, 80deg)",offset:.2}),(0,B.oB)({transform:"rotate3d(0, 0, 1, 60deg)",offset:.4}),(0,B.oB)({transform:"rotate3d(0, 0, 1, 80deg)",offset:.6}),(0,B.oB)({opacity:1,transform:"rotate3d(0, 0, 1, 60deg)",offset:.8}),(0,B.oB)({opacity:0,transform:"translate3d(0, 700px, 0)",offset:1})]))],{params:{timing:1,delay:0}}),(0,B.oQ)([(0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({opacity:0,transform:"scale(0.1) rotate(30deg)","transform-origin":"center bottom",offset:0}),(0,B.oB)({opacity:.5,transform:"rotate(-10deg)",offset:.5}),(0,B.oB)({opacity:.7,transform:"rotate(3deg)",offset:.7}),(0,B.oB)({opacity:1,transform:"scale(1)",offset:1})]))],{params:{timing:1,delay:0}}),(0,B.oQ)([(0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({opacity:0,transform:"translate3d(-100%, 0, 0) rotate3d(0, 0, 1, -120deg)",offset:0}),(0,B.oB)({opacity:1,transform:"none",offset:1})]))],{params:{timing:1,delay:0}}),(0,B.oQ)([(0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({opacity:1,offset:0}),(0,B.oB)({opacity:0,transform:"translate3d(100%, 0, 0) rotate3d(0, 0, 1, 120deg)",offset:1})]))],{params:{timing:1,delay:0}}),(0,B.oQ)([(0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({opacity:0,transform:"scale3d(.3, .3, .3)",offset:0}),(0,B.oB)({opacity:1,transform:"scale3d(1, 1, 1)",offset:.5})]))],{params:{timing:1,delay:0}}),Ws("-1000px","10px"),Ws("1000px","-10px"),Ha("-1000px","10px"),Ha("1000px","-10px"),(0,B.oQ)([(0,B.jt)("{{ timing }}s {{ delay }}s",(0,B.F4)([(0,B.oB)({opacity:1,offset:0}),(0,B.oB)({opacity:0,transform:"scale3d(.3, .3, .3)",offset:.5}),(0,B.oB)({opacity:0,offset:1})]))],{params:{timing:1,delay:0}}),Io("-60px","2000px"),Io("60px","-2000px"),Mo("42px","-2000px"),Mo("-42px","2000px");var Qa=c(4128),Za=c(1884),Hs=c(1623),hs=c(7967),Ro=c(3454),Wu=c(795),Hu=c(9646),xo=c(9750),Ku=c(7158);let Gu=(()=>{class y{constructor(o){this.clock=o,this.clock$=this.clock.everyMinute$,this.version$=(0,Hu.of)("0.0.1")}}return y.\u0275fac=function(o){return new(o||y)(u.\u0275\u0275directiveInject(Wu.d))},y.\u0275cmp=u.\u0275\u0275defineComponent({type:y,selectors:[["cf-system-toolbar"]],decls:14,vars:9,consts:[["cfBlock","system-toolbar"],["cfBlock","system-toolbar-content","cfMod","left"],["cfElem","assistant"],["src","assets/icons/mdi/robot-happy.svg"],["size","xs"],["cfBlock","system-toolbar-content","cfMod","center"],["cfBlock","system-toolbar-content","cfMod","right"],["cfElem","clock"],["cfElem","version"]],template:function(o,g){1&o&&(u.\u0275\u0275elementStart(0,"div",0),u.\u0275\u0275elementStart(1,"div",1),u.\u0275\u0275elementStart(2,"div",2),u.\u0275\u0275element(3,"cf-svg-icon",3),u.\u0275\u0275element(4,"cf-command-bar",4),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(5,"div",5),u.\u0275\u0275elementStart(6,"div",6),u.\u0275\u0275elementStart(7,"div",7),u.\u0275\u0275text(8),u.\u0275\u0275pipe(9,"date"),u.\u0275\u0275pipe(10,"async"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(11,"div",8),u.\u0275\u0275text(12),u.\u0275\u0275pipe(13,"async"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()),2&o&&(u.\u0275\u0275advance(8),u.\u0275\u0275textInterpolate1(" ",u.\u0275\u0275pipeBind2(9,2,u.\u0275\u0275pipeBind1(10,5,g.clock$),"LLL d, yyyy, HH:mm")," "),u.\u0275\u0275advance(4),u.\u0275\u0275textInterpolate1("v",u.\u0275\u0275pipeBind1(13,7,g.version$),""))},directives:[Hs.G,hs.I,Ro.e,xo.b,Ku.H],pipes:[Hn.DatePipe,Hn.AsyncPipe],styles:[".system-toolbar[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:999;display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:.5rem;background:rgba(0,0,0,.5);color:#fff}.system-toolbar[_ngcontent-%COMP%]   .system-toolbar-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;grid-gap:.25rem;gap:.25rem}.system-toolbar[_ngcontent-%COMP%]   .system-toolbar-content__assistant[_ngcontent-%COMP%]{display:flex;grid-gap:.5rem;gap:.5rem}"]}),y})();var yc=c(5183),Qu=c(6111),_c=c(405),Ya=c(1236),Ja=c(5605);let Zu=(()=>{class y{constructor(){this.title="CF Portal",this.titleClick=new u.EventEmitter}onTitleClick(){this.titleClick.emit()}}return y.\u0275fac=function(o){return new(o||y)},y.\u0275cmp=u.\u0275\u0275defineComponent({type:y,selectors:[["cf-navbar"]],inputs:{environment:"environment",title:"title"},outputs:{titleClick:"titleClick"},decls:24,vars:10,consts:[["cfBlock","navbar"],["cfBlock","navbar-section","cfMod","left"],["cfElem","title",3,"click"],["cfElem","icon","src","assets/logo.svg",3,"svgClass"],["cfElem","text"],["cfBlock","navbar-section","cfMod","right"],["cfBlock","list","cfMod","horizontal"],["cfElem","item"],["src","assets/icons/mdi/web.svg","cfElem","icon",3,"svgClass"],["cfElem","link",3,"href"],["src","assets/icons/mdi/text-box-search-outline.svg","cfElem","icon",3,"svgClass"],["src","assets/icons/mdi/post-outline.svg","cfElem","icon",3,"svgClass"],["src","assets/icons/mdi/code-tags.svg","cfElem","icon",3,"svgClass"]],template:function(o,g){1&o&&(u.\u0275\u0275elementStart(0,"div",0),u.\u0275\u0275elementStart(1,"div",1),u.\u0275\u0275elementStart(2,"h1",2),u.\u0275\u0275listener("click",function(){return g.onTitleClick()}),u.\u0275\u0275element(3,"cf-svg-icon",3),u.\u0275\u0275elementStart(4,"span",4),u.\u0275\u0275text(5),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(6,"div",5),u.\u0275\u0275elementStart(7,"ul",6),u.\u0275\u0275elementStart(8,"li",7),u.\u0275\u0275element(9,"cf-svg-icon",8),u.\u0275\u0275elementStart(10,"a",9),u.\u0275\u0275text(11,"Website"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(12,"li",7),u.\u0275\u0275element(13,"cf-svg-icon",10),u.\u0275\u0275elementStart(14,"a",9),u.\u0275\u0275text(15,"Documentation"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(16,"li",7),u.\u0275\u0275element(17,"cf-svg-icon",11),u.\u0275\u0275elementStart(18,"a",9),u.\u0275\u0275text(19,"Blog"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(20,"li",7),u.\u0275\u0275element(21,"cf-svg-icon",12),u.\u0275\u0275elementStart(22,"a",9),u.\u0275\u0275text(23," Developers "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()),2&o&&(u.\u0275\u0275advance(3),u.\u0275\u0275property("svgClass","icon__svg"),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(g.title),u.\u0275\u0275advance(4),u.\u0275\u0275property("svgClass","icon__svg"),u.\u0275\u0275advance(1),u.\u0275\u0275property("href",null==g.environment?null:g.environment.webUrl,u.\u0275\u0275sanitizeUrl),u.\u0275\u0275advance(3),u.\u0275\u0275property("svgClass","icon__svg"),u.\u0275\u0275advance(1),u.\u0275\u0275property("href",null==g.environment?null:g.environment.documentationUrl,u.\u0275\u0275sanitizeUrl),u.\u0275\u0275advance(3),u.\u0275\u0275property("svgClass","icon__svg"),u.\u0275\u0275advance(1),u.\u0275\u0275property("href",null==g.environment?null:g.environment.blogUrl,u.\u0275\u0275sanitizeUrl),u.\u0275\u0275advance(3),u.\u0275\u0275property("svgClass","icon__svg"),u.\u0275\u0275advance(1),u.\u0275\u0275property("href",null==g.environment?null:g.environment.developersUrl,u.\u0275\u0275sanitizeUrl))},directives:[Hs.G,hs.I,Ro.e,xo.b],encapsulation:2}),y})();function Xa(y,l){1&y&&u.\u0275\u0275element(0,"cf-system-toolbar")}const Yu=function(y){return{"button--active":y}};function Ju(y,l){if(1&y){const o=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementContainerStart(0),u.\u0275\u0275elementStart(1,"a",19),u.\u0275\u0275listener("click",function(){const Y=u.\u0275\u0275restoreView(o).$implicit;return u.\u0275\u0275nextContext(3).onSidebarItemClick(Y)}),u.\u0275\u0275elementStart(2,"div",9),u.\u0275\u0275elementStart(3,"span",10),u.\u0275\u0275text(4),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(5,"button",20),u.\u0275\u0275element(6,"cf-svg-icon",21),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementContainerEnd()}if(2&y){const o=l.$implicit;u.\u0275\u0275advance(4),u.\u0275\u0275textInterpolate(o.name),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngClass",u.\u0275\u0275pureFunction1(4,Yu,o.active)),u.\u0275\u0275advance(1),u.\u0275\u0275property("src",o.icon)("svgClass","icon__svg")}}const bc=function(y){return{"background-color":y,"margin-top":"15px"}};function Xu(y,l){if(1&y){const o=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"div",22),u.\u0275\u0275elementStart(1,"div",22),u.\u0275\u0275elementStart(2,"div",9),u.\u0275\u0275elementStart(3,"span",10),u.\u0275\u0275text(4),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(5,"button",23),u.\u0275\u0275listener("click",function(){const Y=u.\u0275\u0275restoreView(o).$implicit;return u.\u0275\u0275nextContext(3).onRecentlyOpenedItemClick(Y)}),u.\u0275\u0275element(6,"cf-svg-icon",21),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()}if(2&y){const o=l.$implicit;u.\u0275\u0275advance(4),u.\u0275\u0275textInterpolate(o.name),u.\u0275\u0275advance(1),u.\u0275\u0275property("cdkDragData",o.application)("ngClass",u.\u0275\u0275pureFunction1(6,Yu,o.active))("ngStyle",u.\u0275\u0275pureFunction1(8,bc,o.color)),u.\u0275\u0275advance(1),u.\u0275\u0275property("src",o.icon)("svgClass","icon__svg")}}const Ec=function(){return[]};function Sc(y,l){if(1&y){const o=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"div",24),u.\u0275\u0275elementStart(1,"cf-splash-screen",25),u.\u0275\u0275listener("splashScreenHide",function(){return u.\u0275\u0275restoreView(o),u.\u0275\u0275nextContext(3).showSplashScreen=!1}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()}if(2&y){const o=u.\u0275\u0275nextContext(3);u.\u0275\u0275advance(1),u.\u0275\u0275propertyInterpolate1("welcomeMessage","Welcome to ",null==o.openedSidebarItem?null:o.openedSidebarItem.name,""),u.\u0275\u0275property("mods","in-scene")("displayLoadingTime",2e3)("displayWelcomeTime",1e3)("title",(null==o.openedSidebarItem?null:o.openedSidebarItem.name)||"")("logo",(null==o.openedSidebarItem?null:o.openedSidebarItem.icon)||"")("backgroundColor",(null==o.openedSidebarItem?null:o.openedSidebarItem.color)||"")("loadingTexts",(null==o.openedSidebarItem||null==o.openedSidebarItem.application||null==o.openedSidebarItem.application.description?null:o.openedSidebarItem.application.description.split("."))||u.\u0275\u0275pureFunction0(8,Ec))}}const Cc=function(){return["/select-avatar"]},wc=function(){return["applications-carousel"]},qu=function(y){return{"padding-left":y}},Dc=function(y){return{"scene__content--splash-screen":y}};function qa(y,l){if(1&y){const o=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"cf-sidebar-container"),u.\u0275\u0275elementStart(1,"cf-sidebar",6),u.\u0275\u0275listener("openedChange",function(j){return u.\u0275\u0275restoreView(o),u.\u0275\u0275nextContext(2).sidebarIsOpen=j}),u.\u0275\u0275elementStart(2,"div",7),u.\u0275\u0275elementStart(3,"a",8),u.\u0275\u0275listener("click",function(){return u.\u0275\u0275restoreView(o),u.\u0275\u0275nextContext(2).onSidebarItemClick({name:"Select Avatar",routerLink:["/select-avatar"],icon:"assets/icons/mdi/account-switch.svg",application:{id:"com.central-factory.avatars",name:"User Avatars",description:"Select an avatar",startUrl:"/select-avatar"},active:!1})}),u.\u0275\u0275elementStart(4,"div",9),u.\u0275\u0275elementStart(5,"span",10),u.\u0275\u0275text(6,"Account"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(7,"cf-avatar-appearance-portrait",11),u.\u0275\u0275elementEnd(),u.\u0275\u0275template(8,Ju,7,6,"ng-container",12),u.\u0275\u0275elementStart(9,"div",13),u.\u0275\u0275template(10,Xu,7,10,"div",14),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(11,"router-outlet",15),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(12,"div",16),u.\u0275\u0275elementStart(13,"div",17),u.\u0275\u0275template(14,Sc,2,9,"div",18),u.\u0275\u0275element(15,"router-outlet"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()}if(2&y){const o=u.\u0275\u0275nextContext().ngIf,g=u.\u0275\u0275nextContext();u.\u0275\u0275advance(1),u.\u0275\u0275property("opened",g.sidebarIsOpen)("dock",g.dockedSidebar)("dockedSize","100px")("showBackdrop",!0)("closeOnClickBackdrop",!0)("closeOnClickOutside",!0),u.\u0275\u0275advance(2),u.\u0275\u0275property("routerLink",u.\u0275\u0275pureFunction0(16,Cc)),u.\u0275\u0275advance(4),u.\u0275\u0275property("appearancePortrait",null==o.selectedAvatar.selectedAppearance?null:o.selectedAvatar.selectedAppearance.portrait),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngForOf",g.sidebarItems),u.\u0275\u0275advance(1),u.\u0275\u0275property("cdkDropListData",g.recentlyOpenedSidebarItems)("cdkDropListConnectedTo",u.\u0275\u0275pureFunction0(17,wc)),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngForOf",g.recentlyOpenedSidebarItems),u.\u0275\u0275advance(3),u.\u0275\u0275property("ngStyle",u.\u0275\u0275pureFunction1(18,qu,g.dockedSidebar?"0":"1rem"))("ngClass",u.\u0275\u0275pureFunction1(20,Dc,g.showSplashScreen))("@sceneContentAnimationState",g.sceneContentAnimationState),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",g.showSplashScreen)}}function ua(y,l){if(1&y&&(u.\u0275\u0275elementStart(0,"div",26),u.\u0275\u0275elementStart(1,"div",27),u.\u0275\u0275element(2,"router-outlet"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()),2&y){const o=u.\u0275\u0275nextContext(2);u.\u0275\u0275advance(1),u.\u0275\u0275property("ngStyle",u.\u0275\u0275pureFunction1(1,qu,o.dockedSidebar?"0":"1rem"))}}function Ac(y,l){if(1&y){const o=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"cf-navbar",28),u.\u0275\u0275listener("titleClick",function(){u.\u0275\u0275restoreView(o);const j=u.\u0275\u0275nextContext(2);return j.sidebarIsOpen=!j.sidebarIsOpen}),u.\u0275\u0275elementEnd()}if(2&y){const o=u.\u0275\u0275nextContext(2);u.\u0275\u0275property("title",o.title)}}const la=function(y){return{"no-navbar":y}};function Oc(y,l){if(1&y&&(u.\u0275\u0275elementContainerStart(0),u.\u0275\u0275template(1,Xa,1,0,"cf-system-toolbar",0),u.\u0275\u0275elementStart(2,"div",1),u.\u0275\u0275elementStart(3,"div",2),u.\u0275\u0275template(4,qa,16,22,"cf-sidebar-container",3),u.\u0275\u0275template(5,ua,3,3,"ng-template",null,4,u.\u0275\u0275templateRefExtractor),u.\u0275\u0275elementEnd(),u.\u0275\u0275template(7,Ac,1,1,"cf-navbar",5),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementContainerEnd()),2&y){const o=l.ngIf,g=u.\u0275\u0275reference(6),j=u.\u0275\u0275nextContext();u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",o.selectedAvatar),u.\u0275\u0275advance(2),u.\u0275\u0275property("cfMod",u.\u0275\u0275pureFunction1(5,la,!j.showNavbar)),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",o.selectedAvatar)("ngIfElse",g),u.\u0275\u0275advance(3),u.\u0275\u0275property("ngIf",j.showNavbar)}}const Pc=function(y){return{selectedAvatar:y}};var fr=(()=>{return(y=fr||(fr={})).Idle="Idle",y.Opened="Opened",y.Animated="Animated",fr;var y})();const ca=[{path:"",component:(()=>{class y{constructor(o,g,j,Y,le,he,Se){this.router=o,this.entityManager=g,this.selectedAvatarState=j,this.selectedApplicationState=Y,this.recentlyOpenedApplicationsState=le,this.customizationSettingsState=he,this.breakpointObserver=Se,this.title="Metaverse Portal",this.sidebarIsOpen=!1,this.sidebarItems=[],this.recentlyOpenedSidebarItems=[],this.dockedSidebar=!0,this.showSplashScreen=!1,this.showNavbar=!1,this.sceneContentAnimationState=fr.Idle,this.selectedAvatar$=this.selectedAvatarState.avatar$,this.recentlyOpenedApplications$=this.recentlyOpenedApplicationsState.applications$.pipe((0,x.U)(Le=>Le.reverse()),(0,x.U)(Le=>this.generateSidebarItems(Le))),this.destroy$=new L.x}ngOnInit(){this.breakpointObserver.observe(["(min-width: 600px)"]).subscribe(o=>{this.dockedSidebar=!!o.matches}),this.customizationSettingsState.customizationSettings$.pipe((0,x.U)(o=>o?.theme),(0,w.h)(o=>void 0!==o),(0,Za.x)((o,g)=>o?.path===g?.path),O(1),(0,di.b)(o=>{this.sceneContentAnimationState=fr.Idle,setTimeout(()=>this.sceneContentAnimationState=fr.Animated,100)}),(0,S.R)(this.destroy$)).subscribe(),this.recentlyOpenedApplications$.pipe((0,S.R)(this.destroy$),(0,di.b)(o=>this.recentlyOpenedSidebarItems=o)).subscribe(),this.router.events.pipe((0,w.h)(o=>o instanceof nr.NavigationEnd),(0,S.R)(this.destroy$)).subscribe(()=>{this.setSidebarItemsActive(this.sidebarItems)}),this.entityManager.initialize$.pipe((0,Co.w)(()=>(0,Qa.D)([this.entityManager.getRepository("userapplications","com.central-factory.portal")])),(0,di.b)(([o])=>this.subscribeToDataChanges(o))).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onRecentlyOpenedItemClick(o){this.sceneContentAnimationState=fr.Idle,setTimeout(()=>{this.sceneContentAnimationState=fr.Opened,o.application&&(this.selectedApplicationState.selectApplication(o.application),this.selectedApplicationState.openSidebar())},100)}onSidebarItemClick(o){this.sceneContentAnimationState=fr.Idle,setTimeout(()=>{this.sceneContentAnimationState=fr.Opened,this.showSplashScreen=!0,this.openedSidebarItem=o,o.routerLink&&this.router.navigate(o.routerLink)},100)}subscribeToDataChanges(o){o.find({selector:{"additionalProperties.sidebarShortcuts":{$exists:!0}}}).pipe((0,di.b)(g=>{this.sidebarItems=this.generateSidebarItems(g)}),(0,S.R)(this.destroy$)).subscribe()}generateSidebarItems(o){const g=o.filter(j=>!0!==j.additionalProperties?.disabled).sort((j,Y)=>j.createdAt.localeCompare(Y.createdAt)).reduce((j,Y)=>{const Se=Y.shortcuts||[],Je=(Y.additionalProperties?.sidebarShortcuts||[]).map(nt=>Se.find(bt=>bt.name===nt)).filter(nt=>!!nt).map(nt=>({name:nt.name,routerLink:[nt.url],icon:nt.icons&&nt.icons.length>0?nt.icons[0].src:"",color:Y.additionalProperties?.colors?.find(bt=>"primary"===bt.variation)?.color||(!0===Y.additionalProperties?.internal?"var(--color-base-primary-medium)":void 0),active:!1,application:Y}));return j.concat(Je)},[]);return this.setSidebarItemsActive(g),g}setSidebarItemsActive(o){o.forEach(g=>{g.active=this.router.url.startsWith(g.routerLink.join("/"))})}}return y.\u0275fac=function(o){return new(o||y)(u.\u0275\u0275directiveInject(nr.Router),u.\u0275\u0275directiveInject(bn.v2),u.\u0275\u0275directiveInject(ra.Y),u.\u0275\u0275directiveInject(Us.H),u.\u0275\u0275directiveInject(na.r),u.\u0275\u0275directiveInject(us.T),u.\u0275\u0275directiveInject(H))},y.\u0275cmp=u.\u0275\u0275defineComponent({type:y,selectors:[["cf-portal-layout"]],decls:2,vars:5,consts:[[4,"ngIf"],["cfBlock","scene","cfMod","layout"],["cfElem","body",3,"cfMod"],[4,"ngIf","ngIfElse"],["notSelectedAvatarLayout",""],["cfElem","navbar",3,"title","titleClick",4,"ngIf"],[3,"opened","dock","dockedSize","showBackdrop","closeOnClickBackdrop","closeOnClickOutside","openedChange"],[2,"margin-top","3rem"],["cfBlock","sidebar-item",1,"d-block",3,"routerLink","click"],["cfElem","text"],["cfElem","text-content"],[3,"appearancePortrait"],[4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListSortingDisabled","",3,"cdkDropListData","cdkDropListConnectedTo"],["class","d-block","cfBlock","sidebar-item",4,"ngFor","ngForOf"],["name","sidebar"],["cf-sidebar-content",""],[1,"scene__content",3,"ngStyle","ngClass"],["cfBlock","scene-content","cfMod","splash-screen",4,"ngIf"],["cfBlock","sidebar-item",1,"d-block",3,"click"],["cfBlock","button","cfMod","fab",2,"margin-top","15px",3,"ngClass"],["cfElem","icon",3,"src","svgClass"],["cfBlock","sidebar-item",1,"d-block"],["cdkDrag","","cfBlock","button","cfMod","fab",3,"cdkDragData","ngClass","ngStyle","click"],["cfBlock","scene-content","cfMod","splash-screen"],[3,"mods","displayLoadingTime","displayWelcomeTime","title","logo","backgroundColor","welcomeMessage","loadingTexts","splashScreenHide"],[1,"scene__container"],[1,"scene__content",3,"ngStyle"],["cfElem","navbar",3,"title","titleClick"]],template:function(o,g){1&o&&(u.\u0275\u0275template(0,Oc,8,7,"ng-container",0),u.\u0275\u0275pipe(1,"async")),2&o&&u.\u0275\u0275property("ngIf",u.\u0275\u0275pureFunction1(3,Pc,u.\u0275\u0275pipeBind1(1,1,g.selectedAvatar$)))},directives:[Hn.NgIf,Hs.G,hs.I,Ro.e,Gu,yc.L,Qu.k,nr.RouterLinkWithHref,_c.P,Hn.NgForOf,Ya.Wj,nr.RouterOutlet,Hn.NgStyle,Hn.NgClass,xo.b,Ya.Zt,Ja.wn,Zu],pipes:[Hn.AsyncPipe],encapsulation:2,data:{animation:[(0,B.X$)("sceneContentAnimationState",[(0,B.eR)(`${fr.Idle} => ${fr.Animated}`,(0,B._7)(Mt)),(0,B.eR)(`${fr.Idle} => ${fr.Opened}`,(0,B._7)(ku,{params:{timing:.5}}))])]}}),y})(),children:[{path:"login",loadChildren:()=>c.e(12).then(c.bind(c,12)).then(y=>y.LoginModule),canActivate:[js]},{path:"select-avatar",loadChildren:()=>c.e(700).then(c.bind(c,8700)).then(y=>y.SelectAvatarModule),canActivate:[Hr]},{path:"create-avatar",loadChildren:()=>c.e(827).then(c.bind(c,3827)).then(y=>y.CreateAvatarModule),canActivate:[Hr]},{path:"selected-avatar",loadChildren:()=>c.e(959).then(c.bind(c,1959)).then(y=>y.SelectedAvatarModule),canActivate:[Hr,Tr]},{path:"start",loadChildren:()=>c.e(45).then(c.bind(c,9045)).then(y=>y.StartModule),canActivate:[Hr,Tr]},{path:"portals",loadChildren:()=>c.e(350).then(c.bind(c,7350)).then(y=>y.PortalsModule),canActivate:[Hr,Tr]},{path:"manage-applications",loadChildren:()=>c.e(835).then(c.bind(c,9835)).then(y=>y.ManageApplicationsModule),canActivate:[Hr,Tr]},{path:"inventory",loadChildren:()=>c.e(740).then(c.bind(c,2740)).then(y=>y.InventoryModule),canActivate:[Hr,Tr]},{path:"marketplace",loadChildren:()=>c.e(483).then(c.bind(c,6483)).then(y=>y.MarketplaceModule),canActivate:[Hr,Tr]},{path:"settings",loadChildren:()=>c.e(672).then(c.bind(c,6672)).then(y=>y.SettingsModule),canActivate:[Hr,Tr]},{path:"",redirectTo:"start",pathMatch:"full"}]}];let eu=(()=>{class y{}return y.\u0275fac=function(o){return new(o||y)},y.\u0275mod=u.\u0275\u0275defineNgModule({type:y}),y.\u0275inj=u.\u0275\u0275defineInjector({imports:[[nr.RouterModule.forRoot(ca)],nr.RouterModule]}),y})();var tl=c(4968);const Fo=y=>"touchend"===y.type||"touchcancel"===y.type?y.changedTouches[0]:y.type.startsWith("touch")?y.targetTouches[0]:y,nl=y=>"touchstart"===y.type||"mousedown"===y.type&&0===y.button;let tu=(()=>{class y{constructor(o){this.resizeBegin=new u.EventEmitter,this.resizing=new u.EventEmitter,this.resizeEnd=new u.EventEmitter,this.element=o.nativeElement}ngAfterViewInit(){this.south&&this.createHandle("resize-handle-s"),this.east&&this.createHandle("resize-handle-e"),this.southEast&&this.createHandle("resize-handle-se");const o=window.getComputedStyle(this.element);this.minWidth=parseFloat(o.minWidth),this.maxWidth=parseFloat(o.maxWidth),this.minHeight=parseFloat(o.minHeight),this.maxHeight=parseFloat(o.maxHeight)}ngOnDestroy(){this.destroySubscription()}onMousedown(o){if(!nl(o))return;const g=o.target.classList,j=g.contains("resize-handle-s"),Y=g.contains("resize-handle-e"),le=g.contains("resize-handle-se"),he=Fo(o),Se=this.element.clientWidth,Le=this.element.clientHeight,Je=he.screenX,nt=he.screenY,bt=o.type.startsWith("touch"),Ut=bt?"touchmove":"mousemove",vt=bt?"touchend":"mouseup";if(j||Y||le){this.initResize(o,j,Y,le);const St=(0,tl.R)(document,vt);this.subscription=St.subscribe(on=>this.onMouseup(on));const zt=(0,tl.R)(document,Ut).pipe((0,S.R)(St)).subscribe(on=>this.move(on,Se,Le,Je,nt));this.subscription.add(zt)}}move(o,g,j,Y,le){const he=Fo(o),Le=he.screenY-le;this.newWidth=g+(he.screenX-Y),this.newHeight=j+Le,this.resizeWidth(he),this.resizeHeight(he)}onMouseup(o){this.endResize(o),this.destroySubscription()}destroySubscription(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)}createHandle(o){const g=document.createElement("span");g.className=o,this.element.appendChild(g)}initResize(o,g,j,Y){g&&(this.resizingS=!0),j&&(this.resizingE=!0),Y&&(this.resizingSE=!0),this.element.classList.add("resizing"),this.newWidth=this.element.clientWidth,this.newHeight=this.element.clientHeight,o.stopPropagation(),this.resizeBegin.emit()}endResize(o){this.resizingS=!1,this.resizingE=!1,this.resizingSE=!1,this.element.classList.remove("resizing"),this.resizeEnd.emit({event:Fo(o),width:this.newWidth,height:this.newHeight})}resizeWidth(o){(this.resizingSE||this.resizingE)&&(!this.minWidth||this.newWidth>=this.minWidth)&&(!this.maxWidth||this.newWidth<=this.maxWidth)&&(this.ghost||(this.element.style.width=`${this.newWidth}px`),this.resizing.emit({event:o,width:this.newWidth,height:this.newHeight,direction:"horizontal"}))}resizeHeight(o){(this.resizingSE||this.resizingS)&&(!this.minHeight||this.newHeight>=this.minHeight)&&(!this.maxHeight||this.newHeight<=this.maxHeight)&&(this.ghost||(this.element.style.height=`${this.newHeight}px`),this.resizing.emit({event:o,width:this.newWidth,height:this.newHeight,direction:"vertical"}))}}return y.\u0275fac=function(o){return new(o||y)(u.\u0275\u0275directiveInject(u.ElementRef))},y.\u0275dir=u.\u0275\u0275defineDirective({type:y,selectors:[["","cfResizable",""]],hostBindings:function(o,g){1&o&&u.\u0275\u0275listener("mousedown",function(Y){return g.onMousedown(Y)})("touchstart",function(Y){return g.onMousedown(Y)})},inputs:{south:"south",east:"east",southEast:"southEast",ghost:"ghost"},outputs:{resizeBegin:"resizeBegin",resizing:"resizing",resizeEnd:"resizeEnd"}}),y})(),Ic=(()=>{class y{constructor(o,g){this.element=o,this.ngZone=g,this.dragX=!0,this.dragY=!0,this.dragStart=new u.EventEmitter,this.dragMove=new u.EventEmitter,this.dragEnd=new u.EventEmitter,this.isDragging=!1,this.globalListeners=new Map}ngOnChanges(o){o.dragEventTarget&&o.dragEventTarget.currentValue&&this.onMousedown(this.dragEventTarget)}ngOnDestroy(){this.removeEventListener()}onMousedown(o){if(nl(o)&&(this.dragX||this.dragY)){const g=Fo(o);this.initDrag(g.pageX,g.pageY),this.addEventListeners(o),this.dragStart.emit(o)}}onMousemove(o){const g=Fo(o);this.onDrag(g.pageX,g.pageY),this.dragMove.emit(o)}onMouseup(o){this.endDrag(),this.removeEventListener(),this.dragEnd.emit(o)}addEventListeners(o){const g=o.type.startsWith("touch"),Y=g?"touchend":"mouseup";this.globalListeners.set(g?"touchmove":"mousemove",{handler:le=>this.onMousemove(le),options:!1}).set(Y,{handler:le=>this.onMouseup(le),options:!1}),this.ngZone.runOutsideAngular(()=>{this.globalListeners.forEach((le,he)=>{window.document.addEventListener(he,le.handler,le.options)})})}removeEventListener(){this.globalListeners.forEach((o,g)=>{window.document.removeEventListener(g,o.handler,o.options)})}initDrag(o,g){this.isDragging=!0,this.lastPageX=o,this.lastPageY=g,this.element.nativeElement.classList.add("dragging")}onDrag(o,g){if(this.isDragging){const j=o-this.lastPageX,Y=g-this.lastPageY,le=this.element.nativeElement.getBoundingClientRect();this.element.nativeElement.style.left=le.left+j+"px",this.element.nativeElement.style.top=le.top+Y+"px",this.lastPageX=o,this.lastPageY=g}}endDrag(){this.isDragging=!1,this.element.nativeElement.classList.remove("dragging")}}return y.\u0275fac=function(o){return new(o||y)(u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(u.NgZone))},y.\u0275dir=u.\u0275\u0275defineDirective({type:y,selectors:[["","cfDraggable",""]],inputs:{dragEventTarget:"dragEventTarget",dragX:"dragX",dragY:"dragY"},outputs:{dragStart:"dragStart",dragMove:"dragMove",dragEnd:"dragEnd"},features:[u.\u0275\u0275NgOnChangesFeature]}),y})();const Mc=["modalRoot"],Rc=["modalBody"],xc=["modalHeader"],Fc=["modalFooter"],kc=["closeIcon"],Lc=function(){return["light","small","has-icon","only-icon","rounded"]};function Bc(y,l){if(1&y){const o=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"button",6),u.\u0275\u0275listener("click",function(j){return u.\u0275\u0275restoreView(o),u.\u0275\u0275nextContext().toggleMaximize(j)}),u.\u0275\u0275element(1,"cf-svg-icon",15),u.\u0275\u0275elementEnd()}if(2&y){const o=u.\u0275\u0275nextContext();u.\u0275\u0275property("cfMod",u.\u0275\u0275pureFunction0(2,Lc)),u.\u0275\u0275advance(1),u.\u0275\u0275property("src",o.maximized?"assets/icons/mdi/window-restore.svg":"assets/icons/mdi/window-maximize.svg")}}const Nc=[[["",8,"window-header__content"]],[["",8,"window-body__content"]],[["",8,"window-footer__content"]]],fa=function(y){return{maximized:y}},nu=function(){return["danger","small","has-icon","only-icon","rounded"]},ru=[".window-header__content",".window-body__content",".window-footer__content"];let iu=(()=>{class y{constructor(o){this.element=o,this.scrollTopEnable=!0,this.maximizable=!1,this.backdrop=!0,this.openModal=new u.EventEmitter,this.closeModal=new u.EventEmitter,this.resizeModal=new u.EventEmitter,this.maximizeModal=new u.EventEmitter}ngAfterViewChecked(){this.executePostDisplayActions&&(this.center(),this.executePostDisplayActions=!1)}onKeyDown(o){o.preventDefault(),o.stopPropagation(),this.hide()}onWindowResize(){this.executePostDisplayActions=!0,this.center()}show(){this.executePostDisplayActions=!0,this.visible=!0,setTimeout(()=>{this.modalRoot.nativeElement.focus(),this.scrollTopEnable&&(this.modalBody.nativeElement.scrollTop=0),this.openModal.emit(!0)},1)}hide(){this.visible=!1,this.closeModal.emit(!0),this.focusLastModal()}center(){let o=this.modalRoot.nativeElement.offsetWidth,g=this.modalRoot.nativeElement.offsetHeight;0===o&&0===g&&(this.modalRoot.nativeElement.style.visibility="hidden",this.modalRoot.nativeElement.style.display="block",o=this.modalRoot.nativeElement.offsetWidth,g=this.modalRoot.nativeElement.offsetHeight,this.modalRoot.nativeElement.style.display="none",this.modalRoot.nativeElement.style.visibility="visible");const j=Math.max((window.innerWidth-o)/2,0),Y=Math.max((window.innerHeight-g)/2,0);this.modalRoot.nativeElement.style.left=j+"px",this.modalRoot.nativeElement.style.top=Y+"px"}initDrag(o){o.target!==this.closeIcon.nativeElement&&(this.maximized||(this.dragEventTarget=o))}onResize(o){"vertical"===o.direction&&this.calcBodyHeight(),this.resizeModal.emit(o)}calcBodyHeight(){this.modalBody.nativeElement.style.height=this.modalRoot.nativeElement.offsetHeight-(this.modalHeader.nativeElement.offsetHeight+this.modalFooter.nativeElement.offsetHeight)+"px",this.modalBody.nativeElement.style.maxHeight="none"}getMaxModalIndex(){return((y="body *")=>Array.from(document.querySelectorAll(y)).map(l=>parseFloat(window.getComputedStyle(l).zIndex)).filter(l=>!isNaN(l)).sort((l,o)=>l-o).pop()||0)(".ui-modal")}focusLastModal(){const o=((y,l)=>{if("function"==typeof y.closest)return y.closest(l)||null;for(;y;){if(y.matches(l))return y;y=y.parentElement}return null})(this.element.nativeElement.parentElement,".window-modal");o&&o.focus()}toggleMaximize(o){this.maximized?this.revertMaximize():this.maximize(),this.maximizeModal.emit(this.maximized),o.preventDefault()}maximize(){this.preMaximizePageX=parseFloat(this.modalRoot.nativeElement.style.top),this.preMaximizePageY=parseFloat(this.modalRoot.nativeElement.style.left),this.preMaximizeRootWidth=this.modalRoot.nativeElement.offsetWidth,this.preMaximizeRootHeight=this.modalRoot.nativeElement.offsetHeight,this.preMaximizeBodyHeight=this.modalBody.nativeElement.offsetHeight,this.modalRoot.nativeElement.style.top="0px",this.modalRoot.nativeElement.style.left="0px",this.modalRoot.nativeElement.style.width="100vw",this.modalRoot.nativeElement.style.height="100vh",this.modalBody.nativeElement.style.height="calc(100vh - "+(this.modalHeader.nativeElement.offsetHeight+this.modalFooter.nativeElement.offsetHeight)+"px)",this.modalBody.nativeElement.style.maxHeight="none",this.maximized=!0}revertMaximize(){this.modalRoot.nativeElement.style.top=this.preMaximizePageX+"px",this.modalRoot.nativeElement.style.left=this.preMaximizePageY+"px",this.modalRoot.nativeElement.style.width=this.preMaximizeRootWidth+"px",this.modalRoot.nativeElement.style.height=this.preMaximizeRootHeight+"px",this.modalBody.nativeElement.style.height=this.preMaximizeBodyHeight+"px",this.maximized=!1}moveOnTop(){if(!this.backdrop){const o=this.getMaxModalIndex();let g=parseFloat(window.getComputedStyle(this.modalRoot.nativeElement).zIndex)||0;g<=o&&(g=o+1,this.modalRoot.nativeElement.style.zIndex=g.toString())}}}return y.\u0275fac=function(o){return new(o||y)(u.\u0275\u0275directiveInject(u.ElementRef))},y.\u0275cmp=u.\u0275\u0275defineComponent({type:y,selectors:[["cf-window"]],viewQuery:function(o,g){if(1&o&&(u.\u0275\u0275viewQuery(Mc,5),u.\u0275\u0275viewQuery(Rc,5),u.\u0275\u0275viewQuery(xc,5),u.\u0275\u0275viewQuery(Fc,5),u.\u0275\u0275viewQuery(kc,5)),2&o){let j;u.\u0275\u0275queryRefresh(j=u.\u0275\u0275loadQuery())&&(g.modalRoot=j.first),u.\u0275\u0275queryRefresh(j=u.\u0275\u0275loadQuery())&&(g.modalBody=j.first),u.\u0275\u0275queryRefresh(j=u.\u0275\u0275loadQuery())&&(g.modalHeader=j.first),u.\u0275\u0275queryRefresh(j=u.\u0275\u0275loadQuery())&&(g.modalFooter=j.first),u.\u0275\u0275queryRefresh(j=u.\u0275\u0275loadQuery())&&(g.closeIcon=j.first)}},hostBindings:function(o,g){1&o&&u.\u0275\u0275listener("keydown.esc",function(Y){return g.onKeyDown(Y)})("resize",function(){return g.onWindowResize()},!1,u.\u0275\u0275resolveWindow)},inputs:{scrollTopEnable:"scrollTopEnable",maximizable:"maximizable",backdrop:"backdrop"},outputs:{openModal:"openModal",closeModal:"closeModal",resizeModal:"resizeModal",maximizeModal:"maximizeModal"},ngContentSelectors:ru,decls:18,vars:14,consts:[["cfBlock","window-overlay"],["cfBlock","window","tabindex","-1","role","dialog","cfResizable","","cfDraggable","",3,"cfMod","south","east","southEast","dragEventTarget","resizing","mousedown","touchstart"],["modalRoot",""],["cfBlock","window-header",3,"mousedown","touchstart"],["modalHeader",""],["cfElem","controls"],["cfBlock","button",3,"cfMod","click"],["closeIcon",""],["src","assets/icons/mdi/close.svg","cfElem","icon"],["cfBlock","button",3,"cfMod","click",4,"ngIf"],["cfElem","title"],["cfBlock","window-body"],["modalBody",""],["cfBlock","window-footer"],["modalFooter",""],["cfElem","icon",3,"src"]],template:function(o,g){1&o&&(u.\u0275\u0275projectionDef(Nc),u.\u0275\u0275element(0,"div",0),u.\u0275\u0275elementStart(1,"div",1,2),u.\u0275\u0275listener("resizing",function(Y){return g.onResize(Y)})("mousedown",function(){return g.moveOnTop()})("touchstart",function(){return g.moveOnTop()}),u.\u0275\u0275elementStart(3,"div",3,4),u.\u0275\u0275listener("mousedown",function(Y){return g.initDrag(Y)})("touchstart",function(Y){return g.initDrag(Y)}),u.\u0275\u0275elementStart(5,"div",5),u.\u0275\u0275elementStart(6,"button",6,7),u.\u0275\u0275listener("click",function(){return g.hide()}),u.\u0275\u0275element(8,"cf-svg-icon",8),u.\u0275\u0275elementEnd(),u.\u0275\u0275template(9,Bc,2,3,"button",9),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(10,"div",10),u.\u0275\u0275projection(11),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(12,"div",11,12),u.\u0275\u0275projection(14,1),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(15,"div",13,14),u.\u0275\u0275projection(17,2),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()),2&o&&(u.\u0275\u0275styleProp("display",g.visible&&g.backdrop?"block":"none"),u.\u0275\u0275advance(1),u.\u0275\u0275styleProp("display",g.visible?"block":"none"),u.\u0275\u0275property("cfMod",u.\u0275\u0275pureFunction1(11,fa,g.maximized))("south",!0)("east",!0)("southEast",!0)("dragEventTarget",g.dragEventTarget),u.\u0275\u0275advance(5),u.\u0275\u0275property("cfMod",u.\u0275\u0275pureFunction0(13,nu)),u.\u0275\u0275advance(3),u.\u0275\u0275property("ngIf",g.maximizable))},directives:[Hs.G,tu,Ic,hs.I,Ro.e,xo.b,Hn.NgIf],encapsulation:2}),y})();const su=["rootWindow"];function ou(y,l){1&y&&u.\u0275\u0275element(0,"cf-splash-screen")}let au=(()=>{class y{constructor(){this.environment=zr}ngOnInit(){this.environment.demo&&this.rootWindow.show()}}return y.\u0275fac=function(o){return new(o||y)},y.\u0275cmp=u.\u0275\u0275defineComponent({type:y,selectors:[["cf-portal-root"]],viewQuery:function(o,g){if(1&o&&u.\u0275\u0275viewQuery(su,7),2&o){let j;u.\u0275\u0275queryRefresh(j=u.\u0275\u0275loadQuery())&&(g.rootWindow=j.first)}},decls:19,vars:2,consts:[["id","bgcanvas"],[4,"ngIf"],[1,"application"],[3,"maximizable"],["rootWindow",""],[1,"window-header__content"],[1,"window-body__content"],["href","https://github.com/central-factory/metaverse","target","_blank"],[1,"window-footer__content"],["cfBlock","button","cfMod","primary",3,"click"]],template:function(o,g){if(1&o){const j=u.\u0275\u0275getCurrentView();u.\u0275\u0275element(0,"canvas",0),u.\u0275\u0275template(1,ou,1,0,"cf-splash-screen",1),u.\u0275\u0275elementStart(2,"div",2),u.\u0275\u0275element(3,"router-outlet"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(4,"cf-window",3,4),u.\u0275\u0275elementContainerStart(6,5),u.\u0275\u0275text(7,"A message from the author"),u.\u0275\u0275elementContainerEnd(),u.\u0275\u0275elementContainerStart(8,6),u.\u0275\u0275elementStart(9,"h3"),u.\u0275\u0275text(10,"Welcome to The Central Factory Metaverse"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(11,"p"),u.\u0275\u0275text(12," This is a demo release of The Central Factory Metaverse project. Not all features are implemented yet, you might find many issues and unexpected behaviours. You can give us your feedback on "),u.\u0275\u0275elementStart(13,"a",7),u.\u0275\u0275text(14,"the project page"),u.\u0275\u0275elementEnd(),u.\u0275\u0275text(15,". Thank you for getting interested on this project. "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementContainerEnd(),u.\u0275\u0275elementContainerStart(16,8),u.\u0275\u0275elementStart(17,"button",9),u.\u0275\u0275listener("click",function(){return u.\u0275\u0275restoreView(j),u.\u0275\u0275reference(5).hide()}),u.\u0275\u0275text(18," I'm ready! "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementContainerEnd(),u.\u0275\u0275elementEnd()}2&o&&(u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",g.environment.showSplashScreen),u.\u0275\u0275advance(3),u.\u0275\u0275property("maximizable",!0))},directives:[Hn.NgIf,nr.RouterOutlet,iu,Hs.G,hs.I,Ja.wn],styles:["#bgcanvas[_ngcontent-%COMP%]{display:block;margin:0 auto;width:100vw;height:100vh;position:fixed;z-index:-1}"]}),y})();var uu=c(1718);let lu=(()=>{class y{}return y.\u0275fac=function(o){return new(o||y)},y.\u0275mod=u.\u0275\u0275defineNgModule({type:y}),y.\u0275inj=u.\u0275\u0275defineInjector({imports:[[Wr.Y,Ai.O]]}),y})();var cu=c(5687),du=c(9398);let fu=(()=>{class y{}return y.\u0275fac=function(o){return new(o||y)},y.\u0275mod=u.\u0275\u0275defineNgModule({type:y}),y.\u0275inj=u.\u0275\u0275defineInjector({imports:[[Hn.CommonModule,Ai.O,Wr.Y,du.v]]}),y})(),hu=(()=>{class y{}return y.\u0275fac=function(o){return new(o||y)},y.\u0275mod=u.\u0275\u0275defineNgModule({type:y}),y.\u0275inj=u.\u0275\u0275defineInjector({imports:[[Hn.CommonModule,Wr.Y,Ai.O,Ya._t,nr.RouterModule,lu,cu.l,Oi.x,uu.y,fu]]}),y})(),pu=(()=>{class y{constructor(o){this.customizationSettingsState=o,this.renderProcessRunning=!1,this.textColor="#22b455",this.initialize()}initialize(){this.themeChangeSubscription&&this.themeChangeSubscription.unsubscribe(),this.themeChangeSubscription=this.customizationSettingsState.customizationSettings$.pipe((0,x.U)(o=>o?.theme.name),(0,Za.x)((o,g)=>o===g),(0,di.b)(o=>this.onThemeChange(o))).subscribe()}onThemeChange(o){const g=document.getElementsByClassName("application")[0];if(!g||!o)return void setTimeout(()=>this.initialize(),1e3);if(this.currentTheme===o)return;this.currentTheme=o;const j=new ResizeObserver(Y=>{for(const le of Y)if(le.contentBoxSize){const he=document.getElementById("bgcanvas"),Se=Array.isArray(le.contentBoxSize)?le.contentBoxSize[0]:le.contentBoxSize;he.width=Se.inlineSize,he.height=window.innerHeight;const Le=this.initializeMatrix();this.renderTick(()=>this.renderMatrix(Le))}});switch(o){case"Matrix":this.textColor="#22b455",g.classList.add("application--no-background-color"),j.observe(document.documentElement);break;case"Metaverse":this.textColor="#9575cd",g.classList.add("application--no-background-color"),j.observe(document.documentElement);break;default:j.unobserve(document.documentElement),clearTimeout(this.renderTimeout),delete this.renderTimeout,this.renderProcessRunning=!1,g.classList.remove("application--no-background-color")}}initializeMatrix(){const j=document.getElementById("bgcanvas"),Y=j.getContext("2d"),le=[],he=Math.ceil(j.height/20);for(let Se=0;Se<j.width/20;++Se)le.push({x:20*Se,stackHeight:10+Math.random()*he,stackCounter:0});return{tileSize:20,fadeFactor:.05,canvas:j,ctx:Y,maxStackHeight:he,columns:le}}renderTick(o,g=50){this.renderProcessRunning||(this.renderProcessRunning=!0,o(),this.renderTimeout=window.setTimeout(()=>{this.renderProcessRunning=!1,this.renderTick(o,g)},g))}renderMatrix({ctx:o,fadeFactor:g,canvas:j,tileSize:Y,maxStackHeight:le,columns:he}){o.fillStyle="rgba( 0 , 0 , 0 , "+g+" )",o.fillRect(0,0,j.width,j.height),o.font=Y-2+"px monospace",o.fillStyle=this.textColor;for(let Se=0;Se<he.length;++Se){const Le=String.fromCharCode(33+Math.floor(94*Math.random()));o.fillText(Le,he[Se].x,he[Se].stackCounter*Y+Y),++he[Se].stackCounter>=he[Se].stackHeight&&(he[Se].stackHeight=10+Math.random()*le,he[Se].stackCounter=0)}}}return y.\u0275fac=function(o){return new(o||y)(u.\u0275\u0275inject(us.T))},y.\u0275prov=u.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),mu=(()=>{class y{}return y.\u0275fac=function(o){return new(o||y)},y.\u0275mod=u.\u0275\u0275defineNgModule({type:y,bootstrap:[au]}),y.\u0275inj=u.\u0275\u0275defineInjector({providers:[{provide:u.APP_INITIALIZER,useFactory:()=>()=>null,deps:[us.T,pu],multi:!0},ui,ho,$r,Yo,bo,gr,vo,mo,ks,li],imports:[[i.b2,Zo,Ee.HttpClientModule,Wr.Y.forRoot(),Ai.O,hu,Oi.x,So,_,eu,wn.forRoot({enabled:zr.useMocks,autologin:zr.autologin})]]}),y})();zr.production&&(0,u.enableProdMode)(),i.q6().bootstrapModule(mu).catch(y=>console.error(y))},4995:(fe,W,c)=>{c.d(W,{B:()=>i,c:()=>u});var i=(()=>{return(D=i||(i={})).Webview="webview",D.WebpackModuleFederation="webpack-module-federation",D.Unknown="unknown",i;var D})(),u=(()=>{return(D=u||(u={})).Primary="primary",D.Secondary="secondary",D.Success="success",D.Warning="warning",D.Danger="danger",D.Info="info",D.Light="light",D.Dark="dark",u;var D})()},9813:(fe,W,c)=>{c.d(W,{o:()=>V,O:()=>N});var i=c(9841),u=c(4004),D=c(7678),L=c(3395),U=c(7777),V=(()=>{return(w=V||(V={}))[w.User=0]="User",w[w.Store=1]="Store",V;var w})();let N=(()=>{class w{constructor(E,x){this.storeApplicationsState=E,this.userApplicationsState=x,this.applications$=(0,i.a)([this.storeApplicationsState.applications$,this.userApplicationsState.applications$]).pipe((0,u.U)(([T,S])=>[...S.map(C=>({origin:V.User,application:C})),...T.map(C=>({origin:V.Store,application:C}))].filter((C,_,v)=>v.findIndex(d=>C.application.id===d.application.id)===_)))}}return w.\u0275fac=function(E){return new(E||w)(U.\u0275\u0275inject(D.I),U.\u0275\u0275inject(L.g))},w.\u0275prov=U.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},6961:(fe,W,c)=>{c.d(W,{r:()=>L});var i=c(1135),u=c(7777);let L=(()=>{class U{constructor(){this.applications$=new i.X([]),this.maxApplications=4}addApplication(V){const N=this.applications$.getValue();N.find(O=>O.id===V.id)||(N.length>=this.maxApplications&&N.shift(),N.unshift(V),this.applications$.next(N))}}return U.\u0275fac=function(V){return new(V||U)},U.\u0275prov=u.\u0275\u0275defineInjectable({token:U,factory:U.\u0275fac,providedIn:"root"}),U})()},4918:(fe,W,c)=>{c.d(W,{H:()=>V});var i=c(9813),u=c(1135),D=c(4004),L=c(8505),U=c(7777);let V=(()=>{class N{constructor(O){this.availableApplicationsState=O,this.application$=new u.X(void 0),this.sidebarIsOpen$=new u.X(!1)}listenForChanges(O){this.changesSubscription&&this.changesSubscription.unsubscribe(),O?this.changesSubscription=this.availableApplicationsState.applications$.pipe((0,D.U)(E=>E.find(x=>x.application.id===O)),(0,L.b)(E=>this.application$.next(E?.application))).subscribe():this.application$.next(void 0)}selectApplication(O){this.listenForChanges(O.id)}unselectApplication(){this.listenForChanges(void 0)}openSidebar(){this.sidebarIsOpen$.next(!0)}closeSidebar(){this.sidebarIsOpen$.next(!1)}}return N.\u0275fac=function(O){return new(O||N)(U.\u0275\u0275inject(i.O))},N.\u0275prov=U.\u0275\u0275defineInjectable({token:N,factory:N.\u0275fac,providedIn:"root"}),N})()},7678:(fe,W,c)=>{c.d(W,{I:()=>S});var i=c(9283),D=c(1549),L=c(1135),U=c(9646),k=c(4128),V=c(8505),N=c(3099),w=c(4004),O=c(3900),E=c(4995),x=c(7777);let S=(()=>{class C{constructor(v,d){this.httpClient=v,this.userPreferencesState=d,this.applications$=new L.X([]),this.featured$=this.applications$.pipe((0,N.B)()),this.hot$=this.applications$.pipe((0,N.B)()),this.byCategory$=this.applications$.pipe((0,w.U)(a=>a.reduce((p,h)=>{const H=h.categories;return!H||!H.length||H.forEach(ae=>{p[ae]||(p[ae]=[]),p[ae].push(h)}),p},{}))),this.byAuthor$=this.applications$.pipe((0,w.U)(a=>a.reduce((p,h)=>{const H=h.additionalProperties?.author;return H&&(p[H.id]=p[H.id]||[],p[H.id].push(h)),p},{}))),this.topAuthors$=this.byAuthor$.pipe((0,w.U)(a=>Object.keys(a).sort((h,H)=>a[H].length-a[h].length).filter(h=>a[h].length>2).map(h=>a[h][0].additionalProperties?.author).slice(0,5))),this.storeDataUrl="https://raw.githubusercontent.com/central-factory/web-application-manifests/main/applications.json",this.userPreferencesState.byKey("store.settings.repositories").pipe((0,w.U)(a=>a?.value||[]),(0,O.w)(a=>a?(0,k.D)(a.map(p=>this.httpClient.get(p.url))).pipe((0,w.U)(p=>p.reduce((h,H)=>h.concat(H),[]))):(0,U.of)([])),(0,V.b)(a=>{this.applications$.next(a.map(p=>{const H={color:this.getPrimaryColor(p)||"#000000",variation:E.c.Primary};return{...p,createdAt:p.createdAt||(new Date).toISOString(),updatedAt:p.updatedAt||(new Date).toISOString(),additionalProperties:{...p.additionalProperties,author:p.additionalProperties?.author||{id:p.id,name:p.name},renderingType:p.additionalProperties?.renderingType||E.B.Webview,supportsBrowser:p.additionalProperties?.supportsBrowser||!1,internal:!1,permissions:p.additionalProperties?.permissions||[],defaultShortcut:p.additionalProperties?.defaultShortcut||(p.shortcuts?p.shortcuts[0].name:void 0),sidebarShortcuts:p.additionalProperties?.sidebarShortcuts||(p.shortcuts?[p.shortcuts[0].name]:[]),colors:p.additionalProperties?.colors||[H]}}}))})).subscribe()}getPrimaryColor(v){if(v.additionalProperties?.colors&&v.additionalProperties?.colors.length>0){const a=v.additionalProperties?.colors?.find(p=>p.variation===E.c.Primary);if(a)return a?.color}return v.themeColor||v.backgroundColor}}return C.\u0275fac=function(v){return new(v||C)(x.\u0275\u0275inject(i.HttpClient),x.\u0275\u0275inject(D.w))},C.\u0275prov=x.\u0275\u0275defineInjectable({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},3395:(fe,W,c)=>{c.d(W,{g:()=>N});var i=c(6435),u=c(1135),D=c(3900),L=c(4128),U=c(8505),k=c(7777);let N=(()=>{class w{constructor(E){this.entityManager=E,this.applications$=new u.X([]),this.entityManager.initialize$.pipe((0,D.w)(()=>(0,L.D)([this.entityManager.getRepository("userapplications","com.central-factory.portals")])),(0,U.b)(([x])=>{this.userApplicationsRepository=x,this.subscribeToDataChanges()})).subscribe()}addApplication(E){if(!this.userApplicationsRepository)throw new Error("Repositories not initialized");return this.userApplicationsRepository.upsert(E)}subscribeToDataChanges(){if(!this.userApplicationsRepository)throw new Error("Repositories not initialized");this.userApplicationsRepository.observe().pipe((0,U.b)(E=>this.applications$.next(E))).subscribe()}}return w.\u0275fac=function(E){return new(E||w)(k.\u0275\u0275inject(i.v2))},w.\u0275prov=k.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},5088:(fe,W,c)=>{c.d(W,{R:()=>i});var i=(()=>{return(u=i||(i={})).Unknown="unknown",u.Currency="currency",u.Land="land",u.Material="material",u.Building="building",u.Equipment="equipment",u.Furniture="furniture",u.Machine="machine",u.Vehicle="vehicle",u.MediaResource="media-resource",u.Consumable="consumable",u.Other="other",i;var u})()},120:(fe,W,c)=>{c.d(W,{g:()=>i});var i=(()=>{return(u=i||(i={})).Model="Model",u.Image="Image",i;var u})()},7165:(fe,W,c)=>{c.d(W,{Y:()=>E});var i=c(6435),u=c(1135),D=c(3900),L=c(4128),U=c(8505),k=c(2843),V=c(9646),N=c(4004),w=c(7777);let E=(()=>{class x{constructor(S){this.entityManager=S,this.avatar$=new u.X(void 0),this.entityManager.initialize$.pipe((0,D.w)(()=>(0,L.D)([this.entityManager.getRepository("userpreferences","com.central-factory.avatars"),this.entityManager.getRepository("useravatars","com.central-factory.avatars")])),(0,U.b)(([C,_])=>{this.userPreferencesRepository=C,this.userAvatarsRepository=_,this.subscribeToDataChanges()})).subscribe()}selectAvatar(S){return this.userPreferencesRepository?this.userPreferencesRepository.upsert({id:"userAvatars.selectedAvatar",key:"userAvatars.selectedAvatar",value:S.id}):(0,k._)(()=>new Error("Repositories not initialized"))}selectAppearance(S){if(!this.userAvatarsRepository)return(0,k._)(()=>new Error("Repositories not initialized"));const C=this.avatar$.getValue();if(!C)return(0,k._)(()=>new Error("Avatar not selected"));const _=JSON.parse(JSON.stringify(C));return _.selectedAppearance=S,this.userAvatarsRepository.upsert(_)}subscribeToDataChanges(){if(!this.userAvatarsRepository||!this.userPreferencesRepository)throw new Error("Repositories not initialized");this.userPreferencesRepository.observeOne({selector:{id:"userAvatars.selectedAvatar"}}).subscribe(S=>{this.avatarQuerySubscription&&this.avatarQuerySubscription.unsubscribe(),S&&this.userAvatarsRepository&&(this.avatarQuerySubscription=this.userAvatarsRepository.observeOne({selector:{id:S.value}}).pipe((0,D.w)(C=>C&&C._attachments&&Object.keys(C._attachments).length>0&&C?this.userAvatarsRepository.getAllAttachments(C.id).pipe((0,N.U)(v=>(C.appearances.forEach(d=>{const a=v.find(h=>h.id===d.portrait.id);a&&(d.portrait.src=URL.createObjectURL(a.data));const p=v.find(h=>h.id===d.id);p&&(d.src=URL.createObjectURL(p.data))}),C.selectedAppearance=C.appearances.find(d=>d.id===C.selectedAppearance.id),C))):(0,V.of)(C)),(0,U.b)(C=>this.avatar$.next(C))).subscribe())})}}return x.\u0275fac=function(S){return new(S||x)(w.\u0275\u0275inject(i.v2))},x.\u0275prov=w.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},405:(fe,W,c)=>{c.d(W,{P:()=>E});var i=c(7777),D=c(1481),L=c(1623),U=c(1457),V=c(3454),N=c(9750);function w(x,T){if(1&x&&i.\u0275\u0275element(0,"img",3),2&x){const S=i.\u0275\u0275nextContext();i.\u0275\u0275property("src",S.src,i.\u0275\u0275sanitizeUrl)}}function O(x,T){if(1&x&&i.\u0275\u0275element(0,"cf-svg-icon",4),2&x){const S=i.\u0275\u0275nextContext();i.\u0275\u0275property("src",S.emptyIcon)}}let E=(()=>{class x{constructor(S){this.domSanitizer=S,this.emptyIcon="assets/icons/mdi/head-question.svg",this.showEmptyIcon=!1}set appearancePortrait(S){this.src=S?.src?this.domSanitizer.bypassSecurityTrustUrl(S.src):void 0}}return x.\u0275fac=function(S){return new(S||x)(i.\u0275\u0275directiveInject(D.H7))},x.\u0275cmp=i.\u0275\u0275defineComponent({type:x,selectors:[["cf-avatar-appearance-portrait"]],inputs:{appearancePortrait:"appearancePortrait",emptyIcon:"emptyIcon",showEmptyIcon:"showEmptyIcon"},decls:3,vars:2,consts:[["cfBlock","avatar-appearance-portrait"],["cfElem","image",3,"src",4,"ngIf"],[3,"src",4,"ngIf"],["cfElem","image",3,"src"],[3,"src"]],template:function(S,C){1&S&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275template(1,w,1,1,"img",1),i.\u0275\u0275template(2,O,1,1,"cf-svg-icon",2),i.\u0275\u0275elementEnd()),2&S&&(i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",C.src),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!C.src&&C.showEmptyIcon))},directives:[L.G,U.NgIf,V.e,N.b],encapsulation:2}),x})()},1718:(fe,W,c)=>{c.d(W,{y:()=>V});var i=c(1457),D=c(4438),L=c(2051),U=c(7777);let V=(()=>{class N{}return N.\u0275fac=function(O){return new(O||N)},N.\u0275mod=U.\u0275\u0275defineNgModule({type:N}),N.\u0275inj=U.\u0275\u0275defineInjector({imports:[[i.CommonModule,D.O,L.Y]]}),N})()},899:(fe,W,c)=>{c.d(W,{k:()=>i,R:()=>u});var i=(()=>((i||(i={})).Collection="collection",i))(),u=(()=>{return(D=u||(u={})).Read="read",D.Write="write",D.Delete="delete",u;var D})()},6435:(fe,W,c)=>{c.d(W,{RY:()=>Xd,To:()=>qd,v2:()=>Lg});var i={};c.r(i),c.d(i,{default:()=>Ho});var O,E,u=c(7777),D=c(1611),L=c.n(D);function U(e){return"$"+e}function k(e){return e.substring(1)}function V(){this._store={}}function N(e){if(this._store=new V,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}V.prototype.get=function(e){var t=U(e);return this._store[t]},V.prototype.set=function(e,t){var n=U(e);return this._store[n]=t,!0},V.prototype.has=function(e){return U(e)in this._store},V.prototype.delete=function(e){var t=U(e),n=t in this._store;return delete this._store[t],n},V.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var s=t[n];e(this._store[s],s=k(s))}},Object.defineProperty(V.prototype,"size",{get:function(){return Object.keys(this._store).length}}),N.prototype.add=function(e){return this._store.set(e,!0)},N.prototype.has=function(e){return this._store.has(e)},N.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(N.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(O=Set,E=Map):(O=N,E=V);var x=c(3894),T=c.n(x),S=c(2302),C=c.n(S);function _(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}T()(_,Error),_.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new _(401,"unauthorized","Name or password is incorrect.");var d=new _(400,"bad_request","Missing JSON list of 'docs'"),a=new _(404,"not_found","missing"),p=new _(409,"conflict","Document update conflict"),h=new _(400,"bad_request","_id field must contain a string"),H=new _(412,"missing_id","_id is required for puts"),ae=new _(400,"bad_request","Only reserved document ids may start with underscore."),Ee=(new _(412,"precondition_failed","Database not open"),new _(500,"unknown_error","Database encountered an unknown error")),B=new _(500,"badarg","Some query argument is invalid"),Q=(new _(400,"invalid_request","Request was invalid"),new _(400,"query_parse_error","Some query parameter is invalid")),te=new _(500,"doc_validation","Bad special document member"),X=new _(400,"bad_request","Something wrong with the request"),se=new _(400,"bad_request","Document must be a JSON object"),Oe=(new _(404,"not_found","Database not found"),new _(500,"indexed_db_went_bad","unknown")),De=(new _(500,"web_sql_went_bad","unknown"),new _(500,"levelDB_went_went_bad","unknown"),new _(403,"forbidden","Forbidden by design doc validate_doc_update function"),new _(400,"bad_request","Invalid rev format")),ve=(new _(412,"file_exists","The database could not be created, the file already exists."),new _(412,"missing_stub","A pre-existing attachment stub wasn't found"));function Ge(e,t){function n(r){for(var s=Object.getOwnPropertyNames(e),f=0,m=s.length;f<m;f++)"function"!=typeof e[s[f]]&&(this[s[f]]=e[s[f]]);void 0!==r&&(this.reason=r)}return n.prototype=_.prototype,new n(t)}function it(e){if("object"!=typeof e){var t=e;(e=Ee).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}new _(413,"invalid_url","Provided URL is invalid");var _t=c(9069),at=c.n(_t);const $t=c(3306).v4;var Sn=function(e){return atob(e)},In=function(e){return btoa(e)};function Mn(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(f){if("TypeError"!==f.name)throw f;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),s=0;s<e.length;s+=1)r.append(e[s]);return r.getBlob(t.type)}}function qt(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),s=0;s<t;s++)r[s]=e.charCodeAt(s);return n}function Nn(e,t){return Mn([qt(e)],{type:t})}function ze(e,t){return Nn(Sn(e),t)}function ht(e,t){var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(s){var f=s.target.result||"";if(r)return t(f);t(function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,s=0;s<r;s++)t+=String.fromCharCode(n[s]);return t}(f))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function xt(e,t){ht(e,function(n){t(n)})}var Cn=c(3625),xr=c.n(Cn),$n=self.setImmediate||self.setTimeout;function Rn(e,t,n,r,s){(n>0||r<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,r)),function(e,t){var n=new FileReader;n.onloadend=function(r){var s=r.target.result||new ArrayBuffer(0);t(s)},n.readAsArrayBuffer(e)}(t,function(f){e.append(f),s()})}function Jn(e,t,n,r,s){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),s()}function or(e,t){var n="string"==typeof e,r=n?e.length:e.size,s=Math.min(32768,r),f=Math.ceil(r/s),m=0,I=n?new(xr()):new(xr().ArrayBuffer),$=n?Jn:Rn;function J(){$n(me)}function ue(){var Re=function(e){return In(e)}(I.end(!0));t(Re),I.destroy()}function me(){var ye=m*s;m++,$(I,e,ye,ye+s,m<f?J:ue)}me()}function br(e){return xr().hash(e)}var _e,et,Sr=Function.prototype.toString,Cr=Sr.call(Object);function pn(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=pn(e[n]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return function(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&Sr.call(n)==Cr}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=pn(e[n]);void 0!==s&&(t[n]=s)}return t}function Br(e){var t=!1;return L()(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function ln(e){return L()(function(t){t=pn(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),s=new Promise(function(f,m){var I;try{var $=Br(function(J,ue){J?m(J):f(ue)});t.push($),(I=e.apply(n,t))&&"function"==typeof I.then&&f(I)}catch(J){m(J)}});return r&&s.then(function(f){r(null,f)},r),s})}function Jt(e,t){return ln(L()(function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var r=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var r=["api",e.name,t],s=0;s<n.length-1;s++)r.push(n[s]);e.constructor.emit("debug",r);var f=n[n.length-1];n[n.length-1]=function(m,I){var $=["api",e.name,t];$=$.concat(m?["error",m]:["success",I]),e.constructor.emit("debug",$),f(m,I)}}}(r,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise(function(s,f){r.taskqueue.addTask(function(m){m?f(m):s(r[e].apply(r,n))})})}))}function pr(e,t){for(var n={},r=0,s=t.length;r<s;r++){var f=t[r];f in e&&(n[f]=e[f])}return n}function ar(e){return e}function ur(e){return[{ok:e}]}function Ie(e,t,n){var r=t.docs,s=new E;r.forEach(function(be){s.has(be.id)?s.get(be.id).push(be):s.set(be.id,[be])});var f=s.size,m=0,I=new Array(f);var me=[];s.forEach(function(be,Te){me.push(Te)});var ye=0;!function Re(){if(!(ye>=me.length)){var be=Math.min(ye+6,me.length),Te=me.slice(ye,be);(function(be,Te){be.forEach(function(Ue,$e){var Be=Te+$e,Qe=s.get(Ue),Ye=pr(Qe[0],["atts_since","attachments"]);Ye.open_revs=Qe.map(function(qe){return qe.rev}),Ye.open_revs=Ye.open_revs.filter(ar);var ut=ar;0===Ye.open_revs.length&&(delete Ye.open_revs,ut=ur),["revs","attachments","binary","ajax","latest"].forEach(function(qe){qe in t&&(Ye[qe]=t[qe])}),e.get(Ue,Ye,function(qe,dt){var It;It=qe?[{error:qe}]:ut(dt),function(be,Te,Ue){I[be]={id:Te,docs:Ue},function(){var be;++m===f&&(be=[],I.forEach(function(Te){Te.docs.forEach(function(Ue){be.push({id:Te.id,docs:[Ue]})})}),n(null,{results:be}))}()}(Be,Ue,It),Re()})})})(Te,ye),ye+=Te.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),_e=!!localStorage.getItem("_pouch_check_localstorage")}catch{_e=!1}function de(){return _e}function re(){var e;at().call(this),this._listeners={},e=this,de()&&addEventListener("storage",function(t){e.emit(t.key)})}function M(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}T()(re,at()),re.prototype.addListener=function(e,t,n,r){if(!this._listeners[t]){var s=this,f=!1;this._listeners[t]=m,this.on(e,m)}function m(){if(s._listeners[t])if(f)f="waiting";else{f=!0;var I=pr(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(I).on("change",function(J){J.seq>r.since&&!r.cancelled&&(r.since=J.seq,r.onChange(J))}).on("complete",function(){"waiting"===f&&C()(m),f=!1}).on("error",function(){f=!1})}}},re.prototype.removeListener=function(e,t){t in this._listeners&&(at().prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},re.prototype.notifyLocalWindows=function(e){de()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},re.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)},et="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t};var Tt=et;function sn(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function ts(e){var t;if(e?"string"!=typeof e?t=Ge(h):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=Ge(ae)):t=Ge(H),t)throw t}function Wn(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(M("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function vs(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function ns(e){var t=vs(e);return t?t.join("/"):null}function xi(e,t){var n=[],r=[];for(var s in t)t.hasOwnProperty(s)&&(n.push(s),r.push(t[s]));return n.push(e),Function.apply(null,n).apply(null,r)}function ti(e,t,n){return new Promise(function(r,s){e.get(t,function(f,m){if(f){if(404!==f.status)return s(f);m={}}var I=m._rev,$=n(m);if(!$)return r({updated:!1,rev:I});$._id=t,$._rev=I,r(function(e,t,n){return e.put(t).then(function(r){return{updated:!0,rev:r.rev}},function(r){if(409!==r.status)throw r;return ti(e,t._id,n)})}(e,$,n))})})}function Fi(e,t){var n=pn(e);return t?(delete n._rev_tree,br(JSON.stringify(n))):$t().replace(/-/g,"").toLowerCase()}var qs=$t;function wr(e){for(var t,n,r,f,s=e.rev_tree.slice();f=s.pop();){var m=f.ids,I=m[2],$=f.pos;if(I.length)for(var J=0,ue=I.length;J<ue;J++)s.push({pos:$+1,ids:I[J]});else{var me=!!m[1].deleted,ye=m[0];(!t||(r!==me?r:n!==$?n<$:t<ye))&&(t=ye,n=$,r=me)}}return n+"-"+t}function jr(e,t){for(var r,n=e.slice();r=n.pop();)for(var s=r.pos,f=r.ids,m=f[2],I=t(0===m.length,s,f[0],r.ctx,f[1]),$=0,J=m.length;$<J;$++)n.push({pos:s+1,ids:m[$],ctx:I})}function bs(e,t){return e.pos-t.pos}function ki(e){var t=[];jr(e,function(s,f,m,I,$){s&&t.push({rev:f+"-"+m,pos:f,opts:$})}),t.sort(bs).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function ni(e){for(var t=wr(e),n=ki(e.rev_tree),r=[],s=0,f=n.length;s<f;s++){var m=n[s];m.rev!==t&&!m.opts.deleted&&r.push(m.rev)}return r}function Es(e){for(var r,t=[],n=e.slice();r=n.pop();){var s=r.pos,f=r.ids,m=f[0],I=f[1],$=f[2],J=0===$.length,ue=r.history?r.history.slice():[];ue.push({id:m,opts:I}),J&&t.push({pos:s+1-ue.length,ids:ue});for(var me=0,ye=$.length;me<ye;me++)n.push({pos:s+1,ids:$[me],history:ue})}return t.reverse()}function Ss(e,t){return e.pos-t.pos}function Bi(e,t,n){var r=function(e,t,n){for(var f,r=0,s=e.length;r<s;)n(e[f=r+s>>>1],t)<0?r=f+1:s=f;return r}(e,t,n);e.splice(r,0,t)}function Cs(e,t){for(var n,r,s=t,f=e.length;s<f;s++){var m=e[s],I=[m.id,m.opts,[]];r?(r[2].push(I),r=I):n=r=I}return n}function vi(e,t){return e[0]<t[0]?-1:1}function ws(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var s=n.pop(),f=s.tree1,m=s.tree2;(f[1].status||m[1].status)&&(f[1].status="available"===f[1].status||"available"===m[1].status?"available":"missing");for(var I=0;I<m[2].length;I++)if(f[2][0]){for(var $=!1,J=0;J<f[2].length;J++)f[2][J][0]===m[2][I][0]&&(n.push({tree1:f[2][J],tree2:m[2][I]}),$=!0);$||(r="new_branch",Bi(f[2],m[2][I],vi))}else r="new_leaf",f[2][0]=m[2][I]}return{conflicts:r,tree:e}}function yi(e,t,n){var m,r=[],s=!1,f=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var I=0,$=e.length;I<$;I++){var J=e[I];if(J.pos===t.pos&&J.ids[0]===t.ids[0])m=ws(J.ids,t.ids),r.push({pos:J.pos,ids:m.tree}),s=s||m.conflicts,f=!0;else if(!0!==n){var ue=J.pos<t.pos?J:t,me=J.pos<t.pos?t:J,Re=[],Ce=[];for(Ce.push({ids:ue.ids,diff:me.pos-ue.pos,parent:null,parentIdx:null});Ce.length>0;){var be=Ce.pop();if(0!==be.diff)for(var Te=be.ids[2],Ue=0,$e=Te.length;Ue<$e;Ue++)Ce.push({ids:Te[Ue],diff:be.diff-1,parent:be.ids,parentIdx:Ue});else be.ids[0]===me.ids[0]&&Re.push(be)}var Be=Re[0];Be?(m=ws(Be.ids,me.ids),Be.parent[2][Be.parentIdx]=m.tree,r.push({pos:ue.pos,ids:ue.ids}),s=s||m.conflicts,f=!0):r.push(J)}else r.push(J)}return f||r.push(t),r.sort(Ss),{tree:r,conflicts:s||"internal_node"}}function Ds(e,t,n){var r=yi(e,t),s=function(e,t){for(var r,s,n=Es(e),f=0,m=n.length;f<m;f++){var J,I=n[f],$=I.ids;if($.length>t){r||(r={});var ue=$.length-t;J={pos:I.pos+ue,ids:Cs($,ue)};for(var me=0;me<ue;me++)r[I.pos+me+"-"+$[me].id]=!0}else J={pos:I.pos,ids:Cs($,0)};s=s?yi(s,J,!0).tree:[J]}return r&&jr(s,function(Re,Ce,be){delete r[Ce+"-"+be]}),{tree:s,revs:r?Object.keys(r):[]}}(r.tree,n);return{tree:s.tree,stemmedRevs:s.revs,conflicts:r.conflicts}}function to(e){return e.ids}function lr(e,t){t||(t=wr(e));for(var s,n=t.substring(t.indexOf("-")+1),r=e.rev_tree.map(to);s=r.pop();){if(s[0]===n)return!!s[1].deleted;r=r.concat(s[2])}}function Ur(e){return/^_local/.test(e)}function Os(e){return e.reduce(function(t,n){return t[n]=!0,t},{})}var jn=Os(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),ss=Os(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function bi(e){if(!/^\d+-/.test(e))return Ge(De);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function os(e,t,n){n||(n={deterministic_revs:!0});var r,s,f,m={status:"available"};if(e._deleted&&(m.deleted=!0),t)if(e._id||(e._id=qs()),s=Fi(e,n.deterministic_revs),e._rev){if((f=bi(e._rev)).error)return f;e._rev_tree=[{pos:f.prefix,ids:[f.id,{status:"missing"},[[s,m,[]]]]}],r=f.prefix+1}else e._rev_tree=[{pos:1,ids:[s,m,[]]}],r=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,s=[r[0],t,[]],f=1,m=r.length;f<m;f++)s=[r[f],{status:"missing"},[s]];return[{pos:n,ids:s}]}(e._revisions,m),r=e._revisions.start,s=e._revisions.ids[0]),!e._rev_tree){if((f=bi(e._rev)).error)return f;e._rev_tree=[{pos:r=f.prefix,ids:[s=f.id,m,[]]}]}ts(e._id),e._rev=r+"-"+s;var I={metadata:{},data:{}};for(var $ in e)if(Object.prototype.hasOwnProperty.call(e,$)){var J="_"===$[0];if(J&&!jn[$]){var ue=Ge(te,$);throw ue.message=te.message+": "+$,ue}J&&!ss[$]?I.metadata[$.slice(1)]=e[$]:I.data[$]=e[$]}return I}function as(e,t,n){if(e.stub)return n();"string"==typeof e.data?function(e,t,n){var r=function(e){try{return Sn(e)}catch{return{error:Ge(B,"Attachment is not a valid base64 string")}}}(e.data);if(r.error)return n(r.error);e.length=r.length,e.data="blob"===t?Nn(r,e.content_type):"base64"===t?In(r):r,or(r,function(s){e.digest="md5-"+s,n()})}(e,t,n):function(e,t,n){or(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?xt(e.data,function(s){e.data=s,n()}):"base64"===t?function(e,t){xt(e,function(n){t(In(n))})}(e.data,function(s){e.data=s,n()}):n()})}(e,t,n)}function Ts(e,t,n,r,s,f,m,I,$){e=e||1e3;var ue=I.new_edits,me=new E,ye=0,Re=t.length;function Ce(){++ye===Re&&$&&$()}t.forEach(function(be,Te){if(be._id&&Ur(be._id))n[be._deleted?"_removeLocal":"_putLocal"](be,{ctx:s},function(Be,Qe){f[Te]=Be||Qe,Ce()});else{var $e=be.metadata.id;me.has($e)?(Re--,me.get($e).push([be,Te])):me.set($e,[[be,Te]])}}),me.forEach(function(be,Te){var Ue=0;function $e(){++Ue<be.length?Be():Ce()}function Be(){var Qe=be[Ue],Ye=Qe[0],ut=Qe[1];if(r.has(Te))!function(e,t,n,r,s,f,m,I){if(function(e,t){for(var m,n=e.slice(),r=t.split("-"),s=parseInt(r[0],10),f=r[1];m=n.pop();){if(m.pos===s&&m.ids[0]===f)return!0;for(var I=m.ids[2],$=0,J=I.length;$<J;$++)n.push({pos:m.pos+1,ids:I[$]})}return!1}(t.rev_tree,n.metadata.rev)&&!I)return r[s]=n,f();var $=t.winningRev||wr(t),J="deleted"in t?t.deleted:lr(t,$),ue="deleted"in n.metadata?n.metadata.deleted:lr(n.metadata),me=/^1-/.test(n.metadata.rev);if(J&&!ue&&I&&me){var ye=n.data;ye._rev=$,ye._id=n.metadata.id,n=os(ye,I)}var Re=Ds(t.rev_tree,n.metadata.rev_tree[0],e);if(I&&(J&&ue&&"new_leaf"!==Re.conflicts||!J&&"new_leaf"!==Re.conflicts||J&&!ue&&"new_branch"===Re.conflicts)){var be=Ge(p);return r[s]=be,f()}var Te=n.metadata.rev;n.metadata.rev_tree=Re.tree,n.stemmedRevs=Re.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var Ue=wr(n.metadata),$e=lr(n.metadata,Ue),Be=J===$e?0:J<$e?-1:1;m(n,Ue,$e,Te===Ue?$e:lr(n.metadata,Te),!0,Be,s,f)}(e,r.get(Te),Ye,f,ut,$e,m,ue);else{var qe=Ds([],Ye.metadata.rev_tree[0],e);Ye.metadata.rev_tree=qe.tree,Ye.stemmedRevs=qe.stemmedRevs||[],function(be,Te,Ue){var $e=wr(be.metadata),Be=lr(be.metadata,$e);if("was_delete"in I&&Be)return f[Te]=Ge(a,"deleted"),Ue();var Qe=ue&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(be);if(Qe){var Ye=Ge(p);return f[Te]=Ye,Ue()}m(be,$e,Be,Be,!1,Be?0:1,Te,Ue)}(Ye,ut,$e)}}Be()})}var Ui=c(2899);function Dr(e){try{return JSON.stringify(e)}catch{return Ui.stringify(e)}}var cn="document-store",_n="by-sequence",Un="attach-store",Ar="attach-seq-store",mn="meta-store",qn="local-store",Vi="detect-blob-support";function er(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(Ge(Oe,n))}}function Is(e,t,n){return{data:Dr(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function si(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch{return Ui.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function oi(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function zi(e,t,n,r){n?r(e?"string"!=typeof e?e:ze(e,t):Mn([""],{type:t})):e?"string"!=typeof e?ht(e,function(s){r(In(s))}):r(e):r("")}function $i(e,t,n,r){var s=Object.keys(e._attachments||{});if(!s.length)return r&&r();var f=0;function m(){++f===s.length&&r&&r()}s.forEach(function($){t.attachments&&t.include_docs?function($,J){var ue=$._attachments[J],me=ue.digest;n.objectStore(Un).get(me).onsuccess=function(Re){ue.body=Re.target.result.body,m()}}(e,$):(e._attachments[$].stub=!0,m())})}function Wi(e,t){return Promise.all(e.map(function(n){if(n.doc&&n.doc._attachments){var r=Object.keys(n.doc._attachments);return Promise.all(r.map(function(s){var f=n.doc._attachments[s];if("body"in f){var m=f.body,I=f.content_type;return new Promise(function($){zi(m,I,t,function(J){n.doc._attachments[s]=Tt(pr(f,["digest","content_type"]),{data:J}),$()})})}}))}}))}function Hi(e,t,n){var r=[],s=n.objectStore(_n),f=n.objectStore(Un),m=n.objectStore(Ar),I=e.length;function $(){--I||!r.length||r.forEach(function(ue){m.index("digestSeq").count(IDBKeyRange.bound(ue+"::",ue+"::\uffff",!1,!1)).onsuccess=function(ye){ye.target.result||f.delete(ue)}})}e.forEach(function(ue){s.index("_doc_id_rev").getKey(t+"::"+ue).onsuccess=function(Re){var Ce=Re.target.result;if("number"!=typeof Ce)return $();s.delete(Ce),m.index("seq").openCursor(IDBKeyRange.only(Ce)).onsuccess=function(Te){var Ue=Te.target.result;if(Ue){var $e=Ue.value.digestSeq.split("::")[0];r.push($e),m.delete(Ue.primaryKey),Ue.continue()}else $()}}})}function tr(e,t,n){try{return{txn:e.transaction(t,n)}}catch(r){return{error:r}}}var z=new re;function F(e,t,n,r,s,f){for(var I,$,J,ue,me,ye,Re,Ce,m=t.docs,be=0,Te=m.length;be<Te;be++){var Ue=m[be];Ue._id&&Ur(Ue._id)||(Ue=m[be]=os(Ue,n.new_edits,e)).error&&!Re&&(Re=Ue)}if(Re)return f(Re);var $e=!1,Be=0,Qe=new Array(m.length),Ye=new E,ut=!1;function It(){$e=!0,Vt()}function Vt(){!Ce||!$e||(Ce.docCount+=Be,ye.put(Ce))}function Kt(){ut||(z.notify(r._meta.name),f(null,Qe))}function Zt(Ze,ot,mt,At,gt,Ot,wt,rt){Ze.metadata.winningRev=ot,Ze.metadata.deleted=mt;var Dt=Ze.data;if(Dt._id=Ze.metadata.id,Dt._rev=Ze.metadata.rev,At&&(Dt._deleted=!0),Dt._attachments&&Object.keys(Dt._attachments).length)return function(Ze,ot,mt,At,gt,Ot){var rt=0,Dt=Object.keys(Ze.data._attachments);function Bt(){rt===Dt.length&&xe(Ze,ot,mt,At,gt,Ot)}function un(){rt++,Bt()}Dt.forEach(function(tn){var Yt=Ze.data._attachments[tn];if(Yt.stub)rt++,Bt();else{var nn=Yt.data;delete Yt.data,Yt.revpos=parseInt(ot,10),function(Ze,ot,mt){ue.count(Ze).onsuccess=function(gt){if(gt.target.result)return mt();ue.put({digest:Ze,body:ot}).onsuccess=mt}}(Yt.digest,nn,un)}})}(Ze,ot,mt,gt,wt,rt);Be+=Ot,Vt(),xe(Ze,ot,mt,gt,wt,rt)}function xe(Ze,ot,mt,At,gt,Ot){var wt=Ze.data,rt=Ze.metadata;function Dt(Yt){var nn=Ze.stemmedRevs||[];At&&r.auto_compaction&&(nn=nn.concat(function(e){var t=[];return jr(e.rev_tree,function(n,r,s,f,m){"available"===m.status&&!n&&(t.push(r+"-"+s),m.status="missing")}),t}(Ze.metadata))),nn&&nn.length&&Hi(nn,Ze.metadata.id,I),rt.seq=Yt.target.result;var An=Is(rt,ot,mt);$.put(An).onsuccess=un}function un(){Qe[gt]={ok:!0,id:rt.id,rev:rt.rev},Ye.set(Ze.metadata.id,Ze.metadata),function(Ze,ot,mt){var At=0,gt=Object.keys(Ze.data._attachments||{});if(!gt.length)return mt();function Ot(){++At===gt.length&&mt()}function wt(Dt){var un=me.put({seq:ot,digestSeq:Ze.data._attachments[Dt].digest+"::"+ot});un.onsuccess=Ot,un.onerror=function(tn){tn.preventDefault(),tn.stopPropagation(),Ot()}}for(var rt=0;rt<gt.length;rt++)wt(gt[rt])}(Ze,rt.seq,Ot)}wt._doc_id_rev=rt.id+"::"+rt.rev,delete wt._id,delete wt._rev;var tn=J.put(wt);tn.onsuccess=Dt,tn.onerror=function(Yt){Yt.preventDefault(),Yt.stopPropagation(),J.index("_doc_id_rev").getKey(wt._doc_id_rev).onsuccess=function(Xr){J.put(wt,Xr.target.result).onsuccess=Dt}}}!function(e,t,n){if(!e.length)return n();var s,r=0;function f(){r++,e.length===r&&(s?n(s):n())}e.forEach(function(m){var I=m.data&&m.data._attachments?Object.keys(m.data._attachments):[],$=0;if(!I.length)return f();function J(me){s=me,++$===I.length&&f()}for(var ue in m.data._attachments)m.data._attachments.hasOwnProperty(ue)&&as(m.data._attachments[ue],t,J)})}(m,r._meta.blobSupport?"blob":"base64",function(Ze){if(Ze)return f(Ze);!function(){var ot=tr(s,[cn,_n,Un,qn,Ar,mn],"readwrite");if(ot.error)return f(ot.error);(I=ot.txn).onabort=er(f),I.ontimeout=er(f),I.oncomplete=Kt,$=I.objectStore(cn),J=I.objectStore(_n),ue=I.objectStore(Un),me=I.objectStore(Ar),(ye=I.objectStore(mn)).get(mn).onsuccess=function(mt){Ce=mt.target.result,Vt()},function(Ze){var ot=[];if(m.forEach(function(Ot){Ot.data&&Ot.data._attachments&&Object.keys(Ot.data._attachments).forEach(function(wt){var rt=Ot.data._attachments[wt];rt.stub&&ot.push(rt.digest)})}),!ot.length)return Ze();var At,mt=0;ot.forEach(function(Ot){!function(Ze,ot){ue.get(Ze).onsuccess=function(At){if(At.target.result)ot();else{var gt=Ge(ve,"unknown stub attachment with digest "+Ze);gt.status=412,ot(gt)}}}(Ot,function(wt){wt&&!At&&(At=wt),++mt===ot.length&&Ze(At)})})}(function(mt){if(mt)return ut=!0,f(mt);!function(){if(m.length)for(var Ze=0,At=0,gt=m.length;At<gt;At++){var Ot=m[At];Ot._id&&Ur(Ot._id)?ot():$.get(Ot.metadata.id).onsuccess=mt}function ot(){++Ze===m.length&&Ts(e.revs_limit,m,r,Ye,I,Qe,Zt,n,It)}function mt(rt){var Dt=si(rt.target.result);Dt&&Ye.set(Dt.id,Dt),ot()}}()})}()})}function P(e,t,n,r,s){var m,I,$;function J(Re){I=Re.target.result,m&&s(m,I,$)}function ue(Re){m=Re.target.result,I&&s(m,I,$)}function ye(Re){var Ce=Re.target.result;if(!Ce)return s();s([Ce.key],[Ce.value],Ce)}-1===r&&(r=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n?($={continue:function(){if(!m.length)return s();var Ce,Re=m[m.length-1];if(t&&t.upper)try{Ce=IDBKeyRange.bound(Re,t.upper,!0,t.upperOpen)}catch(be){if("DataError"===be.name&&0===be.code)return s()}else Ce=IDBKeyRange.lowerBound(Re,!0);m=null,I=null,e.getAll(t=Ce,r).onsuccess=J,e.getAllKeys(t,r).onsuccess=ue}},e.getAll(t,r).onsuccess=J,e.getAllKeys(t,r).onsuccess=ue):n?e.openCursor(t,"prev").onsuccess=ye:e.openCursor(t).onsuccess=ye}var ai=!1,io=[];function so(){ai||!io.length||(ai=!0,io.shift()())}function $o(e,t,n,r){if((e=pn(e)).continuous){var s=n+":"+qs();return z.addListener(n,s,t,e),z.notify(n),{cancel:function(){z.removeListener(n,s)}}}var f=e.doc_ids&&new O(e.doc_ids);e.since=e.since||0;var m=e.since,I="limit"in e?e.limit:-1;0===I&&(I=1);var ye,Re,Ce,be,$=[],J=0,ue=function(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(s){s.doc||(s.doc={});var f=n&&function(e,t,n){try{return!e(t,n)}catch(s){var r="Filter function threw: "+s.toString();return Ge(X,r)}}(e.filter,s.doc,t);if("object"==typeof f)return f;if(f)return!1;if(e.include_docs){if(!e.attachments)for(var m in s.doc._attachments)s.doc._attachments.hasOwnProperty(m)&&(s.doc._attachments[m].stub=!0)}else delete s.doc;return!0}}(e),me=new E;function Ue(dt,It,Lt,Vt){return Lt.seq!==It?Vt():Lt.winningRev===dt._rev?Vt(Lt,dt):void(be.get(dt._id+"::"+Lt.winningRev).onsuccess=function(Ft){Vt(Lt,oi(Ft.target.result))})}function Be(){e.complete(null,{results:$,last_seq:m})}var Ye=[cn,_n];e.attachments&&Ye.push(Un);var ut=tr(r,Ye,"readonly");if(ut.error)return e.complete(ut.error);(ye=ut.txn).onabort=er(e.complete),ye.oncomplete=function(){!e.continuous&&e.attachments?Wi($).then(Be):Be()},Re=ye.objectStore(_n),Ce=ye.objectStore(cn),be=Re.index("_doc_id_rev"),P(Re,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,I,function(dt,It,Lt){if(Lt&&dt.length){var Vt=new Array(dt.length),Qt=new Array(dt.length),Ht=0;It.forEach(function(Zt,xe){!function(dt,It,Lt){if(f&&!f.has(dt._id))return Lt();var Vt=me.get(dt._id);if(Vt)return Ue(dt,It,Vt,Lt);Ce.get(dt._id).onsuccess=function(Qt){Vt=si(Qt.target.result),me.set(dt._id,Vt),Ue(dt,It,Vt,Lt)}}(oi(Zt),dt[xe],function(st,Ze){Qt[xe]=st,Vt[xe]=Ze,++Ht===dt.length&&function(){for(var Zt=[],xe=0,Fe=Vt.length;xe<Fe&&J!==I;xe++){var He=Vt[xe];He&&Zt.push(Kt(Qt[xe],He))}Promise.all(Zt).then(function(Ze){for(var ot=0,mt=Ze.length;ot<mt;ot++)Ze[ot]&&e.onChange(Ze[ot])}).catch(e.complete),J!==I&&Lt.continue()}()})})}function Kt(Zt,xe){var Fe=e.processChange(xe,Zt,e);m=Fe.seq=Zt.seq;var He=ue(Fe);return"object"==typeof He?Promise.reject(He):He?(J++,e.return_docs&&$.push(Fe),e.attachments&&e.include_docs?new Promise(function(st){$i(xe,e,ye,function(){Wi([Fe],e.binary).then(function(){st(Fe)})})}):Promise.resolve(Fe)):Promise.resolve()}})}var ao,Gi=new E,Ms=new E;function Ta(e,t){var n=this;!function(e,t,n){io.push(function(){e(function(f,m){(function(e,t,n,r){try{e(t,n)}catch(s){r.emit("error",s)}})(t,f,m,n),ai=!1,C()(function(){so()})})}),so()}(function(r){!function(e,t,n){var r=t.name,s=null;function m(Ce,be){var Te=Ce.objectStore(cn);Te.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),Te.openCursor().onsuccess=function(Ue){var $e=Ue.target.result;if($e){var Be=$e.value,Qe=lr(Be);Be.deletedOrLocal=Qe?"1":"0",Te.put(Be),$e.continue()}else be()}}function $(Ce,be){var Te=Ce.objectStore(qn),Ue=Ce.objectStore(cn),$e=Ce.objectStore(_n);Ue.openCursor().onsuccess=function(Qe){var Ye=Qe.target.result;if(Ye){var ut=Ye.value,qe=ut.id,dt=Ur(qe),It=wr(ut);if(dt){var Lt=qe+"::"+It,Vt=qe+"::",Qt=qe+"::~",Kt=$e.index("_doc_id_rev"),Ft=IDBKeyRange.bound(Vt,Qt,!1,!1),Ht=Kt.openCursor(Ft);Ht.onsuccess=function(Zt){if(Ht=Zt.target.result){var xe=Ht.value;xe._doc_id_rev===Lt&&Te.put(xe),$e.delete(Ht.primaryKey),Ht.continue()}else Ue.delete(Ye.primaryKey),Ye.continue()}}else Ye.continue()}else be&&be()}}function ue(Ce,be){var Te=Ce.objectStore(_n),Ue=Ce.objectStore(Un),$e=Ce.objectStore(Ar);Ue.count().onsuccess=function(Qe){if(!Qe.target.result)return be();Te.openCursor().onsuccess=function(ut){var qe=ut.target.result;if(!qe)return be();for(var dt=qe.value,It=qe.primaryKey,Lt=Object.keys(dt._attachments||{}),Vt={},Qt=0;Qt<Lt.length;Qt++)Vt[dt._attachments[Lt[Qt]].digest]=!0;var Ft=Object.keys(Vt);for(Qt=0;Qt<Ft.length;Qt++)$e.put({seq:It,digestSeq:Ft[Qt]+"::"+It});qe.continue()}}}function me(Ce){var Te=Ce.objectStore(_n),Ue=Ce.objectStore(cn);Ue.openCursor().onsuccess=function(Be){var dt,It,Lt,Vt,Qe=Be.target.result;if(Qe){var Ye=function(Be){return Be.data?si(Be):(Be.deleted="1"===Be.deletedOrLocal,Be)}(Qe.value);if(Ye.winningRev=Ye.winningRev||wr(Ye),Ye.seq)return qe();dt=Ye.id+"::",It=Ye.id+"::\uffff",Lt=Te.index("_doc_id_rev").openCursor(IDBKeyRange.bound(dt,It)),Vt=0,Lt.onsuccess=function(Qt){var Kt=Qt.target.result;if(!Kt)return Ye.seq=Vt,qe();var Ft=Kt.primaryKey;Ft>Vt&&(Vt=Ft),Kt.continue()}}function qe(){var dt=Is(Ye,Ye.winningRev,Ye.deleted);Ue.put(dt).onsuccess=function(){Qe.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=ln(function(Ce){Ce(null,e._meta.instanceId)}),e._bulkDocs=function(be,Te,Ue){F(t,be,Te,e,s,Ue)},e._get=function(be,Te,Ue){var $e,Be,Qe,Ye=Te.ctx;if(!Ye){var ut=tr(s,[cn,_n,Un],"readonly");if(ut.error)return Ue(ut.error);Ye=ut.txn}function qe(){Ue(Qe,{doc:$e,metadata:Be,ctx:Ye})}Ye.objectStore(cn).get(be).onsuccess=function(dt){if(!(Be=si(dt.target.result)))return Qe=Ge(a,"missing"),qe();var It;if(Te.rev)It=Te.latest?function(e,t){for(var r,n=t.rev_tree.slice();r=n.pop();){var s=r.pos,f=r.ids,m=f[0],I=f[1],$=f[2],J=0===$.length,ue=r.history?r.history.slice():[];if(ue.push({id:m,pos:s,opts:I}),J)for(var me=0,ye=ue.length;me<ye;me++){var Re=ue[me];if(Re.pos+"-"+Re.id===e)return s+"-"+m}for(var be=0,Te=$.length;be<Te;be++)n.push({pos:s+1,ids:$[be],history:ue})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(Te.rev,Be):Te.rev;else if(It=Be.winningRev,lr(Be))return Qe=Ge(a,"deleted"),qe();var Vt=Ye.objectStore(_n),Qt=Be.id+"::"+It;Vt.index("_doc_id_rev").get(Qt).onsuccess=function(Kt){if(($e=Kt.target.result)&&($e=oi($e)),!$e)return Qe=Ge(a,"missing"),qe();qe()}}},e._getAttachment=function(Ce,be,Te,Ue,$e){var Be;if(Ue.ctx)Be=Ue.ctx;else{var Qe=tr(s,[cn,_n,Un],"readonly");if(Qe.error)return $e(Qe.error);Be=Qe.txn}var Ye=Te.digest,ut=Te.content_type;Be.objectStore(Un).get(Ye).onsuccess=function(qe){zi(qe.target.result.body,ut,Ue.binary,function(It){$e(null,It)})}},e._info=function(be){var Te,Ue,$e=tr(s,[mn,_n],"readonly");if($e.error)return be($e.error);var Be=$e.txn;Be.objectStore(mn).get(mn).onsuccess=function(Qe){Ue=Qe.target.result.docCount},Be.objectStore(_n).openCursor(null,"prev").onsuccess=function(Qe){var Ye=Qe.target.result;Te=Ye?Ye.key:0},Be.oncomplete=function(){be(null,{doc_count:Ue,update_seq:Te,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(be,Te){!function(e,t,n){var ue,me,m="keys"in e&&e.keys,I=e.skip||0,$="number"==typeof e.limit?e.limit:-1;if(!m&&(ue=function(e,t,n,r,s){try{if(e&&t)return s?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return s?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return s?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(f){return{error:f}}return null}("startkey"in e&&e.startkey,"endkey"in e&&e.endkey,!1!==e.inclusive_end,"key"in e&&e.key,e.descending),(me=ue&&ue.error)&&("DataError"!==me.name||0!==me.code)))return n(Ge(Oe,me.name));var ye=[cn,_n,mn];e.attachments&&ye.push(Un);var Re=tr(t,ye,"readonly");if(Re.error)return n(Re.error);var Ce=Re.txn;Ce.oncomplete=function(){e.attachments?Wi(Be,e.binary).then(Qt):Qt()},Ce.onabort=er(n);var Qe,Ye,Ht,be=Ce.objectStore(cn),Te=Ce.objectStore(_n),Ue=Ce.objectStore(mn),$e=Te.index("_doc_id_rev"),Be=[];function dt(Ft,Ht){var Zt={id:Ht.id,key:Ht.id,value:{rev:Ft}};Ht.deleted?m&&(Be.push(Zt),Zt.value.deleted=!0,Zt.doc=null):I--<=0&&(Be.push(Zt),e.include_docs&&function(Ft,Ht,Zt){$e.get(Ft.id+"::"+Zt).onsuccess=function(He){if(Ht.doc=oi(He.target.result)||{},e.conflicts){var st=ni(Ft);st.length&&(Ht.doc._conflicts=st)}$i(Ht.doc,e,Ce)}}(Ht,Zt,Ft))}function It(Ft){for(var Ht=0,Zt=Ft.length;Ht<Zt&&Be.length!==$;Ht++){var xe=Ft[Ht];if(xe.error&&m)Be.push(xe);else{var Fe=si(xe);dt(Fe.winningRev,Fe)}}}function Lt(Ft,Ht,Zt){!Zt||(It(Ht),Be.length<$&&Zt.continue())}function Qt(){var Ft={total_rows:Qe,offset:e.skip,rows:Be};e.update_seq&&void 0!==Ye&&(Ft.update_seq=Ye),n(null,Ft)}if(Ue.get(mn).onsuccess=function(Ft){Qe=Ft.target.result.docCount},e.update_seq&&(Ht=function(Ft){Ft.target.result&&Ft.target.result.length>0&&(Ye=Ft.target.result[0])},Te.openCursor(null,"prev").onsuccess=function(xe){var Fe=xe.target.result,He=void 0;return Fe&&Fe.key&&(He=Fe.key),Ht({target:{result:[He]}})}),!me&&0!==$){if(m)return function(e,t,n){var r=new Array(e.length),s=0;e.forEach(function(f,m){t.get(f).onsuccess=function(I){r[m]=I.target.result?I.target.result:{key:f,error:"not_found"},++s===e.length&&n(e,r,{})}})}(e.keys,be,Lt);if(-1===$)return function(e,t,n){if("function"!=typeof e.getAll){var r=[];e.openCursor(t).onsuccess=function(f){var m=f.target.result;m?(r.push(m.value),m.continue()):n({target:{result:r}})}}else e.getAll(t).onsuccess=n}(be,ue,function(Ft){var Ht=Ft.target.result;e.descending&&(Ht=Ht.reverse()),It(Ht)});P(be,ue,e.descending,$+I,Lt)}}(be,s,Te)},e._changes=function(be){return $o(be,e,r,s)},e._close=function(Ce){s.close(),Gi.delete(r),Ce()},e._getRevisionTree=function(Ce,be){var Te=tr(s,[cn],"readonly");if(Te.error)return be(Te.error);Te.txn.objectStore(cn).get(Ce).onsuccess=function(Be){var Qe=si(Be.target.result);Qe?be(null,Qe.rev_tree):be(Ge(a))}},e._doCompaction=function(Ce,be,Te){var $e=tr(s,[cn,_n,Un,Ar],"readwrite");if($e.error)return Te($e.error);var Be=$e.txn;Be.objectStore(cn).get(Ce).onsuccess=function(Ye){var ut=si(Ye.target.result);jr(ut.rev_tree,function(It,Lt,Vt,Qt,Kt){-1!==be.indexOf(Lt+"-"+Vt)&&(Kt.status="missing")}),Hi(be,Ce,Be);var qe=ut.winningRev,dt=ut.deleted;Be.objectStore(cn).put(Is(ut,qe,dt))},Be.onabort=er(Te),Be.oncomplete=function(){Te()}},e._getLocal=function(Ce,be){var Te=tr(s,[qn],"readonly");if(Te.error)return be(Te.error);var $e=Te.txn.objectStore(qn).get(Ce);$e.onerror=er(be),$e.onsuccess=function(Be){var Qe=Be.target.result;Qe?(delete Qe._doc_id_rev,be(null,Qe)):be(Ge(a))}},e._putLocal=function(Ce,be,Te){"function"==typeof be&&(Te=be,be={}),delete Ce._revisions;var Ue=Ce._rev,$e=Ce._id;Ce._rev=Ue?"0-"+(parseInt(Ue.split("-")[1],10)+1):"0-1";var Qe,Be=be.ctx;if(!Be){var Ye=tr(s,[qn],"readwrite");if(Ye.error)return Te(Ye.error);(Be=Ye.txn).onerror=er(Te),Be.oncomplete=function(){Qe&&Te(null,Qe)}}var qe,ut=Be.objectStore(qn);Ue?(qe=ut.get($e)).onsuccess=function(dt){var It=dt.target.result;It&&It._rev===Ue?ut.put(Ce).onsuccess=function(){Qe={ok:!0,id:Ce._id,rev:Ce._rev},be.ctx&&Te(null,Qe)}:Te(Ge(p))}:((qe=ut.add(Ce)).onerror=function(dt){Te(Ge(p)),dt.preventDefault(),dt.stopPropagation()},qe.onsuccess=function(){Qe={ok:!0,id:Ce._id,rev:Ce._rev},be.ctx&&Te(null,Qe)})},e._removeLocal=function(Ce,be,Te){"function"==typeof be&&(Te=be,be={});var Ue=be.ctx;if(!Ue){var $e=tr(s,[qn],"readwrite");if($e.error)return Te($e.error);(Ue=$e.txn).oncomplete=function(){Be&&Te(null,Be)}}var Be,Qe=Ce._id,Ye=Ue.objectStore(qn),ut=Ye.get(Qe);ut.onerror=er(Te),ut.onsuccess=function(qe){var dt=qe.target.result;dt&&dt._rev===Ce._rev?(Ye.delete(Qe),Be={ok:!0,id:Qe,rev:"0-0"},be.ctx&&Te(null,Be)):Te(Ge(a))}},e._destroy=function(Ce,be){z.removeAllListeners(r);var Te=Ms.get(r);Te&&Te.result&&(Te.result.close(),Gi.delete(r));var Ue=indexedDB.deleteDatabase(r);Ue.onsuccess=function(){Ms.delete(r),de()&&r in localStorage&&delete localStorage[r],be(null,{ok:!0})},Ue.onerror=er(be)};var ye=Gi.get(r);if(ye)return s=ye.idb,e._meta=ye.global,C()(function(){n(null,e)});var Re=indexedDB.open(r,5);Ms.set(r,Re),Re.onupgradeneeded=function(Ce){var be=Ce.target.result;if(Ce.oldVersion<1)return function(Ce){var be=Ce.createObjectStore(cn,{keyPath:"id"});Ce.createObjectStore(_n,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),Ce.createObjectStore(Un,{keyPath:"digest"}),Ce.createObjectStore(mn,{keyPath:"id",autoIncrement:!1}),Ce.createObjectStore(Vi),be.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),Ce.createObjectStore(qn,{keyPath:"_id"});var Te=Ce.createObjectStore(Ar,{autoIncrement:!0});Te.createIndex("seq","seq"),Te.createIndex("digestSeq","digestSeq",{unique:!0})}(be);var Te=Ce.currentTarget.transaction;Ce.oldVersion<3&&function(Ce){Ce.createObjectStore(qn,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(be),Ce.oldVersion<4&&function(Ce){var be=Ce.createObjectStore(Ar,{autoIncrement:!0});be.createIndex("seq","seq"),be.createIndex("digestSeq","digestSeq",{unique:!0})}(be);var Ue=[m,$,ue,me],$e=Ce.oldVersion;!function Be(){var Qe=Ue[$e-1];$e++,Qe&&Qe(Te,Be)}()},Re.onsuccess=function(Ce){(s=Ce.target.result).onversionchange=function(){s.close(),Gi.delete(r)},s.onabort=function(qe){M("error","Database has a global failure",qe.target.error),s.close(),Gi.delete(r)};var Ue,$e,Be,Qe,be=s.transaction([mn,Vi,cn],"readwrite"),Te=!1;function Ye(){void 0===Be||!Te||(e._meta={name:r,instanceId:Qe,blobSupport:Be},Gi.set(r,{idb:s,global:e._meta}),n(null,e))}function ut(){if(void 0!==$e&&void 0!==Ue){var qe=r+"_id";qe in Ue?Qe=Ue[qe]:Ue[qe]=Qe=qs(),Ue.docCount=$e,be.objectStore(mn).put(Ue)}}be.objectStore(mn).get(mn).onsuccess=function(qe){Ue=qe.target.result||{id:mn},ut()},function(e,t){e.objectStore(cn).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(r){$e=r.target.result,ut()}}(be),ao||(ao=function(e){return new Promise(function(t){var n=Mn([""]),r=e.objectStore(Vi).put(n,"key");r.onsuccess=function(){var s=navigator.userAgent.match(/Chrome\/(\d+)/),f=navigator.userAgent.match(/Edge\//);t(f||!s||parseInt(s[1],10)>=43)},r.onerror=e.onabort=function(s){s.preventDefault(),s.stopPropagation(),t(!1)}}).catch(function(){return!1})}(be)),ao.then(function(qe){Be=qe,Ye()}),be.oncomplete=function(){Te=!0,Ye()},be.onabort=er(n)},Re.onerror=function(Ce){var be=Ce.target.error&&Ce.target.error.message;be?-1!==be.indexOf("stored database is a higher version")&&(be=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):be="Failed to open indexedDB, are you in private browsing mode?",M("error",be),n(Ge(Oe,be))}}(n,e,r)},t,n.constructor)}Ta.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch{return!1}};const Ho=function(e){e.adapter("idb",Ta,!0)};var an=c(4004),Hn=c(4966),Ma=c.n(Hn),Ra=c(1452),xa=c.n(Ra),Ko=c(9456),Rs=c.n(Ko);function Gt(e){var t=e.split("-"),n="RxDB";return t.forEach(function(r){n+=bn(r)}),n+="Plugin",new Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { "+n+" } from 'rxdb/plugins/"+e+"';\n            addRxPlugin("+n+");\n        ")}function uo(e){return"string"!=typeof e&&(e=JSON.stringify(e)),xa().hash("rxdb-specific-hash-salt"+e)}var lo=0;function Kn(){var e=(new Date).getTime();return e<=lo&&(e=lo+1),lo=e,e}function Ci(){return new Promise(function(e){return setTimeout(e,0)})}function co(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){return setTimeout(t,e)})}Promise.resolve(!0);var mr=Promise.resolve(!1),Fs=Promise.resolve(null),Vr=Promise.resolve();function bn(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)}function Qi(e){for(;"."===e.charAt(0);)e=e.substr(1);for(;"."===e.slice(-1);)e=e.slice(0,-1);return e}function ui(e){if(!e)throw new Error("ensureNotFalsy() is falsy");return e}function Or(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return e;if(!t&&Array.isArray(e))return e.sort(function(r,s){return"string"==typeof r&&"string"==typeof s?r.localeCompare(s):"object"==typeof r?1:-1}).map(function(r){return Or(r,t)});if("object"==typeof e&&!Array.isArray(e)){if(e instanceof RegExp)return e;var n={};return Object.keys(e).sort(function(r,s){return r.localeCompare(s)}).forEach(function(r){n[r]=Or(e[r],t)}),n}return e}function ho(e,t){return t instanceof RegExp?t.toString():t}function pt(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="abcdefghijklmnopqrstuvwxyz",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function wi(e){var t={db:e};return"string"==typeof e&&(t={adapter:e,db:void 0}),t}var gr=function(e){return e&&Ma()(e,!1)};function jt(e){return Object.assign({},e)}function _o(e){return e[Object.keys(e)[0]]}var bo=Rs()();function zr(e){var t={};for(var n in e)if(e.hasOwnProperty(n))if("object"==typeof e[n]){var r=zr(e[n]);for(var s in r)!r.hasOwnProperty(s)||(t[n+"."+s]=r[s])}else t[n]=e[n];return t}function Di(e){return function(e){var t=e.split("-");return{height:parseInt(t[0],10),hash:t[1]}}(e).height}function li(e,t,n){return Object.defineProperty(e,t,{get:function(){return n}}),n}function us(e){return!(!e.includes("/")&&!e.includes("\\"))}function ci(e,t){var n=e.get(t);if(!n)throw new Error("missing value from map "+t);return n}function $r(e){return Array.isArray(e)}var vr_createBlobBuffer=function(t,n){var r;if(bo)return Buffer.from(t,{type:n});try{r=new Blob([t],{type:n})}catch{r=Buffer.from(t,{type:n})}return r},vr_toString=function(t){return"string"==typeof t?Promise.resolve(t):"undefined"!=typeof Buffer&&t instanceof Buffer?Ci().then(function(){return t.toString()}):new Promise(function(n){var r=new FileReader;r.addEventListener("loadend",function(f){n(f.target.result)}),"[object Uint8Array]"===Object.prototype.toString.call(t)&&(t=new Blob([t])),r.readAsText(t)})},ks={bufferSize:1,refCount:!0};function Ai(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oi(e,t,n){return t&&Ai(e.prototype,t),n&&Ai(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wr(e,t){return(Wr=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r})(e,t)}function Pi(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Wr(e,t)}function ls(e){return(ls=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(e)}function Ls(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pr(e,t,n){return(Pr=Ls()?Reflect.construct:function(s,f,m){var I=[null];I.push.apply(I,f);var J=new(Function.bind.apply(s,I));return m&&Wr(J,m.prototype),J}).apply(null,arguments)}function Zi(e){var t="function"==typeof Map?new Map:void 0;return Zi=function(r){if(null===r||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(r))return t.get(r);t.set(r,s)}function s(){return Pr(r,arguments,ls(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Wr(s,r)},Zi(e)}var Vn={isDevMode:function(){return!1},deepFreezeWhenDevMode:function(t){return t},validatePassword:function(t){throw Gt("encryption")},tunnelErrorMessage:function(t){return"RxDB Error-Code "+t+".\n        - To find out what this means, use the dev-mode-plugin https://pubkey.github.io/rxdb/custom-build.html#dev-mode\n        - Or search for this code https://github.com/pubkey/rxdb/search?q="+t+"\n        "}};function Xo(e,t,n){return"RxError ("+t+"):\n"+e+"\n"+function(e){var t="";return 0===Object.keys(e).length||(t+="Given parameters: {\n",t+=Object.keys(e).map(function(n){var r="[object Object]";try{r=JSON.stringify(e[n],function(s,f){return void 0===f?null:f},2)}catch{}return n+":"+r}).join("\n"),t+="}"),t}(n)}var qo=function(e){function t(r,s){var f,m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},I=Xo(s,r,m);return(f=e.call(this,I)||this).code=r,f.message=I,f.parameters=m,f.rxdb=!0,f}return Pi(t,e),t.prototype.toString=function(){return this.message},Oi(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}]),t}(Zi(Error)),Ns=function(e){function t(r,s){var f,m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},I=Xo(s,r,m);return(f=e.call(this,I)||this).code=r,f.message=I,f.parameters=m,f.rxdb=!0,f}return Pi(t,e),t.prototype.toString=function(){return this.message},Oi(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}]),t}(Zi(TypeError));function Ke(e,t){return new qo(e,Vn.tunnelErrorMessage(e),t)}function Xt(e,t){return new Ns(e,Vn.tunnelErrorMessage(e),t)}var Ti={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],postDestroyRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],createRxQuery:[],preQueryMatcher:[],preSortComparator:[],prePrepareQuery:[],preWriteToStorageInstance:[],postReadFromInstance:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[]};function wn(e,t){Ti[e].forEach(function(n){return n(t)})}function nr(e,t){return Promise.all(Ti[e].map(function(n){return n(t)}))}var di=function(t,n){try{return Promise.resolve(t.findLocalDocumentsById([n])).then(function(r){return r[n]||null})}catch(r){return Promise.reject(r)}},Tr=function(t,n){try{return Promise.resolve(t.bulkWrite([n])).then(function(r){if(Object.keys(r.error).length>0)throw _o(r.error);return _o(r.success)})}catch(r){return Promise.reject(r)}},wo=function(t,n){try{return Promise.resolve(t.findDocumentsById([n],!1)).then(function(r){return r[n]||null})}catch(r){return Promise.reject(r)}},js=function(t,n){try{var r=t.statics.prepareQuery(n.schema,{selector:{}});return Promise.resolve(n.query(r)).then(function(s){return s.documents})}catch(s){return Promise.reject(s)}};function Us(e,t,n){var r,f;if("DELETE"!==t.change.operation)if(n){var s={collection:n,doc:t.change.doc};wn("postReadFromInstance",s),r=n._crypter.decrypt(r=s.doc)}else r=t.change.doc;if("INSERT"!==t.change.operation)if(n){var m={collection:n,doc:t.change.previous};wn("postReadFromInstance",m),f=n._crypter.decrypt(f=m.doc)}else f=t.change.previous;return{eventId:t.eventId,documentId:t.documentId,collectionName:n?n.name:void 0,startTime:t.startTime,endTime:t.endTime,isLocal:e,operation:t.change.operation,documentData:Vn.deepFreezeWhenDevMode(r),previousDocumentData:Vn.deepFreezeWhenDevMode(f)}}function ra(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function ie(e,t,n){if(!e.s){if(n instanceof R){if(!n.s)return void(n.o=ie.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(ie.bind(null,e,t),ie.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var R=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,s=this.s;if(s){var f=1&s?t:n;if(f){try{ie(r,1,f(this.v))}catch(m){ie(r,2,m)}return r}return this}return this.o=function(m){try{var I=m.v;1&m.s?ie(r,1,t?t(I):I):n?ie(r,1,n(I)):ie(r,2,I)}catch($){ie(r,2,$)}},r},e}();function b(e){return e instanceof R&&1&e.s}function K(e,t,n){for(var r;;){var s=e();if(b(s)&&(s=s.v),!s)return f;if(s.then){r=0;break}var f=n();if(f&&f.then){if(!b(f)){r=1;break}f=f.s}if(t){var m=t();if(m&&m.then&&!b(m)){r=2;break}}}var I=new R,$=ie.bind(null,I,2);return(0===r?s.then(ue):1===r?f.then(J):m.then(me)).then(void 0,$),I;function J(ye){f=ye;do{if(t&&(m=t())&&m.then&&!b(m))return void m.then(me).then(void 0,$);if(!(s=e())||b(s)&&!s.v)return void ie(I,1,f);if(s.then)return void s.then(ue).then(void 0,$);b(f=n())&&(f=f.v)}while(!f||!f.then);f.then(J).then(void 0,$)}function ue(ye){ye?(f=n())&&f.then?f.then(J).then(void 0,$):J(f):ie(I,1,f)}function me(){(s=e())?s.then?s.then(ue).then(void 0,$):ue(s):ie(I,1,f)}}var ee=function(t,n,r,s){try{return r.multiInstance=n.multiInstance,Promise.resolve(Promise.all([n.storage.createStorageInstance(r),n.storage.createKeyObjectStorageInstance({databaseName:n.name,collectionName:ft(t),options:s,multiInstance:n.multiInstance})])).then(function(f){return{storageInstance:f[0],localDocumentsStore:f[1]}})}catch(f){return Promise.reject(f)}},ge=function(t,n){try{var r=!1,s=arguments,f=s.length>2&&void 0!==s[2]&&s[2],m={previous:n.previous?Me(t,jt(n.previous)):void 0,document:Me(t,jt(n.document))};return Promise.resolve(K(function(){return!r},void 0,function(){return ra(function(){return Promise.resolve(t.database.lockedRun(function(){return Tr(t.storageInstance,m)})).then(function(I){var $=Ve(t,I);return r=!0,$})},function(I){var $=I,J=$.documentId;return function(){if(f&&409===$.status)return Promise.resolve(t.database.lockedRun(function(){return wo(t.storageInstance,J)})).then(function(ue){if(!ue)throw Ke("SNH",{args:{writeRow:n}});m.previous=ue});throw 409===$.status?Ke("COL19",{collection:t.name,id:J,pouchDbError:$,data:n}):$}()})}))}catch(I){return Promise.reject(I)}};function Me(e,t){Vn.isDevMode()&&e.schema.fillPrimaryKey(t),t=e._crypter.encrypt(t);var n={collection:e,doc:t};return wn("preWriteToStorageInstance",n),n.doc}function Ve(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={collection:e,doc:t};return wn("postReadFromInstance",r),n?r.doc:e._crypter.decrypt(r.doc)}function Xe(e,t){var n=e.schema.fillObjectWithDefaults(t);return e.schema.fillPrimaryKey(n)}function ft(e){return e+"-local"}function Mt(e){if(!e.collection.schema.jsonSchema.attachments)throw Ke("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}var Dn=function(t,n){try{return Promise.resolve(t.hash(n)).then(function(r){var s=function(t){return"undefined"!=typeof Buffer&&t instanceof Buffer?Buffer.byteLength(t):t.size}(n);return{digest:t.hashKey+"-"+r,length:s}})}catch(r){return Promise.reject(r)}},Ii=function(t){try{var n=function(){var ye=s.collection.database.storage.statics;return s._atomicQueue=s._atomicQueue.then(function(){try{var Re=function(Ue){if(Ce)return Ue;var $e=jt(s._data);return $e._attachments=jt($e._attachments),Promise.resolve(Dn(s.collection.database.storage.statics,m)).then(function(Be){$e._attachments[f]={digest:Be.digest,length:Be.length,type:$,data:m};var Qe={previous:Me(s.collection,jt(s._data)),document:Me(s.collection,jt($e))};return Promise.resolve(Tr(s.collection.storageInstance,Qe)).then(function(Ye){var qe=Vs(f,Ye._attachments[f],s),dt=jt(s._data);return dt._rev=Ye._rev,dt._attachments=Ye._attachments,s._dataSync$.next(dt),qe})})},Ce=!1,be=function(){if(J&&s._data._attachments&&s._data._attachments[f]){var Te=s._data._attachments[f];return Promise.resolve(ye.hash(m)).then(function(Ue){if(Te.type===$&&Te.digest===ye.hashKey+"-"+Ue){var Be=s.getAttachment(f);return Ce=!0,Be}})}}();return Promise.resolve(be&&be.then?be.then(Re):Re(be))}catch(Te){return Promise.reject(Te)}}),s._atomicQueue},r=arguments,s=this,f=t.id,m=t.data,I=t.type,$=void 0===I?"text/plain":I,J=!(r.length>1&&void 0!==r[1])||r[1];Mt(s);var ue=function(){if(Ji(s.collection.schema))return Promise.resolve(vr_toString(m)).then(function(me){var ye=s.collection._crypter._encryptString(me);m=vr_createBlobBuffer(ye,"text/plain")})}();return Promise.resolve(ue&&ue.then?ue.then(n):n(ue))}catch(me){return Promise.reject(me)}},dr=function(){function e(n){var s=n.id,f=n.type,m=n.length,I=n.digest;this.doc=n.doc,this.id=s,this.type=f,this.length=m,this.digest=I,function(t){Object.entries(t.doc.collection.attachments).forEach(function(n){var s=n[1];Object.defineProperty(t,n[0],{get:function(){return s.bind(t)}})})}(this)}var t=e.prototype;return t.remove=function(){try{var r=this;return r.doc._atomicQueue=r.doc._atomicQueue.then(function(){try{var s=jt(r.doc._data);return s._attachments=jt(s._attachments),delete s._attachments[r.id],Promise.resolve(Tr(r.doc.collection.storageInstance,{previous:Me(r.doc.collection,jt(r.doc._data)),document:Me(r.doc.collection,s)})).then(function(f){var m=jt(r.doc._data);m._rev=f._rev,m._attachments=f._attachments,r.doc._dataSync$.next(m)})}catch(f){return Promise.reject(f)}}),Promise.resolve(r.doc._atomicQueue)}catch(s){return Promise.reject(s)}},t.getData=function(){try{var r=this;return Promise.resolve(r.doc.collection.storageInstance.getAttachmentData(r.doc.primary,r.id)).then(function(s){return Ji(r.doc.collection.schema)?Promise.resolve(vr_toString(s)).then(function(f){return vr_createBlobBuffer(r.doc.collection._crypter._decryptString(f),r.type)}):s})}catch(s){return Promise.reject(s)}},t.getStringData=function(){return this.getData().then(function(r){return vr_toString(r)})},e}();function Vs(e,t,n){return new dr({doc:n,id:e,type:t.type,length:t.length,digest:t.digest})}function Ji(e){return!(!e.jsonSchema.attachments||!e.jsonSchema.attachments.encrypted)}function ds(e){Mt(this);var t=this._dataSync$.getValue();return t._attachments&&t._attachments[e]?Vs(e,t._attachments[e],this):null}function ia(){var e=this;Mt(this);var t=this._dataSync$.getValue();return t._attachments?Object.keys(t._attachments).map(function(n){return Vs(n,t._attachments[n],e)}):[]}var Kl={RxDocument:function(t){t.putAttachment=Ii,t.getAttachment=ds,t.allAttachments=ia,Object.defineProperty(t,"allAttachments$",{get:function(){var r=this;return this._dataSync$.pipe((0,an.U)(function(s){return s._attachments?s._attachments:{}}),(0,an.U)(function(s){return Object.entries(s)}),(0,an.U)(function(s){return s.map(function(f){return Vs(f[0],f[1],r)})}))}})}},sa={preMigrateDocument:function(t){try{var n=t.docData._attachments,r=function(){if(n){var s=!!Ji(t.oldCollection.schema),f={};return Promise.resolve(Promise.all(Object.keys(n).map(function(m){try{var I=n[m];return Promise.resolve(t.oldCollection.storageInstance.getAttachmentData(t.docData[t.oldCollection.schema.primaryPath],m)).then(function(J){function ue(){return Promise.resolve(Dn(t.oldCollection.database.storage.statics,J)).then(function(ye){f[m]={digest:ye.digest,length:ye.length,type:I.type,data:J}})}var me=function(){if(s)return Promise.resolve(vr_toString(J).then(function(ye){return vr_createBlobBuffer(t.oldCollection._crypter._decryptString(ye),I.type)})).then(function(ye){J=ye})}();return me&&me.then?me.then(ue):ue()})}catch(J){return Promise.reject(J)}}))).then(function(){t.docData._attachments=f})}}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(s){return Promise.reject(s)}},postMigrateDocument:function(t){return Promise.resolve()}},Na={name:"attachments",rxdb:!0,prototypes:Kl,overwritable:{},hooks:sa},Ql=c(2559),Fu=c.n(Ql),ku=c(8624),Qn=c.n(ku),oa=c(1135),aa=c(1884);function Ua(e,t){var n;return{version:e,type:"object",primaryKey:t,properties:(n={},n[t]={type:"string"},n),required:[t]}}function zs(e,t){var n=t;return n=Qi(n="properties."+(n=n.replace(/\./g,".properties."))),Qn().get(e,n)}function zn(e,t,n){if(!e.s){if(n instanceof fs){if(!n.s)return void(n.o=zn.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(zn.bind(null,e,t),zn.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var fs=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,s=this.s;if(s){var f=1&s?t:n;if(f){try{zn(r,1,f(this.v))}catch(m){zn(r,2,m)}return r}return this}return this.o=function(m){try{var I=m.v;1&m.s?zn(r,1,t?t(I):I):n?zn(r,1,n(I)):zn(r,2,I)}catch($){zn(r,2,$)}},r},e}();function $s(e){return e instanceof fs&&1&e.s}var Do={get _data(){if(this.isInstanceOfRxDocument)return this._dataSync$.getValue()},get primaryPath(){if(this.isInstanceOfRxDocument)return this.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){if(this.isInstanceOfRxDocument)return this._data._rev},get deleted$(){if(this.isInstanceOfRxDocument)return this._isDeleted$.asObservable()},get deleted(){if(this.isInstanceOfRxDocument)return this._isDeleted$.getValue()},get $(){return this._dataSync$.asObservable().pipe((0,an.U)(function(t){return Vn.deepFreezeWhenDevMode(t)}))},_handleChangeEvent:function(t){if(t.documentId===this.primary){var r=Di(((e=t).documentData?e.documentData:e.previousDocumentData)._rev);if(!(Di(this._data._rev)>r))switch(t.operation){case"INSERT":break;case"UPDATE":this._dataSync$.next(t.documentData);break;case"DELETE":this.collection._docCache.delete(this.primary),this._isDeleted$.next(!0)}}var e},get$:function(t){if(t.includes(".item."))throw Ke("DOC1",{path:t});if(t===this.primaryPath)throw Ke("DOC2");if(this.collection.schema.finalFields.includes(t))throw Ke("DOC3",{path:t});if(!zs(this.collection.schema.jsonSchema,t))throw Ke("DOC4",{path:t});return this._dataSync$.pipe((0,an.U)(function(r){return Qn().get(r,t)}),(0,aa.x)())},populate:function(t){var n=zs(this.collection.schema.jsonSchema,t),r=this.get(t);if(!r)return Fs;if(!n)throw Ke("DOC5",{path:t});if(!n.ref)throw Ke("DOC6",{path:t,schemaObj:n});var s=this.collection.database.collections[n.ref];if(!s)throw Ke("DOC7",{ref:n.ref,path:t,schemaObj:n});return"array"===n.type?s.findByIds(r).then(function(f){var m=f.values();return Array.from(m)}):s.findOne(r).exec()},get:function(t){if(this._data){var n=Qn().get(this._data,t);return"object"!=typeof n||Array.isArray(n)?Vn.deepFreezeWhenDevMode(n):(n=gr(n),Bu(this.collection.schema,n,t,this),n)}},toJSON:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)return Vn.deepFreezeWhenDevMode(this._data);var n=jt(this._data);return delete n._rev,delete n._attachments,Vn.deepFreezeWhenDevMode(n)},set:function(t,n){if(!this._isTemporary)throw Xt("DOC16",{objPath:t,value:n});if("string"!=typeof t)throw Xt("DOC15",{objPath:t,value:n});if(!Object.is(this.get(t),n)){var r=t.split(".");r.pop();var s=r.join(".");if(void 0===Qn().get(this._data,s))throw Ke("DOC10",{childpath:t,rootPath:s});return Qn().set(this._data,t,n),this}},update:function(t){throw Gt("update")},putAttachment:function(){throw Gt("attachments")},getAttachment:function(){throw Gt("attachments")},allAttachments:function(){throw Gt("attachments")},get allAttachments$(){throw Gt("attachments")},atomicUpdate:function(t){var n=this;return new Promise(function(r,s){n._atomicQueue=n._atomicQueue.then(function(){try{var f=function(ue){if(m)return ue;r(n)},m=!1,I=!1,$=function(e,t,n){for(var r;;){var s=e();if($s(s)&&(s=s.v),!s)return f;if(s.then){r=0;break}var m,f=n();if(f&&f.then){if(!$s(f)){r=1;break}f=f.s}}var I=new fs,$=zn.bind(null,I,2);return(0===r?s.then(ue):1===r?f.then(J):m.then(me)).then(void 0,$),I;function J(ye){f=ye;do{if(!(s=e())||$s(s)&&!s.v)return void zn(I,1,f);if(s.then)return void s.then(ue).then(void 0,$);$s(f=n())&&(f=f.v)}while(!f||!f.then);f.then(J).then(void 0,$)}function ue(ye){ye?(f=n())&&f.then?f.then(J).then(void 0,$):J(f):zn(I,1,f)}function me(){(s=e())?s.then?s.then(ue).then(void 0,$):ue(s):zn(I,1,f)}}(function(){return!m&&!I},0,function(){var J=n._dataSync$.getValue(),ue=function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}(function(){return Promise.resolve(t(gr(n._dataSync$.getValue()),n)).then(function(me){return n.collection&&(me=n.collection.schema.fillObjectWithDefaults(me)),Promise.resolve(n._saveData(me,J)).then(function(){I=!0})})},function(me){var ye=function(){if((e=me).parameters&&e.parameters.pouchDbError&&409===e.parameters.pouchDbError.status)return Promise.resolve(Ci()).then(function(){});var e;s(me),m=!0}();return ye&&ye.then?ye.then(function(){}):void 0});if(ue&&ue.then)return ue.then(function(){})});return Promise.resolve($&&$.then?$.then(f):f($))}catch(J){return Promise.reject(J)}})})},atomicPatch:function(t){return this.atomicUpdate(function(n){return Object.entries(t).forEach(function(r){n[r[0]]=r[1]}),n})},_saveData:function(t,n){try{var r=this;if(t=t,r._isDeleted$.getValue())throw Ke("DOC11",{id:r.primary,document:r});return r.collection.schema.validateChange(n,t),Promise.resolve(r.collection._runHooks("pre","save",t,r)).then(function(){return r.collection.schema.validate(t),Promise.resolve(ge(r.collection,{previous:n,document:t})).then(function(){return r.collection._runHooks("post","save",t,r)})})}catch(s){return Promise.reject(s)}},save:function(){var t=this;if(!this._isTemporary)throw Ke("DOC17",{id:this.primary,document:this});return this.collection.insert(this).then(function(){return t._isTemporary=!1,t.collection._docCache.set(t.primary,t),t._dataSync$.next(t._data),!0})},remove:function(){var t=this;if(this.deleted)return Promise.reject(Ke("DOC13",{document:this,id:this.primary}));var n=jt(this._data);return this.collection._runHooks("pre","remove",n,this).then(function(){return n._deleted=!0,ge(t.collection,{previous:t._data,document:n})}).then(function(){return t.collection._runHooks("post","remove",n,t)}).then(function(){return t})},destroy:function(){throw Ke("DOC14")}};function Lu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Do,t=function(r,s){this.collection=r,this._isTemporary=!1,this._dataSync$=new oa.X(s),this._isDeleted$=new oa.X(!1),this._atomicQueue=Vr,this.isInstanceOfRxDocument=!0};return t.prototype=e,t}function Bu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!==t){var s=zs(e.jsonSchema,n);void 0!==s&&(s.properties&&(s=s.properties),Object.keys(s).forEach(function(f){var m=Qi(n+"."+f);t.__defineGetter__(f,function(){var I=r||this;if(I.get&&"function"==typeof I.get)return I.get(m)}),Object.defineProperty(t,f+"$",{get:function(){return(r||this).get$(m)},enumerable:!1,configurable:!1}),Object.defineProperty(t,f+"_",{get:function(){return(r||this).populate(m)},enumerable:!1,configurable:!1}),t.__defineSetter__(f,function(I){return(r||this).set(m,I)})}))}}function Nu(e,t,n){if(n[t.schema.primaryPath]&&n[t.schema.primaryPath].startsWith("_design"))return null;var r=new e(t,n);return wn("createRxDocument",r),r}var Va=function(){function e(n){this.jsonSchema=n,this.indexes=function(e){return(e.indexes||[]).map(function(t){return $r(t)?t:[t]})}(this.jsonSchema),this.primaryPath=Kr(this.jsonSchema.primaryKey),this.finalFields=function(e){var t=Object.keys(e.properties).filter(function(r){return e.properties[r].final}),n=Kr(e.primaryKey);return t.push(n),"string"!=typeof e.primaryKey&&e.primaryKey.fields.forEach(function(r){return t.push(r)}),t}(this.jsonSchema),this.jsonSchema.required=this.jsonSchema.required.concat(this.finalFields).filter(function(r){return!r.includes(".")}).filter(function(r,s,f){return f.indexOf(r)===s})}var t=e.prototype;return t.validateChange=function(r,s){var f=this;this.finalFields.forEach(function(m){if(!Fu()(r[m],s[m]))throw Ke("DOC9",{dataBefore:r,dataAfter:s,fieldName:m,schema:f.jsonSchema})})},t.validate=function(r,s){},t.fillObjectWithDefaults=function(r){return r=jt(r),Object.entries(this.defaultValues).filter(function(s){var f=s[0];return!r.hasOwnProperty(f)||void 0===r[f]}).forEach(function(s){return r[s[0]]=s[1]}),r},t.getDocumentPrototype=function(){var r={};return Bu(this,r,""),li(this,"getDocumentPrototype",function(){return r}),r},t.getPrimaryOfDocumentData=function(r){return ju(this.jsonSchema,r)},t.fillPrimaryKey=function(r){var s=jt(r),f=ju(this.jsonSchema,r),m=r[this.primaryPath];if(m&&m!==f)throw Ke("DOC19",{args:{documentData:r,existingPrimary:m,newPrimary:f},schema:this.jsonSchema});return s[this.primaryPath]=f,s},Oi(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"normalized",get:function(){return li(this,"normalized",function(e){var t=Or(gr(e));return e.indexes&&(t.indexes=Array.from(e.indexes)),"object"==typeof t.primaryKey&&"object"==typeof e.primaryKey&&(t.primaryKey.fields=e.primaryKey.fields),t}(this.jsonSchema))}},{key:"topLevelFields",get:function(){return Object.keys(this.normalized.properties)}},{key:"defaultValues",get:function(){var r={};return Object.entries(this.normalized.properties).filter(function(s){return s[1].hasOwnProperty("default")}).forEach(function(s){return r[s[0]]=s[1].default}),li(this,"defaultValues",r)}},{key:"crypt",get:function(){return!!(this.jsonSchema.encrypted&&this.jsonSchema.encrypted.length>0||this.jsonSchema.attachments&&this.jsonSchema.attachments.encrypted)}},{key:"encryptedPaths",get:function(){return this.jsonSchema.encrypted||[]}},{key:"hash",get:function(){return li(this,"hash",uo(this.normalized))}}]),e}();function Kr(e){return"string"==typeof e?e:e.key}function ju(e,t){if("string"==typeof e.primaryKey)return t[e.primaryKey];var n=e.primaryKey;return n.fields.map(function(r){var s=Qn().get(t,r);if(void 0===s)throw Ke("DOC18",{args:{field:r,documentData:t}});return s}).join(n.separator)}function rc(e){return(e=gr(e)).additionalProperties=!1,e.hasOwnProperty("keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes||[],e.required=e.required||[],e.encrypted=e.encrypted||[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.version=e.version||0,e}var Uu=function(){function e(n,r){this.password=n,this.schema=r}var t=e.prototype;return t._encryptString=function(r){throw Gt("encryption")},t._decryptString=function(r){throw Gt("encryption")},t.encrypt=function(r){var s=this;if(!this.password)return r;var f=(r=jt(r))._attachments;delete r._attachments;var m=gr(r);return f&&(m._attachments=f),this.schema.encryptedPaths.forEach(function(I){var $=Qn().get(m,I);if(void 0!==$){var J=JSON.stringify($),ue=s._encryptString(J);Qn().set(m,I,ue)}}),m},t.decrypt=function(r){var s=this;if(!this.password)return r;var f=(r=jt(r))._attachments;delete r._attachments;var m=gr(r);return f&&(m._attachments=f),this.schema.encryptedPaths.forEach(function(I){var $=Qn().get(m,I);if(void 0!==$){var J=s._decryptString($),ue=JSON.parse(J);Qn().set(m,I,ue)}}),m},e}(),oc=c(3905),ac=c(6451),Oo=c(5577),rr=c(9300),Po=c(7579),uc=c(6063);class Vu extends Po.x{constructor(t=1/0,n=1/0,r=uc.l){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:f,_windowTime:m}=this;n||(r.push(t),!s&&r.push(f.now()+m)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:s}=this,f=s.slice();for(let m=0;m<f.length&&!t.closed;m+=r?1:2)t.next(f[m]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:s}=this,f=(s?1:2)*t;if(t<1/0&&f<r.length&&r.splice(0,r.length-f),!s){const m=n.now();let I=0;for(let $=1;$<r.length&&r[$]<=m;$+=2)I=$;I&&r.splice(0,I+1)}}}var lc=c(3099);function zu(e,t,n){var r,s;let f,m=!1;return e&&"object"==typeof e?(f=null!==(r=e.bufferSize)&&void 0!==r?r:1/0,t=null!==(s=e.windowTime)&&void 0!==s?s:1/0,m=!!e.refCount,n=e.scheduler):f=e??1/0,(0,lc.B)({connector:()=>new Vu(f,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:m})}var To=c(8505),$a=new WeakMap,Wa=new WeakMap;function $u(e){if(!Wa.has(e)){var t=Lu(function(e){if(!$a.has(e)){var t=e.schema.getDocumentPrototype(),n=function(e){var t={};return Object.entries(e.methods).forEach(function(n){t[n[0]]=n[1]}),t}(e),s={};[t,n,Do].forEach(function(f){Object.getOwnPropertyNames(f).forEach(function(I){var $=Object.getOwnPropertyDescriptor(f,I),J=!0;(I.startsWith("_")||I.endsWith("_")||I.startsWith("$")||I.endsWith("$"))&&(J=!1),"function"==typeof $.value?Object.defineProperty(s,I,{get:function(){return $.value.bind(this)},enumerable:J,configurable:!1}):($.enumerable=J,$.configurable=!1,$.writable&&($.writable=!1),Object.defineProperty(s,I,$))})}),$a.set(e,s)}return $a.get(e)}(e));Wa.set(e,t)}return Wa.get(e)}function Ws(e,t){var n=t[e.schema.primaryPath],r=e._docCache.get(n);if(r)return r;var s=Nu($u(e),e,Vn.deepFreezeWhenDevMode(t));return e._docCache.set(n,s),e._runHooksSync("post","create",t,s),wn("postCreateRxDocument",s),s}var Ka=function(e){e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Ga=function(e){e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Io=function(e){var t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Mo=function(e){var t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Qa=function(e){e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);for(var t=e.queryParams.primaryKey,n=e.previousResults,r=0;r<n.length;r++)if(n[r][t]===e.changeEvent.id){n.splice(r,1);break}},hs=function(e){var t=e.changeEvent.id,n=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,n)}else if(e.previousResults.find(function(s){return s[e.queryParams.primaryKey]===t}))return;!function(e,t,n,r){var s=e,f=s.length-1,m=0,I=0;if(0===s.length)return s.push(t),s;for(;m<=f;)n(s[I=m+(f-m>>1)],t)<=0?m=I+1:f=I-1;n(s[I],t)<=0&&I++,s.splice(I,0,t)}(e.previousResults,n,e.queryParams.sortComparator)},xo=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],Ku={doNothing:function(e){},insertFirst:Ka,insertLast:Ga,removeFirstItem:Io,removeLastItem:Mo,removeFirstInsertLast:function(e){Io(e),Ga(e)},removeLastInsertFirst:function(e){Mo(e),Ka(e)},removeFirstInsertFirst:function(e){Io(e),Ka(e)},removeLastInsertLast:function(e){Mo(e),Ga(e)},removeExisting:Qa,replaceExisting:function(e){for(var t=e.changeEvent.doc,n=e.queryParams.primaryKey,r=e.previousResults,s=0;s<r.length;s++)if(r[s][n]===e.changeEvent.id){r[s]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}},alwaysWrong:function(e){var t={_id:"wrongHuman"+(new Date).getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},insertAtSortPosition:hs,removeExistingAndInsertAtSortPosition:function(e){Qa(e),hs(e)},runFullQueryAgain:function(e){throw new Error("Action runFullQueryAgain must be implemented by yourself")},unknownAction:function(e){throw new Error("Action unknownAction should never be called")}};function Qu(e){return e?"1":"0"}function qa(e,t){for(var n=[],r=0,s=e.length;r<s;r+=t)n.push(e.substring(r,r+t));return n}function la(e){return e.charCodeAt(0)-40}!function(e){void 0===e&&(e=6);for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,s=0;s<e;s++)n.charAt(Math.floor(Math.random()*r))}(4);var ps="UNKNOWN";function da(e){return e[e.length-1]}var nt,fa=function(e){return!!e.queryParams.limit},le={0:function(e){return"INSERT"===e.changeEvent.operation},1:function(e){return"UPDATE"===e.changeEvent.operation},2:function(e){return"DELETE"===e.changeEvent.operation},3:fa,4:function(e){return 1===e.queryParams.limit},5:function(e){return!!(e.queryParams.skip&&e.queryParams.skip>0)},6:function(e){return 0===e.previousResults.length},7:function(e){return e.changeEvent.previous===ps},8:function(e){return fa(e)&&e.previousResults.length>=e.queryParams.limit},9:function(e){var t=e.previousResults[0];return!(!t||t[e.queryParams.primaryKey]!==e.changeEvent.id)},10:function(e){var t=da(e.previousResults);return!(!t||t[e.queryParams.primaryKey]!==e.changeEvent.id)},11:function(e){var t=e.queryParams.sortFields,n=e.changeEvent.previous,r=e.changeEvent.doc;if(!r)return!1;if(!n||n===ps)return!0;for(var s=0;s<t.length;s++){var f=t[s];if(Qn().get(n,f)!==Qn().get(r,f))return!0}return!1},12:function(e){var t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);for(var r=e.queryParams.primaryKey,s=e.previousResults,f=0;f<s.length;f++)if(s[f][r]===t)return!0;return!1},13:function(e){var t=e.changeEvent.previous;if(!t||t===ps)return!1;var n=e.previousResults[0];return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)<0)},14:function(e){var t=e.changeEvent.previous;if(!t||t===ps)return!1;var n=da(e.previousResults);return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)>0)},15:function(e){var t=e.changeEvent.doc;if(!t)return!1;var n=e.previousResults[0];return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)<0)},16:function(e){var t=e.changeEvent.doc;if(!t)return!1;var n=da(e.previousResults);return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)>0)},17:function(e){var t=e.changeEvent.previous;return!(!t||t===ps)&&e.queryParams.queryMatcher(t)},18:function(e){var t=e.changeEvent.doc;return!!t&&e.queryParams.queryMatcher(t)}};var Ut=function(e){return function(e,t,n){for(var r=e,s=e.l;;){if("number"==typeof(r=r[Qu(t[s](n))])||"string"==typeof r)return r;s=r.l}}((nt||(nt=function(e){for(var t=new Map,r=2+2*parseInt(e.charAt(0)+e.charAt(1),10),f=qa(e.substring(2,r),2),m=0;m<f.length;m++){var $=(I=f[m]).charAt(0),J=la(I.charAt(1));t.set($,J)}var me=qa(e.substring(r,e.length-3),4);for(m=0;m<me.length;m++){$=(I=me[m]).charAt(0);var I,ye=I.charAt(1),Re=I.charAt(2),Ce=la(I.charAt(3));if(!t.has(ye))throw new Error("missing node with id "+ye);if(!t.has(Re))throw new Error("missing node with id "+Re);var be=t.get(ye),Te=t.get(Re);t.set($,{l:Ce,0:be,1:Te})}var $e=e.slice(-3),Be=$e.charAt(0),Qe=$e.charAt(1);return{l:la($e.charAt(2)),0:t.get(Be),1:t.get(Qe)}}("14a2b0c/d1e,f+g5h.i4j*k-l)m(n6ohk1pdf1qef1rin-sjn-ton-ugn-vmn-whn-xkn-yln-zdf5{ef5|wx5}df7~dz7\x7fef7\xa1bk7\xa2e{7\xa3g|7\xa4ry7\xa5dp7\xa6gk7\xa7eq7\xa8gt7\xa9ac7\xaamv7\xabgu7\xacnm7\xadiy7\xaenw7\xaf\xa4s8\xb0\xab\xa68\xb1\xack8\xb2\xaam8\xb3\xaev8\xb4\xabn8\xb5\xacn8\xb6vm8\xb7xv8\xb8mn8\xb9\xadj8\xba\xaem8\xbbxm8\xbc\xad\xb93\xbd}~3\xbe\xa9\xb03\xbf\x7f\xa23\xc0\xa1\xa33\xc1m\xb13\xc2\xae\xba3\xc3m\xba3\xc4\xa9\xb43\xc5b\xae3\xc6m\xb53\xc7m\xbb3\xc8x\xbb3\xc9kn3\xcam\xb83\xcb\xbcj6\xcc\xc2m6\xcd\xc6\xc36\xce\xc8m6\xcfnm6\xd0\xca\xc76\xd1\xcc\xce,\xd2\xcd\xd0,\xd3\xc5\xc9,\xd4\xb2\xb6,\xd5\xb3\xb7,\xd6\xaen,\xd7\xba\xbb,\xd8mf9\xd9\xcb\xc19\xdaym9\xdbm\xcf9\xdc\xd1\xd29\xddz{2\xdepq2\xdf\xbd\xbf2\xe0\xbe\xc02\xe1\xa5\xa72\xe2\xb0\xa82\xe3\xc4\xd32\xe4\xb4\xd62\xe5\xddn0\xe6\xden0\xe7\xd8\xdb0\xe8\xd9\xdc0\xe9\xdfn0\xea\xe0\xe30\xeb\xb2\xd40\xec\xaf\xd50\xed\xe1n0\xee\xe2\xe40\xef\xb9\xd70\xf0\xe7v/\xf1\xe5\xe6/\xf2\xe7\xeb/\xf3\xe8\xec/\xf4\xe9\xed/\xf5\xea\xee/\xf6\xday/\xf7\xf2m(\xf8\xf3\xef(\xf9\xf6y(\xfa\xf7\xf8:\xfb\xf4\xf5:\xfcm\xf9:\xfd\xf0\xf14\xfe\xfa\xfb4\xff\xfe\xfd*\u0100\xfcm*\xff\u0100.")),nt),le,e)};function En(e,t){return t.sort&&0!==t.sort.length?t.sort.map(function(n){return Object.keys(n)[0]}):[e]}var Ln=new WeakMap;function ms(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var n=function(e){if(Ln.has(e))return Ln.get(e);var t=e.collection,n=e.getPreparedQuery(),r=t.schema.primaryPath,s=t.database.storage.statics.getSortComparator(t.storageInstance.schema,n),m=t.database.storage.statics.getQueryMatcher(t.storageInstance.schema,n),$={primaryKey:e.collection.schema.primaryPath,skip:n.skip,limit:n.limit,sortFields:En(r,e.mangoQuery),sortComparator:function(ue,me){var ye={docA:ue,docB:me,rxQuery:e};return wn("preSortComparator",ye),s(ye.docA,ye.docB)},queryMatcher:function(ue){var me={doc:ue,rxQuery:e};return wn("preQueryMatcher",me),m(me.doc)}};return Ln.set(e,$),$}(e),r=e._resultsData.slice(),s=e._resultsDataMap,f=!1,m=t.find(function(I){var $=function(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:Vn.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}(I),ue=function(e){var t=Ut(e);return xo[t]}({queryParams:n,changeEvent:$,previousResults:r,keyDocumentMap:s});return"runFullQueryAgain"===ue||("doNothing"!==ue?(f=!0,function(e,t,n,r,s){(0,Ku[e])({queryParams:t,changeEvent:n,previousResults:r,keyDocumentMap:s})}(ue,n,$,r,s),!1):void 0)});return m?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:f,newResults:r}}var Gr=function(){function e(){this._map=new Map}return e.prototype.getByQuery=function(r){var s=r.toString();return this._map.has(s)||this._map.set(s,r),this._map.get(s)},e}();function Zn(){return new Gr}function Qr(e,t){t.uncached=!0;var n=t.toString();e._map.delete(n)}var Mi=(100,3e4,function(r,s){if(!(s._map.size<100)){for(var f=Kn()-3e4,m=[],$=0,J=Array.from(s._map.values());$<J.length;$++){var ue=J[$];if(!(ue.refCount$.observers.length>0)){if(0===ue._lastEnsureEqual&&ue._creationTime<f){Qr(s,ue);continue}m.push(ue)}}var me=m.length-100;me<=0||m.sort(function(Ce,be){return Ce._lastEnsureEqual-be._lastEnsureEqual}).slice(0,me).forEach(function(Ce){return Qr(s,Ce)})}}),ko=new WeakSet;var lt=0,Ct=function(){function e(n,r,s){this.id=++lt,this._execOverDatabaseCount=0,this._creationTime=Kn(),this._lastEnsureEqual=0,this.other={},this.uncached=!1,this.refCount$=new oa.X(null),this._latestChangeEvent=-1,this._resultsData=null,this._resultsDataMap=new Map,this._lastExecStart=0,this._lastExecEnd=0,this._resultsDocs$=new oa.X(null),this._ensureEqualQueue=mr,this.op=n,this.mangoQuery=r,this.collection=s,r||(r={selector:{}})}var t=e.prototype;return t._setResultData=function(r){var s=this,f=function(e,t){return t.map(function(n){return Ws(e,n)})}(this.collection,r),m=this.collection.schema.primaryPath;return this._resultsDataMap=new Map,this._resultsData=f.map(function(I){var $=I._dataSync$.getValue();return s._resultsDataMap.set($[m],$),$}),this._resultsDocs$.next(f),f},t._execOverDatabase=function(){var s,r=this;switch(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=Kn(),this.op){case"find":s=this.collection._queryStorageInstance(this);break;case"findOne":s=this.collection._queryStorageInstance(this,1);break;default:throw Ke("QU1",{collection:this.collection.name,op:this.op})}return s.then(function(f){return r._lastExecEnd=Kn(),f})},t.exec=function(r){var s=this;if(r&&"findOne"!==this.op)throw Ke("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Zr(this).then(function(){return(0,oc.z)(s.$)}).then(function(f){if(!f&&r)throw Ke("QU10",{collection:s.collection.name,query:s.mangoQuery,op:s.op});return f})},t.toString=function(){var r=Or({op:this.op,query:this.mangoQuery,other:this.other},!0),s=JSON.stringify(r,ho);return this.toString=function(){return s},s},t.getPreparedQuery=function(){var r={rxQuery:this,mangoQuery:gr(this.mangoQuery)};wn("prePrepareQuery",r);var s=this.collection.database.storage.statics.prepareQuery(this.collection.storageInstance.schema,r.mangoQuery);return this.getPreparedQuery=function(){return s},s},t.doesDocumentDataMatch=function(r){return!r._deleted&&this.queryMatcher(Me(this.collection,r))},t.remove=function(){var r;return this.exec().then(function(s){return r=s,Array.isArray(s)?Promise.all(s.map(function(f){return f.remove()})):s.remove()}).then(function(){return r})},t.update=function(r){throw Gt("update")},t.where=function(r){throw Gt("query-builder")},t.sort=function(r){throw Gt("query-builder")},t.skip=function(r){throw Gt("query-builder")},t.limit=function(r){throw Gt("query-builder")},Oi(e,[{key:"$",get:function(){var r=this;if(!this._$){var s=this._resultsDocs$.pipe((0,Oo.z)(function(m){return Zr(r).then(function(I){return!I&&m})}),(0,rr.h)(function(m){return!!m}),(0,an.U)(function(m){return m.slice(0)}),(0,an.U)(function(m){return"findOne"===r.op?0===m.length?null:m[0]:m}),zu(ks)).asObservable(),f=this.collection.$.pipe((0,To.b)(function(){return Zr(r)}),(0,rr.h)(function(){return!1}));this._$=(0,ac.T)(s,f,this.refCount$.pipe((0,rr.h)(function(){return!1})))}return this._$}},{key:"queryMatcher",get:function(){return li(this,"queryMatcher",this.collection.database.storage.statics.getQueryMatcher(this.collection.storageInstance.schema,this.getPreparedQuery()))}},{key:"asRxQuery",get:function(){return this}}]),e}();function Tn(e){return e.collection._queryCache.getByQuery(e)}function yr(e,t,n){if(t&&"object"!=typeof t)throw Xt("QU7",{queryObj:t});if(Array.isArray(t))throw Xt("QU8",{queryObj:t});wn("preCreateRxQuery",{op:e,queryObj:t,collection:n});var r=new Ct(e,t,n);return wn("createRxQuery",r=Tn(r)),function(e){ko.has(e)||(ko.add(e),Ci().then(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"object"==typeof window&&window.requestIdleCallback?new Promise(function(t){return window.requestIdleCallback(t,{timeout:e})}):co(0)}(200)}).then(function(){e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),ko.delete(e)}))}(n),r}function ir(e){return e._latestChangeEvent>=e.asRxQuery.collection._changeEventBuffer.counter}function Zr(e){return e.collection.database.destroyed||ir(e)?mr:(e._ensureEqualQueue=e._ensureEqualQueue.then(function(){return function(e){if(e._lastEnsureEqual=Kn(),e.collection.database.destroyed||ir(e))return mr;var t=!1,n=!1;if(-1===e._latestChangeEvent&&(n=!0),!n){var r=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(null===r)n=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.counter;var s=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(r),f=ms(e,s);f.runFullQueryAgain?n=!0:f.changed&&(t=!0,e._setResultData(f.newResults))}}if(n){var m=e.collection._changeEventBuffer.counter;return e._execOverDatabase().then(function(I){return e._latestChangeEvent=m,Fu()(I,e._resultsData)||(t=!0,e._setResultData(I)),t})}return t}(e)}),e._ensureEqualQueue)}var il=c(8675),_r=function(){function e(){this._map=new Map,this._map=new Map}var t=e.prototype;return t.get=function(r){return this._map.get(r)},t.set=function(r,s){return this._map.set(r,s)},t.delete=function(r){return this._map.delete(r)},e}();function Gs(){return new _r}var Lo=function(){function e(n){var r=this;this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=n,this.subs.push(this.collection.$.pipe((0,rr.h)(function(s){return!s.isLocal})).subscribe(function(s){return r._handleChangeEvent(s)}))}var t=e.prototype;return t._handleChangeEvent=function(r){for(this.counter++,this.buffer.push(r),this.eventCounterMap.set(r,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},t.getArrayIndexByPointer=function(r){var f=this.eventCounterMap.get(this.buffer[0]);return r<f?null:r-f},t.getFrom=function(r){var s=[],f=this.getArrayIndexByPointer(r);if(null===f)return null;for(;;){var m=this.buffer[f];if(f++,!m)return s;s.push(m)}},t.runFrom=function(r,s){var f=this.getFrom(r);if(null===f)throw new Error("out of bounds");f.forEach(function(m){return s(m)})},t.reduceByLastOfDoc=function(r){return r.slice(0)},t.hasChangeWithRevision=function(r){for(var s=this.buffer.length;s>0;){s--;var f=this.buffer[s];if(f.documentData&&f.documentData._rev===r)return!0}return!1},t.destroy=function(){this.subs.forEach(function(r){return r.unsubscribe()})},e}(),Bo=["pre","post"],jc=["insert","save","remove","create"],Uc=!1,yu=function(){function e(n,r,s,f,m){var I=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},$=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},J=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},ue=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},me=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},ye=arguments.length>10&&void 0!==arguments[10]?arguments[10]:Mi,Re=arguments.length>11&&void 0!==arguments[11]?arguments[11]:{};this._isInMemory=!1,this.destroyed=!1,this._atomicUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._repStates=new Set,this._docCache=Gs(),this._queryCache=Zn(),this._crypter={},this._observable$={},this._changeEventBuffer={},this.database=n,this.name=r,this.schema=s,this.storageInstance=f,this.localDocumentsStore=m,this.instanceCreationOptions=I,this.migrationStrategies=$,this.methods=J,this.attachments=ue,this.options=me,this.cacheReplacementPolicy=ye,this.statics=Re,nf(this.asRxCollection)}var t=e.prototype;return t.prepare=function(r){try{var s=this;s._crypter=function(e,t){return new Uu(e,t)}(s.database.password,s.schema),s._observable$=s.database.eventBulks$.pipe((0,rr.h)(function(I){return I.collectionName===s.name}),(0,Oo.z)(function(I){return I.events})),s._changeEventBuffer=function(e){return new Lo(e)}(s.asRxCollection);var f=s.storageInstance.changeStream().subscribe(function(I){var $={id:I.id,internal:!1,collectionName:s.name,storageToken:ui(s.database.storageToken),events:I.events.map(function(J){return Us(!1,J,s)}),databaseToken:s.database.token};s.database.$emit($)});s._subs.push(f);var m=s.localDocumentsStore.changeStream().subscribe(function(I){var $={id:I.id,internal:!1,collectionName:s.name,storageToken:ui(s.database.storageToken),events:I.events.map(function(J){return Us(!0,J,s)}),databaseToken:s.database.token};s.database.$emit($)});return s._subs.push(m),s._subs.push(s._observable$.pipe((0,rr.h)(function(I){return!I.isLocal})).subscribe(function(I){var $=s._docCache.get(I.documentId);$&&$._handleChangeEvent(I)})),Promise.resolve()}catch(I){return Promise.reject(I)}},t.migrationNeeded=function(){throw Gt("migration")},t.getDataMigrator=function(){throw Gt("migration")},t.migrate=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getDataMigrator().migrate(r)},t.migratePromise=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getDataMigrator().migratePromise(r)},t._queryStorageInstance=function(r,s){try{var f=arguments,m=this,I=f.length>2&&void 0!==f[2]&&f[2],$=r.getPreparedQuery();return s&&($.limit=s),Promise.resolve(m.database.lockedRun(function(){return m.storageInstance.query($)})).then(function(J){return J.documents.map(function(me){return Ve(m,me,I)})})}catch(J){return Promise.reject(J)}},t.insert=function(r){try{var s=this,f=null;if(function(e){return void 0!==e&&!!e.isInstanceOfRxDocument}(r)){if(!(f=r)._isTemporary)throw Ke("COL1",{data:r});r=f.toJSON()}var m=Xe(s,r),I=f;return Promise.resolve(s._runHooks("pre","insert",m)).then(function(){return s.schema.validate(m),Promise.resolve(ge(s,{document:m})).then(function($){return f?f._dataSync$.next($):I=Ws(s,$),Promise.resolve(s._runHooks("post","insert",m,I)).then(function(){return I})})})}catch($){return Promise.reject($)}},t.bulkInsert=function(r){try{var s=this;if(0===r.length)return Promise.resolve({success:[],error:[]});var f=r.map(function(m){return Xe(s,m)});return Promise.resolve(Promise.all(f.map(function(m){return s._runHooks("pre","insert",m).then(function(){return s.schema.validate(m),m})}))).then(function(m){var I=m.map(function(J){return{document:Me(s,J)}}),$=new Map;return m.forEach(function(J){$.set(J[s.schema.primaryPath],J)}),Promise.resolve(s.database.lockedRun(function(){return s.storageInstance.bulkWrite(I)})).then(function(J){var me=Object.entries(J.success).map(function(ye){var Ce=ye[1],be=ci($,ye[0]);return be._rev=Ce._rev,Ws(s,be)});return Promise.resolve(Promise.all(me.map(function(ye){return s._runHooks("post","insert",$.get(ye.primary),ye)}))).then(function(){return{success:me,error:Object.values(J.error)}})})})}catch(m){return Promise.reject(m)}},t.bulkRemove=function(r){try{var s=this;return 0===r.length?Promise.resolve({success:[],error:[]}):Promise.resolve(s.findByIds(r)).then(function(f){var m=[],I=new Map;return Array.from(f.values()).forEach(function($){var J=gr($.toJSON(!0));m.push(J),I.set($.primary,J)}),Promise.resolve(Promise.all(m.map(function($){return s._runHooks("pre","remove",$,f.get($[s.schema.primaryPath]))}))).then(function(){var $=m.map(function(J){var ue=jt(J);return ue._deleted=!0,{previous:Me(s,J),document:Me(s,ue)}});return Promise.resolve(s.database.lockedRun(function(){return s.storageInstance.bulkWrite($)})).then(function(J){var ue=Object.keys(J.success);return Promise.resolve(Promise.all(ue.map(function(me){return s._runHooks("post","remove",I.get(me),f.get(me))}))).then(function(){return{success:ue.map(function(ye){return f.get(ye)}),error:Object.values(J.error)}})})})})}catch(f){return Promise.reject(f)}},t.upsert=function(r){var s=this,f=Xe(this,r),m=f[this.schema.primaryPath];if(!m)throw Ke("COL3",{primaryPath:this.schema.primaryPath,data:f,schema:this.schema.jsonSchema});return this.findOne(m).exec().then(function(I){return I&&!I.deleted?(f._rev=I._rev,I.atomicUpdate(function(){return f}).then(function(){return I})):s.insert(r)})},t.atomicUpsert=function(r){var I,s=this,f=Xe(this,r),m=f[this.schema.primaryPath];if(!m)throw Ke("COL4",{data:r});return I=(I=this._atomicUpsertQueues.has(m)?this._atomicUpsertQueues.get(m):Vr).then(function(){return function(e,t,n){var r=e._docCache.get(t);return r?Promise.resolve({doc:r,inserted:!1}):e.findOne(t).exec().then(function(s){return s?{doc:s,inserted:!1}:e.insert(n).then(function(f){return{doc:f,inserted:!0}})})}(s,m,f)}).then(function($){return $.inserted?$.doc:function(e,t){return e.atomicUpdate(function(n){return t._rev=n._rev,n._data=t,n._data}).then(function(){return e})}($.doc,f).then(function(){return Ci()}).then(function(){return Ci()}).then(function(){return Ci()}).then(function(){return $.doc})}),this._atomicUpsertQueues.set(m,I),I},t.find=function(r){if("string"==typeof r)throw Ke("COL5",{queryObj:r});return r||(r={selector:{}}),yr("find",r,this)},t.findOne=function(r){var s;if("string"==typeof r){var f;s=yr("findOne",{selector:(f={},f[this.schema.primaryPath]=r,f)},this)}else{if(r||(r={selector:{}}),r.limit)throw Ke("QU6");s=yr("findOne",r,this)}if("number"==typeof r||Array.isArray(r))throw Xt("COL6",{queryObj:r});return s},t.findByIds=function(r){try{var s=this,f=new Map,m=[];r.forEach(function($){var J=s._docCache.get($);J?f.set($,J):m.push($)});var I=function(){if(m.length>0)return Promise.resolve(s.storageInstance.findDocumentsById(m,!1)).then(function($){Object.values($).forEach(function(J){J=Ve(s,J);var ue=Ws(s,J);f.set(ue.primary,ue)})})}();return Promise.resolve(I&&I.then?I.then(function(){return f}):f)}catch($){return Promise.reject($)}},t.findByIds$=function(r){var s=this,f=null,m=-1,I=this.findByIds(r).then(function($){m=s._changeEventBuffer.counter,f=$});return this.$.pipe((0,il.O)(null),(0,Oo.z)(function($){return I.then(function(){return $})}),(0,Oo.z)(function($){try{var J=ui(f),ue=s._changeEventBuffer.getFrom(m+1),me=function(){if(null===ue)return Promise.resolve(s.findByIds(r)).then(function(ye){m=s._changeEventBuffer.counter,Array.from(ye.entries()).forEach(function(Re){return J.set(Re[0],Re[1])})});ue.filter(function(ye){return r.includes(ye.documentId)}).forEach(function(ye){var Re=ye.operation;"INSERT"===Re||"UPDATE"===Re?J.set(ye.documentId,s._docCache.get(ye.documentId)):J.delete(ye.documentId)})}();return Promise.resolve(me&&me.then?me.then(function(){return J}):J)}catch(ye){return Promise.reject(ye)}}),(0,rr.h)(function($){return!!$}),zu(ks))},t.exportJSON=function(){throw Gt("json-dump")},t.importJSON=function(r){throw Gt("json-dump")},t.syncCouchDB=function(r){throw Gt("replication")},t.syncGraphQL=function(r){throw Gt("replication-graphql")},t.inMemory=function(){throw Gt("in-memory")},t.addHook=function(r,s,f){var m=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof f)throw Xt("COL7",{key:s,when:r});if(!Bo.includes(r))throw Xt("COL8",{key:s,when:r});if(!jc.includes(s))throw Ke("COL9",{key:s});if("post"===r&&"create"===s&&!0===m)throw Ke("COL10",{when:r,key:s,parallel:m});var I=f.bind(this),$=m?"parallel":"series";this.hooks[s]=this.hooks[s]||{},this.hooks[s][r]=this.hooks[s][r]||{series:[],parallel:[]},this.hooks[s][r][$].push(I)},t.getHooks=function(r,s){try{return this.hooks[s][r]}catch{return{series:[],parallel:[]}}},t._runHooks=function(r,s,f,m){var I=this.getHooks(r,s);return I?function(e,t){return e.reduce(function(n,r){return n.then(r)},Promise.resolve(void 0))}(I.series.map(function(J){return function(){return J(f,m)}})).then(function(){return Promise.all(I.parallel.map(function(J){return J(f,m)}))}):Vr},t._runHooksSync=function(r,s,f,m){var I=this.getHooks(r,s);!I||I.series.forEach(function($){return $(f,m)})},t.newDocument=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r=this.schema.fillObjectWithDefaults(r);var s=Nu($u(this),this,r);return s._isTemporary=!0,this._runHooksSync("post","create",r,s),s},t.destroy=function(){var r=this;return this.destroyed?mr:(this._onDestroyCall&&this._onDestroyCall(),this._subs.forEach(function(s){return s.unsubscribe()}),this._changeEventBuffer&&this._changeEventBuffer.destroy(),Array.from(this._repStates).forEach(function(s){return s.cancel()}),Promise.all([this.storageInstance.close(),this.localDocumentsStore.close()]).then(function(){return delete r.database.collections[r.name],r.destroyed=!0,nr("postDestroyRxCollection",r).then(function(){return!0})}))},t.remove=function(){return this.database.removeCollection(this.name)},Oi(e,[{key:"$",get:function(){return this._observable$}},{key:"insert$",get:function(){return this.$.pipe((0,rr.h)(function(r){return"INSERT"===r.operation}))}},{key:"update$",get:function(){return this.$.pipe((0,rr.h)(function(r){return"UPDATE"===r.operation}))}},{key:"remove$",get:function(){return this.$.pipe((0,rr.h)(function(r){return"DELETE"===r.operation}))}},{key:"onDestroy",get:function(){var r=this;return this._onDestroy||(this._onDestroy=new Promise(function(s){return r._onDestroyCall=s})),this._onDestroy}},{key:"asRxCollection",get:function(){return this}}]),e}();function nf(e){if(!Uc){Uc=!0;var t=Object.getPrototypeOf(e);jc.forEach(function(n){Bo.map(function(r){var s=r+bn(n);t[s]=function(f,m){return this.addHook(r,n,f,m)}})})}}var Vc=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function sl(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var n=e._pHM.get(t);e._hPM.delete(n),e._pHM.delete(t)}e._iC.delete(t)}}function ol(e){e._tryIR||0===e._iC.size||(e._tryIR=!0,setTimeout(function(){e.isIdle()?setTimeout(function(){e.isIdle()?(function(e){0!==e._iC.size&&(e._iC.values().next().value._manRes(),setTimeout(function(){return ol(e)},0))}(e),e._tryIR=!1):e._tryIR=!1},0):e._tryIR=!1},0))}Vc.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,ol(this)},wrapCall:function(t){var r,n=this;this.lock();try{r=t()}catch(s){throw this.unlock(),s}return r.then&&"function"==typeof r.then?r.then(function(s){return n.unlock(),s}).catch(function(s){throw n.unlock(),s}):(this.unlock(),r)},requestIdlePromise:function(t){var n=this;t=t||{};var r,s=new Promise(function(I){return r=I});if(s._manRes=function(){sl(n,s),r()},t.timeout){var m=setTimeout(function(){s._manRes()},t.timeout);s._timeoutObj=m}return this._iC.add(s),ol(this),s},cancelIdlePromise:function(t){sl(this,t)},requestIdleCallback:function(t,n){var r=this._lHN++,s=this.requestIdlePromise(n);return this._hPM.set(r,s),this._pHM.set(s,r),s.then(function(){return t()}),r},cancelIdleCallback:function(t){var n=this._hPM.get(t);this.cancelIdlePromise(n)},clear:function(){var t=this;this._iC.forEach(function(n){return sl(t,n)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}},Promise.resolve(!1),Promise.resolve(!0);var Qs=Promise.resolve();function zc(e,t){return e||(e=0),new Promise(function(n){return setTimeout(function(){return n(t)},e)})}function al(){return Math.random().toString(36).substring(2)}var $c=0,ul=0;function _u(){var e=(new Date).getTime();return e===$c?1e3*e+ ++ul:($c=e,ul=0,1e3*e)}var bu="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);const _f={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),Qs}catch(n){return Promise.reject(n)}},canBeUsed:function(){if(bu&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 150},microSeconds:_u};var Eu=function(){function e(t){this.ttl=t,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(t){return this.set.has(t)},e.prototype.add=function(t){var n=this;this.timeMap.set(t,Wc()),this.set.add(t),setTimeout(function(){!function(e){for(var t=Wc()-e.ttl,n=e.set[Symbol.iterator]();;){var r=n.next().value;if(!r)return;if(!(e.timeMap.get(r)<t))return;e.timeMap.delete(r),e.set.delete(r)}}(n)},0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function Wc(){return(new Date).getTime()}function ll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var pi="messages";function Hc(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function Kc(e){e.closed||Gc(e).then(function(){return zc(e.options.idb.fallbackInterval)}).then(function(){return Kc(e)})}function Gc(e){return e.closed||!e.messagesCallback?Qs:function(e,t){var n=e.transaction(pi).objectStore(pi),r=[];return new Promise(function(f){(function(){try{var f=IDBKeyRange.bound(t+1,1/0);return n.openCursor(f)}catch{return n.openCursor()}}()).onsuccess=function(m){var I=m.target.result;I?I.value.id<t+1?I.continue(t+1):(r.push(I.value),I.continue()):f(r)}})}(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(r){return!!r}).map(function(r){return r.id>e.lastCursorId&&(e.lastCursorId=r.id),r}).filter(function(r){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(r,e)}).sort(function(r,s){return r.time-s.time});return n.forEach(function(r){e.messagesCallback&&(e.eMIs.add(r.id),e.messagesCallback(r.data))}),Qs})}const Bf={create:function(e,t){return t=ll(t),function(e){var r=Hc().open("pubkey.broadcast-channel-0-"+e,1);return r.onupgradeneeded=function(f){f.target.result.createObjectStore(pi,{keyPath:"id",autoIncrement:!0})},new Promise(function(f,m){r.onerror=function(I){return m(I)},r.onsuccess=function(){f(r.result)}})}(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:al(),eMIs:new Eu(2*t.idb.ttl),writeBlockPromise:Qs,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},Kc(r),r})},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,Gc(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return function(e,t,n){var s={uuid:t,time:(new Date).getTime(),data:n},f=e.transaction([pi],"readwrite");return new Promise(function(m,I){f.oncomplete=function(){return m()},f.onerror=function(J){return I(J)},f.objectStore(pi).add(s)})}(e.db,e.uuid,t)}).then(function(){0===Math.floor(11*Math.random()+0)&&function(e,t){(function(e,t){var n=(new Date).getTime()-t,r=e.transaction(pi).objectStore(pi),s=[];return new Promise(function(f){r.openCursor().onsuccess=function(m){var I=m.target.result;if(I){var $=I.value;if(!($.time<n))return void f(s);s.push($),I.continue()}else f(s)}})})(e,t).then(function(n){return Promise.all(n.map(function(r){return function(e,t){var n=e.transaction([pi],"readwrite").objectStore(pi).delete(t);return new Promise(function(r){n.onsuccess=function(){return r()}})}(e,r.id)}))})}(e.db,e.options.idb.ttl)}),e.writeBlockPromise},canBeUsed:function(){return!bu&&!!Hc()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:_u};function Qc(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function Zc(e){return"pubkey.broadcastChannel-"+e}function Yc(){if(bu)return!1;var e=Qc();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}const Qf={create:function(e,t){if(t=ll(t),!Yc())throw new Error("BroadcastChannel: localstorage cannot be used");var n=al(),r=new Eu(t.localstorage.removeTimeout),s={channelName:e,uuid:n,eMIs:r};return s.listener=function(e,t){var n=Zc(e),r=function(f){f.key===n&&t(JSON.parse(f.newValue))};return window.addEventListener("storage",r),r}(e,function(f){!s.messagesCallback||f.uuid!==n&&(!f.token||r.has(f.token)||f.data.time&&f.data.time<s.messagesCallbackTime||(r.add(f.token),s.messagesCallback(f.data)))}),s},close:function(e){!function(e){window.removeEventListener("storage",e)}(e.listener)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(n){zc().then(function(){var r=Zc(e.channelName),s={token:al(),time:(new Date).getTime(),data:t,uuid:e.uuid},f=JSON.stringify(s);Qc().setItem(r,f);var m=document.createEvent("Event");m.initEvent("storage",!0,!0),m.key=r,m.newValue=f,window.dispatchEvent(m),n()})})},canBeUsed:Yc,type:"localstorage",averageResponseTime:function(){var t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?240:120},microSeconds:_u};var Zf=_u,cl=new Set;const rh={create:function(e){var t={name:e,messagesCallback:null};return cl.add(t),t},close:function(e){cl.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(n){return setTimeout(function(){Array.from(cl).filter(function(s){return s.name===e.name}).filter(function(s){return s!==e}).filter(function(s){return!!s.messagesCallback}).forEach(function(s){return s.messagesCallback(t)}),n()},5)})},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:Zf};var Jc=[_f,Bf,Qf],Xc=new Set,sh=0,dl=function(t,n){this.id=sh++,Xc.add(this),this.name=t,this.options=ll(n),this.method=function(e){var t=[].concat(e.methods,Jc).filter(Boolean);if(e.type){if("simulate"===e.type)return rh;var n=t.find(function(s){return s.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}!e.webWorkerSupport&&!bu&&(t=t.filter(function(s){return"idb"!==s.type}));var r=t.find(function(s){return s.canBeUsed()});if(r)return r;throw new Error("No useable method found in "+JSON.stringify(Jc.map(function(s){return s.type})))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,function(e){var t=e.method.create(e.name,e.options);!function(e){return!(!e||"function"!=typeof e.then)}(t)?e._state=t:(e._prepP=t,t.then(function(n){e._state=n}))}(this)};function qc(e,t,n){var s={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:Qs).then(function(){var m=e.method.postMessage(e._state,s);return e._uMP.add(m),m.catch().then(function(){return e._uMP.delete(m)}),m})}function ed(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function td(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&ed(e)){var t=function(s){e._addEL[s.type].forEach(function(f){s.time>=f.time-1e5&&f.fn(s.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function nd(e,t,n){e._addEL[t]=e._addEL[t].filter(function(r){return r!==n}),function(e){if(e._iL&&!ed(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}dl._pubkey=!0,dl.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return qc(this,"message",t)},postInternal:function(t){return qc(this,"internal",t)},set onmessage(e){var n={time:this.method.microSeconds(),fn:e};nd(this,"message",this._onML),e&&"function"==typeof e?(this._onML=n,td(this,"message",n)):this._onML=null},addEventListener:function(t,n){td(this,t,{time:this.method.microSeconds(),fn:n})},removeEventListener:function(t,n){nd(this,t,this._addEL[t].find(function(s){return s.fn===n}))},close:function(){var t=this;if(!this.closed){Xc.delete(this),this.closed=!0;var n=this._prepP?this._prepP:Qs;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var rd=function(t,n,r,s){try{return Promise.resolve(t.createStorageInstance({databaseName:n,collectionName:"_rxdb_internal",schema:Ua(0,"collectionName"),options:r,multiInstance:s})).then(function(f){return Promise.resolve(t.createKeyObjectStorageInstance({databaseName:n,collectionName:"",options:r,multiInstance:s})).then(function(m){return{internalStore:f,localDocumentsStore:m}})})}catch(f){return Promise.reject(f)}},fh=function(t){try{var n="storageToken";return Promise.resolve(di(t.localDocumentsStore,n)).then(function(r){if(r)return r.value;var s=pt(10);return Promise.resolve(t.localDocumentsStore.bulkWrite([{document:{_id:n,value:s,_attachments:{}}}])).then(function(){return s})})}catch(r){return Promise.reject(r)}},hl=new Set,Su=function(){function e(n,r,s,f,m){var I=arguments.length>5&&void 0!==arguments[5]&&arguments[5],$=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},J=arguments.length>7?arguments[7]:void 0,ue=arguments.length>8?arguments[8]:void 0,me=arguments.length>9?arguments[9]:void 0,ye=arguments.length>10?arguments[10]:void 0;this.token=pt(10),this._subs=[],this.destroyed=!1,this.eventBulks$=new Po.x,this.observable$=this.eventBulks$.pipe((0,Oo.z)(function(Re){return Re.events})),this.emittedEventBulkIds=new Eu(6e4),this.name=n,this.storage=r,this.instanceCreationOptions=s,this.password=f,this.multiInstance=m,this.eventReduce=I,this.options=$,this.idleQueue=J,this.internalStore=ue,this.localDocumentsStore=me,this.broadcastChannel=ye,this.collections={}}var t=e.prototype;return t.dangerousRemoveCollectionInfo=function(){try{var r=this;return Promise.resolve(js(r.storage,r.internalStore)).then(function(s){var f=s.map(function(m){var I=jt(m);return I._deleted=!0,{previous:m,document:I}});return Promise.resolve(r.internalStore.bulkWrite(f)).then(function(){})})}catch(s){return Promise.reject(s)}},t.$emit=function(r){this.emittedEventBulkIds.has(r.id)||(this.emittedEventBulkIds.add(r.id),this.eventBulks$.next(r),function(e,t){e.destroyed||e.multiInstance&&e.broadcastChannel&&!t.internal&&e.token===t.databaseToken&&e.storageToken===t.storageToken&&e.broadcastChannel.postMessage(t).then(function(){return!0})}(this,r))},t.removeCollectionDoc=function(r,s){try{var f=this,m=Cu(r,s);return Promise.resolve(wo(f.internalStore,m)).then(function(I){if(!I)throw Ke("SNH",{name:r,schema:s});var $=jt(I);return $._deleted=!0,Promise.resolve(f.lockedRun(function(){return f.internalStore.bulkWrite([{document:$,previous:I}])})).then(function(){})})}catch(I){return Promise.reject(I)}},t.addCollections=function(r){try{var s=this;return Promise.resolve(s.lockedRun(function(){return s.internalStore.findDocumentsById(Object.keys(r).map(function(f){return Cu(f,r[f].schema)}),!1)})).then(function(f){var m={};Object.entries(f).forEach(function($){m[$[0]]=$[1]});var I={};return Promise.resolve(Promise.all(Object.entries(r).map(function($){var J=$[0],ue=$[1],me=J,ye=m[Cu(J,r[me].schema)],Re=jt(ue);Re.name=me;var Ce=function(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&wn("preCreateRxSchema",e);var n=new Va(rc(e));return wn("createRxSchema",n),n}(ue.schema);if(I[me]=Ce.hash,Re.schema=Ce,Re.database=s,Ce.crypt&&!s.password)throw Ke("DB7",{name:J});if(s.collections[J])throw Ke("DB3",{name:J});if(ye&&ye.schemaHash!==I[me])throw Ke("DB6",{name:J,previousSchemaHash:ye.schemaHash,schemaHash:I[me],previousSchema:ye.schema,schema:ue.schema});var be=jt(ue);return be.database=s,be.name=J,wn("preCreateRxCollection",be),function(e,t){var n=e.database,r=e.name,s=e.schema,f=e.instanceCreationOptions,m=void 0===f?{}:f,I=e.migrationStrategies,$=void 0===I?{}:I,J=e.autoMigrate,ue=void 0===J||J,me=e.statics,ye=void 0===me?{}:me,Re=e.methods,Ce=void 0===Re?{}:Re,be=e.attachments,Te=void 0===be?{}:be,Ue=e.options,$e=void 0===Ue?{}:Ue,Be=e.cacheReplacementPolicy,Qe=void 0===Be?Mi:Be;Vn.isDevMode()&&Object.keys(Ce).filter(function(ut){return s.topLevelFields.includes(ut)}).forEach(function(ut){throw Ke("COL18",{funName:ut})});var Ye={databaseName:n.name,collectionName:r,schema:s.jsonSchema,options:m,multiInstance:n.multiInstance};return wn("preCreateRxStorageInstance",Ye),ee(r,n,Ye,m).then(function(ut){var qe=new yu(n,r,s,ut.storageInstance,ut.localDocumentsStore,m,$,Ce,Te,$e,Qe,ye);return qe.prepare(t).then(function(){Object.entries(ye).forEach(function(It){var Vt=It[1];Object.defineProperty(qe,It[0],{get:function(){return Vt.bind(qe)}})});var dt=Vr;return ue&&0!==qe.schema.version&&(dt=qe.migratePromise()),dt}).then(function(){return wn("createRxCollection",qe),qe}).catch(function(dt){return Promise.all([ut.storageInstance.close(),ut.localDocumentsStore.close()]).then(function(){return Promise.reject(dt)})})})}(Re,!!ye)}))).then(function($){var J=[],ue={};$.forEach(function(ye){var Re=ye.name;ue[Re]=ye;var Ce=Cu(Re,r[Re].schema);m[Ce]||J.push({document:{collectionName:Ce,schemaHash:I[Re],schema:ye.schema.normalized,version:ye.schema.version,_attachments:{}}}),s.collections[Re]=ye,s[Re]||Object.defineProperty(s,Re,{get:function(){return s.collections[Re]}})});var me=function(){if(J.length>0)return Promise.resolve(s.lockedRun(function(){return s.internalStore.bulkWrite(J)})).then(function(){})}();return me&&me.then?me.then(function(){return ue}):ue})})}catch(f){return Promise.reject(f)}},t.removeCollection=function(r){var s=this,f=Vr;return this.collections[r]&&(f=this.collections[r].destroy()),f.then(function(){return function(t,n){try{return Promise.resolve(t.lockedRun(function(){return js(t.storage,t.internalStore)})).then(function(r){var s=r.filter(function(f){return f.collectionName.split("-")[0]===n});return Promise.all(s.map(function(f){var m=jt(f);return m._deleted=!0,t.lockedRun(function(){return Tr(t.internalStore,{previous:f,document:m})})})).then(function(){return s.map(function(f){return f.version})})})}catch(r){return Promise.reject(r)}}(s,r)}).then(function(m){return Promise.all(m.map(function(I){return ee(r,s,{databaseName:s.name,collectionName:r,schema:Ua(I,"collectionName"),options:s.instanceCreationOptions,multiInstance:s.multiInstance},{})}))}).then(function(m){return Promise.all(m.map(function(I){return s.lockedRun(function(){return Promise.all([I.storageInstance.remove(),I.localDocumentsStore.remove()])})}))}).then(function(){})},t.lockedRun=function(r){return this.idleQueue.wrapCall(r)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(){throw Gt("json-dump")},t.importJSON=function(r){throw Gt("json-dump")},t.server=function(r){throw Gt("server")},t.backup=function(r){throw Gt("backup")},t.leaderElector=function(){throw Gt("leader-election")},t.isLeader=function(){throw Gt("leader-election")},t.waitForLeadership=function(){throw Gt("leader-election")},t.migrationStates=function(){throw Gt("migration")},t.destroy=function(){var r=this;return this.destroyed||(wn("preDestroyRxDatabase",this),this.destroyed=!0,this._subs.map(function(s){return s.unsubscribe()}),"pseudoInstance"===this.name)?mr:this.requestIdlePromise().then(function(){return Promise.all(Object.keys(r.collections).map(function(s){return r.collections[s]}).map(function(s){return s.destroy()}))}).then(function(){return r.internalStore.close()}).then(function(){return r.localDocumentsStore.close()}).then(function(){return r.broadcastChannel?r.broadcastChannel.close():null}).then(function(){return hl.delete(r.name)}).then(function(){return!0})},t.remove=function(){var r=this;return this.destroy().then(function(){return function(t,n){return Promise.resolve(rd(n,t,{},!1)).then(function(r){return Promise.resolve(js(n,r.internalStore)).then(function(s){return Promise.resolve(Promise.all(s.map(function(f){try{var I=f.schema,$=f.collectionName.split("-"),J=$[0],ue=parseInt($[1],10),me=Kr(I.primaryKey);return Promise.resolve(Promise.all([n.createStorageInstance({databaseName:t,collectionName:J,schema:Ua(ue,me),options:{},multiInstance:!1}),n.createKeyObjectStorageInstance({databaseName:t,collectionName:ft(J),options:{},multiInstance:!1})])).then(function(ye){var Ce=ye[1];return Promise.resolve(Promise.all([ye[0].remove(),Ce.remove()])).then(function(){})})}catch(ye){return Promise.reject(ye)}}))).then(function(){return Promise.all([r.internalStore.remove(),r.localDocumentsStore.remove()])})})})}(r.name,r.storage)})},Oi(e,[{key:"$",get:function(){return this.observable$}}]),e}();function Cu(e,t){return e+"-"+t.version}function gh(e){var Re,t=e.storage,n=e.instanceCreationOptions,r=e.name,s=e.password,f=e.multiInstance,m=void 0===f||f,I=e.eventReduce,$=void 0!==I&&I,J=e.ignoreDuplicate,ue=void 0!==J&&J,me=e.options,ye=void 0===me?{}:me;wn("preCreateRxDatabase",{storage:t,instanceCreationOptions:n,name:r,password:s,multiInstance:m,eventReduce:$,ignoreDuplicate:ue,options:ye}),s&&Vn.validatePassword(s),ue||function(e){if(hl.has(e))throw Ke("DB8",{name:e,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}(r),hl.add(r),m&&(Re=new dl("RxDB:"+r+":socket"));var Ce=new Vc;return rd(t,r,n,m).then(function(be){var Te=new Su(r,t,n,s,m,$,ye,Ce,be.internalStore,be.localDocumentsStore,Re);return function(t){try{return Promise.resolve(fh(t)).then(function(n){t.storageToken=n;var e,r=t.localDocumentsStore.changeStream().subscribe(function(s){var f={id:s.id,internal:!1,storageToken:ui(t.storageToken),events:s.events.map(function(m){return Us(!0,m)}),databaseToken:t.token};t.$emit(f)});t._subs.push(r),t.multiInstance&&ui((e=t).broadcastChannel).addEventListener("message",function(t){t.storageToken!==e.storageToken||t.databaseToken===e.token||e.$emit(t)})})}catch(n){return Promise.reject(n)}}(Te).then(function(){return nr("createRxDatabase",Te)}).then(function(){return Te})})}var vh={RxSchema:Va.prototype,Crypter:Uu.prototype,RxDocument:Do,RxQuery:Ct.prototype,RxCollection:yu.prototype,RxDatabase:Su.prototype},ml=new Set;function No(e){if(wn("preAddRxPlugin",{plugin:e,plugins:ml}),!ml.has(e)){if(ml.add(e),!e.rxdb)throw Xt("PL1",{plugin:e});e.prototypes&&Object.entries(e.prototypes).forEach(function(t){return(0,t[1])(vh[t[0]])}),e.overwritable&&Object.assign(Vn,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(function(t){return Ti[t[0]].push(t[1])})}}var gl,vl,yl,id={UT1:"given name is no string or empty",UT2:"collection- and database-names must match the regex to be compatible with couchdb databases.\n    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/\n    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'",UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",PL1:"Given plugin is not RxDB plugin. Pouchdb plugins must be added via addPouchPlugin()",PL2:"You tried importy a RxDB plugin to pouchdb. Use addRxPlugin() instead.",P1:"PouchDB.getBatch: limit must be > 2",P2:"bulkWrite() cannot be called with an empty array",P3:"bulkAddRevisions cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU7:"query must be an object",QU8:"query cannot be an array",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase.[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://pubkey.github.io/rxdb/questions-answers.html#cant-change-the-schema",DB7:"RxDatabase.addCollections(): schema encrypted but no password given",DB8:"RxDatabase.create(): A RxDatabase with the same name and adapter already exists.\nMake sure to use this combination only once or set ignoreDuplicate to true if you do this intentional",DB9:"RxDatabase.create(): Adapter not added. Use RxDB.plugin(require('pouchdb-adapter-[adaptername]'));",DB10:"RxDatabase.create(): To use leveldown-adapters, you have to add the leveldb-plugin. Use RxDB.plugin(require('pouchdb-adapter-leveldb'));",DB11:"RxDatabase.create(): Invalid db-name, folder-paths must not have an ending slash",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() fieldName ._id can only be used as primaryKey",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.atomicUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL19:"Document document update conflict, when changing a document you must work on the previous revision",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): cant save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",AT1:"to use attachments, please define this in your schema",EN1:"password is no string",EN2:"validatePassword: min-length of password not complied",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ cant use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not useable on local documents",LD7:"Local document already exists",RC1:"Replication: already added",RC2:"RxCollection.syncCouchDB() query must be from the same RxCollection",RC3:"RxCollection.syncCouchDB() Do not use a collection's pouchdb as remote, use the collection instead",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await inital replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await inital replication if multiInstance because the replication might run on another instance",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",DEV1:"dev-mode added multiple times, this is likely because you have mixed up the import from the the plugins/core and the full RxDB",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",IM1:"InMemory: Memory-Adapter must be added. Use addPouchPlugin(require('pouchdb-adapter-memory'));",IM2:"inMemoryCollection.sync(): Do not replicate with the in-memory instance. Replicate with the parent instead",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"cannot find sub schema by key",SNH:"This should never happen"},Eh=new(Lu(Do));function sd(){if(!yl){var t=Object.getOwnPropertyNames(Eh),n=Object.getOwnPropertyNames(Do);yl=[].concat(t,n,["deleted","synced"])}return yl}function Ch(e){var t=Kr(e.primaryKey);return function r(s,f){"object"==typeof s&&Object.keys(s).forEach(function(m){s.properties||function(s,f,m){if("string"==typeof s&&"object"==typeof f&&!Array.isArray(f)&&function(e){if(""!==e&&"_deleted"!==e){if(["properties","language"].includes(e))throw Ke("SC23",{fieldName:e});var t="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",n=new RegExp(t);if("_id"!==e&&!e.match(n))throw Ke("SC1",{regex:t,fieldName:e})}}(s),f.hasOwnProperty("item")&&"array"!==f.type)throw Ke("SC2",{fieldName:s});if(f.hasOwnProperty("required")&&"boolean"==typeof f.required)throw Ke("SC24",{fieldName:s});if(f.hasOwnProperty("ref"))if(Array.isArray(f.type)){if(f.type.length>2||!f.type.includes("string")||!f.type.includes("null"))throw Ke("SC4",{fieldName:s})}else switch(f.type){case"string":break;case"array":if(!f.items||!f.items.type||"string"!==f.items.type)throw Ke("SC3",{fieldName:s});break;default:throw Ke("SC4",{fieldName:s})}var I=m.split(".").length>=2;if(I){if(f.primary)throw Ke("SC6",{path:m,primary:f.primary});if(f.default)throw Ke("SC7",{path:m})}if(!I){if("_id"===s&&"_id"!==t)throw Ke("COL2",{fieldName:s});if("_"===s.charAt(0)){if("_id"===s||"_deleted"===s)return;throw Ke("SC8",{fieldName:s})}}}(m,s[m],f);var I=f;"properties"!==m&&(I=I+"."+m),r(s[m],I)})}(e,""),!0}function od(e){for(var t=e.split("."),n="",r=0;r<t.length;r+=1)n=n.concat("[]"!==t[r]?".properties.".concat(t[r]):".items");return Qi(n)}function _l(e){!e||Object.entries(e).forEach(function(t){var n=t[0],r=t[1];if("string"!=typeof n)throw Xt("COL14",{name:n});if(n.startsWith("_"))throw Xt("COL15",{name:n});if("function"!=typeof r)throw Xt("COL16",{name:n,type:typeof n});if(function(){if(!gl){var e=new yu,t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));gl=[].concat(t,n)}return gl}().includes(n)||sd().includes(n))throw Ke("COL17",{name:n})})}var ad="^[a-z][_$a-z0-9\\-]*$",Th=new RegExp(ad);function ud(e){if("string"!=typeof e||0===e.length)throw Xt("UT1",{name:e});if(us(e))return!0;if(!e.match(Th))throw Ke("UT2",{regex:ad,givenName:e});return!0}var Mh=c(4949),Rh=c.n(Mh),ld="dev-mode",Fh={name:ld,rxdb:!0,overwritable:{isDevMode:function(){return!0},deepFreezeWhenDevMode:function(e){return e&&Rh()(e)},tunnelErrorMessage:function(t){if(!id[t])throw console.error("RxDB: Error-Code not known: "+t),new Error("Error-Code "+t+" not known, contact the maintainer");return id[t]}},hooks:{preAddRxPlugin:function(t){if(t.plugin.name===ld)throw Ke("DEV1",{plugins:t.plugins})},preCreateRxSchema:function(e){if(!e.primaryKey)throw Ke("SC30",{schema:e});if(!e.hasOwnProperty("properties"))throw Ke("SC29",{schema:e});if(e.properties._rev)throw Ke("SC10",{schema:e});if(!e.hasOwnProperty("version")||"number"!=typeof e.version||e.version<0)throw Ke("SC11",{version:e.version});if(Ch(e),function(e){if(!e.primaryKey)throw Ke("SC30",{schema:e});function t(m){if(!m)throw Ke("SC33",{schema:e});var I=m.type;if(!I||!["string","number","integer"].includes(I))throw Ke("SC32",{schema:e,args:{schemaPart:m}})}if("string"==typeof e.primaryKey)t(e.properties[e.primaryKey]);else{var s=e.primaryKey;t(zs(e,s.key)),s.fields.forEach(function(m){t(zs(e,m))})}}(e),Object.keys(e.properties).forEach(function(t){var n=e.properties[t];if(t===e.primaryKey){if(e.indexes&&e.indexes.includes(t))throw Ke("SC13",{value:n,schema:e});if(n.unique)throw Ke("SC14",{value:n,schema:e});if(e.encrypted&&e.encrypted.includes(t))throw Ke("SC15",{value:n,schema:e});if("string"!==n.type)throw Ke("SC16",{value:n,schema:e})}if(sd().includes(t))throw Ke("SC17",{key:t,schema:e})}),e.indexes){if(!$r(e.indexes))throw Ke("SC18",{indexes:e.indexes,schema:e});e.indexes.forEach(function(t){if("string"!=typeof t&&!Array.isArray(t))throw Ke("SC19",{index:t,schema:e});if(Array.isArray(t))for(var n=0;n<t.length;n+=1)if("string"!=typeof t[n])throw Ke("SC20",{index:t,schema:e})})}if(Object.keys(e).includes("compoundIndexes"))throw Ke("SC25",{schema:e});Object.keys(zr(e)).map(function(t){var n=t.split(".");return n.pop(),n.join(".")}).filter(function(t){return""!==t}).filter(function(t,n,r){return r.indexOf(t)===n}).filter(function(t){return!!Qn().get(e,t).index}).forEach(function(t){throw Ke("SC26",{index:Qi(t=(t=t.replace("properties.","")).replace(/\.properties\./g,".")),schema:e})}),(e.indexes||[]).reduce(function(t,n){return $r(n)?t.concat(n):t.push(n),t},[]).filter(function(t,n,r){return r.indexOf(t)===n}).map(function(t){var n=od(t),r=Qn().get(e,n);if(!r||"object"!=typeof r)throw Ke("SC21",{index:t,schema:e});return{indexPath:t,schemaObj:r}}).filter(function(t){return"string"!==t.schemaObj.type&&"integer"!==t.schemaObj.type&&"number"!==t.schemaObj.type}).forEach(function(t){throw Ke("SC22",{key:t.indexPath,type:t.schemaObj.type,schema:e})}),Object.keys(zr(e)).map(function(t){var n=t.split(".");return n.pop(),n.join(".")}).filter(function(t){return""!==t&&"attachments"!==t}).filter(function(t,n,r){return r.indexOf(t)===n}).filter(function(t){return!!Qn().get(e,t).encrypted}).forEach(function(t){throw Ke("SC27",{index:Qi(t=(t=t.replace("properties.","")).replace(/\.properties\./g,".")),schema:e})}),e.encrypted&&e.encrypted.forEach(function(t){var n=od(t),r=Qn().get(e,n);if(!r||"object"!=typeof r)throw Ke("SC28",{field:t,schema:e})})},preCreateRxDatabase:function(t){!function(e){if(ud(e.name),us(e.name)&&(e.name.endsWith("/")||e.name.endsWith("\\")))throw Ke("DB11",{name:e.name})}(t)},preCreateRxCollection:function(t){if(function(e){if(function(){if(!vl){var e=new Su("pseudoInstance","memory"),t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));vl=[].concat(t,n),e.destroy()}return vl}().includes(e.name))throw Ke("DB5",{name:e.name});ud(e.name)}(t),"_"===t.name.charAt(0))throw Ke("DB2",{name:t.name});if(!t.schema)throw Ke("DB4",{name:t.name,args:t})},preCreateRxQuery:function(t){!function(e){if("[object Object]"!==Object.prototype.toString.call(e.queryObj))throw Xt("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj});var n=["selector","limit","skip","sort"];Object.keys(e.queryObj).forEach(function(r){if(!n.includes(r))throw Xt("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj,key:r})})}(t)},createRxCollection:function(t){_l(t.statics),_l(t.methods),_l(t.attachments),t.schema&&t.migrationStrategies&&function(e,t){if("object"!=typeof t||Array.isArray(t))throw Xt("COL11",{schema:e});var n=function(e){var n=0;return new Array(e.version?e.version:0).fill(0).map(function(){return n++})}(e);if(n.length!==Object.keys(t).length)throw Ke("COL12",{have:Object.keys(t),should:n});n.map(function(r){return{v:r,s:t[r+1]}}).filter(function(r){return"function"!=typeof r.s}).forEach(function(r){throw Xt("COL13",{version:r.v,type:typeof r,schema:e})})}(t.schema,t.migrationStrategies)}}},kh=c(7466),cd=c.n(kh),Lh=c(4384),Uh=function(t){return function(e,t){return cd().encrypt(e,t).toString()}(t,this.password)},Vh=function(t){var n=function(e,t){return cd().decrypt(e,t).toString(Lh)}(t,this.password);return n},$h={Crypter:function(t){t._encryptString=Uh,t._decryptString=Vh}},Wh={validatePassword:function(t){if(t&&"string"!=typeof t)throw Xt("EN1",{password:t});if(t&&t.length<8)throw Ke("EN2",{minPassLength:8,password:t})}},Hh={name:"encryption",rxdb:!0,prototypes:$h,overwritable:Wh,hooks:{createRxDatabase:function(t){return function(t){try{if(!t.password)return Promise.resolve(mr);var n=uo(t.password),r="pwHash";return Promise.resolve(di(t.localDocumentsStore,r)).then(function(s){return s?n===s.value||Promise.resolve(t.destroy()).then(function(){throw Ke("DB1",{passwordHash:uo(t.password),existingPasswordHash:s.value})}):Promise.resolve(t.localDocumentsStore.bulkWrite([{document:{_id:r,value:n,_attachments:{}}}])).then(function(){return!0})})}catch(s){return Promise.reject(s)}}(t)}}},Kh=("undefined"!=typeof AbortController&&AbortController,fetch),wu=Headers;function Yn(e,t){if(e===t)return 0;e=Zs(e),t=Zs(t);var n=Sl(e),r=Sl(t);if(n-r!=0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var s=Yn(e[r],t[r]);if(0!==s)return s}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),r=Object.keys(t),s=Math.min(n.length,r.length),f=0;f<s;f++){var m=Yn(n[f],r[f]);if(0!==m||0!==(m=Yn(e[n[f]],t[r[f]])))return m}return n.length===r.length?0:n.length>r.length?1:-1}(e,t)}function Zs(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=Zs(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var s in e={},t)if(t.hasOwnProperty(s)){var f=t[s];void 0!==f&&(e[s]=Zs(f))}}}return e}function mi(e){return Sl(e=Zs(e))+""+function(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,s=r?"0":"2",m=function(e,t,n){var r=function(e,t,n){for(var r="",s=3-e.length;r.length<s;)r+="0";return r}(e);return r+e}(((r?-n:n)- -324).toString());s+=""+m;var I=Math.abs(parseFloat(t[0]));r&&(I=10-I);var $=I.toFixed(20);return s+""+$.replace(/\.?0+$/,"")}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,s=n.length,f="";if(t)for(;++r<s;)f+=mi(n[r]);else for(;++r<s;){var m=n[r];f+=mi(m)+mi(e[m])}return f}return""}(e)+"\0"}function Yh(e,t){var r,n=t;if("1"===e[t])r=0,t++;else{var f="0"===e[t];t++;var m="",I=e.substring(t,t+3),$=parseInt(I,10)+-324;for(f&&($=-$),t+=3;;){var J=e[t];if("\0"===J)break;m+=J,t++}r=1===(m=m.split(".")).length?parseInt(m,10):parseFloat(m[0]+"."+m[1]),f&&(r-=10),0!==$&&(r=parseFloat(r+"e"+$))}return{num:r,length:t-n}}function Jh(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var s=r.element,f=r.index;Array.isArray(s)?s.push(n):f===e.length-2?s[e.pop()]=n:e.push(n)}}function Sl(e){var n=["boolean","number","string","object"].indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function Cl(e,t){for(var n=e,r=0,s=t.length;r<s&&(n=n[t[r]]);r++);return n}function rp(e,t,n){for(var r=0,s=t.length;r<s-1;r++){var f=t[r];e=e[f]=e[f]||{}}e[t[s-1]]=n}function wl(e,t){return e<t?-1:e>t?1:0}function ha(e){for(var t=[],n="",r=0,s=e.length;r<s;r++){var f=e[r];"."===f?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=f}return t.push(n),t}var ip=["$or","$nor","$not"];function hd(e){return ip.indexOf(e)>-1}function Ir(e){return Object.keys(e)[0]}function Dl(e){return e[Ir(e)]}function pa(e){var t={};return e.forEach(function(n){Object.keys(n).forEach(function(r){var s=n[r];if("object"!=typeof s&&(s={$eq:s}),hd(r))t[r]=s instanceof Array?s.map(function(m){return pa([m])}):pa([s]);else{var f=t[r]=t[r]||{};Object.keys(s).forEach(function(m){var I=s[m];return"$gt"===m||"$gte"===m?function(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}(m,I,f):"$lt"===m||"$lte"===m?function(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}(m,I,f):"$ne"===m?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(I,f):"$eq"===m?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(I,f):void(f[m]=I)})}})}),t}function pd(e){for(var t in e){if(Array.isArray(e))for(var n in e)e[n].$and&&(e[n]=pa(e[n].$and));var r=e[t];"object"==typeof r&&pd(r)}return e}function md(e,t){for(var n in e){"$and"===n&&(t=!0);var r=e[n];"object"==typeof r&&(t=md(r,t))}return t}function Al(e){var t=pn(e),n=!1;md(t,!1)&&("$and"in(t=pd(t))&&(t=pa(t.$and)),n=!0),["$or","$nor"].forEach(function(I){I in t&&t[I].forEach(function($){for(var J=Object.keys($),ue=0;ue<J.length;ue++){var me=J[ue],ye=$[me];("object"!=typeof ye||null===ye)&&($[me]={$eq:ye})}})}),"$not"in t&&(t.$not=pa([t.$not]));for(var r=Object.keys(t),s=0;s<r.length;s++){var f=r[s],m=t[f];"object"!=typeof m||null===m?m={$eq:m}:"$ne"in m&&!n&&(m.$ne=[m.$ne]),t[f]=m}return t}function Du(e,t,n){if(e=e.filter(function(m){return jo(m.doc,t.selector,n)}),t.sort){var r=function(e){function t(n){return e.map(function(r){var f=ha(Ir(r));return Cl(n,f)})}return function(n,r){var m=Yn(t(n.doc),t(r.doc));return 0!==m?m:wl(n.doc._id,r.doc._id)}}(t.sort);e=e.sort(r),"string"!=typeof t.sort[0]&&"desc"===Dl(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var s=t.skip||0;e=e.slice(s,("limit"in t?t.limit:e.length)+s)}return e}function jo(e,t,n){return n.every(function(r){var s=t[r],f=ha(r),m=Cl(e,f);return hd(r)?function(e,t,n){return"$or"===e?t.some(function(r){return jo(n,r,Object.keys(r))}):"$not"===e?!jo(n,t,Object.keys(t)):!t.find(function(r){return jo(n,r,Object.keys(r))})}(r,s,e):Ol(s,e,f,m)})}function Ol(e,t,n,r){return!e||("object"==typeof e?Object.keys(e).every(function(s){return function(e,t,n,r,s){if(!vd[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return vd[e](t,n,r,s)}(s,t,e[s],n,r)}):e===r)}function ma(e){return null!=e}function Ys(e){return void 0!==e}function gd(e,t){return t.some(function(n){return e instanceof Array?e.indexOf(n)>-1:e===n})}var vd={$elemMatch:function(e,t,n,r){return!(!Array.isArray(r)||0===r.length)&&r.some("object"==typeof r[0]?function(s){return jo(s,t,Object.keys(t))}:function(s){return Ol(t,e,n,s)})},$allMatch:function(e,t,n,r){return!(!Array.isArray(r)||0===r.length)&&r.every("object"==typeof r[0]?function(s){return jo(s,t,Object.keys(t))}:function(s){return Ol(t,e,n,s)})},$eq:function(e,t,n,r){return Ys(r)&&0===Yn(r,t)},$gte:function(e,t,n,r){return Ys(r)&&Yn(r,t)>=0},$gt:function(e,t,n,r){return Ys(r)&&Yn(r,t)>0},$lte:function(e,t,n,r){return Ys(r)&&Yn(r,t)<=0},$lt:function(e,t,n,r){return Ys(r)&&Yn(r,t)<0},$exists:function(e,t,n,r){return t?Ys(r):!Ys(r)},$mod:function(e,t,n,r){return ma(r)&&function(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}(r,t)},$ne:function(e,t,n,r){return t.every(function(s){return 0!==Yn(r,s)})},$in:function(e,t,n,r){return ma(r)&&gd(r,t)},$nin:function(e,t,n,r){return ma(r)&&!gd(r,t)},$size:function(e,t,n,r){return ma(r)&&function(e,t){return e.length===t}(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&function(e,t){return t.every(function(n){return e.indexOf(n)>-1})}(r,t)},$regex:function(e,t,n,r){return ma(r)&&function(e,t){return new RegExp(t).test(e)}(r,t)},$type:function(e,t,n,r){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,t)}};function bp(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter)return t(new Error('selector invalid for filter "'+("string"==typeof e.filter?e.filter:"function")+'"'));t()}function Ep(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=ns(e.view):e.filter=ns(e.filter))}function Sp(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!Wn(e.db)}function Cp(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var r=Ge(X,"`view` filter parameter not found or invalid.");return n(r)}var s=vs(t.view);e.db.get("_design/"+s[0],function(m,I){if(e.isCancelled)return n(null,{status:"cancelled"});if(m)return n(it(m));var $=I&&I.views&&I.views[s[1]]&&I.views[s[1]].map;if(!$)return n(Ge(a,I.views?"missing json key: "+s[1]:"missing json key: views"));t.filter=function(e){return xi(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{})}($),e.doChanges(t)})}else if(t.selector)t.filter=function(m){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var r=Du([{doc:e}],{selector:t=Al(t)},Object.keys(t));return r&&1===r.length}(m,t.selector)},e.doChanges(t);else{var f=vs(t.filter);e.db.get("_design/"+f[0],function(m,I){if(e.isCancelled)return n(null,{status:"cancelled"});if(m)return n(it(m));var $=I&&I.filters&&I.filters[f[1]];if(!$)return n(Ge(a,I&&I.filters?"missing json key: "+f[1]:"missing json key: filters"));t.filter=function(e){return xi('"use strict";\nreturn '+e+";",{})}($),e.doChanges(t)})}}function ga(e,t,n){at().call(this);var r=this;this.db=e;var s=(t=t?pn(t):{}).complete=Br(function(I,$){I?function(e,t){return"listenerCount"in e?e.listenerCount(t):at().listenerCount(e,t)}(r,"error")>0&&r.emit("error",I):r.emit("complete",$),r.removeAllListeners(),e.removeListener("destroyed",f)});function f(){r.cancel()}n&&(r.on("complete",function(I){n(null,I)}),r.on("error",n)),e.once("destroyed",f),t.onChange=function(I,$,J){r.isCancelled||function(e,t,n,r){try{e.emit("change",t,n,r)}catch(s){M("error",'Error in .on("change", function):',s)}}(r,I,$,J)};var m=new Promise(function(I,$){t.complete=function(J,ue){J?$(J):I(ue)}});r.once("cancel",function(){e.removeListener("destroyed",f),t.complete(null,{status:"cancelled"})}),this.then=m.then.bind(m),this.catch=m.catch.bind(m),this.then(function(I){s(null,I)},s),e.taskqueue.isReady?r.validateChanges(t):e.taskqueue.addTask(function(I){I?t.complete(I):r.isCancelled?r.emit("cancel"):r.validateChanges(t)})}function Op(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=ki(t.rev_tree).map(function(f){return{rev:f.rev}}));var s={id:t.id,changes:r,doc:e};return lr(t,e._rev)&&(s.deleted=!0),n.conflicts&&(s.doc._conflicts=ni(t),s.doc._conflicts.length||delete s.doc._conflicts),s}function yd(e,t){return e<t?-1:e>t?1:0}function Pl(e,t){return function(n,r){n||r[0]&&r[0].error?((n=n||r[0]).docId=t,e(n)):e(null,r.length?r[0]:r)}}function Tp(e,t){var n=yd(e._id,t._id);return 0!==n?n:yd(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function _d(e){var t=e._compactionQueue[0],n=t.opts,r=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(s){s&&s.last_seq&&(n.last_seq=s.last_seq),e._compact(n,function(f,m){f?r(f):r(null,m),C()(function(){e._compactionQueue.shift(),e._compactionQueue.length&&_d(e)})})})}function fn(){for(var e in at().call(this),fn.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function va(){this.isReady=!1,this.failed=!1,this.queue=[]}function kt(e,t){if(!(this instanceof kt))return new kt(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=pn(t),n.auto_compaction=t.auto_compaction,n.prefix=kt.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var s=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=kt.adapters,s=kt.preferredAdapters,f=kt.prefix,m=t.adapter;if(!m)for(var I=0;I<s.length&&"idb"===(m=s[I])&&"websql"in r&&de()&&localStorage["_pouch__websqldb_"+f+e];++I)M("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var $=r[m];return{name:$&&"use_prefix"in $&&!$.use_prefix?e:f+e,adapter:m}}((t.prefix||"")+e,t);if(t.name=s.name,t.adapter=t.adapter||s.adapter,n.name=e,n._adapter=t.adapter,kt.emit("debug",["adapter","Picked adapter: ",t.adapter]),!kt.adapters[t.adapter]||!kt.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);fn.call(n),n.taskqueue=new va,n.adapter=t.adapter,kt.adapters[t.adapter].call(n,t,function(f){if(f)return n.taskqueue.fail(f);(function(e){function t(r){e.removeListener("closed",n),r||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)})(n),n.emit("created",n),kt.emit("created",n.name),n.taskqueue.ready(n)})}T()(ga,at()),ga.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},ga.prototype.validateChanges=function(e){var t=e.complete,n=this;kt._changesFilterPlugin?kt._changesFilterPlugin.validate(e,function(r){if(r)return t(r);n.doChanges(e)}):n.doChanges(e)},ga.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=pn(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Op,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(kt._changesFilterPlugin){if(kt._changesFilterPlugin.normalize(e),kt._changesFilterPlugin.shouldFilter(this,e))return kt._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(f){f in e&&M("warn",'The "'+f+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var s=t.cancel;t.cancel=L()(function(f){r.cancel(),s.apply(this,f)})}}else this.db.info().then(function(f){t.isCancelled?n(null,{status:"cancelled"}):(e.since=f.update_seq,t.doChanges(e))},n)},T()(fn,at()),fn.prototype.post=Jt("post",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(Ge(se));this.bulkDocs({docs:[e]},t,Pl(n,e._id))}),fn.prototype.put=Jt("put",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(Ge(se));if(ts(e._id),Ur(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var m,I,J,ue,r=this;function f(m){"function"==typeof r._put&&!1!==t.new_edits?r._put(e,t,m):r.bulkDocs({docs:[e]},t,Pl(m,e._id))}t.force&&e._rev?(I=(m=e._rev.split("-"))[1],J=parseInt(m[0],10)+1,ue=Fi(),e._revisions={start:J,ids:[ue,I]},e._rev=J+"-"+ue,t.new_edits=!1,f(function(m){n(m,m?null:{ok:!0,id:e._id,rev:e._rev})})):f(n)}),fn.prototype.putAttachment=Jt("putAttachment",function(e,t,n,r,s){var f=this;function m(I){var $="_rev"in I?parseInt(I._rev,10):0;return I._attachments=I._attachments||{},I._attachments[t]={content_type:s,data:r,revpos:++$},f.put(I)}return"function"==typeof s&&(s=r,r=n,n=null),void 0===s&&(s=r,r=n,n=null),s||M("warn","Attachment",t,"on document",e,"is missing content_type"),f.get(e).then(function(I){if(I._rev!==n)throw Ge(p);return m(I)},function(I){if(I.reason===a.message)return m({_id:e});throw I})}),fn.prototype.removeAttachment=Jt("removeAttachment",function(e,t,n,r){var s=this;s.get(e,function(f,m){if(f)r(f);else{if(m._rev===n)return m._attachments?(delete m._attachments[t],0===Object.keys(m._attachments).length&&delete m._attachments,void s.put(m,r)):r();r(Ge(p))}})}),fn.prototype.remove=Jt("remove",function(e,t,n,r){var s;"string"==typeof t?(s={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(s=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),(n=n||{}).was_delete=!0;var f={_id:s._id,_rev:s._rev||n.rev,_deleted:!0};if(Ur(f._id)&&"function"==typeof this._removeLocal)return this._removeLocal(s,r);this.bulkDocs({docs:[f]},n,Pl(r,f._id))}),fn.prototype.revsDiff=Jt("revsDiff",function(e,t,n){"function"==typeof t&&(n=t,t={});var r=Object.keys(e);if(!r.length)return n(null,{});var s=0,f=new E;function m($,J){f.has($)||f.set($,{missing:[]}),f.get($).missing.push(J)}r.map(function($){this._getRevisionTree($,function(J,ue){if(J&&404===J.status&&"missing"===J.message)f.set($,{missing:e[$]});else{if(J)return n(J);!function($,J){var ue=e[$].slice(0);jr(J,function(me,ye,Re,Ce,be){var Te=ye+"-"+Re,Ue=ue.indexOf(Te);-1!==Ue&&(ue.splice(Ue,1),"available"!==be.status&&m($,Te))}),ue.forEach(function(me){m($,me)})}($,ue)}if(++s===r.length){var me={};return f.forEach(function(ye,Re){me[Re]=ye}),n(null,me)}})},this)}),fn.prototype.bulkGet=Jt("bulkGet",function(e,t){Ie(this,e,t)}),fn.prototype.compactDocument=Jt("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(s,f){if(s)return n(s);var m=function(e){var t={},n=[];return jr(e,function(r,s,f,m){var I=s+"-"+f;return r&&(t[I]=0),void 0!==m&&n.push({from:m,to:I}),I}),n.reverse(),n.forEach(function(r){t[r.from]=void 0===t[r.from]?1+t[r.to]:Math.min(t[r.from],1+t[r.to])}),t}(f),I=[],$=[];Object.keys(m).forEach(function(J){m[J]>t&&I.push(J)}),jr(f,function(J,ue,me,ye,Re){var Ce=ue+"-"+me;"available"===Re.status&&-1!==I.indexOf(Ce)&&$.push(Ce)}),r._doCompaction(e,$,n)})}),fn.prototype.compact=Jt("compact",function(e,t){"function"==typeof e&&(t=e,e={});var n=this;e=e||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:e,callback:t}),1===n._compactionQueue.length&&_d(n)}),fn.prototype._compact=function(e,t){var n=this,s=[];n.changes({return_docs:!1,last_seq:e.last_seq||0}).on("change",function(I){s.push(n.compactDocument(I.id,0))}).on("complete",function(I){var $=I.last_seq;Promise.all(s).then(function(){return ti(n,"_local/compaction",function(ue){return(!ue.last_seq||ue.last_seq<$)&&(ue.last_seq=$,ue)})}).then(function(){t(null,{ok:!0})}).catch(t)}).on("error",t)},fn.prototype.get=Jt("get",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(Ge(h));if(Ur(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var r=[],s=this;function f(){var $=[],J=r.length;if(!J)return n(null,$);r.forEach(function(ue){s.get(e,{rev:ue,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},function(me,ye){if(me)$.push({missing:ue});else{for(var Re,Ce=0,be=$.length;Ce<be;Ce++)if($[Ce].ok&&$[Ce].ok._rev===ye._rev){Re=!0;break}Re||$.push({ok:ye})}--J||n(null,$)})})}if(!t.open_revs)return this._get(e,t,function($,J){if($)return $.docId=e,n($);var ue=J.doc,me=J.metadata,ye=J.ctx;if(t.conflicts){var Re=ni(me);Re.length&&(ue._conflicts=Re)}if(lr(me,ue._rev)&&(ue._deleted=!0),t.revs||t.revs_info){for(var Ce=ue._rev.split("-"),be=parseInt(Ce[0],10),Te=Ce[1],Ue=Es(me.rev_tree),$e=null,Be=0;Be<Ue.length;Be++){var Qe=Ue[Be],Ye=Qe.ids.map(function(Kt){return Kt.id}).indexOf(Te);(Ye===be-1||!$e&&-1!==Ye)&&($e=Qe)}if(!$e)return($=new Error("invalid rev tree")).docId=e,n($);var qe=$e.ids.map(function(Kt){return Kt.id}).indexOf(ue._rev.split("-")[1])+1;if($e.ids.splice(qe,$e.ids.length-qe),$e.ids.reverse(),t.revs&&(ue._revisions={start:$e.pos+$e.ids.length-1,ids:$e.ids.map(function(Kt){return Kt.id})}),t.revs_info){var It=$e.pos+$e.ids.length;ue._revs_info=$e.ids.map(function(Kt){return{rev:--It+"-"+Kt.id,status:Kt.opts.status}})}}if(t.attachments&&ue._attachments){var Lt=ue._attachments,Vt=Object.keys(Lt).length;if(0===Vt)return n(null,ue);Object.keys(Lt).forEach(function(Kt){this._getAttachment(ue._id,Kt,Lt[Kt],{rev:ue._rev,binary:t.binary,ctx:ye},function(Ft,Ht){var Zt=ue._attachments[Kt];Zt.data=Ht,delete Zt.stub,delete Zt.length,--Vt||n(null,ue)})},s)}else{if(ue._attachments)for(var Qt in ue._attachments)ue._attachments.hasOwnProperty(Qt)&&(ue._attachments[Qt].stub=!0);n(null,ue)}});if("all"===t.open_revs)this._getRevisionTree(e,function($,J){if($)return n($);r=ki(J).map(function(ue){return ue.rev}),f()});else{if(!Array.isArray(t.open_revs))return n(Ge(Ee,"function_clause"));r=t.open_revs;for(var m=0;m<r.length;m++){var I=r[m];if("string"!=typeof I||!/^\d+-/.test(I))return n(Ge(De))}f()}}),fn.prototype.getAttachment=Jt("getAttachment",function(e,t,n,r){var s=this;n instanceof Function&&(r=n,n={}),this._get(e,n,function(f,m){return f?r(f):m.doc._attachments&&m.doc._attachments[t]?(n.ctx=m.ctx,n.binary=!0,void s._getAttachment(e,t,m.doc._attachments[t],n,r)):r(Ge(a))})}),fn.prototype.allDocs=Jt("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(r){return r in e})[0];if(n)return void t(Ge(Q,"Query parameter `"+n+"` is not compatible with multi-get"));if(!Wn(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)}),fn.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new ga(this,e,t)},fn.prototype.close=Jt("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),fn.prototype.info=Jt("info",function(e){var t=this;this._info(function(n,r){if(n)return e(n);r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||Wn(t)),r.adapter=t.adapter,e(null,r)})}),fn.prototype.id=Jt("id",function(e){return this._id(e)}),fn.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},fn.prototype.bulkDocs=Jt("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(Ge(d));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(Ge(se));var s;if(e.docs.forEach(function(I){I._attachments&&Object.keys(I._attachments).forEach(function($){s=s||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}($),I._attachments[$].content_type||M("warn","Attachment",$,"on document",I._id,"is missing content_type")})}),s)return n(Ge(X,s));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var f=this;!t.new_edits&&!Wn(f)&&e.docs.sort(Tp),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),s=0;s<r.length;s++){var f=r[s];n._attachments[f]=pr(n._attachments[f],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var m=e.docs.map(function(I){return I._id});return this._bulkDocs(e,t,function(I,$){if(I)return n(I);if(t.new_edits||($=$.filter(function(me){return me.error})),!Wn(f))for(var J=0,ue=$.length;J<ue;J++)$[J].id=$[J].id||m[J];n(null,$)})}),fn.prototype.registerDependentDatabase=Jt("registerDependentDatabase",function(e,t){var n=new this.constructor(e,this.__opts);ti(this,"_local/_pouch_dependentDbs",function(s){return s.dependentDbs=s.dependentDbs||{},!s.dependentDbs[e]&&(s.dependentDbs[e]=!0,s)}).then(function(){t(null,{db:n})}).catch(t)}),fn.prototype.destroy=Jt("destroy",function(e,t){"function"==typeof e&&(t=e,e={});var n=this,r=!("use_prefix"in n)||n.use_prefix;function s(){n._destroy(e,function(f,m){if(f)return t(f);n._destroyed=!0,n.emit("destroyed"),t(null,m||{ok:!0})})}if(Wn(n))return s();n.get("_local/_pouch_dependentDbs",function(f,m){if(f)return 404!==f.status?t(f):s();var $=n.constructor,J=Object.keys(m.dependentDbs).map(function(ue){var me=r?ue.replace(new RegExp("^"+$.prefix),""):ue;return new $(me,n.__opts).destroy()});Promise.all(J).then(s,t)})}),va.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},va.prototype.fail=function(e){this.failed=e,this.execute()},va.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},va.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},T()(kt,fn),kt.adapters={},kt.preferredAdapters=[],kt.prefix="_pouch_";var bd=new(at());(function(e){Object.keys(at().prototype).forEach(function(n){"function"==typeof at().prototype[n]&&(e[n]=bd[n].bind(bd))});var t=e._destructionListeners=new E;e.on("ref",function(r){t.has(r.name)||t.set(r.name,[]),t.get(r.name).push(r)}),e.on("unref",function(r){if(t.has(r.name)){var s=t.get(r.name),f=s.indexOf(r);f<0||(s.splice(f,1),s.length>1?t.set(r.name,s):t.delete(r.name))}}),e.on("destroyed",function(r){if(t.has(r)){var s=t.get(r);t.delete(r),s.forEach(function(f){f.emit("destroyed",!0)})}})})(kt),kt.adapter=function(e,t,n){t.valid()&&(kt.adapters[e]=t,n&&kt.preferredAdapters.push(e))},kt.plugin=function(e){if("function"==typeof e)e(kt);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){kt.prototype[t]=e[t]})}return this.__defaults&&(kt.__defaults=Tt({},this.__defaults)),kt},kt.defaults=function(e){function t(n,r){if(!(this instanceof t))return new t(n,r);r=r||{},n&&"object"==typeof n&&(n=(r=n).name,delete r.name),r=Tt({},t.__defaults,r),kt.call(this,n,r)}return T()(t,kt),t.preferredAdapters=kt.preferredAdapters.slice(),Object.keys(kt).forEach(function(n){n in t||(t[n]=kt[n])}),t.__defaults=Tt({},this.__defaults,e),t},kt.fetch=function(e,t){return Kh(e,t)},kt.plugin(function(e){e._changesFilterPlugin={validate:bp,normalize:Ep,shouldFilter:Sp,filter:Cp}}),kt.version="7.2.2";const Au=kt;function Js(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Js)}catch{}}function Tl(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Tl)}catch{}}function Il(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Il)}catch{}}function Ed(e,t){return t&&e.then(function(n){C()(function(){t(null,n)})},function(n){C()(function(){t(n)})}),e}function Ml(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function Sd(e){var t=new O(e),n=new Array(t.size),r=-1;return t.forEach(function(s){n[++r]=s}),n}function Rl(e){var t=new Array(e.size),n=-1;return e.forEach(function(r,s){t[++n]=s}),t}function ya(){this.promise=new Promise(function(e){e()})}function Cd(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function wd(e,t,n,r,s,f){var I,m=function(e,t){return Cd(e)+Cd(t)+"undefined"}(n,r);if(!s&&(I=e._cachedViews=e._cachedViews||{})[m])return I[m];var $=e.info().then(function(J){var ue=J.db_name+"-mrview-"+(s?"temp":br(m));return ti(e,"_local/"+f,function(ye){ye.views=ye.views||{};var Re=t;-1===Re.indexOf("/")&&(Re=t+"/"+t);var Ce=ye.views[Re]=ye.views[Re]||{};if(!Ce[ue])return Ce[ue]=!0,ye}).then(function(){return e.registerDependentDatabase(ue).then(function(ye){var Re=ye.db;Re.auto_compaction=!0;var Ce={name:ue,db:Re,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};return Ce.db.get("_local/lastSeq").catch(function(be){if(404!==be.status)throw be}).then(function(be){return Ce.seq=be?be.seq:0,I&&Ce.db.once("destroyed",function(){delete I[m]}),Ce})})})});return I&&(I[m]=$),$}T()(Js,Error),T()(Tl,Error),T()(Il,Error),ya.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},ya.prototype.finish=function(){return this.promise};var Dd={},Ad=new ya;function xl(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Pd(e,t){try{e.emit("error",t)}catch{M("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),M("error",t)}}function Td(e){return(e=pn(e)).index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function _a(e,t,n,r){var s,f;n.headers=new wu({"Content-type":"application/json"}),e.fetch(t,n).then(function(m){return s=m.status,f=m.ok,m.json()}).then(function(m){if(f)r(null,m);else{m.status=s;var I=it(m);r(I)}}).catch(r)}function $p(e,t,n){t=Td(t),_a(e,"_index",{method:"POST",body:JSON.stringify(t)},n)}function Wp(e,t,n){_a(e,"_find",{method:"POST",body:JSON.stringify(t)},n)}function Hp(e,t,n){_a(e,"_explain",{method:"POST",body:JSON.stringify(t)},n)}function Kp(e,t){_a(e,"_index",{method:"GET"},t)}function Gp(e,t,n){var r=t.ddoc,f=t.name;return r?f?void _a(e,"_index/"+[r,t.type||"json",f].map(encodeURIComponent).join("/"),{method:"DELETE"},n):n(new Error("you must provide an index's name")):n(new Error("you must provide an index's ddoc"))}function Id(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}}function ba(e){return Id(function(t){var n=t.pop(),r=e.apply(this,t);return function(e,t){e.then(function(n){C()(function(){t(null,n)})},function(n){C()(function(){t(n)})})}(r,n),r})}var Fl=Id(function(e){for(var t=[],n=0,r=e.length;n<r;n++){var s=e[n];Array.isArray(s)?t=t.concat(Fl.apply(null,s)):t.push(s)}return t});function kl(e){for(var t={},n=0,r=e.length;n<r;n++)t=Tt(t,e[n]);return t}function Md(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r;n++)if(e[n]!==t[n])return!1;return!0}function Rd(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}var cm=function(e,t,n,r){function s(xe,Fe,He){try{Fe(He)}catch(st){Pd(xe,st)}}function f(xe,Fe,He,st,Ze){try{return{output:Fe(He,st,Ze)}}catch(ot){return Pd(xe,ot),{error:ot}}}function m(xe,Fe){var He=Yn(xe.key,Fe.key);return 0!==He?He:Yn(xe.value,Fe.value)}function I(xe,Fe,He){return He=He||0,"number"==typeof Fe?xe.slice(He,Fe+He):He>0?xe.slice(He):xe}function $(xe){var Fe=xe.value;return Fe&&"object"==typeof Fe&&Fe._id||xe.id}function ue(xe){return function(Fe){return xe.include_docs&&xe.attachments&&xe.binary&&function(xe){xe.rows.forEach(function(Fe){var He=Fe.doc&&Fe.doc._attachments;!He||Object.keys(He).forEach(function(st){var Ze=He[st];He[st].data=ze(Ze.data,Ze.content_type)})})}(Fe),Fe}}function me(xe,Fe,He,st){var Ze=Fe[xe];void 0!==Ze&&(st&&(Ze=encodeURIComponent(JSON.stringify(Ze))),He.push(xe+"="+Ze))}function ye(xe){if(void 0!==xe){var Fe=Number(xe);return isNaN(Fe)||Fe!==parseInt(xe,10)?xe:Fe}}function be(xe,Fe){var He=xe.descending?"endkey":"startkey",st=xe.descending?"startkey":"endkey";if(void 0!==xe[He]&&void 0!==xe[st]&&Yn(xe[He],xe[st])>0)throw new Js("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(Fe.reduce&&!1!==xe.reduce){if(xe.include_docs)throw new Js("{include_docs:true} is invalid for reduce");if(xe.keys&&xe.keys.length>1&&!xe.group&&!xe.group_level)throw new Js("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(Ze){var ot=function(xe){if(xe){if("number"!=typeof xe)return new Js('Invalid value for integer: "'+xe+'"');if(xe<0)return new Js('Invalid value for positive integer: "'+xe+'"')}}(xe[Ze]);if(ot)throw ot})}function Be(xe){return function(Fe){if(404===Fe.status)return xe;throw Fe}}function ut(xe){var Fe="string"==typeof xe?xe:xe.name,He=Dd[Fe];return He||(He=Dd[Fe]=new ya),He}function qe(xe){return Ml(ut(xe),function(){return function(xe){var Fe,He;var Ze=t(xe.mapFun,function(Dt,Bt){var un={id:He._id,key:Zs(Dt)};null!=Bt&&(un.value=Zs(Bt)),Fe.push(un)}),ot=xe.seq||0;function mt(Dt,Bt){return function(){return function(xe,Fe,He){var st="_local/lastSeq";return xe.db.get(st).catch(Be({_id:st,seq:0})).then(function(Ze){var ot=Rl(Fe);return Promise.all(ot.map(function(mt){return function(xe,Fe,He){var st="_local/doc_"+xe,Ze={_id:st,keys:[]},ot=He.get(xe),mt=ot[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(ot[1])?Promise.resolve(Ze):Fe.db.get(st).catch(Be(Ze))).then(function(rt){return function(rt){return rt.keys.length?Fe.db.allDocs({keys:rt.keys,include_docs:!0}):Promise.resolve({rows:[]})}(rt).then(function(Dt){return function(rt,Dt){for(var Bt=[],un=new O,tn=0,Yt=Dt.rows.length;tn<Yt;tn++){var An=Dt.rows[tn].doc;if(An&&(Bt.push(An),un.add(An._id),An._deleted=!mt.has(An._id),!An._deleted)){var Xr=mt.get(An._id);"value"in Xr&&(An.value=Xr.value)}}var Rr=Rl(mt);return Rr.forEach(function(Aa){if(!un.has(Aa)){var Oa={_id:Aa},ef=mt.get(Aa);"value"in ef&&(Oa.value=ef.value),Bt.push(Oa)}}),rt.keys=Sd(Rr.concat(rt.keys)),Bt.push(rt),Bt}(rt,Dt)})})}(mt,xe,Fe)})).then(function(mt){var At=sn(mt);return Ze.seq=He,At.push(Ze),xe.db.bulkDocs({docs:At})})})}(xe,Dt,Bt)}}var At=new ya;function gt(){return xe.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:ot,limit:50}).then(Ot)}function Ot(Dt){var Bt=Dt.results;if(Bt.length){var un=function(Dt){for(var Bt=new E,un=0,tn=Dt.length;un<tn;un++){var Yt=Dt[un];if("_"!==Yt.doc._id[0]){Fe=[],(He=Yt.doc)._deleted||s(xe.sourceDB,Ze,He),Fe.sort(m);var nn=rt(Fe);Bt.set(Yt.doc._id,[nn,Yt.changes])}ot=Yt.seq}return Bt}(Bt);if(At.add(mt(un,ot)),!(Bt.length<50))return gt()}}function rt(Dt){for(var un,Bt=new E,tn=0,Yt=Dt.length;tn<Yt;tn++){var nn=Dt[tn],An=[nn.key,nn.id];tn>0&&0===Yn(nn.key,un)&&An.push(tn),Bt.set(mi(An),nn),un=nn.key}return Bt}return gt().then(function(){return At.finish()}).then(function(){xe.seq=ot})}(xe)})()}function Lt(xe,Fe){return Ml(ut(xe),function(){return function(xe,Fe){var He,st=xe.reduceFun&&!1!==Fe.reduce,Ze=Fe.skip||0;function ot(tn){return tn.include_docs=!0,xe.db.allDocs(tn).then(function(Yt){return He=Yt.total_rows,Yt.rows.map(function(nn){if("value"in nn.doc&&"object"==typeof nn.doc.value&&null!==nn.doc.value){var An=Object.keys(nn.doc.value).sort(),Xr=["id","key","value"];if(!(An<Xr||An>Xr))return nn.doc.value}var Rr=function(e){for(var t=[],n=[],r=0;;){var s=e[r++];if("\0"!==s)switch(s){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var f=Yh(e,r);t.push(f.num),r+=f.length;break;case"4":for(var m="";;){var I=e[r];if("\0"===I)break;m+=I,r++}m=m.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(m);break;case"5":var $={element:[],index:t.length};t.push($.element),n.push($);break;case"6":var J={element:{},index:t.length};t.push(J.element),n.push(J);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+s)}else{if(1===t.length)return t.pop();Jh(t,n)}}}(nn.doc._id);return{key:Rr[0],id:Rr[1],value:"value"in nn.doc?nn.doc.value:null}})})}function mt(tn){var Yt;if(Yt=st?function(xe,Fe,He){0===He.group_level&&delete He.group_level;var st=He.group||He.group_level,Ze=n(xe.reduceFun),ot=[],mt=isNaN(He.group_level)?Number.POSITIVE_INFINITY:He.group_level;Fe.forEach(function(rt){var Dt=ot[ot.length-1],Bt=st?rt.key:null;if(st&&Array.isArray(Bt)&&(Bt=Bt.slice(0,mt)),Dt&&0===Yn(Dt.groupKey,Bt))return Dt.keys.push([rt.key,rt.id]),void Dt.values.push(rt.value);ot.push({keys:[[rt.key,rt.id]],values:[rt.value],groupKey:Bt})}),Fe=[];for(var At=0,gt=ot.length;At<gt;At++){var Ot=ot[At],wt=f(xe.sourceDB,Ze,Ot.keys,Ot.values,!1);if(wt.error&&wt.error instanceof Il)throw wt.error;Fe.push({value:wt.error?null:wt.output,key:Ot.groupKey})}return{rows:I(Fe,He.limit,He.skip)}}(xe,tn,Fe):{total_rows:He,offset:Ze,rows:tn},Fe.update_seq&&(Yt.update_seq=xe.seq),Fe.include_docs){var nn=Sd(tn.map($));return xe.sourceDB.allDocs({keys:nn,include_docs:!0,conflicts:Fe.conflicts,attachments:Fe.attachments,binary:Fe.binary}).then(function(An){var Xr=new E;return An.rows.forEach(function(Rr){Xr.set(Rr.id,Rr.doc)}),tn.forEach(function(Rr){var Aa=$(Rr),Oa=Xr.get(Aa);Oa&&(Rr.doc=Oa)}),Yt})}return Yt}if(void 0!==Fe.keys&&!Fe.keys.length&&(Fe.limit=0,delete Fe.keys),void 0!==Fe.keys){var gt=Fe.keys.map(function(tn){var Yt={startkey:mi([tn]),endkey:mi([tn,{}])};return Fe.update_seq&&(Yt.update_seq=!0),ot(Yt)});return Promise.all(gt).then(sn).then(mt)}var wt,rt,Ot={descending:Fe.descending};if(Fe.update_seq&&(Ot.update_seq=!0),"start_key"in Fe&&(wt=Fe.start_key),"startkey"in Fe&&(wt=Fe.startkey),"end_key"in Fe&&(rt=Fe.end_key),"endkey"in Fe&&(rt=Fe.endkey),void 0!==wt&&(Ot.startkey=mi(Fe.descending?[wt,{}]:[wt])),void 0!==rt){var Dt=!1!==Fe.inclusive_end;Fe.descending&&(Dt=!Dt),Ot.endkey=mi(Dt?[rt,{}]:[rt])}if(void 0!==Fe.key){var Bt=mi([Fe.key]),un=mi([Fe.key,{}]);Ot.descending?(Ot.endkey=Bt,Ot.startkey=un):(Ot.startkey=Bt,Ot.endkey=un)}return st||("number"==typeof Fe.limit&&(Ot.limit=Fe.limit),Ot.skip=Ze),ot(Ot).then(mt)}(xe,Fe)})()}var Zt=function(e){return L()(function(t){var n=t.pop(),r=e.apply(this,t);return"function"==typeof n&&Ed(r,n),r})}(function(){var xe=this;return"function"==typeof xe._viewCleanup?function(xe){return new Promise(function(Fe,He){xe._viewCleanup(function(st,Ze){if(st)return He(st);Fe(Ze)})})}(xe):Wn(xe)?function(xe){return xe.fetch("_view_cleanup",{headers:new wu({"Content-Type":"application/json"}),method:"POST"}).then(function(Fe){return Fe.json()})}(xe):function(xe){return xe.get("_local/"+e).then(function(Fe){var He=new E;Object.keys(Fe.views).forEach(function(Ze){var ot=xl(Ze),mt="_design/"+ot[0],At=ot[1],gt=He.get(mt);gt||(gt=new O,He.set(mt,gt)),gt.add(At)});var st={keys:Rl(He),include_docs:!0};return xe.allDocs(st).then(function(Ze){var ot={};Ze.rows.forEach(function(gt){var Ot=gt.key.substring(8);He.get(gt.key).forEach(function(wt){var rt=Ot+"/"+wt;Fe.views[rt]||(rt=wt);var Dt=Object.keys(Fe.views[rt]),Bt=gt.doc&&gt.doc.views&&gt.doc.views[wt];Dt.forEach(function(un){ot[un]=ot[un]||Bt})})});var At=Object.keys(ot).filter(function(gt){return!ot[gt]}).map(function(gt){return Ml(ut(gt),function(){return new xe.constructor(gt,xe.__opts).destroy()})()});return Promise.all(At).then(function(){return{ok:!0}})})},Be({ok:!0}))}(xe)});return{query:function(xe,Fe,He){var st=this;"function"==typeof Fe&&(He=Fe,Fe={}),Fe=Fe?function(xe){return xe.group_level=ye(xe.group_level),xe.limit=ye(xe.limit),xe.skip=ye(xe.skip),xe}(Fe):{},"function"==typeof xe&&(xe={map:xe});var Ze=Promise.resolve().then(function(){return function(xe,Fe,He){if("function"==typeof xe._query)return function(xe,Fe,He){return new Promise(function(st,Ze){xe._query(Fe,He,function(ot,mt){if(ot)return Ze(ot);st(mt)})})}(xe,Fe,He);if(Wn(xe))return function(xe,Fe,He){var Ze,mt,At,st=[],ot="GET";if(me("reduce",He,st),me("include_docs",He,st),me("attachments",He,st),me("limit",He,st),me("descending",He,st),me("group",He,st),me("group_level",He,st),me("skip",He,st),me("stale",He,st),me("conflicts",He,st),me("startkey",He,st,!0),me("start_key",He,st,!0),me("endkey",He,st,!0),me("end_key",He,st,!0),me("inclusive_end",He,st),me("key",He,st,!0),me("update_seq",He,st),st=""===(st=st.join("&"))?"":"?"+st,void 0!==He.keys){var Ot="keys="+encodeURIComponent(JSON.stringify(He.keys));Ot.length+st.length+1<=2e3?st+=("?"===st[0]?"&":"?")+Ot:(ot="POST","string"==typeof Fe?Ze={keys:He.keys}:Fe.keys=He.keys)}if("string"==typeof Fe){var wt=xl(Fe);return xe.fetch("_design/"+wt[0]+"/_view/"+wt[1]+st,{headers:new wu({"Content-Type":"application/json"}),method:ot,body:JSON.stringify(Ze)}).then(function(rt){return mt=rt.ok,At=rt.status,rt.json()}).then(function(rt){if(!mt)throw rt.status=At,it(rt);return rt.rows.forEach(function(Dt){if(Dt.value&&Dt.value.error&&"builtin_reduce_error"===Dt.value.error)throw new Error(Dt.reason)}),rt}).then(ue(He))}return Ze=Ze||{},Object.keys(Fe).forEach(function(rt){Ze[rt]=Array.isArray(Fe[rt])?Fe[rt]:Fe[rt].toString()}),xe.fetch("_temp_view"+st,{headers:new wu({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(Ze)}).then(function(rt){return mt=rt.ok,At=rt.status,rt.json()}).then(function(rt){if(!mt)throw rt.status=At,it(rt);return rt}).then(ue(He))}(xe,Fe,He);if("string"!=typeof Fe)return be(He,Fe),Ad.add(function(){return wd(xe,"temp_view/temp_view",Fe.map,Fe.reduce,!0,e).then(function(gt){return function(e,t){return e.then(function(n){return t().then(function(){return n})},function(n){return t().then(function(){throw n})})}(qe(gt).then(function(){return Lt(gt,He)}),function(){return gt.db.destroy()})})}),Ad.finish();var st=Fe,Ze=xl(st),mt=Ze[1];return xe.get("_design/"+Ze[0]).then(function(At){var gt=At.views&&At.views[mt];if(!gt)throw new Tl("ddoc "+At._id+" has no view named "+mt);return r(At,mt),be(He,gt),wd(xe,st,gt.map,gt.reduce,!1,e).then(function(wt){return"ok"===He.stale||"update_after"===He.stale?("update_after"===He.stale&&C()(function(){qe(wt)}),Lt(wt,He)):qe(wt).then(function(){return Lt(wt,He)})})})}(st,xe,Fe)});return Ed(Ze,He),Ze},viewCleanup:Zt}}("indexes",function(e,t){return function(e,t){var n=function(e){for(var t=0,n=e.length;t<n;t++)if(-1!==e[t].indexOf("."))return!1;return!0}(e),r=1===e.length;return n?r?function(e,t){return function(n){t(n[e])}}(e[0],t):function(e,t){return function(n){for(var r=[],s=0,f=e.length;s<f;s++)r.push(n[e[s]]);t(r)}}(e,t):r?function(e,t){var n=ha(e);return function(r){for(var s=r,f=0,m=n.length;f<m;f++)if(void 0===(s=s[n[f]]))return;t(s)}}(e[0],t):function(e,t){return function(n){for(var r=[],s=0,f=e.length;s<f;s++){for(var m=ha(e[s]),I=n,$=0,J=m.length;$<J;$++)if(void 0===(I=I[m[$]]))return;r.push(I)}t(r)}}(e,t)}(Object.keys(e.fields),t)},function(){throw new Error("reduce not supported")},function(e,t){var n=e.views[t];if(!n.map||!n.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")});function Ll(e){return e._customFindAbstractMapper||cm}function xd(e){return e.fields=e.fields.map(function(t){if("string"==typeof t){var n={};return n[t]="asc",n}return t}),e}function hm(e,t){for(var n=[],r=0;r<t.def.fields.length;r++){var s=Ir(t.def.fields[r]);n.push(e[s])}return n}function Fd(e){return e.allDocs({startkey:"_design/",endkey:"_design/\uffff",include_docs:!0}).then(function(t){var n={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return n.indexes=Fl(n.indexes,t.rows.filter(function(r){return"query"===r.doc.language}).map(function(r){return(void 0!==r.doc.views?Object.keys(r.doc.views):[]).map(function(f){return{ddoc:r.id,name:f,type:"json",def:xd(r.doc.views[f].options.def)}})})),n.indexes.sort(function(r,s){return wl(r.name,s.name)}),n.total_rows=n.indexes.length,n})}var Bl={"\uffff":{}};const Em={queryOpts:{limit:0,startkey:Bl,endkey:null},inMemoryFields:[]};function Sm(e,t){for(var n=e.def.fields.map(Ir),r=0,s=n.length;r<s;r++)if(t===n[r])return!0;return!1}function Cm(e,t){return"$eq"!==Ir(e[t])}function kd(e,t){var n=t.def.fields.map(Ir);return e.slice().sort(function(r,s){var f=n.indexOf(r),m=n.indexOf(s);return-1===f&&(f=Number.MAX_VALUE),-1===m&&(m=Number.MAX_VALUE),wl(f,m)})}function Am(e,t,n,r){var s=Fl(e,function(e,t,n){for(var r=!1,s=0,f=(n=kd(n,e)).length;s<f;s++){var m=n[s];if(r||!Sm(e,m))return n.slice(s);s<f-1&&Cm(t,m)&&(r=!0)}return[]}(t,n,r),function(e){var t=[];return Object.keys(e).forEach(function(n){Object.keys(e[n]).forEach(function(s){"$ne"===s&&t.push(n)})}),t}(n));return kd(function(e){for(var t={},n=0;n<e.length;n++)t["$"+e[n]]=!0;return Object.keys(t).map(function(r){return r.substring(1)})}(s),t)}var Pm=["$eq","$gt","$gte","$lt","$lte"];function Ld(e){return-1===Pm.indexOf(e)}function Im(e,t,n,r){var s=e.def.fields.map(Ir);return!!function(e,t,n){if(t){var r=function(e,t){return!(e.length>t.length)&&Md(e,t)}(t,e),s=Md(n,e);return r&&s}return function(e,t){e=e.slice();for(var n=0,r=t.length;n<r;n++){var s=t[n];if(!e.length)break;var f=e.indexOf(s);if(-1===f)return!1;e.splice(f,1)}return!0}(n,e)}(s,t,n)&&function(e,t){var r=t[e[0]];return void 0===r||!(1===Object.keys(r).length&&"$ne"===Ir(r))}(s,r)}function km(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function Um(e,t){var n=e.selector,r=e.sort;if(function(e){return Object.keys(e).map(function(n){return e[n]}).some(function(n){return"object"==typeof n&&0===Object.keys(n).length})}(n))return Tt({},Em,{index:t[0]});var s=function(e,t){var s,n=Object.keys(e),r=t?t.map(Ir):[];return s=n.length>=r.length?n:r,0===r.length?{fields:s}:{fields:s=s.sort(function(f,m){var I=r.indexOf(f);-1===I&&(I=Number.MAX_VALUE);var $=r.indexOf(m);return-1===$&&($=Number.MAX_VALUE),I<$?-1:I>$?1:0}),sortOrder:t.map(Ir)}}(n,r),f=s.fields,I=function(e,t,n,r,s){var f=function(e,t,n,r){return r.filter(function(s){return Im(s,n,t,e)})}(e,t,n,r);if(0===f.length){if(s)throw{error:"no_usable_index",message:"There is no index available for this selector."};var m=r[0];return m.defaultUsed=!0,m}if(1===f.length&&!s)return f[0];var I=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t}(t);if(s){var J="_design/"+s[0],ue=2===s.length&&s[1],me=f.find(function(ye){return!!(ue&&ye.ddoc===J&&ue===ye.name||ye.ddoc===J)});if(!me)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return me}return function(e,t){for(var n=null,r=-1,s=0,f=e.length;s<f;s++){var m=e[s],I=t(m);I>r&&(r=I,n=m)}return n}(f,function(ye){for(var Re=ye.def.fields.map(Ir),Ce=0,be=0,Te=Re.length;be<Te;be++)I[Re[be]]&&Ce++;return Ce})}(n,f,s.sortOrder,t,e.use_index),$=function(e,t){return t.defaultUsed?function(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}(e):1===t.def.fields.length?function(e,t){var m,n=Ir(t.def.fields[0]),r=e[n]||{},s=[];return Object.keys(r).forEach(function(I){Ld(I)&&s.push(n);var J=function(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}return{startkey:null}}(I,r[I]);m=m?kl([m,J]):J}),{queryOpts:m,inMemoryFields:s}}(e,t):function(e,t){var m,I,n=t.def.fields.map(Ir),r=[],s=[],f=[];function $(It){!1!==m&&s.push(null),!1!==I&&f.push(Bl),r=n.slice(It)}for(var J=0,ue=n.length;J<ue;J++){var ye=e[n[J]];if(!ye||!Object.keys(ye).length){$(J);break}if(Object.keys(ye).some(Ld)){$(J);break}if(J>0){var Re="$gt"in ye||"$gte"in ye||"$lt"in ye||"$lte"in ye,Ce=Object.keys(e[n[J-1]]),be=Rd(Ce,["$eq"]),Te=Rd(Ce,Object.keys(ye));if(Re&&!be&&!Te){$(J);break}}for(var $e=Object.keys(ye),Be=null,Qe=0;Qe<$e.length;Qe++){var Ye=$e[Qe],qe=km(Ye,ye[Ye]);Be=Be?kl([Be,qe]):qe}s.push("startkey"in Be?Be.startkey:null),f.push("endkey"in Be?Be.endkey:Bl),"inclusive_start"in Be&&(m=Be.inclusive_start),"inclusive_end"in Be&&(I=Be.inclusive_end)}var dt={startkey:s,endkey:f};return void 0!==m&&(dt.inclusive_start=m),void 0!==I&&(dt.inclusive_end=I),{queryOpts:dt,inMemoryFields:r}}(e,t)}(n,I);return{queryOpts:$.queryOpts,index:I,inMemoryFields:Am($.inMemoryFields,I,n,f)}}function Bd(e,t,n){return t.selector&&(t.selector=Al(t.selector)),t.sort&&(t.sort=function(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(t){if("string"==typeof t){var n={};return n[t]="asc",n}return t})}(t.sort)),t.use_index&&(t.use_index=function(e){var t=[];return"string"==typeof e?t.push(e):t=e,t.map(function(n){return n.replace("_design/","")})}(t.use_index)),function(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}(t),Fd(e).then(function(r){e.constructor.emit("debug",["find","planning query",t]);var s=Um(t,r.indexes);e.constructor.emit("debug",["find","query plan",s]);var f=s.index;!function(e,t){if(t.defaultUsed&&e.sort){var n=e.sort.filter(function(r){return"_id"!==Object.keys(r)[0]}).map(function(r){return Object.keys(r)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}}(t,f);var m=Tt({include_docs:!0,reduce:!1,indexes_count:r.total_rows},s.queryOpts);return"startkey"in m&&"endkey"in m&&Yn(m.startkey,m.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===Dl(t.sort[0])&&(m.descending=!0,m=function(e){var t=pn(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}(m)),s.inMemoryFields.length||("limit"in t&&(m.limit=t.limit),"skip"in t&&(m.skip=t.skip)),n?Promise.resolve(s,m):Promise.resolve().then(function(){if("_all_docs"===f.name)return function(e,t){var n=pn(t);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),n.limit>0&&n.indexes_count&&(n.original_limit=n.limit,n.limit+=n.indexes_count),e.allDocs(n).then(function(r){return r.rows=r.rows.filter(function(s){return!/^_design\//.test(s.id)}),n.original_limit&&(n.limit=n.original_limit),r.rows=r.rows.slice(0,n.limit),r})}(e,m);var $=function(e){return e.ddoc.substring(8)+"/"+e.name}(f);return Ll(e).query.call(e,$,m)}).then(function($){!1===m.inclusive_start&&($.rows=function(e,t,n){for(var r=n.def.fields,s=0,f=e.length;s<f;s++){var I=hm(e[s].doc,n);if(1===r.length)I=I[0];else for(;I.length>t.length;)I.pop();if(Math.abs(Yn(I,t))>0)break}return s>0?e.slice(s):e}($.rows,m.startkey,f)),s.inMemoryFields.length&&($.rows=Du($.rows,t,s.inMemoryFields));var J={docs:$.rows.map(function(ue){var me=ue.doc;return t.fields?function(e,t){for(var n={},r=0,s=t.length;r<s;r++){var f=ha(t[r]),m=Cl(e,f);void 0!==m&&rp(n,f,m)}return n}(me,t.fields):me})};return f.defaultUsed&&(J.warning="No matching index found, create an index to optimize query time."),J}))})}var Hm=ba(function(e,t){var r,n=pn((t=Td(t)).index);function s(){return r||(r=br(JSON.stringify(t)))}t.index=xd(t.index),function(e){var t=e.fields.filter(function(n){return"asc"===Dl(n)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}(t.index);var f=t.name||"idx-"+s(),m=t.ddoc||"idx-"+s(),I="_design/"+m,$=!1,J=!1;return e.constructor.emit("debug",["find","creating index",I]),ti(e,I,function(me){return me._rev&&"query"!==me.language&&($=!0),me.language="query",me.views=me.views||{},!(J=!!me.views[f])&&(me.views[f]={map:{fields:kl(t.index.fields)},reduce:"_count",options:{def:n}},me)}).then(function(){if($)throw new Error('invalid language for ddoc with id "'+I+'" (should be "query")')}).then(function(){var me=m+"/"+f;return Ll(e).query.call(e,me,{limit:0,reduce:!1}).then(function(){return{id:I,name:f,result:J?"exists":"created"}})})}),Km=ba(Bd),Gm=ba(function(e,t){return Bd(e,t,!0).then(function(n){return{dbname:e.name,index:n.index,selector:t.selector,range:{start_key:n.queryOpts.startkey,end_key:n.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}})}),Qm=ba(Fd),Zm=ba(function(e,t){if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var n=t.ddoc,r=t.name;return ti(e,n,function(f){return 1===Object.keys(f.views).length&&f.views[r]?{_id:n,_deleted:!0}:(delete f.views[r],f)}).then(function(){return Ll(e).viewCleanup.apply(e)}).then(function(){return{ok:!0}})}),Uo={};Uo.createIndex=ln(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));(Wn(this)?$p:Hm)(this,e,t)}),Uo.find=ln(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));(Wn(this)?Wp:Km)(this,e,t)}),Uo.explain=ln(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to explain()"));(Wn(this)?Hp:Gm)(this,e,t)}),Uo.getIndexes=ln(function(e){(Wn(this)?Kp:Qm)(this,e)}),Uo.deleteIndex=ln(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));(Wn(this)?Gp:Zm)(this,e,t)});const Ym=Uo;var Ea=function(t){try{if(!t)return Promise.resolve({});var n={};return Promise.resolve(Promise.all(Object.entries(t).map(function(r){try{var s=r[0],f=r[1];if(!f.type)throw Ke("SNH",{args:{obj:f}});var m=function(){if(f.data){var I=f;return Promise.resolve(Promise.all([Vd(I.data),vr_toString(I.data)])).then(function($){n[s]={digest:zd+"-"+$[0],length:$[1].length,type:I.type}})}n[s]=f}();return Promise.resolve(m&&m.then?m.then(function(){}):void 0)}catch(I){return Promise.reject(I)}}))).then(function(){return n})}catch(r){return Promise.reject(r)}},Vo=new Set,Pu="_local/",Nd="_design/";function Tu(e,t){return"_id"===e||t[e]||((t=jt(t))[e]=t._id,delete t._id),t}function Yr(e,t){var n=Tu(e,t);return delete(n=jt(n))._revisions,n._attachments={},t._attachments&&Object.entries(t._attachments).forEach(function(r){var f=r[1];n._attachments[r[0]]=f.data?{data:f.data,type:f.type?f.type:f.content_type}:{digest:f.digest,type:f.type?f.type:f.content_type,length:f.length}}),n}function jd(e,t){var n=Nl(e,t);return(n=jt(n))._attachments={},t._attachments&&Object.entries(t._attachments).forEach(function(r){var f=r[1];n._attachments[r[0]]=f.data?{data:f.data,content_type:f.type}:{digest:f.digest,content_type:f.type,length:f.length,stub:!0}}),n}function Nl(e,t){if("_id"===e)return t;var n=t[e],r=jt(t);return delete r[e],r._id=n,r}function Ud(e,t,n){if(!t)throw new Error("primary missing !!");return(e?"local":"non-local")+"|"+t+"|"+n}function jl(e,t){if("_id"===t)return e;if(Array.isArray(e))return e.map(function(r){return jl(r,t)});if("object"==typeof e){var n={};return Object.entries(e).forEach(function(r){var s=r[0],f=r[1];s===t?n._id=f:n[s]=s.startsWith("$")?jl(f,t):f}),n}return e}function Vd(e){return new Promise(function(t){or(e,function(n){t(n)})})}var zd="md5",$d=!1,Wd=new Map;function Hd(e){var t=[e.name,e.adapter].join("|"),n=Wd.get(t);return n||(n={subject:new Po.x},Wd.set(t,n)),n}var eg=0;function Ul(e,t,n,r){var s="DELETE"===t.operation?t.previous:t.doc,f=s[e];return{eventId:Ud(!1,f,s._rev),documentId:f,change:t,startTime:n,endTime:r}}function Kd(e){if(e.rxdb)throw Xt("PL2",{plugin:e});"object"==typeof e&&e.default&&(e=e.default),Au.plugin(e)}Kd(Ym),function(){if(!$d){$d=!0;var e=Au.prototype.bulkDocs;Au.plugin({bulkDocs:function(r,s,f){try{var ue,m=function(){var Ce=jt(s);return Ce.isDeeper=!0,e.call(I,ue,Ce,function(be,Te){if(!be)return function(){try{var Ue=function(){if(!f)return Te;f(null,Te)},$e=function(){if(!s.isDeeper){var Be=Kn();return Promise.resolve(function(t,n){try{var r=[],s=function(){if(n.writeOptions.hasOwnProperty("new_edits")&&!n.writeOptions.new_edits)return Promise.resolve(Promise.all(n.writeDocs.map(function(m){try{var I=m._id;return m=Yr(t,m),Promise.resolve(Ea(m._attachments)).then(function($){m._attachments=$;var J=n.previousDocs.get(I);if(J&&(J=Yr(t,J)),!(J&&Di(J._rev)>Di(m._rev))&&(J||!m._deleted)&&!(J&&J._deleted&&m._deleted)){var ue;if(J&&!J._deleted||m._deleted)if(m._deleted&&J&&!J._deleted)J._rev=m._rev,ue={operation:"DELETE",doc:null,id:I,previous:J};else{if(!J)throw Ke("SNH",{args:{writeDoc:m}});ue={operation:"UPDATE",doc:m,id:I,previous:J}}else ue={operation:"INSERT",doc:m,id:I,previous:null};var me=Ul(t,ue,n.startTime,n.endTime);r.push(me)}})}catch($){return Promise.reject($)}}))).then(function(){});var f=function(){if(!n.writeOptions.custom||n.writeOptions.custom&&!n.writeOptions.custom.writeRowById){var m=new Map;return n.writeDocs.forEach(function($){return m.set($._id,$)}),Promise.resolve(Promise.all(n.writeResult.map(function($){try{var J=$.id;if(J.startsWith(Nd)||J.startsWith(Pu))return Promise.resolve();var ue=ci(m,$.id);return ue=Yr(t,ue),Promise.resolve(Ea(ue._attachments)).then(function(me){ue._attachments=me,(ue=jt(ue))._rev=$.rev;var ye=function(e,t){if(!t)throw Ke("SNH",{args:{pouchDoc:t}});var n=t._id,r=Yr(e,t),s=r._rev?Di(r._rev):1;return t._deleted?{operation:"DELETE",id:n,doc:null,previous:r}:1===s?{operation:"INSERT",id:n,doc:r,previous:null}:{operation:"UPDATE",id:n,doc:r,previous:"UNKNOWN"}}(t,ue),Re=Ul(t,ye);r.push(Re)})}catch(me){return Promise.reject(me)}}))).then(function(){})}var I=n.writeOptions.custom.writeRowById;return Promise.resolve(Promise.all(n.writeResult.map(function($){try{if($.error)return Promise.resolve();var J=$.id,ue=ci(I,J),me=Yr(t,ue.document);return Promise.resolve(Ea(me._attachments)).then(function(ye){function Re(){if(!ue.document._deleted||ue.previous&&!ue.previous._deleted){var Te=Ul(n.writeOptions.custom.primaryPath,Ce,n.startTime,n.endTime);r.push(Te)}}me._attachments=ye,me._rev=$.rev;var Ce,be=function(){if(!ue.previous||ue.previous._deleted)Ce={operation:"INSERT",doc:me,id:J,previous:null};else{var Te=function(){if(ue.document._deleted){var Ue=Yr(t,ue.previous);return Promise.resolve(Ea(Ue._attachments)).then(function($e){Ue._attachments=$e,Ue._rev=$.rev,Ce={operation:"DELETE",doc:null,id:$.id,previous:Ue}})}Ce={operation:"UPDATE",doc:me,id:$.id,previous:ue.previous}}();if(Te&&Te.then)return Te.then(function(){})}}();return be&&be.then?be.then(Re):Re()})}catch(ye){return Promise.reject(ye)}}))).then(function(){})}();return f&&f.then?f.then(function(){}):void 0}();return Promise.resolve(s&&s.then?s.then(function(){return r}):r)}catch(f){return Promise.reject(f)}}("_id",{emitId:J,writeDocs:ue,writeOptions:s,writeResult:Te,previousDocs:me,startTime:$,endTime:Be})).then(function(Ye){var ut={id:pt(10),events:Ye};Hd(I).subject.next(ut)})}}();return Promise.resolve($e&&$e.then?$e.then(Ue):Ue())}catch(Be){return Promise.reject(Be)}}();if(!f)throw be;f(be)})},I=this,$=Kn(),J=eg++;if("function"==typeof s&&(f=s,s={}),s||(s={}),Array.isArray(r)?ue=r:void 0===r?ue=[]:(ue=r.docs,r.hasOwnProperty("new_edits")&&(s.new_edits=r.new_edits)),0===ue.length)throw Ke("SNH",{args:{body:r,options:s}});var me=new Map,ye=function(){if(s.hasOwnProperty("new_edits")&&!1===s.new_edits){var Re=ue.map(function(Ce){return Ce._id});return Promise.resolve(I.changes({live:!1,since:0,doc_ids:Re,style:"all_docs"})).then(function(Ce){return Promise.resolve(Promise.all(Ce.results.map(function(be){try{return Promise.resolve(I.get(be.id,{rev:be.changes[0].rev,deleted:"ok",revs:!!s.set_new_edit_as_latest_revision,style:"all_docs"}))}catch(Te){return Promise.reject(Te)}}))).then(function(be){be.forEach(function(Te){return me.set(Te._id,Te)}),s.set_new_edit_as_latest_revision&&ue.forEach(function(Te){var $e=me.get(Te._id);if($e){var Be=Te._rev.split("-"),Qe=parseInt(Be[0],10),Ye=Be[1];$e._revisions||($e._revisions={ids:[]}),Te._revisions={start:Qe,ids:$e._revisions.ids},Te._revisions.ids.unshift(Ye),delete $e._revisions}})})})}}();return Promise.resolve(ye&&ye.then?ye.then(m):m())}catch(Re){return Promise.reject(Re)}}})}}();var Sa=Au,rg=0,ig=function(){function e(n,r,s,f,m){var I=this;this.id=rg++,this.changes$=new Po.x,this.subs=[],this.databaseName=n,this.collectionName=r,this.schema=s,this.internals=f,this.options=m,Vo.add(this),this.primaryPath=Kr(this.schema.primaryKey);var $=Hd(this.internals.pouch),J=new Eu(6e4),ue=$.subject.subscribe(function(me){try{return 0===me.events.length||J.has(me.id)||(J.add(me.id),me.events.forEach(function(ye){ye.change.doc&&(ye.change.doc=Tu(I.primaryPath,ye.change.doc)),ye.change.previous&&(ye.change.previous=Tu(I.primaryPath,ye.change.previous))}),I.changes$.next(me)),Promise.resolve()}catch(ye){return Promise.reject(ye)}});this.subs.push(ue)}var t=e.prototype;return t.close=function(){return this.subs.forEach(function(r){return r.unsubscribe()}),Vo.delete(this),Vr},t.remove=function(){try{var r=this;return r.subs.forEach(function(s){return s.unsubscribe()}),Vo.delete(r),Promise.resolve(r.internals.pouch.destroy()).then(function(){})}catch(s){return Promise.reject(s)}},t.bulkAddRevisions=function(r){try{var s=this;if(0===r.length)throw Ke("P3",{args:{documents:r}});var f=r.map(function(m){return jd(s.primaryPath,m)});return Promise.resolve(s.internals.pouch.bulkDocs(f,{new_edits:!1,set_new_edit_as_latest_revision:!0})).then(function(){})}catch(m){return Promise.reject(m)}},t.bulkWrite=function(r){try{var s=this;if(0===r.length)throw Ke("P2",{args:{documentWrites:r}});var f=new Map,m=r.map(function(I){f.set(I.document[s.primaryPath],I);var J=jd(s.primaryPath,I.document);return I.previous&&(J._rev=I.previous._rev),J});return Promise.resolve(s.internals.pouch.bulkDocs(m,{custom:{primaryPath:s.primaryPath,writeRowById:f}})).then(function(I){var $={success:{},error:{}};return Promise.resolve(Promise.all(I.map(function(J){try{var ue=ci(f,J.id),me=function(){if(!J.error){var Re=function(){$.success[J.id]=Ce},Ce=jt(ue.document);(Ce=Tu(s.primaryPath,Ce))._rev=J.rev,Ce._attachments={};var be=function(){if(ue.document._attachments)return Promise.resolve(Ea(ue.document._attachments)).then(function(Te){Ce._attachments=Te});ue.document._attachments={}}();return be&&be.then?be.then(Re):Re()}$.error[J.id]={isError:!0,status:409,documentId:J.id,writeRow:ue}}();return Promise.resolve(me&&me.then?me.then(function(){}):void 0)}catch(ye){return Promise.reject(ye)}}))).then(function(){return $})})}catch(I){return Promise.reject(I)}},t.query=function(r){try{var s=this;return Promise.resolve(s.internals.pouch.find(r)).then(function(f){return{documents:f.docs.map(function(I){return Yr(s.primaryPath,I)})}})}catch(f){return Promise.reject(f)}},t.getAttachmentData=function(r,s){try{return Promise.resolve(this.internals.pouch.getAttachment(r,s))}catch(m){return Promise.reject(m)}},t.findDocumentsById=function(r,s){try{var f=function(ue){return m?ue:Promise.resolve(I.internals.pouch.allDocs({include_docs:!0,keys:r})).then(function(me){var ye={};return me.rows.filter(function(Re){return!!Re.doc}).forEach(function(Re){var Ce=Re.doc;Ce=Yr(I.primaryPath,Ce),ye[Re.id]=Ce}),ye})},m=!1,I=this,$=function(){if(s)return Promise.resolve(I.internals.pouch.changes({live:!1,since:0,doc_ids:r,style:"all_docs"})).then(function(J){var ue={};return Promise.resolve(Promise.all(J.results.map(function(me){try{return Promise.resolve(I.internals.pouch.get(me.id,{rev:me.changes[0].rev,deleted:"ok",style:"all_docs"})).then(function(ye){var Re=Yr(I.primaryPath,ye);ue[me.id]=Re})}catch(ye){return Promise.reject(ye)}}))).then(function(){return m=!0,ue})})}();return Promise.resolve($&&$.then?$.then(f):f($))}catch(J){return Promise.reject(J)}},t.changeStream=function(){return this.changes$.asObservable()},t.getChangedDocuments=function(r){try{return Promise.resolve(this.internals.pouch.changes({live:!1,limit:r.limit,include_docs:!1,since:r.sinceSequence,descending:"before"===r.direction})).then(function(m){return{changedDocuments:m.results.filter(function(J){return!J.id.startsWith(Nd)}).map(function(J){return{id:J.id,sequence:J.seq}}),lastSequence:m.last_seq}})}catch(m){return Promise.reject(m)}},e}(),og=function(){function e(n,r,s,f){this.changes$=new Po.x,this.databaseName=n,this.collectionName=r,this.internals=s,this.options=f,Vo.add(this)}var t=e.prototype;return t.close=function(){return Vo.delete(this),Vr},t.remove=function(){try{return Vo.delete(this),Promise.resolve(this.internals.pouch.destroy()).then(function(){})}catch(s){return Promise.reject(s)}},t.bulkWrite=function(r){try{var s=this;if(0===r.length)throw Ke("P2",{args:{documentWrites:r}});var f=new Map,m=r.map(function($){f.set($.document._id,$);var J=jt($.document);return J._id=Pu+J._id,$.previous&&(J._rev=$.previous._rev),J}),I=Kn();return Promise.resolve(s.internals.pouch.bulkDocs(m)).then(function($){var J=Kn(),ue={success:{},error:{}},me={id:pt(10),events:[]};return $.forEach(function(ye){ye.id=function(e){return e.substring(Pu.length)}(ye.id);var Re=ci(f,ye.id);if(ye.error)ue.error[ye.id]={isError:!0,status:409,documentId:ye.id,writeRow:Re};else{var Te,be=jt(Re.document);if(be._rev=ye.rev,be._attachments={},ue.success[ye.id]=be,Re.previous)if(Re.document._deleted){var Ue=jt(Re.previous);Ue._rev=ye.rev,Te={operation:"DELETE",doc:null,id:ye.id,previous:Ue}}else Te={operation:"UPDATE",doc:be,id:ye.id,previous:Re.previous};else Te={operation:"INSERT",doc:be,id:ye.id,previous:null};if(!Re.document._deleted||Re.previous&&!Re.previous._deleted){var $e="DELETE"===Te.operation?Te.previous:Te.doc,Be=Ud(!0,$e._id,$e._rev?$e._rev:"");me.events.push({eventId:Be,documentId:ye.id,change:Te,startTime:I,endTime:J})}}}),s.changes$.next(me),ue})}catch($){return Promise.reject($)}},t.findLocalDocumentsById=function(r){try{var s=this,f={};return Promise.resolve(Promise.all(r.map(function(m){try{var I=Pu+m,$=function(e,t){try{var n=Promise.resolve(s.internals.pouch.get(I)).then(function(J){J._id=m,f[m]=J})}catch(r){return}return n&&n.then?n.then(void 0,t):n}(0,function(){});return Promise.resolve($&&$.then?$.then(function(){}):void 0)}catch(J){return Promise.reject(J)}}))).then(function(){return f})}catch(m){return Promise.reject(m)}},t.changeStream=function(){return this.changes$.asObservable()},e}(),ag={hash:function(t){return Vd(t)},hashKey:zd,getSortComparator:function(t,n){var r,s=Kr(t.primaryKey),f=n.sort?n.sort:[(r={},r[s]="asc",r)],m=Object.keys(n.selector).filter(function($){return!$.startsWith("$")});return function(J,ue){if(J[s]===ue[s])throw Ke("SNH",{args:{a:J,b:ue},primaryPath:s});var me=[J,ue].map(function(Re){return{doc:Nl(s,Re)}}),ye=Du(me,{selector:{},sort:f},m);if(2!==ye.length)throw Ke("SNH",{query:n,primaryPath:s,args:{rows:me,sortedRows:ye}});return ye[0].doc._id===me[0].doc._id?-1:1}},getQueryMatcher:function(t,n){var r=Kr(t.primaryKey),s=Al(n.selector);return function(I){var ue=Du([{doc:Nl(r,I)}],{selector:s},Object.keys(n.selector));return ue&&1===ue.length}},prepareQuery:function(t,n){var r=Kr(t.primaryKey),s=n;if(s.sort&&s.sort.forEach(function(m){var I=Object.keys(m)[0],$=["$gt","$gte","$lt","$lte"];if(!s.selector[I]||!Object.keys(s.selector[I]).some(function(me){return $.includes(me)})){var ue=zs(t,I);if(!ue)throw Ke("QU5",{query:s,key:I,schema:t});switch(s.selector[I]||(s.selector[I]={}),ue.type){case"number":case"integer":s.selector[I].$gt=-1e28;break;case"string":"string"!=typeof s.selector[I]&&(s.selector[I].$gt="");break;default:s.selector[I].$gt=null}}}),s.selector[r]&&s.selector[r].$regex)throw Ke("QU4",{path:r,query:n});if(s.sort){var f=s.sort.map(function(m){var I,$=Object.keys(m)[0],J=Object.values(m)[0];return(I={})[$===r?"_id":$]=J,I});s.sort=f}return Object.entries(s.selector).forEach(function(m){var I=m[0],$=m[1];"object"==typeof $&&null!==$&&!Array.isArray($)&&0===Object.keys($).length&&delete s.selector[I]}),s.selector=jl(s.selector,r),s}},lg=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.name="pouchdb",this.statics=ag,this.adapter=n,this.pouchSettings=r,cg(n)}var t=e.prototype;return t.createPouch=function(r,s){try{var m={location:r,adapter:wi(this.adapter),settings:s},I=Object.assign({},m.adapter,this.pouchSettings,m.settings),$=new Sa(m.location,I);return Promise.resolve($)}catch(J){return Promise.reject(J)}},t.createStorageInstance=function(r){try{var f=Gd(r.databaseName,r.collectionName,r.schema.version);return Promise.resolve(this.createPouch(f,r.options)).then(function(m){return Promise.resolve(function(t,n){try{if(!n.indexes)return Promise.resolve();var r=Kr(n.primaryKey);return Promise.resolve(t.getIndexes()).then(function(s){var f=new Set(s.indexes.map(function(m){return m.name}));return Promise.resolve(Promise.all(n.indexes.map(function(m){try{var I=$r(m)?m:[m],$="idx-rxdb-index-"+(I=I.map(function(J){return J===r?"_id":J})).join(",");return f.has($)?Promise.resolve():Promise.resolve(t.createIndex({name:$,ddoc:$,index:{fields:I}}))}catch(J){return Promise.reject(J)}}))).then(function(){})})}catch(s){return Promise.reject(s)}}(m,r.schema)).then(function(){return new ig(r.databaseName,r.collectionName,r.schema,{pouch:m},r.options)})})}catch(m){return Promise.reject(m)}},t.createKeyObjectStorageInstance=function(r){try{var f=jt(r.options);f.auto_compaction=!1,f.revs_limit=1;var m=Gd(r.databaseName,r.collectionName,0);return Promise.resolve(this.createPouch(m,r.options)).then(function(I){return new og(r.databaseName,r.collectionName,{pouch:I},r.options)})}catch(I){return Promise.reject(I)}},e}();function cg(e){if("string"==typeof e){if(!Sa.adapters||!Sa.adapters[e])throw Ke("DB9",{adapter:e})}else if(function(e){if(!e||"function"!=typeof e.super_)throw Ke("UT4",{adapter:e})}(e),!Sa.adapters||!Sa.adapters.leveldb)throw Ke("DB10",{adapter:e})}function Gd(e,t,n){var r=e+"-rxdb-"+n+"-";if(t.includes("/")){var s=t.split("/"),f=s.pop();return s.join("/")+"/"+r+f}return r+t}function dg(e,t){if(!e)throw new Error("adapter missing");return new lg(e,t)}var fg=["__proto__","constructor","prototype"];function Ca(e,t){Object.keys(t).forEach(function(n){fg.includes(n)||(void 0===e[n]?e[n]=t[n]:wa(t[n])?Ca(e[n],t[n]):e[n]=t[n])})}function wa(e){return"[object Object]"===e.toString()}var Iu=function(){function e(n){if(this.options={},this._conditions={},this._fields={},n){var r=this;n.selector&&r.find(n.selector),n.limit&&r.limit(n.limit),n.skip&&r.skip(n.skip),n.sort&&n.sort.forEach(function(s){return r.sort(s)})}}var t=e.prototype;return t.where=function(r,s){if(!arguments.length)return this;var f=typeof arguments[0];if("string"===f)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"===f&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw Xt("MQ1",{path:arguments[0]})},t.equals=function(r){return this._ensurePath("equals"),this._conditions[this._path]=r,this},t.eq=function(r){return this._ensurePath("eq"),this._conditions[this._path]=r,this},t.or=function(r){var s=this._conditions.$or||(this._conditions.$or=[]);return Array.isArray(r)||(r=[r]),s.push.apply(s,r),this},t.nor=function(r){var s=this._conditions.$nor||(this._conditions.$nor=[]);return Array.isArray(r)||(r=[r]),s.push.apply(s,r),this},t.and=function(r){var s=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(r)||(r=[r]),s.push.apply(s,r),this},t.mod=function(r,s){var f,m;1===arguments.length?(this._ensurePath("mod"),f=arguments[0],m=this._path):2!==arguments.length||Array.isArray(arguments[1])?3===arguments.length?(f=arguments.slice(1),m=arguments[0]):(f=arguments[1],m=arguments[0]):(this._ensurePath("mod"),f=arguments.slice(),m=this._path);var I=this._conditions[m]||(this._conditions[m]={});return I.$mod=f,this},t.exists=function(r,s){var f,m;0===arguments.length?(this._ensurePath("exists"),f=this._path,m=!0):1===arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),f=this._path,m=arguments[0]):(f=arguments[0],m=!0):2===arguments.length&&(f=arguments[0],m=arguments[1]);var I=this._conditions[f]||(this._conditions[f]={});return I.$exists=m,this},t.elemMatch=function(r,s){if(null===arguments[0])throw Xt("MQ2");var f,m,I;if("function"==typeof arguments[0])this._ensurePath("elemMatch"),m=this._path,f=arguments[0];else if(wa(arguments[0]))this._ensurePath("elemMatch"),m=this._path,I=arguments[0];else if("function"==typeof arguments[1])m=arguments[0],f=arguments[1];else{if(!arguments[1]||!wa(arguments[1]))throw Xt("MQ2");m=arguments[0],I=arguments[1]}f&&(f(I=new e),I=I._conditions);var $=this._conditions[m]||(this._conditions[m]={});return $.$elemMatch=I,this},t.sort=function(r){var s=this;if(!r)return this;var f,m=typeof r;if(Array.isArray(r)){f=r.length;for(var I=0;I<r.length;++I)pg(this.options,r[I][0],r[I][1]);return this}if(1===arguments.length&&"string"===m){f=(r=r.split(/\s+/)).length;for(var $=0;$<f;++$){var J=r[$];if(J){var ue="-"===J[0]?-1:1;-1===ue&&(J=J.substring(1)),Yd(this.options,J,ue)}}return this}if(wa(r)){var me=Object.keys(r);return me.forEach(function(ye){return Yd(s.options,ye,r[ye])}),this}throw Xt("MQ3",{args:arguments})},t.merge=function(r){if(!r)return this;if(!Jd(r))throw Xt("MQ4",{source:r});return r instanceof e?(r._conditions&&Ca(this._conditions,r._conditions),r._fields&&(this._fields||(this._fields={}),Ca(this._fields,r._fields)),r.options&&(this.options||(this.options={}),Ca(this.options,r.options)),r._distinct&&(this._distinct=r._distinct),this):(Ca(this._conditions,r),this)},t.find=function(r){return Jd(r)&&this.merge(r),this},t._ensurePath=function(r){if(!this._path)throw Ke("MQ5",{method:r})},t.toJSON=function(){var r={selector:this._conditions};return this.options.skip&&(r.skip=this.options.skip),this.options.limit&&(r.limit=this.options.limit),this.options.sort&&(r.sort=function(e){return Object.entries(e).map(function(t){var n;return(n={})[t[0]]=1===t[1]?"asc":"desc",n})}(this.options.sort)),{query:r,path:this._path}},e}(),Qd=["limit","skip","maxScan","batchSize","comment"];Qd.forEach(function(e){Iu.prototype[e]=function(t){return this.options[e]=t,this}});var Zd=["gt","gte","lt","lte","ne","in","nin","all","regex","size"];function Yd(e,t,n){if(Array.isArray(e.sort))throw Xt("MQ6",{opts:e,field:t,value:n});if(n&&n.$meta)(e.sort||(e.sort={}))[t]={$meta:n.$meta};else{var s=String(n||1).toLowerCase();if(!/^(?:ascending|asc|descending|desc|1|-1)$/.test(s))throw Array.isArray(n)&&(n="["+n+"]"),Xt("MQ7",{field:t,value:n});var f=e.sort||(e.sort={}),m=n.toString().replace("asc","1").replace("ascending","1").replace("desc","-1").replace("descending","-1");f[t]=parseInt(m,10)}}function pg(e,t,n){if(e.sort=e.sort||[],!Array.isArray(e.sort))throw Xt("MQ8",{opts:e,field:t,value:n});e.sort.push([t,n])}function Jd(e){return e instanceof Iu||wa(e)}Zd.forEach(function(e){Iu.prototype[e]=function(){var t,n;1===arguments.length?(this._ensurePath(e),n=arguments[0],t=this._path):(n=arguments[1],t=arguments[0]);var r=null===this._conditions[t]||"object"==typeof this._conditions[t]?this._conditions[t]:this._conditions[t]={};return r["$"+e]=n,this}});var Vl="queryBuilderPath";function zl(e,t){e[t]=function(n){return function(e,t,n){var r=function(e){return new Iu(e)}(gr(e.mangoQuery));e.other[Vl]&&(r._path=e.other[Vl]),r[t](n);var s=r.toJSON(),f=new Ct(e.op,s.query,e.collection);return s.path&&(f.other[Vl]=s.path),Tn(f)}(this,t,n)}}var vg={name:"query-builder",rxdb:!0,prototypes:{RxQuery:function(t){["where","equals","eq","or","nor","and","mod","exists","elemMatch","sort"].forEach(function(n){zl(t,n)}),Qd.forEach(function(n){zl(t,n)}),Zd.forEach(function(n){zl(t,n)})}}},yg=c(9790),_g=c.n(yg);function bg(e){var t=this._data,n=_g()(t,e);return this._saveData(n,t)}function Eg(e){return this.exec().then(function(t){return t?Array.isArray(t)?Promise.all(t.map(function(n){return n.update(e)})).then(function(){return t}):t.update(e).then(function(){return t}):null})}var Cg={RxDocument:function(t){t.update=bg},RxQuery:function(t){t.update=Eg}},wg={name:"update",rxdb:!0,prototypes:Cg},Dg=c(8167),Ag=c.n(Dg),$l=new Map;function Wl(e){var t=e.hash;if(!$l.has(t)){var n=Ag()(e.jsonSchema);$l.set(t,n)}return $l.get(t)}var Og=function(t){var n=Wl(this);if(n(t))return t;throw Ke("VD2",{errors:n.errors,obj:t,schema:this.jsonSchema})},Ig={RxSchema:function(t){t._getValidator=Wl,t.validate=Og}},Mg={createRxSchema:function(t){"object"==typeof window&&window.requestIdleCallback&&window.requestIdleCallback(function(){Wl(t)})}},Rg={name:"validate",rxdb:!0,prototypes:Ig,hooks:Mg},hn=c(3900),Jr=c(2843),qi=c(9646),Mu=c(9770),es=c(2076),Da=c(4128),xg=c(1042);let Fg=(()=>{class e{constructor(){this.isInitialized=!1}initialize(n){this.isInitialized||(this.collection=n,this.isInitialized=!0)}requestPermissions(n){return(0,Mu.P)(()=>this.isInitialized&&this.collection?(0,es.D)(this.collection.bulkInsert(n)).pipe((0,an.U)(({success:r})=>!!r)):(0,Jr._)(()=>new Error("PermissionsService not initialized")))}hasPermission(n){return(0,Mu.P)(()=>{if(!this.isInitialized||!this.collection)return(0,Jr._)(()=>new Error("PermissionsService not initialized"));const r=this.collection.findOne({selector:{id:`${n.appId}:${n.kind}:${n.mode}:${n.target}`}});return(0,es.D)(r.exec()).pipe((0,an.U)(s=>!!s))})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=u.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Mr=c(899);class kg{constructor(t,n,r){this.appId=t,this.collection=n,this.acl=r}insert(t){return this.requestPermission(Mr.R.Write).pipe((0,hn.w)(()=>this.collection.insert(t)),(0,an.U)(n=>this.docToJSON(n)))}upsert(t){return this.requestPermission(Mr.R.Write).pipe((0,hn.w)(()=>this.collection.upsert(t)),(0,an.U)(n=>this.docToJSON(n)))}findOne(t){return this.requestPermission(Mr.R.Read).pipe((0,hn.w)(()=>this.collection.findOne(t).exec()),(0,an.U)(n=>n?this.docToJSON(n):null))}find(t){return this.requestPermission(Mr.R.Read).pipe((0,hn.w)(()=>this.collection.find(t).exec()),(0,an.U)(n=>n.map(r=>this.docToJSON(r))))}observe(t){return this.requestPermission(Mr.R.Read).pipe((0,hn.w)(()=>this.collection.find(t).$),(0,an.U)(n=>n.map(r=>this.docToJSON(r))))}observeOne(t){return this.observe(t).pipe((0,an.U)(n=>n.length>0?n[0]:null))}update(t,n){return this.requestPermission(Mr.R.Write).pipe((0,hn.w)(()=>this.collection.find(t).update(n)),(0,an.U)(r=>r.map(s=>this.docToJSON(s))))}remove(t){return this.requestPermission(Mr.R.Write).pipe((0,hn.w)(()=>this.collection.find(t).remove()),(0,an.U)(n=>n.map(r=>this.docToJSON(r))))}putAttachment(t,n,r=!1){return this.requestPermission(Mr.R.Write).pipe((0,hn.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,hn.w)(s=>s?s.putAttachment(n,r):(0,Jr._)(()=>new Error("No document found for id "+t))),(0,an.U)(s=>s.id))}getAttachment(t,n){return this.requestPermission(Mr.R.Read).pipe((0,hn.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,hn.w)(r=>r?(0,qi.of)(r.getAttachment(n)):(0,Jr._)(()=>new Error("No document found for id "+t))),(0,hn.w)(r=>r?(0,es.D)(r.getData()).pipe((0,an.U)(s=>({id:r.id,data:s,type:r.type}))):(0,Jr._)(()=>new Error("No attachment found for id "+n))))}getAllAttachments(t){return this.requestPermission(Mr.R.Read).pipe((0,hn.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,hn.w)(n=>n?(0,qi.of)(n.allAttachments()):(0,Jr._)(()=>new Error("No document found for id "+t))),(0,hn.w)(n=>n.length<=0?(0,qi.of)([]):(0,Da.D)(n.map(r=>(0,es.D)(r.getData()).pipe((0,an.U)(s=>({id:r.id,data:s,type:r.type})))))))}removeAttachment(t,n){return this.requestPermission(Mr.R.Write).pipe((0,hn.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,hn.w)(r=>{if(!r)return(0,Jr._)(()=>new Error("No document found for id "+t));const s=r.getAttachment(n);return s?s.remove():(0,Jr._)(()=>new Error("No attachment found for id "+n))}))}observeAttachments(t){return this.requestPermission(Mr.R.Read).pipe((0,hn.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,hn.w)(n=>n?n.allAttachments$:(0,Jr._)(()=>new Error("No document found for id "+t))),(0,hn.w)(n=>(0,Da.D)(n.map(r=>(0,es.D)(r.getData()).pipe((0,an.U)(s=>({id:r.id,data:s,type:r.type})))))))}requestPermission(t){return this.acl.hasPermission({appId:this.appId,kind:Mr.k.Collection,mode:t,target:this.collection.name}).pipe((0,hn.w)(n=>n?(0,qi.of)(n):(0,Jr._)(()=>new Error(`No permission to perform action ${t} on ${this.collection.name} with appId ${this.appId}`))))}docToJSON(t){const n=JSON.parse(JSON.stringify(t));return n._attachments=t._attachments,n}}Kd(i),No(Fh),No(Rg),No(Hh),No(vg),No(wg),No(Na);const Xd=new u.InjectionToken("ENTITY_MANAGER_BASE_COLLECTIONS_TOKEN"),qd=new u.InjectionToken("ENTITY_MANAGER_INITIAL_DATA_TOKEN");let Lg=(()=>{class e{constructor(n,r,s){this.acl=n,this.baseCollections=r,this.initialData=s,this.initialize$=new Vu(0)}setupDatabase(n,r){return this.createDatabase(n,r).pipe((0,hn.w)(s=>this.addBaseCollections(s)),(0,To.b)(s=>this.acl.initialize(s.applicationpermissions)),(0,hn.w)(s=>this.addInitialData(s)),(0,To.b)(()=>this.initialize$.next()),(0,an.U)(()=>{}))}isDatabaseCreated(){return void 0!==this._dbInstance}getRepository(n,r){if(!this._dbInstance)return(0,Jr._)(()=>new Error("Database not initialized"));const s=this._dbInstance.collections[n];if(!s)return(0,Jr._)(()=>new Error("Collection not initialized"));const f=new kg(r,s,this.acl);return(0,qi.of)(f)}createDatabase(n,r){return(0,Mu.P)(()=>(0,es.D)(gh({name:n,password:r,storage:dg("idb")})).pipe((0,To.b)(s=>this._dbInstance=s)))}addBaseCollections(n){const r=this.baseCollections.reduce((s,f)=>Object.assign(s,{[f.name]:f.creator}),{});return(0,Mu.P)(()=>(0,es.D)(n.addCollections(r)).pipe((0,To.b)(s=>{Object.values(s).forEach(f=>{f.preInsert(m=>{const I=(new Date).toISOString();m.id=m.id||(0,xg.Z)(),m.createdAt=m.createdAt||I,m.updatedAt=m.updatedAt||I},!1),f.preSave((m,I)=>{const $=(new Date).toISOString();m.createdAt=I.createdAt||$,m.updatedAt=$},!1)})})))}addInitialData(n){return(0,Da.D)(this.initialData.map(r=>{const s=n[r.name],f=!("upsert"in r)||r.upsert;return(0,Da.D)(r.data.map(m=>(f?(0,qi.of)(!0):(0,es.D)(s.findOne({selector:{id:m.id}}).exec()).pipe((0,an.U)($=>!$))).pipe((0,hn.w)($=>$?(0,es.D)(s.upsert(m)).pipe((0,hn.w)(()=>{if("userapplications"!==r.name)return(0,qi.of)(void 0);const J=(m.additionalProperties?.permissions||[]).map(ue=>({...ue,appId:m.id,id:`${m.id}:${ue.kind}:${ue.mode}:${ue.target}`}));return J.length?(0,Da.D)(J.map(ue=>n.applicationpermissions.upsert(ue))):(0,qi.of)(void 0)})):(0,qi.of)(void 0)))))}))}}return e.\u0275fac=function(n){return new(n||e)(u.\u0275\u0275inject(Fg),u.\u0275\u0275inject(Xd),u.\u0275\u0275inject(qd))},e.\u0275prov=u.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},795:(fe,W,c)=>{c.d(W,{d:()=>N});var i=c(7445),u=c(4004),D=c(8675),L=c(3099),U=c(9300),k=c(7777);let N=(()=>{class w{constructor(){this.clock$=(0,i.F)(1e3).pipe((0,u.U)(()=>new Date),(0,D.O)(new Date),(0,L.B)()),this.units={ms:1,s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5,M:2592e6,y:31536e6},this.everyMinute$=(0,i.F)(6e4).pipe((0,u.U)(()=>new Date),(0,D.O)(new Date)),this.everyHour$=(0,i.F)(36e5).pipe((0,u.U)(()=>new Date),(0,D.O)(new Date)),this.everyDay$=(0,i.F)(864e5).pipe((0,u.U)(()=>new Date),(0,D.O)(new Date)),this.everyWeek$=(0,i.F)(6048e5).pipe((0,u.U)(()=>new Date),(0,D.O)(new Date)),this.everyMonth$=(0,i.F)(2592e6).pipe((0,u.U)(()=>new Date),(0,D.O)(new Date)),this.everyYear$=(0,i.F)(31536e6).pipe((0,u.U)(()=>new Date),(0,D.O)(new Date))}every(E,x){return(0,i.F)(E*this.units[x]).pipe((0,u.U)(()=>new Date))}at(E){return(0,i.F)(1e3).pipe((0,u.U)(()=>(new Date).getTime()>=E.getTime()?E:null),(0,U.h)(x=>null!==x))}}return w.\u0275fac=function(E){return new(E||w)},w.\u0275prov=k.\u0275\u0275defineInjectable({token:w,factory:w.\u0275fac,providedIn:"root"}),w})()},43:(fe,W,c)=>{c.d(W,{T:()=>x});var i=c(1457),D=c(6435),L=c(1135),U=c(3900),k=c(4128),V=c(8505),N=c(2843),w=c(9841),O=c(7777);let x=(()=>{class T{constructor(C,_){this.document=C,this.entityManager=_,this.customizationSettings$=new L.X(void 0),this.entityManager.initialize$.pipe((0,U.w)(()=>(0,k.D)([this.entityManager.getRepository("userpreferences","com.central-factory.settings")])),(0,V.b)(([v])=>{this.userPreferencesRepository=v,this.subscribeToDataChanges()})).subscribe()}setCustomizationSettings(C,_){return this.userPreferencesRepository?this.userPreferencesRepository.upsert({id:"settings.customization"+(_?`.${_}`:""),key:"settings.customization",value:C,avatar:_}):(0,N._)(()=>new Error("Repositories not initialized"))}subscribeToDataChanges(){if(!this.userPreferencesRepository)throw new Error("Repositories not initialized");this.customizationSettings$.pipe((0,V.b)(C=>{!C||C.theme&&this.loadThemeFromUrl(C.theme.path)})).subscribe(),(0,w.a)([this.userPreferencesRepository.observeOne({selector:{key:"userAvatars.selectedAvatar"}}),this.userPreferencesRepository.observe({selector:{key:"settings.customization"}})]).pipe((0,V.b)(([C,_])=>{if(_.length<=0)return;const v=_.find(d=>d.avatar===C?.value)||_[0];this.customizationSettings$.next(v.value)})).subscribe()}loadThemeFromUrl(C){if(this.activeThemeLinkElem&&this.activeThemeLinkElem?.href.endsWith(C))return;const v=this.document.getElementsByTagName("head")[0],d=this.document.createElement("link");d.rel="stylesheet",d.href=C,v.appendChild(d),this.activeThemeLinkElem&&v.removeChild(this.activeThemeLinkElem),this.activeThemeLinkElem=d}}return T.\u0275fac=function(C){return new(C||T)(O.\u0275\u0275inject(i.DOCUMENT),O.\u0275\u0275inject(D.v2))},T.\u0275prov=O.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},1549:(fe,W,c)=>{c.d(W,{w:()=>x});var i=c(1457),D=c(6435),L=c(1135),U=c(3900),k=c(4128),V=c(8505),N=c(2843),w=c(4004),O=c(7777);let x=(()=>{class T{constructor(C,_){this.document=C,this.entityManager=_,this.userPreferences$=new L.X([]),this.entityManager.initialize$.pipe((0,U.w)(()=>(0,k.D)([this.entityManager.getRepository("userpreferences","com.central-factory.settings")])),(0,V.b)(([v])=>{this.userPreferencesRepository=v,this.subscribeToDataChanges()})).subscribe()}setValue(C,_){return this.userPreferencesRepository?this.userPreferencesRepository.upsert({id:C,key:C,value:_}):(0,N._)(()=>new Error("Repositories not initialized"))}subscribeToDataChanges(){if(!this.userPreferencesRepository)throw new Error("Repositories not initialized")}byKey(C){if(!this.userPreferencesRepository)throw new Error("Repositories not initialized");return this.userPreferencesRepository.observeOne({selector:{key:C}}).pipe((0,w.U)(_=>_||void 0))}}return T.\u0275fac=function(C){return new(C||T)(O.\u0275\u0275inject(i.DOCUMENT),O.\u0275\u0275inject(D.v2))},T.\u0275prov=O.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},4438:(fe,W,c)=>{c.d(W,{O:()=>D});var i=c(7777);let D=(()=>{class L{}return L.\u0275fac=function(k){return new(k||L)},L.\u0275mod=i.\u0275\u0275defineNgModule({type:L}),L.\u0275inj=i.\u0275\u0275defineInjector({}),L})()},1894:(fe,W,c)=>{c.d(W,{t:()=>D});var i=c(7777);let D=(()=>{class L{constructor(){this.separators={el:"__",mod:"--",val:"-"},this.ignoreValues=!1,this.modCase="kebab"}setMods(k,V,N,w,O,E){Object.keys(N).forEach(x=>{if(w[x]){if(N[x]===w[x])return;E.removeClass(O.nativeElement,this.generateClass(k,V,x,w[x]))}N[x]&&E.addClass(O.nativeElement,this.generateClass(k,V,x,N[x]))}),Object.keys(w).forEach(x=>{!(x in N)&&w[x]&&E.removeClass(O.nativeElement,this.generateClass(k,V,x,w[x]))})}generateClass(k,V,N,w){this.ignoreValues&&(w=!!w),"string"!=typeof w&&"boolean"!=typeof w&&(w=!!w);let O=k;return V&&(O+=this.separators.el+V),N&&(N=this.modNameHandler(N),O+=this.separators.mod+N,"boolean"!=typeof w&&null!=w&&(O+=this.separators.val+w)),O}parseMods(k){if("string"==typeof k&&(k=k.split(/\s+/)),Array.isArray(k)){const V=k;k={},V.forEach(N=>{k[N]=!0})}else if("object"!=typeof k)return{};return k}modNameHandler(k){switch(this.modCase){case"kebab":return k?k.replace(/[A-Z]/g,function(V){return"-"+V.toLowerCase()}).replace(/$\-/,""):"";case"snake":return k?k.replace(/[A-Z]/g,function(V){return"_"+V.toLowerCase()}).replace(/$\-/,""):"";default:return k}}}return L.\u0275fac=function(k){return new(k||L)},L.\u0275prov=i.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()},1623:(fe,W,c)=>{c.d(W,{G:()=>L});var i=c(7777),D=c(1894);let L=(()=>{class U{constructor(V,N,w,O){this.bemService=O,this.name=w,this.element=V,this.renderer=N,N.addClass(V.nativeElement,this.bemService.generateClass(w))}ngOnChanges(){if(JSON.stringify(this.cfMod)!==this._modSerialized){this._modSerialized=JSON.stringify(this.cfMod);let V=this.cfMod;const{renderer:N,element:w,name:O}=this;V=this.bemService.parseMods(V),this.bemService.setMods(O,"",V,this._mods||{},w,N),this._mods=this._mods===V?Object.assign({},V):V}}}return U.\u0275fac=function(V){return new(V||U)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275injectAttribute("cfBlock"),i.\u0275\u0275directiveInject(D.t))},U.\u0275dir=i.\u0275\u0275defineDirective({type:U,selectors:[["","cfBlock",""]],inputs:{cfMod:"cfMod"},features:[i.\u0275\u0275NgOnChangesFeature]}),U})()},3454:(fe,W,c)=>{c.d(W,{e:()=>U});var i=c(7777),D=c(1894),L=c(1623);let U=(()=>{class k{constructor(N,w,O,E,x){this.bemService=x,this.blockName=E.name,this.name=O,this.element=N,this.renderer=w,w.addClass(N.nativeElement,this.bemService.generateClass(E.name,O))}ngOnChanges(){if(JSON.stringify(this.cfMod)!==this._modSerialized){this._modSerialized=JSON.stringify(this.cfMod);let N=this.cfMod;const{renderer:w,element:O,blockName:E,name:x}=this;N=this.bemService.parseMods(N),this.bemService.setMods(E,x,N,this._mods||{},O,w),this._mods=this._mods===N?Object.assign({},N):N}}}return k.\u0275fac=function(N){return new(N||k)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275injectAttribute("cfElem"),i.\u0275\u0275directiveInject(L.G),i.\u0275\u0275directiveInject(D.t))},k.\u0275dir=i.\u0275\u0275defineDirective({type:k,selectors:[["","cfElem",""]],inputs:{cfMod:"cfMod"},features:[i.\u0275\u0275NgOnChangesFeature]}),k})()},7967:(fe,W,c)=>{c.d(W,{I:()=>D});var i=c(7777);let D=(()=>{class L{}return L.\u0275fac=function(k){return new(k||L)},L.\u0275dir=i.\u0275\u0275defineDirective({type:L,selectors:[["","cfMod",""]]}),L})()},7158:(fe,W,c)=>{c.d(W,{H:()=>a});var i=c(3354),u=c(7579),D=c(9300),L=c(1135),U=c(2722),k=c(7777);const V="search";let N=(()=>{class p{constructor(){this.commands={}}execute(H){let ae=V,we=[];if("string"==typeof H){const[ne,...Q]=H.split(" "),te=this.hasHandlers(ne);ae=te?ne:V,we=te?Q:[ne,...Q]}this.hasHandlers(ae)&&this.commands[ae].forEach(ne=>ne(...we))}register(H,ae){if(this.isRegistered(H,ae))throw new Error(`Command ${H} is already registered`);this.commands[H]=this.commands[H]||[],this.commands[H].push(ae)}hasHandlers(H){return this.commands[H]&&this.commands[H].length}isRegistered(H,ae){return!(!this.commands[H]||this.commands[H]&&-1===this.commands[H].indexOf(ae))}}return p.\u0275fac=function(H){return new(H||p)},p.\u0275prov=k.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var w=c(1623),O=c(7967),E=c(4006),x=c(8796),T=c(1457),S=c(9750);const C=["select"];function _(p,h){if(1&p&&(k.\u0275\u0275elementStart(0,"div",7),k.\u0275\u0275element(1,"cf-svg-icon",8),k.\u0275\u0275elementEnd()),2&p){const H=k.\u0275\u0275nextContext();k.\u0275\u0275advance(1),k.\u0275\u0275property("cfMod",H.size)}}const v=function(p,h){return[p,h]},d=function(){return["inline","horizontal"]};let a=(()=>{class p{constructor(H){this.commandService=H,this.size="m",this.fullLength=!1,this.showSubmitButton=!1,this.searchInput$=new u.x,this.slashInput$=this.searchInput$.pipe((0,D.h)(ae=>ae.startsWith("/"))),this.searchResults$=new L.X([]),this.form=new i.cw({search:new i.NI("")}),this.slashCommands={search:"search ",s:"search ",open:"open ",o:"open "},this.destroy$=new u.x}ngOnInit(){this.commandService.register("search",H=>{window.open(`https://www.google.com/search?q=${H}`,"_blank")}),this.slashInput$.pipe((0,U.R)(this.destroy$)).subscribe(H=>{const ae=H.slice(1),we=this.slashCommands[ae];we&&this.select&&(this.select.searchTerm=we,this.form.controls.search.setValue(we))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}trackByFn(H){return H.id}onSearch(H){this.form.controls.search.setValue(H.term)}onEnterKeydown(){this.onSubmit()}onSubmit(){!this.form.valid||this.commandService.execute(this.form.value.search)}}return p.\u0275fac=function(H){return new(H||p)(k.\u0275\u0275directiveInject(N))},p.\u0275cmp=k.\u0275\u0275defineComponent({type:p,selectors:[["cf-command-bar"]],viewQuery:function(H,ae){if(1&H&&k.\u0275\u0275viewQuery(C,7),2&H){let we;k.\u0275\u0275queryRefresh(we=k.\u0275\u0275loadQuery())&&(ae.select=we.first)}},inputs:{size:"size",fullLength:"fullLength",showSubmitButton:"showSubmitButton"},decls:8,vars:14,consts:[["cfBlock","command-bar",3,"cfMod"],["cfBlock","form",3,"formGroup","cfMod","ngSubmit"],["cfBlock","input-group"],["cfBlock","form-control"],["formControlName","search","cfBlock","select","bindLabel","name","bindValue","id",3,"items","editableSearchTerm","typeahead","cfMod","search","keydown.enter"],["select",""],["cfBlock","input-group-append",4,"ngIf"],["cfBlock","input-group-append"],["cfBlock","icon","src","assets/icons/mdi/magnify.svg",3,"cfMod"]],template:function(H,ae){1&H&&(k.\u0275\u0275elementStart(0,"div",0),k.\u0275\u0275elementStart(1,"form",1),k.\u0275\u0275listener("ngSubmit",function(){return ae.onSubmit()}),k.\u0275\u0275elementStart(2,"div",2),k.\u0275\u0275elementStart(3,"div",3),k.\u0275\u0275elementStart(4,"ng-select",4,5),k.\u0275\u0275listener("search",function(Ee){return ae.onSearch(Ee)})("keydown.enter",function(){return ae.onEnterKeydown()}),k.\u0275\u0275pipe(6,"async"),k.\u0275\u0275elementEnd(),k.\u0275\u0275elementEnd(),k.\u0275\u0275template(7,_,2,1,"div",6),k.\u0275\u0275elementEnd(),k.\u0275\u0275elementEnd(),k.\u0275\u0275elementEnd()),2&H&&(k.\u0275\u0275property("cfMod",k.\u0275\u0275pureFunction2(10,v,ae.size,ae.fullLength?"full-length":"")),k.\u0275\u0275advance(1),k.\u0275\u0275property("formGroup",ae.form)("cfMod",k.\u0275\u0275pureFunction0(13,d)),k.\u0275\u0275advance(3),k.\u0275\u0275property("items",k.\u0275\u0275pipeBind1(6,8,ae.searchResults$))("editableSearchTerm",!0)("typeahead",ae.searchInput$)("cfMod",ae.size),k.\u0275\u0275advance(3),k.\u0275\u0275property("ngIf",ae.showSubmitButton))},directives:[w.G,O.I,E._Y,E.JL,E.sg,x.w9,E.JJ,E.u,T.NgIf,S.b],pipes:[T.AsyncPipe],styles:[".command-bar--xs[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%], .command-bar--xs[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin-bottom:0}.command-bar--xs[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{width:300px}.command-bar--full-length[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], .command-bar--full-length[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{width:100%}"]}),p})()},9398:(fe,W,c)=>{c.d(W,{v:()=>w});var i=c(1457),D=c(4006),L=c(8796),U=c(4438),k=c(2051),V=c(7777);let w=(()=>{class O{}return O.\u0275fac=function(x){return new(x||O)},O.\u0275mod=V.\u0275\u0275defineNgModule({type:O}),O.\u0275inj=V.\u0275\u0275defineInjector({imports:[[i.CommonModule,U.O,k.Y,D.u5,D.UX,L.A0]]}),O})()},5183:(fe,W,c)=>{c.d(W,{L:()=>N});var i=c(1457),D=c(7777);function U(w,O){if(1&w){const E=D.\u0275\u0275getCurrentView();D.\u0275\u0275elementStart(0,"div",2),D.\u0275\u0275listener("click",function(){return D.\u0275\u0275restoreView(E),D.\u0275\u0275nextContext()._onBackdropClicked()}),D.\u0275\u0275elementEnd()}if(2&w){const E=D.\u0275\u0275nextContext();D.\u0275\u0275property("ngClass",E.backdropClass)}}const k=[[["cf-sidebar"],["","cf-sidebar",""]],[["","cf-sidebar-content",""]]],V=["cf-sidebar,[cf-sidebar]","[cf-sidebar-content]"];let N=(()=>{class w{constructor(E,x){this._ref=E,this.animate=!0,this.allowSidebarBackdropControl=!0,this.showBackdrop=!1,this.showBackdropChange=new D.EventEmitter,this.backdropClick=new D.EventEmitter,this._sidebars=[],this._isBrowser=(0,i.isPlatformBrowser)(x)}ngAfterContentInit(){!this._isBrowser||this._onToggle()}ngOnChanges(E){!this._isBrowser||E.showBackdrop&&this.showBackdropChange.emit(E.showBackdrop.currentValue)}ngOnDestroy(){!this._isBrowser||this._unsubscribe()}_addSidebar(E){this._sidebars.push(E),this._subscribe(E)}_removeSidebar(E){const x=this._sidebars.indexOf(E);-1!==x&&this._sidebars.splice(x,1)}_getContentStyle(){let E=0,x=0,T=0,S=0,C="",_="",v="";for(const d of this._sidebars)if(d._isModeSlide&&d.opened&&(C=`translate${d._isLeftOrRight?"X":"Y"}(${d._isLeftOrTop?"":"-"}${d._isLeftOrRight?d._width:d._height}px)`),d._isModePush&&d.opened||d.dock){let a=0;switch(d._isModeSlide&&d.opened?d._isLeftOrRight?v="100%":_="100%":a=d._isDocked||d._isModeOver&&d.dock?d._dockedSize:d._isLeftOrRight?d._width:d._height,d.position){case"left":E=Math.max(E,a);break;case"right":x=Math.max(x,a);break;case"top":T=Math.max(T,a);break;case"bottom":S=Math.max(S,a)}}return{padding:`${T}px ${x}px ${S}px ${E}px`,webkitTransform:C,transform:C,height:_,width:v}}_onBackdropClicked(){let E=!1;for(const x of this._sidebars)x.opened&&x.showBackdrop&&x.closeOnClickBackdrop&&(x.close(),E=!0);E&&this.backdropClick.emit()}_subscribe(E){E.openStart.subscribe(()=>this._onToggle()),E.sidebarOpen.subscribe(()=>this._markForCheck()),E.closeStart.subscribe(()=>this._onToggle()),E.sidebarClose.subscribe(()=>this._markForCheck()),E.modeChange.subscribe(()=>this._markForCheck()),E.positionChange.subscribe(()=>this._markForCheck()),E._onRerender.subscribe(()=>this._markForCheck())}_unsubscribe(){for(const E of this._sidebars)E.openStart.unsubscribe(),E.sidebarOpen.unsubscribe(),E.closeStart.unsubscribe(),E.sidebarClose.unsubscribe(),E.modeChange.unsubscribe(),E.positionChange.unsubscribe(),E._onRerender.unsubscribe()}_onToggle(){if(this._sidebars.length>0&&this.allowSidebarBackdropControl){const E=this._sidebars.some(x=>x.opened&&x.showBackdrop);this.showBackdrop=E,this.showBackdropChange.emit(E)}setTimeout(()=>{this._markForCheck()})}_markForCheck(){this._ref.markForCheck()}}return w.\u0275fac=function(E){return new(E||w)(D.\u0275\u0275directiveInject(D.ChangeDetectorRef),D.\u0275\u0275directiveInject(D.PLATFORM_ID))},w.\u0275cmp=D.\u0275\u0275defineComponent({type:w,selectors:[["cf-sidebar-container"]],inputs:{animate:"animate",allowSidebarBackdropControl:"allowSidebarBackdropControl",showBackdrop:"showBackdrop",contentClass:"contentClass",backdropClass:"backdropClass"},outputs:{showBackdropChange:"showBackdropChange",backdropClick:"backdropClick"},features:[D.\u0275\u0275NgOnChangesFeature],ngContentSelectors:V,decls:4,vars:5,consts:[["aria-hidden","true","class","cf-sidebar__backdrop",3,"ngClass","click",4,"ngIf"],[1,"cf-sidebar__content",3,"ngClass","ngStyle"],["aria-hidden","true",1,"cf-sidebar__backdrop",3,"ngClass","click"]],template:function(E,x){1&E&&(D.\u0275\u0275projectionDef(k),D.\u0275\u0275template(0,U,1,1,"div",0),D.\u0275\u0275projection(1),D.\u0275\u0275elementStart(2,"div",1),D.\u0275\u0275projection(3,1),D.\u0275\u0275elementEnd()),2&E&&(D.\u0275\u0275property("ngIf",x.showBackdrop),D.\u0275\u0275advance(2),D.\u0275\u0275classProp("cf-sidebar__content--animate",x.animate),D.\u0275\u0275property("ngClass",x.contentClass)("ngStyle",x._getContentStyle()))},directives:[i.NgIf,i.NgClass,i.NgStyle],encapsulation:2,changeDetection:0}),w})()},6111:(fe,W,c)=>{c.d(W,{k:()=>N});var i=c(1457),u=c(7777),U=c(5183);const k=["sidebar"],V=["*"];let N=(()=>{class w{constructor(E,x,T){if(this._container=E,this._ref=x,this.opened=!1,this.openedChange=new u.EventEmitter,this.mode="over",this.dock=!1,this.dockedSize="0px",this.position="start",this.animate=!0,this.autoCollapseOnInit=!0,this.trapFocus=!1,this.autoFocus=!0,this.showBackdrop=!1,this.closeOnClickBackdrop=!1,this.closeOnClickOutside=!1,this.keyClose=!1,this.keyCode=27,this.contentInit=new u.EventEmitter,this.openStart=new u.EventEmitter,this.sidebarOpen=new u.EventEmitter,this.closeStart=new u.EventEmitter,this.sidebarClose=new u.EventEmitter,this.transitionEnd=new u.EventEmitter,this.modeChange=new u.EventEmitter,this.positionChange=new u.EventEmitter,this._onRerender=new u.EventEmitter,this._focusableElementsString="a[href], area[href], input:not([disabled]), select:not([disabled]),textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], [contenteditable]",this._tabIndexAttr="__tabindex__",this._tabIndexIndicatorAttr="__ngsidebar-tabindex__",this._clickEvent="click",this._onClickOutsideAttached=!1,this._onKeyDownAttached=!1,this._onResizeAttached=!1,!this._container)throw new Error("<cf-sidebar> must be inside a <cf-sidebar-container>. See https://github.com/arkon/ng-sidebar#usage for more info.");this._isBrowser=(0,i.isPlatformBrowser)(T),this._isBrowser&&"undefined"!=typeof window&&"undefined"!=typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!("onclick"in window)&&(this._clickEvent="touchstart"),this._normalizePosition(),this.open=this.open.bind(this),this._onTransitionEnd=this._onTransitionEnd.bind(this),this._onFocusTrap=this._onFocusTrap.bind(this),this._onClickOutside=this._onClickOutside.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._collapse=this._collapse.bind(this)}ngOnInit(){!this._isBrowser||(this.animate&&(this._shouldAnimate=!0,this.animate=!1),this._container._addSidebar(this),this.autoCollapseOnInit&&this._collapse())}ngAfterContentInit(){this.contentInit.emit()}ngOnChanges(E){!this._isBrowser||(E.animate&&this._shouldAnimate&&(this._shouldAnimate=E.animate.currentValue),E.closeOnClickOutside&&(E.closeOnClickOutside.currentValue?this._initCloseClickListener():this._destroyCloseClickListener()),E.keyClose&&(E.keyClose.currentValue?this._initCloseKeyDownListener():this._destroyCloseKeyDownListener()),E.position&&(this._normalizePosition(),setTimeout(()=>{this.positionChange.emit(E.position.currentValue)})),E.mode&&setTimeout(()=>{this.modeChange.emit(E.mode.currentValue)}),E.dock&&this.triggerRerender(),E.opened&&(this._shouldAnimate&&(this.animate=!0,this._shouldAnimate=!1),E.opened.currentValue?this.open():this.close()),(E.autoCollapseHeight||E.autoCollapseWidth)&&this._initCollapseListeners())}ngOnDestroy(){!this._isBrowser||(this._destroyCloseListeners(),this._destroyCollapseListeners(),this._container._removeSidebar(this))}open(){!this._isBrowser||(this.opened=!0,this.openedChange.emit(!0),this.openStart.emit(),this._ref.detectChanges(),setTimeout(()=>{this.animate&&!this._isModeSlide?this._elSidebar.nativeElement.addEventListener("transitionend",this._onTransitionEnd):(this._setFocused(),this._initCloseListeners(),this.opened&&this.sidebarOpen.emit())}))}close(){!this._isBrowser||(this.opened=!1,this.openedChange.emit(!1),this.closeStart.emit(),this._ref.detectChanges(),setTimeout(()=>{this.animate&&!this._isModeSlide?this._elSidebar.nativeElement.addEventListener("transitionend",this._onTransitionEnd):(this._setFocused(),this._destroyCloseListeners(),this.opened||this.sidebarClose.emit())}))}triggerRerender(){!this._isBrowser||setTimeout(()=>{this._onRerender.emit()})}_getStyle(){let E="";if(!this.opened){const x="translate"+(this._isLeftOrRight?"X":"Y");E=`${x}(${(this._isLeftOrTop?"-":"")+"100%"})`,this.dock&&this._dockedSize>0&&(!this._isModeSlide||!this.opened)&&(E+=` ${x}(${this._isLeftOrTop?"+":"-"}${this.dockedSize})`)}return{webkitTransform:E,transform:E}}_onTransitionEnd(E){E.target===this._elSidebar.nativeElement&&E.propertyName.endsWith("transform")&&(this._setFocused(),this.opened?(this._initCloseListeners(),this.sidebarOpen.emit()):(this._destroyCloseListeners(),this.sidebarClose.emit()),this.transitionEnd.emit(),this._elSidebar.nativeElement.removeEventListener("transitionend",this._onTransitionEnd))}get _shouldTrapFocus(){return this.opened&&this.trapFocus}_focusFirstItem(){this._focusableElements&&this._focusableElements.length>0&&this._focusableElements[0].focus()}_onFocusTrap(E){this._shouldTrapFocus&&!this._elSidebar.nativeElement.contains(E.target)&&this._focusFirstItem()}_setFocused(){if(this._focusableElements=Array.from(this._elSidebar.nativeElement.querySelectorAll(this._focusableElementsString)),this.opened){this._focusedBeforeOpen=document.activeElement;for(const E of this._focusableElements){const x=E.getAttribute(this._tabIndexAttr),T=null!==E.getAttribute(this._tabIndexIndicatorAttr);null!==x?(E.setAttribute("tabindex",x),E.removeAttribute(this._tabIndexAttr)):T&&(E.removeAttribute("tabindex"),E.removeAttribute(this._tabIndexIndicatorAttr))}this.autoFocus&&this._focusFirstItem(),document.addEventListener("focus",this._onFocusTrap,!0)}else{for(const E of this._focusableElements){const x=E.getAttribute("tabindex");E.setAttribute("tabindex","-1"),E.setAttribute(this._tabIndexIndicatorAttr,""),null!==x&&E.setAttribute(this._tabIndexAttr,x)}document.removeEventListener("focus",this._onFocusTrap,!0),this._focusedBeforeOpen&&this.autoFocus&&this._isModeOver&&(this._focusedBeforeOpen.focus(),this._focusedBeforeOpen=null)}}_initCloseListeners(){this._initCloseClickListener(),this._initCloseKeyDownListener()}_initCloseClickListener(){setTimeout(()=>{this.opened&&this.closeOnClickOutside&&!this._onClickOutsideAttached&&(document.addEventListener(this._clickEvent,this._onClickOutside),this._onClickOutsideAttached=!0)})}_initCloseKeyDownListener(){setTimeout(()=>{this.opened&&this.keyClose&&!this._onKeyDownAttached&&(document.addEventListener("keydown",this._onKeyDown),this._onKeyDownAttached=!0)})}_destroyCloseListeners(){this._destroyCloseClickListener(),this._destroyCloseKeyDownListener()}_destroyCloseClickListener(){this._onClickOutsideAttached&&(document.removeEventListener(this._clickEvent,this._onClickOutside),this._onClickOutsideAttached=!1)}_destroyCloseKeyDownListener(){this._onKeyDownAttached&&(document.removeEventListener("keydown",this._onKeyDown),this._onKeyDownAttached=!1)}_onClickOutside(E){this._onClickOutsideAttached&&this._elSidebar&&!this._elSidebar.nativeElement.contains(E.target)&&this.close()}_onKeyDown(E){(E=E||window.event).keyCode===this.keyCode&&this.close()}_initCollapseListeners(){(this.autoCollapseHeight||this.autoCollapseWidth)&&setTimeout(()=>{this._onResizeAttached||(window.addEventListener("resize",this._collapse),this._onResizeAttached=!0)})}_destroyCollapseListeners(){this._onResizeAttached&&(window.removeEventListener("resize",this._collapse),this._onResizeAttached=!1)}_collapse(){const E=window.innerHeight,x=window.innerWidth;this.autoCollapseHeight&&(E<=this.autoCollapseHeight&&this.opened?(this._wasCollapsed=!0,this.close()):E>this.autoCollapseHeight&&this._wasCollapsed&&(this.open(),this._wasCollapsed=!1)),this.autoCollapseWidth&&(x<=this.autoCollapseWidth&&this.opened?(this._wasCollapsed=!0,this.close()):x>this.autoCollapseWidth&&this._wasCollapsed&&(this.open(),this._wasCollapsed=!1))}get _height(){return this._elSidebar.nativeElement?this._isDocked?this._dockedSize:this._elSidebar.nativeElement.offsetHeight:0}get _width(){return this._elSidebar.nativeElement?this._isDocked?this._dockedSize:this._elSidebar.nativeElement.offsetWidth:0}get _dockedSize(){return parseFloat(this.dockedSize)}get _isModeOver(){return"over"===this.mode}get _isModePush(){return"push"===this.mode}get _isModeSlide(){return"slide"===this.mode}get _isDocked(){return!(!this.dock||!this.dockedSize||this.opened)}get _isLeftOrTop(){return"left"===this.position||"top"===this.position}get _isLeftOrRight(){return"left"===this.position||"right"===this.position}get _isInert(){return!this.opened&&!this.dock}_normalizePosition(){const E=(()=>{let w="ltr";return"undefined"!=typeof window&&(w=window.getComputedStyle?window.getComputedStyle(document.body,null).getPropertyValue("direction"):document.body.currentStyle.direction),"ltr"===w})();"start"===this.position?this.position=E?"left":"right":"end"===this.position&&(this.position=E?"right":"left")}}return w.\u0275fac=function(E){return new(E||w)(u.\u0275\u0275directiveInject(U.L,8),u.\u0275\u0275directiveInject(u.ChangeDetectorRef),u.\u0275\u0275directiveInject(u.PLATFORM_ID))},w.\u0275cmp=u.\u0275\u0275defineComponent({type:w,selectors:[["cf-sidebar"]],viewQuery:function(E,x){if(1&E&&u.\u0275\u0275viewQuery(k,5),2&E){let T;u.\u0275\u0275queryRefresh(T=u.\u0275\u0275loadQuery())&&(x._elSidebar=T.first)}},inputs:{opened:"opened",mode:"mode",dock:"dock",dockedSize:"dockedSize",position:"position",animate:"animate",autoCollapseHeight:"autoCollapseHeight",autoCollapseWidth:"autoCollapseWidth",autoCollapseOnInit:"autoCollapseOnInit",sidebarClass:"sidebarClass",ariaLabel:"ariaLabel",trapFocus:"trapFocus",autoFocus:"autoFocus",showBackdrop:"showBackdrop",closeOnClickBackdrop:"closeOnClickBackdrop",closeOnClickOutside:"closeOnClickOutside",keyClose:"keyClose",keyCode:"keyCode"},outputs:{openedChange:"openedChange",contentInit:"contentInit",openStart:"openStart",sidebarOpen:"sidebarOpen",closeStart:"closeStart",sidebarClose:"sidebarClose",transitionEnd:"transitionEnd",modeChange:"modeChange",positionChange:"positionChange",_onRerender:"_onRerender"},features:[u.\u0275\u0275NgOnChangesFeature],ngContentSelectors:V,decls:3,vars:15,consts:[["role","complementary",3,"ngClass","ngStyle"],["sidebar",""]],template:function(E,x){1&E&&(u.\u0275\u0275projectionDef(),u.\u0275\u0275elementStart(0,"aside",0,1),u.\u0275\u0275projection(2),u.\u0275\u0275elementEnd()),2&E&&(u.\u0275\u0275classMapInterpolate3("cf-sidebar cf-sidebar--",x.opened?"opened":"closed"," cf-sidebar--",x.position," cf-sidebar--",x.mode,""),u.\u0275\u0275classProp("cf-sidebar--docked",x._isDocked)("cf-sidebar--inert",x._isInert)("cf-sidebar--animate",x.animate),u.\u0275\u0275property("ngClass",x.sidebarClass)("ngStyle",x._getStyle()),u.\u0275\u0275attribute("aria-hidden",!x.opened)("aria-label",x.ariaLabel))},directives:[i.NgClass,i.NgStyle],encapsulation:2,changeDetection:0}),w})()},5687:(fe,W,c)=>{c.d(W,{l:()=>U});var i=c(1457),D=c(7777);let U=(()=>{class k{}return k.\u0275fac=function(N){return new(N||k)},k.\u0275mod=D.\u0275\u0275defineNgModule({type:k}),k.\u0275inj=D.\u0275\u0275defineInjector({imports:[[i.CommonModule]]}),k})()},5605:(fe,W,c)=>{c.d(W,{wn:()=>C});var i=c(5861),u=c(7340),D=c(7777),L=c(1623),U=c(7967),k=c(1457),V=c(3454),N=c(9750);let w=(()=>{class _{}return _.\u0275fac=function(d){return new(d||_)},_.\u0275cmp=D.\u0275\u0275defineComponent({type:_,selectors:[["cf-spinner"]],decls:2,vars:0,consts:[["cfBlock","spinner","cfMod","3x"]],template:function(d,a){1&d&&(D.\u0275\u0275elementStart(0,"div",0),D.\u0275\u0275element(1,"div"),D.\u0275\u0275elementEnd())},directives:[L.G,U.I],styles:["[_nghost-%COMP%]{display:contents}"]}),_})();function O(_,v){1&_&&(D.\u0275\u0275elementStart(0,"div",8),D.\u0275\u0275element(1,"cf-spinner"),D.\u0275\u0275elementEnd())}function E(_,v){if(1&_&&(D.\u0275\u0275elementStart(0,"p",9),D.\u0275\u0275text(1),D.\u0275\u0275elementEnd()),2&_){const d=D.\u0275\u0275nextContext();D.\u0275\u0275advance(1),D.\u0275\u0275textInterpolate1(" ",d.loadingText," ")}}const x=function(_){return{"background-color":_}};var T=(()=>{return(_=T||(T={})).Visible="visible",_.Hidden="hidden",T;var _})(),S=(()=>{return(_=S||(S={})).Visible="visible",_.Hidden="hidden",S;var _})();let C=(()=>{class _{constructor(){this.title="Portal",this.logo="assets/logo.svg",this.loadingTexts=["Setting up the rockets...","Calling the crew..","Jumping to the cyber space..."],this.welcomeMessage="Welcome to the Metaverse",this.displayLoadingTime=5e3,this.displayWelcomeTime=3e3,this.mods="",this.splashScreenHide=new D.EventEmitter,this.state=T.Visible,this.logoState=S.Hidden,this.selectedLoadingTextIndex=void 0}ngOnInit(){this.displaySplashScreen()}displaySplashScreen(){var d=this;return(0,i.Z)(function*(){d.displayLoadingText(),yield d.wait(d.displayLoadingTime),d.logoState=S.Visible,d.selectedLoadingTextIndex=void 0,d.loadingText=d.welcomeMessage,yield d.wait(d.displayWelcomeTime),d.state=T.Hidden,d.splashScreenHide.emit()})()}displayLoadingText(){var d=this;return(0,i.Z)(function*(){if(d.logoState===S.Visible)return d.selectedLoadingTextIndex=void 0,void(d.loadingText=d.welcomeMessage);const p=(void 0===d.selectedLoadingTextIndex?-1:d.selectedLoadingTextIndex)+1;if(p>=d.loadingTexts.length)return d.selectedLoadingTextIndex=void 0,yield d.wait(1e3),void d.displayLoadingText();d.selectedLoadingTextIndex=p,d.loadingText=d.loadingTexts[p],yield d.wait(1e3),d.displayLoadingText()})()}wait(d){return new Promise(a=>setTimeout(a,d))}}return _.\u0275fac=function(d){return new(d||_)},_.\u0275cmp=D.\u0275\u0275defineComponent({type:_,selectors:[["cf-splash-screen"]],inputs:{title:"title",logo:"logo",backgroundColor:"backgroundColor",loadingTexts:"loadingTexts",welcomeMessage:"welcomeMessage",displayLoadingTime:"displayLoadingTime",displayWelcomeTime:"displayWelcomeTime",mods:"mods"},outputs:{splashScreenHide:"splashScreenHide"},decls:9,vars:10,consts:[["cfBlock","splash-screen",3,"cfMod","ngStyle"],["cfElem","content"],["cfElem","title"],["cfElem","spinner"],["cfElem","logo"],["cfElem","logo-image",3,"src"],["cfElem","spinner-content",4,"ngIf"],["cfElem","loading-text",4,"ngIf"],["cfElem","spinner-content"],["cfElem","loading-text"]],template:function(d,a){1&d&&(D.\u0275\u0275elementStart(0,"div",0),D.\u0275\u0275elementStart(1,"div",1),D.\u0275\u0275elementStart(2,"h1",2),D.\u0275\u0275text(3),D.\u0275\u0275elementEnd(),D.\u0275\u0275elementStart(4,"div",3),D.\u0275\u0275elementStart(5,"div",4),D.\u0275\u0275element(6,"cf-svg-icon",5),D.\u0275\u0275elementEnd(),D.\u0275\u0275template(7,O,2,0,"div",6),D.\u0275\u0275elementEnd(),D.\u0275\u0275template(8,E,2,1,"p",7),D.\u0275\u0275elementEnd(),D.\u0275\u0275elementEnd()),2&d&&(D.\u0275\u0275property("@splashState",a.state)("cfMod",a.mods)("ngStyle",D.\u0275\u0275pureFunction1(8,x,a.backgroundColor)),D.\u0275\u0275advance(3),D.\u0275\u0275textInterpolate(a.title),D.\u0275\u0275advance(2),D.\u0275\u0275property("@logoState",a.logoState),D.\u0275\u0275advance(1),D.\u0275\u0275property("src",a.logo),D.\u0275\u0275advance(1),D.\u0275\u0275property("ngIf","visible"!==a.logoState),D.\u0275\u0275advance(1),D.\u0275\u0275property("ngIf",a.loadingText))},directives:[L.G,U.I,k.NgStyle,V.e,N.b,k.NgIf,w],encapsulation:2,data:{animation:[(0,u.X$)("splashState",[(0,u.SB)(T.Visible,(0,u.oB)({opacity:1,display:"block"})),(0,u.SB)(T.Hidden,(0,u.oB)({opacity:0,display:"none"})),(0,u.eR)(`${T.Hidden} => ${T.Visible}`,[(0,u.oB)({opacity:0}),(0,u.jt)("1s",(0,u.oB)({opacity:1}))]),(0,u.eR)(`${T.Visible} => ${T.Hidden}`,[(0,u.jt)("1s",(0,u.oB)({opacity:0}))])]),(0,u.X$)("logoState",[(0,u.SB)(S.Visible,(0,u.oB)({opacity:1,display:"flex"})),(0,u.SB)(S.Hidden,(0,u.oB)({opacity:0,display:"none"})),(0,u.eR)(`${S.Hidden} => ${S.Visible}`,[(0,u.oB)({display:"flex",opacity:0}),(0,u.jt)("1s",(0,u.oB)({opacity:1}))]),(0,u.eR)(`${S.Visible} => ${S.Hidden}`,[(0,u.jt)("1s",(0,u.oB)({opacity:0}))])])]}}),_})()},2085:(fe,W,c)=>{c.d(W,{x:()=>k});var i=c(1457),u=c(4438),D=c(7777);let L=(()=>{class V{}return V.\u0275fac=function(w){return new(w||V)},V.\u0275mod=D.\u0275\u0275defineNgModule({type:V}),V.\u0275inj=D.\u0275\u0275defineInjector({imports:[[u.O]]}),V})();var U=c(2051);let k=(()=>{class V{}return V.\u0275fac=function(w){return new(w||V)},V.\u0275mod=D.\u0275\u0275defineNgModule({type:V}),V.\u0275inj=D.\u0275\u0275defineInjector({imports:[[i.CommonModule,u.O,L,U.Y]]}),V})()},5028:(fe,W,c)=>{c.d(W,{M6:()=>S,Kb:()=>_});var i=c(1457),D=c(7777),U=c(9646),k=c(2843),V=c(4004),N=c(8505),w=c(262),O=c(8746),E=c(3099),x=c(7191);const T=new D.InjectionToken("SERVER_URL");let S=(()=>{class v{constructor(a,p,h,H){this.loader=a,this.platformId=p,this.serverUrl=h,this._document=H,this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map,this.document=this._document}addSvg(a,p){if(!this.iconsByUrl.has(a)){const h=this.document.createElement("DIV");h.innerHTML=p;const H=h.querySelector("svg");this.iconsByUrl.set(a,H)}}loadSvg(a,p=a){if(this.serverUrl&&null===a.match(/^(http(s)?):/)&&(p=a=this.serverUrl+a),this.iconsByUrl.has(p))return(0,U.of)(this.iconsByUrl.get(p));if(this.iconsLoadingByUrl.has(p))return this.iconsLoadingByUrl.get(p);const h=this.loader.getSvg(a).pipe((0,V.U)(H=>{const ae=this.document.createElement("DIV");return ae.innerHTML=H,ae.querySelector("svg")}),(0,N.b)(H=>this.iconsByUrl.set(p,H)),(0,w.K)(H=>(0,k._)(H)),(0,O.x)(()=>this.iconsLoadingByUrl.delete(p)),(0,E.B)());return this.iconsLoadingByUrl.set(p,h),h}getSvgByName(a){return this.iconsByUrl.has(a)?(0,U.of)(this.iconsByUrl.get(a)):this.iconsLoadingByUrl.has(a)?this.iconsLoadingByUrl.get(a):(0,k._)(`No svg with name '${a}' has been loaded`)}unloadSvg(a){this.iconsByUrl.has(a)&&this.iconsByUrl.delete(a)}}return v.\u0275fac=function(a){return new(a||v)(D.\u0275\u0275inject(x.S),D.\u0275\u0275inject(D.PLATFORM_ID),D.\u0275\u0275inject(T,8),D.\u0275\u0275inject(i.DOCUMENT,8))},v.\u0275prov=D.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac}),v})();const _={provide:S,deps:[[new D.Optional,new D.SkipSelf,S],x.S,[D.PLATFORM_ID],[new D.Optional,T],[new D.Optional,i.DOCUMENT]],useFactory:function(v,d,a,p,h){return v||new S(d,a,p,h)}}},9750:(fe,W,c)=>{c.d(W,{b:()=>k});var i=c(7777),D=c(5028);const L=["*"];class U{constructor(){this.loaded=!1}}let k=(()=>{class V{constructor(w,O,E,x,T){this.element=w,this.differs=O,this.renderer=E,this.iconReg=x,this.cdr=T,this.stretch=!1,this.applyClass=!1,this.svgClass="icon__svg",this.helper=new U,this._svgStyle=null}set svgStyle(w){this._svgStyle=w,!this.helper.differ&&w&&(this.helper.differ=this.differs.find(w).create())}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}ngOnChanges(w){const O=this.element.nativeElement.firstChild;(w.src||w.name)&&(this.helper.loaded&&this.destroy(),this.init()),w.stretch&&this.stylize(),w.applyClass&&(this.applyClass?this.setClass(O,null,this.klass):this.setClass(O,this.klass,null)),w.svgClass&&this.setClass(O,w.svgClass.previousValue,w.svgClass.currentValue),w.klass&&(this.setClass(this.element.nativeElement,w.klass.previousValue,w.klass.currentValue),this.setClass(O,w.klass.previousValue,this.applyClass?w.klass.currentValue:null)),w.viewBox&&(this.helper.loaded&&this.destroy(),this.init()),w.svgAriaLabel&&this.doAria(w.svgAriaLabel.currentValue)}ngDoCheck(){if(this.helper.svg&&this.helper.differ){const w=this.helper.differ.diff(this._svgStyle);w&&this.applyChanges(w)}}init(){if(this.name){const w=this.iconReg.getSvgByName(this.name);w&&(this.helper.icnSub=w.subscribe(O=>this.initSvg(O)))}else if(this.src){const w=this.iconReg.loadSvg(this.src);w&&(this.helper.icnSub=w.subscribe(O=>this.initSvg(O)))}else this.element.nativeElement.innerHTML="",this.cdr.markForCheck()}initSvg(w){!this.helper.loaded&&w&&(this.setSvg(w),this.resetDiffer())}destroy(){this.helper.icnSub&&this.helper.icnSub.unsubscribe(),this.helper=new U}resetDiffer(){this._svgStyle&&!this.helper.differ&&(this.helper.differ=this.differs.find(this._svgStyle).create())}setSvg(w){if(!this.helper.loaded&&w){this.helper.svg=w;const O=w.cloneNode(!0),E=this.element.nativeElement;if(E.innerHTML="",this.renderer.appendChild(E,O),this.helper.loaded=!0,this.copyNgContentAttribute(E,O),this.klass&&this.applyClass&&this.setClass(E.firstChild,null,this.klass),this.svgClass&&this.setClass(E.firstChild,null,this.svgClass),this.viewBox)if("auto"===this.viewBox){const x=O.getAttribute("width"),T=O.getAttribute("height");T&&x&&(this.renderer.setAttribute(O,"viewBox",`0 0 ${x} ${T}`),this.renderer.removeAttribute(O,"width"),this.renderer.removeAttribute(O,"height"))}else""!==this.viewBox&&(this.renderer.setAttribute(O,"viewBox",this.viewBox),this.renderer.removeAttribute(O,"width"),this.renderer.removeAttribute(O,"height"));this.stylize(),void 0===this.svgAriaLabel&&E.firstChild.hasAttribute("aria-label")||this.doAria(this.svgAriaLabel||""),this.cdr.markForCheck()}}copyNgContentAttribute(w,O){const E=w.attributes,x=E.length;for(let T=0;T<x;T+=1){const S=E.item(T);if(S&&S.name.startsWith("_ngcontent")){this.setNgContentAttribute(O,S.name);break}}}setNgContentAttribute(w,O){this.renderer.setAttribute(w,O,"");const E=w.childNodes.length;for(let x=0;x<E;x+=1){const T=w.childNodes[x];T instanceof Element&&this.setNgContentAttribute(T,O)}}stylize(){if(this.helper.svg){const w=this.element.nativeElement.firstChild;!0===this.stretch?this.renderer.setAttribute(w,"preserveAspectRatio","none"):!1===this.stretch&&this.renderer.removeAttribute(w,"preserveAspectRatio")}}applyChanges(w){w.forEachRemovedItem(O=>this.setStyle(O.key,null)),w.forEachAddedItem(O=>this.setStyle(O.key,O.currentValue)),w.forEachChangedItem(O=>this.setStyle(O.key,O.currentValue))}setStyle(w,O){const[E,x]=w.split("."),T=this.element.nativeElement.firstChild;null!==(O=null!==O&&x?`${O}${x}`:O)?this.renderer.setStyle(T,E,O):this.renderer.removeStyle(T,E)}setClass(w,O,E){if(w){if(O){const x=(Array.isArray(O)?O:O.split(" ")).filter(T=>T);for(const T of x)this.renderer.removeClass(w,T)}if(E){const x=(Array.isArray(E)?E:E.split(" ")).filter(T=>T);for(const T of x)this.renderer.addClass(w,T)}}}doAria(w){const O=this.element.nativeElement.firstChild;O&&(""===w?(this.renderer.setAttribute(O,"aria-hidden","true"),this.renderer.removeAttribute(O,"aria-label")):(this.renderer.removeAttribute(O,"aria-hidden"),this.renderer.setAttribute(O,"aria-label",w)))}}return V.\u0275fac=function(w){return new(w||V)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.KeyValueDiffers),i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275directiveInject(D.M6),i.\u0275\u0275directiveInject(i.ChangeDetectorRef))},V.\u0275cmp=i.\u0275\u0275defineComponent({type:V,selectors:[["cf-svg-icon"]],inputs:{src:"src",name:"name",stretch:"stretch",applyClass:"applyClass",svgClass:"svgClass",klass:["class","klass"],viewBox:"viewBox",svgAriaLabel:"svgAriaLabel",svgStyle:"svgStyle"},features:[i.\u0275\u0275NgOnChangesFeature],ngContentSelectors:L,decls:1,vars:0,template:function(w,O){1&w&&(i.\u0275\u0275projectionDef(),i.\u0275\u0275projection(0))},encapsulation:2}),V})()},2051:(fe,W,c)=>{c.d(W,{Y:()=>N});var i=c(1457),D=c(7777),U=c(4438),k=c(5028),V=c(7191);let N=(()=>{class w{static forRoot(E={}){return{ngModule:w,providers:[k.Kb,E.loader||{provide:V.S,useClass:V.o}]}}}return w.\u0275fac=function(E){return new(E||w)},w.\u0275mod=D.\u0275\u0275defineNgModule({type:w}),w.\u0275inj=D.\u0275\u0275defineInjector({imports:[[i.CommonModule,U.O]]}),w})()},7191:(fe,W,c)=>{c.d(W,{S:()=>U,o:()=>k});var i=c(9283),D=c(7777);class U{}let k=(()=>{class V extends U{constructor(w){super(),this.http=w}getSvg(w){return this.http.get(w,{responseType:"text"})}}return V.\u0275fac=function(w){return new(w||V)(D.\u0275\u0275inject(i.HttpClient))},V.\u0275prov=D.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac}),V})()},1611:fe=>{fe.exports=function(c){return function(){var i=arguments.length;if(i){for(var u=[],D=-1;++D<i;)u[D]=arguments[D];return c.call(this,u)}return c.call(this,[])}}},5834:(fe,W,c)=>{var i=c(5203),u=c(5685),D=u(i("String.prototype.indexOf"));fe.exports=function(U,k){var V=i(U,!!k);return"function"==typeof V&&D(U,".prototype.")>-1?u(V):V}},5685:(fe,W,c)=>{var i=c(4444),u=c(5203),D=u("%Function.prototype.apply%"),L=u("%Function.prototype.call%"),U=u("%Reflect.apply%",!0)||i.call(L,D),k=u("%Object.getOwnPropertyDescriptor%",!0),V=u("%Object.defineProperty%",!0),N=u("%Math.max%");if(V)try{V({},"a",{value:1})}catch{V=null}fe.exports=function(E){var x=U(i,L,arguments);if(k&&V){var T=k(x,"length");T.configurable&&V(x,"length",{value:1+N(0,E.length-(arguments.length-1))})}return x};var w=function(){return U(i,D,arguments)};V?V(fe.exports,"apply",{value:w}):fe.exports.apply=w},7466:function(fe,W,c){var i;fe.exports=(i=c(7585),c(8319),c(9493),c(7865),c(3057),function(){var u=i,L=u.lib.BlockCipher,U=u.algo,k=[],V=[],N=[],w=[],O=[],E=[],x=[],T=[],S=[],C=[];!function(){for(var d=[],a=0;a<256;a++)d[a]=a<128?a<<1:a<<1^283;var p=0,h=0;for(a=0;a<256;a++){var H=h^h<<1^h<<2^h<<3^h<<4;k[p]=H=H>>>8^255&H^99,V[H]=p;var B,ae=d[p],we=d[ae],Ee=d[we];N[p]=(B=257*d[H]^16843008*H)<<24|B>>>8,w[p]=B<<16|B>>>16,O[p]=B<<8|B>>>24,E[p]=B,x[H]=(B=16843009*Ee^65537*we^257*ae^16843008*p)<<24|B>>>8,T[H]=B<<16|B>>>16,S[H]=B<<8|B>>>24,C[H]=B,p?(p=ae^d[d[d[Ee^ae]]],h^=d[d[h]]):p=h=1}}();var _=[0,1,2,4,8,16,32,64,128,27,54],v=U.AES=L.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var a=this._keyPriorReset=this._key,p=a.words,h=a.sigBytes/4,ae=4*((this._nRounds=h+6)+1),we=this._keySchedule=[],Ee=0;Ee<ae;Ee++)Ee<h?we[Ee]=p[Ee]:(d=we[Ee-1],Ee%h?h>6&&Ee%h==4&&(d=k[d>>>24]<<24|k[d>>>16&255]<<16|k[d>>>8&255]<<8|k[255&d]):(d=k[(d=d<<8|d>>>24)>>>24]<<24|k[d>>>16&255]<<16|k[d>>>8&255]<<8|k[255&d],d^=_[Ee/h|0]<<24),we[Ee]=we[Ee-h]^d);for(var B=this._invKeySchedule=[],ne=0;ne<ae;ne++){if(Ee=ae-ne,ne%4)var d=we[Ee];else d=we[Ee-4];B[ne]=ne<4||Ee<=4?d:x[k[d>>>24]]^T[k[d>>>16&255]]^S[k[d>>>8&255]]^C[k[255&d]]}}},encryptBlock:function(d,a){this._doCryptBlock(d,a,this._keySchedule,N,w,O,E,k)},decryptBlock:function(d,a){var p=d[a+1];d[a+1]=d[a+3],d[a+3]=p,this._doCryptBlock(d,a,this._invKeySchedule,x,T,S,C,V),p=d[a+1],d[a+1]=d[a+3],d[a+3]=p},_doCryptBlock:function(d,a,p,h,H,ae,we,Ee){for(var B=this._nRounds,ne=d[a]^p[0],Q=d[a+1]^p[1],te=d[a+2]^p[2],X=d[a+3]^p[3],se=4,ce=1;ce<B;ce++){var Oe=h[ne>>>24]^H[Q>>>16&255]^ae[te>>>8&255]^we[255&X]^p[se++],We=h[Q>>>24]^H[te>>>16&255]^ae[X>>>8&255]^we[255&ne]^p[se++],tt=h[te>>>24]^H[X>>>16&255]^ae[ne>>>8&255]^we[255&Q]^p[se++],Pe=h[X>>>24]^H[ne>>>16&255]^ae[Q>>>8&255]^we[255&te]^p[se++];ne=Oe,Q=We,te=tt,X=Pe}Oe=(Ee[ne>>>24]<<24|Ee[Q>>>16&255]<<16|Ee[te>>>8&255]<<8|Ee[255&X])^p[se++],We=(Ee[Q>>>24]<<24|Ee[te>>>16&255]<<16|Ee[X>>>8&255]<<8|Ee[255&ne])^p[se++],tt=(Ee[te>>>24]<<24|Ee[X>>>16&255]<<16|Ee[ne>>>8&255]<<8|Ee[255&Q])^p[se++],Pe=(Ee[X>>>24]<<24|Ee[ne>>>16&255]<<16|Ee[Q>>>8&255]<<8|Ee[255&te])^p[se++],d[a]=Oe,d[a+1]=We,d[a+2]=tt,d[a+3]=Pe},keySize:8});u.AES=L._createHelper(v)}(),i.AES)},3057:function(fe,W,c){var D,L,U,k,V,N,O,x,T,C,_,v,a,h,ae,we,B,ne,i;fe.exports=(i=c(7585),c(7865),void(i.lib.Cipher||(D=i,L=D.lib,U=L.Base,k=L.WordArray,V=L.BufferedBlockAlgorithm,N=D.enc,O=N.Base64,x=D.algo.EvpKDF,T=L.Cipher=V.extend({cfg:U.extend(),createEncryptor:function(Q,te){return this.create(this._ENC_XFORM_MODE,Q,te)},createDecryptor:function(Q,te){return this.create(this._DEC_XFORM_MODE,Q,te)},init:function(Q,te,X){this.cfg=this.cfg.extend(X),this._xformMode=Q,this._key=te,this.reset()},reset:function(){V.reset.call(this),this._doReset()},process:function(Q){return this._append(Q),this._process()},finalize:function(Q){return Q&&this._append(Q),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Q(te){return"string"==typeof te?ne:we}return function(te){return{encrypt:function(X,se,ce){return Q(se).encrypt(te,X,se,ce)},decrypt:function(X,se,ce){return Q(se).decrypt(te,X,se,ce)}}}}()}),L.StreamCipher=T.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),C=D.mode={},_=L.BlockCipherMode=U.extend({createEncryptor:function(Q,te){return this.Encryptor.create(Q,te)},createDecryptor:function(Q,te){return this.Decryptor.create(Q,te)},init:function(Q,te){this._cipher=Q,this._iv=te}}),v=C.CBC=function(){var Q=_.extend();function te(X,se,ce){var Oe,We=this._iv;We?(Oe=We,this._iv=undefined):Oe=this._prevBlock;for(var tt=0;tt<ce;tt++)X[se+tt]^=Oe[tt]}return Q.Encryptor=Q.extend({processBlock:function(X,se){var ce=this._cipher,Oe=ce.blockSize;te.call(this,X,se,Oe),ce.encryptBlock(X,se),this._prevBlock=X.slice(se,se+Oe)}}),Q.Decryptor=Q.extend({processBlock:function(X,se){var ce=this._cipher,Oe=ce.blockSize,We=X.slice(se,se+Oe);ce.decryptBlock(X,se),te.call(this,X,se,Oe),this._prevBlock=We}}),Q}(),a=(D.pad={}).Pkcs7={pad:function(Q,te){for(var X=4*te,se=X-Q.sigBytes%X,ce=se<<24|se<<16|se<<8|se,Oe=[],We=0;We<se;We+=4)Oe.push(ce);var tt=k.create(Oe,se);Q.concat(tt)},unpad:function(Q){Q.sigBytes-=255&Q.words[Q.sigBytes-1>>>2]}},L.BlockCipher=T.extend({cfg:T.cfg.extend({mode:v,padding:a}),reset:function(){var Q;T.reset.call(this);var te=this.cfg,X=te.iv,se=te.mode;this._xformMode==this._ENC_XFORM_MODE?Q=se.createEncryptor:(Q=se.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Q?this._mode.init(this,X&&X.words):(this._mode=Q.call(se,this,X&&X.words),this._mode.__creator=Q)},_doProcessBlock:function(Q,te){this._mode.processBlock(Q,te)},_doFinalize:function(){var Q,te=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(te.pad(this._data,this.blockSize),Q=this._process(!0)):(Q=this._process(!0),te.unpad(Q)),Q},blockSize:4}),h=L.CipherParams=U.extend({init:function(Q){this.mixIn(Q)},toString:function(Q){return(Q||this.formatter).stringify(this)}}),ae=(D.format={}).OpenSSL={stringify:function(Q){var X=Q.ciphertext,se=Q.salt;return(se?k.create([1398893684,1701076831]).concat(se).concat(X):X).toString(O)},parse:function(Q){var te,X=O.parse(Q),se=X.words;return 1398893684==se[0]&&1701076831==se[1]&&(te=k.create(se.slice(2,4)),se.splice(0,4),X.sigBytes-=16),h.create({ciphertext:X,salt:te})}},we=L.SerializableCipher=U.extend({cfg:U.extend({format:ae}),encrypt:function(Q,te,X,se){se=this.cfg.extend(se);var ce=Q.createEncryptor(X,se),Oe=ce.finalize(te),We=ce.cfg;return h.create({ciphertext:Oe,key:X,iv:We.iv,algorithm:Q,mode:We.mode,padding:We.padding,blockSize:Q.blockSize,formatter:se.format})},decrypt:function(Q,te,X,se){return se=this.cfg.extend(se),te=this._parse(te,se.format),Q.createDecryptor(X,se).finalize(te.ciphertext)},_parse:function(Q,te){return"string"==typeof Q?te.parse(Q,this):Q}}),B=(D.kdf={}).OpenSSL={execute:function(Q,te,X,se){se||(se=k.random(8));var ce=x.create({keySize:te+X}).compute(Q,se),Oe=k.create(ce.words.slice(te),4*X);return ce.sigBytes=4*te,h.create({key:ce,iv:Oe,salt:se})}},ne=L.PasswordBasedCipher=we.extend({cfg:we.cfg.extend({kdf:B}),encrypt:function(Q,te,X,se){var ce=(se=this.cfg.extend(se)).kdf.execute(X,Q.keySize,Q.ivSize);se.iv=ce.iv;var Oe=we.encrypt.call(this,Q,te,ce.key,se);return Oe.mixIn(ce),Oe},decrypt:function(Q,te,X,se){se=this.cfg.extend(se),te=this._parse(te,se.format);var ce=se.kdf.execute(X,Q.keySize,Q.ivSize,te.salt);return se.iv=ce.iv,we.decrypt.call(this,Q,te,ce.key,se)}}))))},7585:function(fe,W,c){var i;fe.exports=(i=i||function(u,D){var L;if("undefined"!=typeof window&&window.crypto&&(L=window.crypto),"undefined"!=typeof self&&self.crypto&&(L=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(L=globalThis.crypto),!L&&"undefined"!=typeof window&&window.msCrypto&&(L=window.msCrypto),!L&&"undefined"!=typeof global&&global.crypto&&(L=global.crypto),!L)try{L=c(2480)}catch{}var U=function(){if(L){if("function"==typeof L.getRandomValues)try{return L.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof L.randomBytes)try{return L.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},k=Object.create||function(){function d(){}return function(a){var p;return d.prototype=a,p=new d,d.prototype=null,p}}(),V={},N=V.lib={},w=N.Base={extend:function(d){var a=k(this);return d&&a.mixIn(d),(!a.hasOwnProperty("init")||this.init===a.init)&&(a.init=function(){a.$super.init.apply(this,arguments)}),a.init.prototype=a,a.$super=this,a},create:function(){var d=this.extend();return d.init.apply(d,arguments),d},init:function(){},mixIn:function(d){for(var a in d)d.hasOwnProperty(a)&&(this[a]=d[a]);d.hasOwnProperty("toString")&&(this.toString=d.toString)},clone:function(){return this.init.prototype.extend(this)}},O=N.WordArray=w.extend({init:function(d,a){d=this.words=d||[],this.sigBytes=null!=a?a:4*d.length},toString:function(d){return(d||x).stringify(this)},concat:function(d){var a=this.words,p=d.words,h=this.sigBytes,H=d.sigBytes;if(this.clamp(),h%4)for(var ae=0;ae<H;ae++)a[h+ae>>>2]|=(p[ae>>>2]>>>24-ae%4*8&255)<<24-(h+ae)%4*8;else for(var Ee=0;Ee<H;Ee+=4)a[h+Ee>>>2]=p[Ee>>>2];return this.sigBytes+=H,this},clamp:function(){var d=this.words,a=this.sigBytes;d[a>>>2]&=4294967295<<32-a%4*8,d.length=u.ceil(a/4)},clone:function(){var d=w.clone.call(this);return d.words=this.words.slice(0),d},random:function(d){for(var a=[],p=0;p<d;p+=4)a.push(U());return new O.init(a,d)}}),E=V.enc={},x=E.Hex={stringify:function(d){for(var a=d.words,p=d.sigBytes,h=[],H=0;H<p;H++){var ae=a[H>>>2]>>>24-H%4*8&255;h.push((ae>>>4).toString(16)),h.push((15&ae).toString(16))}return h.join("")},parse:function(d){for(var a=d.length,p=[],h=0;h<a;h+=2)p[h>>>3]|=parseInt(d.substr(h,2),16)<<24-h%8*4;return new O.init(p,a/2)}},T=E.Latin1={stringify:function(d){for(var a=d.words,p=d.sigBytes,h=[],H=0;H<p;H++)h.push(String.fromCharCode(a[H>>>2]>>>24-H%4*8&255));return h.join("")},parse:function(d){for(var a=d.length,p=[],h=0;h<a;h++)p[h>>>2]|=(255&d.charCodeAt(h))<<24-h%4*8;return new O.init(p,a)}},S=E.Utf8={stringify:function(d){try{return decodeURIComponent(escape(T.stringify(d)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(d){return T.parse(unescape(encodeURIComponent(d)))}},C=N.BufferedBlockAlgorithm=w.extend({reset:function(){this._data=new O.init,this._nDataBytes=0},_append:function(d){"string"==typeof d&&(d=S.parse(d)),this._data.concat(d),this._nDataBytes+=d.sigBytes},_process:function(d){var a,p=this._data,h=p.words,H=p.sigBytes,ae=this.blockSize,Ee=H/(4*ae),B=(Ee=d?u.ceil(Ee):u.max((0|Ee)-this._minBufferSize,0))*ae,ne=u.min(4*B,H);if(B){for(var Q=0;Q<B;Q+=ae)this._doProcessBlock(h,Q);a=h.splice(0,B),p.sigBytes-=ne}return new O.init(a,ne)},clone:function(){var d=w.clone.call(this);return d._data=this._data.clone(),d},_minBufferSize:0}),v=(N.Hasher=C.extend({cfg:w.extend(),init:function(d){this.cfg=this.cfg.extend(d),this.reset()},reset:function(){C.reset.call(this),this._doReset()},update:function(d){return this._append(d),this._process(),this},finalize:function(d){return d&&this._append(d),this._doFinalize()},blockSize:16,_createHelper:function(d){return function(a,p){return new d.init(p).finalize(a)}},_createHmacHelper:function(d){return function(a,p){return new v.HMAC.init(d,p).finalize(a)}}}),V.algo={});return V}(Math),i)},8319:function(fe,W,c){var i,L;fe.exports=(i=c(7585),L=i.lib.WordArray,i.enc.Base64={stringify:function(N){var w=N.words,O=N.sigBytes,E=this._map;N.clamp();for(var x=[],T=0;T<O;T+=3)for(var v=(w[T>>>2]>>>24-T%4*8&255)<<16|(w[T+1>>>2]>>>24-(T+1)%4*8&255)<<8|w[T+2>>>2]>>>24-(T+2)%4*8&255,d=0;d<4&&T+.75*d<O;d++)x.push(E.charAt(v>>>6*(3-d)&63));var a=E.charAt(64);if(a)for(;x.length%4;)x.push(a);return x.join("")},parse:function(N){var w=N.length,O=this._map,E=this._reverseMap;if(!E){E=this._reverseMap=[];for(var x=0;x<O.length;x++)E[O.charCodeAt(x)]=x}var T=O.charAt(64);if(T){var S=N.indexOf(T);-1!==S&&(w=S)}return function(N,w,O){for(var E=[],x=0,T=0;T<w;T++)if(T%4){var S=O[N.charCodeAt(T-1)]<<T%4*2,C=O[N.charCodeAt(T)]>>>6-T%4*2;E[x>>>2]|=(S|C)<<24-x%4*8,x++}return L.create(E,x)}(N,w,E)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},i.enc.Base64)},4384:function(fe,W,c){fe.exports=c(7585).enc.Utf8},7865:function(fe,W,c){var u,D,L,U,k,N,i;fe.exports=(i=c(7585),c(5162),c(3764),U=(D=(u=i).lib).WordArray,N=(k=u.algo).EvpKDF=(L=D.Base).extend({cfg:L.extend({keySize:4,hasher:k.MD5,iterations:1}),init:function(w){this.cfg=this.cfg.extend(w)},compute:function(w,O){for(var E,x=this.cfg,T=x.hasher.create(),S=U.create(),C=S.words,_=x.keySize,v=x.iterations;C.length<_;){E&&T.update(E),E=T.update(w).finalize(O),T.reset();for(var d=1;d<v;d++)E=T.finalize(E),T.reset();S.concat(E)}return S.sigBytes=4*_,S}}),u.EvpKDF=function(w,O,E){return N.create(E).compute(w,O)},i.EvpKDF)},3764:function(fe,W,c){var i,k;fe.exports=(i=c(7585),k=i.enc.Utf8,void(i.algo.HMAC=i.lib.Base.extend({init:function(w,O){w=this._hasher=new w.init,"string"==typeof O&&(O=k.parse(O));var E=w.blockSize,x=4*E;O.sigBytes>x&&(O=w.finalize(O)),O.clamp();for(var T=this._oKey=O.clone(),S=this._iKey=O.clone(),C=T.words,_=S.words,v=0;v<E;v++)C[v]^=1549556828,_[v]^=909522486;T.sigBytes=S.sigBytes=x,this.reset()},reset:function(){var w=this._hasher;w.reset(),w.update(this._iKey)},update:function(w){return this._hasher.update(w),this},finalize:function(w){var O=this._hasher,E=O.finalize(w);return O.reset(),O.finalize(this._oKey.clone().concat(E))}})))},9493:function(fe,W,c){var i;fe.exports=(i=c(7585),function(u){var D=i,L=D.lib,U=L.WordArray,k=L.Hasher,V=D.algo,N=[];!function(){for(var S=0;S<64;S++)N[S]=4294967296*u.abs(u.sin(S+1))|0}();var w=V.MD5=k.extend({_doReset:function(){this._hash=new U.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(S,C){for(var _=0;_<16;_++){var v=C+_,d=S[v];S[v]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}var a=this._hash.words,p=S[C+0],h=S[C+1],H=S[C+2],ae=S[C+3],we=S[C+4],Ee=S[C+5],B=S[C+6],ne=S[C+7],Q=S[C+8],te=S[C+9],X=S[C+10],se=S[C+11],ce=S[C+12],Oe=S[C+13],We=S[C+14],tt=S[C+15],Pe=a[0],De=a[1],pe=a[2],ve=a[3];Pe=O(Pe,De,pe,ve,p,7,N[0]),ve=O(ve,Pe,De,pe,h,12,N[1]),pe=O(pe,ve,Pe,De,H,17,N[2]),De=O(De,pe,ve,Pe,ae,22,N[3]),Pe=O(Pe,De,pe,ve,we,7,N[4]),ve=O(ve,Pe,De,pe,Ee,12,N[5]),pe=O(pe,ve,Pe,De,B,17,N[6]),De=O(De,pe,ve,Pe,ne,22,N[7]),Pe=O(Pe,De,pe,ve,Q,7,N[8]),ve=O(ve,Pe,De,pe,te,12,N[9]),pe=O(pe,ve,Pe,De,X,17,N[10]),De=O(De,pe,ve,Pe,se,22,N[11]),Pe=O(Pe,De,pe,ve,ce,7,N[12]),ve=O(ve,Pe,De,pe,Oe,12,N[13]),pe=O(pe,ve,Pe,De,We,17,N[14]),Pe=E(Pe,De=O(De,pe,ve,Pe,tt,22,N[15]),pe,ve,h,5,N[16]),ve=E(ve,Pe,De,pe,B,9,N[17]),pe=E(pe,ve,Pe,De,se,14,N[18]),De=E(De,pe,ve,Pe,p,20,N[19]),Pe=E(Pe,De,pe,ve,Ee,5,N[20]),ve=E(ve,Pe,De,pe,X,9,N[21]),pe=E(pe,ve,Pe,De,tt,14,N[22]),De=E(De,pe,ve,Pe,we,20,N[23]),Pe=E(Pe,De,pe,ve,te,5,N[24]),ve=E(ve,Pe,De,pe,We,9,N[25]),pe=E(pe,ve,Pe,De,ae,14,N[26]),De=E(De,pe,ve,Pe,Q,20,N[27]),Pe=E(Pe,De,pe,ve,Oe,5,N[28]),ve=E(ve,Pe,De,pe,H,9,N[29]),pe=E(pe,ve,Pe,De,ne,14,N[30]),Pe=x(Pe,De=E(De,pe,ve,Pe,ce,20,N[31]),pe,ve,Ee,4,N[32]),ve=x(ve,Pe,De,pe,Q,11,N[33]),pe=x(pe,ve,Pe,De,se,16,N[34]),De=x(De,pe,ve,Pe,We,23,N[35]),Pe=x(Pe,De,pe,ve,h,4,N[36]),ve=x(ve,Pe,De,pe,we,11,N[37]),pe=x(pe,ve,Pe,De,ne,16,N[38]),De=x(De,pe,ve,Pe,X,23,N[39]),Pe=x(Pe,De,pe,ve,Oe,4,N[40]),ve=x(ve,Pe,De,pe,p,11,N[41]),pe=x(pe,ve,Pe,De,ae,16,N[42]),De=x(De,pe,ve,Pe,B,23,N[43]),Pe=x(Pe,De,pe,ve,te,4,N[44]),ve=x(ve,Pe,De,pe,ce,11,N[45]),pe=x(pe,ve,Pe,De,tt,16,N[46]),Pe=T(Pe,De=x(De,pe,ve,Pe,H,23,N[47]),pe,ve,p,6,N[48]),ve=T(ve,Pe,De,pe,ne,10,N[49]),pe=T(pe,ve,Pe,De,We,15,N[50]),De=T(De,pe,ve,Pe,Ee,21,N[51]),Pe=T(Pe,De,pe,ve,ce,6,N[52]),ve=T(ve,Pe,De,pe,ae,10,N[53]),pe=T(pe,ve,Pe,De,X,15,N[54]),De=T(De,pe,ve,Pe,h,21,N[55]),Pe=T(Pe,De,pe,ve,Q,6,N[56]),ve=T(ve,Pe,De,pe,tt,10,N[57]),pe=T(pe,ve,Pe,De,B,15,N[58]),De=T(De,pe,ve,Pe,Oe,21,N[59]),Pe=T(Pe,De,pe,ve,we,6,N[60]),ve=T(ve,Pe,De,pe,se,10,N[61]),pe=T(pe,ve,Pe,De,H,15,N[62]),De=T(De,pe,ve,Pe,te,21,N[63]),a[0]=a[0]+Pe|0,a[1]=a[1]+De|0,a[2]=a[2]+pe|0,a[3]=a[3]+ve|0},_doFinalize:function(){var S=this._data,C=S.words,_=8*this._nDataBytes,v=8*S.sigBytes;C[v>>>5]|=128<<24-v%32;var d=u.floor(_/4294967296),a=_;C[15+(v+64>>>9<<4)]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),C[14+(v+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),S.sigBytes=4*(C.length+1),this._process();for(var p=this._hash,h=p.words,H=0;H<4;H++){var ae=h[H];h[H]=16711935&(ae<<8|ae>>>24)|4278255360&(ae<<24|ae>>>8)}return p},clone:function(){var S=k.clone.call(this);return S._hash=this._hash.clone(),S}});function O(S,C,_,v,d,a,p){var h=S+(C&_|~C&v)+d+p;return(h<<a|h>>>32-a)+C}function E(S,C,_,v,d,a,p){var h=S+(C&v|_&~v)+d+p;return(h<<a|h>>>32-a)+C}function x(S,C,_,v,d,a,p){var h=S+(C^_^v)+d+p;return(h<<a|h>>>32-a)+C}function T(S,C,_,v,d,a,p){var h=S+(_^(C|~v))+d+p;return(h<<a|h>>>32-a)+C}D.MD5=k._createHelper(w),D.HmacMD5=k._createHmacHelper(w)}(Math),i.MD5)},5162:function(fe,W,c){var u,D,L,U,V,N,i;fe.exports=(i=c(7585),L=(D=(u=i).lib).WordArray,V=[],N=u.algo.SHA1=(U=D.Hasher).extend({_doReset:function(){this._hash=new L.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,O){for(var E=this._hash.words,x=E[0],T=E[1],S=E[2],C=E[3],_=E[4],v=0;v<80;v++){if(v<16)V[v]=0|w[O+v];else{var d=V[v-3]^V[v-8]^V[v-14]^V[v-16];V[v]=d<<1|d>>>31}var a=(x<<5|x>>>27)+_+V[v];a+=v<20?1518500249+(T&S|~T&C):v<40?1859775393+(T^S^C):v<60?(T&S|T&C|S&C)-1894007588:(T^S^C)-899497514,_=C,C=S,S=T<<30|T>>>2,T=x,x=a}E[0]=E[0]+x|0,E[1]=E[1]+T|0,E[2]=E[2]+S|0,E[3]=E[3]+C|0,E[4]=E[4]+_|0},_doFinalize:function(){var w=this._data,O=w.words,E=8*this._nDataBytes,x=8*w.sigBytes;return O[x>>>5]|=128<<24-x%32,O[14+(x+64>>>9<<4)]=Math.floor(E/4294967296),O[15+(x+64>>>9<<4)]=E,w.sigBytes=4*O.length,this._process(),this._hash},clone:function(){var w=U.clone.call(this);return w._hash=this._hash.clone(),w}}),u.SHA1=U._createHelper(N),u.HmacSHA1=U._createHmacHelper(N),i.SHA1)},6952:(fe,W,c)=>{var i=c(1356),u=c(3407),D=c(2e3),L=c(2342),U=c(9235),k=c(2374),V=Date.prototype.getTime;function w(x){return null==x}function O(x){return!(!x||"object"!=typeof x||"number"!=typeof x.length||"function"!=typeof x.copy||"function"!=typeof x.slice||x.length>0&&"number"!=typeof x[0])}fe.exports=function N(x,T,S){var C=S||{};return!!(C.strict?D(x,T):x===T)||(!x||!T||"object"!=typeof x&&"object"!=typeof T?C.strict?D(x,T):x==T:function(x,T,S){var C,_;if(typeof x!=typeof T||w(x)||w(T)||x.prototype!==T.prototype||u(x)!==u(T))return!1;var v=L(x),d=L(T);if(v!==d)return!1;if(v||d)return x.source===T.source&&U(x)===U(T);if(k(x)&&k(T))return V.call(x)===V.call(T);var a=O(x),p=O(T);if(a!==p)return!1;if(a||p){if(x.length!==T.length)return!1;for(C=0;C<x.length;C++)if(x[C]!==T[C])return!1;return!0}if(typeof x!=typeof T)return!1;try{var h=i(x),H=i(T)}catch{return!1}if(h.length!==H.length)return!1;for(h.sort(),H.sort(),C=h.length-1;C>=0;C--)if(h[C]!=H[C])return!1;for(C=h.length-1;C>=0;C--)if(!N(x[_=h[C]],T[_],S))return!1;return!0}(x,T,C))}},4949:fe=>{fe.exports=function W(c){return Object.freeze(c),Object.getOwnPropertyNames(c).forEach(function(i){c.hasOwnProperty(i)&&null!==c[i]&&("object"==typeof c[i]||"function"==typeof c[i])&&!Object.isFrozen(c[i])&&W(c[i])}),c}},2358:(fe,W,c)=>{var i=c(1356),u="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),D=Object.prototype.toString,L=Array.prototype.concat,U=Object.defineProperty,N=U&&function(){var E={};try{for(var x in U(E,"x",{enumerable:!1,value:E}),E)return!1;return E.x===E}catch{return!1}}(),w=function(E,x,T,S){x in E&&(!function(E){return"function"==typeof E&&"[object Function]"===D.call(E)}(S)||!S())||(N?U(E,x,{configurable:!0,enumerable:!1,value:T,writable:!0}):E[x]=T)},O=function(E,x){var T=arguments.length>2?arguments[2]:{},S=i(x);u&&(S=L.call(S,Object.getOwnPropertySymbols(x)));for(var C=0;C<S.length;C+=1)w(E,S[C],x[S[C]],T[S[C]])};O.supportsDescriptors=!!N,fe.exports=O},9069:fe=>{var i,W="object"==typeof Reflect?Reflect:null,c=W&&"function"==typeof W.apply?W.apply:function(p,h,H){return Function.prototype.apply.call(p,h,H)};i=W&&"function"==typeof W.ownKeys?W.ownKeys:Object.getOwnPropertySymbols?function(p){return Object.getOwnPropertyNames(p).concat(Object.getOwnPropertySymbols(p))}:function(p){return Object.getOwnPropertyNames(p)};var D=Number.isNaN||function(p){return p!=p};function L(){L.init.call(this)}fe.exports=L,fe.exports.once=function(a,p){return new Promise(function(h,H){function ae(Ee){a.removeListener(p,we),H(Ee)}function we(){"function"==typeof a.removeListener&&a.removeListener("error",ae),h([].slice.call(arguments))}d(a,p,we,{once:!0}),"error"!==p&&function(a,p,h){"function"==typeof a.on&&d(a,"error",p,{once:!0})}(a,ae)})},L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var U=10;function k(a){if("function"!=typeof a)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}function V(a){return void 0===a._maxListeners?L.defaultMaxListeners:a._maxListeners}function N(a,p,h,H){var ae,we,Ee;if(k(h),void 0===(we=a._events)?(we=a._events=Object.create(null),a._eventsCount=0):(void 0!==we.newListener&&(a.emit("newListener",p,h.listener?h.listener:h),we=a._events),Ee=we[p]),void 0===Ee)Ee=we[p]=h,++a._eventsCount;else if("function"==typeof Ee?Ee=we[p]=H?[h,Ee]:[Ee,h]:H?Ee.unshift(h):Ee.push(h),(ae=V(a))>0&&Ee.length>ae&&!Ee.warned){Ee.warned=!0;var B=new Error("Possible EventEmitter memory leak detected. "+Ee.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");B.name="MaxListenersExceededWarning",B.emitter=a,B.type=p,B.count=Ee.length,function(a){console&&console.warn&&console.warn(a)}(B)}return a}function w(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function O(a,p,h){var H={fired:!1,wrapFn:void 0,target:a,type:p,listener:h},ae=w.bind(H);return ae.listener=h,H.wrapFn=ae,ae}function E(a,p,h){var H=a._events;if(void 0===H)return[];var ae=H[p];return void 0===ae?[]:"function"==typeof ae?h?[ae.listener||ae]:[ae]:h?function(a){for(var p=new Array(a.length),h=0;h<p.length;++h)p[h]=a[h].listener||a[h];return p}(ae):T(ae,ae.length)}function x(a){var p=this._events;if(void 0!==p){var h=p[a];if("function"==typeof h)return 1;if(void 0!==h)return h.length}return 0}function T(a,p){for(var h=new Array(p),H=0;H<p;++H)h[H]=a[H];return h}function d(a,p,h,H){if("function"==typeof a.on)H.once?a.once(p,h):a.on(p,h);else{if("function"!=typeof a.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a);a.addEventListener(p,function ae(we){H.once&&a.removeEventListener(p,ae),h(we)})}}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return U},set:function(a){if("number"!=typeof a||a<0||D(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");U=a}}),L.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(p){if("number"!=typeof p||p<0||D(p))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+p+".");return this._maxListeners=p,this},L.prototype.getMaxListeners=function(){return V(this)},L.prototype.emit=function(p){for(var h=[],H=1;H<arguments.length;H++)h.push(arguments[H]);var ae="error"===p,we=this._events;if(void 0!==we)ae=ae&&void 0===we.error;else if(!ae)return!1;if(ae){var Ee;if(h.length>0&&(Ee=h[0]),Ee instanceof Error)throw Ee;var B=new Error("Unhandled error."+(Ee?" ("+Ee.message+")":""));throw B.context=Ee,B}var ne=we[p];if(void 0===ne)return!1;if("function"==typeof ne)c(ne,this,h);else{var Q=ne.length,te=T(ne,Q);for(H=0;H<Q;++H)c(te[H],this,h)}return!0},L.prototype.on=L.prototype.addListener=function(p,h){return N(this,p,h,!1)},L.prototype.prependListener=function(p,h){return N(this,p,h,!0)},L.prototype.once=function(p,h){return k(h),this.on(p,O(this,p,h)),this},L.prototype.prependOnceListener=function(p,h){return k(h),this.prependListener(p,O(this,p,h)),this},L.prototype.off=L.prototype.removeListener=function(p,h){var H,ae,we,Ee,B;if(k(h),void 0===(ae=this._events))return this;if(void 0===(H=ae[p]))return this;if(H===h||H.listener===h)0==--this._eventsCount?this._events=Object.create(null):(delete ae[p],ae.removeListener&&this.emit("removeListener",p,H.listener||h));else if("function"!=typeof H){for(we=-1,Ee=H.length-1;Ee>=0;Ee--)if(H[Ee]===h||H[Ee].listener===h){B=H[Ee].listener,we=Ee;break}if(we<0)return this;0===we?H.shift():function(a,p){for(;p+1<a.length;p++)a[p]=a[p+1];a.pop()}(H,we),1===H.length&&(ae[p]=H[0]),void 0!==ae.removeListener&&this.emit("removeListener",p,B||h)}return this},L.prototype.removeAllListeners=function(p){var h,H,ae;if(void 0===(H=this._events))return this;if(void 0===H.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==H[p]&&(0==--this._eventsCount?this._events=Object.create(null):delete H[p]),this;if(0===arguments.length){var Ee,we=Object.keys(H);for(ae=0;ae<we.length;++ae)"removeListener"!==(Ee=we[ae])&&this.removeAllListeners(Ee);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(h=H[p]))this.removeListener(p,h);else if(void 0!==h)for(ae=h.length-1;ae>=0;ae--)this.removeListener(p,h[ae]);return this},L.prototype.listeners=function(p){return E(this,p,!0)},L.prototype.rawListeners=function(p){return E(this,p,!1)},L.listenerCount=function(a,p){return"function"==typeof a.listenerCount?a.listenerCount(p):x.call(a,p)},L.prototype.listenerCount=x,L.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},2559:fe=>{fe.exports=function W(c,i){if(c===i)return!0;if(c&&i&&"object"==typeof c&&"object"==typeof i){if(c.constructor!==i.constructor)return!1;var u,D,L;if(Array.isArray(c)){if((u=c.length)!=i.length)return!1;for(D=u;0!=D--;)if(!W(c[D],i[D]))return!1;return!0}if(c.constructor===RegExp)return c.source===i.source&&c.flags===i.flags;if(c.valueOf!==Object.prototype.valueOf)return c.valueOf()===i.valueOf();if(c.toString!==Object.prototype.toString)return c.toString()===i.toString();if((u=(L=Object.keys(c)).length)!==Object.keys(i).length)return!1;for(D=u;0!=D--;)if(!Object.prototype.hasOwnProperty.call(i,L[D]))return!1;for(D=u;0!=D--;){var U=L[D];if(!W(c[U],i[U]))return!1}return!0}return c!=c&&i!=i}},9076:fe=>{var W=Object.prototype.hasOwnProperty,c=Object.prototype.toString;fe.exports=function(u,D,L){if("[object Function]"!==c.call(D))throw new TypeError("iterator must be a function");var U=u.length;if(U===+U)for(var k=0;k<U;k++)D.call(L,u[k],k,u);else for(var V in u)W.call(u,V)&&D.call(L,u[V],V,u)}},3457:fe=>{var W="Function.prototype.bind called on incompatible ",c=Array.prototype.slice,i=Object.prototype.toString,u="[object Function]";fe.exports=function(L){var U=this;if("function"!=typeof U||i.call(U)!==u)throw new TypeError(W+U);for(var V,k=c.call(arguments,1),N=function(){if(this instanceof V){var T=U.apply(this,k.concat(c.call(arguments)));return Object(T)===T?T:this}return U.apply(L,k.concat(c.call(arguments)))},w=Math.max(0,U.length-k.length),O=[],E=0;E<w;E++)O.push("$"+E);if(V=Function("binder","return function ("+O.join(",")+"){ return binder.apply(this,arguments); }")(N),U.prototype){var x=function(){};x.prototype=U.prototype,V.prototype=new x,x.prototype=null}return V}},4444:(fe,W,c)=>{var i=c(3457);fe.exports=Function.prototype.bind||i},1227:(fe,W,c)=>{for(var i=c(6788),u=c(7549),D=/[\{\[]/,L=/[\}\]]/,U=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],k={},V=0;V<U.length;V++)k[U[V]]=!0;var N=function(E){return u(E)&&!k.hasOwnProperty(E)},w={s:function(E){return""+E},d:function(E){return""+Number(E)},o:function(E){return JSON.stringify(E)}},O=function(){var E=[],x=0,T={},S=function(v){for(var d="";d.length<2*x;)d+="  ";E.push(d+v)},C=function(v){return L.test(v.trim()[0])&&D.test(v[v.length-1])?(x--,S(v),void x++):D.test(v[v.length-1])?(S(v),void x++):L.test(v.trim()[0])?(x--,void S(v)):void S(v)},_=function(v){if(!v)return _;if(1===arguments.length&&v.indexOf("\n")>-1)for(var d=v.trim().split("\n"),a=0;a<d.length;a++)C(d[a].trim());else C(i.format.apply(i,arguments));return _};return _.scope={},_.formats=w,_.sym=function(v){return(!v||!N(v))&&(v="tmp"),T[v]||(T[v]=0),v+(T[v]++||"")},_.property=function(v,d){return 1===arguments.length&&(d=v,v=""),u(d+="")?v?v+"."+d:d:v?v+"["+JSON.stringify(d)+"]":JSON.stringify(d)},_.toString=function(){return E.join("\n")},_.toFunction=function(v){v||(v={});var d="return ("+_.toString()+")";Object.keys(_.scope).forEach(function(h){v[h]||(v[h]=_.scope[h])});var a=Object.keys(v).map(function(h){return h}),p=a.map(function(h){return v[h]});return Function.apply(null,a.concat(d)).apply(null,p)},arguments.length&&_.apply(null,arguments),_};O.formats=w,fe.exports=O},2562:(fe,W,c)=>{var i=c(7549),u=function(D,L){return i(L)?D+"."+L:D+"["+JSON.stringify(L)+"]"};u.valid=i,u.property=function(D){return i(D)?D:JSON.stringify(D)},fe.exports=u},5203:(fe,W,c)=>{var i,u=SyntaxError,D=Function,L=TypeError,U=function(B){try{return D('"use strict"; return ('+B+").constructor;")()}catch{}},k=Object.getOwnPropertyDescriptor;if(k)try{k({},"")}catch{k=null}var V=function(){throw new L},N=k?function(){try{return V}catch{try{return k(arguments,"callee").get}catch{return V}}}():V,w=c(2969)(),O=Object.getPrototypeOf||function(B){return B.__proto__},E={},x="undefined"==typeof Uint8Array?i:O(Uint8Array),T={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":w?O([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":D,"%GeneratorFunction%":E,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":w?O(O([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&w?O((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&w?O((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":w?O(""[Symbol.iterator]()):i,"%Symbol%":w?Symbol:i,"%SyntaxError%":u,"%ThrowTypeError%":N,"%TypedArray%":x,"%TypeError%":L,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet},S=function B(ne){var Q;if("%AsyncFunction%"===ne)Q=U("async function () {}");else if("%GeneratorFunction%"===ne)Q=U("function* () {}");else if("%AsyncGeneratorFunction%"===ne)Q=U("async function* () {}");else if("%AsyncGenerator%"===ne){var te=B("%AsyncGeneratorFunction%");te&&(Q=te.prototype)}else if("%AsyncIteratorPrototype%"===ne){var X=B("%AsyncGenerator%");X&&(Q=O(X.prototype))}return T[ne]=Q,Q},C={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_=c(4444),v=c(3164),d=_.call(Function.call,Array.prototype.concat),a=_.call(Function.apply,Array.prototype.splice),p=_.call(Function.call,String.prototype.replace),h=_.call(Function.call,String.prototype.slice),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ae=/\\(\\)?/g,we=function(ne){var Q=h(ne,0,1),te=h(ne,-1);if("%"===Q&&"%"!==te)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===te&&"%"!==Q)throw new u("invalid intrinsic syntax, expected opening `%`");var X=[];return p(ne,H,function(se,ce,Oe,We){X[X.length]=Oe?p(We,ae,"$1"):ce||se}),X},Ee=function(ne,Q){var X,te=ne;if(v(C,te)&&(te="%"+(X=C[te])[0]+"%"),v(T,te)){var se=T[te];if(se===E&&(se=S(te)),void 0===se&&!Q)throw new L("intrinsic "+ne+" exists, but is not available. Please file an issue!");return{alias:X,name:te,value:se}}throw new u("intrinsic "+ne+" does not exist!")};fe.exports=function(ne,Q){if("string"!=typeof ne||0===ne.length)throw new L("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Q)throw new L('"allowMissing" argument must be a boolean');var te=we(ne),X=te.length>0?te[0]:"",se=Ee("%"+X+"%",Q),ce=se.name,Oe=se.value,We=!1,tt=se.alias;tt&&(X=tt[0],a(te,d([0,1],tt)));for(var Pe=1,De=!0;Pe<te.length;Pe+=1){var pe=te[Pe],ve=h(pe,0,1),ke=h(pe,-1);if(('"'===ve||"'"===ve||"`"===ve||'"'===ke||"'"===ke||"`"===ke)&&ve!==ke)throw new u("property names with quotes must have matching quotes");if(("constructor"===pe||!De)&&(We=!0),v(T,ce="%"+(X+="."+pe)+"%"))Oe=T[ce];else if(null!=Oe){if(!(pe in Oe)){if(!Q)throw new L("base intrinsic for "+ne+" exists, but the property is not available.");return}if(k&&Pe+1>=te.length){var Ge=k(Oe,pe);Oe=(De=!!Ge)&&"get"in Ge&&!("originalValue"in Ge.get)?Ge.get:Oe[pe]}else De=v(Oe,pe),Oe=Oe[pe];De&&!We&&(T[ce]=Oe)}}return Oe}},2969:(fe,W,c)=>{var i="undefined"!=typeof Symbol&&Symbol,u=c(1983);fe.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&u()}},1983:fe=>{fe.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var c={},i=Symbol("test"),u=Object(i);if("string"==typeof i||"[object Symbol]"!==Object.prototype.toString.call(i)||"[object Symbol]"!==Object.prototype.toString.call(u))return!1;for(i in c[i]=42,c)return!1;if("function"==typeof Object.keys&&0!==Object.keys(c).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(c).length)return!1;var L=Object.getOwnPropertySymbols(c);if(1!==L.length||L[0]!==i||!Object.prototype.propertyIsEnumerable.call(c,i))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var U=Object.getOwnPropertyDescriptor(c,i);if(42!==U.value||!0!==U.enumerable)return!1}return!0}},6259:(fe,W,c)=>{var i=c(1983);fe.exports=function(){return i()&&!!Symbol.toStringTag}},3164:(fe,W,c)=>{var i=c(4444);fe.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},3894:fe=>{fe.exports="function"==typeof Object.create?function(c,i){i&&(c.super_=i,c.prototype=Object.create(i.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:function(c,i){if(i){c.super_=i;var u=function(){};u.prototype=i.prototype,c.prototype=new u,c.prototype.constructor=c}}},3407:(fe,W,c)=>{var i=c(6259)(),D=c(5834)("Object.prototype.toString"),L=function(N){return!(i&&N&&"object"==typeof N&&Symbol.toStringTag in N)&&"[object Arguments]"===D(N)},U=function(N){return!!L(N)||null!==N&&"object"==typeof N&&"number"==typeof N.length&&N.length>=0&&"[object Array]"!==D(N)&&"[object Function]"===D(N.callee)},k=function(){return L(arguments)}();L.isLegacyArguments=U,fe.exports=k?L:U},2374:(fe,W,c)=>{var i=Date.prototype.getDay,D=Object.prototype.toString,U=c(6259)();fe.exports=function(V){return"object"==typeof V&&null!==V&&(U?function(V){try{return i.call(V),!0}catch{return!1}}(V):"[object Date]"===D.call(V))}},9456:fe=>{fe.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||"undefined"!=typeof process&&"object"==typeof process.versions&&!!process.versions.electron||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}},110:(fe,W,c)=>{var V,i=Object.prototype.toString,u=Function.prototype.toString,D=/^\s*(?:function)?\*/,L=c(6259)(),U=Object.getPrototypeOf;fe.exports=function(w){if("function"!=typeof w)return!1;if(D.test(u.call(w)))return!0;if(!L)return"[object GeneratorFunction]"===i.call(w);if(!U)return!1;if(void 0===V){var E=function(){if(!L)return!1;try{return Function("return function*() {}")()}catch{}}();V=!!E&&U(E)}return U(w)===V}},1570:fe=>{var W=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c=/\/\d{1,3}(?=%|$)/,i=/\//,u=/%.*$/,D=/([^0-9a-f:/%])/i,L=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function U(N){if(!W.test(N))return!1;var w=N.split(".");if(4!==w.length||"0"===w[0][0]&&w[0].length>1||"0"===w[1][0]&&w[1].length>1||"0"===w[2][0]&&w[2].length>1||"0"===w[3][0]&&w[3].length>1)return!1;var O=Number(w[0]),E=Number(w[1]),x=Number(w[2]),T=Number(w[3]);return O>=0&&O<256&&E>=0&&E<256&&x>=0&&x<256&&T>=0&&T<256}function k(N){var w=N.replace(c,""),O=N.length!==w.length;if(O||!O&&i.test(N))return!1;var E=w.replace(u,""),x=E.lastIndexOf(":");if(-1===x)return!1;var C=U(E.substring(x+1))?E.substring(0,x+1)+"1234:5678":E;if(D.test(C)||L.test(C))return!1;var _=C.split("::");if(_.length>2)return!1;if(2===_.length){var v=""===_[0]?[]:_[0].split(":"),d=""===_[1]?[]:_[1].split(":");if(8-(v.length+d.length)<=0)return!1}else if(8!==C.split(":").length)return!1;return!0}function V(N){return U(N)||k(N)}fe.exports=function(w){if(w||(w={}),4===w.version)return U;if(6===w.version)return k;if(null==w.version)return V;throw new Error("Unknown version: "+w.version)},fe.exports.__all_regexes__=[W,c,i,u,D,L]},1367:(fe,W,c)=>{var i=c(1570),u=/\s/,D=/^[a-zA-Z0-9.-]+$/,L=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,U=/^\+[0-9][0-9 ]{5,27}[0-9]$/,k=/ {2}/,V=/ /g;W["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,W.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,W.time=/^\d{2}:\d{2}:\d{2}$/,W.email=function(N){return-1!==N.indexOf("@")&&!u.test(N)},W["ip-address"]=W.ipv4=i({version:4}),W.ipv6=i({version:6}),W.uri=/^[a-zA-Z][a-zA-Z0-9+\-.]*:[^\s]*$/,W.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,W.hostname=function(N){if(!D.test(N))return!1;for(var w=N.split("."),O=0;O<w.length;O++)if(!L.test(w[O]))return!1;return!0},W.alpha=/^[a-zA-Z]+$/,W.alphanumeric=/^[a-zA-Z0-9]+$/,W.style=/.:\s*[^;]/g,W.phone=function(N){if(!U.test(N)||k.test(N))return!1;var w=N.substring(1).replace(V,"").length;return w>=7&&w<=15},W["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/},8167:(fe,W,c)=>{var i=c(2562),u=c(1227),D=c(6936),L=c(1995),U=c(1367),V={any:function(){return"true"},null:function(x){return x+" === null"},boolean:function(x){return"typeof "+x+' === "boolean"'},array:function(x){return"Array.isArray("+x+")"},object:function(x){return"typeof "+x+' === "object" && '+x+" && !Array.isArray("+x+")"},number:function(x){return"typeof "+x+' === "number" && isFinite('+x+")"},integer:function(x){return"typeof "+x+' === "number" && (Math.floor('+x+") === "+x+" || "+x+" > 9007199254740992 || "+x+" < -9007199254740992)"},string:function(x){return"typeof "+x+' === "string"'}},N=function(x,T){T=Math.min(-1===T?x.length:T,x.length);for(var S=[],C=0;C<T;C++)S.push("object"==typeof x[C]?JSON.stringify(x[C]):x[C]);for(C=1;C<S.length;C++)if(S.indexOf(S[C])!==C)return!1;return!0},w=function(x,T){var C=(0|T)!==T?Math.pow(10,T.toString().split(".").pop().length):1;return!(C>1?((0|x)!==x?Math.pow(10,x.toString().split(".").pop().length):1)>C||Math.round(C*x)%(C*T):x%T)},O=function(x,T,S){return S>-1&&T.length>S||x.test(T)},E=function(x,T,S,C,_){var v=_?L(U,_.formats):U,d={unique:N,formats:v,isMultipleOf:w,testLimitedRegex:O},a=!!_&&!!_.verbose,p=!(!_||void 0===_.greedy)&&_.greedy,h={},H=[],ae=function(se){var ce=se+(h[se]=(h[se]||0)+1);return H.push(ce),ce},we=function(se){var ce=JSON.stringify(se);try{for(var Oe=/\[([^\[\]"]+)\]/;Oe.test(ce);)ce=ce.replace(Oe,We);return ce}catch{return JSON.stringify(se)}function We(tt,Pe){if(-1===H.indexOf(Pe))throw new Error("Unreplaceable");return'." + '+Pe+' + "'}},Ee={},B=function(se){if(Ee[se])return Ee[se];var ce=ae("pattern");return d[ce]=new RegExp(se),Ee[se]=ce,ce},ne=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],Q=function(){var se=ne.shift();return ne.push(se+se[0]),H.push(se),se},te=function(se,ce,Oe,We,tt){var Pe=ce.properties,De=ce.type,pe=!1;Array.isArray(ce.items)&&(Pe={},ce.items.forEach(function(Pt,ht){Pe[ht]=Pt}),De="array",pe=!0);var ve=0,ke=function(Pt,ht,xt){X("errors++"),!0===Oe&&(X("if (validate.errors === null) validate.errors = []"),a?X("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",we(ht||se),JSON.stringify(Pt),xt||se,JSON.stringify(De),JSON.stringify(tt)):X("validate.errors.push({field:%s,message:%s})",we(ht||se),JSON.stringify(Pt)))};!0===ce.required?(ve++,X("if (%s === undefined) {",se),ke("is required"),X("} else {")):(ve++,X("if (%s !== undefined) {",se));var Ge=[].concat(De).map(function(Pt){if(Pt&&!V.hasOwnProperty(Pt))throw new Error("Unknown type: "+Pt);return V[Pt||"any"](se)}).join(" || ")||"true";if("true"!==Ge&&(ve++,X("if (!(%s)) {",Ge),ke("is the wrong type"),X("} else {")),pe)if(!1===ce.additionalItems)X("if (%s.length > %d) {",se,ce.items.length),ke("has additional items"),X("}");else if(ce.additionalItems){var it=Q();X("for (var %s = %d; %s < %s.length; %s++) {",it,ce.items.length,it,se,it),te(se+"["+it+"]",ce.additionalItems,Oe,We,tt.concat("additionalItems")),X("}")}if(ce.format&&v[ce.format]){"string"!==De&&U[ce.format]&&X("if (%s) {",V.string(se));var _t=ae("format");d[_t]=v[ce.format],"function"==typeof d[_t]?X("if (!%s(%s)) {",_t,se):X("if (!testLimitedRegex(%s, %s, %d)) {",_t,se,void 0===ce.maxLength?-1:ce.maxLength),ke("must be "+ce.format+" format"),X("}"),"string"!==De&&U[ce.format]&&X("}")}if(Array.isArray(ce.required)&&(_t=ae("missing"),X("var %s = 0",_t),X("if ((%s)) {","object"!==De?V.object(se):"true"),ce.required.map(function(ht){var xt=i(se,ht);X("if (%s === undefined) {",xt),ke("is required",xt),X("%s++",_t),X("}")}),X("}"),p||(X("if (%s === 0) {",_t),ve++)),ce.uniqueItems&&("array"!==De&&X("if (%s) {",V.array(se)),X("if (!(unique(%s, %d))) {",se,ce.maxItems||-1),ke("must be unique"),X("}"),"array"!==De&&X("}")),ce.enum){var Et=ce.enum.some(function(Pt){return"object"==typeof Pt});X("if (%s) {",ce.enum.map(Et?function(Pt){return"JSON.stringify("+se+") !== JSON.stringify("+JSON.stringify(Pt)+")"}:function(Pt){return se+" !== "+JSON.stringify(Pt)}).join(" && ")||"false"),ke("must be an enum value"),X("}")}if(ce.dependencies&&("object"!==De&&X("if (%s) {",V.object(se)),Object.keys(ce.dependencies).forEach(function(Pt){var ht=ce.dependencies[Pt];"string"==typeof ht&&(ht=[ht]),Array.isArray(ht)&&(X("if (%s !== undefined && !(%s)) {",i(se,Pt),ht.map(function(sr){return i(se,sr)+" !== undefined"}).join(" && ")||"true"),ke("dependencies not set"),X("}")),"object"==typeof ht&&(X("if (%s !== undefined) {",i(se,Pt)),te(se,ht,Oe,We,tt.concat(["dependencies",Pt])),X("}"))}),"object"!==De&&X("}")),ce.additionalProperties||!1===ce.additionalProperties){"object"!==De&&X("if (%s) {",V.object(se)),it=Q();var Nt=ae("keys"),Sn=Object.keys(Pe||{}).map(function(ht){return Nt+"["+it+"] !== "+JSON.stringify(ht)}).concat(Object.keys(ce.patternProperties||{}).map(function(ht){return"!"+B(ht)+".test("+Nt+"["+it+"])"})).join(" && ")||"true";X("var %s = Object.keys(%s)",Nt,se)("for (var %s = 0; %s < %s.length; %s++) {",it,it,Nt,it)("if (%s) {",Sn),!1===ce.additionalProperties?(We&&X("delete %s",se+"["+Nt+"["+it+"]]"),ke("has additional properties",null,JSON.stringify(se+".")+" + "+Nt+"["+it+"]")):te(se+"["+Nt+"["+it+"]]",ce.additionalProperties,Oe,We,tt.concat(["additionalProperties"])),X("}")("}"),"object"!==De&&X("}")}if(ce.$ref){var In=function(x,T,S){var C=function(h){return h&&h.id===S?h:"object"==typeof h&&h?Object.keys(h).reduce(function(H,ae){return H||C(h[ae])},null):null},_=C(x);if(_)return _;S=(S=S.replace(/^#/,"")).replace(/\/$/,"");try{return D.get(x,decodeURI(S))}catch{var d,v=S.indexOf("#");if(0!==v)if(-1===v)d=T[S];else{d=T[S.slice(0,v)];var p=S.slice(v).replace(/^#/,"");try{return D.get(d,p)}catch{}}else d=T[S];return d||null}}(S,_&&_.schemas||{},ce.$ref);if(In){var Mn=T[ce.$ref];Mn||(T[ce.$ref]=function(xt){return Mn(xt)},Mn=E(In,T,S,!1,_)),_t=ae("ref"),d[_t]=Mn,X("if (!(%s(%s))) {",_t,se),ke("referenced schema does not match"),X("}")}}if(ce.not){var qt=ae("prev");X("var %s = errors",qt),te(se,ce.not,!1,We,tt.concat("not")),X("if (%s === errors) {",qt),ke("negative schema matches"),X("} else {")("errors = %s",qt)("}")}if(ce.items&&!pe&&("array"!==De&&X("if (%s) {",V.array(se)),it=Q(),X("for (var %s = 0; %s < %s.length; %s++) {",it,it,se,it),te(se+"["+it+"]",ce.items,Oe,We,tt.concat("items")),X("}"),"array"!==De&&X("}")),ce.patternProperties&&("object"!==De&&X("if (%s) {",V.object(se)),Nt=ae("keys"),it=Q(),X("var %s = Object.keys(%s)",Nt,se)("for (var %s = 0; %s < %s.length; %s++) {",it,it,Nt,it),Object.keys(ce.patternProperties).forEach(function(xt){var sr=B(xt);X("if (%s.test(%s)) {",sr,Nt+"["+it+"]"),te(se+"["+Nt+"["+it+"]]",ce.patternProperties[xt],Oe,We,tt.concat(["patternProperties",xt])),X("}")}),X("}"),"object"!==De&&X("}")),ce.pattern){var Nn=B(ce.pattern);"string"!==De&&X("if (%s) {",V.string(se)),X("if (!(testLimitedRegex(%s, %s, %d))) {",Nn,se,void 0===ce.maxLength?-1:ce.maxLength),ke("pattern mismatch"),X("}"),"string"!==De&&X("}")}if(ce.allOf&&ce.allOf.forEach(function(Pt,ht){te(se,Pt,Oe,We,tt.concat(["allOf",ht]))}),ce.anyOf&&ce.anyOf.length&&(qt=ae("prev"),ce.anyOf.forEach(function(ht,xt){0===xt?X("var %s = errors",qt):X("if (errors !== %s) {",qt)("errors = %s",qt),te(se,ht,!1,!1,tt)}),ce.anyOf.forEach(function(ht,xt){xt&&X("}")}),X("if (%s !== errors) {",qt),ke("no schemas match"),X("}")),ce.oneOf&&ce.oneOf.length){qt=ae("prev");var ze=ae("passes");X("var %s = errors",qt)("var %s = 0",ze),ce.oneOf.forEach(function(ht,xt){te(se,ht,!1,!1,tt),X("if (%s === errors) {",qt)("%s++",ze)("} else {")("errors = %s",qt)("}")}),X("if (%s !== 1) {",ze),ke("no (or more than one) schemas match"),X("}")}for(void 0!==ce.multipleOf&&("number"!==De&&"integer"!==De&&X("if (%s) {",V.number(se)),X("if (!isMultipleOf(%s, %d)) {",se,ce.multipleOf),ke("has a remainder"),X("}"),"number"!==De&&"integer"!==De&&X("}")),void 0!==ce.maxProperties&&("object"!==De&&X("if (%s) {",V.object(se)),X("if (Object.keys(%s).length > %d) {",se,ce.maxProperties),ke("has more properties than allowed"),X("}"),"object"!==De&&X("}")),void 0!==ce.minProperties&&("object"!==De&&X("if (%s) {",V.object(se)),X("if (Object.keys(%s).length < %d) {",se,ce.minProperties),ke("has less properties than allowed"),X("}"),"object"!==De&&X("}")),void 0!==ce.maxItems&&("array"!==De&&X("if (%s) {",V.array(se)),X("if (%s.length > %d) {",se,ce.maxItems),ke("has more items than allowed"),X("}"),"array"!==De&&X("}")),void 0!==ce.minItems&&("array"!==De&&X("if (%s) {",V.array(se)),X("if (%s.length < %d) {",se,ce.minItems),ke("has less items than allowed"),X("}"),"array"!==De&&X("}")),void 0!==ce.maxLength&&("string"!==De&&X("if (%s) {",V.string(se)),X("if (%s.length > %d) {",se,ce.maxLength),ke("has longer length than allowed"),X("}"),"string"!==De&&X("}")),void 0!==ce.minLength&&("string"!==De&&X("if (%s) {",V.string(se)),X("if (%s.length < %d) {",se,ce.minLength),ke("has less length than allowed"),X("}"),"string"!==De&&X("}")),void 0!==ce.minimum&&("number"!==De&&"integer"!==De&&X("if (%s) {",V.number(se)),X("if (%s %s %d) {",se,ce.exclusiveMinimum?"<=":"<",ce.minimum),ke("is less than minimum"),X("}"),"number"!==De&&"integer"!==De&&X("}")),void 0!==ce.maximum&&("number"!==De&&"integer"!==De&&X("if (%s) {",V.number(se)),X("if (%s %s %d) {",se,ce.exclusiveMaximum?">=":">",ce.maximum),ke("is more than maximum"),X("}"),"number"!==De&&"integer"!==De&&X("}")),Pe&&Object.keys(Pe).forEach(function(Pt){Array.isArray(De)&&-1!==De.indexOf("null")&&X("if (%s !== null) {",se),te(i(se,Pt),Pe[Pt],Oe,We,tt.concat(pe?Pt:["properties",Pt])),Array.isArray(De)&&-1!==De.indexOf("null")&&X("}")});ve--;)X("}")},X=u("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return te("data",x,C,_&&_.filter,[]),X("return errors === 0")("}"),(X=X.toFunction(d)).errors=null,Object.defineProperty&&Object.defineProperty(X,"error",{get:function(){return X.errors?X.errors.map(function(se){return se.field+" "+se.message}).join("\n"):""}}),X.toJSON=function(){return x},X};fe.exports=function(x,T){return"string"==typeof x&&(x=JSON.parse(x)),E(x,{},x,!0,T)},fe.exports.filter=function(x,T){var S=fe.exports(x,L(T,{filter:!0}));return function(C){return S(C),C}}},7549:fe=>{fe.exports=function(c){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(c)}},2342:(fe,W,c)=>{var D,L,U,k,i=c(5834),u=c(6259)();if(u){D=i("Object.prototype.hasOwnProperty"),L=i("RegExp.prototype.exec"),U={};var V=function(){throw U};k={toString:V,valueOf:V},"symbol"==typeof Symbol.toPrimitive&&(k[Symbol.toPrimitive]=V)}var N=i("Object.prototype.toString"),w=Object.getOwnPropertyDescriptor;fe.exports=u?function(x){if(!x||"object"!=typeof x)return!1;var T=w(x,"lastIndex");if(!T||!D(T,"value"))return!1;try{L(x,k)}catch(C){return C===U}}:function(x){return!(!x||"object"!=typeof x&&"function"!=typeof x)&&"[object RegExp]"===N(x)}},597:(fe,W,c)=>{var i=c(9076),u=c(7029),D=c(5834),L=D("Object.prototype.toString"),U=c(6259)(),k="undefined"==typeof globalThis?global:globalThis,V=u(),N=D("Array.prototype.indexOf",!0)||function(C,_){for(var v=0;v<C.length;v+=1)if(C[v]===_)return v;return-1},w=D("String.prototype.slice"),O={},E=c(8555),x=Object.getPrototypeOf;U&&E&&x&&i(V,function(S){var C=new k[S];if(Symbol.toStringTag in C){var _=x(C),v=E(_,Symbol.toStringTag);if(!v){var d=x(_);v=E(d,Symbol.toStringTag)}O[S]=v.get}}),fe.exports=function(C){if(!C||"object"!=typeof C)return!1;if(!U||!(Symbol.toStringTag in C)){var _=w(L(C),8,-1);return N(V,_)>-1}return!!E&&function(C){var _=!1;return i(O,function(v,d){if(!_)try{_=v.call(C)===d}catch{}}),_}(C)}},6936:(fe,W)=>{var c=/~/,i=/~[01]/g;function u(w){switch(w){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+w)}function D(w){return c.test(w)?w.replace(i,u):w}function U(w){if("string"==typeof w){if(""===(w=w.split("/"))[0])return w;throw new Error("Invalid JSON pointer.")}if(Array.isArray(w)){for(const O of w)if("string"!=typeof O&&"number"!=typeof O)throw new Error("Invalid JSON pointer. Must be of type string or number.");return w}throw new Error("Invalid JSON pointer.")}function k(w,O){if("object"!=typeof w)throw new Error("Invalid input object.");var E=(O=U(O)).length;if(1===E)return w;for(var x=1;x<E;){if(w=w[D(O[x++])],E===x)return w;if("object"!=typeof w)return}}function V(w,O,E){if("object"!=typeof w)throw new Error("Invalid input object.");if(0===(O=U(O)).length)throw new Error("Invalid JSON pointer for set.");return function(w,O,E){for(var x,T,S=1,C=O.length;S<C;){if("constructor"===O[S]||"prototype"===O[S]||"__proto__"===O[S])return w;if(x=D(O[S++]),T=C>S,void 0===w[x]&&(Array.isArray(w)&&"-"===x&&(x=w.length),T&&(w[x]=""!==O[S]&&O[S]<1/0||"-"===O[S]?[]:{})),!T)break;w=w[x]}var _=w[x];return void 0===E?delete w[x]:w[x]=E,_}(w,O,E)}W.get=k,W.set=V,W.compile=function(w){var O=U(w);return{get:function(E){return k(E,O)},set:function(E,x){return V(E,O,x)}}}},9790:(fe,W,c)=>{function i(B){return B&&"object"==typeof B&&"default"in B?B.default:B}var u=i(c(8309)),D=i(c(6952)),L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},U=Object.assign||function(B){for(var ne=1;ne<arguments.length;ne++){var Q=arguments[ne];for(var te in Q)Object.prototype.hasOwnProperty.call(Q,te)&&(B[te]=Q[te])}return B},O=function(B,ne){Object.keys(B).forEach(function(Q){ne(B[Q],Q)})},x=function(B){return!!("undefined"!=typeof Uint8Array&&B instanceof Uint8Array||B&&B.$Uint8ArrayPolyfill)},T_each=O,S=function(ne){return Array.isArray(ne)&&!x(ne)},C=function(ne){return S(ne)||d(ne)},v=function(ne){return/^[0-9]+$/.test(ne)},d=function(B){return!(!B||"number"==typeof B||"string"==typeof B||"boolean"==typeof B||S(B)||null===B||B instanceof RegExp||"function"==typeof B||B instanceof Date||x(B))},a=function(B){var ne=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof B&&ne.field&&(B+=" for field '"+ne.field+"'");var Q=new Error(B);return Q.name="ModifyJsError",Q},p_each=O,H=function(ne,Q,te){if(te=te||{},!d(Q))throw a("Modifier must be an object");var se,X=function(ne,Q){if(!d(ne))return!1;var te=void 0;return T_each(ne,function(X,se){var ce="$"===se.substr(0,1);if(void 0===te)te=ce;else if(te!==ce)throw new Error("Inconsistent operator: "+JSON.stringify(ne))}),!!te}(Q=u(Q));if(X?(se=u(ne),p_each(Q,function(ce,Oe){var We=Ee[Oe];if(!We)throw a("Invalid modifier specified "+Oe);p_each(ce,function(tt,Pe){if(""===Pe)throw a("An empty update path is not valid.");var De=Pe.split(".");if(!function(B,ne){return B.every(function(Q){return ne&&ne(Q)||Q})}(De))throw a("The update path '"+Pe+"' contains an empty field name, which is not allowed.");var pe=ae(se,De,{noCreate:we[Oe],forbidArray:"$rename"===Oe,arrayIndices:te.arrayIndices}),ve=De.pop();We(pe,ve,tt,Pe,se)})})):se=Q,te.returnInsteadOfReplacing)return se;p_each(Object.keys(ne),function(ce){"_id"!==ce&&delete ne[ce]}),p_each(se,function(ce,Oe){ne[Oe]=ce})},ae=function(ne,Q,te){te=te||{};for(var X=!1,se=0;se<Q.length;se++){var ce=se===Q.length-1,Oe=Q[se];if(!C(ne)){if(te.noCreate)return;var tt=a("cannot use the part '"+Oe+"' to traverse "+ne);throw tt.setPropertyError=!0,tt}if(ne instanceof Array){if(te.forbidArray)return null;if("$"===Oe){if(X)throw a("Too many positional (i.e. '$') elements");if(!te.arrayIndices||!te.arrayIndices.length)throw a("The positional operator did not find the match needed from the query");Oe=te.arrayIndices[0],X=!0}else{if(!v(Oe)){if(te.noCreate)return;throw a("can't append to array using string field name ["+Oe+"]")}Oe=parseInt(Oe)}if(ce&&(Q[se]=Oe),te.noCreate&&Oe>=ne.length)return;for(;ne.length<Oe;)ne.push(null);if(!ce)if(ne.length===Oe)ne.push({});else if("object"!==L(ne[Oe]))throw a("can't modify field '"+Q[se+1]+"' of list value "+JSON.stringify(ne[Oe]))}else if(!(Oe in ne)){if(te.noCreate)return;ce||(ne[Oe]={})}if(ce)return ne;ne=ne[Oe]}},we={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},Ee={$currentDate:function(ne,Q,te){if("object"===(void 0===te?"undefined":L(te))&&te.hasOwnProperty("$type")){if("date"!==te.$type)throw a("Minimongo does currently only support the date type in $currentDate modifiers",{field:Q})}else if(!0!==te)throw a("Invalid $currentDate modifier",{field:Q});ne[Q]=new Date},$min:function(ne,Q,te){if("number"!=typeof te)throw a("Modifier $min allowed for numbers only",{field:Q});if(Q in ne){if("number"!=typeof ne[Q])throw a("Cannot apply $min modifier to non-number",{field:Q});ne[Q]>te&&(ne[Q]=te)}else ne[Q]=te},$max:function(ne,Q,te){if("number"!=typeof te)throw a("Modifier $max allowed for numbers only",{field:Q});if(Q in ne){if("number"!=typeof ne[Q])throw a("Cannot apply $max modifier to non-number",{field:Q});ne[Q]<te&&(ne[Q]=te)}else ne[Q]=te},$inc:function(ne,Q,te){if("number"!=typeof te)throw a("Modifier $inc allowed for numbers only",{field:Q});if(Q in ne){if("number"!=typeof ne[Q])throw a("Cannot apply $inc modifier to non-number",{field:Q});ne[Q]+=te}else ne[Q]=te},$set:function(ne,Q,te){var X,B;if("object"!==(void 0===(B=ne)?"undefined":L(B))||null===B)throw(X=a("Cannot set property on non-object field",{field:Q})).setPropertyError=!0,X;if(null===ne)throw(X=a("Cannot set property on null",{field:Q})).setPropertyError=!0,X;ne[Q]=te},$setOnInsert:function(ne,Q,te){},$unset:function(ne,Q,te){void 0!==ne&&(ne instanceof Array?Q in ne&&(ne[Q]=null):delete ne[Q])},$push:function(ne,Q,te){if(void 0===ne[Q]&&(ne[Q]=[]),!(ne[Q]instanceof Array))throw a("Cannot apply $push modifier to non-array",{field:Q});if(te&&te.$each){var X=te.$each;if(!(X instanceof Array))throw a("$each must be an array",{field:Q});var se=void 0;if("$position"in te){if("number"!=typeof te.$position)throw a("$position must be a numeric value",{field:Q});if(te.$position<0)throw a("$position in $push must be zero or positive",{field:Q});se=te.$position}var ce=void 0;if("$slice"in te){if("number"!=typeof te.$slice)throw a("$slice must be a numeric value",{field:Q});if(te.$slice>0)throw a("$slice in $push must be zero or negative",{field:Q});ce=te.$slice}if(te.$sort)throw a("$sort in $push not implemented yet");if(void 0===se)for(var We=0;We<X.length;We++)ne[Q].push(X[We]);else{var tt=[se,0];for(We=0;We<X.length;We++)tt.push(X[We]);Array.prototype.splice.apply(ne[Q],tt)}void 0!==ce&&(ne[Q]=0===ce?[]:ne[Q].slice(ce))}else ne[Q].push(te)},$pushAll:function(ne,Q,te){if(!("object"===(void 0===te?"undefined":L(te))&&te instanceof Array))throw a("Modifier $pushAll/pullAll allowed for arrays only");var X=ne[Q];if(void 0===X)ne[Q]=te;else{if(!(X instanceof Array))throw a("Cannot apply $pushAll modifier to non-array",{field:Q});for(var se=0;se<te.length;se++)X.push(te[se])}},$addToSet:function(ne,Q,te){var X=!1;"object"===(void 0===te?"undefined":L(te))&&"$each"===Object.keys(te)[0]&&(X=!0);var ce=X?te.$each:[te],Oe=ne[Q];if(void 0===Oe)ne[Q]=ce;else{if(!(Oe instanceof Array))throw a("Cannot apply $addToSet modifier to non-array",{field:Q});p_each(ce,function(We){for(var tt=0;tt<Oe.length;tt++)if(D(We,Oe[tt]))return;Oe.push(We)})}},$pop:function(ne,Q,te){if(void 0!==ne){var X=ne[Q];if(void 0!==X){if(!(X instanceof Array))throw a("Cannot apply $pop modifier to non-array",{field:Q});"number"==typeof te&&te<0?X.splice(0,1):X.pop()}}},$pull:function(ne,Q,te){if(void 0!==ne){var X=ne[Q];if(void 0!==X)throw X instanceof Array?a("$pull not implemented yet"):a("Cannot apply $pull/pullAll modifier to non-array",{field:Q})}},$pullAll:function(ne,Q,te){if(!("object"===(void 0===te?"undefined":L(te))&&te instanceof Array))throw a("Modifier $pushAll/pullAll allowed for arrays only",{field:Q});if(void 0!==ne){var X=ne[Q];if(void 0!==X){if(!(X instanceof Array))throw a("Cannot apply $pull/pullAll modifier to non-array",{field:Q});for(var se=[],ce=0;ce<X.length;ce++){for(var Oe=!1,We=0;We<te.length;We++)if(D(X[ce],te[We])){Oe=!0;break}Oe||se.push(X[ce])}ne[Q]=se}}},$rename:function(ne,Q,te,X,se){if(X===te)throw a("$rename source must differ from target",{field:Q});if(null===ne)throw a("$rename source field invalid",{field:Q});if("string"!=typeof te)throw a("$rename target must be a string",{field:Q});if(te.indexOf("\0")>-1)throw a("The 'to' field for $rename cannot contain an embedded null byte",{field:Q});if(void 0!==ne){var ce=ne[Q];delete ne[Q];var Oe=te.split("."),We=ae(se,Oe,{forbidArray:!0});if(null===We)throw a("$rename target field invalid",{field:Q});We[Oe.pop()]=ce}},$bit:function(ne,Q,te){throw a("$bit is not supported",{field:Q})}};fe.exports=function(B,ne,Q){if(!Q||!Q.each)return H(B,ne,U({},Q,{returnInsteadOfReplacing:!0}))}},8309:fe=>{var W=function(){"use strict";function c(O,E){return null!=E&&O instanceof E}var i,u,D;try{i=Map}catch{i=function(){}}try{u=Set}catch{u=function(){}}try{D=Promise}catch{D=function(){}}function L(O,E,x,T,S){"object"==typeof E&&(x=E.depth,T=E.prototype,S=E.includeNonEnumerable,E=E.circular);var C=[],_=[],v="undefined"!=typeof Buffer;return void 0===E&&(E=!0),void 0===x&&(x=1/0),function d(a,p){if(null===a)return null;if(0===p)return a;var h,H;if("object"!=typeof a)return a;if(c(a,i))h=new i;else if(c(a,u))h=new u;else if(c(a,D))h=new D(function(se,ce){a.then(function(Oe){se(d(Oe,p-1))},function(Oe){ce(d(Oe,p-1))})});else if(L.__isArray(a))h=[];else if(L.__isRegExp(a))h=new RegExp(a.source,w(a)),a.lastIndex&&(h.lastIndex=a.lastIndex);else if(L.__isDate(a))h=new Date(a.getTime());else{if(v&&Buffer.isBuffer(a))return h=Buffer.allocUnsafe?Buffer.allocUnsafe(a.length):new Buffer(a.length),a.copy(h),h;c(a,Error)?h=Object.create(a):void 0===T?(H=Object.getPrototypeOf(a),h=Object.create(H)):(h=Object.create(T),H=T)}if(E){var ae=C.indexOf(a);if(-1!=ae)return _[ae];C.push(a),_.push(h)}for(var we in c(a,i)&&a.forEach(function(se,ce){var Oe=d(ce,p-1),We=d(se,p-1);h.set(Oe,We)}),c(a,u)&&a.forEach(function(se){var ce=d(se,p-1);h.add(ce)}),a){var Ee;H&&(Ee=Object.getOwnPropertyDescriptor(H,we)),(!Ee||null!=Ee.set)&&(h[we]=d(a[we],p-1))}if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(a);for(we=0;we<B.length;we++){var ne=B[we];(Q=Object.getOwnPropertyDescriptor(a,ne))&&!Q.enumerable&&!S||(h[ne]=d(a[ne],p-1),Q.enumerable||Object.defineProperty(h,ne,{enumerable:!1}))}}if(S){var te=Object.getOwnPropertyNames(a);for(we=0;we<te.length;we++){var Q,X=te[we];(Q=Object.getOwnPropertyDescriptor(a,X))&&Q.enumerable||(h[X]=d(a[X],p-1),Object.defineProperty(h,X,{enumerable:!1}))}}return h}(O,x)}function U(O){return Object.prototype.toString.call(O)}function w(O){var E="";return O.global&&(E+="g"),O.ignoreCase&&(E+="i"),O.multiline&&(E+="m"),E}return L.clonePrototype=function(E){if(null===E)return null;var x=function(){};return x.prototype=E,new x},L.__objToStr=U,L.__isDate=function(O){return"object"==typeof O&&"[object Date]"===U(O)},L.__isArray=function(O){return"object"==typeof O&&"[object Array]"===U(O)},L.__isRegExp=function(O){return"object"==typeof O&&"[object RegExp]"===U(O)},L.__getRegExpFlags=w,L}();fe.exports&&(fe.exports=W)},1175:fe=>{var W=function(c){return c!=c};fe.exports=function(i,u){return 0===i&&0===u?1/i==1/u:!!(i===u||W(i)&&W(u))}},2e3:(fe,W,c)=>{var i=c(2358),u=c(5685),D=c(1175),L=c(6305),U=c(3859),k=u(L(),Object);i(k,{getPolyfill:L,implementation:D,shim:U}),fe.exports=k},6305:(fe,W,c)=>{var i=c(1175);fe.exports=function(){return"function"==typeof Object.is?Object.is:i}},3859:(fe,W,c)=>{var i=c(6305),u=c(2358);fe.exports=function(){var L=i();return u(Object,{is:L},{is:function(){return Object.is!==L}}),L}},2450:(fe,W,c)=>{var i;if(!Object.keys){var u=Object.prototype.hasOwnProperty,D=Object.prototype.toString,L=c(9978),U=Object.prototype.propertyIsEnumerable,k=!U.call({toString:null},"toString"),V=U.call(function(){},"prototype"),N=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],w=function(T){var S=T.constructor;return S&&S.prototype===T},O={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},E=function(){if("undefined"==typeof window)return!1;for(var T in window)try{if(!O["$"+T]&&u.call(window,T)&&null!==window[T]&&"object"==typeof window[T])try{w(window[T])}catch{return!0}}catch{return!0}return!1}();i=function(S){var C=null!==S&&"object"==typeof S,_="[object Function]"===D.call(S),v=L(S),d=C&&"[object String]"===D.call(S),a=[];if(!C&&!_&&!v)throw new TypeError("Object.keys called on a non-object");var p=V&&_;if(d&&S.length>0&&!u.call(S,0))for(var h=0;h<S.length;++h)a.push(String(h));if(v&&S.length>0)for(var H=0;H<S.length;++H)a.push(String(H));else for(var ae in S)(!p||"prototype"!==ae)&&u.call(S,ae)&&a.push(String(ae));if(k)for(var we=function(T){if("undefined"==typeof window||!E)return w(T);try{return w(T)}catch{return!1}}(S),Ee=0;Ee<N.length;++Ee)(!we||"constructor"!==N[Ee])&&u.call(S,N[Ee])&&a.push(N[Ee]);return a}}fe.exports=i},1356:(fe,W,c)=>{var i=Array.prototype.slice,u=c(9978),D=Object.keys,L=D?function(V){return D(V)}:c(2450),U=Object.keys;L.shim=function(){if(Object.keys){var V=function(){var N=Object.keys(arguments);return N&&N.length===arguments.length}(1,2);V||(Object.keys=function(w){return u(w)?U(i.call(w)):U(w)})}else Object.keys=L;return Object.keys||L},fe.exports=L},9978:fe=>{var W=Object.prototype.toString;fe.exports=function(i){var u=W.call(i),D="[object Arguments]"===u;return D||(D="[object Array]"!==u&&null!==i&&"object"==typeof i&&"number"==typeof i.length&&i.length>=0&&"[object Function]"===W.call(i.callee)),D}},8624:function(fe,W){var c,i,u;!function(D,L){"use strict";"object"==typeof fe.exports?fe.exports=L():(i=[],void 0!==(u="function"==typeof(c=L)?c.apply(W,i):c)&&(fe.exports=u))}(0,function(){"use strict";var D=Object.prototype.toString;function L(T,S){return null!=T&&Object.prototype.hasOwnProperty.call(T,S)}function U(T){if(!T||N(T)&&0===T.length)return!0;if("string"!=typeof T){for(var S in T)if(L(T,S))return!1;return!0}return!1}function k(T){return D.call(T)}var N=Array.isArray||function(T){return"[object Array]"===D.call(T)};function O(T){var S=parseInt(T);return S.toString()===T?S:T}function E(T){var C,v,S=function(a){return Object.keys(S).reduce(function(p,h){return"create"===h||"function"==typeof S[h]&&(p[h]=S[h].bind(S,a)),p},{})};function _(a,p){if(C(a,p))return a[p]}function d(a,p,h,H){if("number"==typeof p&&(p=[p]),!p||0===p.length)return a;if("string"==typeof p)return d(a,p.split(".").map(O),h,H);var ae=p[0],we=v(a,ae);return 1===p.length?((void 0===we||!H)&&(a[ae]=h),we):(void 0===we&&(a[ae]="number"==typeof p[1]?[]:{}),d(a[ae],p.slice(1),h,H))}return C=(T=T||{}).includeInheritedProps?function(){return!0}:function(a,p){return"number"==typeof p&&Array.isArray(a)||L(a,p)},v=T.includeInheritedProps?function(a,p){"string"!=typeof p&&"number"!=typeof p&&(p=String(p));var h=_(a,p);if("__proto__"===p||"prototype"===p||"constructor"===p&&"function"==typeof h)throw new Error("For security reasons, object's magic properties cannot be set");return h}:function(a,p){return _(a,p)},S.has=function(a,p){if("number"==typeof p?p=[p]:"string"==typeof p&&(p=p.split(".")),!p||0===p.length)return!!a;for(var h=0;h<p.length;h++){var H=O(p[h]);if(!("number"==typeof H&&N(a)&&H<a.length||(T.includeInheritedProps?H in Object(a):L(a,H))))return!1;a=a[H]}return!0},S.ensureExists=function(a,p,h){return d(a,p,h,!0)},S.set=function(a,p,h,H){return d(a,p,h,H)},S.insert=function(a,p,h,H){var ae=S.get(a,p);H=~~H,N(ae)||S.set(a,p,ae=[]),ae.splice(H,0,h)},S.empty=function(a,p){var h,H;if(!U(p)&&null!=a&&(h=S.get(a,p))){if("string"==typeof h)return S.set(a,p,"");if(function(T){return"boolean"==typeof T||"[object Boolean]"===k(T)}(h))return S.set(a,p,!1);if("number"==typeof h)return S.set(a,p,0);if(N(h))h.length=0;else{if(!function(T){return"object"==typeof T&&"[object Object]"===k(T)}(h))return S.set(a,p,null);for(H in h)C(h,H)&&delete h[H]}}},S.push=function(a,p){var h=S.get(a,p);N(h)||S.set(a,p,h=[]),h.push.apply(h,Array.prototype.slice.call(arguments,2))},S.coalesce=function(a,p,h){for(var H,ae=0,we=p.length;ae<we;ae++)if(void 0!==(H=S.get(a,p[ae])))return H;return h},S.get=function(a,p,h){if("number"==typeof p&&(p=[p]),!p||0===p.length)return a;if(null==a)return h;if("string"==typeof p)return S.get(a,p.split("."),h);var H=O(p[0]),ae=v(a,H);return void 0===ae?h:1===p.length?ae:S.get(a[H],p.slice(1),h)},S.del=function(p,h){if("number"==typeof h&&(h=[h]),null==p||U(h))return p;if("string"==typeof h)return S.del(p,h.split("."));var H=O(h[0]);return v(p,H),C(p,H)?1!==h.length?S.del(p[H],h.slice(1)):(N(p)?p.splice(H,1):delete p[H],p):p},S}var x=E();return x.create=E,x.withInheritedProps=E({includeInheritedProps:!0}),x})},3625:fe=>{fe.exports=function(W){"use strict";var i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function D(_,v){var d=_[0],a=_[1],p=_[2],h=_[3];a=((a+=((p=((p+=((h=((h+=((d=((d+=(a&p|~a&h)+v[0]-680876936|0)<<7|d>>>25)+a|0)&a|~d&p)+v[1]-389564586|0)<<12|h>>>20)+d|0)&d|~h&a)+v[2]+606105819|0)<<17|p>>>15)+h|0)&h|~p&d)+v[3]-1044525330|0)<<22|a>>>10)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a&p|~a&h)+v[4]-176418897|0)<<7|d>>>25)+a|0)&a|~d&p)+v[5]+1200080426|0)<<12|h>>>20)+d|0)&d|~h&a)+v[6]-1473231341|0)<<17|p>>>15)+h|0)&h|~p&d)+v[7]-45705983|0)<<22|a>>>10)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a&p|~a&h)+v[8]+1770035416|0)<<7|d>>>25)+a|0)&a|~d&p)+v[9]-1958414417|0)<<12|h>>>20)+d|0)&d|~h&a)+v[10]-42063|0)<<17|p>>>15)+h|0)&h|~p&d)+v[11]-1990404162|0)<<22|a>>>10)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a&p|~a&h)+v[12]+1804603682|0)<<7|d>>>25)+a|0)&a|~d&p)+v[13]-40341101|0)<<12|h>>>20)+d|0)&d|~h&a)+v[14]-1502002290|0)<<17|p>>>15)+h|0)&h|~p&d)+v[15]+1236535329|0)<<22|a>>>10)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a&h|p&~h)+v[1]-165796510|0)<<5|d>>>27)+a|0)&p|a&~p)+v[6]-1069501632|0)<<9|h>>>23)+d|0)&a|d&~a)+v[11]+643717713|0)<<14|p>>>18)+h|0)&d|h&~d)+v[0]-373897302|0)<<20|a>>>12)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a&h|p&~h)+v[5]-701558691|0)<<5|d>>>27)+a|0)&p|a&~p)+v[10]+38016083|0)<<9|h>>>23)+d|0)&a|d&~a)+v[15]-660478335|0)<<14|p>>>18)+h|0)&d|h&~d)+v[4]-405537848|0)<<20|a>>>12)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a&h|p&~h)+v[9]+568446438|0)<<5|d>>>27)+a|0)&p|a&~p)+v[14]-1019803690|0)<<9|h>>>23)+d|0)&a|d&~a)+v[3]-187363961|0)<<14|p>>>18)+h|0)&d|h&~d)+v[8]+1163531501|0)<<20|a>>>12)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a&h|p&~h)+v[13]-1444681467|0)<<5|d>>>27)+a|0)&p|a&~p)+v[2]-51403784|0)<<9|h>>>23)+d|0)&a|d&~a)+v[7]+1735328473|0)<<14|p>>>18)+h|0)&d|h&~d)+v[12]-1926607734|0)<<20|a>>>12)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a^p^h)+v[5]-378558|0)<<4|d>>>28)+a|0)^a^p)+v[8]-2022574463|0)<<11|h>>>21)+d|0)^d^a)+v[11]+1839030562|0)<<16|p>>>16)+h|0)^h^d)+v[14]-35309556|0)<<23|a>>>9)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a^p^h)+v[1]-1530992060|0)<<4|d>>>28)+a|0)^a^p)+v[4]+1272893353|0)<<11|h>>>21)+d|0)^d^a)+v[7]-155497632|0)<<16|p>>>16)+h|0)^h^d)+v[10]-1094730640|0)<<23|a>>>9)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a^p^h)+v[13]+681279174|0)<<4|d>>>28)+a|0)^a^p)+v[0]-358537222|0)<<11|h>>>21)+d|0)^d^a)+v[3]-722521979|0)<<16|p>>>16)+h|0)^h^d)+v[6]+76029189|0)<<23|a>>>9)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a^p^h)+v[9]-640364487|0)<<4|d>>>28)+a|0)^a^p)+v[12]-421815835|0)<<11|h>>>21)+d|0)^d^a)+v[15]+530742520|0)<<16|p>>>16)+h|0)^h^d)+v[2]-995338651|0)<<23|a>>>9)+p|0,a=((a+=((h=((h+=(a^((d=((d+=(p^(a|~h))+v[0]-198630844|0)<<6|d>>>26)+a|0)|~p))+v[7]+1126891415|0)<<10|h>>>22)+d|0)^((p=((p+=(d^(h|~a))+v[14]-1416354905|0)<<15|p>>>17)+h|0)|~d))+v[5]-57434055|0)<<21|a>>>11)+p|0,a=((a+=((h=((h+=(a^((d=((d+=(p^(a|~h))+v[12]+1700485571|0)<<6|d>>>26)+a|0)|~p))+v[3]-1894986606|0)<<10|h>>>22)+d|0)^((p=((p+=(d^(h|~a))+v[10]-1051523|0)<<15|p>>>17)+h|0)|~d))+v[1]-2054922799|0)<<21|a>>>11)+p|0,a=((a+=((h=((h+=(a^((d=((d+=(p^(a|~h))+v[8]+1873313359|0)<<6|d>>>26)+a|0)|~p))+v[15]-30611744|0)<<10|h>>>22)+d|0)^((p=((p+=(d^(h|~a))+v[6]-1560198380|0)<<15|p>>>17)+h|0)|~d))+v[13]+1309151649|0)<<21|a>>>11)+p|0,a=((a+=((h=((h+=(a^((d=((d+=(p^(a|~h))+v[4]-145523070|0)<<6|d>>>26)+a|0)|~p))+v[11]-1120210379|0)<<10|h>>>22)+d|0)^((p=((p+=(d^(h|~a))+v[2]+718787259|0)<<15|p>>>17)+h|0)|~d))+v[9]-343485551|0)<<21|a>>>11)+p|0,_[0]=d+_[0]|0,_[1]=a+_[1]|0,_[2]=p+_[2]|0,_[3]=h+_[3]|0}function L(_){var d,v=[];for(d=0;d<64;d+=4)v[d>>2]=_.charCodeAt(d)+(_.charCodeAt(d+1)<<8)+(_.charCodeAt(d+2)<<16)+(_.charCodeAt(d+3)<<24);return v}function U(_){var d,v=[];for(d=0;d<64;d+=4)v[d>>2]=_[d]+(_[d+1]<<8)+(_[d+2]<<16)+(_[d+3]<<24);return v}function k(_){var a,p,h,H,ae,we,v=_.length,d=[1732584193,-271733879,-1732584194,271733878];for(a=64;a<=v;a+=64)D(d,L(_.substring(a-64,a)));for(p=(_=_.substring(a-64)).length,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<p;a+=1)h[a>>2]|=_.charCodeAt(a)<<(a%4<<3);if(h[a>>2]|=128<<(a%4<<3),a>55)for(D(d,h),a=0;a<16;a+=1)h[a]=0;return H=(H=8*v).toString(16).match(/(.*?)(.{0,8})$/),ae=parseInt(H[2],16),we=parseInt(H[1],16)||0,h[14]=ae,h[15]=we,D(d,h),d}function N(_){var d,v="";for(d=0;d<4;d+=1)v+=i[_>>8*d+4&15]+i[_>>8*d&15];return v}function w(_){var v;for(v=0;v<_.length;v+=1)_[v]=N(_[v]);return _.join("")}function O(_){return/[\u0080-\uFFFF]/.test(_)&&(_=unescape(encodeURIComponent(_))),_}function S(_){var a,v=[],d=_.length;for(a=0;a<d-1;a+=2)v.push(parseInt(_.substr(a,2),16));return String.fromCharCode.apply(String,v)}function C(){this.reset()}return w(k("hello")),"undefined"!=typeof ArrayBuffer&&!ArrayBuffer.prototype.slice&&function(){function _(v,d){return(v=0|v||0)<0?Math.max(v+d,0):Math.min(v,d)}ArrayBuffer.prototype.slice=function(v,d){var H,ae,we,Ee,a=this.byteLength,p=_(v,a),h=a;return undefined!==d&&(h=_(d,a)),p>h?new ArrayBuffer(0):(H=h-p,ae=new ArrayBuffer(H),we=new Uint8Array(ae),Ee=new Uint8Array(this,p,H),we.set(Ee),ae)}}(),C.prototype.append=function(_){return this.appendBinary(O(_)),this},C.prototype.appendBinary=function(_){this._buff+=_,this._length+=_.length;var d,v=this._buff.length;for(d=64;d<=v;d+=64)D(this._hash,L(this._buff.substring(d-64,d)));return this._buff=this._buff.substring(d-64),this},C.prototype.end=function(_){var a,h,v=this._buff,d=v.length,p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(a=0;a<d;a+=1)p[a>>2]|=v.charCodeAt(a)<<(a%4<<3);return this._finish(p,d),h=w(this._hash),_&&(h=S(h)),this.reset(),h},C.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},C.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},C.prototype.setState=function(_){return this._buff=_.buff,this._length=_.length,this._hash=_.hash,this},C.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},C.prototype._finish=function(_,v){var a,p,h,d=v;if(_[d>>2]|=128<<(d%4<<3),d>55)for(D(this._hash,_),d=0;d<16;d+=1)_[d]=0;a=(a=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),p=parseInt(a[2],16),h=parseInt(a[1],16)||0,_[14]=p,_[15]=h,D(this._hash,_)},C.hash=function(_,v){return C.hashBinary(O(_),v)},C.hashBinary=function(_,v){var a=w(k(_));return v?S(a):a},(C.ArrayBuffer=function(){this.reset()}).prototype.append=function(_){var a,v=function(_,v,d){var a=new Uint8Array(_.byteLength+v.byteLength);return a.set(new Uint8Array(_)),a.set(new Uint8Array(v),_.byteLength),d?a:a.buffer}(this._buff.buffer,_,!0),d=v.length;for(this._length+=_.byteLength,a=64;a<=d;a+=64)D(this._hash,U(v.subarray(a-64,a)));return this._buff=a-64<d?new Uint8Array(v.buffer.slice(a-64)):new Uint8Array(0),this},C.ArrayBuffer.prototype.end=function(_){var p,h,v=this._buff,d=v.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(p=0;p<d;p+=1)a[p>>2]|=v[p]<<(p%4<<3);return this._finish(a,d),h=w(this._hash),_&&(h=S(h)),this.reset(),h},C.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},C.ArrayBuffer.prototype.getState=function(){var _=C.prototype.getState.call(this);return _.buff=function(_){return String.fromCharCode.apply(null,new Uint8Array(_))}(_.buff),_},C.ArrayBuffer.prototype.setState=function(_){return _.buff=function(_,v){var h,d=_.length,a=new ArrayBuffer(d),p=new Uint8Array(a);for(h=0;h<d;h+=1)p[h]=_.charCodeAt(h);return v?p:a}(_.buff,!0),C.prototype.setState.call(this,_)},C.ArrayBuffer.prototype.destroy=C.prototype.destroy,C.ArrayBuffer.prototype._finish=C.prototype._finish,C.ArrayBuffer.hash=function(_,v){var a=w(function(_){var a,p,h,H,ae,we,v=_.length,d=[1732584193,-271733879,-1732584194,271733878];for(a=64;a<=v;a+=64)D(d,U(_.subarray(a-64,a)));for(p=(_=a-64<v?_.subarray(a-64):new Uint8Array(0)).length,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<p;a+=1)h[a>>2]|=_[a]<<(a%4<<3);if(h[a>>2]|=128<<(a%4<<3),a>55)for(D(d,h),a=0;a<16;a+=1)h[a]=0;return H=(H=8*v).toString(16).match(/(.*?)(.{0,8})$/),ae=parseInt(H[2],16),we=parseInt(H[1],16)||0,h[14]=ae,h[15]=we,D(d,h),d}(new Uint8Array(_)));return v?S(a):a},C}()},2302:(fe,W,c)=>{var u,D,i=[c(4703),c(3328),c(6139),c(5675),c(1767),c(3259)],L=-1,U=[],k=!1;function V(){!u||!D||(u=!1,D.length?U=D.concat(U):L=-1,U.length&&N())}function N(){if(!u){k=!1,u=!0;for(var S=U.length,C=setTimeout(V);S;){for(D=U,U=[];D&&++L<S;)D[L].run();L=-1,S=U.length}D=null,L=-1,u=!1,clearTimeout(C)}}for(var w,O=-1,E=i.length;++O<E;)if(i[O]&&i[O].test&&i[O].test()){w=i[O].install(N);break}function x(S,C){this.fun=S,this.array=C}x.prototype.run=function(){var S=this.fun,C=this.array;switch(C.length){case 0:return S();case 1:return S(C[0]);case 2:return S(C[0],C[1]);case 3:return S(C[0],C[1],C[2]);default:return S.apply(null,C)}},fe.exports=function(S){var C=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)C[_-1]=arguments[_];U.push(new x(S,C)),!k&&!u&&(k=!0,w())}},5675:(fe,W)=>{W.test=function(){return!global.setImmediate&&void 0!==global.MessageChannel},W.install=function(c){var i=new global.MessageChannel;return i.port1.onmessage=c,function(){i.port2.postMessage(0)}}},6139:(fe,W)=>{var c=global.MutationObserver||global.WebKitMutationObserver;W.test=function(){return c},W.install=function(i){var u=0,D=new c(i),L=global.document.createTextNode("");return D.observe(L,{characterData:!0}),function(){L.data=u=++u%2}}},3328:(fe,W)=>{W.test=function(){return"function"==typeof global.queueMicrotask},W.install=function(c){return function(){global.queueMicrotask(c)}}},1767:(fe,W)=>{W.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")},W.install=function(c){return function(){var i=global.document.createElement("script");return i.onreadystatechange=function(){c(),i.onreadystatechange=null,i.parentNode.removeChild(i),i=null},global.document.documentElement.appendChild(i),c}}},3259:(fe,W)=>{W.test=function(){return!0},W.install=function(c){return function(){setTimeout(c,0)}}},2448:(fe,W)=>{Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;const c=[];for(let D=0;D<256;++D)c.push((D+256).toString(16).substr(1));W.default=function(D,L){const U=L||0;return(c[D[U+0]]+c[D[U+1]]+c[D[U+2]]+c[D[U+3]]+"-"+c[D[U+4]]+c[D[U+5]]+"-"+c[D[U+6]]+c[D[U+7]]+"-"+c[D[U+8]]+c[D[U+9]]+"-"+c[D[U+10]]+c[D[U+11]]+c[D[U+12]]+c[D[U+13]]+c[D[U+14]]+c[D[U+15]]).toLowerCase()}},3306:(fe,W,c)=>{Object.defineProperty(W,"v1",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(W,"v3",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(W,"v4",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(W,"v5",{enumerable:!0,get:function(){return U.default}});var u=k(c(9110)),D=k(c(8693)),L=k(c(491)),U=k(c(8518));function k(V){return V&&V.__esModule?V:{default:V}}},872:(fe,W)=>{function u(T){return 14+(T+64>>>9<<4)+1}function U(T,S){const C=(65535&T)+(65535&S);return(T>>16)+(S>>16)+(C>>16)<<16|65535&C}function V(T,S,C,_,v,d){return U(function(T,S){return T<<S|T>>>32-S}(U(U(S,T),U(_,d)),v),C)}function N(T,S,C,_,v,d,a){return V(S&C|~S&_,T,S,v,d,a)}function w(T,S,C,_,v,d,a){return V(S&_|C&~_,T,S,v,d,a)}function O(T,S,C,_,v,d,a){return V(S^C^_,T,S,v,d,a)}function E(T,S,C,_,v,d,a){return V(C^(S|~_),T,S,v,d,a)}Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0,W.default=function(T){if("string"==typeof T){const S=unescape(encodeURIComponent(T));T=new Uint8Array(S.length);for(let C=0;C<S.length;++C)T[C]=S.charCodeAt(C)}return function(T){const S=[],C=32*T.length,_="0123456789abcdef";for(let v=0;v<C;v+=8){const d=T[v>>5]>>>v%32&255,a=parseInt(_.charAt(d>>>4&15)+_.charAt(15&d),16);S.push(a)}return S}(function(T,S){T[S>>5]|=128<<S%32,T[u(S)-1]=S;let C=1732584193,_=-271733879,v=-1732584194,d=271733878;for(let a=0;a<T.length;a+=16){const p=C,h=_,H=v,ae=d;C=N(C,_,v,d,T[a],7,-680876936),d=N(d,C,_,v,T[a+1],12,-389564586),v=N(v,d,C,_,T[a+2],17,606105819),_=N(_,v,d,C,T[a+3],22,-1044525330),C=N(C,_,v,d,T[a+4],7,-176418897),d=N(d,C,_,v,T[a+5],12,1200080426),v=N(v,d,C,_,T[a+6],17,-1473231341),_=N(_,v,d,C,T[a+7],22,-45705983),C=N(C,_,v,d,T[a+8],7,1770035416),d=N(d,C,_,v,T[a+9],12,-1958414417),v=N(v,d,C,_,T[a+10],17,-42063),_=N(_,v,d,C,T[a+11],22,-1990404162),C=N(C,_,v,d,T[a+12],7,1804603682),d=N(d,C,_,v,T[a+13],12,-40341101),v=N(v,d,C,_,T[a+14],17,-1502002290),_=N(_,v,d,C,T[a+15],22,1236535329),C=w(C,_,v,d,T[a+1],5,-165796510),d=w(d,C,_,v,T[a+6],9,-1069501632),v=w(v,d,C,_,T[a+11],14,643717713),_=w(_,v,d,C,T[a],20,-373897302),C=w(C,_,v,d,T[a+5],5,-701558691),d=w(d,C,_,v,T[a+10],9,38016083),v=w(v,d,C,_,T[a+15],14,-660478335),_=w(_,v,d,C,T[a+4],20,-405537848),C=w(C,_,v,d,T[a+9],5,568446438),d=w(d,C,_,v,T[a+14],9,-1019803690),v=w(v,d,C,_,T[a+3],14,-187363961),_=w(_,v,d,C,T[a+8],20,1163531501),C=w(C,_,v,d,T[a+13],5,-1444681467),d=w(d,C,_,v,T[a+2],9,-51403784),v=w(v,d,C,_,T[a+7],14,1735328473),_=w(_,v,d,C,T[a+12],20,-1926607734),C=O(C,_,v,d,T[a+5],4,-378558),d=O(d,C,_,v,T[a+8],11,-2022574463),v=O(v,d,C,_,T[a+11],16,1839030562),_=O(_,v,d,C,T[a+14],23,-35309556),C=O(C,_,v,d,T[a+1],4,-1530992060),d=O(d,C,_,v,T[a+4],11,1272893353),v=O(v,d,C,_,T[a+7],16,-155497632),_=O(_,v,d,C,T[a+10],23,-1094730640),C=O(C,_,v,d,T[a+13],4,681279174),d=O(d,C,_,v,T[a],11,-358537222),v=O(v,d,C,_,T[a+3],16,-722521979),_=O(_,v,d,C,T[a+6],23,76029189),C=O(C,_,v,d,T[a+9],4,-640364487),d=O(d,C,_,v,T[a+12],11,-421815835),v=O(v,d,C,_,T[a+15],16,530742520),_=O(_,v,d,C,T[a+2],23,-995338651),C=E(C,_,v,d,T[a],6,-198630844),d=E(d,C,_,v,T[a+7],10,1126891415),v=E(v,d,C,_,T[a+14],15,-1416354905),_=E(_,v,d,C,T[a+5],21,-57434055),C=E(C,_,v,d,T[a+12],6,1700485571),d=E(d,C,_,v,T[a+3],10,-1894986606),v=E(v,d,C,_,T[a+10],15,-1051523),_=E(_,v,d,C,T[a+1],21,-2054922799),C=E(C,_,v,d,T[a+8],6,1873313359),d=E(d,C,_,v,T[a+15],10,-30611744),v=E(v,d,C,_,T[a+6],15,-1560198380),_=E(_,v,d,C,T[a+13],21,1309151649),C=E(C,_,v,d,T[a+4],6,-145523070),d=E(d,C,_,v,T[a+11],10,-1120210379),v=E(v,d,C,_,T[a+2],15,718787259),_=E(_,v,d,C,T[a+9],21,-343485551),C=U(C,p),_=U(_,h),v=U(v,H),d=U(d,ae)}return[C,_,v,d]}(function(T){if(0===T.length)return[];const S=8*T.length,C=new Uint32Array(u(S));for(let _=0;_<S;_+=8)C[_>>5]|=(255&T[_/8])<<_%32;return C}(T),8*T.length))}},5468:(fe,W)=>{Object.defineProperty(W,"__esModule",{value:!0}),W.default=function(){if(!c)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(i)};const c="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16)},209:(fe,W)=>{function c(L,U,k,V){switch(L){case 0:return U&k^~U&V;case 1:case 3:return U^k^V;case 2:return U&k^U&V^k&V}}function i(L,U){return L<<U|L>>>32-U}Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0,W.default=function(L){const U=[1518500249,1859775393,2400959708,3395469782],k=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof L){const O=unescape(encodeURIComponent(L));L=[];for(let E=0;E<O.length;++E)L.push(O.charCodeAt(E))}L.push(128);const N=Math.ceil((L.length/4+2)/16),w=new Array(N);for(let O=0;O<N;++O){const E=new Uint32Array(16);for(let x=0;x<16;++x)E[x]=L[64*O+4*x]<<24|L[64*O+4*x+1]<<16|L[64*O+4*x+2]<<8|L[64*O+4*x+3];w[O]=E}w[N-1][14]=8*(L.length-1)/Math.pow(2,32),w[N-1][14]=Math.floor(w[N-1][14]),w[N-1][15]=8*(L.length-1)&4294967295;for(let O=0;O<N;++O){const E=new Uint32Array(80);for(let v=0;v<16;++v)E[v]=w[O][v];for(let v=16;v<80;++v)E[v]=i(E[v-3]^E[v-8]^E[v-14]^E[v-16],1);let x=k[0],T=k[1],S=k[2],C=k[3],_=k[4];for(let v=0;v<80;++v){const d=Math.floor(v/20),a=i(x,5)+c(d,T,S,C)+_+U[d]+E[v]>>>0;_=C,C=S,S=i(T,30)>>>0,T=x,x=a}k[0]=k[0]+x>>>0,k[1]=k[1]+T>>>0,k[2]=k[2]+S>>>0,k[3]=k[3]+C>>>0,k[4]=k[4]+_>>>0}return[k[0]>>24&255,k[0]>>16&255,k[0]>>8&255,255&k[0],k[1]>>24&255,k[1]>>16&255,k[1]>>8&255,255&k[1],k[2]>>24&255,k[2]>>16&255,k[2]>>8&255,255&k[2],k[3]>>24&255,k[3]>>16&255,k[3]>>8&255,255&k[3],k[4]>>24&255,k[4]>>16&255,k[4]>>8&255,255&k[4]]}},9110:(fe,W,c)=>{Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var i=D(c(5468)),u=D(c(2448));function D(O){return O&&O.__esModule?O:{default:O}}let L,U,k=0,V=0;W.default=function(O,E,x){let T=E&&x||0;const S=E||[];let C=(O=O||{}).node||L,_=void 0!==O.clockseq?O.clockseq:U;if(null==C||null==_){const H=O.random||(O.rng||i.default)();null==C&&(C=L=[1|H[0],H[1],H[2],H[3],H[4],H[5]]),null==_&&(_=U=16383&(H[6]<<8|H[7]))}let v=void 0!==O.msecs?O.msecs:Date.now(),d=void 0!==O.nsecs?O.nsecs:V+1;const a=v-k+(d-V)/1e4;if(a<0&&void 0===O.clockseq&&(_=_+1&16383),(a<0||v>k)&&void 0===O.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");k=v,V=d,U=_,v+=122192928e5;const p=(1e4*(268435455&v)+d)%4294967296;S[T++]=p>>>24&255,S[T++]=p>>>16&255,S[T++]=p>>>8&255,S[T++]=255&p;const h=v/4294967296*1e4&268435455;S[T++]=h>>>8&255,S[T++]=255&h,S[T++]=h>>>24&15|16,S[T++]=h>>>16&255,S[T++]=_>>>8|128,S[T++]=255&_;for(let H=0;H<6;++H)S[T+H]=C[H];return E||(0,u.default)(S)}},8693:(fe,W,c)=>{Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var i=D(c(1657)),u=D(c(872));function D(k){return k&&k.__esModule?k:{default:k}}var U=(0,i.default)("v3",48,u.default);W.default=U},1657:(fe,W,c)=>{Object.defineProperty(W,"__esModule",{value:!0}),W.default=function(N,w,O){function E(x,T,S,C){const _=S&&C||0;if("string"==typeof x&&(x=function(N){N=unescape(encodeURIComponent(N));const w=[];for(let O=0;O<N.length;++O)w.push(N.charCodeAt(O));return w}(x)),"string"==typeof T&&(T=function(N){const w=[];return N.replace(/[a-fA-F0-9]{2}/g,function(O){w.push(parseInt(O,16))}),w}(T)),!Array.isArray(x))throw TypeError("value must be an array of bytes");if(!Array.isArray(T)||16!==T.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");const v=O(T.concat(x));if(v[6]=15&v[6]|w,v[8]=63&v[8]|128,S)for(let d=0;d<16;++d)S[_+d]=v[d];return S||(0,i.default)(v)}try{E.name=N}catch{}return E.DNS=U,E.URL=k,E},W.URL=W.DNS=void 0;var N,i=(N=c(2448))&&N.__esModule?N:{default:N};const U="6ba7b810-9dad-11d1-80b4-00c04fd430c8";W.DNS=U;const k="6ba7b811-9dad-11d1-80b4-00c04fd430c8";W.URL=k},491:(fe,W,c)=>{Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var i=D(c(5468)),u=D(c(2448));function D(k){return k&&k.__esModule?k:{default:k}}W.default=function(k,V,N){"string"==typeof k&&(V="binary"===k?new Uint8Array(16):null,k=null);const w=(k=k||{}).random||(k.rng||i.default)();if(w[6]=15&w[6]|64,w[8]=63&w[8]|128,V){const O=N||0;for(let E=0;E<16;++E)V[O+E]=w[E];return V}return(0,u.default)(w)}},8518:(fe,W,c)=>{Object.defineProperty(W,"__esModule",{value:!0}),W.default=void 0;var i=D(c(1657)),u=D(c(209));function D(k){return k&&k.__esModule?k:{default:k}}var U=(0,i.default)("v5",80,u.default);W.default=U},4468:fe=>{var W=Object,c=TypeError;fe.exports=function(){if(null!=this&&this!==W(this))throw new c("RegExp.prototype.flags getter called on non-object");var u="";return this.global&&(u+="g"),this.ignoreCase&&(u+="i"),this.multiline&&(u+="m"),this.dotAll&&(u+="s"),this.unicode&&(u+="u"),this.sticky&&(u+="y"),u}},9235:(fe,W,c)=>{var i=c(2358),u=c(5685),D=c(4468),L=c(6343),U=c(1956),k=u(D);i(k,{getPolyfill:L,implementation:D,shim:U}),fe.exports=k},6343:(fe,W,c)=>{var i=c(4468),u=c(2358).supportsDescriptors,D=Object.getOwnPropertyDescriptor,L=TypeError;fe.exports=function(){if(!u)throw new L("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var k=D(RegExp.prototype,"flags");if(k&&"function"==typeof k.get&&"boolean"==typeof/a/.dotAll)return k.get}return i}},1956:(fe,W,c)=>{var i=c(2358).supportsDescriptors,u=c(6343),D=Object.getOwnPropertyDescriptor,L=Object.defineProperty,U=TypeError,k=Object.getPrototypeOf,V=/a/;fe.exports=function(){if(!i||!k)throw new U("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var w=u(),O=k(V),E=D(O,"flags");return(!E||E.get!==w)&&L(O,"flags",{configurable:!0,enumerable:!1,get:w}),w}},4966:fe=>{var W=function(){"use strict";function c(O,E){return null!=E&&O instanceof E}var i,u,D;try{i=Map}catch{i=function(){}}try{u=Set}catch{u=function(){}}try{D=Promise}catch{D=function(){}}function L(O,E,x,T,S){"object"==typeof E&&(x=E.depth,T=E.prototype,S=E.includeNonEnumerable,E=E.circular);var C=[],_=[],v="undefined"!=typeof Buffer;return void 0===E&&(E=!0),void 0===x&&(x=1/0),function d(a,p){if(null===a)return null;if(0===p)return a;var h,H;if("object"!=typeof a)return a;if(c(a,i))h=new i;else if(c(a,u))h=new u;else if(c(a,D))h=new D(function(se,ce){a.then(function(Oe){se(d(Oe,p-1))},function(Oe){ce(d(Oe,p-1))})});else if(L.__isArray(a))h=[];else if(L.__isRegExp(a))h=new RegExp(a.source,w(a)),a.lastIndex&&(h.lastIndex=a.lastIndex);else if(L.__isDate(a))h=new Date(a.getTime());else{if(v&&Buffer.isBuffer(a))return h=Buffer.allocUnsafe?Buffer.allocUnsafe(a.length):new Buffer(a.length),a.copy(h),h;c(a,Error)?h=Object.create(a):void 0===T?(H=Object.getPrototypeOf(a),h=Object.create(H)):(h=Object.create(T),H=T)}if(E){var ae=C.indexOf(a);if(-1!=ae)return _[ae];C.push(a),_.push(h)}for(var we in c(a,i)&&a.forEach(function(se,ce){var Oe=d(ce,p-1),We=d(se,p-1);h.set(Oe,We)}),c(a,u)&&a.forEach(function(se){var ce=d(se,p-1);h.add(ce)}),a){var Ee;H&&(Ee=Object.getOwnPropertyDescriptor(H,we)),(!Ee||null!=Ee.set)&&(h[we]=d(a[we],p-1))}if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(a);for(we=0;we<B.length;we++){var ne=B[we];(Q=Object.getOwnPropertyDescriptor(a,ne))&&!Q.enumerable&&!S||(h[ne]=d(a[ne],p-1),Q.enumerable||Object.defineProperty(h,ne,{enumerable:!1}))}}if(S){var te=Object.getOwnPropertyNames(a);for(we=0;we<te.length;we++){var Q,X=te[we];(Q=Object.getOwnPropertyDescriptor(a,X))&&Q.enumerable||(h[X]=d(a[X],p-1),Object.defineProperty(h,X,{enumerable:!1}))}}return h}(O,x)}function U(O){return Object.prototype.toString.call(O)}function w(O){var E="";return O.global&&(E+="g"),O.ignoreCase&&(E+="i"),O.multiline&&(E+="m"),E}return L.clonePrototype=function(E){if(null===E)return null;var x=function(){};return x.prototype=E,new x},L.__objToStr=U,L.__isDate=function(O){return"object"==typeof O&&"[object Date]"===U(O)},L.__isArray=function(O){return"object"==typeof O&&"[object Array]"===U(O)},L.__isRegExp=function(O){return"object"==typeof O&&"[object RegExp]"===U(O)},L.__getRegExpFlags=w,L}();fe.exports&&(fe.exports=W)},1135:(fe,W,c)=>{c.d(W,{X:()=>u});var i=c(7579);class u extends i.x{constructor(L){super(),this._value=L}get value(){return this.getValue()}_subscribe(L){const U=super._subscribe(L);return!U.closed&&L.next(this._value),U}getValue(){const{hasError:L,thrownError:U,_value:k}=this;if(L)throw U;return this._throwIfClosed(),k}next(L){super.next(this._value=L)}}},8306:(fe,W,c)=>{c.d(W,{y:()=>O});var i=c(930),u=c(727),D=c(8822),L=c(4671);var V=c(2416),N=c(576),w=c(2806);let O=(()=>{class S{constructor(_){_&&(this._subscribe=_)}lift(_){const v=new S;return v.source=this,v.operator=_,v}subscribe(_,v,d){const a=function(S){return S&&S instanceof i.Lv||function(S){return S&&(0,N.m)(S.next)&&(0,N.m)(S.error)&&(0,N.m)(S.complete)}(S)&&(0,u.Nn)(S)}(_)?_:new i.Hp(_,v,d);return(0,w.x)(()=>{const{operator:p,source:h}=this;a.add(p?p.call(a,h):h?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(_){try{return this._subscribe(_)}catch(v){_.error(v)}}forEach(_,v){return new(v=E(v))((d,a)=>{const p=new i.Hp({next:h=>{try{_(h)}catch(H){a(H),p.unsubscribe()}},error:a,complete:d});this.subscribe(p)})}_subscribe(_){var v;return null===(v=this.source)||void 0===v?void 0:v.subscribe(_)}[D.L](){return this}pipe(..._){return function(S){return 0===S.length?L.y:1===S.length?S[0]:function(_){return S.reduce((v,d)=>d(v),_)}}(_)(this)}toPromise(_){return new(_=E(_))((v,d)=>{let a;this.subscribe(p=>a=p,p=>d(p),()=>v(a))})}}return S.create=C=>new S(C),S})();function E(S){var C;return null!==(C=S??V.v.Promise)&&void 0!==C?C:Promise}},7579:(fe,W,c)=>{c.d(W,{x:()=>V});var i=c(8306),u=c(727);const L=(0,c(3888).d)(w=>function(){w(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var U=c(8737),k=c(2806);let V=(()=>{class w extends i.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(E){const x=new N(this,this);return x.operator=E,x}_throwIfClosed(){if(this.closed)throw new L}next(E){(0,k.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const x=this.observers.slice();for(const T of x)T.next(E)}})}error(E){(0,k.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=E;const{observers:x}=this;for(;x.length;)x.shift().error(E)}})}complete(){(0,k.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:E}=this;for(;E.length;)E.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var E;return(null===(E=this.observers)||void 0===E?void 0:E.length)>0}_trySubscribe(E){return this._throwIfClosed(),super._trySubscribe(E)}_subscribe(E){return this._throwIfClosed(),this._checkFinalizedStatuses(E),this._innerSubscribe(E)}_innerSubscribe(E){const{hasError:x,isStopped:T,observers:S}=this;return x||T?u.Lc:(S.push(E),new u.w0(()=>(0,U.P)(S,E)))}_checkFinalizedStatuses(E){const{hasError:x,thrownError:T,isStopped:S}=this;x?E.error(T):S&&E.complete()}asObservable(){const E=new i.y;return E.source=this,E}}return w.create=(O,E)=>new N(O,E),w})();class N extends V{constructor(O,E){super(),this.destination=O,this.source=E}next(O){var E,x;null===(x=null===(E=this.destination)||void 0===E?void 0:E.next)||void 0===x||x.call(E,O)}error(O){var E,x;null===(x=null===(E=this.destination)||void 0===E?void 0:E.error)||void 0===x||x.call(E,O)}complete(){var O,E;null===(E=null===(O=this.destination)||void 0===O?void 0:O.complete)||void 0===E||E.call(O)}_subscribe(O){var E,x;return null!==(x=null===(E=this.source)||void 0===E?void 0:E.subscribe(O))&&void 0!==x?x:u.Lc}}},930:(fe,W,c)=>{c.d(W,{Hp:()=>T,Lv:()=>x});var i=c(576),u=c(727),D=c(2416),L=c(7849),U=c(5032);const k=w("C",void 0,void 0);function w(d,a,p){return{kind:d,value:a,error:p}}var O=c(3410),E=c(2806);class x extends u.w0{constructor(a){super(),this.isStopped=!1,a?(this.destination=a,(0,u.Nn)(a)&&a.add(this)):this.destination=v}static create(a,p,h){return new T(a,p,h)}next(a){this.isStopped?_(w("N",a,void 0),this):this._next(a)}error(a){this.isStopped?_(w("E",void 0,a),this):(this.isStopped=!0,this._error(a))}complete(){this.isStopped?_(k,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(a){this.destination.next(a)}_error(a){try{this.destination.error(a)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class T extends x{constructor(a,p,h){let H;if(super(),(0,i.m)(a))H=a;else if(a){let ae;({next:H,error:p,complete:h}=a),this&&D.v.useDeprecatedNextContext?(ae=Object.create(a),ae.unsubscribe=()=>this.unsubscribe()):ae=a,H=null==H?void 0:H.bind(ae),p=null==p?void 0:p.bind(ae),h=null==h?void 0:h.bind(ae)}this.destination={next:H?S(H):U.Z,error:S(p??C),complete:h?S(h):U.Z}}}function S(d,a){return(...p)=>{try{d(...p)}catch(h){D.v.useDeprecatedSynchronousErrorHandling?(0,E.O)(h):(0,L.h)(h)}}}function C(d){throw d}function _(d,a){const{onStoppedNotification:p}=D.v;p&&O.z.setTimeout(()=>p(d,a))}const v={closed:!0,next:U.Z,error:C,complete:U.Z}},727:(fe,W,c)=>{c.d(W,{Lc:()=>k,w0:()=>U,Nn:()=>V});var i=c(576);const D=(0,c(3888).d)(w=>function(E){w(this),this.message=E?`${E.length} errors occurred during unsubscription:\n${E.map((x,T)=>`${T+1}) ${x.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=E});var L=c(8737);class U{constructor(O){this.initialTeardown=O,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let O;if(!this.closed){this.closed=!0;const{_parentage:E}=this;if(E)if(this._parentage=null,Array.isArray(E))for(const S of E)S.remove(this);else E.remove(this);const{initialTeardown:x}=this;if((0,i.m)(x))try{x()}catch(S){O=S instanceof D?S.errors:[S]}const{_teardowns:T}=this;if(T){this._teardowns=null;for(const S of T)try{N(S)}catch(C){O=O??[],C instanceof D?O=[...O,...C.errors]:O.push(C)}}if(O)throw new D(O)}}add(O){var E;if(O&&O!==this)if(this.closed)N(O);else{if(O instanceof U){if(O.closed||O._hasParent(this))return;O._addParent(this)}(this._teardowns=null!==(E=this._teardowns)&&void 0!==E?E:[]).push(O)}}_hasParent(O){const{_parentage:E}=this;return E===O||Array.isArray(E)&&E.includes(O)}_addParent(O){const{_parentage:E}=this;this._parentage=Array.isArray(E)?(E.push(O),E):E?[E,O]:O}_removeParent(O){const{_parentage:E}=this;E===O?this._parentage=null:Array.isArray(E)&&(0,L.P)(E,O)}remove(O){const{_teardowns:E}=this;E&&(0,L.P)(E,O),O instanceof U&&O._removeParent(this)}}U.EMPTY=(()=>{const w=new U;return w.closed=!0,w})();const k=U.EMPTY;function V(w){return w instanceof U||w&&"closed"in w&&(0,i.m)(w.remove)&&(0,i.m)(w.add)&&(0,i.m)(w.unsubscribe)}function N(w){(0,i.m)(w)?w():w.unsubscribe()}},2416:(fe,W,c)=>{c.d(W,{v:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3905:(fe,W,c)=>{c.d(W,{z:()=>D});var i=c(6805),u=c(930);function D(L,U){const k="object"==typeof U;return new Promise((V,N)=>{const w=new u.Hp({next:O=>{V(O),w.unsubscribe()},error:N,complete:()=>{k?V(U.defaultValue):N(new i.K)}});L.subscribe(w)})}},9841:(fe,W,c)=>{c.d(W,{a:()=>O});var i=c(8306),u=c(4742),D=c(2076),L=c(4671),U=c(3268),k=c(3269),V=c(1810),N=c(5403),w=c(9672);function O(...T){const S=(0,k.yG)(T),C=(0,k.jO)(T),{args:_,keys:v}=(0,u.D)(T);if(0===_.length)return(0,D.D)([],S);const d=new i.y(function(T,S,C=L.y){return _=>{x(S,()=>{const{length:v}=T,d=new Array(v);let a=v,p=v;for(let h=0;h<v;h++)x(S,()=>{const H=(0,D.D)(T[h],S);let ae=!1;H.subscribe(new N.Q(_,we=>{d[h]=we,ae||(ae=!0,p--),p||_.next(C(d.slice()))},()=>{--a||_.complete()}))},_)},_)}}(_,S,v?a=>(0,V.n)(v,a):L.y));return C?d.pipe((0,U.Z)(C)):d}function x(T,S,C){T?(0,w.f)(C,T,S):S()}},7272:(fe,W,c)=>{c.d(W,{z:()=>U});var i=c(8189),D=c(3269),L=c(2076);function U(...k){return(0,i.J)(1)((0,L.D)(k,(0,D.yG)(k)))}},9770:(fe,W,c)=>{c.d(W,{P:()=>D});var i=c(8306),u=c(8421);function D(L){return new i.y(U=>{(0,u.Xf)(L()).subscribe(U)})}},515:(fe,W,c)=>{c.d(W,{E:()=>u});const u=new(c(8306).y)(U=>U.complete())},4128:(fe,W,c)=>{c.d(W,{D:()=>N});var i=c(8306),u=c(4742),D=c(8421),L=c(3269),U=c(5403),k=c(3268),V=c(1810);function N(...w){const O=(0,L.jO)(w),{args:E,keys:x}=(0,u.D)(w),T=new i.y(S=>{const{length:C}=E;if(!C)return void S.complete();const _=new Array(C);let v=C,d=C;for(let a=0;a<C;a++){let p=!1;(0,D.Xf)(E[a]).subscribe(new U.Q(S,h=>{p||(p=!0,d--),_[a]=h},()=>v--,void 0,()=>{(!v||!p)&&(d||S.next(x?(0,V.n)(x,_):_),S.complete())}))}});return O?T.pipe((0,k.Z)(O)):T}},2076:(fe,W,c)=>{c.d(W,{D:()=>we});var i=c(8421),u=c(9672),D=c(4482),L=c(5403);function U(Ee,B=0){return(0,D.e)((ne,Q)=>{ne.subscribe(new L.Q(Q,te=>(0,u.f)(Q,Ee,()=>Q.next(te),B),()=>(0,u.f)(Q,Ee,()=>Q.complete(),B),te=>(0,u.f)(Q,Ee,()=>Q.error(te),B)))})}function k(Ee,B=0){return(0,D.e)((ne,Q)=>{Q.add(Ee.schedule(()=>ne.subscribe(Q),B))})}var w=c(8306),E=c(2202),x=c(576);function S(Ee,B){if(!Ee)throw new Error("Iterable cannot be null");return new w.y(ne=>{(0,u.f)(ne,B,()=>{const Q=Ee[Symbol.asyncIterator]();(0,u.f)(ne,B,()=>{Q.next().then(te=>{te.done?ne.complete():ne.next(te.value)})},0,!0)})})}var C=c(3670),_=c(8239),v=c(1144),d=c(6495),a=c(2206),p=c(4532),h=c(3260);function we(Ee,B){return B?function(Ee,B){if(null!=Ee){if((0,C.c)(Ee))return function(Ee,B){return(0,i.Xf)(Ee).pipe(k(B),U(B))}(Ee,B);if((0,v.z)(Ee))return function(Ee,B){return new w.y(ne=>{let Q=0;return B.schedule(function(){Q===Ee.length?ne.complete():(ne.next(Ee[Q++]),ne.closed||this.schedule())})})}(Ee,B);if((0,_.t)(Ee))return function(Ee,B){return(0,i.Xf)(Ee).pipe(k(B),U(B))}(Ee,B);if((0,a.D)(Ee))return S(Ee,B);if((0,d.T)(Ee))return function(Ee,B){return new w.y(ne=>{let Q;return(0,u.f)(ne,B,()=>{Q=Ee[E.h](),(0,u.f)(ne,B,()=>{let te,X;try{({value:te,done:X}=Q.next())}catch(se){return void ne.error(se)}X?ne.complete():ne.next(te)},0,!0)}),()=>(0,x.m)(null==Q?void 0:Q.return)&&Q.return()})}(Ee,B);if((0,h.L)(Ee))return function(Ee,B){return S((0,h.Q)(Ee),B)}(Ee,B)}throw(0,p.z)(Ee)}(Ee,B):(0,i.Xf)(Ee)}},4968:(fe,W,c)=>{c.d(W,{R:()=>O});var i=c(8421),u=c(8306),D=c(5577),L=c(1144),U=c(576),k=c(3268);const V=["addListener","removeListener"],N=["addEventListener","removeEventListener"],w=["on","off"];function O(C,_,v,d){if((0,U.m)(v)&&(d=v,v=void 0),d)return O(C,_,v).pipe((0,k.Z)(d));const[a,p]=function(C){return(0,U.m)(C.addEventListener)&&(0,U.m)(C.removeEventListener)}(C)?N.map(h=>H=>C[h](_,H,v)):function(C){return(0,U.m)(C.addListener)&&(0,U.m)(C.removeListener)}(C)?V.map(E(C,_)):function(C){return(0,U.m)(C.on)&&(0,U.m)(C.off)}(C)?w.map(E(C,_)):[];if(!a&&(0,L.z)(C))return(0,D.z)(h=>O(h,_,v))((0,i.Xf)(C));if(!a)throw new TypeError("Invalid event target");return new u.y(h=>{const H=(...ae)=>h.next(1<ae.length?ae:ae[0]);return a(H),()=>p(H)})}function E(C,_){return v=>d=>C[v](_,d)}},8421:(fe,W,c)=>{c.d(W,{Xf:()=>T});var i=c(655),u=c(1144),D=c(8239),L=c(8306),U=c(3670),k=c(2206),V=c(4532),N=c(6495),w=c(3260),O=c(576),E=c(7849),x=c(8822);function T(h){if(h instanceof L.y)return h;if(null!=h){if((0,U.c)(h))return function(h){return new L.y(H=>{const ae=h[x.L]();if((0,O.m)(ae.subscribe))return ae.subscribe(H);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(h);if((0,u.z)(h))return function(h){return new L.y(H=>{for(let ae=0;ae<h.length&&!H.closed;ae++)H.next(h[ae]);H.complete()})}(h);if((0,D.t)(h))return function(h){return new L.y(H=>{h.then(ae=>{H.closed||(H.next(ae),H.complete())},ae=>H.error(ae)).then(null,E.h)})}(h);if((0,k.D)(h))return d(h);if((0,N.T)(h))return function(h){return new L.y(H=>{for(const ae of h)if(H.next(ae),H.closed)return;H.complete()})}(h);if((0,w.L)(h))return function(h){return d((0,w.Q)(h))}(h)}throw(0,V.z)(h)}function d(h){return new L.y(H=>{(function(h,H){var ae,we,Ee,B;return(0,i.mG)(this,void 0,void 0,function*(){try{for(ae=(0,i.KL)(h);!(we=yield ae.next()).done;)if(H.next(we.value),H.closed)return}catch(ne){Ee={error:ne}}finally{try{we&&!we.done&&(B=ae.return)&&(yield B.call(ae))}finally{if(Ee)throw Ee.error}}H.complete()})})(h,H).catch(ae=>H.error(ae))})}},7445:(fe,W,c)=>{c.d(W,{F:()=>D});var i=c(4986),u=c(5963);function D(L=0,U=i.z){return L<0&&(L=0),(0,u.H)(L,L,U)}},6451:(fe,W,c)=>{c.d(W,{T:()=>k});var i=c(8189),u=c(8421),D=c(515),L=c(3269),U=c(2076);function k(...V){const N=(0,L.yG)(V),w=(0,L._6)(V,1/0),O=V;return O.length?1===O.length?(0,u.Xf)(O[0]):(0,i.J)(w)((0,U.D)(O,N)):D.E}},9646:(fe,W,c)=>{c.d(W,{of:()=>D});var i=c(3269),u=c(2076);function D(...L){const U=(0,i.yG)(L);return(0,u.D)(L,U)}},2843:(fe,W,c)=>{c.d(W,{_:()=>D});var i=c(8306),u=c(576);function D(L,U){const k=(0,u.m)(L)?L:()=>L,V=N=>N.error(k());return new i.y(U?N=>U.schedule(V,0,N):V)}},5963:(fe,W,c)=>{c.d(W,{H:()=>U});var i=c(8306),u=c(4986),D=c(3532);function U(k=0,V,N=u.P){let w=-1;return null!=V&&((0,D.K)(V)?N=V:w=V),new i.y(O=>{let E=function(k){return k instanceof Date&&!isNaN(k)}(k)?+k-N.now():k;E<0&&(E=0);let x=0;return N.schedule(function(){O.closed||(O.next(x++),0<=w?this.schedule(void 0,w):O.complete())},E)})}},5403:(fe,W,c)=>{c.d(W,{Q:()=>u});var i=c(930);class u extends i.Lv{constructor(L,U,k,V,N){super(L),this.onFinalize=N,this._next=U?function(w){try{U(w)}catch(O){L.error(O)}}:super._next,this._error=V?function(w){try{V(w)}catch(O){L.error(O)}finally{this.unsubscribe()}}:super._error,this._complete=k?function(){try{k()}catch(w){L.error(w)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var L;const{closed:U}=this;super.unsubscribe(),!U&&(null===(L=this.onFinalize)||void 0===L||L.call(this))}}},3601:(fe,W,c)=>{c.d(W,{e:()=>V});var i=c(4986),u=c(4482),D=c(8421),L=c(5403),k=c(5963);function V(N,w=i.P){return function(N){return(0,u.e)((w,O)=>{let E=!1,x=null,T=null,S=!1;const C=()=>{if(null==T||T.unsubscribe(),T=null,E){E=!1;const v=x;x=null,O.next(v)}S&&O.complete()},_=()=>{T=null,S&&O.complete()};w.subscribe(new L.Q(O,v=>{E=!0,x=v,T||(0,D.Xf)(N()).subscribe(T=new L.Q(O,C,_))},()=>{S=!0,(!E||!T||T.closed)&&O.complete()}))})}(()=>(0,k.H)(N,w))}},262:(fe,W,c)=>{c.d(W,{K:()=>L});var i=c(8421),u=c(5403),D=c(4482);function L(U){return(0,D.e)((k,V)=>{let O,N=null,w=!1;N=k.subscribe(new u.Q(V,void 0,void 0,E=>{O=(0,i.Xf)(U(E,L(U)(k))),N?(N.unsubscribe(),N=null,O.subscribe(V)):w=!0})),w&&(N.unsubscribe(),N=null,O.subscribe(V))})}},8372:(fe,W,c)=>{c.d(W,{b:()=>L});var i=c(4986),u=c(4482),D=c(5403);function L(U,k=i.z){return(0,u.e)((V,N)=>{let w=null,O=null,E=null;const x=()=>{if(w){w.unsubscribe(),w=null;const S=O;O=null,N.next(S)}};function T(){const S=E+U,C=k.now();if(C<S)return w=this.schedule(void 0,S-C),void N.add(w);x()}V.subscribe(new D.Q(N,S=>{O=S,E=k.now(),w||(w=k.schedule(T,U),N.add(w))},()=>{x(),N.complete()},void 0,()=>{O=w=null}))})}},1884:(fe,W,c)=>{c.d(W,{x:()=>L});var i=c(4671),u=c(4482),D=c(5403);function L(k,V=i.y){return k=k??U,(0,u.e)((N,w)=>{let O,E=!0;N.subscribe(new D.Q(w,x=>{const T=V(x);(E||!k(O,T))&&(E=!1,O=T,w.next(x))}))})}function U(k,V){return k===V}},9300:(fe,W,c)=>{c.d(W,{h:()=>D});var i=c(4482),u=c(5403);function D(L,U){return(0,i.e)((k,V)=>{let N=0;k.subscribe(new u.Q(V,w=>L.call(U,w,N++)&&V.next(w)))})}},8746:(fe,W,c)=>{c.d(W,{x:()=>u});var i=c(4482);function u(D){return(0,i.e)((L,U)=>{try{L.subscribe(U)}finally{U.add(D)}})}},4004:(fe,W,c)=>{c.d(W,{U:()=>D});var i=c(4482),u=c(5403);function D(L,U){return(0,i.e)((k,V)=>{let N=0;k.subscribe(new u.Q(V,w=>{V.next(L.call(U,w,N++))}))})}},8189:(fe,W,c)=>{c.d(W,{J:()=>D});var i=c(5577),u=c(4671);function D(L=1/0){return(0,i.z)(u.y,L)}},5577:(fe,W,c)=>{c.d(W,{z:()=>N});var i=c(4004),u=c(8421),D=c(4482),U=(c(9672),c(5403)),V=c(576);function N(w,O,E=1/0){return(0,V.m)(O)?N((x,T)=>(0,i.U)((S,C)=>O(x,S,T,C))((0,u.Xf)(w(x,T))),E):("number"==typeof O&&(E=O),(0,D.e)((x,T)=>function(w,O,E,x,T,S,C,_){const v=[];let d=0,a=0,p=!1;const h=()=>{p&&!v.length&&!d&&O.complete()},H=we=>d<x?ae(we):v.push(we),ae=we=>{d++;let Ee=!1;(0,u.Xf)(E(we,a++)).subscribe(new U.Q(O,B=>{O.next(B)},()=>{Ee=!0},void 0,()=>{if(Ee)try{for(d--;v.length&&d<x;){const B=v.shift();ae(B)}h()}catch(B){O.error(B)}}))};return w.subscribe(new U.Q(O,H,()=>{p=!0,h()})),()=>{}}(x,T,w,E)))}},3099:(fe,W,c)=>{c.d(W,{B:()=>k});var i=c(2076),u=c(5698),D=c(7579),L=c(930),U=c(4482);function k(N={}){const{connector:w=(()=>new D.x),resetOnError:O=!0,resetOnComplete:E=!0,resetOnRefCountZero:x=!0}=N;return T=>{let S=null,C=null,_=null,v=0,d=!1,a=!1;const p=()=>{null==C||C.unsubscribe(),C=null},h=()=>{p(),S=_=null,d=a=!1},H=()=>{const ae=S;h(),null==ae||ae.unsubscribe()};return(0,U.e)((ae,we)=>{v++,!a&&!d&&p();const Ee=_=_??w();we.add(()=>{v--,0===v&&!a&&!d&&(C=V(H,x))}),Ee.subscribe(we),S||(S=new L.Hp({next:B=>Ee.next(B),error:B=>{a=!0,p(),C=V(h,O,B),Ee.error(B)},complete:()=>{d=!0,p(),C=V(h,E),Ee.complete()}}),(0,i.D)(ae).subscribe(S))})(T)}}function V(N,w,...O){return!0===w?(N(),null):!1===w?null:w(...O).pipe((0,u.q)(1)).subscribe(()=>N())}},8675:(fe,W,c)=>{c.d(W,{O:()=>L});var i=c(7272),u=c(3269),D=c(4482);function L(...U){const k=(0,u.yG)(U);return(0,D.e)((V,N)=>{(k?(0,i.z)(U,V,k):(0,i.z)(U,V)).subscribe(N)})}},3900:(fe,W,c)=>{c.d(W,{w:()=>L});var i=c(8421),u=c(4482),D=c(5403);function L(U,k){return(0,u.e)((V,N)=>{let w=null,O=0,E=!1;const x=()=>E&&!w&&N.complete();V.subscribe(new D.Q(N,T=>{null==w||w.unsubscribe();let S=0;const C=O++;(0,i.Xf)(U(T,C)).subscribe(w=new D.Q(N,_=>N.next(k?k(T,_,C,S++):_),()=>{w=null,x()}))},()=>{E=!0,x()}))})}},5698:(fe,W,c)=>{c.d(W,{q:()=>L});var i=c(515),u=c(4482),D=c(5403);function L(U){return U<=0?()=>i.E:(0,u.e)((k,V)=>{let N=0;k.subscribe(new D.Q(V,w=>{++N<=U&&(V.next(w),U<=N&&V.complete())}))})}},2722:(fe,W,c)=>{c.d(W,{R:()=>U});var i=c(4482),u=c(5403),D=c(8421),L=c(5032);function U(k){return(0,i.e)((V,N)=>{(0,D.Xf)(k).subscribe(new u.Q(N,()=>N.complete(),L.Z)),!N.closed&&V.subscribe(N)})}},8505:(fe,W,c)=>{c.d(W,{b:()=>U});var i=c(576),u=c(4482),D=c(5403),L=c(4671);function U(k,V,N){const w=(0,i.m)(k)||V||N?{next:k,error:V,complete:N}:k;return w?(0,u.e)((O,E)=>{var x;null===(x=w.subscribe)||void 0===x||x.call(w);let T=!0;O.subscribe(new D.Q(E,S=>{var C;null===(C=w.next)||void 0===C||C.call(w,S),E.next(S)},()=>{var S;T=!1,null===(S=w.complete)||void 0===S||S.call(w),E.complete()},S=>{var C;T=!1,null===(C=w.error)||void 0===C||C.call(w,S),E.error(S)},()=>{var S,C;T&&(null===(S=w.unsubscribe)||void 0===S||S.call(w)),null===(C=w.finalize)||void 0===C||C.call(w)}))}):L.y}},4408:(fe,W,c)=>{c.d(W,{o:()=>U});var i=c(727);class u extends i.w0{constructor(V,N){super()}schedule(V,N=0){return this}}const D={setInterval(...k){const{delegate:V}=D;return((null==V?void 0:V.setInterval)||setInterval)(...k)},clearInterval(k){const{delegate:V}=D;return((null==V?void 0:V.clearInterval)||clearInterval)(k)},delegate:void 0};var L=c(8737);class U extends u{constructor(V,N){super(V,N),this.scheduler=V,this.work=N,this.pending=!1}schedule(V,N=0){if(this.closed)return this;this.state=V;const w=this.id,O=this.scheduler;return null!=w&&(this.id=this.recycleAsyncId(O,w,N)),this.pending=!0,this.delay=N,this.id=this.id||this.requestAsyncId(O,this.id,N),this}requestAsyncId(V,N,w=0){return D.setInterval(V.flush.bind(V,this),w)}recycleAsyncId(V,N,w=0){if(null!=w&&this.delay===w&&!1===this.pending)return N;D.clearInterval(N)}execute(V,N){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const w=this._execute(V,N);if(w)return w;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(V,N){let O,w=!1;try{this.work(V)}catch(E){w=!0,O=E||new Error("Scheduled action threw falsy error")}if(w)return this.unsubscribe(),O}unsubscribe(){if(!this.closed){const{id:V,scheduler:N}=this,{actions:w}=N;this.work=this.state=this.scheduler=null,this.pending=!1,(0,L.P)(w,this),null!=V&&(this.id=this.recycleAsyncId(N,V,null)),this.delay=null,super.unsubscribe()}}}},7565:(fe,W,c)=>{c.d(W,{v:()=>D});var i=c(6063);class u{constructor(U,k=u.now){this.schedulerActionCtor=U,this.now=k}schedule(U,k=0,V){return new this.schedulerActionCtor(this,U).schedule(V,k)}}u.now=i.l.now;class D extends u{constructor(U,k=u.now){super(U,k),this.actions=[],this._active=!1,this._scheduled=void 0}flush(U){const{actions:k}=this;if(this._active)return void k.push(U);let V;this._active=!0;do{if(V=U.execute(U.state,U.delay))break}while(U=k.shift());if(this._active=!1,V){for(;U=k.shift();)U.unsubscribe();throw V}}}},6406:(fe,W,c)=>{c.d(W,{Z:()=>V});var i=c(4408),u=c(727);const D={schedule(w){let O=requestAnimationFrame,E=cancelAnimationFrame;const{delegate:x}=D;x&&(O=x.requestAnimationFrame,E=x.cancelAnimationFrame);const T=O(S=>{E=void 0,w(S)});return new u.w0(()=>null==E?void 0:E(T))},requestAnimationFrame(...w){const{delegate:O}=D;return((null==O?void 0:O.requestAnimationFrame)||requestAnimationFrame)(...w)},cancelAnimationFrame(...w){const{delegate:O}=D;return((null==O?void 0:O.cancelAnimationFrame)||cancelAnimationFrame)(...w)},delegate:void 0};var U=c(7565);const V=new class extends U.v{flush(O){this._active=!0;const E=this._scheduled;this._scheduled=void 0;const{actions:x}=this;let T;O=O||x.shift();do{if(T=O.execute(O.state,O.delay))break}while((O=x[0])&&O.id===E&&x.shift());if(this._active=!1,T){for(;(O=x[0])&&O.id===E&&x.shift();)O.unsubscribe();throw T}}}(class extends i.o{constructor(O,E){super(O,E),this.scheduler=O,this.work=E}requestAsyncId(O,E,x=0){return null!==x&&x>0?super.requestAsyncId(O,E,x):(O.actions.push(this),O._scheduled||(O._scheduled=D.requestAnimationFrame(()=>O.flush(void 0))))}recycleAsyncId(O,E,x=0){if(null!=x&&x>0||null==x&&this.delay>0)return super.recycleAsyncId(O,E,x);O.actions.some(T=>T.id===E)||(D.cancelAnimationFrame(E),O._scheduled=void 0)}})},3101:(fe,W,c)=>{c.d(W,{E:()=>S});var i=c(4408);let D,u=1;const L={};function U(_){return _ in L&&(delete L[_],!0)}const k={setImmediate(_){const v=u++;return L[v]=!0,D||(D=Promise.resolve()),D.then(()=>U(v)&&_()),v},clearImmediate(_){U(_)}},{setImmediate:N,clearImmediate:w}=k,O={setImmediate(..._){const{delegate:v}=O;return((null==v?void 0:v.setImmediate)||N)(..._)},clearImmediate(_){const{delegate:v}=O;return((null==v?void 0:v.clearImmediate)||w)(_)},delegate:void 0};var x=c(7565);const S=new class extends x.v{flush(v){this._active=!0;const d=this._scheduled;this._scheduled=void 0;const{actions:a}=this;let p;v=v||a.shift();do{if(p=v.execute(v.state,v.delay))break}while((v=a[0])&&v.id===d&&a.shift());if(this._active=!1,p){for(;(v=a[0])&&v.id===d&&a.shift();)v.unsubscribe();throw p}}}(class extends i.o{constructor(v,d){super(v,d),this.scheduler=v,this.work=d}requestAsyncId(v,d,a=0){return null!==a&&a>0?super.requestAsyncId(v,d,a):(v.actions.push(this),v._scheduled||(v._scheduled=O.setImmediate(v.flush.bind(v,void 0))))}recycleAsyncId(v,d,a=0){if(null!=a&&a>0||null==a&&this.delay>0)return super.recycleAsyncId(v,d,a);v.actions.some(p=>p.id===d)||(O.clearImmediate(d),v._scheduled=void 0)}})},4986:(fe,W,c)=>{c.d(W,{z:()=>D,P:()=>L});var i=c(4408);const D=new(c(7565).v)(i.o),L=D},6063:(fe,W,c)=>{c.d(W,{l:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},3410:(fe,W,c)=>{c.d(W,{z:()=>i});const i={setTimeout(...u){const{delegate:D}=i;return((null==D?void 0:D.setTimeout)||setTimeout)(...u)},clearTimeout(u){const{delegate:D}=i;return((null==D?void 0:D.clearTimeout)||clearTimeout)(u)},delegate:void 0}},2202:(fe,W,c)=>{c.d(W,{h:()=>u});const u="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},8822:(fe,W,c)=>{c.d(W,{L:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(fe,W,c)=>{c.d(W,{K:()=>u});const u=(0,c(3888).d)(D=>function(){D(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(fe,W,c)=>{c.d(W,{jO:()=>L,yG:()=>U,_6:()=>k});var i=c(576),u=c(3532);function D(V){return V[V.length-1]}function L(V){return(0,i.m)(D(V))?V.pop():void 0}function U(V){return(0,u.K)(D(V))?V.pop():void 0}function k(V,N){return"number"==typeof D(V)?V.pop():N}},4742:(fe,W,c)=>{c.d(W,{D:()=>U});const{isArray:i}=Array,{getPrototypeOf:u,prototype:D,keys:L}=Object;function U(V){if(1===V.length){const N=V[0];if(i(N))return{args:N,keys:null};if(function(V){return V&&"object"==typeof V&&u(V)===D}(N)){const w=L(N);return{args:w.map(O=>N[O]),keys:w}}}return{args:V,keys:null}}},8737:(fe,W,c)=>{function i(u,D){if(u){const L=u.indexOf(D);0<=L&&u.splice(L,1)}}c.d(W,{P:()=>i})},3888:(fe,W,c)=>{function i(u){const L=u(U=>{Error.call(U),U.stack=(new Error).stack});return L.prototype=Object.create(Error.prototype),L.prototype.constructor=L,L}c.d(W,{d:()=>i})},1810:(fe,W,c)=>{function i(u,D){return u.reduce((L,U,k)=>(L[U]=D[k],L),{})}c.d(W,{n:()=>i})},2806:(fe,W,c)=>{c.d(W,{x:()=>D,O:()=>L});var i=c(2416);let u=null;function D(U){if(i.v.useDeprecatedSynchronousErrorHandling){const k=!u;if(k&&(u={errorThrown:!1,error:null}),U(),k){const{errorThrown:V,error:N}=u;if(u=null,V)throw N}}else U()}function L(U){i.v.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=U)}},9672:(fe,W,c)=>{function i(u,D,L,U=0,k=!1){const V=D.schedule(function(){L(),k?u.add(this.schedule(null,U)):this.unsubscribe()},U);if(u.add(V),!k)return V}c.d(W,{f:()=>i})},4671:(fe,W,c)=>{function i(u){return u}c.d(W,{y:()=>i})},1144:(fe,W,c)=>{c.d(W,{z:()=>i});const i=u=>u&&"number"==typeof u.length&&"function"!=typeof u},2206:(fe,W,c)=>{c.d(W,{D:()=>u});var i=c(576);function u(D){return Symbol.asyncIterator&&(0,i.m)(null==D?void 0:D[Symbol.asyncIterator])}},576:(fe,W,c)=>{function i(u){return"function"==typeof u}c.d(W,{m:()=>i})},3670:(fe,W,c)=>{c.d(W,{c:()=>D});var i=c(8822),u=c(576);function D(L){return(0,u.m)(L[i.L])}},6495:(fe,W,c)=>{c.d(W,{T:()=>D});var i=c(2202),u=c(576);function D(L){return(0,u.m)(null==L?void 0:L[i.h])}},8239:(fe,W,c)=>{c.d(W,{t:()=>u});var i=c(576);function u(D){return(0,i.m)(null==D?void 0:D.then)}},3260:(fe,W,c)=>{c.d(W,{Q:()=>D,L:()=>L});var i=c(655),u=c(576);function D(U){return(0,i.FC)(this,arguments,function*(){const V=U.getReader();try{for(;;){const{value:N,done:w}=yield(0,i.qq)(V.read());if(w)return yield(0,i.qq)(void 0);yield yield(0,i.qq)(N)}}finally{V.releaseLock()}})}function L(U){return(0,u.m)(null==U?void 0:U.getReader)}},3532:(fe,W,c)=>{c.d(W,{K:()=>u});var i=c(576);function u(D){return D&&(0,i.m)(D.schedule)}},4482:(fe,W,c)=>{c.d(W,{A:()=>u,e:()=>D});var i=c(576);function u(L){return(0,i.m)(null==L?void 0:L.lift)}function D(L){return U=>{if(u(U))return U.lift(function(k){try{return L(k,this)}catch(V){this.error(V)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(fe,W,c)=>{c.d(W,{Z:()=>L});var i=c(4004);const{isArray:u}=Array;function L(U){return(0,i.U)(k=>function(U,k){return u(k)?U(...k):U(k)}(U,k))}},5032:(fe,W,c)=>{function i(){}c.d(W,{Z:()=>i})},7849:(fe,W,c)=>{c.d(W,{h:()=>D});var i=c(2416),u=c(3410);function D(L){u.z.setTimeout(()=>{const{onUnhandledError:U}=i.v;if(!U)throw L;U(L)})}},4532:(fe,W,c)=>{function i(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}c.d(W,{z:()=>i})},1452:fe=>{fe.exports=function(W){"use strict";var i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function D(_,v){var d=_[0],a=_[1],p=_[2],h=_[3];a=((a+=((p=((p+=((h=((h+=((d=((d+=(a&p|~a&h)+v[0]-680876936|0)<<7|d>>>25)+a|0)&a|~d&p)+v[1]-389564586|0)<<12|h>>>20)+d|0)&d|~h&a)+v[2]+606105819|0)<<17|p>>>15)+h|0)&h|~p&d)+v[3]-1044525330|0)<<22|a>>>10)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a&p|~a&h)+v[4]-176418897|0)<<7|d>>>25)+a|0)&a|~d&p)+v[5]+1200080426|0)<<12|h>>>20)+d|0)&d|~h&a)+v[6]-1473231341|0)<<17|p>>>15)+h|0)&h|~p&d)+v[7]-45705983|0)<<22|a>>>10)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a&p|~a&h)+v[8]+1770035416|0)<<7|d>>>25)+a|0)&a|~d&p)+v[9]-1958414417|0)<<12|h>>>20)+d|0)&d|~h&a)+v[10]-42063|0)<<17|p>>>15)+h|0)&h|~p&d)+v[11]-1990404162|0)<<22|a>>>10)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a&p|~a&h)+v[12]+1804603682|0)<<7|d>>>25)+a|0)&a|~d&p)+v[13]-40341101|0)<<12|h>>>20)+d|0)&d|~h&a)+v[14]-1502002290|0)<<17|p>>>15)+h|0)&h|~p&d)+v[15]+1236535329|0)<<22|a>>>10)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a&h|p&~h)+v[1]-165796510|0)<<5|d>>>27)+a|0)&p|a&~p)+v[6]-1069501632|0)<<9|h>>>23)+d|0)&a|d&~a)+v[11]+643717713|0)<<14|p>>>18)+h|0)&d|h&~d)+v[0]-373897302|0)<<20|a>>>12)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a&h|p&~h)+v[5]-701558691|0)<<5|d>>>27)+a|0)&p|a&~p)+v[10]+38016083|0)<<9|h>>>23)+d|0)&a|d&~a)+v[15]-660478335|0)<<14|p>>>18)+h|0)&d|h&~d)+v[4]-405537848|0)<<20|a>>>12)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a&h|p&~h)+v[9]+568446438|0)<<5|d>>>27)+a|0)&p|a&~p)+v[14]-1019803690|0)<<9|h>>>23)+d|0)&a|d&~a)+v[3]-187363961|0)<<14|p>>>18)+h|0)&d|h&~d)+v[8]+1163531501|0)<<20|a>>>12)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a&h|p&~h)+v[13]-1444681467|0)<<5|d>>>27)+a|0)&p|a&~p)+v[2]-51403784|0)<<9|h>>>23)+d|0)&a|d&~a)+v[7]+1735328473|0)<<14|p>>>18)+h|0)&d|h&~d)+v[12]-1926607734|0)<<20|a>>>12)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a^p^h)+v[5]-378558|0)<<4|d>>>28)+a|0)^a^p)+v[8]-2022574463|0)<<11|h>>>21)+d|0)^d^a)+v[11]+1839030562|0)<<16|p>>>16)+h|0)^h^d)+v[14]-35309556|0)<<23|a>>>9)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a^p^h)+v[1]-1530992060|0)<<4|d>>>28)+a|0)^a^p)+v[4]+1272893353|0)<<11|h>>>21)+d|0)^d^a)+v[7]-155497632|0)<<16|p>>>16)+h|0)^h^d)+v[10]-1094730640|0)<<23|a>>>9)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a^p^h)+v[13]+681279174|0)<<4|d>>>28)+a|0)^a^p)+v[0]-358537222|0)<<11|h>>>21)+d|0)^d^a)+v[3]-722521979|0)<<16|p>>>16)+h|0)^h^d)+v[6]+76029189|0)<<23|a>>>9)+p|0,a=((a+=((p=((p+=((h=((h+=((d=((d+=(a^p^h)+v[9]-640364487|0)<<4|d>>>28)+a|0)^a^p)+v[12]-421815835|0)<<11|h>>>21)+d|0)^d^a)+v[15]+530742520|0)<<16|p>>>16)+h|0)^h^d)+v[2]-995338651|0)<<23|a>>>9)+p|0,a=((a+=((h=((h+=(a^((d=((d+=(p^(a|~h))+v[0]-198630844|0)<<6|d>>>26)+a|0)|~p))+v[7]+1126891415|0)<<10|h>>>22)+d|0)^((p=((p+=(d^(h|~a))+v[14]-1416354905|0)<<15|p>>>17)+h|0)|~d))+v[5]-57434055|0)<<21|a>>>11)+p|0,a=((a+=((h=((h+=(a^((d=((d+=(p^(a|~h))+v[12]+1700485571|0)<<6|d>>>26)+a|0)|~p))+v[3]-1894986606|0)<<10|h>>>22)+d|0)^((p=((p+=(d^(h|~a))+v[10]-1051523|0)<<15|p>>>17)+h|0)|~d))+v[1]-2054922799|0)<<21|a>>>11)+p|0,a=((a+=((h=((h+=(a^((d=((d+=(p^(a|~h))+v[8]+1873313359|0)<<6|d>>>26)+a|0)|~p))+v[15]-30611744|0)<<10|h>>>22)+d|0)^((p=((p+=(d^(h|~a))+v[6]-1560198380|0)<<15|p>>>17)+h|0)|~d))+v[13]+1309151649|0)<<21|a>>>11)+p|0,a=((a+=((h=((h+=(a^((d=((d+=(p^(a|~h))+v[4]-145523070|0)<<6|d>>>26)+a|0)|~p))+v[11]-1120210379|0)<<10|h>>>22)+d|0)^((p=((p+=(d^(h|~a))+v[2]+718787259|0)<<15|p>>>17)+h|0)|~d))+v[9]-343485551|0)<<21|a>>>11)+p|0,_[0]=d+_[0]|0,_[1]=a+_[1]|0,_[2]=p+_[2]|0,_[3]=h+_[3]|0}function L(_){var d,v=[];for(d=0;d<64;d+=4)v[d>>2]=_.charCodeAt(d)+(_.charCodeAt(d+1)<<8)+(_.charCodeAt(d+2)<<16)+(_.charCodeAt(d+3)<<24);return v}function U(_){var d,v=[];for(d=0;d<64;d+=4)v[d>>2]=_[d]+(_[d+1]<<8)+(_[d+2]<<16)+(_[d+3]<<24);return v}function k(_){var a,p,h,H,ae,we,v=_.length,d=[1732584193,-271733879,-1732584194,271733878];for(a=64;a<=v;a+=64)D(d,L(_.substring(a-64,a)));for(p=(_=_.substring(a-64)).length,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<p;a+=1)h[a>>2]|=_.charCodeAt(a)<<(a%4<<3);if(h[a>>2]|=128<<(a%4<<3),a>55)for(D(d,h),a=0;a<16;a+=1)h[a]=0;return H=(H=8*v).toString(16).match(/(.*?)(.{0,8})$/),ae=parseInt(H[2],16),we=parseInt(H[1],16)||0,h[14]=ae,h[15]=we,D(d,h),d}function N(_){var d,v="";for(d=0;d<4;d+=1)v+=i[_>>8*d+4&15]+i[_>>8*d&15];return v}function w(_){var v;for(v=0;v<_.length;v+=1)_[v]=N(_[v]);return _.join("")}function O(_){return/[\u0080-\uFFFF]/.test(_)&&(_=unescape(encodeURIComponent(_))),_}function S(_){var a,v=[],d=_.length;for(a=0;a<d-1;a+=2)v.push(parseInt(_.substr(a,2),16));return String.fromCharCode.apply(String,v)}function C(){this.reset()}return w(k("hello")),"undefined"!=typeof ArrayBuffer&&!ArrayBuffer.prototype.slice&&function(){function _(v,d){return(v=0|v||0)<0?Math.max(v+d,0):Math.min(v,d)}ArrayBuffer.prototype.slice=function(v,d){var H,ae,we,Ee,a=this.byteLength,p=_(v,a),h=a;return undefined!==d&&(h=_(d,a)),p>h?new ArrayBuffer(0):(H=h-p,ae=new ArrayBuffer(H),we=new Uint8Array(ae),Ee=new Uint8Array(this,p,H),we.set(Ee),ae)}}(),C.prototype.append=function(_){return this.appendBinary(O(_)),this},C.prototype.appendBinary=function(_){this._buff+=_,this._length+=_.length;var d,v=this._buff.length;for(d=64;d<=v;d+=64)D(this._hash,L(this._buff.substring(d-64,d)));return this._buff=this._buff.substring(d-64),this},C.prototype.end=function(_){var a,h,v=this._buff,d=v.length,p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(a=0;a<d;a+=1)p[a>>2]|=v.charCodeAt(a)<<(a%4<<3);return this._finish(p,d),h=w(this._hash),_&&(h=S(h)),this.reset(),h},C.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},C.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},C.prototype.setState=function(_){return this._buff=_.buff,this._length=_.length,this._hash=_.hash,this},C.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},C.prototype._finish=function(_,v){var a,p,h,d=v;if(_[d>>2]|=128<<(d%4<<3),d>55)for(D(this._hash,_),d=0;d<16;d+=1)_[d]=0;a=(a=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),p=parseInt(a[2],16),h=parseInt(a[1],16)||0,_[14]=p,_[15]=h,D(this._hash,_)},C.hash=function(_,v){return C.hashBinary(O(_),v)},C.hashBinary=function(_,v){var a=w(k(_));return v?S(a):a},(C.ArrayBuffer=function(){this.reset()}).prototype.append=function(_){var a,v=function(_,v,d){var a=new Uint8Array(_.byteLength+v.byteLength);return a.set(new Uint8Array(_)),a.set(new Uint8Array(v),_.byteLength),d?a:a.buffer}(this._buff.buffer,_,!0),d=v.length;for(this._length+=_.byteLength,a=64;a<=d;a+=64)D(this._hash,U(v.subarray(a-64,a)));return this._buff=a-64<d?new Uint8Array(v.buffer.slice(a-64)):new Uint8Array(0),this},C.ArrayBuffer.prototype.end=function(_){var p,h,v=this._buff,d=v.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(p=0;p<d;p+=1)a[p>>2]|=v[p]<<(p%4<<3);return this._finish(a,d),h=w(this._hash),_&&(h=S(h)),this.reset(),h},C.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},C.ArrayBuffer.prototype.getState=function(){var _=C.prototype.getState.call(this);return _.buff=function(_){return String.fromCharCode.apply(null,new Uint8Array(_))}(_.buff),_},C.ArrayBuffer.prototype.setState=function(_){return _.buff=function(_,v){var h,d=_.length,a=new ArrayBuffer(d),p=new Uint8Array(a);for(h=0;h<d;h+=1)p[h]=_.charCodeAt(h);return v?p:a}(_.buff,!0),C.prototype.setState.call(this,_)},C.ArrayBuffer.prototype.destroy=C.prototype.destroy,C.ArrayBuffer.prototype._finish=C.prototype._finish,C.ArrayBuffer.hash=function(_,v){var a=w(function(_){var a,p,h,H,ae,we,v=_.length,d=[1732584193,-271733879,-1732584194,271733878];for(a=64;a<=v;a+=64)D(d,U(_.subarray(a-64,a)));for(p=(_=a-64<v?_.subarray(a-64):new Uint8Array(0)).length,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<p;a+=1)h[a>>2]|=_[a]<<(a%4<<3);if(h[a>>2]|=128<<(a%4<<3),a>55)for(D(d,h),a=0;a<16;a+=1)h[a]=0;return H=(H=8*v).toString(16).match(/(.*?)(.{0,8})$/),ae=parseInt(H[2],16),we=parseInt(H[1],16)||0,h[14]=ae,h[15]=we,D(d,h),d}(new Uint8Array(_)));return v?S(a):a},C}()},1451:fe=>{fe.exports=function(c){return c&&"object"==typeof c&&"function"==typeof c.copy&&"function"==typeof c.fill&&"function"==typeof c.readUInt8}},8791:(fe,W,c)=>{var i=c(3407),u=c(110),D=c(2031),L=c(597);function U(ze){return ze.call.bind(ze)}var k="undefined"!=typeof BigInt,V="undefined"!=typeof Symbol,N=U(Object.prototype.toString),w=U(Number.prototype.valueOf),O=U(String.prototype.valueOf),E=U(Boolean.prototype.valueOf);if(k)var x=U(BigInt.prototype.valueOf);if(V)var T=U(Symbol.prototype.valueOf);function S(ze,Pt){if("object"!=typeof ze)return!1;try{return Pt(ze),!0}catch{return!1}}function Q(ze){return"[object Map]"===N(ze)}function X(ze){return"[object Set]"===N(ze)}function ce(ze){return"[object WeakMap]"===N(ze)}function We(ze){return"[object WeakSet]"===N(ze)}function Pe(ze){return"[object ArrayBuffer]"===N(ze)}function De(ze){return"undefined"!=typeof ArrayBuffer&&(Pe.working?Pe(ze):ze instanceof ArrayBuffer)}function pe(ze){return"[object DataView]"===N(ze)}function ve(ze){return"undefined"!=typeof DataView&&(pe.working?pe(ze):ze instanceof DataView)}W.isArgumentsObject=i,W.isGeneratorFunction=u,W.isTypedArray=L,W.isPromise=function(ze){return"undefined"!=typeof Promise&&ze instanceof Promise||null!==ze&&"object"==typeof ze&&"function"==typeof ze.then&&"function"==typeof ze.catch},W.isArrayBufferView=function(ze){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(ze):L(ze)||ve(ze)},W.isUint8Array=function(ze){return"Uint8Array"===D(ze)},W.isUint8ClampedArray=function(ze){return"Uint8ClampedArray"===D(ze)},W.isUint16Array=function(ze){return"Uint16Array"===D(ze)},W.isUint32Array=function(ze){return"Uint32Array"===D(ze)},W.isInt8Array=function(ze){return"Int8Array"===D(ze)},W.isInt16Array=function(ze){return"Int16Array"===D(ze)},W.isInt32Array=function(ze){return"Int32Array"===D(ze)},W.isFloat32Array=function(ze){return"Float32Array"===D(ze)},W.isFloat64Array=function(ze){return"Float64Array"===D(ze)},W.isBigInt64Array=function(ze){return"BigInt64Array"===D(ze)},W.isBigUint64Array=function(ze){return"BigUint64Array"===D(ze)},Q.working="undefined"!=typeof Map&&Q(new Map),W.isMap=function(ze){return"undefined"!=typeof Map&&(Q.working?Q(ze):ze instanceof Map)},X.working="undefined"!=typeof Set&&X(new Set),W.isSet=function(ze){return"undefined"!=typeof Set&&(X.working?X(ze):ze instanceof Set)},ce.working="undefined"!=typeof WeakMap&&ce(new WeakMap),W.isWeakMap=function(ze){return"undefined"!=typeof WeakMap&&(ce.working?ce(ze):ze instanceof WeakMap)},We.working="undefined"!=typeof WeakSet&&We(new WeakSet),W.isWeakSet=function(ze){return We(ze)},Pe.working="undefined"!=typeof ArrayBuffer&&Pe(new ArrayBuffer),W.isArrayBuffer=De,pe.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&pe(new DataView(new ArrayBuffer(1),0,1)),W.isDataView=ve;var ke="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function Ge(ze){return"[object SharedArrayBuffer]"===N(ze)}function it(ze){return void 0!==ke&&(void 0===Ge.working&&(Ge.working=Ge(new ke)),Ge.working?Ge(ze):ze instanceof ke)}function $t(ze){return S(ze,w)}function vn(ze){return S(ze,O)}function Sn(ze){return S(ze,E)}function In(ze){return k&&S(ze,x)}function Mn(ze){return V&&S(ze,T)}W.isSharedArrayBuffer=it,W.isAsyncFunction=function(ze){return"[object AsyncFunction]"===N(ze)},W.isMapIterator=function(ze){return"[object Map Iterator]"===N(ze)},W.isSetIterator=function(ze){return"[object Set Iterator]"===N(ze)},W.isGeneratorObject=function(ze){return"[object Generator]"===N(ze)},W.isWebAssemblyCompiledModule=function(ze){return"[object WebAssembly.Module]"===N(ze)},W.isNumberObject=$t,W.isStringObject=vn,W.isBooleanObject=Sn,W.isBigIntObject=In,W.isSymbolObject=Mn,W.isBoxedPrimitive=function(ze){return $t(ze)||vn(ze)||Sn(ze)||In(ze)||Mn(ze)},W.isAnyArrayBuffer=function(ze){return"undefined"!=typeof Uint8Array&&(De(ze)||it(ze))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ze){Object.defineProperty(W,ze,{enumerable:!1,value:function(){throw new Error(ze+" is not supported in userland")}})})},6788:(fe,W,c)=>{var i=Object.getOwnPropertyDescriptors||function(ve){for(var ke=Object.keys(ve),Ge={},it=0;it<ke.length;it++)Ge[ke[it]]=Object.getOwnPropertyDescriptor(ve,ke[it]);return Ge},u=/%[sdj%]/g;W.format=function(pe){if(!h(pe)){for(var ve=[],ke=0;ke<arguments.length;ke++)ve.push(k(arguments[ke]));return ve.join(" ")}ke=1;for(var Ge=arguments,it=Ge.length,_t=String(pe).replace(u,function(Et){if("%%"===Et)return"%";if(ke>=it)return Et;switch(Et){case"%s":return String(Ge[ke++]);case"%d":return Number(Ge[ke++]);case"%j":try{return JSON.stringify(Ge[ke++])}catch{return"[Circular]"}default:return Et}}),at=Ge[ke];ke<it;at=Ge[++ke])d(at)||!Ee(at)?_t+=" "+at:_t+=" "+k(at);return _t},W.deprecate=function(pe,ve){if("undefined"!=typeof process&&!0===process.noDeprecation)return pe;if("undefined"==typeof process)return function(){return W.deprecate(pe,ve).apply(this,arguments)};var ke=!1;return function(){if(!ke){if(process.throwDeprecation)throw new Error(ve);process.traceDeprecation?console.trace(ve):console.error(ve),ke=!0}return pe.apply(this,arguments)}};var D={},L=/^$/;if(process.env.NODE_DEBUG){var U=process.env.NODE_DEBUG;U=U.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),L=new RegExp("^"+U+"$","i")}function k(pe,ve){var ke={seen:[],stylize:N};return arguments.length>=3&&(ke.depth=arguments[2]),arguments.length>=4&&(ke.colors=arguments[3]),v(ve)?ke.showHidden=ve:ve&&W._extend(ke,ve),ae(ke.showHidden)&&(ke.showHidden=!1),ae(ke.depth)&&(ke.depth=2),ae(ke.colors)&&(ke.colors=!1),ae(ke.customInspect)&&(ke.customInspect=!0),ke.colors&&(ke.stylize=V),O(ke,pe,ke.depth)}function V(pe,ve){var ke=k.styles[ve];return ke?"\x1b["+k.colors[ke][0]+"m"+pe+"\x1b["+k.colors[ke][1]+"m":pe}function N(pe,ve){return pe}function O(pe,ve,ke){if(pe.customInspect&&ve&&Q(ve.inspect)&&ve.inspect!==W.inspect&&(!ve.constructor||ve.constructor.prototype!==ve)){var Ge=ve.inspect(ke,pe);return h(Ge)||(Ge=O(pe,Ge,ke)),Ge}var it=function(pe,ve){if(ae(ve))return pe.stylize("undefined","undefined");if(h(ve)){var ke="'"+JSON.stringify(ve).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return pe.stylize(ke,"string")}return p(ve)?pe.stylize(""+ve,"number"):v(ve)?pe.stylize(""+ve,"boolean"):d(ve)?pe.stylize("null","null"):void 0}(pe,ve);if(it)return it;var _t=Object.keys(ve),at=function(pe){var ve={};return pe.forEach(function(ke,Ge){ve[ke]=!0}),ve}(_t);if(pe.showHidden&&(_t=Object.getOwnPropertyNames(ve)),ne(ve)&&(_t.indexOf("message")>=0||_t.indexOf("description")>=0))return x(ve);if(0===_t.length){if(Q(ve))return pe.stylize("[Function"+(ve.name?": "+ve.name:"")+"]","special");if(we(ve))return pe.stylize(RegExp.prototype.toString.call(ve),"regexp");if(B(ve))return pe.stylize(Date.prototype.toString.call(ve),"date");if(ne(ve))return x(ve)}var Sn,Rt="",Nt=!1,$t=["{","}"];return _(ve)&&(Nt=!0,$t=["[","]"]),Q(ve)&&(Rt=" [Function"+(ve.name?": "+ve.name:"")+"]"),we(ve)&&(Rt=" "+RegExp.prototype.toString.call(ve)),B(ve)&&(Rt=" "+Date.prototype.toUTCString.call(ve)),ne(ve)&&(Rt=" "+x(ve)),0!==_t.length||Nt&&0!=ve.length?ke<0?we(ve)?pe.stylize(RegExp.prototype.toString.call(ve),"regexp"):pe.stylize("[Object]","special"):(pe.seen.push(ve),Sn=Nt?function(pe,ve,ke,Ge,it){for(var _t=[],at=0,Et=ve.length;at<Et;++at)We(ve,String(at))?_t.push(S(pe,ve,ke,Ge,String(at),!0)):_t.push("");return it.forEach(function(Rt){Rt.match(/^\d+$/)||_t.push(S(pe,ve,ke,Ge,Rt,!0))}),_t}(pe,ve,ke,at,_t):_t.map(function(In){return S(pe,ve,ke,at,In,Nt)}),pe.seen.pop(),function(pe,ve,ke){var it=pe.reduce(function(_t,at){return at.indexOf("\n"),_t+at.replace(/\u001b\[\d\d?m/g,"").length+1},0);return it>60?ke[0]+(""===ve?"":ve+"\n ")+" "+pe.join(",\n  ")+" "+ke[1]:ke[0]+ve+" "+pe.join(", ")+" "+ke[1]}(Sn,Rt,$t)):$t[0]+Rt+$t[1]}function x(pe){return"["+Error.prototype.toString.call(pe)+"]"}function S(pe,ve,ke,Ge,it,_t){var at,Et,Rt;if((Rt=Object.getOwnPropertyDescriptor(ve,it)||{value:ve[it]}).get?Et=pe.stylize(Rt.set?"[Getter/Setter]":"[Getter]","special"):Rt.set&&(Et=pe.stylize("[Setter]","special")),We(Ge,it)||(at="["+it+"]"),Et||(pe.seen.indexOf(Rt.value)<0?(Et=d(ke)?O(pe,Rt.value,null):O(pe,Rt.value,ke-1)).indexOf("\n")>-1&&(Et=_t?Et.split("\n").map(function(Nt){return"  "+Nt}).join("\n").substr(2):"\n"+Et.split("\n").map(function(Nt){return"   "+Nt}).join("\n")):Et=pe.stylize("[Circular]","special")),ae(at)){if(_t&&it.match(/^\d+$/))return Et;(at=JSON.stringify(""+it)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(at=at.substr(1,at.length-2),at=pe.stylize(at,"name")):(at=at.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),at=pe.stylize(at,"string"))}return at+": "+Et}function _(pe){return Array.isArray(pe)}function v(pe){return"boolean"==typeof pe}function d(pe){return null===pe}function p(pe){return"number"==typeof pe}function h(pe){return"string"==typeof pe}function ae(pe){return void 0===pe}function we(pe){return Ee(pe)&&"[object RegExp]"===X(pe)}function Ee(pe){return"object"==typeof pe&&null!==pe}function B(pe){return Ee(pe)&&"[object Date]"===X(pe)}function ne(pe){return Ee(pe)&&("[object Error]"===X(pe)||pe instanceof Error)}function Q(pe){return"function"==typeof pe}function X(pe){return Object.prototype.toString.call(pe)}function se(pe){return pe<10?"0"+pe.toString(10):pe.toString(10)}W.debuglog=function(pe){if(pe=pe.toUpperCase(),!D[pe])if(L.test(pe)){var ve=process.pid;D[pe]=function(){var ke=W.format.apply(W,arguments);console.error("%s %d: %s",pe,ve,ke)}}else D[pe]=function(){};return D[pe]},W.inspect=k,k.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},k.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},W.types=c(8791),W.isArray=_,W.isBoolean=v,W.isNull=d,W.isNullOrUndefined=function(pe){return null==pe},W.isNumber=p,W.isString=h,W.isSymbol=function(pe){return"symbol"==typeof pe},W.isUndefined=ae,W.isRegExp=we,W.types.isRegExp=we,W.isObject=Ee,W.isDate=B,W.types.isDate=B,W.isError=ne,W.types.isNativeError=ne,W.isFunction=Q,W.isPrimitive=function(pe){return null===pe||"boolean"==typeof pe||"number"==typeof pe||"string"==typeof pe||"symbol"==typeof pe||void 0===pe},W.isBuffer=c(1451);var ce=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Oe(){var pe=new Date,ve=[se(pe.getHours()),se(pe.getMinutes()),se(pe.getSeconds())].join(":");return[pe.getDate(),ce[pe.getMonth()],ve].join(" ")}function We(pe,ve){return Object.prototype.hasOwnProperty.call(pe,ve)}W.log=function(){console.log("%s - %s",Oe(),W.format.apply(W,arguments))},W.inherits=c(3894),W._extend=function(pe,ve){if(!ve||!Ee(ve))return pe;for(var ke=Object.keys(ve),Ge=ke.length;Ge--;)pe[ke[Ge]]=ve[ke[Ge]];return pe};var tt="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function Pe(pe,ve){if(!pe){var ke=new Error("Promise was rejected with a falsy value");ke.reason=pe,pe=ke}return ve(pe)}W.promisify=function(ve){if("function"!=typeof ve)throw new TypeError('The "original" argument must be of type Function');if(tt&&ve[tt]){var ke;if("function"!=typeof(ke=ve[tt]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ke,tt,{value:ke,enumerable:!1,writable:!1,configurable:!0}),ke}function ke(){for(var Ge,it,_t=new Promise(function(Rt,Nt){Ge=Rt,it=Nt}),at=[],Et=0;Et<arguments.length;Et++)at.push(arguments[Et]);at.push(function(Rt,Nt){Rt?it(Rt):Ge(Nt)});try{ve.apply(this,at)}catch(Rt){it(Rt)}return _t}return Object.setPrototypeOf(ke,Object.getPrototypeOf(ve)),tt&&Object.defineProperty(ke,tt,{value:ke,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ke,i(ve))},W.promisify.custom=tt,W.callbackify=function(pe){if("function"!=typeof pe)throw new TypeError('The "original" argument must be of type Function');function ve(){for(var ke=[],Ge=0;Ge<arguments.length;Ge++)ke.push(arguments[Ge]);var it=ke.pop();if("function"!=typeof it)throw new TypeError("The last argument must be of type Function");var _t=this,at=function(){return it.apply(_t,arguments)};pe.apply(this,ke).then(function(Et){process.nextTick(at.bind(null,null,Et))},function(Et){process.nextTick(Pe.bind(null,Et,at))})}return Object.setPrototypeOf(ve,Object.getPrototypeOf(pe)),Object.defineProperties(ve,i(pe)),ve}},1042:(fe,W,c)=>{c.d(W,{Z:()=>x});var i,u=new Uint8Array(16);function D(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(u)}const L=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,k=function(T){return"string"==typeof T&&L.test(T)};for(var V=[],N=0;N<256;++N)V.push((N+256).toString(16).substr(1));const x=function(T,S,C){var _=(T=T||{}).random||(T.rng||D)();if(_[6]=15&_[6]|64,_[8]=63&_[8]|128,S){C=C||0;for(var v=0;v<16;++v)S[C+v]=_[v];return S}return function(T){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,C=(V[T[S+0]]+V[T[S+1]]+V[T[S+2]]+V[T[S+3]]+"-"+V[T[S+4]]+V[T[S+5]]+"-"+V[T[S+6]]+V[T[S+7]]+"-"+V[T[S+8]]+V[T[S+9]]+"-"+V[T[S+10]]+V[T[S+11]]+V[T[S+12]]+V[T[S+13]]+V[T[S+14]]+V[T[S+15]]).toLowerCase();if(!k(C))throw TypeError("Stringified UUID is invalid");return C}(_)}},2899:(fe,W)=>{function c(i,u,D){var L=D[D.length-1];i===L.element&&(D.pop(),L=D[D.length-1]);var U=L.element,k=L.index;Array.isArray(U)?U.push(i):k===u.length-2?U[u.pop()]=i:u.push(i)}W.stringify=function(u){var D=[];D.push({obj:u});for(var U,k,N,w,E,x,T,S,C,L="";U=D.pop();)if(k=U.obj,L+=U.prefix||"",N=U.val||"")L+=N;else if("object"!=typeof k)L+=void 0===k?null:JSON.stringify(k);else if(null===k)L+="null";else if(Array.isArray(k)){for(D.push({val:"]"}),w=k.length-1;w>=0;w--)D.push({obj:k[w],prefix:0===w?"":","});D.push({val:"["})}else{for(x in E=[],k)k.hasOwnProperty(x)&&E.push(x);for(D.push({val:"}"}),w=E.length-1;w>=0;w--)S=k[T=E[w]],C=w>0?",":"",C+=JSON.stringify(T)+":",D.push({obj:S,prefix:C});D.push({val:"{"})}return L},W.parse=function(i){for(var U,k,V,N,w,O,E,x,T,u=[],D=[],L=0;;)if("}"!==(U=i[L++])&&"]"!==U&&void 0!==U)switch(U){case" ":case"\t":case"\n":case":":case",":break;case"n":L+=3,c(null,u,D);break;case"t":L+=3,c(!0,u,D);break;case"f":L+=4,c(!1,u,D);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(k="",L--;;){if(V=i[L++],!/[\d\.\-e\+]/.test(V)){L--;break}k+=V}c(parseFloat(k),u,D);break;case'"':for(N="",w=void 0,O=0;'"'!==(E=i[L++])||"\\"===w&&O%2==1;)N+=E,"\\"===(w=E)?O++:O=0;c(JSON.parse('"'+N+'"'),u,D);break;case"[":u.push((x={element:[],index:u.length}).element),D.push(x);break;case"{":u.push((T={element:{},index:u.length}).element),D.push(T);break;default:throw new Error("unexpectedly reached end of input: "+U)}else{if(1===u.length)return u.pop();c(u.pop(),u,D)}}},2031:(fe,W,c)=>{var i=c(9076),u=c(7029),D=c(5834),L=D("Object.prototype.toString"),U=c(6259)(),k="undefined"==typeof globalThis?global:globalThis,V=u(),N=D("String.prototype.slice"),w={},O=c(8555),E=Object.getPrototypeOf;U&&O&&E&&i(V,function(S){if("function"==typeof k[S]){var C=new k[S];if(Symbol.toStringTag in C){var _=E(C),v=O(_,Symbol.toStringTag);if(!v){var d=E(_);v=O(d,Symbol.toStringTag)}w[S]=v.get}}});var T=c(597);fe.exports=function(C){return!!T(C)&&(U&&Symbol.toStringTag in C?function(C){var _=!1;return i(w,function(v,d){if(!_)try{var a=v.call(C);a===d&&(_=a)}catch{}}),_}(C):N(L(C),8,-1))}},1995:fe=>{fe.exports=function(){for(var i={},u=0;u<arguments.length;u++){var D=arguments[u];for(var L in D)W.call(D,L)&&(i[L]=D[L])}return i};var W=Object.prototype.hasOwnProperty},655:(fe,W,c)=>{function N(ne,Q,te,X){return new(te||(te=Promise))(function(ce,Oe){function We(De){try{Pe(X.next(De))}catch(pe){Oe(pe)}}function tt(De){try{Pe(X.throw(De))}catch(pe){Oe(pe)}}function Pe(De){De.done?ce(De.value):function(ce){return ce instanceof te?ce:new te(function(Oe){Oe(ce)})}(De.value).then(We,tt)}Pe((X=X.apply(ne,Q||[])).next())})}function v(ne){return this instanceof v?(this.v=ne,this):new v(ne)}function d(ne,Q,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var se,X=te.apply(ne,Q||[]),ce=[];return se={},Oe("next"),Oe("throw"),Oe("return"),se[Symbol.asyncIterator]=function(){return this},se;function Oe(ve){X[ve]&&(se[ve]=function(ke){return new Promise(function(Ge,it){ce.push([ve,ke,Ge,it])>1||We(ve,ke)})})}function We(ve,ke){try{!function(ve){ve.value instanceof v?Promise.resolve(ve.value.v).then(Pe,De):pe(ce[0][2],ve)}(X[ve](ke))}catch(Ge){pe(ce[0][3],Ge)}}function Pe(ve){We("next",ve)}function De(ve){We("throw",ve)}function pe(ve,ke){ve(ke),ce.shift(),ce.length&&We(ce[0][0],ce[0][1])}}function p(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,Q=ne[Symbol.asyncIterator];return Q?Q.call(ne):(ne=function(ne){var Q="function"==typeof Symbol&&Symbol.iterator,te=Q&&ne[Q],X=0;if(te)return te.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&X>=ne.length&&(ne=void 0),{value:ne&&ne[X++],done:!ne}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),te={},X("next"),X("throw"),X("return"),te[Symbol.asyncIterator]=function(){return this},te);function X(ce){te[ce]=ne[ce]&&function(Oe){return new Promise(function(We,tt){!function(ce,Oe,We,tt){Promise.resolve(tt).then(function(Pe){ce({value:Pe,done:We})},Oe)}(We,tt,(Oe=ne[ce](Oe)).done,Oe.value)})}}}c.d(W,{mG:()=>N,qq:()=>v,FC:()=>d,KL:()=>p})},2480:()=>{},4703:()=>{},7029:fe=>{var W=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],c="undefined"==typeof globalThis?global:globalThis;fe.exports=function(){for(var u=[],D=0;D<W.length;D++)"function"==typeof c[W[D]]&&(u[u.length]=W[D]);return u}},8555:(fe,W,c)=>{var u=c(5203)("%Object.getOwnPropertyDescriptor%",!0);if(u)try{u([],"length")}catch{u=null}fe.exports=u},7340:(fe,W,c)=>{c.d(W,{l3:()=>D,_j:()=>i,LC:()=>u,ZN:()=>d,jt:()=>U,oQ:()=>x,F4:()=>O,vP:()=>V,SB:()=>w,oB:()=>N,eR:()=>E,X$:()=>L,_7:()=>S,ZE:()=>a,k1:()=>p});class i{}class u{}const D="*";function L(h,H){return{type:7,name:h,definitions:H,options:{}}}function U(h,H=null){return{type:4,styles:H,timings:h}}function V(h,H=null){return{type:2,steps:h,options:H}}function N(h){return{type:6,styles:h,offset:null}}function w(h,H,ae){return{type:0,name:h,styles:H,options:ae}}function O(h){return{type:5,steps:h}}function E(h,H,ae=null){return{type:1,expr:h,animation:H,options:ae}}function x(h,H=null){return{type:8,animation:h,options:H}}function S(h,H=null){return{type:10,animation:h,options:H}}function v(h){Promise.resolve(null).then(h)}class d{constructor(H=0,ae=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=H+ae}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(H=>H()),this._onDoneFns=[])}onStart(H){this._onStartFns.push(H)}onDone(H){this._onDoneFns.push(H)}onDestroy(H){this._onDestroyFns.push(H)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){v(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(H=>H()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(H=>H()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(H){this._position=this.totalTime?H*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(H){const ae="start"==H?this._onStartFns:this._onDoneFns;ae.forEach(we=>we()),ae.length=0}}class a{constructor(H){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=H;let ae=0,we=0,Ee=0;const B=this.players.length;0==B?v(()=>this._onFinish()):this.players.forEach(ne=>{ne.onDone(()=>{++ae==B&&this._onFinish()}),ne.onDestroy(()=>{++we==B&&this._onDestroy()}),ne.onStart(()=>{++Ee==B&&this._onStart()})}),this.totalTime=this.players.reduce((ne,Q)=>Math.max(ne,Q.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(H=>H()),this._onDoneFns=[])}init(){this.players.forEach(H=>H.init())}onStart(H){this._onStartFns.push(H)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(H=>H()),this._onStartFns=[])}onDone(H){this._onDoneFns.push(H)}onDestroy(H){this._onDestroyFns.push(H)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(H=>H.play())}pause(){this.players.forEach(H=>H.pause())}restart(){this.players.forEach(H=>H.restart())}finish(){this._onFinish(),this.players.forEach(H=>H.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(H=>H.destroy()),this._onDestroyFns.forEach(H=>H()),this._onDestroyFns=[])}reset(){this.players.forEach(H=>H.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(H){const ae=H*this.totalTime;this.players.forEach(we=>{const Ee=we.totalTime?Math.min(1,ae/we.totalTime):1;we.setPosition(Ee)})}getPosition(){const H=this.players.reduce((ae,we)=>null===ae||we.totalTime>ae.totalTime?we:ae,null);return null!=H?H.getPosition():0}beforeDestroy(){this.players.forEach(H=>{H.beforeDestroy&&H.beforeDestroy()})}triggerCallback(H){const ae="start"==H?this._onStartFns:this._onDoneFns;ae.forEach(we=>we()),ae.length=0}}const p="!"},1281:(fe,W,c)=>{c.d(W,{Eq:()=>U,Ig:()=>u,fI:()=>V,su:()=>D});var i=c(7777);function u(w){return null!=w&&"false"!=`${w}`}function D(w,O=0){return function(w){return!isNaN(parseFloat(w))&&!isNaN(Number(w))}(w)?Number(w):O}function U(w){return Array.isArray(w)?w:[w]}function V(w){return w instanceof i.ElementRef?w.nativeElement:w}},1236:(fe,W,c)=>{c.d(W,{Zt:()=>Us,Hk:()=>Hr,Wj:()=>di,_t:()=>ra});var i=c(7777),u=c(1457),D=c(1281),L=c(7579),U=c(9646),k=c(8306),V=c(4968),N=c(6406),O=(c(3101),c(3601)),E=c(9300),x=c(3353);let p=(()=>{class ie{constructor(b,K,ee){this._ngZone=b,this._platform=K,this._scrolled=new L.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=ee}register(b){this.scrollContainers.has(b)||this.scrollContainers.set(b,b.elementScrolled().subscribe(()=>this._scrolled.next(b)))}deregister(b){const K=this.scrollContainers.get(b);K&&(K.unsubscribe(),this.scrollContainers.delete(b))}scrolled(b=20){return this._platform.isBrowser?new k.y(K=>{this._globalSubscription||this._addGlobalListener();const ee=b>0?this._scrolled.pipe((0,O.e)(b)).subscribe(K):this._scrolled.subscribe(K);return this._scrolledCount++,()=>{ee.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,U.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((b,K)=>this.deregister(K)),this._scrolled.complete()}ancestorScrolled(b,K){const ee=this.getAncestorScrollContainers(b);return this.scrolled(K).pipe((0,E.h)(ge=>!ge||ee.indexOf(ge)>-1))}getAncestorScrollContainers(b){const K=[];return this.scrollContainers.forEach((ee,ge)=>{this._scrollableContainsElement(ge,b)&&K.push(ge)}),K}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(b,K){let ee=(0,D.fI)(K),ge=b.getElementRef().nativeElement;do{if(ee==ge)return!0}while(ee=ee.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const b=this._getWindow();return(0,V.R)(b.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return ie.\u0275fac=function(b){return new(b||ie)(i.\u0275\u0275inject(i.NgZone),i.\u0275\u0275inject(x.t4),i.\u0275\u0275inject(u.DOCUMENT,8))},ie.\u0275prov=i.\u0275\u0275defineInjectable({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),ae=(()=>{class ie{constructor(b,K,ee){this._platform=b,this._change=new L.x,this._changeListener=ge=>{this._change.next(ge)},this._document=ee,K.runOutsideAngular(()=>{if(b.isBrowser){const ge=this._getWindow();ge.addEventListener("resize",this._changeListener),ge.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const b=this._getWindow();b.removeEventListener("resize",this._changeListener),b.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const b={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),b}getViewportRect(){const b=this.getViewportScrollPosition(),{width:K,height:ee}=this.getViewportSize();return{top:b.top,left:b.left,bottom:b.top+ee,right:b.left+K,height:ee,width:K}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const b=this._document,K=this._getWindow(),ee=b.documentElement,ge=ee.getBoundingClientRect();return{top:-ge.top||b.body.scrollTop||K.scrollY||ee.scrollTop||0,left:-ge.left||b.body.scrollLeft||K.scrollX||ee.scrollLeft||0}}change(b=20){return b>0?this._change.pipe((0,O.e)(b)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const b=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:b.innerWidth,height:b.innerHeight}:{width:0,height:0}}}return ie.\u0275fac=function(b){return new(b||ie)(i.\u0275\u0275inject(x.t4),i.\u0275\u0275inject(i.NgZone),i.\u0275\u0275inject(u.DOCUMENT,8))},ie.\u0275prov=i.\u0275\u0275defineInjectable({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})(),te=(()=>{class ie{}return ie.\u0275fac=function(b){return new(b||ie)},ie.\u0275mod=i.\u0275\u0275defineNgModule({type:ie}),ie.\u0275inj=i.\u0275\u0275defineInjector({}),ie})();var Kn=c(727),Ci=c(7445),co=c(6451),xs=c(2722),fo=c(8675),mr=c(4004),Fs=c(5698),Vr=c(8505),Qo=c(3900);const Zo=new i.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,i.inject)(u.DOCUMENT)}});let bn=(()=>{class ie{constructor(b){if(this.value="ltr",this.change=new i.EventEmitter,b){const ee=b.documentElement?b.documentElement.dir:null,ge=(b.body?b.body.dir:null)||ee;this.value="ltr"===ge||"rtl"===ge?ge:"ltr"}}ngOnDestroy(){this.change.complete()}}return ie.\u0275fac=function(b){return new(b||ie)(i.\u0275\u0275inject(Zo,8))},ie.\u0275prov=i.\u0275\u0275defineInjectable({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();function ui(ie,R,b){for(let K in R)if(R.hasOwnProperty(K)){const ee=R[K];ee?ie.setProperty(K,ee,b?.has(K)?"important":""):ie.removeProperty(K)}return ie}function Or(ie,R){const b=R?"":"none";ui(ie.style,{"touch-action":R?"":"none","-webkit-user-drag":R?"":"none","-webkit-tap-highlight-color":R?"":"transparent","user-select":b,"-ms-user-select":b,"-webkit-user-select":b,"-moz-user-select":b})}function ho(ie,R,b){ui(ie.style,{position:R?"":"fixed",top:R?"":"0",opacity:R?"":"0",left:R?"":"-999em"},b)}function pt(ie,R){return R&&"none"!=R?ie+" "+R:ie}function po(ie){const R=ie.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(ie)*R}function mo(ie,R){return ie.getPropertyValue(R).split(",").map(K=>K.trim())}function go(ie){const R=ie.getBoundingClientRect();return{top:R.top,right:R.right,bottom:R.bottom,left:R.left,width:R.width,height:R.height,x:R.x,y:R.y}}function vo(ie,R,b){const{top:K,bottom:ee,left:ge,right:Me}=ie;return b>=K&&b<=ee&&R>=ge&&R<=Me}function wi(ie,R,b){ie.top+=R,ie.bottom=ie.top+ie.height,ie.left+=b,ie.right=ie.left+ie.width}function yo(ie,R,b,K){const{top:ee,right:ge,bottom:Me,left:Ve,width:Xe,height:ft}=ie,Mt=Xe*R,Dn=ft*R;return K>ee-Dn&&K<Me+Dn&&b>Ve-Mt&&b<ge+Mt}class gr{constructor(R,b){this._document=R,this._viewportRuler=b,this.positions=new Map}clear(){this.positions.clear()}cache(R){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),R.forEach(b=>{this.positions.set(b,{scrollPosition:{top:b.scrollTop,left:b.scrollLeft},clientRect:go(b)})})}handleScroll(R){const b=(0,x.sA)(R),K=this.positions.get(b);if(!K)return null;const ee=K.scrollPosition;let ge,Me;if(b===this._document){const ft=this._viewportRuler.getViewportScrollPosition();ge=ft.top,Me=ft.left}else ge=b.scrollTop,Me=b.scrollLeft;const Ve=ee.top-ge,Xe=ee.left-Me;return this.positions.forEach((ft,Mt)=>{ft.clientRect&&b!==Mt&&b.contains(Mt)&&wi(ft.clientRect,Ve,Xe)}),ee.top=ge,ee.left=Me,{top:Ve,left:Xe}}}function jt(ie){const R=ie.cloneNode(!0),b=R.querySelectorAll("[id]"),K=ie.nodeName.toLowerCase();R.removeAttribute("id");for(let ee=0;ee<b.length;ee++)b[ee].removeAttribute("id");return"canvas"===K?zr(ie,R):("input"===K||"select"===K||"textarea"===K)&&bo(ie,R),Yo("canvas",ie,R,zr),Yo("input, textarea, select",ie,R,bo),R}function Yo(ie,R,b,K){const ee=R.querySelectorAll(ie);if(ee.length){const ge=b.querySelectorAll(ie);for(let Me=0;Me<ee.length;Me++)K(ee[Me],ge[Me])}}let _o=0;function bo(ie,R){"file"!==R.type&&(R.value=ie.value),"radio"===R.type&&R.name&&(R.name=`mat-clone-${R.name}-${_o++}`)}function zr(ie,R){const b=R.getContext("2d");if(b)try{b.drawImage(ie,0,0)}catch{}}const Eo=(0,x.i$)({passive:!0}),Di=(0,x.i$)({passive:!1}),li=new Set(["position"]);class us{constructor(R,b,K,ee,ge,Me){this._config=b,this._document=K,this._ngZone=ee,this._viewportRuler=ge,this._dragDropRegistry=Me,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new L.x,this._pointerMoveSubscription=Kn.w0.EMPTY,this._pointerUpSubscription=Kn.w0.EMPTY,this._scrollSubscription=Kn.w0.EMPTY,this._resizeSubscription=Kn.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new L.x,this.started=new L.x,this.released=new L.x,this.ended=new L.x,this.entered=new L.x,this.exited=new L.x,this.dropped=new L.x,this.moved=this._moveEvents,this._pointerDown=Ve=>{if(this.beforeStarted.next(),this._handles.length){const Xe=this._handles.find(ft=>Ve.target&&(Ve.target===ft||ft.contains(Ve.target)));Xe&&!this._disabledHandles.has(Xe)&&!this.disabled&&this._initializeDragSequence(Xe,Ve)}else this.disabled||this._initializeDragSequence(this._rootElement,Ve)},this._pointerMove=Ve=>{const Xe=this._getPointerPositionOnPage(Ve);if(!this._hasStartedDragging){if(Math.abs(Xe.x-this._pickupPositionOnPage.x)+Math.abs(Xe.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const cs=Date.now()>=this._dragStartTime+this._getDragStartDelay(Ve),Ii=this._dropContainer;if(!cs)return void this._endDragSequence(Ve);(!Ii||!Ii.isDragging()&&!Ii.isReceiving())&&(Ve.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(Ve)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),Ve.preventDefault();const ft=this._getConstrainedPointerPosition(Xe);if(this._hasMoved=!0,this._lastKnownPointerPosition=Xe,this._updatePointerDirectionDelta(ft),this._dropContainer)this._updateActiveDropContainer(ft,Xe);else{const Mt=this._activeTransform;Mt.x=ft.x-this._pickupPositionOnPage.x+this._passiveTransform.x,Mt.y=ft.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(Mt.x,Mt.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:ft,event:Ve,distance:this._getDragDistance(ft),delta:this._pointerDirectionDelta})})},this._pointerUp=Ve=>{this._endDragSequence(Ve)},this.withRootElement(R).withParent(b.parentDragRef||null),this._parentPositions=new gr(K,ge),Me.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(R){const b=(0,D.Ig)(R);b!==this._disabled&&(this._disabled=b,this._toggleNativeDragInteractions(),this._handles.forEach(K=>Or(K,b)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(R){this._handles=R.map(K=>(0,D.fI)(K)),this._handles.forEach(K=>Or(K,this.disabled)),this._toggleNativeDragInteractions();const b=new Set;return this._disabledHandles.forEach(K=>{this._handles.indexOf(K)>-1&&b.add(K)}),this._disabledHandles=b,this}withPreviewTemplate(R){return this._previewTemplate=R,this}withPlaceholderTemplate(R){return this._placeholderTemplate=R,this}withRootElement(R){const b=(0,D.fI)(R);return b!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{b.addEventListener("mousedown",this._pointerDown,Di),b.addEventListener("touchstart",this._pointerDown,Eo)}),this._initialTransform=void 0,this._rootElement=b),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(R){return this._boundaryElement=R?(0,D.fI)(R):null,this._resizeSubscription.unsubscribe(),R&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(R){return this._parentDragRef=R,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(R){!this._disabledHandles.has(R)&&this._handles.indexOf(R)>-1&&(this._disabledHandles.add(R),Or(R,!0))}enableHandle(R){this._disabledHandles.has(R)&&(this._disabledHandles.delete(R),Or(R,this.disabled))}withDirection(R){return this._direction=R,this}_withDropContainer(R){this._dropContainer=R}getFreeDragPosition(){const R=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:R.x,y:R.y}}setFreeDragPosition(R){return this._activeTransform={x:0,y:0},this._passiveTransform.x=R.x,this._passiveTransform.y=R.y,this._dropContainer||this._applyRootElementTransform(R.x,R.y),this}withPreviewContainer(R){return this._previewContainer=R,this}_sortFromLastPointerPosition(){const R=this._lastKnownPointerPosition;R&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(R),R)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(R){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(R),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const b=this._getPointerPositionOnPage(R);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(b),dropPoint:b})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(R){$r(R)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const b=this._dropContainer;if(b){const K=this._rootElement,ee=K.parentNode,ge=this._placeholder=this._createPlaceholderElement(),Me=this._anchor=this._anchor||this._document.createComment(""),Ve=this._getShadowRoot();ee.insertBefore(Me,K),this._initialTransform=K.style.transform||"",this._preview=this._createPreviewElement(),ho(K,!1,li),this._document.body.appendChild(ee.replaceChild(ge,K)),this._getPreviewInsertionPoint(ee,Ve).appendChild(this._preview),this.started.next({source:this}),b.start(),this._initialContainer=b,this._initialIndex=b.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(b?b.getScrollableParents():[])}_initializeDragSequence(R,b){this._parentDragRef&&b.stopPropagation();const K=this.isDragging(),ee=$r(b),ge=!ee&&0!==b.button,Me=this._rootElement,Ve=(0,x.sA)(b),Xe=!ee&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),ft=ee?function(ie){const R=ie.touches&&ie.touches[0]||ie.changedTouches&&ie.changedTouches[0];return!(!R||-1!==R.identifier||null!=R.radiusX&&1!==R.radiusX||null!=R.radiusY&&1!==R.radiusY)}(b):0===(ie=b).offsetX&&0===ie.offsetY;var ie;if(Ve&&Ve.draggable&&"mousedown"===b.type&&b.preventDefault(),K||ge||Xe||ft)return;if(this._handles.length){const Gn=Me.style;this._rootElementTapHighlight=Gn.webkitTapHighlightColor||"",Gn.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Gn=>this._updateOnScroll(Gn)),this._boundaryElement&&(this._boundaryRect=go(this._boundaryElement));const Mt=this._previewTemplate;this._pickupPositionInElement=Mt&&Mt.template&&!Mt.matchSize?{x:0,y:0}:this._getPointerPositionInElement(R,b);const Dn=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(b);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:Dn.x,y:Dn.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,b)}_cleanupDragArtifacts(R){ho(this._rootElement,!0,li),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const b=this._dropContainer,K=b.getItemIndex(this),ee=this._getPointerPositionOnPage(R),ge=this._getDragDistance(ee),Me=b._isOverContainer(ee.x,ee.y);this.ended.next({source:this,distance:ge,dropPoint:ee}),this.dropped.next({item:this,currentIndex:K,previousIndex:this._initialIndex,container:b,previousContainer:this._initialContainer,isPointerOverContainer:Me,distance:ge,dropPoint:ee}),b.drop(this,K,this._initialIndex,this._initialContainer,Me,ge,ee),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:R,y:b},{x:K,y:ee}){let ge=this._initialContainer._getSiblingContainerFromPosition(this,R,b);!ge&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(R,b)&&(ge=this._initialContainer),ge&&ge!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=ge,this._dropContainer.enter(this,R,b,ge===this._initialContainer&&ge.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:ge,currentIndex:ge.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(K,ee),this._dropContainer._sortItem(this,R,b,this._pointerDirectionDelta),this._applyPreviewTransform(R-this._pickupPositionInElement.x,b-this._pickupPositionInElement.y))}_createPreviewElement(){const R=this._previewTemplate,b=this.previewClass,K=R?R.template:null;let ee;if(K&&R){const ge=R.matchSize?this._rootElement.getBoundingClientRect():null,Me=R.viewContainer.createEmbeddedView(K,R.context);Me.detectChanges(),ee=vr(Me,this._document),this._previewRef=Me,R.matchSize?ks(ee,ge):ee.style.transform=ci(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const ge=this._rootElement;ee=jt(ge),ks(ee,ge.getBoundingClientRect()),this._initialTransform&&(ee.style.transform=this._initialTransform)}return ui(ee.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},li),Or(ee,!1),ee.classList.add("cdk-drag-preview"),ee.setAttribute("dir",this._direction),b&&(Array.isArray(b)?b.forEach(ge=>ee.classList.add(ge)):ee.classList.add(b)),ee}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const R=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(R.left,R.top);const b=function(ie){const R=getComputedStyle(ie),b=mo(R,"transition-property"),K=b.find(Ve=>"transform"===Ve||"all"===Ve);if(!K)return 0;const ee=b.indexOf(K),ge=mo(R,"transition-duration"),Me=mo(R,"transition-delay");return po(ge[ee])+po(Me[ee])}(this._preview);return 0===b?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(K=>{const ee=Me=>{(!Me||(0,x.sA)(Me)===this._preview&&"transform"===Me.propertyName)&&(this._preview?.removeEventListener("transitionend",ee),K(),clearTimeout(ge))},ge=setTimeout(ee,1.5*b);this._preview.addEventListener("transitionend",ee)}))}_createPlaceholderElement(){const R=this._placeholderTemplate,b=R?R.template:null;let K;return b?(this._placeholderRef=R.viewContainer.createEmbeddedView(b,R.context),this._placeholderRef.detectChanges(),K=vr(this._placeholderRef,this._document)):K=jt(this._rootElement),K.classList.add("cdk-drag-placeholder"),K}_getPointerPositionInElement(R,b){const K=this._rootElement.getBoundingClientRect(),ee=R===this._rootElement?null:R,ge=ee?ee.getBoundingClientRect():K,Me=$r(b)?b.targetTouches[0]:b,Ve=this._getViewportScrollPosition();return{x:ge.left-K.left+(Me.pageX-ge.left-Ve.left),y:ge.top-K.top+(Me.pageY-ge.top-Ve.top)}}_getPointerPositionOnPage(R){const b=this._getViewportScrollPosition(),K=$r(R)?R.touches[0]||R.changedTouches[0]||{pageX:0,pageY:0}:R,ee=K.pageX-b.left,ge=K.pageY-b.top;if(this._ownerSVGElement){const Me=this._ownerSVGElement.getScreenCTM();if(Me){const Ve=this._ownerSVGElement.createSVGPoint();return Ve.x=ee,Ve.y=ge,Ve.matrixTransform(Me.inverse())}}return{x:ee,y:ge}}_getConstrainedPointerPosition(R){const b=this._dropContainer?this._dropContainer.lockAxis:null;let{x:K,y:ee}=this.constrainPosition?this.constrainPosition(R,this):R;if("x"===this.lockAxis||"x"===b?ee=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===b)&&(K=this._pickupPositionOnPage.x),this._boundaryRect){const{x:ge,y:Me}=this._pickupPositionInElement,Ve=this._boundaryRect,Xe=this._previewRect,ft=Ve.top+Me,Mt=Ve.bottom-(Xe.height-Me);K=Jo(K,Ve.left+ge,Ve.right-(Xe.width-ge)),ee=Jo(ee,ft,Mt)}return{x:K,y:ee}}_updatePointerDirectionDelta(R){const{x:b,y:K}=R,ee=this._pointerDirectionDelta,ge=this._pointerPositionAtLastDirectionChange,Me=Math.abs(b-ge.x),Ve=Math.abs(K-ge.y);return Me>this._config.pointerDirectionChangeThreshold&&(ee.x=b>ge.x?1:-1,ge.x=b),Ve>this._config.pointerDirectionChangeThreshold&&(ee.y=K>ge.y?1:-1,ge.y=K),ee}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const R=this._handles.length>0||!this.isDragging();R!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=R,Or(this._rootElement,R))}_removeRootElementListeners(R){R.removeEventListener("mousedown",this._pointerDown,Di),R.removeEventListener("touchstart",this._pointerDown,Eo)}_applyRootElementTransform(R,b){const K=ci(R,b),ee=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=ee.transform&&"none"!=ee.transform?ee.transform:""),ee.transform=pt(K,this._initialTransform)}_applyPreviewTransform(R,b){const K=this._previewTemplate?.template?void 0:this._initialTransform,ee=ci(R,b);this._preview.style.transform=pt(ee,K)}_getDragDistance(R){const b=this._pickupPositionOnPage;return b?{x:R.x-b.x,y:R.y-b.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:R,y:b}=this._passiveTransform;if(0===R&&0===b||this.isDragging()||!this._boundaryElement)return;const K=this._boundaryElement.getBoundingClientRect(),ee=this._rootElement.getBoundingClientRect();if(0===K.width&&0===K.height||0===ee.width&&0===ee.height)return;const ge=K.left-ee.left,Me=ee.right-K.right,Ve=K.top-ee.top,Xe=ee.bottom-K.bottom;K.width>ee.width?(ge>0&&(R+=ge),Me>0&&(R-=Me)):R=0,K.height>ee.height?(Ve>0&&(b+=Ve),Xe>0&&(b-=Xe)):b=0,(R!==this._passiveTransform.x||b!==this._passiveTransform.y)&&this.setFreeDragPosition({y:b,x:R})}_getDragStartDelay(R){const b=this.dragStartDelay;return"number"==typeof b?b:$r(R)?b.touch:b?b.mouse:0}_updateOnScroll(R){const b=this._parentPositions.handleScroll(R);if(b){const K=(0,x.sA)(R);this._boundaryRect&&K!==this._boundaryElement&&K.contains(this._boundaryElement)&&wi(this._boundaryRect,b.top,b.left),this._pickupPositionOnPage.x+=b.left,this._pickupPositionOnPage.y+=b.top,this._dropContainer||(this._activeTransform.x-=b.left,this._activeTransform.y-=b.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const R=this._parentPositions.positions.get(this._document);return R?R.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,x.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(R,b){const K=this._previewContainer||"global";if("parent"===K)return R;if("global"===K){const ee=this._document;return b||ee.fullscreenElement||ee.webkitFullscreenElement||ee.mozFullScreenElement||ee.msFullscreenElement||ee.body}return(0,D.fI)(K)}}function ci(ie,R){return`translate3d(${Math.round(ie)}px, ${Math.round(R)}px, 0)`}function Jo(ie,R,b){return Math.max(R,Math.min(b,ie))}function $r(ie){return"t"===ie.type[0]}function vr(ie,R){const b=ie.rootNodes;if(1===b.length&&b[0].nodeType===R.ELEMENT_NODE)return b[0];const K=R.createElement("div");return b.forEach(ee=>K.appendChild(ee)),K}function ks(ie,R){ie.style.width=`${R.width}px`,ie.style.height=`${R.height}px`,ie.style.transform=ci(R.left,R.top)}function Pi(ie,R){return Math.max(0,Math.min(R,ie))}class Ls{constructor(R,b,K,ee,ge){this._dragDropRegistry=b,this._ngZone=ee,this._viewportRuler=ge,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new L.x,this.entered=new L.x,this.exited=new L.x,this.dropped=new L.x,this.sorted=new L.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Kn.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new L.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,Ci.F)(0,N.Z).pipe((0,xs.R)(this._stopScrollTimers)).subscribe(()=>{const Me=this._scrollNode,Ve=this.autoScrollStep;1===this._verticalScrollDirection?Me.scrollBy(0,-Ve):2===this._verticalScrollDirection&&Me.scrollBy(0,Ve),1===this._horizontalScrollDirection?Me.scrollBy(-Ve,0):2===this._horizontalScrollDirection&&Me.scrollBy(Ve,0)})},this.element=(0,D.fI)(R),this._document=K,this.withScrollableParents([this.element]),b.registerDropContainer(this),this._parentPositions=new gr(K,ge)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(R,b,K,ee){let ge;this._draggingStarted(),null==ee?(ge=this.sortingDisabled?this._draggables.indexOf(R):-1,-1===ge&&(ge=this._getItemIndexFromPointerPosition(R,b,K))):ge=ee;const Me=this._activeDraggables,Ve=Me.indexOf(R),Xe=R.getPlaceholderElement();let ft=Me[ge];if(ft===R&&(ft=Me[ge+1]),Ve>-1&&Me.splice(Ve,1),ft&&!this._dragDropRegistry.isDragging(ft)){const Mt=ft.getRootElement();Mt.parentElement.insertBefore(Xe,Mt),Me.splice(ge,0,R)}else if(this._shouldEnterAsFirstChild(b,K)){const Mt=Me[0].getRootElement();Mt.parentNode.insertBefore(Xe,Mt),Me.unshift(R)}else(0,D.fI)(this.element).appendChild(Xe),Me.push(R);Xe.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:R,container:this,currentIndex:this.getItemIndex(R)})}exit(R){this._reset(),this.exited.next({item:R,container:this})}drop(R,b,K,ee,ge,Me,Ve){this._reset(),this.dropped.next({item:R,currentIndex:b,previousIndex:K,container:this,previousContainer:ee,isPointerOverContainer:ge,distance:Me,dropPoint:Ve})}withItems(R){const b=this._draggables;return this._draggables=R,R.forEach(K=>K._withDropContainer(this)),this.isDragging()&&(b.filter(ee=>ee.isDragging()).every(ee=>-1===R.indexOf(ee))?this._reset():this._cacheItems()),this}withDirection(R){return this._direction=R,this}connectedTo(R){return this._siblings=R.slice(),this}withOrientation(R){return this._orientation=R,this}withScrollableParents(R){const b=(0,D.fI)(this.element);return this._scrollableElements=-1===R.indexOf(b)?[b,...R]:R.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(R){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(K=>K.drag===R):this._draggables.indexOf(R)}isReceiving(){return this._activeSiblings.size>0}_sortItem(R,b,K,ee){if(this.sortingDisabled||!this._clientRect||!yo(this._clientRect,.05,b,K))return;const ge=this._itemPositions,Me=this._getItemIndexFromPointerPosition(R,b,K,ee);if(-1===Me&&ge.length>0)return;const Ve="horizontal"===this._orientation,Xe=ge.findIndex(dr=>dr.drag===R),ft=ge[Me],Dn=ft.clientRect,Gn=Xe>Me?1:-1,cs=this._getItemOffsetPx(ge[Xe].clientRect,Dn,Gn),Ii=this._getSiblingOffsetPx(Xe,ge,Gn),Yi=ge.slice();(function(ie,R,b){const K=Pi(R,ie.length-1),ee=Pi(b,ie.length-1);if(K===ee)return;const ge=ie[K],Me=ee<K?-1:1;for(let Ve=K;Ve!==ee;Ve+=Me)ie[Ve]=ie[Ve+Me];ie[ee]=ge})(ge,Xe,Me),this.sorted.next({previousIndex:Xe,currentIndex:Me,container:this,item:R}),ge.forEach((dr,Vs)=>{if(Yi[Vs]===dr)return;const Ji=dr.drag===R,ds=Ji?cs:Ii,ia=Ji?R.getPlaceholderElement():dr.drag.getRootElement();dr.offset+=ds,Ve?(ia.style.transform=pt(`translate3d(${Math.round(dr.offset)}px, 0, 0)`,dr.initialTransform),wi(dr.clientRect,0,ds)):(ia.style.transform=pt(`translate3d(0, ${Math.round(dr.offset)}px, 0)`,dr.initialTransform),wi(dr.clientRect,ds,0))}),this._previousSwap.overlaps=vo(Dn,b,K),this._previousSwap.drag=ft.drag,this._previousSwap.delta=Ve?ee.x:ee.y}_startScrollingIfNecessary(R,b){if(this.autoScrollDisabled)return;let K,ee=0,ge=0;if(this._parentPositions.positions.forEach((Me,Ve)=>{Ve===this._document||!Me.clientRect||K||yo(Me.clientRect,.05,R,b)&&([ee,ge]=function(ie,R,b,K){const ee=Pr(R,K),ge=Zi(R,b);let Me=0,Ve=0;if(ee){const Xe=ie.scrollTop;1===ee?Xe>0&&(Me=1):ie.scrollHeight-Xe>ie.clientHeight&&(Me=2)}if(ge){const Xe=ie.scrollLeft;1===ge?Xe>0&&(Ve=1):ie.scrollWidth-Xe>ie.clientWidth&&(Ve=2)}return[Me,Ve]}(Ve,Me.clientRect,R,b),(ee||ge)&&(K=Ve))}),!ee&&!ge){const{width:Me,height:Ve}=this._viewportRuler.getViewportSize(),Xe={width:Me,height:Ve,top:0,right:Me,bottom:Ve,left:0};ee=Pr(Xe,b),ge=Zi(Xe,R),K=window}K&&(ee!==this._verticalScrollDirection||ge!==this._horizontalScrollDirection||K!==this._scrollNode)&&(this._verticalScrollDirection=ee,this._horizontalScrollDirection=ge,this._scrollNode=K,(ee||ge)&&K?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const R=(0,D.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=R.msScrollSnapType||R.scrollSnapType||"",R.scrollSnapType=R.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const R=(0,D.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(R).clientRect}_cacheItemPositions(){const R="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(b=>{const K=b.getVisibleElement();return{drag:b,offset:0,initialTransform:K.style.transform||"",clientRect:go(K)}}).sort((b,K)=>R?b.clientRect.left-K.clientRect.left:b.clientRect.top-K.clientRect.top)}_reset(){this._isDragging=!1;const R=(0,D.fI)(this.element).style;R.scrollSnapType=R.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(b=>{const K=b.getRootElement();if(K){const ee=this._itemPositions.find(ge=>ge.drag===b)?.initialTransform;K.style.transform=ee||""}}),this._siblings.forEach(b=>b._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(R,b,K){const ee="horizontal"===this._orientation,ge=b[R].clientRect,Me=b[R+-1*K];let Ve=ge[ee?"width":"height"]*K;if(Me){const Xe=ee?"left":"top",ft=ee?"right":"bottom";-1===K?Ve-=Me.clientRect[Xe]-ge[ft]:Ve+=ge[Xe]-Me.clientRect[ft]}return Ve}_getItemOffsetPx(R,b,K){const ee="horizontal"===this._orientation;let ge=ee?b.left-R.left:b.top-R.top;return-1===K&&(ge+=ee?b.width-R.width:b.height-R.height),ge}_shouldEnterAsFirstChild(R,b){if(!this._activeDraggables.length)return!1;const K=this._itemPositions,ee="horizontal"===this._orientation;if(K[0].drag!==this._activeDraggables[0]){const Me=K[K.length-1].clientRect;return ee?R>=Me.right:b>=Me.bottom}{const Me=K[0].clientRect;return ee?R<=Me.left:b<=Me.top}}_getItemIndexFromPointerPosition(R,b,K,ee){const ge="horizontal"===this._orientation,Me=this._itemPositions.findIndex(({drag:Ve,clientRect:Xe})=>{if(Ve===R)return!1;if(ee){const ft=ge?ee.x:ee.y;if(Ve===this._previousSwap.drag&&this._previousSwap.overlaps&&ft===this._previousSwap.delta)return!1}return ge?b>=Math.floor(Xe.left)&&b<Math.floor(Xe.right):K>=Math.floor(Xe.top)&&K<Math.floor(Xe.bottom)});return-1!==Me&&this.sortPredicate(Me,R,this)?Me:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(R,b){return null!=this._clientRect&&vo(this._clientRect,R,b)}_getSiblingContainerFromPosition(R,b,K){return this._siblings.find(ee=>ee._canReceive(R,b,K))}_canReceive(R,b,K){if(!this._clientRect||!vo(this._clientRect,b,K)||!this.enterPredicate(R,this))return!1;const ee=this._getShadowRoot().elementFromPoint(b,K);if(!ee)return!1;const ge=(0,D.fI)(this.element);return ee===ge||ge.contains(ee)}_startReceiving(R,b){const K=this._activeSiblings;!K.has(R)&&b.every(ee=>this.enterPredicate(ee,this)||this._draggables.indexOf(ee)>-1)&&(K.add(R),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(R){this._activeSiblings.delete(R),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(R=>{if(this.isDragging()){const b=this._parentPositions.handleScroll(R);b&&(this._itemPositions.forEach(({clientRect:K})=>{wi(K,b.top,b.left)}),this._itemPositions.forEach(({drag:K})=>{this._dragDropRegistry.isDragging(K)&&K._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const R=(0,x.kV)((0,D.fI)(this.element));this._cachedShadowRoot=R||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const R=this._activeDraggables.filter(b=>b.isDragging());this._siblings.forEach(b=>b._startReceiving(this,R))}}function Pr(ie,R){const{top:b,bottom:K,height:ee}=ie,ge=.05*ee;return R>=b-ge&&R<=b+ge?1:R>=K-ge&&R<=K+ge?2:0}function Zi(ie,R){const{left:b,right:K,width:ee}=ie,ge=.05*ee;return R>=b-ge&&R<=b+ge?1:R>=K-ge&&R<=K+ge?2:0}const Bs=(0,x.i$)({passive:!1,capture:!0});let Xo=(()=>{class ie{constructor(b,K){this._ngZone=b,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=ee=>ee.isDragging(),this.pointerMove=new L.x,this.pointerUp=new L.x,this.scroll=new L.x,this._preventDefaultWhileDragging=ee=>{this._activeDragInstances.length>0&&ee.preventDefault()},this._persistentTouchmoveListener=ee=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&ee.preventDefault(),this.pointerMove.next(ee))},this._document=K}registerDropContainer(b){this._dropInstances.has(b)||this._dropInstances.add(b)}registerDragItem(b){this._dragInstances.add(b),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Bs)})}removeDropContainer(b){this._dropInstances.delete(b)}removeDragItem(b){this._dragInstances.delete(b),this.stopDragging(b),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Bs)}startDragging(b,K){if(!(this._activeDragInstances.indexOf(b)>-1)&&(this._activeDragInstances.push(b),1===this._activeDragInstances.length)){const ee=K.type.startsWith("touch");this._globalListeners.set(ee?"touchend":"mouseup",{handler:ge=>this.pointerUp.next(ge),options:!0}).set("scroll",{handler:ge=>this.scroll.next(ge),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Bs}),ee||this._globalListeners.set("mousemove",{handler:ge=>this.pointerMove.next(ge),options:Bs}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((ge,Me)=>{this._document.addEventListener(Me,ge.handler,ge.options)})})}}stopDragging(b){const K=this._activeDragInstances.indexOf(b);K>-1&&(this._activeDragInstances.splice(K,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(b){return this._activeDragInstances.indexOf(b)>-1}scrolled(b){const K=[this.scroll];return b&&b!==this._document&&K.push(new k.y(ee=>this._ngZone.runOutsideAngular(()=>{const Me=Ve=>{this._activeDragInstances.length&&ee.next(Ve)};return b.addEventListener("scroll",Me,!0),()=>{b.removeEventListener("scroll",Me,!0)}}))),(0,co.T)(...K)}ngOnDestroy(){this._dragInstances.forEach(b=>this.removeDragItem(b)),this._dropInstances.forEach(b=>this.removeDropContainer(b)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((b,K)=>{this._document.removeEventListener(K,b.handler,b.options)}),this._globalListeners.clear()}}return ie.\u0275fac=function(b){return new(b||ie)(i.\u0275\u0275inject(i.NgZone),i.\u0275\u0275inject(u.DOCUMENT))},ie.\u0275prov=i.\u0275\u0275defineInjectable({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();const qo={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Ns=(()=>{class ie{constructor(b,K,ee,ge){this._document=b,this._ngZone=K,this._viewportRuler=ee,this._dragDropRegistry=ge}createDrag(b,K=qo){return new us(b,K,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(b){return new Ls(b,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return ie.\u0275fac=function(b){return new(b||ie)(i.\u0275\u0275inject(u.DOCUMENT),i.\u0275\u0275inject(i.NgZone),i.\u0275\u0275inject(ae),i.\u0275\u0275inject(Xo))},ie.\u0275prov=i.\u0275\u0275defineInjectable({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})();const Ke=new i.InjectionToken("CDK_DRAG_PARENT"),Xt=new i.InjectionToken("CdkDropListGroup"),Ti=new i.InjectionToken("CDK_DRAG_CONFIG");let nr=0;const Co=new i.InjectionToken("CdkDropList");let di=(()=>{class ie{constructor(b,K,ee,ge,Me,Ve,Xe){this.element=b,this._changeDetectorRef=ee,this._scrollDispatcher=ge,this._dir=Me,this._group=Ve,this._destroyed=new L.x,this.connectedTo=[],this.id="cdk-drop-list-"+nr++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new i.EventEmitter,this.entered=new i.EventEmitter,this.exited=new i.EventEmitter,this.sorted=new i.EventEmitter,this._unsortedItems=new Set,this._dropListRef=K.createDropList(b),this._dropListRef.data=this,Xe&&this._assignDefaults(Xe),this._dropListRef.enterPredicate=(ft,Mt)=>this.enterPredicate(ft.data,Mt.data),this._dropListRef.sortPredicate=(ft,Mt,Dn)=>this.sortPredicate(ft,Mt.data,Dn.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),ie._dropLists.push(this),Ve&&Ve._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(b){this._dropListRef.disabled=this._disabled=(0,D.Ig)(b)}addItem(b){this._unsortedItems.add(b),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(b){this._unsortedItems.delete(b),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((b,K)=>b._dragRef.getVisibleElement().compareDocumentPosition(K._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const b=ie._dropLists.indexOf(this);b>-1&&ie._dropLists.splice(b,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(b){this._dir&&this._dir.change.pipe((0,fo.O)(this._dir.value),(0,xs.R)(this._destroyed)).subscribe(K=>b.withDirection(K)),b.beforeStarted.subscribe(()=>{const K=(0,D.Eq)(this.connectedTo).map(ee=>"string"==typeof ee?ie._dropLists.find(Me=>Me.id===ee):ee);if(this._group&&this._group._items.forEach(ee=>{-1===K.indexOf(ee)&&K.push(ee)}),!this._scrollableParentsResolved){const ee=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(ge=>ge.getElementRef().nativeElement);this._dropListRef.withScrollableParents(ee),this._scrollableParentsResolved=!0}b.disabled=this.disabled,b.lockAxis=this.lockAxis,b.sortingDisabled=(0,D.Ig)(this.sortingDisabled),b.autoScrollDisabled=(0,D.Ig)(this.autoScrollDisabled),b.autoScrollStep=(0,D.su)(this.autoScrollStep,2),b.connectedTo(K.filter(ee=>ee&&ee!==this).map(ee=>ee._dropListRef)).withOrientation(this.orientation)})}_handleEvents(b){b.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),b.entered.subscribe(K=>{this.entered.emit({container:this,item:K.item.data,currentIndex:K.currentIndex})}),b.exited.subscribe(K=>{this.exited.emit({container:this,item:K.item.data}),this._changeDetectorRef.markForCheck()}),b.sorted.subscribe(K=>{this.sorted.emit({previousIndex:K.previousIndex,currentIndex:K.currentIndex,container:this,item:K.item.data})}),b.dropped.subscribe(K=>{this.dropped.emit({previousIndex:K.previousIndex,currentIndex:K.currentIndex,previousContainer:K.previousContainer.data,container:K.container.data,item:K.item.data,isPointerOverContainer:K.isPointerOverContainer,distance:K.distance,dropPoint:K.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(b){const{lockAxis:K,draggingDisabled:ee,sortingDisabled:ge,listAutoScrollDisabled:Me,listOrientation:Ve}=b;this.disabled=ee??!1,this.sortingDisabled=ge??!1,this.autoScrollDisabled=Me??!1,this.orientation=Ve||"vertical",K&&(this.lockAxis=K)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(b=>b._dragRef))}}return ie._dropLists=[],ie.\u0275fac=function(b){return new(b||ie)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(Ns),i.\u0275\u0275directiveInject(i.ChangeDetectorRef),i.\u0275\u0275directiveInject(p),i.\u0275\u0275directiveInject(bn,8),i.\u0275\u0275directiveInject(Xt,12),i.\u0275\u0275directiveInject(Ti,8))},ie.\u0275dir=i.\u0275\u0275defineDirective({type:ie,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(b,K){2&b&&(i.\u0275\u0275attribute("id",K.id),i.\u0275\u0275classProp("cdk-drop-list-disabled",K.disabled)("cdk-drop-list-dragging",K._dropListRef.isDragging())("cdk-drop-list-receiving",K._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[i.\u0275\u0275ProvidersFeature([{provide:Xt,useValue:void 0},{provide:Co,useExisting:ie}])]}),ie})();const ea=new i.InjectionToken("CdkDragHandle"),ta=new i.InjectionToken("CdkDragPlaceholder");let Hr=(()=>{class ie{constructor(b){this.templateRef=b}}return ie.\u0275fac=function(b){return new(b||ie)(i.\u0275\u0275directiveInject(i.TemplateRef))},ie.\u0275dir=i.\u0275\u0275defineDirective({type:ie,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[i.\u0275\u0275ProvidersFeature([{provide:ta,useExisting:ie}])]}),ie})();const wo=new i.InjectionToken("CdkDragPreview");let Us=(()=>{class ie{constructor(b,K,ee,ge,Me,Ve,Xe,ft,Mt,Dn,Gn){this.element=b,this.dropContainer=K,this._ngZone=ge,this._viewContainerRef=Me,this._dir=Xe,this._changeDetectorRef=Mt,this._selfHandle=Dn,this._parentDrag=Gn,this._destroyed=new L.x,this.started=new i.EventEmitter,this.released=new i.EventEmitter,this.ended=new i.EventEmitter,this.entered=new i.EventEmitter,this.exited=new i.EventEmitter,this.dropped=new i.EventEmitter,this.moved=new k.y(cs=>{const Ii=this._dragRef.moved.pipe((0,mr.U)(Yi=>({source:this,pointerPosition:Yi.pointerPosition,event:Yi.event,delta:Yi.delta,distance:Yi.distance}))).subscribe(cs);return()=>{Ii.unsubscribe()}}),this._dragRef=ft.createDrag(b,{dragStartThreshold:Ve&&null!=Ve.dragStartThreshold?Ve.dragStartThreshold:5,pointerDirectionChangeThreshold:Ve&&null!=Ve.pointerDirectionChangeThreshold?Ve.pointerDirectionChangeThreshold:5,zIndex:Ve?.zIndex}),this._dragRef.data=this,ie._dragInstances.push(this),Ve&&this._assignDefaults(Ve),K&&(this._dragRef._withDropContainer(K._dropListRef),K.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(b){this._disabled=(0,D.Ig)(b),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Fs.q)(1),(0,xs.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(b){const K=b.rootElementSelector,ee=b.freeDragPosition;K&&!K.firstChange&&this._updateRootElement(),ee&&!ee.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const b=ie._dragInstances.indexOf(this);b>-1&&ie._dragInstances.splice(b,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const b=this.element.nativeElement;let K=b;this.rootElementSelector&&(K=void 0!==b.closest?b.closest(this.rootElementSelector):b.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(K||b)}_getBoundaryElement(){const b=this.boundaryElement;return b?"string"==typeof b?this.element.nativeElement.closest(b):(0,D.fI)(b):null}_syncInputs(b){b.beforeStarted.subscribe(()=>{if(!b.isDragging()){const K=this._dir,ee=this.dragStartDelay,ge=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,Me=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;b.disabled=this.disabled,b.lockAxis=this.lockAxis,b.dragStartDelay="object"==typeof ee&&ee?ee:(0,D.su)(ee),b.constrainPosition=this.constrainPosition,b.previewClass=this.previewClass,b.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(ge).withPreviewTemplate(Me).withPreviewContainer(this.previewContainer||"global"),K&&b.withDirection(K.value)}}),b.beforeStarted.pipe((0,Fs.q)(1)).subscribe(()=>{if(this._parentDrag)return void b.withParent(this._parentDrag._dragRef);let K=this.element.nativeElement.parentElement;for(;K;){if(K.classList.contains("cdk-drag")){b.withParent(ie._dragInstances.find(ee=>ee.element.nativeElement===K)?._dragRef||null);break}K=K.parentElement}})}_handleEvents(b){b.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),b.released.subscribe(()=>{this.released.emit({source:this})}),b.ended.subscribe(K=>{this.ended.emit({source:this,distance:K.distance,dropPoint:K.dropPoint}),this._changeDetectorRef.markForCheck()}),b.entered.subscribe(K=>{this.entered.emit({container:K.container.data,item:this,currentIndex:K.currentIndex})}),b.exited.subscribe(K=>{this.exited.emit({container:K.container.data,item:this})}),b.dropped.subscribe(K=>{this.dropped.emit({previousIndex:K.previousIndex,currentIndex:K.currentIndex,previousContainer:K.previousContainer.data,container:K.container.data,isPointerOverContainer:K.isPointerOverContainer,item:this,distance:K.distance,dropPoint:K.dropPoint})})}_assignDefaults(b){const{lockAxis:K,dragStartDelay:ee,constrainPosition:ge,previewClass:Me,boundaryElement:Ve,draggingDisabled:Xe,rootElementSelector:ft,previewContainer:Mt}=b;this.disabled=Xe??!1,this.dragStartDelay=ee||0,K&&(this.lockAxis=K),ge&&(this.constrainPosition=ge),Me&&(this.previewClass=Me),Ve&&(this.boundaryElement=Ve),ft&&(this.rootElementSelector=ft),Mt&&(this.previewContainer=Mt)}_setupHandlesListener(){this._handles.changes.pipe((0,fo.O)(this._handles),(0,Vr.b)(b=>{const K=b.filter(ee=>ee._parentDrag===this).map(ee=>ee.element);this._selfHandle&&this.rootElementSelector&&K.push(this.element),this._dragRef.withHandles(K)}),(0,Qo.w)(b=>(0,co.T)(...b.map(K=>K._stateChanges.pipe((0,fo.O)(K))))),(0,xs.R)(this._destroyed)).subscribe(b=>{const K=this._dragRef,ee=b.element.nativeElement;b.disabled?K.disableHandle(ee):K.enableHandle(ee)})}}return ie._dragInstances=[],ie.\u0275fac=function(b){return new(b||ie)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(Co,12),i.\u0275\u0275directiveInject(u.DOCUMENT),i.\u0275\u0275directiveInject(i.NgZone),i.\u0275\u0275directiveInject(i.ViewContainerRef),i.\u0275\u0275directiveInject(Ti,8),i.\u0275\u0275directiveInject(bn,8),i.\u0275\u0275directiveInject(Ns),i.\u0275\u0275directiveInject(i.ChangeDetectorRef),i.\u0275\u0275directiveInject(ea,10),i.\u0275\u0275directiveInject(Ke,12))},ie.\u0275dir=i.\u0275\u0275defineDirective({type:ie,selectors:[["","cdkDrag",""]],contentQueries:function(b,K,ee){if(1&b&&(i.\u0275\u0275contentQuery(ee,wo,5),i.\u0275\u0275contentQuery(ee,ta,5),i.\u0275\u0275contentQuery(ee,ea,5)),2&b){let ge;i.\u0275\u0275queryRefresh(ge=i.\u0275\u0275loadQuery())&&(K._previewTemplate=ge.first),i.\u0275\u0275queryRefresh(ge=i.\u0275\u0275loadQuery())&&(K._placeholderTemplate=ge.first),i.\u0275\u0275queryRefresh(ge=i.\u0275\u0275loadQuery())&&(K._handles=ge)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(b,K){2&b&&i.\u0275\u0275classProp("cdk-drag-disabled",K.disabled)("cdk-drag-dragging",K._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[i.\u0275\u0275ProvidersFeature([{provide:Ke,useExisting:ie}]),i.\u0275\u0275NgOnChangesFeature]}),ie})(),ra=(()=>{class ie{}return ie.\u0275fac=function(b){return new(b||ie)},ie.\u0275mod=i.\u0275\u0275defineNgModule({type:ie}),ie.\u0275inj=i.\u0275\u0275defineInjector({providers:[Ns],imports:[te]}),ie})()},3353:(fe,W,c)=>{c.d(W,{t4:()=>L,sA:()=>p,kV:()=>d,i$:()=>E});var i=c(7777),u=c(1457);let D;try{D="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch{D=!1}let w,_,L=(()=>{class H{constructor(we){this._platformId=we,this.isBrowser=this._platformId?(0,u.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!D)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return H.\u0275fac=function(we){return new(we||H)(i.\u0275\u0275inject(i.PLATFORM_ID))},H.\u0275prov=i.\u0275\u0275defineInjectable({token:H,factory:H.\u0275fac,providedIn:"root"}),H})();function E(H){return function(){if(null==w&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>w=!0}))}finally{w=w||!1}return w}()?H:!!H.capture}function d(H){if(function(){if(null==_){const H="undefined"!=typeof document?document.head:null;_=!(!H||!H.createShadowRoot&&!H.attachShadow)}return _}()){const ae=H.getRootNode?H.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&ae instanceof ShadowRoot)return ae}return null}function p(H){return H.composedPath?H.composedPath()[0]:H.target}},4006:(fe,W,c)=>{c.d(W,{Fj:()=>S,CE:()=>yi,qu:()=>Hi,NI:()=>en,u:()=>_i,cw:()=>sn,sg:()=>Bi,x0:()=>vi,u5:()=>zi,Fd:()=>ri,qQ:()=>ii,JU:()=>N,JJ:()=>qt,JL:()=>Nn,YN:()=>As,wV:()=>_s,UX:()=>$i,EJ:()=>Ni,kI:()=>p,_Y:()=>xi,Kr:()=>os});var i=c(7777),u=c(1457),D=c(2076),L=c(4128),U=c(4004);let k=(()=>{class z{constructor(P,q){this._renderer=P,this._elementRef=q,this.onChange=je=>{},this.onTouched=()=>{}}setProperty(P,q){this._renderer.setProperty(this._elementRef.nativeElement,P,q)}registerOnTouched(P){this.onTouched=P}registerOnChange(P){this.onChange=P}setDisabledState(P){this.setProperty("disabled",P)}}return z.\u0275fac=function(P){return new(P||z)(i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275directiveInject(i.ElementRef))},z.\u0275dir=i.\u0275\u0275defineDirective({type:z}),z})(),V=(()=>{class z extends k{}return z.\u0275fac=function(){let F;return function(q){return(F||(F=i.\u0275\u0275getInheritedFactory(z)))(q||z)}}(),z.\u0275dir=i.\u0275\u0275defineDirective({type:z,features:[i.\u0275\u0275InheritDefinitionFeature]}),z})();const N=new i.InjectionToken("NgValueAccessor"),E={provide:N,useExisting:(0,i.forwardRef)(()=>S),multi:!0},T=new i.InjectionToken("CompositionEventMode");let S=(()=>{class z extends k{constructor(P,q,je){super(P,q),this._compositionMode=je,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const z=(0,u.\u0275getDOM)()?(0,u.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(z.toLowerCase())}())}writeValue(P){this.setProperty("value",P??"")}_handleInput(P){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(P)}_compositionStart(){this._composing=!0}_compositionEnd(P){this._composing=!1,this._compositionMode&&this.onChange(P)}}return z.\u0275fac=function(P){return new(P||z)(i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(T,8))},z.\u0275dir=i.\u0275\u0275defineDirective({type:z,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(P,q){1&P&&i.\u0275\u0275listener("input",function(ct){return q._handleInput(ct.target.value)})("blur",function(){return q.onTouched()})("compositionstart",function(){return q._compositionStart()})("compositionend",function(ct){return q._compositionEnd(ct.target.value)})},features:[i.\u0275\u0275ProvidersFeature([E]),i.\u0275\u0275InheritDefinitionFeature]}),z})();function C(z){return null==z||0===z.length}function _(z){return null!=z&&"number"==typeof z.length}const v=new i.InjectionToken("NgValidators"),d=new i.InjectionToken("NgAsyncValidators"),a=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class p{static min(F){return h(F)}static max(F){return H(F)}static required(F){return C(F.value)?{required:!0}:null}static requiredTrue(F){return!0===F.value?null:{required:!0}}static email(F){return C((z=F).value)||a.test(z.value)?null:{email:!0};var z}static minLength(F){return z=F,F=>C(F.value)||!_(F.value)?null:F.value.length<z?{minlength:{requiredLength:z,actualLength:F.value.length}}:null;var z}static maxLength(F){return z=F,F=>_(F.value)&&F.value.length>z?{maxlength:{requiredLength:z,actualLength:F.value.length}}:null;var z}static pattern(F){return function(z){if(!z)return te;let F,P;return"string"==typeof z?(P="","^"!==z.charAt(0)&&(P+="^"),P+=z,"$"!==z.charAt(z.length-1)&&(P+="$"),F=new RegExp(P)):(P=z.toString(),F=z),q=>{if(C(q.value))return null;const je=q.value;return F.test(je)?null:{pattern:{requiredPattern:P,actualValue:je}}}}(F)}static nullValidator(F){return null}static compose(F){return Pe(F)}static composeAsync(F){return pe(F)}}function h(z){return F=>{if(C(F.value)||C(z))return null;const P=parseFloat(F.value);return!isNaN(P)&&P<z?{min:{min:z,actual:F.value}}:null}}function H(z){return F=>{if(C(F.value)||C(z))return null;const P=parseFloat(F.value);return!isNaN(P)&&P>z?{max:{max:z,actual:F.value}}:null}}function te(z){return null}function X(z){return null!=z}function se(z){const F=(0,i.\u0275isPromise)(z)?(0,D.D)(z):z;return(0,i.\u0275isObservable)(F),F}function ce(z){let F={};return z.forEach(P=>{F=null!=P?{...F,...P}:F}),0===Object.keys(F).length?null:F}function Oe(z,F){return F.map(P=>P(z))}function tt(z){return z.map(F=>function(z){return!z.validate}(F)?F:P=>F.validate(P))}function Pe(z){if(!z)return null;const F=z.filter(X);return 0==F.length?null:function(P){return ce(Oe(P,F))}}function De(z){return null!=z?Pe(tt(z)):null}function pe(z){if(!z)return null;const F=z.filter(X);return 0==F.length?null:function(P){const q=Oe(P,F).map(se);return(0,L.D)(q).pipe((0,U.U)(ce))}}function ve(z){return null!=z?pe(tt(z)):null}function ke(z,F){return null===z?[F]:Array.isArray(z)?[...z,F]:[z,F]}function Ge(z){return z._rawValidators}function it(z){return z._rawAsyncValidators}function _t(z){return z?Array.isArray(z)?z:[z]:[]}function at(z,F){return Array.isArray(z)?z.includes(F):z===F}function Et(z,F){const P=_t(F);return _t(z).forEach(je=>{at(P,je)||P.push(je)}),P}function Rt(z,F){return _t(F).filter(P=>!at(z,P))}class Nt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(F){this._rawValidators=F||[],this._composedValidatorFn=De(this._rawValidators)}_setAsyncValidators(F){this._rawAsyncValidators=F||[],this._composedAsyncValidatorFn=ve(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(F){this._onDestroyCallbacks.push(F)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(F=>F()),this._onDestroyCallbacks=[]}reset(F){this.control&&this.control.reset(F)}hasError(F,P){return!!this.control&&this.control.hasError(F,P)}getError(F,P){return this.control?this.control.getError(F,P):null}}class $t extends Nt{get formDirective(){return null}get path(){return null}}class vn extends Nt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Sn{constructor(F){this._cd=F}is(F){return"submitted"===F?!!this._cd?.submitted:!!this._cd?.control?.[F]}}let qt=(()=>{class z extends Sn{constructor(P){super(P)}}return z.\u0275fac=function(P){return new(P||z)(i.\u0275\u0275directiveInject(vn,2))},z.\u0275dir=i.\u0275\u0275defineDirective({type:z,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(P,q){2&P&&i.\u0275\u0275classProp("ng-untouched",q.is("untouched"))("ng-touched",q.is("touched"))("ng-pristine",q.is("pristine"))("ng-dirty",q.is("dirty"))("ng-valid",q.is("valid"))("ng-invalid",q.is("invalid"))("ng-pending",q.is("pending"))},features:[i.\u0275\u0275InheritDefinitionFeature]}),z})(),Nn=(()=>{class z extends Sn{constructor(P){super(P)}}return z.\u0275fac=function(P){return new(P||z)(i.\u0275\u0275directiveInject($t,10))},z.\u0275dir=i.\u0275\u0275defineDirective({type:z,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(P,q){2&P&&i.\u0275\u0275classProp("ng-untouched",q.is("untouched"))("ng-touched",q.is("touched"))("ng-pristine",q.is("pristine"))("ng-dirty",q.is("dirty"))("ng-valid",q.is("valid"))("ng-invalid",q.is("invalid"))("ng-pending",q.is("pending"))("ng-submitted",q.is("submitted"))},features:[i.\u0275\u0275InheritDefinitionFeature]}),z})();function On(z,F){return[...F.path,z]}function Rn(z,F){Er(z,F),F.valueAccessor.writeValue(z.value),function(z,F){F.valueAccessor.registerOnChange(P=>{z._pendingValue=P,z._pendingChange=!0,z._pendingDirty=!0,"change"===z.updateOn&&Cr(z,F)})}(z,F),function(z,F){const P=(q,je)=>{F.valueAccessor.writeValue(q),je&&F.viewToModelUpdate(q)};z.registerOnChange(P),F._registerOnDestroy(()=>{z._unregisterOnChange(P)})}(z,F),function(z,F){F.valueAccessor.registerOnTouched(()=>{z._pendingTouched=!0,"blur"===z.updateOn&&z._pendingChange&&Cr(z,F),"submit"!==z.updateOn&&z.markAsTouched()})}(z,F),function(z,F){if(F.valueAccessor.setDisabledState){const P=q=>{F.valueAccessor.setDisabledState(q)};z.registerOnDisabledChange(P),F._registerOnDestroy(()=>{z._unregisterOnDisabledChange(P)})}}(z,F)}function Jn(z,F,P=!0){const q=()=>{};F.valueAccessor&&(F.valueAccessor.registerOnChange(q),F.valueAccessor.registerOnTouched(q)),Xn(z,F),z&&(F._invokeOnDestroyCallbacks(),z._registerOnCollectionChange(()=>{}))}function or(z,F){z.forEach(P=>{P.registerOnValidatorChange&&P.registerOnValidatorChange(F)})}function Er(z,F){const P=Ge(z);null!==F.validator?z.setValidators(ke(P,F.validator)):"function"==typeof P&&z.setValidators([P]);const q=it(z);null!==F.asyncValidator?z.setAsyncValidators(ke(q,F.asyncValidator)):"function"==typeof q&&z.setAsyncValidators([q]);const je=()=>z.updateValueAndValidity();or(F._rawValidators,je),or(F._rawAsyncValidators,je)}function Xn(z,F){let P=!1;if(null!==z){if(null!==F.validator){const je=Ge(z);if(Array.isArray(je)&&je.length>0){const ct=je.filter(gn=>gn!==F.validator);ct.length!==je.length&&(P=!0,z.setValidators(ct))}}if(null!==F.asyncValidator){const je=it(z);if(Array.isArray(je)&&je.length>0){const ct=je.filter(gn=>gn!==F.asyncValidator);ct.length!==je.length&&(P=!0,z.setAsyncValidators(ct))}}}const q=()=>{};return or(F._rawValidators,q),or(F._rawAsyncValidators,q),P}function Cr(z,F){z._pendingDirty&&z.markAsDirty(),z.setValue(z._pendingValue,{emitModelToViewChange:!1}),F.viewToModelUpdate(z._pendingValue),z._pendingChange=!1}function ur(z,F){const P=z.indexOf(F);P>-1&&z.splice(P,1)}const _e="VALID",de="INVALID",G="PENDING",re="DISABLED";function oe(z){return(Tt(z)?z.validators:z)||null}function Ae(z){return Array.isArray(z)?De(z):z||null}function Ne(z,F){return(Tt(F)?F.asyncValidators:z)||null}function et(z){return Array.isArray(z)?ve(z):z||null}function Tt(z){return null!=z&&!Array.isArray(z)&&"object"==typeof z}class rn{constructor(F,P){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=F,this._rawAsyncValidators=P,this._composedValidatorFn=Ae(this._rawValidators),this._composedAsyncValidatorFn=et(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(F){this._rawValidators=this._composedValidatorFn=F}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(F){this._rawAsyncValidators=this._composedAsyncValidatorFn=F}get parent(){return this._parent}get valid(){return this.status===_e}get invalid(){return this.status===de}get pending(){return this.status==G}get disabled(){return this.status===re}get enabled(){return this.status!==re}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(F){this._rawValidators=F,this._composedValidatorFn=Ae(F)}setAsyncValidators(F){this._rawAsyncValidators=F,this._composedAsyncValidatorFn=et(F)}addValidators(F){this.setValidators(Et(F,this._rawValidators))}addAsyncValidators(F){this.setAsyncValidators(Et(F,this._rawAsyncValidators))}removeValidators(F){this.setValidators(Rt(F,this._rawValidators))}removeAsyncValidators(F){this.setAsyncValidators(Rt(F,this._rawAsyncValidators))}hasValidator(F){return at(this._rawValidators,F)}hasAsyncValidator(F){return at(this._rawAsyncValidators,F)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(F={}){this.touched=!0,this._parent&&!F.onlySelf&&this._parent.markAsTouched(F)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(F=>F.markAllAsTouched())}markAsUntouched(F={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(P=>{P.markAsUntouched({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}markAsDirty(F={}){this.pristine=!1,this._parent&&!F.onlySelf&&this._parent.markAsDirty(F)}markAsPristine(F={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(P=>{P.markAsPristine({onlySelf:!0})}),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}markAsPending(F={}){this.status=G,!1!==F.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!F.onlySelf&&this._parent.markAsPending(F)}disable(F={}){const P=this._parentMarkedDirty(F.onlySelf);this.status=re,this.errors=null,this._forEachChild(q=>{q.disable({...F,onlySelf:!0})}),this._updateValue(),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...F,skipPristineCheck:P}),this._onDisabledChange.forEach(q=>q(!0))}enable(F={}){const P=this._parentMarkedDirty(F.onlySelf);this.status=_e,this._forEachChild(q=>{q.enable({...F,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent}),this._updateAncestors({...F,skipPristineCheck:P}),this._onDisabledChange.forEach(q=>q(!1))}_updateAncestors(F){this._parent&&!F.onlySelf&&(this._parent.updateValueAndValidity(F),F.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(F){this._parent=F}updateValueAndValidity(F={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_e||this.status===G)&&this._runAsyncValidator(F.emitEvent)),!1!==F.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!F.onlySelf&&this._parent.updateValueAndValidity(F)}_updateTreeValidity(F={emitEvent:!0}){this._forEachChild(P=>P._updateTreeValidity(F)),this.updateValueAndValidity({onlySelf:!0,emitEvent:F.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?re:_e}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(F){if(this.asyncValidator){this.status=G,this._hasOwnPendingAsyncValidator=!0;const P=se(this.asyncValidator(this));this._asyncValidationSubscription=P.subscribe(q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(q,{emitEvent:F})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(F,P={}){this.errors=F,this._updateControlsErrors(!1!==P.emitEvent)}get(F){return function(z,F,P){if(null==F||(Array.isArray(F)||(F=F.split(".")),Array.isArray(F)&&0===F.length))return null;let q=z;return F.forEach(je=>{q=q instanceof sn?q.controls.hasOwnProperty(je)?q.controls[je]:null:q instanceof yn&&q.at(je)||null}),q}(this,F)}getError(F,P){const q=P?this.get(P):this;return q&&q.errors?q.errors[F]:null}hasError(F,P){return!!this.getError(F,P)}get root(){let F=this;for(;F._parent;)F=F._parent;return F}_updateControlsErrors(F){this.status=this._calculateStatus(),F&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(F)}_initObservables(){this.valueChanges=new i.EventEmitter,this.statusChanges=new i.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?re:this.errors?de:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(G)?G:this._anyControlsHaveStatus(de)?de:_e}_anyControlsHaveStatus(F){return this._anyControls(P=>P.status===F)}_anyControlsDirty(){return this._anyControls(F=>F.dirty)}_anyControlsTouched(){return this._anyControls(F=>F.touched)}_updatePristine(F={}){this.pristine=!this._anyControlsDirty(),this._parent&&!F.onlySelf&&this._parent._updatePristine(F)}_updateTouched(F={}){this.touched=this._anyControlsTouched(),this._parent&&!F.onlySelf&&this._parent._updateTouched(F)}_isBoxedValue(F){return"object"==typeof F&&null!==F&&2===Object.keys(F).length&&"value"in F&&"disabled"in F}_registerOnCollectionChange(F){this._onCollectionChange=F}_setUpdateStrategy(F){Tt(F)&&null!=F.updateOn&&(this._updateOn=F.updateOn)}_parentMarkedDirty(F){return!F&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class en extends rn{constructor(F=null,P,q){super(oe(P),Ne(q,P)),this._onChange=[],this._pendingChange=!1,this._applyFormState(F),this._setUpdateStrategy(P),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(F,P={}){this.value=this._pendingValue=F,this._onChange.length&&!1!==P.emitModelToViewChange&&this._onChange.forEach(q=>q(this.value,!1!==P.emitViewToModelChange)),this.updateValueAndValidity(P)}patchValue(F,P={}){this.setValue(F,P)}reset(F=null,P={}){this._applyFormState(F),this.markAsPristine(P),this.markAsUntouched(P),this.setValue(this.value,P),this._pendingChange=!1}_updateValue(){}_anyControls(F){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(F){this._onChange.push(F)}_unregisterOnChange(F){ur(this._onChange,F)}registerOnDisabledChange(F){this._onDisabledChange.push(F)}_unregisterOnDisabledChange(F){ur(this._onDisabledChange,F)}_forEachChild(F){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(F){this._isBoxedValue(F)?(this.value=this._pendingValue=F.value,F.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=F}}class sn extends rn{constructor(F,P,q){super(oe(P),Ne(q,P)),this.controls=F,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(F,P){return this.controls[F]?this.controls[F]:(this.controls[F]=P,P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange),P)}addControl(F,P,q={}){this.registerControl(F,P),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}removeControl(F,P={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}setControl(F,P,q={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),delete this.controls[F],P&&this.registerControl(F,P),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}contains(F){return this.controls.hasOwnProperty(F)&&this.controls[F].enabled}setValue(F,P={}){this._checkAllValuesPresent(F),Object.keys(F).forEach(q=>{this._throwIfControlMissing(q),this.controls[q].setValue(F[q],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(F,P={}){null!=F&&(Object.keys(F).forEach(q=>{this.controls[q]&&this.controls[q].patchValue(F[q],{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(F={},P={}){this._forEachChild((q,je)=>{q.reset(F[je],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this._reduceChildren({},(F,P,q)=>(F[q]=P instanceof en?P.value:P.getRawValue(),F))}_syncPendingControls(){let F=this._reduceChildren(!1,(P,q)=>!!q._syncPendingControls()||P);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_throwIfControlMissing(F){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[F])throw new Error(`Cannot find form control with name: ${F}.`)}_forEachChild(F){Object.keys(this.controls).forEach(P=>{const q=this.controls[P];q&&F(q,P)})}_setUpControls(){this._forEachChild(F=>{F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(F){for(const P of Object.keys(this.controls)){const q=this.controls[P];if(this.contains(P)&&F(q))return!0}return!1}_reduceValue(){return this._reduceChildren({},(F,P,q)=>((P.enabled||this.disabled)&&(F[q]=P.value),F))}_reduceChildren(F,P){let q=F;return this._forEachChild((je,ct)=>{q=P(q,je,ct)}),q}_allControlsDisabled(){for(const F of Object.keys(this.controls))if(this.controls[F].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(F){this._forEachChild((P,q)=>{if(void 0===F[q])throw new Error(`Must supply a value for form control with name: '${q}'.`)})}}class yn extends rn{constructor(F,P,q){super(oe(P),Ne(q,P)),this.controls=F,this._initObservables(),this._setUpdateStrategy(P),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(F){return this.controls[F]}push(F,P={}){this.controls.push(F),this._registerControl(F),this.updateValueAndValidity({emitEvent:P.emitEvent}),this._onCollectionChange()}insert(F,P,q={}){this.controls.splice(F,0,P),this._registerControl(P),this.updateValueAndValidity({emitEvent:q.emitEvent})}removeAt(F,P={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),this.controls.splice(F,1),this.updateValueAndValidity({emitEvent:P.emitEvent})}setControl(F,P,q={}){this.controls[F]&&this.controls[F]._registerOnCollectionChange(()=>{}),this.controls.splice(F,1),P&&(this.controls.splice(F,0,P),this._registerControl(P)),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(F,P={}){this._checkAllValuesPresent(F),F.forEach((q,je)=>{this._throwIfControlMissing(je),this.at(je).setValue(q,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P)}patchValue(F,P={}){null!=F&&(F.forEach((q,je)=>{this.at(je)&&this.at(je).patchValue(q,{onlySelf:!0,emitEvent:P.emitEvent})}),this.updateValueAndValidity(P))}reset(F=[],P={}){this._forEachChild((q,je)=>{q.reset(F[je],{onlySelf:!0,emitEvent:P.emitEvent})}),this._updatePristine(P),this._updateTouched(P),this.updateValueAndValidity(P)}getRawValue(){return this.controls.map(F=>F instanceof en?F.value:F.getRawValue())}clear(F={}){this.controls.length<1||(this._forEachChild(P=>P._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:F.emitEvent}))}_syncPendingControls(){let F=this.controls.reduce((P,q)=>!!q._syncPendingControls()||P,!1);return F&&this.updateValueAndValidity({onlySelf:!0}),F}_throwIfControlMissing(F){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(F))throw new Error(`Cannot find form control at index ${F}`)}_forEachChild(F){this.controls.forEach((P,q)=>{F(P,q)})}_updateValue(){this.value=this.controls.filter(F=>F.enabled||this.disabled).map(F=>F.value)}_anyControls(F){return this.controls.some(P=>P.enabled&&F(P))}_setUpControls(){this._forEachChild(F=>this._registerControl(F))}_checkAllValuesPresent(F){this._forEachChild((P,q)=>{if(void 0===F[q])throw new Error(`Must supply a value for form control at index: ${q}.`)})}_allControlsDisabled(){for(const F of this.controls)if(F.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(F){F.setParent(this),F._registerOnCollectionChange(this._onCollectionChange)}}let ts=(()=>{class z extends $t{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return On(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return z.\u0275fac=function(){let F;return function(q){return(F||(F=i.\u0275\u0275getInheritedFactory(z)))(q||z)}}(),z.\u0275dir=i.\u0275\u0275defineDirective({type:z,features:[i.\u0275\u0275InheritDefinitionFeature]}),z})(),xi=(()=>{class z{}return z.\u0275fac=function(P){return new(P||z)},z.\u0275dir=i.\u0275\u0275defineDirective({type:z,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),z})();const ti={provide:N,useExisting:(0,i.forwardRef)(()=>_s),multi:!0};let _s=(()=>{class z extends V{writeValue(P){this.setProperty("value",P??"")}registerOnChange(P){this.onChange=q=>{P(""==q?null:parseFloat(q))}}}return z.\u0275fac=function(){let F;return function(q){return(F||(F=i.\u0275\u0275getInheritedFactory(z)))(q||z)}}(),z.\u0275dir=i.\u0275\u0275defineDirective({type:z,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(P,q){1&P&&i.\u0275\u0275listener("input",function(ct){return q.onChange(ct.target.value)})("blur",function(){return q.onTouched()})},features:[i.\u0275\u0275ProvidersFeature([ti]),i.\u0275\u0275InheritDefinitionFeature]}),z})(),wr=(()=>{class z{}return z.\u0275fac=function(P){return new(P||z)},z.\u0275mod=i.\u0275\u0275defineNgModule({type:z}),z.\u0275inj=i.\u0275\u0275defineInjector({}),z})();const Li=new i.InjectionToken("NgModelWithFormControlWarning"),eo={provide:$t,useExisting:(0,i.forwardRef)(()=>Bi)};let Bi=(()=>{class z extends $t{constructor(P,q){super(),this.validators=P,this.asyncValidators=q,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.EventEmitter,this._setValidators(P),this._setAsyncValidators(q)}ngOnChanges(P){this._checkFormPresent(),P.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(P){const q=this.form.get(P.path);return Rn(q,P),q.updateValueAndValidity({emitEvent:!1}),this.directives.push(P),q}getControl(P){return this.form.get(P.path)}removeControl(P){Jn(P.control||null,P,!1),ur(this.directives,P)}addFormGroup(P){this._setUpFormContainer(P)}removeFormGroup(P){this._cleanUpFormContainer(P)}getFormGroup(P){return this.form.get(P.path)}addFormArray(P){this._setUpFormContainer(P)}removeFormArray(P){this._cleanUpFormContainer(P)}getFormArray(P){return this.form.get(P.path)}updateModel(P,q){this.form.get(P.path).setValue(q)}onSubmit(P){return this.submitted=!0,function(z,F){z._syncPendingControls(),F.forEach(P=>{const q=P.control;"submit"===q.updateOn&&q._pendingChange&&(P.viewToModelUpdate(q._pendingValue),q._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(P),!1}onReset(){this.resetForm()}resetForm(P){this.form.reset(P),this.submitted=!1}_updateDomValue(){this.directives.forEach(P=>{const q=P.control,je=this.form.get(P.path);q!==je&&(Jn(q||null,P),je instanceof en&&(Rn(je,P),P.control=je))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(P){const q=this.form.get(P.path);(function(z,F){Er(z,F)})(q,P),q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(P){if(this.form){const q=this.form.get(P.path);q&&function(z,F){return Xn(z,F)}(q,P)&&q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Er(this.form,this),this._oldForm&&Xn(this._oldForm,this)}_checkFormPresent(){}}return z.\u0275fac=function(P){return new(P||z)(i.\u0275\u0275directiveInject(v,10),i.\u0275\u0275directiveInject(d,10))},z.\u0275dir=i.\u0275\u0275defineDirective({type:z,selectors:[["","formGroup",""]],hostBindings:function(P,q){1&P&&i.\u0275\u0275listener("submit",function(ct){return q.onSubmit(ct)})("reset",function(){return q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.\u0275\u0275ProvidersFeature([eo]),i.\u0275\u0275InheritDefinitionFeature,i.\u0275\u0275NgOnChangesFeature]}),z})();const Cs={provide:$t,useExisting:(0,i.forwardRef)(()=>vi)};let vi=(()=>{class z extends ts{constructor(P,q,je){super(),this._parent=P,this._setValidators(q),this._setAsyncValidators(je)}_checkParentType(){is(this._parent)}}return z.\u0275fac=function(P){return new(P||z)(i.\u0275\u0275directiveInject($t,13),i.\u0275\u0275directiveInject(v,10),i.\u0275\u0275directiveInject(d,10))},z.\u0275dir=i.\u0275\u0275defineDirective({type:z,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[i.\u0275\u0275ProvidersFeature([Cs]),i.\u0275\u0275InheritDefinitionFeature]}),z})();const ws={provide:$t,useExisting:(0,i.forwardRef)(()=>yi)};let yi=(()=>{class z extends $t{constructor(P,q,je){super(),this._parent=P,this._setValidators(q),this._setAsyncValidators(je)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return On(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){is(this._parent)}}return z.\u0275fac=function(P){return new(P||z)(i.\u0275\u0275directiveInject($t,13),i.\u0275\u0275directiveInject(v,10),i.\u0275\u0275directiveInject(d,10))},z.\u0275dir=i.\u0275\u0275defineDirective({type:z,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[i.\u0275\u0275ProvidersFeature([ws]),i.\u0275\u0275InheritDefinitionFeature]}),z})();function is(z){return!(z instanceof vi||z instanceof Bi||z instanceof yi)}const Ds={provide:vn,useExisting:(0,i.forwardRef)(()=>_i)};let _i=(()=>{class z extends vn{constructor(P,q,je,ct,gn){super(),this._ngModelWarningConfig=gn,this._added=!1,this.update=new i.EventEmitter,this._ngModelWarningSent=!1,this._parent=P,this._setValidators(q),this._setAsyncValidators(je),this.valueAccessor=function(z,F){if(!F)return null;let P,q,je;return Array.isArray(F),F.forEach(ct=>{ct.constructor===S?P=ct:function(z){return Object.getPrototypeOf(z.constructor)===V}(ct)?q=ct:je=ct}),je||q||P||null}(0,ct)}set isDisabled(P){}ngOnChanges(P){this._added||this._setUpControl(),function(z,F){if(!z.hasOwnProperty("model"))return!1;const P=z.model;return!!P.isFirstChange()||!Object.is(F,P.currentValue)}(P,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(P){this.viewModel=P,this.update.emit(P)}get path(){return On(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return z._ngModelWarningSentOnce=!1,z.\u0275fac=function(P){return new(P||z)(i.\u0275\u0275directiveInject($t,13),i.\u0275\u0275directiveInject(v,10),i.\u0275\u0275directiveInject(d,10),i.\u0275\u0275directiveInject(N,10),i.\u0275\u0275directiveInject(Li,8))},z.\u0275dir=i.\u0275\u0275defineDirective({type:z,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.\u0275\u0275ProvidersFeature([Ds]),i.\u0275\u0275InheritDefinitionFeature,i.\u0275\u0275NgOnChangesFeature]}),z})();const to={provide:N,useExisting:(0,i.forwardRef)(()=>Ni),multi:!0};function lr(z,F){return null==z?`${F}`:(F&&"object"==typeof F&&(F="Object"),`${z}: ${F}`.slice(0,50))}let Ni=(()=>{class z extends V{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(P){this._compareWith=P}writeValue(P){this.value=P;const q=this._getOptionId(P);null==q&&this.setProperty("selectedIndex",-1);const je=lr(q,P);this.setProperty("value",je)}registerOnChange(P){this.onChange=q=>{this.value=this._getOptionValue(q),P(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(P){for(const q of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(q),P))return q;return null}_getOptionValue(P){const q=function(z){return z.split(":")[0]}(P);return this._optionMap.has(q)?this._optionMap.get(q):P}}return z.\u0275fac=function(){let F;return function(q){return(F||(F=i.\u0275\u0275getInheritedFactory(z)))(q||z)}}(),z.\u0275dir=i.\u0275\u0275defineDirective({type:z,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(P,q){1&P&&i.\u0275\u0275listener("change",function(ct){return q.onChange(ct.target.value)})("blur",function(){return q.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.\u0275\u0275ProvidersFeature([to]),i.\u0275\u0275InheritDefinitionFeature]}),z})(),As=(()=>{class z{constructor(P,q,je){this._element=P,this._renderer=q,this._select=je,this._select&&(this.id=this._select._registerOption())}set ngValue(P){null!=this._select&&(this._select._optionMap.set(this.id,P),this._setElementValue(lr(this.id,P)),this._select.writeValue(this._select.value))}set value(P){this._setElementValue(P),this._select&&this._select.writeValue(this._select.value)}_setElementValue(P){this._renderer.setProperty(this._element.nativeElement,"value",P)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return z.\u0275fac=function(P){return new(P||z)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275directiveInject(Ni,9))},z.\u0275dir=i.\u0275\u0275defineDirective({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),z})();const Os={provide:N,useExisting:(0,i.forwardRef)(()=>Ei),multi:!0};function jn(z,F){return null==z?`${F}`:("string"==typeof F&&(F=`'${F}'`),F&&"object"==typeof F&&(F="Object"),`${z}: ${F}`.slice(0,50))}let Ei=(()=>{class z extends V{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(P){this._compareWith=P}writeValue(P){let q;if(this.value=P,Array.isArray(P)){const je=P.map(ct=>this._getOptionId(ct));q=(ct,gn)=>{ct._setSelected(je.indexOf(gn.toString())>-1)}}else q=(je,ct)=>{je._setSelected(!1)};this._optionMap.forEach(q)}registerOnChange(P){this.onChange=q=>{const je=[],ct=q.selectedOptions;if(void 0!==ct){const gn=ct;for(let cr=0;cr<gn.length;cr++){const ai=this._getOptionValue(gn[cr].value);je.push(ai)}}else{const gn=q.options;for(let cr=0;cr<gn.length;cr++){const Ki=gn[cr];if(Ki.selected){const ai=this._getOptionValue(Ki.value);je.push(ai)}}}this.value=je,P(je)}}_registerOption(P){const q=(this._idCounter++).toString();return this._optionMap.set(q,P),q}_getOptionId(P){for(const q of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(q)._value,P))return q;return null}_getOptionValue(P){const q=function(z){return z.split(":")[0]}(P);return this._optionMap.has(q)?this._optionMap.get(q)._value:P}}return z.\u0275fac=function(){let F;return function(q){return(F||(F=i.\u0275\u0275getInheritedFactory(z)))(q||z)}}(),z.\u0275dir=i.\u0275\u0275defineDirective({type:z,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(P,q){1&P&&i.\u0275\u0275listener("change",function(ct){return q.onChange(ct.target)})("blur",function(){return q.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.\u0275\u0275ProvidersFeature([Os]),i.\u0275\u0275InheritDefinitionFeature]}),z})(),os=(()=>{class z{constructor(P,q,je){this._element=P,this._renderer=q,this._select=je,this._select&&(this.id=this._select._registerOption(this))}set ngValue(P){null!=this._select&&(this._value=P,this._setElementValue(jn(this.id,P)),this._select.writeValue(this._select.value))}set value(P){this._select?(this._value=P,this._setElementValue(jn(this.id,P)),this._select.writeValue(this._select.value)):this._setElementValue(P)}_setElementValue(P){this._renderer.setProperty(this._element.nativeElement,"value",P)}_setSelected(P){this._renderer.setProperty(this._element.nativeElement,"selected",P)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return z.\u0275fac=function(P){return new(P||z)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275directiveInject(Ei,9))},z.\u0275dir=i.\u0275\u0275defineDirective({type:z,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),z})();function Si(z){return"number"==typeof z?z:parseFloat(z)}let ji=(()=>{class z{constructor(){this._validator=te}ngOnChanges(P){if(this.inputName in P){const q=this.normalizeInput(P[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(q):te,this._onChange&&this._onChange()}}validate(P){return this._validator(P)}registerOnValidatorChange(P){this._onChange=P}enabled(){return null!=this[this.inputName]}}return z.\u0275fac=function(P){return new(P||z)},z.\u0275dir=i.\u0275\u0275defineDirective({type:z,features:[i.\u0275\u0275NgOnChangesFeature]}),z})();const as={provide:v,useExisting:(0,i.forwardRef)(()=>ri),multi:!0};let ri=(()=>{class z extends ji{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=P=>Si(P),this.createValidator=P=>H(P)}}return z.\u0275fac=function(){let F;return function(q){return(F||(F=i.\u0275\u0275getInheritedFactory(z)))(q||z)}}(),z.\u0275dir=i.\u0275\u0275defineDirective({type:z,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(P,q){2&P&&i.\u0275\u0275attribute("max",q.enabled()?q.max:null)},inputs:{max:"max"},features:[i.\u0275\u0275ProvidersFeature([as]),i.\u0275\u0275InheritDefinitionFeature]}),z})();const no={provide:v,useExisting:(0,i.forwardRef)(()=>ii),multi:!0};let ii=(()=>{class z extends ji{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=P=>Si(P),this.createValidator=P=>h(P)}}return z.\u0275fac=function(){let F;return function(q){return(F||(F=i.\u0275\u0275getInheritedFactory(z)))(q||z)}}(),z.\u0275dir=i.\u0275\u0275defineDirective({type:z,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(P,q){2&P&&i.\u0275\u0275attribute("min",q.enabled()?q.min:null)},inputs:{min:"min"},features:[i.\u0275\u0275ProvidersFeature([no]),i.\u0275\u0275InheritDefinitionFeature]}),z})(),oi=(()=>{class z{}return z.\u0275fac=function(P){return new(P||z)},z.\u0275mod=i.\u0275\u0275defineNgModule({type:z}),z.\u0275inj=i.\u0275\u0275defineInjector({imports:[[wr]]}),z})(),zi=(()=>{class z{}return z.\u0275fac=function(P){return new(P||z)},z.\u0275mod=i.\u0275\u0275defineNgModule({type:z}),z.\u0275inj=i.\u0275\u0275defineInjector({imports:[oi]}),z})(),$i=(()=>{class z{static withConfig(P){return{ngModule:z,providers:[{provide:Li,useValue:P.warnOnNgModelWithFormControl}]}}}return z.\u0275fac=function(P){return new(P||z)},z.\u0275mod=i.\u0275\u0275defineNgModule({type:z}),z.\u0275inj=i.\u0275\u0275defineInjector({imports:[oi]}),z})(),Hi=(()=>{class z{group(P,q=null){const je=this._reduceControls(P);let cr,ct=null,gn=null;return null!=q&&(function(z){return void 0!==z.asyncValidators||void 0!==z.validators||void 0!==z.updateOn}(q)?(ct=null!=q.validators?q.validators:null,gn=null!=q.asyncValidators?q.asyncValidators:null,cr=null!=q.updateOn?q.updateOn:void 0):(ct=null!=q.validator?q.validator:null,gn=null!=q.asyncValidator?q.asyncValidator:null)),new sn(je,{asyncValidators:gn,updateOn:cr,validators:ct})}control(P,q,je){return new en(P,q,je)}array(P,q,je){const ct=P.map(gn=>this._createControl(gn));return new yn(ct,q,je)}_reduceControls(P){const q={};return Object.keys(P).forEach(je=>{q[je]=this._createControl(P[je])}),q}_createControl(P){return P instanceof en||P instanceof sn||P instanceof yn?P:Array.isArray(P)?this.control(P[0],P.length>1?P[1]:null,P.length>2?P[2]:null):this.control(P)}}return z.\u0275fac=function(P){return new(P||z)},z.\u0275prov=i.\u0275\u0275defineInjectable({token:z,factory:z.\u0275fac,providedIn:$i}),z})()},1481:(fe,W,c)=>{c.d(W,{b2:()=>In,H7:()=>pr,q6:()=>vn,se:()=>se});var i=c(1457),u=c(7777);class D extends i.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class L extends D{static makeCurrent(){(0,i.\u0275setRootDomAdapter)(new L)}onAndCancel(_e,de,G){return _e.addEventListener(de,G,!1),()=>{_e.removeEventListener(de,G,!1)}}dispatchEvent(_e,de){_e.dispatchEvent(de)}remove(_e){_e.parentNode&&_e.parentNode.removeChild(_e)}createElement(_e,de){return(de=de||this.getDefaultDocument()).createElement(_e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(_e){return _e.nodeType===Node.ELEMENT_NODE}isShadowRoot(_e){return _e instanceof DocumentFragment}getGlobalEventTarget(_e,de){return"window"===de?window:"document"===de?_e:"body"===de?_e.body:null}getBaseHref(_e){const de=(U=U||document.querySelector("base"),U?U.getAttribute("href"):null);return null==de?null:function(Ie){V=V||document.createElement("a"),V.setAttribute("href",Ie);const _e=V.pathname;return"/"===_e.charAt(0)?_e:`/${_e}`}(de)}resetBaseElement(){U=null}getUserAgent(){return window.navigator.userAgent}getCookie(_e){return(0,i.\u0275parseCookieValue)(document.cookie,_e)}}let V,U=null;const w=new u.InjectionToken("TRANSITION_ID"),E=[{provide:u.APP_INITIALIZER,useFactory:function(Ie,_e,de){return()=>{de.get(u.ApplicationInitStatus).donePromise.then(()=>{const G=(0,i.\u0275getDOM)(),re=_e.querySelectorAll(`style[ng-transition="${Ie}"]`);for(let M=0;M<re.length;M++)G.remove(re[M])})}},deps:[w,i.DOCUMENT,u.Injector],multi:!0}];class x{static init(){(0,u.setTestabilityGetter)(new x)}addToWindow(_e){u.\u0275global.getAngularTestability=(G,re=!0)=>{const M=_e.findTestabilityInTree(G,re);if(null==M)throw new Error("Could not find testability for element.");return M},u.\u0275global.getAllAngularTestabilities=()=>_e.getAllTestabilities(),u.\u0275global.getAllAngularRootElements=()=>_e.getAllRootElements(),u.\u0275global.frameworkStabilizers||(u.\u0275global.frameworkStabilizers=[]),u.\u0275global.frameworkStabilizers.push(G=>{const re=u.\u0275global.getAllAngularTestabilities();let M=re.length,oe=!1;const Ae=function(Ne){oe=oe||Ne,M--,0==M&&G(oe)};re.forEach(function(Ne){Ne.whenStable(Ae)})})}findTestabilityInTree(_e,de,G){return null==de?null:_e.getTestability(de)??(G?(0,i.\u0275getDOM)().isShadowRoot(de)?this.findTestabilityInTree(_e,de.host,!0):this.findTestabilityInTree(_e,de.parentElement,!0):null)}}let T=(()=>{class Ie{build(){return new XMLHttpRequest}}return Ie.\u0275fac=function(de){return new(de||Ie)},Ie.\u0275prov=u.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac}),Ie})();const S=new u.InjectionToken("EventManagerPlugins");let C=(()=>{class Ie{constructor(de,G){this._zone=G,this._eventNameToPlugin=new Map,de.forEach(re=>re.manager=this),this._plugins=de.slice().reverse()}addEventListener(de,G,re){return this._findPluginFor(G).addEventListener(de,G,re)}addGlobalEventListener(de,G,re){return this._findPluginFor(G).addGlobalEventListener(de,G,re)}getZone(){return this._zone}_findPluginFor(de){const G=this._eventNameToPlugin.get(de);if(G)return G;const re=this._plugins;for(let M=0;M<re.length;M++){const oe=re[M];if(oe.supports(de))return this._eventNameToPlugin.set(de,oe),oe}throw new Error(`No event manager plugin found for event ${de}`)}}return Ie.\u0275fac=function(de){return new(de||Ie)(u.\u0275\u0275inject(S),u.\u0275\u0275inject(u.NgZone))},Ie.\u0275prov=u.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac}),Ie})();class _{constructor(_e){this._doc=_e}addGlobalEventListener(_e,de,G){const re=(0,i.\u0275getDOM)().getGlobalEventTarget(this._doc,_e);if(!re)throw new Error(`Unsupported event target ${re} for event ${de}`);return this.addEventListener(re,de,G)}}let v=(()=>{class Ie{constructor(){this._stylesSet=new Set}addStyles(de){const G=new Set;de.forEach(re=>{this._stylesSet.has(re)||(this._stylesSet.add(re),G.add(re))}),this.onStylesAdded(G)}onStylesAdded(de){}getAllStyles(){return Array.from(this._stylesSet)}}return Ie.\u0275fac=function(de){return new(de||Ie)},Ie.\u0275prov=u.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac}),Ie})(),d=(()=>{class Ie extends v{constructor(de){super(),this._doc=de,this._hostNodes=new Map,this._hostNodes.set(de.head,[])}_addStylesToHost(de,G,re){de.forEach(M=>{const oe=this._doc.createElement("style");oe.textContent=M,re.push(G.appendChild(oe))})}addHost(de){const G=[];this._addStylesToHost(this._stylesSet,de,G),this._hostNodes.set(de,G)}removeHost(de){const G=this._hostNodes.get(de);G&&G.forEach(a),this._hostNodes.delete(de)}onStylesAdded(de){this._hostNodes.forEach((G,re)=>{this._addStylesToHost(de,re,G)})}ngOnDestroy(){this._hostNodes.forEach(de=>de.forEach(a))}}return Ie.\u0275fac=function(de){return new(de||Ie)(u.\u0275\u0275inject(i.DOCUMENT))},Ie.\u0275prov=u.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac}),Ie})();function a(Ie){(0,i.\u0275getDOM)().remove(Ie)}const p={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},h=/%COMP%/g;function Q(Ie,_e,de){for(let G=0;G<_e.length;G++){let re=_e[G];Array.isArray(re)?Q(Ie,re,de):(re=re.replace(h,Ie),de.push(re))}return de}function te(Ie){return _e=>{if("__ngUnwrap__"===_e)return Ie;!1===Ie(_e)&&(_e.preventDefault(),_e.returnValue=!1)}}let se=(()=>{class Ie{constructor(de,G,re){this.eventManager=de,this.sharedStylesHost=G,this.appId=re,this.rendererByCompId=new Map,this.defaultRenderer=new ce(de)}createRenderer(de,G){if(!de||!G)return this.defaultRenderer;switch(G.encapsulation){case u.ViewEncapsulation.Emulated:{let re=this.rendererByCompId.get(G.id);return re||(re=new tt(this.eventManager,this.sharedStylesHost,G,this.appId),this.rendererByCompId.set(G.id,re)),re.applyToHost(de),re}case 1:case u.ViewEncapsulation.ShadowDom:return new Pe(this.eventManager,this.sharedStylesHost,de,G);default:if(!this.rendererByCompId.has(G.id)){const re=Q(G.id,G.styles,[]);this.sharedStylesHost.addStyles(re),this.rendererByCompId.set(G.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ie.\u0275fac=function(de){return new(de||Ie)(u.\u0275\u0275inject(C),u.\u0275\u0275inject(d),u.\u0275\u0275inject(u.APP_ID))},Ie.\u0275prov=u.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac}),Ie})();class ce{constructor(_e){this.eventManager=_e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(_e,de){return de?document.createElementNS(p[de]||de,_e):document.createElement(_e)}createComment(_e){return document.createComment(_e)}createText(_e){return document.createTextNode(_e)}appendChild(_e,de){_e.appendChild(de)}insertBefore(_e,de,G){_e&&_e.insertBefore(de,G)}removeChild(_e,de){_e&&_e.removeChild(de)}selectRootElement(_e,de){let G="string"==typeof _e?document.querySelector(_e):_e;if(!G)throw new Error(`The selector "${_e}" did not match any elements`);return de||(G.textContent=""),G}parentNode(_e){return _e.parentNode}nextSibling(_e){return _e.nextSibling}setAttribute(_e,de,G,re){if(re){de=re+":"+de;const M=p[re];M?_e.setAttributeNS(M,de,G):_e.setAttribute(de,G)}else _e.setAttribute(de,G)}removeAttribute(_e,de,G){if(G){const re=p[G];re?_e.removeAttributeNS(re,de):_e.removeAttribute(`${G}:${de}`)}else _e.removeAttribute(de)}addClass(_e,de){_e.classList.add(de)}removeClass(_e,de){_e.classList.remove(de)}setStyle(_e,de,G,re){re&(u.RendererStyleFlags2.DashCase|u.RendererStyleFlags2.Important)?_e.style.setProperty(de,G,re&u.RendererStyleFlags2.Important?"important":""):_e.style[de]=G}removeStyle(_e,de,G){G&u.RendererStyleFlags2.DashCase?_e.style.removeProperty(de):_e.style[de]=""}setProperty(_e,de,G){_e[de]=G}setValue(_e,de){_e.nodeValue=de}listen(_e,de,G){return"string"==typeof _e?this.eventManager.addGlobalEventListener(_e,de,te(G)):this.eventManager.addEventListener(_e,de,te(G))}}class tt extends ce{constructor(_e,de,G,re){super(_e),this.component=G;const M=Q(re+"-"+G.id,G.styles,[]);de.addStyles(M),this.contentAttr="_ngcontent-%COMP%".replace(h,re+"-"+G.id),this.hostAttr="_nghost-%COMP%".replace(h,re+"-"+G.id)}applyToHost(_e){super.setAttribute(_e,this.hostAttr,"")}createElement(_e,de){const G=super.createElement(_e,de);return super.setAttribute(G,this.contentAttr,""),G}}class Pe extends ce{constructor(_e,de,G,re){super(_e),this.sharedStylesHost=de,this.hostEl=G,this.shadowRoot=G.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const M=Q(re.id,re.styles,[]);for(let oe=0;oe<M.length;oe++){const Ae=document.createElement("style");Ae.textContent=M[oe],this.shadowRoot.appendChild(Ae)}}nodeOrShadowRoot(_e){return _e===this.hostEl?this.shadowRoot:_e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(_e,de){return super.appendChild(this.nodeOrShadowRoot(_e),de)}insertBefore(_e,de,G){return super.insertBefore(this.nodeOrShadowRoot(_e),de,G)}removeChild(_e,de){return super.removeChild(this.nodeOrShadowRoot(_e),de)}parentNode(_e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(_e)))}}let De=(()=>{class Ie extends _{constructor(de){super(de)}supports(de){return!0}addEventListener(de,G,re){return de.addEventListener(G,re,!1),()=>this.removeEventListener(de,G,re)}removeEventListener(de,G,re){return de.removeEventListener(G,re)}}return Ie.\u0275fac=function(de){return new(de||Ie)(u.\u0275\u0275inject(i.DOCUMENT))},Ie.\u0275prov=u.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac}),Ie})();const pe=["alt","control","meta","shift"],ke={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ge={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},it={alt:Ie=>Ie.altKey,control:Ie=>Ie.ctrlKey,meta:Ie=>Ie.metaKey,shift:Ie=>Ie.shiftKey};let _t=(()=>{class Ie extends _{constructor(de){super(de)}supports(de){return null!=Ie.parseEventName(de)}addEventListener(de,G,re){const M=Ie.parseEventName(G),oe=Ie.eventCallback(M.fullKey,re,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,i.\u0275getDOM)().onAndCancel(de,M.domEventName,oe))}static parseEventName(de){const G=de.toLowerCase().split("."),re=G.shift();if(0===G.length||"keydown"!==re&&"keyup"!==re)return null;const M=Ie._normalizeKey(G.pop());let oe="";if(pe.forEach(Ne=>{const et=G.indexOf(Ne);et>-1&&(G.splice(et,1),oe+=Ne+".")}),oe+=M,0!=G.length||0===M.length)return null;const Ae={};return Ae.domEventName=re,Ae.fullKey=oe,Ae}static getEventFullKey(de){let G="",re=function(Ie){let _e=Ie.key;if(null==_e){if(_e=Ie.keyIdentifier,null==_e)return"Unidentified";_e.startsWith("U+")&&(_e=String.fromCharCode(parseInt(_e.substring(2),16)),3===Ie.location&&Ge.hasOwnProperty(_e)&&(_e=Ge[_e]))}return ke[_e]||_e}(de);return re=re.toLowerCase()," "===re?re="space":"."===re&&(re="dot"),pe.forEach(M=>{M!=re&&it[M](de)&&(G+=M+".")}),G+=re,G}static eventCallback(de,G,re){return M=>{Ie.getEventFullKey(M)===de&&re.runGuarded(()=>G(M))}}static _normalizeKey(de){return"esc"===de?"escape":de}}return Ie.\u0275fac=function(de){return new(de||Ie)(u.\u0275\u0275inject(i.DOCUMENT))},Ie.\u0275prov=u.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac}),Ie})();const vn=(0,u.createPlatformFactory)(u.platformCore,"browser",[{provide:u.PLATFORM_ID,useValue:i.\u0275PLATFORM_BROWSER_ID},{provide:u.PLATFORM_INITIALIZER,useValue:function(){L.makeCurrent(),x.init()},multi:!0},{provide:i.DOCUMENT,useFactory:function(){return(0,u.\u0275setDocument)(document),document},deps:[]}]),Sn=[{provide:u.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:u.ErrorHandler,useFactory:function(){return new u.ErrorHandler},deps:[]},{provide:S,useClass:De,multi:!0,deps:[i.DOCUMENT,u.NgZone,u.PLATFORM_ID]},{provide:S,useClass:_t,multi:!0,deps:[i.DOCUMENT]},{provide:se,useClass:se,deps:[C,d,u.APP_ID]},{provide:u.RendererFactory2,useExisting:se},{provide:v,useExisting:d},{provide:d,useClass:d,deps:[i.DOCUMENT]},{provide:u.Testability,useClass:u.Testability,deps:[u.NgZone]},{provide:C,useClass:C,deps:[S,u.NgZone]},{provide:i.XhrFactory,useClass:T,deps:[]}];let In=(()=>{class Ie{constructor(de){if(de)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(de){return{ngModule:Ie,providers:[{provide:u.APP_ID,useValue:de.appId},{provide:w,useExisting:u.APP_ID},E]}}}return Ie.\u0275fac=function(de){return new(de||Ie)(u.\u0275\u0275inject(Ie,12))},Ie.\u0275mod=u.\u0275\u0275defineNgModule({type:Ie}),Ie.\u0275inj=u.\u0275\u0275defineInjector({providers:Sn,imports:[i.CommonModule,u.ApplicationModule]}),Ie})();"undefined"!=typeof window&&window;let pr=(()=>{class Ie{}return Ie.\u0275fac=function(de){return new(de||Ie)},Ie.\u0275prov=u.\u0275\u0275defineInjectable({token:Ie,factory:function(de){let G=null;return G=de?new(de||Ie):u.\u0275\u0275inject(ar),G},providedIn:"root"}),Ie})(),ar=(()=>{class Ie extends pr{constructor(de){super(),this._doc=de}sanitize(de,G){if(null==G)return null;switch(de){case u.SecurityContext.NONE:return G;case u.SecurityContext.HTML:return(0,u.\u0275allowSanitizationBypassAndThrow)(G,"HTML")?(0,u.\u0275unwrapSafeValue)(G):(0,u.\u0275_sanitizeHtml)(this._doc,String(G)).toString();case u.SecurityContext.STYLE:return(0,u.\u0275allowSanitizationBypassAndThrow)(G,"Style")?(0,u.\u0275unwrapSafeValue)(G):G;case u.SecurityContext.SCRIPT:if((0,u.\u0275allowSanitizationBypassAndThrow)(G,"Script"))return(0,u.\u0275unwrapSafeValue)(G);throw new Error("unsafe value used in a script context");case u.SecurityContext.URL:return(0,u.\u0275getSanitizationBypassType)(G),(0,u.\u0275allowSanitizationBypassAndThrow)(G,"URL")?(0,u.\u0275unwrapSafeValue)(G):(0,u.\u0275_sanitizeUrl)(String(G));case u.SecurityContext.RESOURCE_URL:if((0,u.\u0275allowSanitizationBypassAndThrow)(G,"ResourceURL"))return(0,u.\u0275unwrapSafeValue)(G);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${de} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(de){return(0,u.\u0275bypassSanitizationTrustHtml)(de)}bypassSecurityTrustStyle(de){return(0,u.\u0275bypassSanitizationTrustStyle)(de)}bypassSecurityTrustScript(de){return(0,u.\u0275bypassSanitizationTrustScript)(de)}bypassSecurityTrustUrl(de){return(0,u.\u0275bypassSanitizationTrustUrl)(de)}bypassSecurityTrustResourceUrl(de){return(0,u.\u0275bypassSanitizationTrustResourceUrl)(de)}}return Ie.\u0275fac=function(de){return new(de||Ie)(u.\u0275\u0275inject(i.DOCUMENT))},Ie.\u0275prov=u.\u0275\u0275defineInjectable({token:Ie,factory:function(de){let G=null;return G=de?new de:function(Ie){return new ar(Ie.get(i.DOCUMENT))}(u.\u0275\u0275inject(u.Injector)),G},providedIn:"root"}),Ie})()},8796:(fe,W,c)=>{c.d(W,{mR:()=>$n,ir:()=>Cn,w9:()=>ur,A0:()=>de});var i=c(7777),u=c(4006),D=c(2722),L=c(3601),U=c(8675),k=c(8505),V=c(8372),N=c(9300),w=c(4004),O=c(6406),E=c(3101),x=c(7579),T=c(4968),S=c(6451),C=c(1457);const _=["content"],v=["scroll"],d=["padding"],a=function(G){return{searchTerm:G}};function p(G,re){if(1&G&&(i.\u0275\u0275elementStart(0,"div",6),i.\u0275\u0275elementContainer(1,7),i.\u0275\u0275elementEnd()),2&G){const M=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",M.headerTemplate)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,a,M.filterValue))}}function h(G,re){if(1&G&&(i.\u0275\u0275elementStart(0,"div",8),i.\u0275\u0275elementContainer(1,7),i.\u0275\u0275elementEnd()),2&G){const M=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",M.footerTemplate)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,a,M.filterValue))}}const H=["*"],ae=["searchInput"];function we(G,re){if(1&G){const M=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"span",15),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(M);const Ae=i.\u0275\u0275nextContext().$implicit;return i.\u0275\u0275nextContext(2).unselect(Ae)}),i.\u0275\u0275text(1,"\xd7"),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(2,"span",16)}if(2&G){const M=i.\u0275\u0275nextContext().$implicit,oe=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(2),i.\u0275\u0275property("ngItemLabel",M.label)("escape",oe.escapeHTML)}}function Ee(G,re){}const B=function(G,re,M){return{item:G,clear:re,label:M}};function ne(G,re){if(1&G&&(i.\u0275\u0275elementStart(0,"div",12),i.\u0275\u0275template(1,we,3,2,"ng-template",null,13,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(3,Ee,0,0,"ng-template",14),i.\u0275\u0275elementEnd()),2&G){const M=re.$implicit,oe=i.\u0275\u0275reference(2),Ae=i.\u0275\u0275nextContext(2);i.\u0275\u0275classProp("ng-value-disabled",M.disabled),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngTemplateOutlet",Ae.labelTemplate||oe)("ngTemplateOutletContext",i.\u0275\u0275pureFunction3(4,B,M.value,Ae.clearItem,M.label))}}function Q(G,re){if(1&G&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,ne,4,8,"div",11),i.\u0275\u0275elementContainerEnd()),2&G){const M=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",M.selectedItems)("ngForTrackBy",M.trackByOption)}}function te(G,re){}const X=function(G,re){return{items:G,clear:re}};function se(G,re){if(1&G&&i.\u0275\u0275template(0,te,0,0,"ng-template",14),2&G){const M=i.\u0275\u0275nextContext();i.\u0275\u0275property("ngTemplateOutlet",M.multiLabelTemplate)("ngTemplateOutletContext",i.\u0275\u0275pureFunction2(2,X,M.selectedValues,M.clearItem))}}function ce(G,re){1&G&&i.\u0275\u0275element(0,"div",19)}function Oe(G,re){}function We(G,re){if(1&G&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,ce,1,0,"ng-template",null,17,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(3,Oe,0,0,"ng-template",18),i.\u0275\u0275elementContainerEnd()),2&G){const M=i.\u0275\u0275reference(2),oe=i.\u0275\u0275nextContext();i.\u0275\u0275advance(3),i.\u0275\u0275property("ngTemplateOutlet",oe.loadingSpinnerTemplate||M)}}function tt(G,re){if(1&G&&(i.\u0275\u0275elementStart(0,"span",20),i.\u0275\u0275elementStart(1,"span",21),i.\u0275\u0275text(2,"\xd7"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&G){const M=i.\u0275\u0275nextContext();i.\u0275\u0275propertyInterpolate("title",M.clearAllText)}}function Pe(G,re){if(1&G&&i.\u0275\u0275element(0,"span",27),2&G){const M=i.\u0275\u0275nextContext().$implicit,oe=i.\u0275\u0275nextContext(2);i.\u0275\u0275property("ngItemLabel",M.label)("escape",oe.escapeHTML)}}function De(G,re){}const pe=function(G,re,M,oe){return{item:G,item$:re,index:M,searchTerm:oe}};function ve(G,re){if(1&G){const M=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",25),i.\u0275\u0275listener("click",function(){const Ne=i.\u0275\u0275restoreView(M).$implicit;return i.\u0275\u0275nextContext(2).toggleItem(Ne)})("mouseover",function(){const Ne=i.\u0275\u0275restoreView(M).$implicit;return i.\u0275\u0275nextContext(2).onItemHover(Ne)}),i.\u0275\u0275template(1,Pe,1,2,"ng-template",null,26,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(3,De,0,0,"ng-template",14),i.\u0275\u0275elementEnd()}if(2&G){const M=re.$implicit,oe=i.\u0275\u0275reference(2),Ae=i.\u0275\u0275nextContext(2);i.\u0275\u0275classProp("ng-option-disabled",M.disabled)("ng-option-selected",M.selected)("ng-optgroup",M.children)("ng-option",!M.children)("ng-option-child",!!M.parent)("ng-option-marked",M===Ae.itemsList.markedItem),i.\u0275\u0275attribute("role",M.children?"group":"option")("aria-selected",M.selected)("id",null==M?null:M.htmlId),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngTemplateOutlet",M.children?Ae.optgroupTemplate||oe:Ae.optionTemplate||oe)("ngTemplateOutletContext",i.\u0275\u0275pureFunction4(17,pe,M.value,M,M.index,Ae.searchTerm))}}function ke(G,re){if(1&G&&(i.\u0275\u0275elementStart(0,"span"),i.\u0275\u0275elementStart(1,"span",30),i.\u0275\u0275text(2),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(3),i.\u0275\u0275elementEnd()),2&G){const M=i.\u0275\u0275nextContext(3);i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(M.addTagText),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1('"',M.searchTerm,'"')}}function Ge(G,re){}function it(G,re){if(1&G){const M=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",28),i.\u0275\u0275listener("mouseover",function(){return i.\u0275\u0275restoreView(M),i.\u0275\u0275nextContext(2).itemsList.unmarkItem()})("click",function(){return i.\u0275\u0275restoreView(M),i.\u0275\u0275nextContext(2).selectTag()}),i.\u0275\u0275template(1,ke,4,2,"ng-template",null,29,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(3,Ge,0,0,"ng-template",14),i.\u0275\u0275elementEnd()}if(2&G){const M=i.\u0275\u0275reference(2),oe=i.\u0275\u0275nextContext(2);i.\u0275\u0275classProp("ng-option-marked",!oe.itemsList.markedItem),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngTemplateOutlet",oe.tagTemplate||M)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(4,a,oe.searchTerm))}}function _t(G,re){if(1&G&&(i.\u0275\u0275elementStart(0,"div",32),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&G){const M=i.\u0275\u0275nextContext(3);i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(M.notFoundText)}}function at(G,re){}function Et(G,re){if(1&G&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,_t,2,1,"ng-template",null,31,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(3,at,0,0,"ng-template",14),i.\u0275\u0275elementContainerEnd()),2&G){const M=i.\u0275\u0275reference(2),oe=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(3),i.\u0275\u0275property("ngTemplateOutlet",oe.notFoundTemplate||M)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,a,oe.searchTerm))}}function Rt(G,re){if(1&G&&(i.\u0275\u0275elementStart(0,"div",32),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&G){const M=i.\u0275\u0275nextContext(3);i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(M.typeToSearchText)}}function Nt(G,re){}function $t(G,re){if(1&G&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,Rt,2,1,"ng-template",null,33,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(3,Nt,0,0,"ng-template",18),i.\u0275\u0275elementContainerEnd()),2&G){const M=i.\u0275\u0275reference(2),oe=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(3),i.\u0275\u0275property("ngTemplateOutlet",oe.typeToSearchTemplate||M)}}function vn(G,re){if(1&G&&(i.\u0275\u0275elementStart(0,"div",32),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&G){const M=i.\u0275\u0275nextContext(3);i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(M.loadingText)}}function Sn(G,re){}function In(G,re){if(1&G&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,vn,2,1,"ng-template",null,34,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(3,Sn,0,0,"ng-template",14),i.\u0275\u0275elementContainerEnd()),2&G){const M=i.\u0275\u0275reference(2),oe=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(3),i.\u0275\u0275property("ngTemplateOutlet",oe.loadingTextTemplate||M)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,a,oe.searchTerm))}}function Mn(G,re){if(1&G){const M=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"ng-dropdown-panel",22),i.\u0275\u0275listener("update",function(Ae){return i.\u0275\u0275restoreView(M),i.\u0275\u0275nextContext().viewPortItems=Ae})("scroll",function(Ae){return i.\u0275\u0275restoreView(M),i.\u0275\u0275nextContext().scroll.emit(Ae)})("scrollToEnd",function(Ae){return i.\u0275\u0275restoreView(M),i.\u0275\u0275nextContext().scrollToEnd.emit(Ae)})("outsideClick",function(){return i.\u0275\u0275restoreView(M),i.\u0275\u0275nextContext().close()}),i.\u0275\u0275elementContainerStart(1),i.\u0275\u0275template(2,ve,4,22,"div",23),i.\u0275\u0275template(3,it,4,6,"div",24),i.\u0275\u0275elementContainerEnd(),i.\u0275\u0275template(4,Et,4,4,"ng-container",3),i.\u0275\u0275template(5,$t,4,1,"ng-container",3),i.\u0275\u0275template(6,In,4,4,"ng-container",3),i.\u0275\u0275elementEnd()}if(2&G){const M=i.\u0275\u0275nextContext();i.\u0275\u0275classProp("ng-select-multiple",M.multiple),i.\u0275\u0275property("virtualScroll",M.virtualScroll)("bufferAmount",M.bufferAmount)("appendTo",M.appendTo)("position",M.dropdownPosition)("headerTemplate",M.headerTemplate)("footerTemplate",M.footerTemplate)("filterValue",M.searchTerm)("items",M.itemsList.filteredItems)("markedItem",M.itemsList.markedItem)("ngClass",M.appendTo?M.classes:null)("id",M.dropdownId),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngForOf",M.viewPortItems)("ngForTrackBy",M.trackByOption),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",M.showAddTag),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",M.showNoItemsFound()),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",M.showTypeToSearch()),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",M.loading&&0===M.itemsList.filteredItems.length)}}const qt=/[&<>"']/g,Nn=RegExp(qt.source),ze={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ht(G){return null!=G}function xt(G){return"object"==typeof G&&ht(G)}function hr(G){return G instanceof Function}let Ri=(()=>{class G{constructor(M){this.element=M,this.escape=!0}ngOnChanges(M){this.element.nativeElement.innerHTML=this.escape?function(G){return G&&Nn.test(G)?G.replace(qt,re=>ze[re]):G}(this.ngItemLabel):this.ngItemLabel}}return G.\u0275fac=function(M){return new(M||G)(i.\u0275\u0275directiveInject(i.ElementRef))},G.\u0275dir=i.\u0275\u0275defineDirective({type:G,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[i.\u0275\u0275NgOnChangesFeature]}),G})(),Cn=(()=>{class G{constructor(M){this.template=M}}return G.\u0275fac=function(M){return new(M||G)(i.\u0275\u0275directiveInject(i.TemplateRef))},G.\u0275dir=i.\u0275\u0275defineDirective({type:G,selectors:[["","ng-option-tmp",""]]}),G})(),xr=(()=>{class G{constructor(M){this.template=M}}return G.\u0275fac=function(M){return new(M||G)(i.\u0275\u0275directiveInject(i.TemplateRef))},G.\u0275dir=i.\u0275\u0275defineDirective({type:G,selectors:[["","ng-optgroup-tmp",""]]}),G})(),$n=(()=>{class G{constructor(M){this.template=M}}return G.\u0275fac=function(M){return new(M||G)(i.\u0275\u0275directiveInject(i.TemplateRef))},G.\u0275dir=i.\u0275\u0275defineDirective({type:G,selectors:[["","ng-label-tmp",""]]}),G})(),Fr=(()=>{class G{constructor(M){this.template=M}}return G.\u0275fac=function(M){return new(M||G)(i.\u0275\u0275directiveInject(i.TemplateRef))},G.\u0275dir=i.\u0275\u0275defineDirective({type:G,selectors:[["","ng-multi-label-tmp",""]]}),G})(),kr=(()=>{class G{constructor(M){this.template=M}}return G.\u0275fac=function(M){return new(M||G)(i.\u0275\u0275directiveInject(i.TemplateRef))},G.\u0275dir=i.\u0275\u0275defineDirective({type:G,selectors:[["","ng-header-tmp",""]]}),G})(),On=(()=>{class G{constructor(M){this.template=M}}return G.\u0275fac=function(M){return new(M||G)(i.\u0275\u0275directiveInject(i.TemplateRef))},G.\u0275dir=i.\u0275\u0275defineDirective({type:G,selectors:[["","ng-footer-tmp",""]]}),G})(),Rn=(()=>{class G{constructor(M){this.template=M}}return G.\u0275fac=function(M){return new(M||G)(i.\u0275\u0275directiveInject(i.TemplateRef))},G.\u0275dir=i.\u0275\u0275defineDirective({type:G,selectors:[["","ng-notfound-tmp",""]]}),G})(),Jn=(()=>{class G{constructor(M){this.template=M}}return G.\u0275fac=function(M){return new(M||G)(i.\u0275\u0275directiveInject(i.TemplateRef))},G.\u0275dir=i.\u0275\u0275defineDirective({type:G,selectors:[["","ng-typetosearch-tmp",""]]}),G})(),or=(()=>{class G{constructor(M){this.template=M}}return G.\u0275fac=function(M){return new(M||G)(i.\u0275\u0275directiveInject(i.TemplateRef))},G.\u0275dir=i.\u0275\u0275defineDirective({type:G,selectors:[["","ng-loadingtext-tmp",""]]}),G})(),br=(()=>{class G{constructor(M){this.template=M}}return G.\u0275fac=function(M){return new(M||G)(i.\u0275\u0275directiveInject(i.TemplateRef))},G.\u0275dir=i.\u0275\u0275defineDirective({type:G,selectors:[["","ng-tag-tmp",""]]}),G})(),Er=(()=>{class G{constructor(M){this.template=M}}return G.\u0275fac=function(M){return new(M||G)(i.\u0275\u0275directiveInject(i.TemplateRef))},G.\u0275dir=i.\u0275\u0275defineDirective({type:G,selectors:[["","ng-loadingspinner-tmp",""]]}),G})();function Xn(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const Lr={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function Sr(G){return G.replace(/[^\u0000-\u007E]/g,M=>Lr[M]||M)}class Cr{constructor(re,M){this._ngSelect=re,this._selectionModel=M,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let re=this.selectedItems.length-1;for(;re>=0;re--){const M=this.selectedItems[re];if(!M.disabled)return M}return null}setItems(re){this._items=re.map((M,oe)=>this.mapItem(M,oe)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(re){if(re.selected||this.maxItemsSelected)return;const M=this._ngSelect.multiple;M||this.clearSelected(),this._selectionModel.select(re,M,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(re)}unselect(re){!re.selected||(this._selectionModel.unselect(re,this._ngSelect.multiple),this._ngSelect.hideSelected&&ht(re.index)&&this._ngSelect.multiple&&this._showSelected(re))}findItem(re){let M;return M=this._ngSelect.compareWith?oe=>this._ngSelect.compareWith(oe.value,re):this._ngSelect.bindValue?oe=>!oe.children&&this.resolveNested(oe.value,this._ngSelect.bindValue)===re:oe=>oe.value===re||!oe.children&&oe.label&&oe.label===this.resolveNested(re,this._ngSelect.bindLabel),this._items.find(oe=>M(oe))}addItem(re){const M=this.mapItem(re,this._items.length);return this._items.push(M),this._filteredItems.push(M),M}clearSelected(re=!1){this._selectionModel.clear(re),this._items.forEach(M=>{M.selected=re&&M.selected&&M.disabled,M.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(re){return re=Sr(re).toLocaleLowerCase(),this.filteredItems.find(M=>Sr(M.label).toLocaleLowerCase().substr(0,re.length)===re)}filter(re){if(!re)return void this.resetFilteredItems();this._filteredItems=[],re=this._ngSelect.searchFn?re:Sr(re).toLocaleLowerCase();const M=this._ngSelect.searchFn||this._defaultSearchFn,oe=this._ngSelect.hideSelected;for(const Ae of Array.from(this._groups.keys())){const Ne=[];for(const et of this._groups.get(Ae))oe&&(et.parent&&et.parent.selected||et.selected)||M(re,this._ngSelect.searchFn?et.value:et)&&Ne.push(et);if(Ne.length>0){const[et]=Ne.slice(-1);if(et.parent){const Tt=this._items.find(rn=>rn===et.parent);this._filteredItems.push(Tt)}this._filteredItems.push(...Ne)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(re=>!re.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(re){this._markedIndex=this._filteredItems.indexOf(re)}markSelectedOrDefault(re){if(0===this._filteredItems.length)return;const M=this._getLastMarkedIndex();this._markedIndex=M>-1?M:re?this.filteredItems.findIndex(oe=>!oe.disabled):-1}resolveNested(re,M){if(!xt(re))return re;if(-1===M.indexOf("."))return re[M];{const oe=M.split(".");let Ae=re;for(let Ne=0,et=oe.length;Ne<et;++Ne){if(null==Ae)return null;Ae=Ae[oe[Ne]]}return Ae}}mapItem(re,M){const oe=ht(re.$ngOptionLabel)?re.$ngOptionLabel:this.resolveNested(re,this._ngSelect.bindLabel),Ae=ht(re.$ngOptionValue)?re.$ngOptionValue:re;return{index:M,label:ht(oe)?oe.toString():"",value:Ae,disabled:re.disabled,htmlId:`${this._ngSelect.dropdownId}-${M}`}}mapSelectedItems(){const re=this._ngSelect.multiple;for(const M of this.selectedItems){const oe=this._ngSelect.bindValue?this.resolveNested(M.value,this._ngSelect.bindValue):M.value,Ae=ht(oe)?this.findItem(oe):null;this._selectionModel.unselect(M,re),this._selectionModel.select(Ae||M,re,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(M=>-1===this.selectedItems.indexOf(M)))}_showSelected(re){if(this._filteredItems.push(re),re.parent){const M=re.parent;this._filteredItems.find(Ae=>Ae===M)||this._filteredItems.push(M)}else if(re.children)for(const M of re.children)M.selected=!1,this._filteredItems.push(M);this._filteredItems=[...this._filteredItems.sort((M,oe)=>M.index-oe.index)]}_hideSelected(re){this._filteredItems=this._filteredItems.filter(M=>M!==re),re.parent?re.parent.children.every(oe=>oe.selected)&&(this._filteredItems=this._filteredItems.filter(oe=>oe!==re.parent)):re.children&&(this._filteredItems=this.filteredItems.filter(M=>M.parent!==re))}_defaultSearchFn(re,M){return Sr(M.label).toLocaleLowerCase().indexOf(re)>-1}_getNextItemIndex(re){return re>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(re){0===this._filteredItems.length||this._filteredItems.every(M=>M.disabled)||(this._markedIndex=this._getNextItemIndex(re),this.markedItem.disabled&&this._stepToItem(re))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const re=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&re<0?-1:Math.max(this.markedIndex,re)}_groupBy(re,M){const oe=new Map;if(0===re.length)return oe;if(Array.isArray(re[0].value[M])){for(const et of re){const Tt=(et.value[M]||[]).map((rn,en)=>this.mapItem(rn,en));oe.set(et,Tt)}return oe}const Ae=hr(this._ngSelect.groupBy),Ne=et=>{const Tt=Ae?M(et.value):et.value[M];return ht(Tt)?Tt:void 0};for(const et of re){const Tt=Ne(et),rn=oe.get(Tt);rn?rn.push(et):oe.set(Tt,[et])}return oe}_flatten(re){const M=hr(this._ngSelect.groupBy),oe=[];for(const Ae of Array.from(re.keys())){let Ne=oe.length;if(void 0===Ae){const yn=re.get(void 0)||[];oe.push(...yn.map(Pn=>(Pn.index=Ne++,Pn)));continue}const et=xt(Ae),Tt={label:et?"":String(Ae),children:void 0,parent:null,index:Ne++,disabled:!this._ngSelect.selectableGroup,htmlId:Xn()},rn=M?this._ngSelect.bindLabel:this._ngSelect.groupBy,en=this._ngSelect.groupValue||(()=>et?Ae.value:{[rn]:Ae}),sn=re.get(Ae).map(yn=>(yn.parent=Tt,yn.children=void 0,yn.index=Ne++,yn));Tt.children=sn,Tt.value=en(Ae,sn.map(yn=>yn.value)),oe.push(Tt),oe.push(...sn)}return oe}}var xn=(()=>{return(G=xn||(xn={}))[G.Tab=9]="Tab",G[G.Enter=13]="Enter",G[G.Esc=27]="Esc",G[G.Space=32]="Space",G[G.ArrowUp=38]="ArrowUp",G[G.ArrowDown=40]="ArrowDown",G[G.Backspace=8]="Backspace",xn;var G})();let pn=(()=>{class G{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(M,oe,Ae){const Ne=this._dimensions,et=Ne.itemHeight*oe,rn=Math.max(0,M)/et*oe;let en=Math.min(oe,Math.ceil(rn)+(Ne.itemsPerViewport+1));const yn=Math.max(0,en-Ne.itemsPerViewport);let Pn=Math.min(yn,Math.floor(rn)),Fn=Ne.itemHeight*Math.ceil(Pn)-Ne.itemHeight*Math.min(Pn,Ae);return Fn=isNaN(Fn)?0:Fn,Pn=isNaN(Pn)?-1:Pn,en=isNaN(en)?-1:en,Pn-=Ae,Pn=Math.max(0,Pn),en+=Ae,en=Math.min(oe,en),{topPadding:Fn,scrollHeight:et,start:Pn,end:en}}setDimensions(M,oe){const Ae=Math.max(1,Math.floor(oe/M));this._dimensions={itemHeight:M,panelHeight:oe,itemsPerViewport:Ae}}getScrollTo(M,oe,Ae){const{panelHeight:Ne}=this.dimensions,et=M+oe,rn=Ae+Ne;return Ne>=et&&Ae===M?null:et>rn?Ae+et-rn:M<=Ae?M:null}}return G.\u0275fac=function(M){return new(M||G)},G.\u0275prov=i.\u0275\u0275defineInjectable({token:G,factory:G.\u0275fac}),G})();const Br=["top","right","bottom","left"],ln="undefined"!=typeof requestAnimationFrame?O.Z:E.E;let Nr=(()=>{class G{constructor(M,oe,Ae,Ne,et){this._renderer=M,this._zone=oe,this._panelService=Ae,this._document=et,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new i.EventEmitter,this.scroll=new i.EventEmitter,this.scrollToEnd=new i.EventEmitter,this.outsideClick=new i.EventEmitter,this._destroy$=new x.x,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=Ne.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(M){M!==this._itemsLength&&(this._itemsLength=M,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:M,panelHeight:oe}=this._panelService.dimensions,Ae=this.markedItem.index*M;return oe>Ae?0:Ae}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(M){if(M.items){const oe=M.items;this._onItemsChange(oe.currentValue,oe.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(M,oe=!1){if(!M)return;const Ae=this.items.indexOf(M);if(Ae<0||Ae>=this.itemsLength)return;let Ne;if(this.virtualScroll){const et=this._panelService.dimensions.itemHeight;Ne=this._panelService.getScrollTo(Ae*et,et,this._lastScrollPosition)}else{const et=this._dropdown.querySelector(`#${M.htmlId}`);Ne=this._panelService.getScrollTo(et.offsetTop,et.clientHeight,oe?et.offsetTop:this._lastScrollPosition)}ht(Ne)&&(this._scrollablePanel.scrollTop=Ne)}scrollToTag(){const M=this._scrollablePanel;M.scrollTop=M.scrollHeight-M.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),Br.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(M){Br.forEach(Ae=>{const Ne=`ng-select-${Ae}`;this._renderer.removeClass(this._dropdown,Ne),this._renderer.removeClass(this._select,Ne)});const oe=`ng-select-${M}`;this._renderer.addClass(this._dropdown,oe),this._renderer.addClass(this._select,oe)}_handleScroll(){this._zone.runOutsideAngular(()=>{(0,T.R)(this.scrollElementRef.nativeElement,"scroll").pipe((0,D.R)(this._destroy$),(0,L.e)(0,ln)).subscribe(M=>{const oe=M.path||M.composedPath&&M.composedPath();this._onContentScrolled(oe&&0!==oe.length?oe[0].scrollTop:M.target.scrollTop)})})}_handleOutsideClick(){!this._document||this._zone.runOutsideAngular(()=>{(0,S.T)((0,T.R)(this._document,"touchstart",{capture:!0}),(0,T.R)(this._document,"mousedown",{capture:!0})).pipe((0,D.R)(this._destroy$)).subscribe(M=>this._checkToClose(M))})}_checkToClose(M){if(this._select.contains(M.target)||this._dropdown.contains(M.target))return;const oe=M.path||M.composedPath&&M.composedPath();M.target&&M.target.shadowRoot&&oe&&oe[0]&&this._select.contains(oe[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(M,oe){this.items=M||[],this._scrollToEndFired=!1,this.itemsLength=M.length,this.virtualScroll?this._updateItemsRange(oe):(this._setVirtualHeight(),this._updateItems(oe))}_updateItems(M){this.update.emit(this.items),!1!==M&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,M)})})}_updateItemsRange(M){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{M?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(M){this.virtualScroll&&this._renderItemsRange(M),this._lastScrollPosition=M,this._fireScrollToEnd(M)}_updateVirtualHeight(M){this._updateScrollHeight&&(this._virtualPadding.style.height=`${M}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){!this._virtualPadding||(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(M=null){if(M&&this._lastScrollPosition===M)return;const oe=this._panelService.calculateItems(M=M||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(oe.scrollHeight),this._contentPanel.style.transform=`translateY(${oe.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(oe.start,oe.end)),this.scroll.emit({start:oe.start,end:oe.end})}),ht(M)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=M,this._lastScrollPosition=M)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[M]=this.items;return this.update.emit([M]),Promise.resolve().then(()=>{const Ae=this._dropdown.querySelector(`#${M.htmlId}`).clientHeight;return this._virtualPadding.style.height=Ae*this.itemsLength+"px",this._panelService.setDimensions(Ae,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(M){this._scrollToEndFired||0===M||M+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(M){if("auto"!==this.position)return this.position;const oe=this._select.getBoundingClientRect(),Ae=document.documentElement.scrollTop||document.body.scrollTop;return oe.top+window.pageYOffset+oe.height+M.getBoundingClientRect().height>Ae+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const M=this._select.getBoundingClientRect(),oe=this._parent.getBoundingClientRect();this._dropdown.style.left=M.left-oe.left+"px",this._dropdown.style.width=M.width+"px",this._dropdown.style.minWidth=M.width+"px"}_updateYPosition(){const M=this._select.getBoundingClientRect(),oe=this._parent.getBoundingClientRect(),Ae=M.height;"top"===this._currentPosition?(this._dropdown.style.bottom=oe.bottom-M.bottom+Ae+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=M.top-oe.top+Ae+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{(0,T.R)(this._dropdown,"mousedown").pipe((0,D.R)(this._destroy$)).subscribe(M=>{"INPUT"!==M.target.tagName&&M.preventDefault()})})}}return G.\u0275fac=function(M){return new(M||G)(i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275directiveInject(i.NgZone),i.\u0275\u0275directiveInject(pn),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(C.DOCUMENT,8))},G.\u0275cmp=i.\u0275\u0275defineComponent({type:G,selectors:[["ng-dropdown-panel"]],viewQuery:function(M,oe){if(1&M&&(i.\u0275\u0275viewQuery(_,7,i.ElementRef),i.\u0275\u0275viewQuery(v,7,i.ElementRef),i.\u0275\u0275viewQuery(d,7,i.ElementRef)),2&M){let Ae;i.\u0275\u0275queryRefresh(Ae=i.\u0275\u0275loadQuery())&&(oe.contentElementRef=Ae.first),i.\u0275\u0275queryRefresh(Ae=i.\u0275\u0275loadQuery())&&(oe.scrollElementRef=Ae.first),i.\u0275\u0275queryRefresh(Ae=i.\u0275\u0275loadQuery())&&(oe.paddingElementRef=Ae.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[i.\u0275\u0275NgOnChangesFeature],ngContentSelectors:H,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(M,oe){1&M&&(i.\u0275\u0275projectionDef(),i.\u0275\u0275template(0,p,2,4,"div",0),i.\u0275\u0275elementStart(1,"div",1,2),i.\u0275\u0275element(3,"div",null,3),i.\u0275\u0275elementStart(5,"div",null,4),i.\u0275\u0275projection(7),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(8,h,2,4,"div",5)),2&M&&(i.\u0275\u0275property("ngIf",oe.headerTemplate),i.\u0275\u0275advance(3),i.\u0275\u0275classProp("total-padding",oe.virtualScroll),i.\u0275\u0275advance(2),i.\u0275\u0275classProp("scrollable-content",oe.virtualScroll&&oe.items.length),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",oe.footerTemplate))},directives:[C.NgIf,C.NgTemplateOutlet],encapsulation:2,changeDetection:0}),G})(),Jt=(()=>{class G{constructor(M){this.elementRef=M,this.stateChange$=new x.x,this._disabled=!1}get disabled(){return this._disabled}set disabled(M){this._disabled=this._isDisabled(M)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(M){M.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(M){return null!=M&&"false"!=`${M}`}}return G.\u0275fac=function(M){return new(M||G)(i.\u0275\u0275directiveInject(i.ElementRef))},G.\u0275cmp=i.\u0275\u0275defineComponent({type:G,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[i.\u0275\u0275NgOnChangesFeature],ngContentSelectors:H,decls:1,vars:0,template:function(M,oe){1&M&&(i.\u0275\u0275projectionDef(),i.\u0275\u0275projection(0))},encapsulation:2,changeDetection:0}),G})(),pr=(()=>{class G{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return G.\u0275fac=function(M){return new(M||G)},G.\u0275prov=i.\u0275\u0275defineInjectable({token:G,factory:G.\u0275fac,providedIn:"root"}),G})(),qr=(()=>{class G{warn(M){console.warn(M)}}return G.\u0275fac=function(M){return new(M||G)},G.\u0275prov=i.\u0275\u0275defineInjectable({token:G,factory:G.\u0275fac,providedIn:"root"}),G})();const ar=new i.InjectionToken("ng-select-selection-model");let ur=(()=>{class G{constructor(M,oe,Ae,Ne,et,Tt,rn){this.classes=M,this.autoFocus=oe,this.config=Ae,this._cd=Tt,this._console=rn,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=en=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new i.EventEmitter,this.focusEvent=new i.EventEmitter,this.changeEvent=new i.EventEmitter,this.openEvent=new i.EventEmitter,this.closeEvent=new i.EventEmitter,this.searchEvent=new i.EventEmitter,this.clearEvent=new i.EventEmitter,this.addEvent=new i.EventEmitter,this.removeEvent=new i.EventEmitter,this.scroll=new i.EventEmitter,this.scrollToEnd=new i.EventEmitter,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=Xn(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new x.x,this._keyPress$=new x.x,this._onChange=en=>{},this._onTouched=()=>{},this.clearItem=en=>{const sn=this.selectedItems.find(yn=>yn.value===en);this.unselect(sn)},this.trackByOption=(en,sn)=>this.trackByFn?this.trackByFn(sn.value):sn,this._mergeGlobalConfig(Ae),this.itemsList=new Cr(this,Ne()),this.element=et.nativeElement}get items(){return this._items}set items(M){null===M&&(M=[]),this._itemsAreUsed=!0,this._items=M}get compareWith(){return this._compareWith}set compareWith(M){if(null!=M&&!hr(M))throw Error("`compareWith` must be a function.");this._compareWith=M}get clearSearchOnAdd(){return ht(this._clearSearchOnAdd)?this._clearSearchOnAdd:ht(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(M){this._clearSearchOnAdd=M}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(M=>M.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(M){M.multiple&&this.itemsList.clearSelected(),M.items&&this._setItems(M.items.currentValue||[]),M.isOpen&&(this._manualOpen=ht(M.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),ht(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(M){if(xn[M.which]){if(!1===this.keyDownFn(M))return;this.handleKeyCode(M)}else M.key&&1===M.key.length&&this._keyPress$.next(M.key.toLocaleLowerCase())}handleKeyCode(M){switch(M.which){case xn.ArrowDown:this._handleArrowDown(M);break;case xn.ArrowUp:this._handleArrowUp(M);break;case xn.Space:this._handleSpace(M);break;case xn.Enter:this._handleEnter(M);break;case xn.Tab:this._handleTab(M);break;case xn.Esc:this.close(),M.preventDefault();break;case xn.Backspace:this._handleBackspace()}}handleMousedown(M){const oe=M.target;"INPUT"!==oe.tagName&&M.preventDefault(),oe.classList.contains("ng-clear-wrapper")?this.handleClearClick():oe.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():oe.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){!this.clearable||(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(M){this.itemsList.clearSelected(),this._handleWriteValue(M),this._cd.markForCheck()}registerOnChange(M){this._onChange=M}registerOnTouched(M){this._onTouched=M}setDisabledState(M){this._disabled=M,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this.itemsList.maxItemsSelected||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(M){!M||M.disabled||this.disabled||(this.multiple&&M.selected?this.unselect(M):this.select(M),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(M){M.selected||(this.itemsList.select(M),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(M.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(M){!M||(this.itemsList.unselect(M),this.focus(),this._updateNgModel(),this.removeEvent.emit(M))}selectTag(){let M;M=hr(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const oe=Ae=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(Ae,null):this.itemsList.addItem(Ae);!function(G){return G instanceof Promise}(M)?M&&this.select(oe(M)):M.then(Ae=>this.select(oe(Ae))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const M=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(oe=>oe.label.toLowerCase()===M)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(oe=>oe.label.toLowerCase()===M))&&!this.loading}showNoItemsFound(){const M=0===this.itemsList.filteredItems.length;return(M&&!this._isTypeahead&&!this.loading||M&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(M){this._isComposing=!1,!this.searchWhileComposing&&this.filter(M)}filter(M){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=M,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(M),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:M,items:this.itemsList.filteredItems.map(oe=>oe.value)}),this.open())}onInputFocus(M){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(M),this.focused=!0)}onInputBlur(M){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(M),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(M){M.disabled||this.itemsList.markItem(M)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const M=this.selectedItems&&this.selectedItems[0];this.searchTerm=M&&M.label||null}_setItems(M){const oe=M[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=ht(oe)?!xt(oe):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(M),M.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&ht(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const M=Ae=>{this.items=Ae.map(Ne=>({$ngOptionValue:Ne.value,$ngOptionLabel:Ne.elementRef.nativeElement.innerHTML,disabled:Ne.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},oe=()=>{const Ae=(0,S.T)(this.ngOptions.changes,this._destroy$);(0,S.T)(...this.ngOptions.map(Ne=>Ne.stateChange$)).pipe((0,D.R)(Ae)).subscribe(Ne=>{const et=this.itemsList.findItem(Ne.value);et.disabled=Ne.disabled,et.label=Ne.label||et.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe((0,U.O)(this.ngOptions),(0,D.R)(this._destroy$)).subscribe(Ae=>{this.bindLabel=this._defaultLabel,M(Ae),oe()})}_isValidWriteValue(M){if(!ht(M)||this.multiple&&""===M||Array.isArray(M)&&0===M.length)return!1;const oe=Ae=>!(!ht(this.compareWith)&&xt(Ae)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(Ae)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(M)?M.every(Ae=>oe(Ae)):(this._console.warn("Multiple select ngModel should be array."),!1):oe(M)}_handleWriteValue(M){if(!this._isValidWriteValue(M))return;const oe=Ae=>{let Ne=this.itemsList.findItem(Ae);if(Ne)this.itemsList.select(Ne);else{const et=xt(Ae),Tt=!et&&!this.bindValue;et||Tt?this.itemsList.select(this.itemsList.mapItem(Ae,null)):this.bindValue&&(Ne={[this.bindLabel]:null,[this.bindValue]:Ae},this.itemsList.select(this.itemsList.mapItem(Ne,null)))}};this.multiple?M.forEach(Ae=>oe(Ae)):oe(M)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe((0,D.R)(this._destroy$),(0,k.b)(M=>this._pressedKeys.push(M)),(0,V.b)(200),(0,N.h)(()=>this._pressedKeys.length>0),(0,w.U)(()=>this._pressedKeys.join(""))).subscribe(M=>{const oe=this.itemsList.findByLabel(M);oe&&(this.isOpen?(this.itemsList.markItem(oe),this._scrollToMarked(),this._cd.markForCheck()):this.select(oe)),this._pressedKeys=[]})}_setInputAttributes(){const M=this.searchInput.nativeElement,oe={type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId,...this.inputAttrs};for(const Ae of Object.keys(oe))M.setAttribute(Ae,oe[Ae])}_updateNgModel(){const M=[];for(const Ae of this.selectedItems)if(this.bindValue){let Ne=null;Ne=Ae.children?Ae.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(Ae.value,this.bindValue),M.push(Ne)}else M.push(Ae.value);const oe=this.selectedItems.map(Ae=>Ae.value);this.multiple?(this._onChange(M),this.changeEvent.emit(oe)):(this._onChange(ht(M[0])?M[0]:null),this.changeEvent.emit(oe[0])),this._cd.markForCheck()}_clearSearch(){!this.searchTerm||(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(M){this.searchTerm=M,this._isTypeahead&&this.typeahead.next(M)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(M){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),M.preventDefault()):this.showAddTag?(this.selectTag(),M.preventDefault()):this.close():this.close())}_handleEnter(M){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}M.preventDefault()}_handleSpace(M){this.isOpen||this._manualOpen||(this.open(),M.preventDefault())}_handleArrowDown(M){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),M.preventDefault()}_handleArrowUp(M){!this.isOpen||(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),M.preventDefault())}_nextItemIsTag(M){const oe=this.itemsList.markedIndex+M;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(oe<0||oe===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const M=this.searchTerm&&this.searchTerm.trim();return M&&M.length>=this.minTermLength}_mergeGlobalConfig(M){this.placeholder=this.placeholder||M.placeholder,this.notFoundText=this.notFoundText||M.notFoundText,this.typeToSearchText=this.typeToSearchText||M.typeToSearchText,this.addTagText=this.addTagText||M.addTagText,this.loadingText=this.loadingText||M.loadingText,this.clearAllText=this.clearAllText||M.clearAllText,this.virtualScroll=ht(this.virtualScroll)?this.virtualScroll:!!ht(M.disableVirtualScroll)&&!M.disableVirtualScroll,this.openOnEnter=ht(this.openOnEnter)?this.openOnEnter:M.openOnEnter,this.appendTo=this.appendTo||M.appendTo,this.bindValue=this.bindValue||M.bindValue,this.bindLabel=this.bindLabel||M.bindLabel,this.appearance=this.appearance||M.appearance}}return G.\u0275fac=function(M){return new(M||G)(i.\u0275\u0275injectAttribute("class"),i.\u0275\u0275injectAttribute("autofocus"),i.\u0275\u0275directiveInject(pr),i.\u0275\u0275directiveInject(ar),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.ChangeDetectorRef),i.\u0275\u0275directiveInject(qr))},G.\u0275cmp=i.\u0275\u0275defineComponent({type:G,selectors:[["ng-select"]],contentQueries:function(M,oe,Ae){if(1&M&&(i.\u0275\u0275contentQuery(Ae,Cn,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,xr,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,$n,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,Fr,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,kr,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,On,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,Rn,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,Jn,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,or,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,br,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,Er,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,Jt,5)),2&M){let Ne;i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(oe.optionTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(oe.optgroupTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(oe.labelTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(oe.multiLabelTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(oe.headerTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(oe.footerTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(oe.notFoundTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(oe.typeToSearchTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(oe.loadingTextTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(oe.tagTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(oe.loadingSpinnerTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(oe.ngOptions=Ne)}},viewQuery:function(M,oe){if(1&M&&(i.\u0275\u0275viewQuery(Nr,5),i.\u0275\u0275viewQuery(ae,7)),2&M){let Ae;i.\u0275\u0275queryRefresh(Ae=i.\u0275\u0275loadQuery())&&(oe.dropdownPanel=Ae.first),i.\u0275\u0275queryRefresh(Ae=i.\u0275\u0275loadQuery())&&(oe.searchInput=Ae.first)}},hostVars:20,hostBindings:function(M,oe){1&M&&i.\u0275\u0275listener("keydown",function(Ne){return oe.handleKeyDown(Ne)}),2&M&&i.\u0275\u0275classProp("ng-select-typeahead",oe.typeahead)("ng-select-multiple",oe.multiple)("ng-select-taggable",oe.addTag)("ng-select-searchable",oe.searchable)("ng-select-clearable",oe.clearable)("ng-select-opened",oe.isOpen)("ng-select",oe.useDefaultClass)("ng-select-disabled",oe.disabled)("ng-select-filtered",oe.filtered)("ng-select-single",oe.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[i.\u0275\u0275ProvidersFeature([{provide:u.JU,useExisting:(0,i.forwardRef)(()=>G),multi:!0},pn]),i.\u0275\u0275NgOnChangesFeature],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(M,oe){if(1&M){const Ae=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275listener("mousedown",function(et){return oe.handleMousedown(et)}),i.\u0275\u0275elementStart(1,"div",1),i.\u0275\u0275elementStart(2,"div",2),i.\u0275\u0275text(3),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(4,Q,2,2,"ng-container",3),i.\u0275\u0275template(5,se,1,5,void 0,3),i.\u0275\u0275elementStart(6,"div",4),i.\u0275\u0275elementStart(7,"input",5,6),i.\u0275\u0275listener("input",function(){i.\u0275\u0275restoreView(Ae);const et=i.\u0275\u0275reference(8);return oe.filter(et.value)})("compositionstart",function(){return oe.onCompositionStart()})("compositionend",function(){i.\u0275\u0275restoreView(Ae);const et=i.\u0275\u0275reference(8);return oe.onCompositionEnd(et.value)})("focus",function(et){return oe.onInputFocus(et)})("blur",function(et){return oe.onInputBlur(et)})("change",function(et){return et.stopPropagation()}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(9,We,4,1,"ng-container",3),i.\u0275\u0275template(10,tt,3,1,"span",7),i.\u0275\u0275elementStart(11,"span",8),i.\u0275\u0275element(12,"span",9),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(13,Mn,7,19,"ng-dropdown-panel",10)}2&M&&(i.\u0275\u0275classProp("ng-appearance-outline","outline"===oe.appearance)("ng-has-value",oe.hasValue),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(oe.placeholder),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",(!oe.multiLabelTemplate||!oe.multiple)&&oe.selectedItems.length>0),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",oe.multiple&&oe.multiLabelTemplate&&oe.selectedValues.length>0),i.\u0275\u0275advance(1),i.\u0275\u0275attribute("aria-expanded",oe.isOpen)("aria-owns",oe.isOpen?oe.dropdownId:null),i.\u0275\u0275advance(1),i.\u0275\u0275property("readOnly",!oe.searchable||oe.itemsList.maxItemsSelected)("disabled",oe.disabled)("value",oe.searchTerm?oe.searchTerm:""),i.\u0275\u0275attribute("id",oe.labelForId)("tabindex",oe.tabIndex)("aria-activedescendant",oe.isOpen?null==oe.itemsList||null==oe.itemsList.markedItem?null:oe.itemsList.markedItem.htmlId:null)("aria-controls",oe.isOpen?oe.dropdownId:null),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",oe.loading),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",oe.showClear()),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",oe.isOpen))},directives:[C.NgIf,C.NgForOf,C.NgTemplateOutlet,Ri,Nr,C.NgClass],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}),G})();function Ie(){return new _e}class _e{constructor(){this._selected=[]}get value(){return this._selected}select(re,M,oe){if(re.selected=!0,(!re.children||!M&&oe)&&this._selected.push(re),M)if(re.parent){const Ae=re.parent.children.length,Ne=re.parent.children.filter(et=>et.selected).length;re.parent.selected=Ae===Ne}else re.children&&(this._setChildrenSelectedState(re.children,!0),this._removeChildren(re),this._selected=oe&&this._activeChildren(re)?[...this._selected.filter(Ae=>Ae.parent!==re),re]:[...this._selected,...re.children.filter(Ae=>!Ae.disabled)])}unselect(re,M){if(this._selected=this._selected.filter(oe=>oe!==re),re.selected=!1,M)if(re.parent&&re.parent.selected){const oe=re.parent.children;this._removeParent(re.parent),this._removeChildren(re.parent),this._selected.push(...oe.filter(Ae=>Ae!==re&&!Ae.disabled)),re.parent.selected=!1}else re.children&&(this._setChildrenSelectedState(re.children,!1),this._removeChildren(re))}clear(re){this._selected=re?this._selected.filter(M=>M.disabled):[]}_setChildrenSelectedState(re,M){for(const oe of re)oe.disabled||(oe.selected=M)}_removeChildren(re){this._selected=[...this._selected.filter(M=>M.parent!==re),...re.children.filter(M=>M.parent===re&&M.disabled&&M.selected)]}_removeParent(re){this._selected=this._selected.filter(M=>M!==re)}_activeChildren(re){return re.children.every(M=>!M.disabled||M.selected)}}let de=(()=>{class G{}return G.\u0275fac=function(M){return new(M||G)},G.\u0275mod=i.\u0275\u0275defineNgModule({type:G}),G.\u0275inj=i.\u0275\u0275defineInjector({providers:[{provide:ar,useValue:Ie}],imports:[[C.CommonModule]]}),G})()},5861:(fe,W,c)=>{function i(D,L,U,k,V,N,w){try{var O=D[N](w),E=O.value}catch(x){return void U(x)}O.done?L(E):Promise.resolve(E).then(k,V)}function u(D){return function(){var L=this,U=arguments;return new Promise(function(k,V){var N=D.apply(L,U);function w(E){i(N,k,V,w,O,"next",E)}function O(E){i(N,k,V,w,O,"throw",E)}w(void 0)})}}c.d(W,{Z:()=>u})}}]);