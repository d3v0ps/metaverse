(self.webpackChunk_central_factory_portal=self.webpackChunk_central_factory_portal||[]).push([[824],{6824:(he,z,l)=>{l.r(z);var i=l(1481),u=l(7777),C=l(1281),L=l(7579),j=l(9841),F=l(7272),U=l(8306),B=l(5698),S=l(9300);function w(_){return(0,S.h)((c,o)=>_<=o)}var E=l(8372),M=l(4004),T=l(8675),k=l(2722),I=l(3353);let b=(()=>{class _{}return _.\u0275fac=function(o){return new(o||_)},_.\u0275mod=u.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=u.\u0275\u0275defineInjector({}),_})();const v=new Set;let d,a=(()=>{class _{constructor(o){this._platform=o,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):h}matchMedia(o){return(this._platform.WEBKIT||this._platform.BLINK)&&function(_){if(!v.has(_))try{d||(d=document.createElement("style"),d.setAttribute("type","text/css"),document.head.appendChild(d)),d.sheet&&(d.sheet.insertRule(`@media ${_} {body{ }}`,0),v.add(_))}catch(c){console.error(c)}}(o),this._matchMedia(o)}}return _.\u0275fac=function(o){return new(o||_)(u.\u0275\u0275inject(I.t4))},_.\u0275prov=u.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function h(_){return{matches:"all"===_||""===_,media:_,addListener:()=>{},removeListener:()=>{}}}let W=(()=>{class _{constructor(o,g){this._mediaMatcher=o,this._zone=g,this._queries=new Map,this._destroySubject=new L.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(o){return ae((0,C.Eq)(o)).some(N=>this._registerQuery(N).mql.matches)}observe(o){const N=ae((0,C.Eq)(o)).map(ue=>this._registerQuery(ue).observable);let Q=(0,j.a)(N);return Q=(0,F.z)(Q.pipe((0,B.q)(1)),Q.pipe(w(1),(0,E.b)(0))),Q.pipe((0,M.U)(ue=>{const fe={matches:!1,breakpoints:{}};return ue.forEach(({matches:Se,query:Le})=>{fe.matches=fe.matches||Se,fe.breakpoints[Le]=Se}),fe}))}_registerQuery(o){if(this._queries.has(o))return this._queries.get(o);const g=this._mediaMatcher.matchMedia(o),Q={observable:new U.y(ue=>{const fe=Se=>this._zone.run(()=>ue.next(Se));return g.addListener(fe),()=>{g.removeListener(fe)}}).pipe((0,T.O)(g),(0,M.U)(({matches:ue})=>({query:o,matches:ue})),(0,k.R)(this._destroySubject)),mql:g};return this._queries.set(o,Q),Q}}return _.\u0275fac=function(o){return new(o||_)(u.\u0275\u0275inject(a),u.\u0275\u0275inject(u.NgZone))},_.\u0275prov=u.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function ae(_){return _.map(c=>c.split(",")).reduce((c,o)=>c.concat(o)).map(c=>c.trim())}var Ee=l(9283),ce=l(7340);function te(){return"undefined"!=typeof window&&void 0!==window.document}function G(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function ee(_){switch(_.length){case 0:return new ce.ZN;case 1:return _[0];default:return new ce.ZE(_)}}function X(_,c,o,g,N={},Q={}){const ue=[],fe=[];let Se=-1,Le=null;if(g.forEach(Ye=>{const it=Ye.offset,bt=it==Se,jt=bt&&Le||{};Object.keys(Ye).forEach(gt=>{let St=gt,Ut=Ye[gt];if("offset"!==gt)switch(St=c.normalizePropertyName(St,ue),Ut){case ce.k1:Ut=N[gt];break;case ce.l3:Ut=Q[gt];break;default:Ut=c.normalizeStyleValue(gt,St,Ut,ue)}jt[St]=Ut}),bt||fe.push(jt),Le=jt,Se=it}),ue.length){const Ye="\n - ";throw new Error(`Unable to animate due to the following errors:${Ye}${ue.join(Ye)}`)}return fe}function re(_,c,o,g){switch(c){case"start":_.onStart(()=>g(o&&le(o,"start",_)));break;case"done":_.onDone(()=>g(o&&le(o,"done",_)));break;case"destroy":_.onDestroy(()=>g(o&&le(o,"destroy",_)))}}function le(_,c,o){const Q=Oe(_.element,_.triggerName,_.fromState,_.toState,c||_.phaseName,o.totalTime??_.totalTime,!!o.disabled),ue=_._data;return null!=ue&&(Q._data=ue),Q}function Oe(_,c,o,g,N="",Q=0,ue){return{element:_,triggerName:c,fromState:o,toState:g,phaseName:N,totalTime:Q,disabled:!!ue}}function We(_,c,o){let g;return _ instanceof Map?(g=_.get(c),g||_.set(c,g=o)):(g=_[c],g||(g=_[c]=o)),g}function tt(_){const c=_.indexOf(":");return[_.substring(1,c),_.substr(c+1)]}let Pe=(_,c)=>!1,De=(_,c,o)=>[];(G()||"undefined"!=typeof Element)&&(Pe=te()?(_,c)=>{for(;c&&c!==document.documentElement;){if(c===_)return!0;c=c.parentNode||c.host}return!1}:(_,c)=>_.contains(c),De=(_,c,o)=>{let g=[];if(o){const N=_.querySelectorAll(c);for(let Q=0;Q<N.length;Q++)g.push(N[Q])}else{const N=_.querySelector(c);N&&g.push(N)}return g});let ke=null,Ge=!1;function rt(_){ke||(ke=("undefined"!=typeof document?document.body:null)||{},Ge=!!ke.style&&"WebkitAppearance"in ke.style);let c=!0;return ke.style&&!function(_){return"ebkit"==_.substring(1,6)}(_)&&(c=_ in ke.style,!c&&Ge&&(c="Webkit"+_.charAt(0).toUpperCase()+_.substr(1)in ke.style)),c}const at=Pe,Et=De;function Mt(_){const c={};return Object.keys(_).forEach(o=>{const g=o.replace(/([a-z])([A-Z])/g,"$1-$2");c[g]=_[o]}),c}let Bt=(()=>{class _{validateStyleProperty(o){return rt(o)}matchesElement(o,g){return!1}containsElement(o,g){return at(o,g)}query(o,g,N){return Et(o,g,N)}computeStyle(o,g,N){return N||""}animate(o,g,N,Q,ue,fe=[],Se){return new ce.ZN(N,Q)}}return _.\u0275fac=function(o){return new(o||_)},_.\u0275prov=u.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})(),zt=(()=>{class _{}return _.NOOP=new Bt,_})();const Tn="ng-enter",qt="ng-leave",Un="ng-trigger",$e=".ng-trigger",Pt="ng-animating",pt=".ng-animating";function Rt(_){if("number"==typeof _)return _;const c=_.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:ar(parseFloat(c[1]),c[2])}function ar(_,c){return"s"===c?1e3*_:_}function mr(_,c,o){return _.hasOwnProperty("duration")?_:function(_,c,o){let N,Q=0,ue="";if("string"==typeof _){const fe=_.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===fe)return c.push(`The provided timing value "${_}" is invalid.`),{duration:0,delay:0,easing:""};N=ar(parseFloat(fe[1]),fe[2]);const Se=fe[3];null!=Se&&(Q=ar(parseFloat(Se),fe[4]));const Le=fe[5];Le&&(ue=Le)}else N=_;if(!o){let fe=!1,Se=c.length;N<0&&(c.push("Duration values below 0 are not allowed for this animation step."),fe=!0),Q<0&&(c.push("Delay values below 0 are not allowed for this animation step."),fe=!0),fe&&c.splice(Se,0,`The provided timing value "${_}" is invalid.`)}return{duration:N,delay:Q,easing:ue}}(_,c,o)}function Sn(_,c={}){return Object.keys(_).forEach(o=>{c[o]=_[o]}),c}function Wn(_,c,o={}){if(c)for(let g in _)o[g]=_[g];else Sn(_,o);return o}function Fr(_,c,o){return o?c+":"+o+";":""}function kr(_){let c="";for(let o=0;o<_.style.length;o++){const g=_.style.item(o);c+=Fr(0,g,_.style.getPropertyValue(g))}for(const o in _.style)_.style.hasOwnProperty(o)&&!o.startsWith("_")&&(c+=Fr(0,Rn(o),_.style[o]));_.setAttribute("style",c)}function An(_,c,o){_.style&&(Object.keys(c).forEach(g=>{const N=wr(g);o&&!o.hasOwnProperty(g)&&(o[g]=_.style[N]),_.style[N]=c[g]}),G()&&kr(_))}function Mn(_,c){_.style&&(Object.keys(c).forEach(o=>{const g=wr(o);_.style[g]=""}),G()&&kr(_))}function qn(_){return Array.isArray(_)?1==_.length?_[0]:(0,ce.vP)(_):_}const Er=new RegExp("{{\\s*(.+?)\\s*}}","g");function Sr(_){let c=[];if("string"==typeof _){let o;for(;o=Er.exec(_);)c.push(o[1]);Er.lastIndex=0}return c}function er(_,c,o){const g=_.toString(),N=g.replace(Er,(Q,ue)=>{let fe=c[ue];return c.hasOwnProperty(ue)||(o.push(`Please provide a value for the animation param ${ue}`),fe=""),fe.toString()});return N==g?_:N}function Lr(_){const c=[];let o=_.next();for(;!o.done;)c.push(o.value),o=_.next();return c}const Cr=/-+([a-z0-9])/g;function wr(_){return _.replace(Cr,(...c)=>c[1].toUpperCase())}function Rn(_){return _.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function hn(_,c){return 0===_||0===c}function Br(_,c,o){const g=Object.keys(o);if(g.length&&c.length){let Q=c[0],ue=[];if(g.forEach(fe=>{Q.hasOwnProperty(fe)||ue.push(fe),Q[fe]=o[fe]}),ue.length)for(var N=1;N<c.length;N++){let fe=c[N];ue.forEach(function(Se){fe[Se]=Nr(_,Se)})}}return c}function ln(_,c,o){switch(c.type){case 7:return _.visitTrigger(c,o);case 0:return _.visitState(c,o);case 1:return _.visitTransition(c,o);case 2:return _.visitSequence(c,o);case 3:return _.visitGroup(c,o);case 4:return _.visitAnimate(c,o);case 5:return _.visitKeyframes(c,o);case 6:return _.visitStyle(c,o);case 8:return _.visitReference(c,o);case 9:return _.visitAnimateChild(c,o);case 10:return _.visitAnimateRef(c,o);case 11:return _.visitQuery(c,o);case 12:return _.visitStagger(c,o);default:throw new Error(`Unable to resolve animation metadata node #${c.type}`)}}function Nr(_,c){return window.getComputedStyle(_)[c]}function gr(_,c){const o=[];return"string"==typeof _?_.split(/\s*,\s*/).forEach(g=>function(_,c,o){if(":"==_[0]){const Se=function(_,c){switch(_){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,g)=>parseFloat(g)>parseFloat(o);case":decrement":return(o,g)=>parseFloat(g)<parseFloat(o);default:return c.push(`The transition alias value "${_}" is not supported`),"* => *"}}(_,o);if("function"==typeof Se)return void c.push(Se);_=Se}const g=_.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==g||g.length<4)return o.push(`The provided transition expression "${_}" is not supported`),c;const N=g[1],Q=g[2],ue=g[3];c.push(ye(N,ue));"<"==Q[0]&&!("*"==N&&"*"==ue)&&c.push(ye(ue,N))}(g,o,c)):o.push(_),o}const cr=new Set(["true","1"]),Ie=new Set(["false","0"]);function ye(_,c){const o=cr.has(_)||Ie.has(_),g=cr.has(c)||Ie.has(c);return(N,Q)=>{let ue="*"==_||_==N,fe="*"==c||c==Q;return!ue&&o&&"boolean"==typeof N&&(ue=N?cr.has(_):Ie.has(_)),!fe&&g&&"boolean"==typeof Q&&(fe=Q?cr.has(c):Ie.has(c)),ue&&fe}}const K=new RegExp("s*:selfs*,?","g");function ne(_,c,o){return new ie(_).build(c,o)}class ie{constructor(c){this._driver=c}build(c,o){const g=new qe(o);return this._resetContextStyleTimingState(g),ln(this,qn(c),g)}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles={},c.collectedStyles[""]={},c.currentTime=0}visitTrigger(c,o){let g=o.queryCount=0,N=o.depCount=0;const Q=[],ue=[];return"@"==c.name.charAt(0)&&o.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),c.definitions.forEach(fe=>{if(this._resetContextStyleTimingState(o),0==fe.type){const Se=fe,Le=Se.name;Le.toString().split(/\s*,\s*/).forEach(Ye=>{Se.name=Ye,Q.push(this.visitState(Se,o))}),Se.name=Le}else if(1==fe.type){const Se=this.visitTransition(fe,o);g+=Se.queryCount,N+=Se.depCount,ue.push(Se)}else o.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:c.name,states:Q,transitions:ue,queryCount:g,depCount:N,options:null}}visitState(c,o){const g=this.visitStyle(c.styles,o),N=c.options&&c.options.params||null;if(g.containsDynamicStyles){const Q=new Set,ue=N||{};if(g.styles.forEach(fe=>{if(rn(fe)){const Se=fe;Object.keys(Se).forEach(Le=>{Sr(Se[Le]).forEach(Ye=>{ue.hasOwnProperty(Ye)||Q.add(Ye)})})}}),Q.size){const fe=Lr(Q.values());o.errors.push(`state("${c.name}", ...) must define default values for all the following style substitutions: ${fe.join(", ")}`)}}return{type:0,name:c.name,style:g,options:N?{params:N}:null}}visitTransition(c,o){o.queryCount=0,o.depCount=0;const g=ln(this,qn(c.animation),o);return{type:1,matchers:gr(c.expr,o.errors),animation:g,queryCount:o.queryCount,depCount:o.depCount,options:sn(c.options)}}visitSequence(c,o){return{type:2,steps:c.steps.map(g=>ln(this,g,o)),options:sn(c.options)}}visitGroup(c,o){const g=o.currentTime;let N=0;const Q=c.steps.map(ue=>{o.currentTime=g;const fe=ln(this,ue,o);return N=Math.max(N,o.currentTime),fe});return o.currentTime=N,{type:3,steps:Q,options:sn(c.options)}}visitAnimate(c,o){const g=function(_,c){let o=null;if(_.hasOwnProperty("duration"))o=_;else if("number"==typeof _)return yn(mr(_,c).duration,0,"");const g=_;if(g.split(/\s+/).some(Q=>"{"==Q.charAt(0)&&"{"==Q.charAt(1))){const Q=yn(0,0,"");return Q.dynamic=!0,Q.strValue=g,Q}return o=o||mr(g,c),yn(o.duration,o.delay,o.easing)}(c.timings,o.errors);o.currentAnimateTimings=g;let N,Q=c.styles?c.styles:(0,ce.oB)({});if(5==Q.type)N=this.visitKeyframes(Q,o);else{let ue=c.styles,fe=!1;if(!ue){fe=!0;const Le={};g.easing&&(Le.easing=g.easing),ue=(0,ce.oB)(Le)}o.currentTime+=g.duration+g.delay;const Se=this.visitStyle(ue,o);Se.isEmptyStep=fe,N=Se}return o.currentAnimateTimings=null,{type:4,timings:g,style:N,options:null}}visitStyle(c,o){const g=this._makeStyleAst(c,o);return this._validateStyleAst(g,o),g}_makeStyleAst(c,o){const g=[];Array.isArray(c.styles)?c.styles.forEach(ue=>{"string"==typeof ue?ue==ce.l3?g.push(ue):o.errors.push(`The provided style string value ${ue} is not allowed.`):g.push(ue)}):g.push(c.styles);let N=!1,Q=null;return g.forEach(ue=>{if(rn(ue)){const fe=ue,Se=fe.easing;if(Se&&(Q=Se,delete fe.easing),!N)for(let Le in fe)if(fe[Le].toString().indexOf("{{")>=0){N=!0;break}}}),{type:6,styles:g,easing:Q,offset:c.offset,containsDynamicStyles:N,options:null}}_validateStyleAst(c,o){const g=o.currentAnimateTimings;let N=o.currentTime,Q=o.currentTime;g&&Q>0&&(Q-=g.duration+g.delay),c.styles.forEach(ue=>{"string"!=typeof ue&&Object.keys(ue).forEach(fe=>{if(!this._driver.validateStyleProperty(fe))return void o.errors.push(`The provided animation property "${fe}" is not a supported CSS property for animations`);const Se=o.collectedStyles[o.currentQuerySelector],Le=Se[fe];let Ye=!0;Le&&(Q!=N&&Q>=Le.startTime&&N<=Le.endTime&&(o.errors.push(`The CSS property "${fe}" that exists between the times of "${Le.startTime}ms" and "${Le.endTime}ms" is also being animated in a parallel animation between the times of "${Q}ms" and "${N}ms"`),Ye=!1),Q=Le.startTime),Ye&&(Se[fe]={startTime:Q,endTime:N}),o.options&&function(_,c,o){const g=c.params||{},N=Sr(_);N.length&&N.forEach(Q=>{g.hasOwnProperty(Q)||o.push(`Unable to resolve the local animation param ${Q} in the given list of values`)})}(ue[fe],o.options,o.errors)})})}visitKeyframes(c,o){const g={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push("keyframes() must be placed inside of a call to animate()"),g;let Q=0;const ue=[];let fe=!1,Se=!1,Le=0;const Ye=c.steps.map(on=>{const gn=this._makeStyleAst(on,o);let Yn=null!=gn.offset?gn.offset:function(_){if("string"==typeof _)return null;let c=null;if(Array.isArray(_))_.forEach(o=>{if(rn(o)&&o.hasOwnProperty("offset")){const g=o;c=parseFloat(g.offset),delete g.offset}});else if(rn(_)&&_.hasOwnProperty("offset")){const o=_;c=parseFloat(o.offset),delete o.offset}return c}(gn.styles),Nn=0;return null!=Yn&&(Q++,Nn=gn.offset=Yn),Se=Se||Nn<0||Nn>1,fe=fe||Nn<Le,Le=Nn,ue.push(Nn),gn});Se&&o.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),fe&&o.errors.push("Please ensure that all keyframe offsets are in order");const it=c.steps.length;let bt=0;Q>0&&Q<it?o.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==Q&&(bt=1/(it-1));const jt=it-1,gt=o.currentTime,St=o.currentAnimateTimings,Ut=St.duration;return Ye.forEach((on,gn)=>{const Yn=bt>0?gn==jt?1:bt*gn:ue[gn],Nn=Yn*Ut;o.currentTime=gt+St.delay+Nn,St.duration=Nn,this._validateStyleAst(on,o),on.offset=Yn,g.styles.push(on)}),g}visitReference(c,o){return{type:8,animation:ln(this,qn(c.animation),o),options:sn(c.options)}}visitAnimateChild(c,o){return o.depCount++,{type:9,options:sn(c.options)}}visitAnimateRef(c,o){return{type:10,animation:this.visitReference(c.animation,o),options:sn(c.options)}}visitQuery(c,o){const g=o.currentQuerySelector,N=c.options||{};o.queryCount++,o.currentQuery=c;const[Q,ue]=function(_){const c=!!_.split(/\s*,\s*/).find(o=>":self"==o);return c&&(_=_.replace(K,"")),_=_.replace(/@\*/g,$e).replace(/@\w+/g,o=>$e+"-"+o.substr(1)).replace(/:animating/g,pt),[_,c]}(c.selector);o.currentQuerySelector=g.length?g+" "+Q:Q,We(o.collectedStyles,o.currentQuerySelector,{});const fe=ln(this,qn(c.animation),o);return o.currentQuery=null,o.currentQuerySelector=g,{type:11,selector:Q,limit:N.limit||0,optional:!!N.optional,includeSelf:ue,animation:fe,originalSelector:c.selector,options:sn(c.options)}}visitStagger(c,o){o.currentQuery||o.errors.push("stagger() can only be used inside of query()");const g="full"===c.timings?{duration:0,delay:0,easing:"full"}:mr(c.timings,o.errors,!0);return{type:12,animation:ln(this,qn(c.animation),o),timings:g,options:null}}}class qe{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function rn(_){return!Array.isArray(_)&&"object"==typeof _}function sn(_){return _?(_=Sn(_)).params&&(_.params=function(_){return _?Sn(_):null}(_.params)):_={},_}function yn(_,c,o){return{duration:_,delay:c,easing:o}}function On(_,c,o,g,N,Q,ue=null,fe=!1){return{type:1,element:_,keyframes:c,preStyleProps:o,postStyleProps:g,duration:N,delay:Q,totalTime:N+Q,easing:ue,subTimeline:fe}}class xn{constructor(){this._map=new Map}get(c){return this._map.get(c)||[]}append(c,o){let g=this._map.get(c);g||this._map.set(c,g=[]),g.push(...o)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const Hn=new RegExp(":enter","g"),bs=new RegExp(":leave","g");function qi(_,c,o,g,N,Q={},ue={},fe,Se,Le=[]){return(new Es).buildKeyframes(_,c,o,g,N,Q,ue,fe,Se,Le)}class Es{buildKeyframes(c,o,g,N,Q,ue,fe,Se,Le,Ye=[]){Le=Le||new xn;const it=new es(c,o,Le,N,Q,Ye,[]);it.options=Se,it.currentTimeline.setStyles([ue],null,it.errors,Se),ln(this,g,it);const bt=it.timelines.filter(jt=>jt.containsAnimation());if(bt.length&&Object.keys(fe).length){const jt=bt[bt.length-1];jt.allowOnlyTimelineStyles()||jt.setStyles([fe],null,it.errors,Se)}return bt.length?bt.map(jt=>jt.buildKeyframes()):[On(o,[],[],[],0,0,"",!1)]}visitTrigger(c,o){}visitState(c,o){}visitTransition(c,o){}visitAnimateChild(c,o){const g=o.subInstructions.get(o.element);if(g){const N=o.createSubContext(c.options),Q=o.currentTimeline.currentTime,ue=this._visitSubInstructions(g,N,N.options);Q!=ue&&o.transformIntoNewTimeline(ue)}o.previousNode=c}visitAnimateRef(c,o){const g=o.createSubContext(c.options);g.transformIntoNewTimeline(),this.visitReference(c.animation,g),o.transformIntoNewTimeline(g.currentTimeline.currentTime),o.previousNode=c}_visitSubInstructions(c,o,g){let Q=o.currentTimeline.currentTime;const ue=null!=g.duration?Rt(g.duration):null,fe=null!=g.delay?Rt(g.delay):null;return 0!==ue&&c.forEach(Se=>{const Le=o.appendInstructionToTimeline(Se,ue,fe);Q=Math.max(Q,Le.duration+Le.delay)}),Q}visitReference(c,o){o.updateOptions(c.options,!0),ln(this,c.animation,o),o.previousNode=c}visitSequence(c,o){const g=o.subContextCount;let N=o;const Q=c.options;if(Q&&(Q.params||Q.delay)&&(N=o.createSubContext(Q),N.transformIntoNewTimeline(),null!=Q.delay)){6==N.previousNode.type&&(N.currentTimeline.snapshotCurrentStyles(),N.previousNode=Zr);const ue=Rt(Q.delay);N.delayNextStep(ue)}c.steps.length&&(c.steps.forEach(ue=>ln(this,ue,N)),N.currentTimeline.applyStylesToKeyframe(),N.subContextCount>g&&N.transformIntoNewTimeline()),o.previousNode=c}visitGroup(c,o){const g=[];let N=o.currentTimeline.currentTime;const Q=c.options&&c.options.delay?Rt(c.options.delay):0;c.steps.forEach(ue=>{const fe=o.createSubContext(c.options);Q&&fe.delayNextStep(Q),ln(this,ue,fe),N=Math.max(N,fe.currentTimeline.currentTime),g.push(fe.currentTimeline)}),g.forEach(ue=>o.currentTimeline.mergeTimelineCollectedStyles(ue)),o.transformIntoNewTimeline(N),o.previousNode=c}_visitTiming(c,o){if(c.dynamic){const g=c.strValue;return mr(o.params?er(g,o.params,o.errors):g,o.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,o){const g=o.currentAnimateTimings=this._visitTiming(c.timings,o),N=o.currentTimeline;g.delay&&(o.incrementTime(g.delay),N.snapshotCurrentStyles());const Q=c.style;5==Q.type?this.visitKeyframes(Q,o):(o.incrementTime(g.duration),this.visitStyle(Q,o),N.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=c}visitStyle(c,o){const g=o.currentTimeline,N=o.currentAnimateTimings;!N&&g.getCurrentStyleProperties().length&&g.forwardFrame();const Q=N&&N.easing||c.easing;c.isEmptyStep?g.applyEmptyStep(Q):g.setStyles(c.styles,Q,o.errors,o.options),o.previousNode=c}visitKeyframes(c,o){const g=o.currentAnimateTimings,N=o.currentTimeline.duration,Q=g.duration,fe=o.createSubContext().currentTimeline;fe.easing=g.easing,c.styles.forEach(Se=>{fe.forwardTime((Se.offset||0)*Q),fe.setStyles(Se.styles,Se.easing,o.errors,o.options),fe.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(fe),o.transformIntoNewTimeline(N+Q),o.previousNode=c}visitQuery(c,o){const g=o.currentTimeline.currentTime,N=c.options||{},Q=N.delay?Rt(N.delay):0;Q&&(6===o.previousNode.type||0==g&&o.currentTimeline.getCurrentStyleProperties().length)&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Zr);let ue=g;const fe=o.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!N.optional,o.errors);o.currentQueryTotal=fe.length;let Se=null;fe.forEach((Le,Ye)=>{o.currentQueryIndex=Ye;const it=o.createSubContext(c.options,Le);Q&&it.delayNextStep(Q),Le===o.element&&(Se=it.currentTimeline),ln(this,c.animation,it),it.currentTimeline.applyStylesToKeyframe(),ue=Math.max(ue,it.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(ue),Se&&(o.currentTimeline.mergeTimelineCollectedStyles(Se),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=c}visitStagger(c,o){const g=o.parentContext,N=o.currentTimeline,Q=c.timings,ue=Math.abs(Q.duration),fe=ue*(o.currentQueryTotal-1);let Se=ue*o.currentQueryIndex;switch(Q.duration<0?"reverse":Q.easing){case"reverse":Se=fe-Se;break;case"full":Se=g.currentStaggerTime}const Ye=o.currentTimeline;Se&&Ye.delayNextStep(Se);const it=Ye.currentTime;ln(this,c.animation,o),o.previousNode=c,g.currentStaggerTime=N.currentTime-it+(N.startTime-g.currentTimeline.startTime)}}const Zr={};class es{constructor(c,o,g,N,Q,ue,fe,Se){this._driver=c,this.element=o,this.subInstructions=g,this._enterClassName=N,this._leaveClassName=Q,this.errors=ue,this.timelines=fe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Se||new mi(this._driver,o,0),fe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,o){if(!c)return;const g=c;let N=this.options;null!=g.duration&&(N.duration=Rt(g.duration)),null!=g.delay&&(N.delay=Rt(g.delay));const Q=g.params;if(Q){let ue=N.params;ue||(ue=this.options.params={}),Object.keys(Q).forEach(fe=>{(!o||!ue.hasOwnProperty(fe))&&(ue[fe]=er(Q[fe],ue,this.errors))})}}_copyOptions(){const c={};if(this.options){const o=this.options.params;if(o){const g=c.params={};Object.keys(o).forEach(N=>{g[N]=o[N]})}}return c}createSubContext(c=null,o,g){const N=o||this.element,Q=new es(this._driver,N,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(N,g||0));return Q.previousNode=this.previousNode,Q.currentAnimateTimings=this.currentAnimateTimings,Q.options=this._copyOptions(),Q.updateOptions(c),Q.currentQueryIndex=this.currentQueryIndex,Q.currentQueryTotal=this.currentQueryTotal,Q.parentContext=this,this.subContextCount++,Q}transformIntoNewTimeline(c){return this.previousNode=Zr,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,o,g){const N={duration:o??c.duration,delay:this.currentTimeline.currentTime+(g??0)+c.delay,easing:""},Q=new qs(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,N,c.stretchStartingKeyframe);return this.timelines.push(Q),N}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,o,g,N,Q,ue){let fe=[];if(N&&fe.push(this.element),c.length>0){c=(c=c.replace(Hn,"."+this._enterClassName)).replace(bs,"."+this._leaveClassName);let Le=this._driver.query(this.element,c,1!=g);0!==g&&(Le=g<0?Le.slice(Le.length+g,Le.length):Le.slice(0,g)),fe.push(...Le)}return!Q&&0==fe.length&&ue.push(`\`query("${o}")\` returned zero elements. (Use \`query("${o}", { optional: true })\` if you wish to allow this.)`),fe}}class mi{constructor(c,o,g,N){this._driver=c,this.element=o,this.startTime=g,this._elementTimelineStylesLookup=N,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const o=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||o?(this.forwardTime(this.currentTime+c),o&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,o){return this.applyStylesToKeyframe(),new mi(this._driver,c,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,o){this._localTimelineStyles[c]=o,this._globalTimelineStyles[c]=o,this._styleSummary[c]={time:this.currentTime,value:o}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&(this._previousKeyframe.easing=c),Object.keys(this._globalTimelineStyles).forEach(o=>{this._backFill[o]=this._globalTimelineStyles[o]||ce.l3,this._currentKeyframe[o]=ce.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,o,g,N){o&&(this._previousKeyframe.easing=o);const Q=N&&N.params||{},ue=function(_,c){const o={};let g;return _.forEach(N=>{"*"===N?(g=g||Object.keys(c),g.forEach(Q=>{o[Q]=ce.l3})):Wn(N,!1,o)}),o}(c,this._globalTimelineStyles);Object.keys(ue).forEach(fe=>{const Se=er(ue[fe],Q,g);this._pendingStyles[fe]=Se,this._localTimelineStyles.hasOwnProperty(fe)||(this._backFill[fe]=this._globalTimelineStyles.hasOwnProperty(fe)?this._globalTimelineStyles[fe]:ce.l3),this._updateStyle(fe,Se)})}applyStylesToKeyframe(){const c=this._pendingStyles,o=Object.keys(c);0!=o.length&&(this._pendingStyles={},o.forEach(g=>{this._currentKeyframe[g]=c[g]}),Object.keys(this._localTimelineStyles).forEach(g=>{this._currentKeyframe.hasOwnProperty(g)||(this._currentKeyframe[g]=this._localTimelineStyles[g])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(c=>{const o=this._localTimelineStyles[c];this._pendingStyles[c]=o,this._updateStyle(c,o)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let o in this._currentKeyframe)c.push(o);return c}mergeTimelineCollectedStyles(c){Object.keys(c._styleSummary).forEach(o=>{const g=this._styleSummary[o],N=c._styleSummary[o];(!g||N.time>g.time)&&this._updateStyle(o,N.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,o=new Set,g=1===this._keyframes.size&&0===this.duration;let N=[];this._keyframes.forEach((fe,Se)=>{const Le=Wn(fe,!0);Object.keys(Le).forEach(Ye=>{const it=Le[Ye];it==ce.k1?c.add(Ye):it==ce.l3&&o.add(Ye)}),g||(Le.offset=Se/this.duration),N.push(Le)});const Q=c.size?Lr(c.values()):[],ue=o.size?Lr(o.values()):[];if(g){const fe=N[0],Se=Sn(fe);fe.offset=0,Se.offset=1,N=[fe,Se]}return On(this.element,N,Q,ue,this.duration,this.startTime,this.easing,!1)}}class qs extends mi{constructor(c,o,g,N,Q,ue,fe=!1){super(c,o,ue.delay),this.keyframes=g,this.preStyleProps=N,this.postStyleProps=Q,this._stretchStartingKeyframe=fe,this.timings={duration:ue.duration,delay:ue.delay,easing:ue.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:o,duration:g,easing:N}=this.timings;if(this._stretchStartingKeyframe&&o){const Q=[],ue=g+o,fe=o/ue,Se=Wn(c[0],!1);Se.offset=0,Q.push(Se);const Le=Wn(c[0],!1);Le.offset=Mi(fe),Q.push(Le);const Ye=c.length-1;for(let it=1;it<=Ye;it++){let bt=Wn(c[it],!1);bt.offset=Mi((o+bt.offset*g)/ue),Q.push(bt)}g=ue,o=0,N="",c=Q}return On(this.element,c,this.preStyleProps,this.postStyleProps,g,o,N,!0)}}function Mi(_,c=3){const o=Math.pow(10,c-1);return Math.round(_*o)/o}class Ri{}class Dr extends Ri{normalizePropertyName(c,o){return wr(c)}normalizeStyleValue(c,o,g,N){let Q="";const ue=g.toString().trim();if(jr[o]&&0!==g&&"0"!==g)if("number"==typeof g)Q="px";else{const fe=g.match(/^[+-]?[\d\.]+([a-z]*)$/);fe&&0==fe[1].length&&N.push(`Please provide a CSS unit value for ${c}:${g}`)}return ue+Q}}const jr=(()=>function(_){const c={};return _.forEach(o=>c[o]=!0),c}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function xi(_,c,o,g,N,Q,ue,fe,Se,Le,Ye,it,bt){return{type:0,element:_,triggerName:c,isRemovalTransition:N,fromState:o,fromStyles:Q,toState:g,toStyles:ue,timelines:fe,queriedElements:Se,preStyleProps:Le,postStyleProps:Ye,totalTime:it,errors:bt}}const Jr={};class Fi{constructor(c,o,g){this._triggerName=c,this.ast=o,this._stateStyles=g}match(c,o,g,N){return function(_,c,o,g,N){return _.some(Q=>Q(c,o,g,N))}(this.ast.matchers,c,o,g,N)}buildStyles(c,o,g){const N=this._stateStyles["*"],Q=this._stateStyles[c],ue=N?N.buildStyles(o,g):{};return Q?Q.buildStyles(o,g):ue}build(c,o,g,N,Q,ue,fe,Se,Le,Ye){const it=[],bt=this.ast.options&&this.ast.options.params||Jr,gt=this.buildStyles(g,fe&&fe.params||Jr,it),St=Se&&Se.params||Jr,Ut=this.buildStyles(N,St,it),on=new Set,gn=new Map,Yn=new Map,Nn="void"===N,gs={params:{...bt,...St}},Wr=Ye?[]:qi(c,o,this.ast.animation,Q,ue,gt,Ut,gs,Le,it);let Jn=0;if(Wr.forEach(Ti=>{Jn=Math.max(Ti.duration+Ti.delay,Jn)}),it.length)return xi(o,this._triggerName,g,N,Nn,gt,Ut,[],[],gn,Yn,Jn,it);Wr.forEach(Ti=>{const di=Ti.element,Cu=We(gn,di,{});Ti.preStyleProps.forEach(Qi=>Cu[Qi]=!0);const wo=We(Yn,di,{});Ti.postStyleProps.forEach(Qi=>wo[Qi]=!0),di!==o&&on.add(di)});const ci=Lr(on.values());return xi(o,this._triggerName,g,N,Nn,gt,Ut,Wr,ci,gn,Yn,Jn)}}class Ds{constructor(c,o,g){this.styles=c,this.defaultParams=o,this.normalizer=g}buildStyles(c,o){const g={},N=Sn(this.defaultParams);return Object.keys(c).forEach(Q=>{const ue=c[Q];null!=ue&&(N[Q]=ue)}),this.styles.styles.forEach(Q=>{if("string"!=typeof Q){const ue=Q;Object.keys(ue).forEach(fe=>{let Se=ue[fe];Se.length>1&&(Se=er(Se,N,o));const Le=this.normalizer.normalizePropertyName(fe,o);Se=this.normalizer.normalizeStyleValue(fe,Le,Se,o),g[Le]=Se})}}),g}}class ki{constructor(c,o,g){this.name=c,this.ast=o,this._normalizer=g,this.transitionFactories=[],this.states={},o.states.forEach(N=>{this.states[N.name]=new Ds(N.style,N.options&&N.options.params||{},g)}),gi(this.states,"true","1"),gi(this.states,"false","0"),o.transitions.forEach(N=>{this.transitionFactories.push(new Fi(c,N,this.states))}),this.fallbackTransition=function(_,c,o){return new Fi(_,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ue,fe)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,o,g,N){return this.transitionFactories.find(ue=>ue.match(c,o,g,N))||null}matchStyles(c,o,g){return this.fallbackTransition.buildStyles(c,o,g)}}function gi(_,c,o){_.hasOwnProperty(c)?_.hasOwnProperty(o)||(_[o]=_[c]):_.hasOwnProperty(o)&&(_[c]=_[o])}const Os=new xn;class vi{constructor(c,o,g){this.bodyNode=c,this._driver=o,this._normalizer=g,this._animations={},this._playersById={},this.players=[]}register(c,o){const g=[],N=ne(this._driver,o,g);if(g.length)throw new Error(`Unable to build the animation due to the following errors: ${g.join("\n")}`);this._animations[c]=N}_buildPlayer(c,o,g){const N=c.element,Q=X(0,this._normalizer,0,c.keyframes,o,g);return this._driver.animate(N,Q,c.duration,c.delay,c.easing,[],!0)}create(c,o,g={}){const N=[],Q=this._animations[c];let ue;const fe=new Map;if(Q?(ue=qi(this._driver,o,Q,Tn,qt,{},{},g,Os,N),ue.forEach(Ye=>{const it=We(fe,Ye.element,{});Ye.postStyleProps.forEach(bt=>it[bt]=null)})):(N.push("The requested animation doesn't exist or has already been destroyed"),ue=[]),N.length)throw new Error(`Unable to create the animation due to the following errors: ${N.join("\n")}`);fe.forEach((Ye,it)=>{Object.keys(Ye).forEach(bt=>{Ye[bt]=this._driver.computeStyle(it,bt,ce.l3)})});const Le=ee(ue.map(Ye=>{const it=fe.get(Ye.element);return this._buildPlayer(Ye,{},it)}));return this._playersById[c]=Le,Le.onDestroy(()=>this.destroy(c)),this.players.push(Le),Le}destroy(c){const o=this._getPlayer(c);o.destroy(),delete this._playersById[c];const g=this.players.indexOf(o);g>=0&&this.players.splice(g,1)}_getPlayer(c){const o=this._playersById[c];if(!o)throw new Error(`Unable to find the timeline player referenced by ${c}`);return o}listen(c,o,g,N){const Q=Oe(o,"","","");return re(this._getPlayer(c),g,Q,N),()=>{}}command(c,o,g,N){if("register"==g)return void this.register(c,N[0]);if("create"==g)return void this.create(c,o,N[0]||{});const Q=this._getPlayer(c);switch(g){case"play":Q.play();break;case"pause":Q.pause();break;case"reset":Q.reset();break;case"restart":Q.restart();break;case"finish":Q.finish();break;case"init":Q.init();break;case"setPosition":Q.setPosition(parseFloat(N[0]));break;case"destroy":this.destroy(c)}}}const ts="ng-animate-queued",_i="ng-animate-disabled",Li=[],Ts={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Is={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Vn="__ng_removed";class ns{constructor(c,o=""){this.namespaceId=o;const g=c&&c.hasOwnProperty("value");if(this.value=(g?c.value:c)??null,g){const Q=Sn(c);delete Q.value,this.options=Q}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(c){const o=c.params;if(o){const g=this.options.params;Object.keys(o).forEach(N=>{null==g[N]&&(g[N]=o[N])})}}}const yi="void",bi=new ns(yi);class rs{constructor(c,o,g){this.id=c,this.hostElement=o,this._engine=g,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,Fn(o,this._hostClassName)}listen(c,o,g,N){if(!this._triggers.hasOwnProperty(o))throw new Error(`Unable to listen on the animation trigger event "${g}" because the animation trigger "${o}" doesn't exist!`);if(null==g||0==g.length)throw new Error(`Unable to listen on the animation trigger "${o}" because the provided event is undefined!`);if("start"!=(_=g)&&"done"!=_)throw new Error(`The provided animation trigger event "${g}" for the animation trigger "${o}" is not supported!`);var _;const Q=We(this._elementListeners,c,[]),ue={name:o,phase:g,callback:N};Q.push(ue);const fe=We(this._engine.statesByElement,c,{});return fe.hasOwnProperty(o)||(Fn(c,Un),Fn(c,Un+"-"+o),fe[o]=bi),()=>{this._engine.afterFlush(()=>{const Se=Q.indexOf(ue);Se>=0&&Q.splice(Se,1),this._triggers[o]||delete fe[o]})}}register(c,o){return!this._triggers[c]&&(this._triggers[c]=o,!0)}_getTrigger(c){const o=this._triggers[c];if(!o)throw new Error(`The provided animation trigger "${c}" has not been registered!`);return o}trigger(c,o,g,N=!0){const Q=this._getTrigger(o),ue=new Ei(this.id,o,c);let fe=this._engine.statesByElement.get(c);fe||(Fn(c,Un),Fn(c,Un+"-"+o),this._engine.statesByElement.set(c,fe={}));let Se=fe[o];const Le=new ns(g,this.id);if(!(g&&g.hasOwnProperty("value"))&&Se&&Le.absorbOptions(Se.options),fe[o]=Le,Se||(Se=bi),Le.value!==yi&&Se.value===Le.value){if(!function(_,c){const o=Object.keys(_),g=Object.keys(c);if(o.length!=g.length)return!1;for(let N=0;N<o.length;N++){const Q=o[N];if(!c.hasOwnProperty(Q)||_[Q]!==c[Q])return!1}return!0}(Se.params,Le.params)){const St=[],Ut=Q.matchStyles(Se.value,Se.params,St),on=Q.matchStyles(Le.value,Le.params,St);St.length?this._engine.reportError(St):this._engine.afterFlush(()=>{Mn(c,Ut),An(c,on)})}return}const bt=We(this._engine.playersByElement,c,[]);bt.forEach(St=>{St.namespaceId==this.id&&St.triggerName==o&&St.queued&&St.destroy()});let jt=Q.matchTransition(Se.value,Le.value,c,Le.params),gt=!1;if(!jt){if(!N)return;jt=Q.fallbackTransition,gt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:o,transition:jt,fromState:Se,toState:Le,player:ue,isFallbackTransition:gt}),gt||(Fn(c,ts),ue.onStart(()=>{Ar(c,ts)})),ue.onDone(()=>{let St=this.players.indexOf(ue);St>=0&&this.players.splice(St,1);const Ut=this._engine.playersByElement.get(c);if(Ut){let on=Ut.indexOf(ue);on>=0&&Ut.splice(on,1)}}),this.players.push(ue),bt.push(ue),ue}deregister(c){delete this._triggers[c],this._engine.statesByElement.forEach((o,g)=>{delete o[c]}),this._elementListeners.forEach((o,g)=>{this._elementListeners.set(g,o.filter(N=>N.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const o=this._engine.playersByElement.get(c);o&&(o.forEach(g=>g.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,o){const g=this._engine.driver.query(c,$e,!0);g.forEach(N=>{if(N[Vn])return;const Q=this._engine.fetchNamespacesByElement(N);Q.size?Q.forEach(ue=>ue.triggerLeaveAnimation(N,o,!1,!0)):this.clearElementCache(N)}),this._engine.afterFlushAnimationsDone(()=>g.forEach(N=>this.clearElementCache(N)))}triggerLeaveAnimation(c,o,g,N){const Q=this._engine.statesByElement.get(c);if(Q){const ue=[];if(Object.keys(Q).forEach(fe=>{if(this._triggers[fe]){const Se=this.trigger(c,fe,yi,N);Se&&ue.push(Se)}}),ue.length)return this._engine.markElementAsRemoved(this.id,c,!0,o),g&&ee(ue).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const o=this._elementListeners.get(c),g=this._engine.statesByElement.get(c);if(o&&g){const N=new Set;o.forEach(Q=>{const ue=Q.name;if(N.has(ue))return;N.add(ue);const Se=this._triggers[ue].fallbackTransition,Le=g[ue]||bi,Ye=new ns(yi),it=new Ei(this.id,ue,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:ue,transition:Se,fromState:Le,toState:Ye,player:it,isFallbackTransition:!0})})}}removeNode(c,o){const g=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,o),this.triggerLeaveAnimation(c,o,!0))return;let N=!1;if(g.totalAnimations){const Q=g.players.length?g.playersByQueriedElement.get(c):[];if(Q&&Q.length)N=!0;else{let ue=c;for(;ue=ue.parentNode;)if(g.statesByElement.get(ue)){N=!0;break}}}if(this.prepareLeaveAnimationListeners(c),N)g.markElementAsRemoved(this.id,c,!1,o);else{const Q=c[Vn];(!Q||Q===Ts)&&(g.afterFlush(()=>this.clearElementCache(c)),g.destroyInnerAnimations(c),g._onRemovalComplete(c,o))}}insertNode(c,o){Fn(c,this._hostClassName)}drainQueuedTransitions(c){const o=[];return this._queue.forEach(g=>{const N=g.player;if(N.destroyed)return;const Q=g.element,ue=this._elementListeners.get(Q);ue&&ue.forEach(fe=>{if(fe.name==g.triggerName){const Se=Oe(Q,g.triggerName,g.fromState.value,g.toState.value);Se._data=c,re(g.player,fe.phase,Se,fe.callback)}}),N.markedForDestroy?this._engine.afterFlush(()=>{N.destroy()}):o.push(g)}),this._queue=[],o.sort((g,N)=>{const Q=g.transition.ast.depCount,ue=N.transition.ast.depCount;return 0==Q||0==ue?Q-ue:this._engine.driver.containsElement(g.element,N.element)?1:-1})}destroy(c){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}elementContainsData(c){let o=!1;return this._elementListeners.has(c)&&(o=!0),o=!!this._queue.find(g=>g.element===c)||o,o}}class Ms{constructor(c,o,g){this.bodyNode=c,this.driver=o,this._normalizer=g,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(N,Q)=>{}}_onRemovalComplete(c,o){this.onRemovalComplete(c,o)}get queuedPlayers(){const c=[];return this._namespaceList.forEach(o=>{o.players.forEach(g=>{g.queued&&c.push(g)})}),c}createNamespace(c,o){const g=new rs(c,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(g,o):(this.newHostElements.set(o,g),this.collectEnterElement(o)),this._namespaceLookup[c]=g}_balanceNamespaceList(c,o){const g=this._namespaceList.length-1;if(g>=0){let N=!1;for(let Q=g;Q>=0;Q--)if(this.driver.containsElement(this._namespaceList[Q].hostElement,o)){this._namespaceList.splice(Q+1,0,c),N=!0;break}N||this._namespaceList.splice(0,0,c)}else this._namespaceList.push(c);return this.namespacesByHostElement.set(o,c),c}register(c,o){let g=this._namespaceLookup[c];return g||(g=this.createNamespace(c,o)),g}registerTrigger(c,o,g){let N=this._namespaceLookup[c];N&&N.register(o,g)&&this.totalAnimations++}destroy(c,o){if(!c)return;const g=this._fetchNamespace(c);this.afterFlush(()=>{this.namespacesByHostElement.delete(g.hostElement),delete this._namespaceLookup[c];const N=this._namespaceList.indexOf(g);N>=0&&this._namespaceList.splice(N,1)}),this.afterFlushAnimationsDone(()=>g.destroy(o))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const o=new Set,g=this.statesByElement.get(c);if(g){const N=Object.keys(g);for(let Q=0;Q<N.length;Q++){const ue=g[N[Q]].namespaceId;if(ue){const fe=this._fetchNamespace(ue);fe&&o.add(fe)}}}return o}trigger(c,o,g,N){if(Xr(o)){const Q=this._fetchNamespace(c);if(Q)return Q.trigger(o,g,N),!0}return!1}insertNode(c,o,g,N){if(!Xr(o))return;const Q=o[Vn];if(Q&&Q.setForRemoval){Q.setForRemoval=!1,Q.setForMove=!0;const ue=this.collectedLeaveElements.indexOf(o);ue>=0&&this.collectedLeaveElements.splice(ue,1)}if(c){const ue=this._fetchNamespace(c);ue&&ue.insertNode(o,g)}N&&this.collectEnterElement(o)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,o){o?this.disabledNodes.has(c)||(this.disabledNodes.add(c),Fn(c,_i)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),Ar(c,_i))}removeNode(c,o,g,N){if(Xr(o)){const Q=c?this._fetchNamespace(c):null;if(Q?Q.removeNode(o,N):this.markElementAsRemoved(c,o,!1,N),g){const ue=this.namespacesByHostElement.get(o);ue&&ue.id!==c&&ue.removeNode(o,N)}}else this._onRemovalComplete(o,N)}markElementAsRemoved(c,o,g,N){this.collectedLeaveElements.push(o),o[Vn]={namespaceId:c,setForRemoval:N,hasAnimation:g,removedBeforeQueried:!1}}listen(c,o,g,N,Q){return Xr(o)?this._fetchNamespace(c).listen(o,g,N,Q):()=>{}}_buildInstruction(c,o,g,N,Q){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,g,N,c.fromState.options,c.toState.options,o,Q)}destroyInnerAnimations(c){let o=this.driver.query(c,$e,!0);o.forEach(g=>this.destroyActiveAnimationsForElement(g)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(c,pt,!0),o.forEach(g=>this.finishActiveQueriedAnimationOnElement(g)))}destroyActiveAnimationsForElement(c){const o=this.playersByElement.get(c);o&&o.forEach(g=>{g.queued?g.markedForDestroy=!0:g.destroy()})}finishActiveQueriedAnimationOnElement(c){const o=this.playersByQueriedElement.get(c);o&&o.forEach(g=>g.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return ee(this.players).onDone(()=>c());c()})}processLeaveNode(c){const o=c[Vn];if(o&&o.setForRemoval){if(c[Vn]=Ts,o.namespaceId){this.destroyInnerAnimations(c);const g=this._fetchNamespace(o.namespaceId);g&&g.clearElementCache(c)}this._onRemovalComplete(c,o.setForRemoval)}c.classList?.contains(_i)&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(g=>{this.markElementAsDisabled(g,!1)})}flush(c=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((g,N)=>this._balanceNamespaceList(g,N)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let g=0;g<this.collectedEnterElements.length;g++)Fn(this.collectedEnterElements[g],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const g=[];try{o=this._flushAnimations(g,c)}finally{for(let N=0;N<g.length;N++)g[N]()}}else for(let g=0;g<this.collectedLeaveElements.length;g++)this.processLeaveNode(this.collectedLeaveElements[g]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(g=>g()),this._flushFns=[],this._whenQuietFns.length){const g=this._whenQuietFns;this._whenQuietFns=[],o.length?ee(o).onDone(()=>{g.forEach(N=>N())}):g.forEach(N=>N())}}reportError(c){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${c.join("\n")}`)}_flushAnimations(c,o){const g=new xn,N=[],Q=new Map,ue=[],fe=new Map,Se=new Map,Le=new Map,Ye=new Set;this.disabledNodes.forEach(dt=>{Ye.add(dt);const _t=this.driver.query(dt,".ng-animate-queued",!0);for(let Ot=0;Ot<_t.length;Ot++)Ye.add(_t[Ot])});const it=this.bodyNode,bt=Array.from(this.statesByElement.keys()),jt=Ni(bt,this.collectedEnterElements),gt=new Map;let St=0;jt.forEach((dt,_t)=>{const Ot=Tn+St++;gt.set(_t,Ot),dt.forEach(Ht=>Fn(Ht,Ot))});const Ut=[],on=new Set,gn=new Set;for(let dt=0;dt<this.collectedLeaveElements.length;dt++){const _t=this.collectedLeaveElements[dt],Ot=_t[Vn];Ot&&Ot.setForRemoval&&(Ut.push(_t),on.add(_t),Ot.hasAnimation?this.driver.query(_t,".ng-star-inserted",!0).forEach(Ht=>on.add(Ht)):gn.add(_t))}const Yn=new Map,Nn=Ni(bt,Array.from(on));Nn.forEach((dt,_t)=>{const Ot=qt+St++;Yn.set(_t,Ot),dt.forEach(Ht=>Fn(Ht,Ot))}),c.push(()=>{jt.forEach((dt,_t)=>{const Ot=gt.get(_t);dt.forEach(Ht=>Ar(Ht,Ot))}),Nn.forEach((dt,_t)=>{const Ot=Yn.get(_t);dt.forEach(Ht=>Ar(Ht,Ot))}),Ut.forEach(dt=>{this.processLeaveNode(dt)})});const gs=[],Wr=[];for(let dt=this._namespaceList.length-1;dt>=0;dt--)this._namespaceList[dt].drainQueuedTransitions(o).forEach(Ot=>{const Ht=Ot.player,jn=Ot.element;if(gs.push(Ht),this.collectedEnterElements.length){const or=jn[Vn];if(or&&or.setForMove)return void Ht.destroy()}const fi=!it||!this.driver.containsElement(it,jn),br=Yn.get(jn),Zi=gt.get(jn),vn=this._buildInstruction(Ot,g,Zi,br,fi);if(vn.errors&&vn.errors.length)return void Wr.push(vn);if(fi)return Ht.onStart(()=>Mn(jn,vn.fromStyles)),Ht.onDestroy(()=>An(jn,vn.toStyles)),void N.push(Ht);if(Ot.isFallbackTransition)return Ht.onStart(()=>Mn(jn,vn.fromStyles)),Ht.onDestroy(()=>An(jn,vn.toStyles)),void N.push(Ht);const wu=[];vn.timelines.forEach(or=>{or.stretchStartingKeyframe=!0,this.disabledNodes.has(or.element)||wu.push(or)}),vn.timelines=wu,g.append(jn,vn.timelines),ue.push({instruction:vn,player:Ht,element:jn}),vn.queriedElements.forEach(or=>We(fe,or,[]).push(Ht)),vn.preStyleProps.forEach((or,Do)=>{const vs=Object.keys(or);if(vs.length){let _s=Se.get(Do);_s||Se.set(Do,_s=new Set),vs.forEach(ja=>_s.add(ja))}}),vn.postStyleProps.forEach((or,Do)=>{const vs=Object.keys(or);let _s=Le.get(Do);_s||Le.set(Do,_s=new Set),vs.forEach(ja=>_s.add(ja))})});if(Wr.length){const dt=[];Wr.forEach(_t=>{dt.push(`@${_t.triggerName} has failed due to:\n`),_t.errors.forEach(Ot=>dt.push(`- ${Ot}\n`))}),gs.forEach(_t=>_t.destroy()),this.reportError(dt)}const Jn=new Map,ci=new Map;ue.forEach(dt=>{const _t=dt.element;g.has(_t)&&(ci.set(_t,_t),this._beforeAnimationBuild(dt.player.namespaceId,dt.instruction,Jn))}),N.forEach(dt=>{const _t=dt.element;this._getPreviousPlayers(_t,!1,dt.namespaceId,dt.triggerName,null).forEach(Ht=>{We(Jn,_t,[]).push(Ht),Ht.destroy()})});const Ti=Ut.filter(dt=>Or(dt,Se,Le)),di=new Map;Rs(di,this.driver,gn,Le,ce.l3).forEach(dt=>{Or(dt,Se,Le)&&Ti.push(dt)});const wo=new Map;jt.forEach((dt,_t)=>{Rs(wo,this.driver,new Set(dt),Se,ce.k1)}),Ti.forEach(dt=>{const _t=di.get(dt),Ot=wo.get(dt);di.set(dt,{..._t,...Ot})});const Qi=[],Ba=[],ra={};ue.forEach(dt=>{const{element:_t,player:Ot,instruction:Ht}=dt;if(g.has(_t)){if(Ye.has(_t))return Ot.onDestroy(()=>An(_t,Ht.toStyles)),Ot.disabled=!0,Ot.overrideTotalTime(Ht.totalTime),void N.push(Ot);let jn=ra;if(ci.size>1){let br=_t;const Zi=[];for(;br=br.parentNode;){const vn=ci.get(br);if(vn){jn=vn;break}Zi.push(br)}Zi.forEach(vn=>ci.set(vn,jn))}const fi=this._buildAnimation(Ot.namespaceId,Ht,Jn,Q,wo,di);if(Ot.setRealPlayer(fi),jn===ra)Qi.push(Ot);else{const br=this.playersByElement.get(jn);br&&br.length&&(Ot.parentPlayer=ee(br)),N.push(Ot)}}else Mn(_t,Ht.fromStyles),Ot.onDestroy(()=>An(_t,Ht.toStyles)),Ba.push(Ot),Ye.has(_t)&&N.push(Ot)}),Ba.forEach(dt=>{const _t=Q.get(dt.element);if(_t&&_t.length){const Ot=ee(_t);dt.setRealPlayer(Ot)}}),N.forEach(dt=>{dt.parentPlayer?dt.syncPlayerEvents(dt.parentPlayer):dt.destroy()});for(let dt=0;dt<Ut.length;dt++){const _t=Ut[dt],Ot=_t[Vn];if(Ar(_t,qt),Ot&&Ot.hasAnimation)continue;let Ht=[];if(fe.size){let fi=fe.get(_t);fi&&fi.length&&Ht.push(...fi);let br=this.driver.query(_t,pt,!0);for(let Zi=0;Zi<br.length;Zi++){let vn=fe.get(br[Zi]);vn&&vn.length&&Ht.push(...vn)}}const jn=Ht.filter(fi=>!fi.destroyed);jn.length?io(this,_t,jn):this.processLeaveNode(_t)}return Ut.length=0,Qi.forEach(dt=>{this.players.push(dt),dt.onDone(()=>{dt.destroy();const _t=this.players.indexOf(dt);this.players.splice(_t,1)}),dt.play()}),Qi}elementContainsData(c,o){let g=!1;const N=o[Vn];return N&&N.setForRemoval&&(g=!0),this.playersByElement.has(o)&&(g=!0),this.playersByQueriedElement.has(o)&&(g=!0),this.statesByElement.has(o)&&(g=!0),this._fetchNamespace(c).elementContainsData(o)||g}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,o,g,N,Q){let ue=[];if(o){const fe=this.playersByQueriedElement.get(c);fe&&(ue=fe)}else{const fe=this.playersByElement.get(c);if(fe){const Se=!Q||Q==yi;fe.forEach(Le=>{Le.queued||!Se&&Le.triggerName!=N||ue.push(Le)})}}return(g||N)&&(ue=ue.filter(fe=>!(g&&g!=fe.namespaceId||N&&N!=fe.triggerName))),ue}_beforeAnimationBuild(c,o,g){const Q=o.element,ue=o.isRemovalTransition?void 0:c,fe=o.isRemovalTransition?void 0:o.triggerName;for(const Se of o.timelines){const Le=Se.element,Ye=Le!==Q,it=We(g,Le,[]);this._getPreviousPlayers(Le,Ye,ue,fe,o.toState).forEach(jt=>{const gt=jt.getRealPlayer();gt.beforeDestroy&&gt.beforeDestroy(),jt.destroy(),it.push(jt)})}Mn(Q,o.fromStyles)}_buildAnimation(c,o,g,N,Q,ue){const fe=o.triggerName,Se=o.element,Le=[],Ye=new Set,it=new Set,bt=o.timelines.map(gt=>{const St=gt.element;Ye.add(St);const Ut=St[Vn];if(Ut&&Ut.removedBeforeQueried)return new ce.ZN(gt.duration,gt.delay);const on=St!==Se,gn=function(_){const c=[];return bn(_,c),c}((g.get(St)||Li).map(Jn=>Jn.getRealPlayer())).filter(Jn=>!!Jn.element&&Jn.element===St),Yn=Q.get(St),Nn=ue.get(St),gs=X(0,this._normalizer,0,gt.keyframes,Yn,Nn),Wr=this._buildPlayer(gt,gs,gn);if(gt.subTimeline&&N&&it.add(St),on){const Jn=new Ei(c,fe,St);Jn.setRealPlayer(Wr),Le.push(Jn)}return Wr});Le.forEach(gt=>{We(this.playersByQueriedElement,gt.element,[]).push(gt),gt.onDone(()=>function(_,c,o){let g;if(_ instanceof Map){if(g=_.get(c),g){if(g.length){const N=g.indexOf(o);g.splice(N,1)}0==g.length&&_.delete(c)}}else if(g=_[c],g){if(g.length){const N=g.indexOf(o);g.splice(N,1)}0==g.length&&delete _[c]}return g}(this.playersByQueriedElement,gt.element,gt))}),Ye.forEach(gt=>Fn(gt,Pt));const jt=ee(bt);return jt.onDestroy(()=>{Ye.forEach(gt=>Ar(gt,Pt)),An(Se,o.toStyles)}),it.forEach(gt=>{We(N,gt,[]).push(jt)}),jt}_buildPlayer(c,o,g){return o.length>0?this.driver.animate(c.element,o,c.duration,c.delay,c.easing,g):new ce.ZN(c.duration,c.delay)}}class Ei{constructor(c,o,g){this.namespaceId=c,this.triggerName=o,this.element=g,this._player=new ce.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,Object.keys(this._queuedCallbacks).forEach(o=>{this._queuedCallbacks[o].forEach(g=>re(c,o,void 0,g))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const o=this._player;o.triggerCallback&&c.onStart(()=>o.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,o){We(this._queuedCallbacks,c,[]).push(o)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const o=this._player;o.triggerCallback&&o.triggerCallback(c)}}function Xr(_){return _&&1===_.nodeType}function qr(_,c){const o=_.style.display;return _.style.display=c??"none",o}function Rs(_,c,o,g,N){const Q=[];o.forEach(Se=>Q.push(qr(Se)));const ue=[];g.forEach((Se,Le)=>{const Ye={};Se.forEach(it=>{const bt=Ye[it]=c.computeStyle(Le,it,N);(!bt||0==bt.length)&&(Le[Vn]=Is,ue.push(Le))}),_.set(Le,Ye)});let fe=0;return o.forEach(Se=>qr(Se,Q[fe++])),ue}function Ni(_,c){const o=new Map;if(_.forEach(fe=>o.set(fe,[])),0==c.length)return o;const N=new Set(c),Q=new Map;function ue(fe){if(!fe)return 1;let Se=Q.get(fe);if(Se)return Se;const Le=fe.parentNode;return Se=o.has(Le)?Le:N.has(Le)?1:ue(Le),Q.set(fe,Se),Se}return c.forEach(fe=>{const Se=ue(fe);1!==Se&&o.get(Se).push(fe)}),o}function Fn(_,c){_.classList?.add(c)}function Ar(_,c){_.classList?.remove(c)}function io(_,c,o){ee(o).onDone(()=>_.processLeaveNode(c))}function bn(_,c){for(let o=0;o<_.length;o++){const g=_[o];g instanceof ce.ZE?bn(g.players,c):c.push(g)}}function Or(_,c,o){const g=o.get(_);if(!g)return!1;let N=c.get(_);return N?g.forEach(Q=>N.add(Q)):c.set(_,g),o.delete(_),!0}class pn{constructor(c,o,g){this.bodyNode=c,this._driver=o,this._normalizer=g,this._triggerCache={},this.onRemovalComplete=(N,Q)=>{},this._transitionEngine=new Ms(c,o,g),this._timelineEngine=new vi(c,o,g),this._transitionEngine.onRemovalComplete=(N,Q)=>this.onRemovalComplete(N,Q)}registerTrigger(c,o,g,N,Q){const ue=c+"-"+N;let fe=this._triggerCache[ue];if(!fe){const Se=[],Le=ne(this._driver,Q,Se);if(Se.length)throw new Error(`The animation trigger "${N}" has failed to build due to the following errors:\n - ${Se.join("\n - ")}`);fe=function(_,c,o){return new ki(_,c,o)}(N,Le,this._normalizer),this._triggerCache[ue]=fe}this._transitionEngine.registerTrigger(o,N,fe)}register(c,o){this._transitionEngine.register(c,o)}destroy(c,o){this._transitionEngine.destroy(c,o)}onInsert(c,o,g,N){this._transitionEngine.insertNode(c,o,g,N)}onRemove(c,o,g,N){this._transitionEngine.removeNode(c,o,N||!1,g)}disableAnimations(c,o){this._transitionEngine.markElementAsDisabled(c,o)}process(c,o,g,N){if("@"==g.charAt(0)){const[Q,ue]=tt(g);this._timelineEngine.command(Q,o,ue,N)}else this._transitionEngine.trigger(c,o,g,N)}listen(c,o,g,N,Q){if("@"==g.charAt(0)){const[ue,fe]=tt(g);return this._timelineEngine.listen(ue,o,fe,Q)}return this._transitionEngine.listen(c,o,g,N,Q)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function tr(_,c){let o=null,g=null;return Array.isArray(c)&&c.length?(o=nr(c[0]),c.length>1&&(g=nr(c[c.length-1]))):c&&(o=nr(c)),o||g?new ji(_,o,g):null}let ji=(()=>{class _{constructor(o,g,N){this._element=o,this._startStyles=g,this._endStyles=N,this._state=0;let Q=_.initialStylesByElement.get(o);Q||_.initialStylesByElement.set(o,Q={}),this._initialStyles=Q}start(){this._state<1&&(this._startStyles&&An(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(An(this._element,this._initialStyles),this._endStyles&&(An(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(_.initialStylesByElement.delete(this._element),this._startStyles&&(Mn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mn(this._element,this._endStyles),this._endStyles=null),An(this._element,this._initialStyles),this._state=3)}}return _.initialStylesByElement=new WeakMap,_})();function nr(_){let c=null;const o=Object.keys(_);for(let g=0;g<o.length;g++){const N=o[g];xs(N)&&(c=c||{},c[N]=_[N])}return c}function xs(_){return"display"===_||"position"===_}const ti="animation",Ui="animationend";class $i{constructor(c,o,g,N,Q,ue,fe){this._element=c,this._name=o,this._duration=g,this._delay=N,this._easing=Q,this._fillMode=ue,this._onDoneFn=fe,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=Se=>this._handleCallback(Se)}apply(){(function(_,c){const o=ct(_,"").trim();let g=0;o.length&&(function(_,c){let o=0;for(let g=0;g<_.length;g++)","===_.charAt(g)&&o++;return o}(o)+1,c=`${o}, ${c}`),je(_,"",c)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),q(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){zi(this._element,this._name,"paused")}resume(){zi(this._element,this._name,"running")}setPosition(c){const o=x(this._element,this._name);this._position=c*this._duration,je(this._element,"Delay",`-${this._position}ms`,o)}getPosition(){return this._position}_handleCallback(c){const o=c._ngTestManualTimestamp||Date.now(),g=1e3*parseFloat(c.elapsedTime.toFixed(3));c.animationName==this._name&&Math.max(o-this._startTime,0)>=this._delay&&g>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),q(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(_,c){const g=ct(_,"").split(","),N=D(g,c);N>=0&&(g.splice(N,1),je(_,"",g.join(",")))}(this._element,this._name))}}function zi(_,c,o){je(_,"PlayState",o,x(_,c))}function x(_,c){const o=ct(_,"");return o.indexOf(",")>0?D(o.split(","),c):D([o],c)}function D(_,c){for(let o=0;o<_.length;o++)if(_[o].indexOf(c)>=0)return o;return-1}function q(_,c,o){o?_.removeEventListener(Ui,c):_.addEventListener(Ui,c)}function je(_,c,o,g){const N=ti+c;if(null!=g){const Q=_.style[N];if(Q.length){const ue=Q.split(",");ue[g]=o,o=ue.join(",")}}_.style[N]=o}function ct(_,c){return _.style[ti+c]||""}class ni{constructor(c,o,g,N,Q,ue,fe,Se){this.element=c,this.keyframes=o,this.animationName=g,this._duration=N,this._delay=Q,this._finalStyles=fe,this._specialStyles=Se,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=ue||"linear",this.totalTime=N+Q,this._buildStyler()}onStart(c){this._onStartFns.push(c)}onDone(c){this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(c=>c()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(c=>c()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(c){this._styler.setPosition(c)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new $i(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(c){const o="start"==c?this._onStartFns:this._onDoneFns;o.forEach(g=>g()),o.length=0}beforeDestroy(){this.init();const c={};if(this.hasStarted()){const o=this._state>=3;Object.keys(this._finalStyles).forEach(g=>{"offset"!=g&&(c[g]=o?this._finalStyles[g]:Nr(this.element,g))})}this.currentSnapshot=c}}class so extends ce.ZN{constructor(c,o){super(),this.element=c,this._startingStyles={},this.__initialized=!1,this._styles=Mt(o)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(c=>{this._startingStyles[c]=this.element.style[c]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(c=>this.element.style.setProperty(c,this._styles[c])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(c=>{const o=this._startingStyles[c];o?this.element.style.setProperty(c,o):this.element.style.removeProperty(c)}),this._startingStyles=null,super.destroy())}}class ao{constructor(){this._count=0}validateStyleProperty(c){return rt(c)}matchesElement(c,o){return!1}containsElement(c,o){return at(c,o)}query(c,o,g){return Et(c,o,g)}computeStyle(c,o,g){return window.getComputedStyle(c)[o]}buildKeyframeElement(c,o,g){g=g.map(fe=>Mt(fe));let N=`@keyframes ${o} {\n`,Q="";g.forEach(fe=>{Q=" ";const Se=parseFloat(fe.offset);N+=`${Q}${100*Se}% {\n`,Q+=" ",Object.keys(fe).forEach(Le=>{const Ye=fe[Le];switch(Le){case"offset":return;case"easing":return void(Ye&&(N+=`${Q}animation-timing-function: ${Ye};\n`));default:return void(N+=`${Q}${Le}: ${Ye};\n`)}}),N+=`${Q}}\n`}),N+="}\n";const ue=document.createElement("style");return ue.textContent=N,ue}animate(c,o,g,N,Q,ue=[],fe){const Se=ue.filter(Ut=>Ut instanceof ni),Le={};hn(g,N)&&Se.forEach(Ut=>{let on=Ut.currentSnapshot;Object.keys(on).forEach(gn=>Le[gn]=on[gn])});const Ye=function(_){let c={};return _&&(Array.isArray(_)?_:[_]).forEach(g=>{Object.keys(g).forEach(N=>{"offset"==N||"easing"==N||(c[N]=g[N])})}),c}(o=Br(c,o,Le));if(0==g)return new so(c,Ye);const it="gen_css_kf_"+this._count++,bt=this.buildKeyframeElement(c,it,o);(function(_){const c=_.getRootNode?.();return"undefined"!=typeof ShadowRoot&&c instanceof ShadowRoot?c:document.head})(c).appendChild(bt);const gt=tr(c,o),St=new ni(c,o,it,g,N,Q,Ye,gt);return St.onDestroy(()=>{var _;(_=bt).parentNode.removeChild(_)}),St}}class xo{constructor(c,o,g,N){this.element=c,this.keyframes=o,this.options=g,this._specialStyles=N,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=g.duration,this._delay=g.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(c,o,g){return c.animate(o,g)}onStart(c){this._onStartFns.push(c)}onDone(c){this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c={};if(this.hasStarted()){const o=this._finalKeyframe;Object.keys(o).forEach(g=>{"offset"!=g&&(c[g]=this._finished?o[g]:Nr(this.element,g))})}this.currentSnapshot=c}triggerCallback(c){const o="start"==c?this._onStartFns:this._onDoneFns;o.forEach(g=>g()),o.length=0}}class Ea{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(an().toString()),this._cssKeyframesDriver=new ao}validateStyleProperty(c){return rt(c)}matchesElement(c,o){return!1}containsElement(c,o){return at(c,o)}query(c,o,g){return Et(c,o,g)}computeStyle(c,o,g){return window.getComputedStyle(c)[o]}overrideWebAnimationsSupport(c){this._isNativeImpl=c}animate(c,o,g,N,Q,ue=[],fe){if(!fe&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(c,o,g,N,Q,ue);const Ye={duration:g,delay:N,fill:0==N?"both":"forwards"};Q&&(Ye.easing=Q);const it={},bt=ue.filter(gt=>gt instanceof xo);hn(g,N)&&bt.forEach(gt=>{let St=gt.currentSnapshot;Object.keys(St).forEach(Ut=>it[Ut]=St[Ut])});const jt=tr(c,o=Br(c,o=o.map(gt=>Wn(gt,!1)),it));return new xo(c,o,Ye,jt)}}function an(){return te()&&Element.prototype.animate||{}}var Kn=l(1457);let Sa=(()=>{class _ extends ce._j{constructor(o,g){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(g.body,{id:"0",encapsulation:u.ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(o){const g=this._nextAnimationId.toString();this._nextAnimationId++;const N=Array.isArray(o)?(0,ce.vP)(o):o;return ko(this._renderer,null,g,"register",[N]),new Ca(g,this._renderer)}}return _.\u0275fac=function(o){return new(o||_)(u.\u0275\u0275inject(u.RendererFactory2),u.\u0275\u0275inject(Kn.DOCUMENT))},_.\u0275prov=u.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})();class Ca extends ce.LC{constructor(c,o){super(),this._id=c,this._renderer=o}create(c,o){return new wa(this._id,c,o||{},this._renderer)}}class wa{constructor(c,o,g,N){this.id=c,this.element=o,this._renderer=N,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",g)}_listen(c,o){return this._renderer.listen(this.element,`@@${this.id}:${c}`,o)}_command(c,...o){return ko(this._renderer,this.element,this.id,c,o)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ko(_,c,o,g,N){return _.setProperty(c,`@@${o}:${g}`,N)}const Gt="@.disabled";let tu=(()=>{class _{constructor(o,g,N){this.delegate=o,this.engine=g,this._zone=N,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),g.onRemovalComplete=(Q,ue)=>{const fe=ue?.parentNode(Q);fe&&ue.removeChild(fe,Q)}}createRenderer(o,g){const Q=this.delegate.createRenderer(o,g);if(!(o&&g&&g.data&&g.data.animation)){let Ye=this._rendererCache.get(Q);return Ye||(Ye=new Lo("",Q,this.engine),this._rendererCache.set(Q,Ye)),Ye}const ue=g.id,fe=g.id+"-"+this._currentId;this._currentId++,this.engine.register(fe,o);const Se=Ye=>{Array.isArray(Ye)?Ye.forEach(Se):this.engine.registerTrigger(ue,fe,o,Ye.name,Ye)};return g.data.animation.forEach(Se),new lo(this,fe,Q,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,g,N){o>=0&&o<this._microtaskId?this._zone.run(()=>g(N)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(Q=>{const[ue,fe]=Q;ue(fe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([g,N]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return _.\u0275fac=function(o){return new(o||_)(u.\u0275\u0275inject(u.RendererFactory2),u.\u0275\u0275inject(pn),u.\u0275\u0275inject(u.NgZone))},_.\u0275prov=u.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})();class Lo{constructor(c,o,g){this.namespaceId=c,this.delegate=o,this.engine=g,this.destroyNode=this.delegate.destroyNode?N=>o.destroyNode(N):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(c,o){return this.delegate.createElement(c,o)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,o){this.delegate.appendChild(c,o),this.engine.onInsert(this.namespaceId,o,c,!1)}insertBefore(c,o,g,N=!0){this.delegate.insertBefore(c,o,g),this.engine.onInsert(this.namespaceId,o,c,N)}removeChild(c,o,g){this.engine.onRemove(this.namespaceId,o,this.delegate,g)}selectRootElement(c,o){return this.delegate.selectRootElement(c,o)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,o,g,N){this.delegate.setAttribute(c,o,g,N)}removeAttribute(c,o,g){this.delegate.removeAttribute(c,o,g)}addClass(c,o){this.delegate.addClass(c,o)}removeClass(c,o){this.delegate.removeClass(c,o)}setStyle(c,o,g,N){this.delegate.setStyle(c,o,g,N)}removeStyle(c,o,g){this.delegate.removeStyle(c,o,g)}setProperty(c,o,g){"@"==o.charAt(0)&&o==Gt?this.disableAnimations(c,!!g):this.delegate.setProperty(c,o,g)}setValue(c,o){this.delegate.setValue(c,o)}listen(c,o,g){return this.delegate.listen(c,o,g)}disableAnimations(c,o){this.engine.disableAnimations(c,o)}}class lo extends Lo{constructor(c,o,g,N){super(o,g,N),this.factory=c,this.namespaceId=o}setProperty(c,o,g){"@"==o.charAt(0)?"."==o.charAt(1)&&o==Gt?this.disableAnimations(c,g=void 0===g||!!g):this.engine.process(this.namespaceId,c,o.substr(1),g):this.delegate.setProperty(c,o,g)}listen(c,o,g){if("@"==o.charAt(0)){const N=function(_){switch(_){case"body":return document.body;case"document":return document;case"window":return window;default:return _}}(c);let Q=o.substr(1),ue="";return"@"!=Q.charAt(0)&&([Q,ue]=function(_){const c=_.indexOf(".");return[_.substring(0,c),_.substr(c+1)]}(Q)),this.engine.listen(this.namespaceId,N,Q,ue,fe=>{this.factory.scheduleListenerCallback(fe._data||-1,g,fe)})}return this.delegate.listen(c,o,g)}}let Si=(()=>{class _ extends pn{constructor(o,g,N){super(o.body,g,N)}ngOnDestroy(){this.flush()}}return _.\u0275fac=function(o){return new(o||_)(u.\u0275\u0275inject(Kn.DOCUMENT),u.\u0275\u0275inject(zt),u.\u0275\u0275inject(Ri))},_.\u0275prov=u.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac}),_})();const vr=new u.InjectionToken("AnimationModuleType"),Bs=[{provide:ce._j,useClass:Sa},{provide:Ri,useFactory:function(){return new Dr}},{provide:pn,useClass:Si},{provide:u.RendererFactory2,useFactory:function(_,c,o){return new tu(_,c,o)},deps:[i.se,pn,u.NgZone]}],Vr=[{provide:zt,useFactory:function(){return"function"==typeof an()?new Ea:new ao}},{provide:vr,useValue:"BrowserAnimations"},...Bs],Bo=[{provide:zt,useClass:Bt},{provide:vr,useValue:"NoopAnimations"},...Bs];let No=(()=>{class _{static withConfig(o){return{ngModule:_,providers:o.disableAnimations?Bo:Vr}}}return _.\u0275fac=function(o){return new(o||_)},_.\u0275mod=u.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=u.\u0275\u0275defineInjector({providers:Vr,imports:[i.b2]}),_})();var Cn=l(6435);const Ci={properties:{id:{type:"string",description:"Id"},name:{type:"string",description:"Name"},shortName:{type:"string",description:"Short name"},description:{type:"string",description:"Description"},startUrl:{type:"string",description:"Start url"},icons:{type:"array",description:"Icons",items:{type:"object",properties:{src:{type:"string",description:"Src"},sizes:{type:"string",description:"Sizes"},type:{type:"string",description:"Type"}},required:["src","sizes","type"]}},themeColor:{type:"string",description:"Theme color"},backgroundColor:{type:"string",description:"Background color"},screenshots:{type:"array",description:"Screenshots",items:{type:"object",properties:{src:{type:"string",description:"Src"},sizes:{type:"string",description:"Sizes"},type:{type:"string",description:"Type"},platform:{type:"string",description:"Platform"},label:{type:"string",description:"Label"}},required:["src","sizes","type","platform","label"]}},iarcRatingId:{type:"string",description:"IARC rating id"},categories:{type:"array",description:"Categories",items:{type:"string",description:"Category"}},additionalProperties:{type:"object",description:"Additional properties",properties:{permissions:{type:"array",description:"Permissions",items:{type:"object",properties:{kind:{type:"string",description:"Kind",enum:["collection"]},mode:{type:"string",description:"Mode",enum:["read","write","delete"]},target:{type:"string",description:"Target"}},required:["kind","mode","target"]}},internal:{type:"boolean",description:"Internal"},starred:{type:"boolean",description:"Internal"},defaultShortcut:{type:"string",description:"Default shortcut"},sidebarShortcuts:{type:"array",description:"Sidebar shortcuts",items:{type:"string",description:"Sidebar shortcut"}}}},shortcuts:{type:"array",description:"Shortcuts",items:{type:"object",properties:{name:{type:"string",description:"Name"},url:{type:"string",description:"Url"},icons:{type:"array",description:"Icons",items:{type:"object",properties:{src:{type:"string",description:"Src"},sizes:{type:"string",description:"Sizes"},type:{type:"string",description:"Type"}},required:["src","sizes","type"]}},shortName:{type:"string",description:"Short name"},description:{type:"string",description:"Description"}},required:["name","url"]}},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","name","startUrl","createdAt","updatedAt"]},ss={provide:Cn.RY,useValue:{name:"storeapplications",creator:{schema:{title:"Store Store",description:"User Applications",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:Ci.properties,required:["id","name","startUrl","createdAt","updatedAt"]}}},multi:!0},js={provide:Cn.RY,useValue:{name:"userapplications",creator:{schema:{title:"User Applications",description:"User Applications",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:Ci.properties,required:["id","name","startUrl","createdAt","updatedAt"]}}},multi:!0};var ht=l(899),po=l(4995);const Uo={provide:Cn.To,useValue:{name:"userapplications",upsert:!0,data:[{id:"com.central-factory.portal",name:"Central Factory Portal",description:"Central Factory Portal",startUrl:"/",icons:[{src:"assets/icons/mdi/open-in-app.svg",sizes:"512x512",type:"image/svg+xml"}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:ht.k.Collection,mode:ht.R.Read,target:"userpreferences"},{kind:ht.k.Collection,mode:ht.R.Read,target:"useravatars"},{kind:ht.k.Collection,mode:ht.R.Read,target:"userapplications"}]}},{id:"com.central-factory.portals",name:"Portals",description:"Access to many local and hosted web applications. Applications can be loaded through a webview or through a webpack module federation.",startUrl:"portals",icons:[{src:"assets/icons/mdi/web-box.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Start",url:"/start",icons:[{src:"assets/icons/mdi/flare.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Portals",url:"/portals",icons:[{src:"assets/icons/mdi/web-box.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,sidebarShortcuts:["Start"],permissions:[{kind:ht.k.Collection,mode:ht.R.Read,target:"userapplications"},{kind:ht.k.Collection,mode:ht.R.Write,target:"userapplications"},{kind:ht.k.Collection,mode:ht.R.Delete,target:"userapplications"},{kind:ht.k.Collection,mode:ht.R.Read,target:"storeapplications"},{kind:ht.k.Collection,mode:ht.R.Write,target:"storeapplications"},{kind:ht.k.Collection,mode:ht.R.Delete,target:"storeapplications"},{kind:ht.k.Collection,mode:ht.R.Read,target:"usertopics"},{kind:ht.k.Collection,mode:ht.R.Write,target:"usertopics"},{kind:ht.k.Collection,mode:ht.R.Delete,target:"usertopics"}]}},{id:"com.central-factory.avatars",name:"Avatars",description:"Avatars management module. Customize your avatars.",startUrl:"user-avatars",icons:[{src:"assets/icons/mdi/account.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Selected Avatar",url:"/selected-avatar",icons:[{src:"assets/icons/mdi/account.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Select Avatar",url:"/select-avatar",icons:[{src:"assets/icons/mdi/account.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:ht.k.Collection,mode:ht.R.Read,target:"useravatars"},{kind:ht.k.Collection,mode:ht.R.Write,target:"useravatars"},{kind:ht.k.Collection,mode:ht.R.Delete,target:"useravatars"},{kind:ht.k.Collection,mode:ht.R.Read,target:"userpreferences"},{kind:ht.k.Collection,mode:ht.R.Write,target:"userpreferences"}],sidebarShortcuts:["Selected Avatar"]}},{id:"com.central-factory.inventory",name:"Inventory",description:"Assets management module. Manage and preview your assets.",startUrl:"inventory",icons:[{src:"assets/icons/mdi/bag-personal.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Inventory",url:"/inventory",icons:[{src:"assets/icons/mdi/bag-personal.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},disabled:!0,internal:!0,permissions:[{kind:ht.k.Collection,mode:ht.R.Read,target:"userassets"},{kind:ht.k.Collection,mode:ht.R.Write,target:"userassets"},{kind:ht.k.Collection,mode:ht.R.Delete,target:"userassets"}],sidebarShortcuts:["Inventory"]}},{id:"com.central-factory.marketplace",name:"Marketplace",description:"Portal Marketplace. Sell your assets and acquire new ones.",startUrl:"marketplace",icons:[{src:"assets/icons/mdi/store.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Marketplace",url:"/marketplace",icons:[{src:"assets/icons/mdi/store.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,disabled:!0,permissions:[{kind:ht.k.Collection,mode:ht.R.Read,target:"userassets"},{kind:ht.k.Collection,mode:ht.R.Write,target:"userassets"},{kind:ht.k.Collection,mode:ht.R.Delete,target:"userassets"}],sidebarShortcuts:["Marketplace"]}},{id:"com.central-factory.settings",name:"Settings",description:"Customize your portal experience. Manage your preferences.",startUrl:"settings",icons:[{src:"assets/icons/mdi/cog.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Settings",url:"/settings",icons:[{src:"assets/icons/mdi/cog.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{internal:!0,author:{id:"com.central-factory",name:"Central Factory"},permissions:[{kind:ht.k.Collection,mode:ht.R.Read,target:"userpreferences"},{kind:ht.k.Collection,mode:ht.R.Write,target:"userpreferences"}],sidebarShortcuts:["Settings"]}},{id:"com.central-factory.codex",name:"Codex",description:"Official documentation for the Central Factory Metaverse",startUrl:"codex",categories:["productivity"],icons:[{src:"assets/icons/mdi/book-open-page-variant.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Codex",url:"https://www.aitorllamas.com/metaverse/apps/codex",icons:[{src:"assets/icons/mdi/book-open-page-variant.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},renderingType:po.B.Webview,supportsBrowser:!0,internal:!1,permissions:[],defaultShortcut:"Codex",sidebarShortcuts:[],colors:[{variation:po.c.Primary,color:"#706fd3"}]}}]},multi:!0},mo={provide:Cn.RY,useValue:{name:"userassets",creator:{schema:{title:"User Assets",description:"User assets",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},name:{type:"string",description:"Name"},model:{type:"string",description:"Model"},description:{type:"string",description:"Description"},digital:{type:"boolean",description:"Digital"},private:{type:"boolean",description:"Private"},kind:{type:"string",description:"Kind",enum:["unknown","currency","land","material","building","equipment","furniture","machine","vehicle","media-resource","other"]},url:{type:"string",description:"Url"},previewUrl:{type:"string",description:"Preview url"},currentValue:{type:"object",description:"Current value",properties:{usd:{type:"string",description:"Usd"},eth:{type:"string",description:"Eth"}}},purchaseValue:{type:"object",description:"Purchase value",properties:{usd:{type:"string",description:"Usd"},eth:{type:"string",description:"Eth"}}},purchaseDate:{format:"date-time",type:"string"},data:{type:"object",description:"Data"},owner:{type:"string",description:"Owner"},producer:{type:"string",description:"Producer"},permissions:{type:"array",description:"Permissions",items:{type:"object",description:"Permission"}},createdAt:{format:"date-time",type:"string",description:"Created at"},updatedAt:{format:"date-time",type:"string",description:"Updated at"}}}}},multi:!0},os={type:"object",description:"Appearance",properties:{format:{type:"string"},src:{type:"string"},smallPreviewUrl:{type:"string"},previewCamera:{type:"object",properties:{position:{type:"string"},rotation:{type:"string"},scale:{type:"string"}}}}},Qn={provide:Cn.RY,useValue:{name:"useravatars",creator:{schema:{title:"User Avatars",description:"User Avatars",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},welcomeMessage:{type:"string",description:"Welcome message"},name:{type:"string",description:"Name"},title:{type:"string",description:"Title"},selectedAppearance:os,appearances:{type:"array",description:"Appearances",items:os},scopes:{type:"array",description:"Scopes",items:{type:"object",properties:{integration:{type:"string",description:"Integration"},domain:{type:"string",description:"Domain"},scope:{type:"string",description:"Scope"}}}},skills:{type:"array",description:"Skills",items:{type:"object",properties:{domain:{type:"string",description:"Domain"},scope:{type:"string",description:"Scope"},skill:{type:"string",description:"Skill"}}}},createdAt:{format:"date-time",type:"string",description:"Created at"},updatedAt:{format:"date-time",type:"string",description:"Updated at"}},attachments:{encrypted:!1}}}},multi:!0},Vo={provide:Cn.RY,useValue:{name:"applicationpermissions",creator:{schema:{title:"Application Permissions",description:"Application Permissions",version:0,keyCompression:!0,primaryKey:{key:"id",fields:["appId","kind","mode","target"],separator:":"},type:"object",properties:{id:{type:"string",description:"Id"},appId:{type:"string",description:"AppId"},kind:{type:"string",description:"Kind",enum:["collection"]},mode:{type:"string",description:"Mode",enum:["read","write","delete"]},target:{type:"string",description:"Target"},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","appId","kind","mode","target"],encrypted:["kind","mode","target"]}}},multi:!0},go={provide:Cn.RY,useValue:{name:"userpreferences",creator:{schema:{title:"User Preferences",description:"User preferences",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},key:{type:"string",description:"Key"},value:{description:"Value"},avatar:{type:"string"},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","value"]}}},multi:!0},ri={production:!1,demo:!0,useMocks:!0,autologin:!0,showSplashScreen:!1,repositoryUrl:"https://raw.githubusercontent.com/central-factory/web-application-manifests/main",webUrl:"http://localhost:3000",documentationUrl:"http://localhost:3000/docs",blogUrl:"http://localhost:3000/blog",developersUrl:"http://localhost:3000/developers"},Di={provide:Cn.To,useValue:{name:"userpreferences",upsert:!1,data:[{id:"settings.customization",key:"settings.customization",value:{theme:{name:"Metaverse",path:"assets/themes/metaverse/variables.css"}}},{id:"settings.customization.1",key:"settings.customization.1",value:{theme:{name:"Metaverse",path:"assets/themes/metaverse/variables.css"}}},{id:"settings.customization.2",key:"settings.customization.2",value:{theme:{name:"Bubbles",path:"assets/themes/bubbles/variables.css"}}},{id:"settings.customization.3",key:"settings.customization.3",value:{theme:{name:"Default",path:"assets/themes/default/variables.css"}}},{id:"store.settings.repositories",key:"store.settings.repositories",value:[{label:"The Central Factory",url:`${ri.repositoryUrl}/applications.json`}]}]},multi:!0};var as=l(43);const ii={provide:Cn.RY,useValue:{name:"usertopics",creator:{schema:{title:"User Topics",description:"User Topics",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},priority:{type:"string",description:"Id",enum:["low","medium","high"]},title:{type:"string",description:"Title"},description:{type:"string",description:"Description"},icon:{type:"string",description:"Icon"},themeColor:{type:"string",description:"Theme color"},background:{type:"string",description:"Background color"},applications:{type:"array",description:"applications",items:{type:"string",description:"applications"}},categories:{type:"array",description:"Categories",items:{type:"string",description:"Category"}},shortcuts:{type:"array",description:"Shortcuts",items:{type:"string",description:"Shortcut"}},media:{type:"array",description:"Media",items:{type:"object",description:"MediaContent"}},triggers:{type:"array",description:"Shortcuts",items:{type:"object",description:"Shortcut"}},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","priority","title","createdAt","updatedAt"]}}},multi:!0},Oi={provide:Cn.To,useValue:{name:"usertopics",upsert:!0,data:[{id:"morning.routine",priority:"low",icon:"assets/icons/mdi/weather-sunny.svg",title:"Morning Routine",background:"https://images.unsplash.com/photo-1415750465391-51ed29b1e610?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80",themeColor:"light",applications:["com.ibm.weather","com.feedly.feedly","com.spotify.player","com.google.calendar","com.google.mail","com.doist.todoist","com.microsoft.github"],shortcuts:["com.ibm.weather#TodaysForecast","com.feedly.feedly#NewsFeed","com.spotify.player#PlayMusic","com.google.calendar#Agenda","com.doist.todoist#Today"],categories:["lifestyle","productivity","food","fitness","health"],triggers:[{name:"Every morning",rules:{startTime:"06:00",endTime:"09:30"}}]},{id:"meal.time",priority:"medium",icon:"assets/icons/mdi/silverware.svg",title:"Meal Time",background:"https://images.unsplash.com/photo-1565895405138-6c3a1555da6a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80",themeColor:"light",applications:["com.fitbit.fitbit","com.uber.eats","com.glovo.glovo","com.justeat.justeat","com.burgerking.burgerking"],shortcuts:[],categories:["food","health"],triggers:[{name:"Breakfast",rules:{startTime:"06:00",endTime:"8:00"}},{name:"Coffee",rules:{startTime:"11:00",endTime:"12:00"}},{name:"Lunch",rules:{startTime:"13:00",endTime:"14:00"}},{name:"Tea",rules:{startTime:"17:00",endTime:"18:00"}},{name:"Dinner",rules:{startTime:"21:00",endTime:"22:00"}}]},{id:"plan.day",priority:"low",icon:"assets/icons/mdi/account-check.svg",title:"Plan your day",background:"https://images.unsplash.com/photo-1484480974693-6ca0a78fb36b?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1472&q=80",applications:["com.google.calendar","com.google.mail","com.google.keep","com.doist.todoist","com.mieconomista.contaauto"],shortcuts:["com.google.calendar#Agenda","com.google.calendar#CreateEvent","com.google.keep#CreateNote","com.google.mail#Inbox","com.google.mail#CreateEmail","com.doist.todoist#CreateTask","com.mieconomista.contaauto#CreateInvoice"],categories:["productivity","business"],triggers:[{name:"Every morning",rules:{startTime:"09:00",endTime:"10:30"}}]},{id:"daily.meeting",priority:"high",icon:"assets/icons/mdi/video.svg",title:"Daily Meeting",background:"https://images.unsplash.com/photo-1552581234-26160f608093?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80",applications:["com.microsoft.outlook.office","com.atlassian.jira","com.microsoft.onenote","com.microsoft.teams"],shortcuts:["com.microsoft.outlook.office#Agenda","com.atlassian.jira#Board","com.microsoft.onenote#CreateNote","com.microsoft.vscode.insiders#Code"],categories:["productivity","business"],triggers:[{name:"Every morning",rules:{startTime:"09:50",endTime:"10:30"}}]},{id:"work.matrix",priority:"medium",icon:"assets/icons/mdi/account-network.svg",title:"Work at The Matrix",background:"https://images.unsplash.com/photo-1564069114553-7215e1ff1890?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1332&q=80",applications:["com.microsoft.teams","com.slack.slack","com.microsoft.outlook.office","com.atlassian.jira","com.microsoft.azure","com.microsoft.onedrive","com.microsoft.onenote","com.atlassian.confluence"],shortcuts:["com.microsoft.outlook.office#Inbox","com.microsoft.outlook.office#CreateEmail","com.microsoft.outlook.office#Agenda","com.microsoft.onedrive#UploadFile","com.microsoft.onenote#CreateNote","com.atlassian.jira#CreateIssue","com.atlassian.jira#Board","com.atlassian.confluence#CreateNote","com.microsoft.vscode.insiders#Code"],categories:["productivity","business"],triggers:[{name:"Every morning",rules:{startTime:"10:00",endTime:"14:00"}},{name:"Every afternoon",rules:{startTime:"14:00",endTime:"18:00"}}]},{id:"coding.night",priority:"low",icon:"assets/icons/mdi/account-network.svg",title:"Coding Nights",background:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1472&q=80",themeColor:"light",applications:["com.google.search","com.microsoft.github","com.central-factory.codex","com.ivoox.player","com.spotify.player","com.google.youtube","com.stackexchange.overflow","com.templarian.materialdesignicons","com.brandcolors.brandcolors","com.simpleicons.simpleicons","com.discord.discord"],shortcuts:["com.microsoft.vscode.insiders#Code","com.microsoft.github#PullRequests","com.google.youtube#Subscriptions","com.spotify.player#Library"],categories:["devtools","productivity"],triggers:[{name:"Every night",rules:{startTime:"18:00",endTime:"23:59"}},{name:"Every morning",rules:{startTime:"00:00",endTime:"03:00"}}]},{id:"gaming.night",priority:"low",icon:"assets/icons/mdi/google-controller.svg",themeColor:"light",background:"https://images.unsplash.com/photo-1610041321327-b794c052db27?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80",title:"Gaming Night",applications:["com.microsoft.xbox","com.valve.steam","com.nintendo.my","com.discord.discord","com.amazon.twitchtv","com.google.youtube","com.spotify.spotify"],shortcuts:["com.amazon.twitchtv#Following","com.google.youtube#Subscriptions"],categories:["games"],media:[{type:"image",title:"Halo Infinite",src:"https://store-images.s-microsoft.com/image/apps.56579.13727851868390641.c9cc5f66-aff8-406c-af6b-440838730be0.0dee39b3-efb2-4425-8f1f-087c111ff9b2?w=300&h=300",url:"https://www.xbox.com/es-ES/play/games/halo-infinite-campa%C3%B1a/9NP1P1WFS0LB"},{type:"image",title:"Nobody Saves the World",src:"https://store-images.s-microsoft.com/image/apps.53413.13585830814774327.d6e142bb-27e2-4109-8139-edac768eca10.bd597240-e065-42b4-a809-b42e4a7a9815?w=300&h=300",url:"https://www.xbox.com/en-US/play/games/nobody-saves-the-world/9NFZ65KKJ10X"}],triggers:[{name:"Every night",rules:{startTime:"18:00",endTime:"23:59"}},{name:"Every morning",rules:{startTime:"00:00",endTime:"03:00"}}]}]},multi:!0};var si=l(4438),$r=l(2085),Pr=l(2051);let zo=(()=>{class _{}return _.\u0275fac=function(o){return new(o||_)},_.\u0275mod=u.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=u.\u0275\u0275defineInjector({}),_})(),_o=(()=>{class _{}return _.\u0275fac=function(o){return new(o||_)},_.\u0275mod=u.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=u.\u0275\u0275defineInjector({}),_})(),Ki=(()=>{class _{}return _.\u0275fac=function(o){return new(o||_)},_.\u0275mod=u.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=u.\u0275\u0275defineInjector({imports:[[Kn.CommonModule,si.O,Pr.Y,zo,_o]]}),_})();var us=l(5088),Tr=(()=>{return(_=Tr||(Tr={})).Body="body",_.Head="head",_.Ears="ears",_.Face="face",_.Eyes="eyes",_.Nose="nose",_.Mouth="mouth",_.Neck="neck",_.Chest="chest",_.Waist="waist",_.Back="back",_.Arms="arms",_.RightArm="right-arm",_.LeftArm="left-arm",_.Wrist="wrist",_.Hands="hands",_.RightHand="right-hand",_.LeftHand="left-hand",_.Legs="legs",_.RightLeg="right-leg",_.LeftLeg="left-leg",_.Feet="feet",_.RightFoot="right-foot",_.LeftFoot="left-foot",_.Finger="finger",Tr;var _})();const ls={id:"1",name:"Raven's Cloak",model:"Raven's Cloak",producer:"Shop5363155 Store",owner:"Metam",description:"Microfiber hooded cloak with fleece lining",kind:us.R.Equipment,previewUrl:"https://i.imgur.com/ukcsu1q.png",url:"https://es.aliexpress.com/item/1005001952208453.html",currentValue:{usd:"23.62",eth:"0.0070218623"},purchaseValue:{usd:"23.62",eth:"0.0070218623"},purchaseDate:(new Date).toISOString(),digital:!1,private:!0,data:{allowedSlots:[Tr.Back],colors:["#ff0000","#00ff00","#0000ff"],isEquipped:!1}},kn={id:"2",name:"Foundation's Coat",model:"Foundation's Coat",producer:"Shop1948549 Store",owner:"Metam",description:"Hooded coat with thick fleece lining",kind:us.R.Equipment,previewUrl:"https://i.imgur.com/w1XmjIj.png",url:"https://es.aliexpress.com/item/1005003209038453.html",currentValue:{usd:"43.9",eth:"0.01305079404"},purchaseValue:{usd:"43.9",eth:"0.01305079404"},purchaseDate:(new Date).toISOString(),digital:!1,private:!0,data:{allowedSlots:[Tr.Chest],colors:["#ff0000","#00ff00","#0000ff"],isEquipped:!1}},Ko=((new Date).toISOString(),{provide:Cn.To,useValue:{name:"userassets",upsert:!0,data:[ls,kn]},multi:!0});var Ke=l(120);const yo={provide:Cn.To,useValue:{name:"useravatars",upsert:!0,data:[{id:"1",welcomeMessage:"Hello!",name:"Thomas Anderson",title:"Software Engineer",selectedAppearance:{id:"2",filename:"appearance.glb",format:Ke.g.Model,src:"assets/avatars/samples/thomas-anderson/default/appearance.glb",portrait:{id:"5a6ecf92-141f-46ca-aa9f-b67c009a5df1",filename:"portrait.png",format:Ke.g.Image,src:"assets/avatars/samples/thomas-anderson/default/portrait.png"}},appearances:[{id:"1",filename:"appearance.glb",format:Ke.g.Model,src:"assets/avatars/samples/thomas-anderson/neo/appearance.glb",portrait:{id:"690798c7-9bf0-45ce-b76a-7982ee119322",filename:"portrait.png",format:Ke.g.Image,src:"assets/avatars/samples/thomas-anderson/neo/portrait.png"},previewCamera:{position:"0 1.5 0.7",rotation:"-5 0 0",scale:"0.4 0.4 0.4"}},{id:"2",filename:"50f2bc3a-fe0c-4036-8546-15a2bc63c1cf",format:Ke.g.Model,src:"assets/avatars/samples/thomas-anderson/default/appearance.glb",portrait:{id:"5a6ecf92-141f-46ca-aa9f-b67c009a5df1",filename:"portrait.png",format:Ke.g.Image,src:"assets/avatars/samples/thomas-anderson/default/portrait.png"},previewCamera:{position:"0 1.5 0.7",rotation:"-5 0 0",scale:"1 1 1"}}],scopes:[{integration:"CF",domain:"Calendars",scope:"manage"},{integration:"Google",domain:"Calendars",scope:"manage"},{integration:"NFT",domain:"Tokens",scope:"manage"}],skills:[{domain:"calendar",scope:"manage",skill:"create"},{domain:"event",scope:"manage",skill:"create"},{domain:"assets",scope:"manage",skill:"trade"}]},{id:"2",welcomeMessage:"Hello!",name:"Elliot Alderson",title:"Software Engineer",selectedAppearance:{id:"1",filename:"appearance.glb",format:Ke.g.Model,src:"assets/avatars/samples/elliot-alderson/default/appearance.glb",portrait:{id:"74f583ff-8c6d-4433-9aa4-4d4a7903dac4",filename:"portrait.png",format:Ke.g.Image,src:"assets/avatars/samples/elliot-alderson/default/portrait.png"}},appearances:[{id:"1",filename:"appearance.glb",format:Ke.g.Model,src:"assets/avatars/samples/elliot-alderson/default/appearance.glb",portrait:{id:"4d84c56a-f62b-4df1-a566-a5124cf4f75a",filename:"portrait.png",format:Ke.g.Image,src:"assets/avatars/samples/elliot-alderson/default/portrait.png"}}],scopes:[],skills:[]},{id:"3",welcomeMessage:"Hello!",name:"Alan Turing",title:"Software Engineer",selectedAppearance:{id:"3",format:Ke.g.Model,src:"assets/avatars/samples/alan-turing/default/appearance.glb",filename:"appearance.glb",portrait:{id:"8eccca39-ba05-4cf5-a106-3dffd9f563b0",filename:"portrait.png",format:Ke.g.Image,src:"assets/avatars/samples/alan-turing/default/portrait.png"}},appearances:[{id:"3",filename:"appearance.glb",format:Ke.g.Model,src:"assets/avatars/samples/alan-turing/default/appearance.glb",portrait:{id:"ab321f41-8a46-42b4-9e42-29f95042d734",filename:"portrait.png",format:Ke.g.Image,src:"assets/avatars/samples/alan-turing/default/portrait.png"}}],scopes:[],skills:[]}]},multi:!0};var Pi=l(3905);let wn=(()=>{class _{static forRoot({enabled:o=!1,autologin:g=!1}){const N=[];return o&&(N.push(yo),N.push(Ko)),g&&N.push({provide:u.APP_INITIALIZER,useFactory:Q=>()=>(0,Pi.z)(Q.setupDatabase("test","test1234")),deps:[Cn.v2],multi:!0}),{ngModule:_,providers:N}}}return _.\u0275fac=function(o){return new(o||_)},_.\u0275mod=u.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=u.\u0275\u0275defineInjector({}),_})();var Zn=l(428),Pa=l(3900),oi=l(8505);const Go=new u.InjectionToken("ON_DATABASE_CREATED_GUARD_FAILURE_REDIRECT_TOKEN",{providedIn:"root",factory:()=>"/select-avatar"});let yr=(()=>{class _{constructor(o,g,N){this.entityManager=o,this.router=g,this.failureRedirectTo=N}canActivate(){return this.entityManager.getRepository("userpreferences","com.central-factory.avatars").pipe((0,Pa.w)(o=>o.findOne({selector:{id:"userAvatars.selectedAvatar"}})),(0,M.U)(o=>!(!o||!o.value)),(0,oi.b)(o=>{o||this.router.navigate([this.failureRedirectTo])}))}}return _.\u0275fac=function(o){return new(o||_)(u.\u0275\u0275inject(Cn.v2),u.\u0275\u0275inject(Zn.Router),u.\u0275\u0275inject(Go))},_.\u0275prov=u.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Qo=new u.InjectionToken("ON_DATABASE_CREATED_GUARD_FAILURE_REDIRECT_TOKEN",{providedIn:"root",factory:()=>"/login"});let ai=(()=>{class _{constructor(o,g,N){this.entityManager=o,this.router=g,this.failureRedirectTo=N}canActivate(){const o=this.entityManager.isDatabaseCreated();return o||this.router.navigate([this.failureRedirectTo]),o}}return _.\u0275fac=function(o){return new(o||_)(u.\u0275\u0275inject(Cn.v2),u.\u0275\u0275inject(Zn.Router),u.\u0275\u0275inject(Qo))},_.\u0275prov=u.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const zs=new u.InjectionToken("ON_NOT_DATABASE_CREATED_GUARD_FAILURE_REDIRECT_TOKEN",{providedIn:"root",factory:()=>"/"});let ds=(()=>{class _{constructor(o,g,N){this.entityManager=o,this.router=g,this.failureRedirectTo=N}canActivate(){const o=this.entityManager.isDatabaseCreated();return o&&this.router.navigate([this.failureRedirectTo]),!o}}return _.\u0275fac=function(o){return new(o||_)(u.\u0275\u0275inject(Cn.v2),u.\u0275\u0275inject(Zn.Router),u.\u0275\u0275inject(zs))},_.\u0275prov=u.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();var Zo=l(6961),bo=l(4918),Yo=l(7165);const Ws=(0,ce.oQ)((0,ce.jt)("{{ timing }}s {{ delay }}s cubic-bezier(0.215, 0.610, 0.355, 1.000)",(0,ce.F4)([(0,ce.oB)({opacity:0,transform:"scale3d(.3, .3, .3)",offset:0}),(0,ce.oB)({transform:"scale3d(1.1, 1.1, 1.1)",offset:.2}),(0,ce.oB)({transform:"scale3d(.9, .9, .9)",offset:.4}),(0,ce.oB)({opacity:1,transform:"scale3d(1.03, 1.03, 1.03)",offset:.6}),(0,ce.oB)({transform:"scale3d(.97, .97, .97)",offset:.8}),(0,ce.oB)({opacity:1,transform:"scale3d(1, 1, 1)",offset:1})])),{params:{timing:1,delay:0}}),R=("100%",0,(0,ce.oQ)((0,ce.jt)("{{ timing }}s {{ delay }}s",(0,ce.F4)([(0,ce.oB)({opacity:0,transform:"translate3d(0, {{ a }}, 0)",offset:0}),(0,ce.oB)({opacity:1,transform:"translate3d(0, {{ b }}, 0)",offset:1})])),{params:{timing:1,delay:0,a:"100%",b:0}}));var y=l(4128),H=l(1884),J=l(1623),me=l(7967),Me=l(3454),Ve=l(795),et=l(9646),ut=l(9750),$t=l(7158);let In=(()=>{class _{constructor(o){this.clock=o,this.clock$=this.clock.everyMinute$,this.version$=(0,et.of)("0.0.1")}}return _.\u0275fac=function(o){return new(o||_)(u.\u0275\u0275directiveInject(Ve.d))},_.\u0275cmp=u.\u0275\u0275defineComponent({type:_,selectors:[["cf-system-toolbar"]],decls:14,vars:9,consts:[["cfBlock","system-toolbar"],["cfBlock","system-toolbar-content","cfMod","left"],["cfElem","assistant"],["src","assets/icons/mdi/robot-happy.svg"],["size","xs"],["cfBlock","system-toolbar-content","cfMod","center"],["cfBlock","system-toolbar-content","cfMod","right"],["cfElem","clock"],["cfElem","version"]],template:function(o,g){1&o&&(u.\u0275\u0275elementStart(0,"div",0),u.\u0275\u0275elementStart(1,"div",1),u.\u0275\u0275elementStart(2,"div",2),u.\u0275\u0275element(3,"cf-svg-icon",3),u.\u0275\u0275element(4,"cf-command-bar",4),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(5,"div",5),u.\u0275\u0275elementStart(6,"div",6),u.\u0275\u0275elementStart(7,"div",7),u.\u0275\u0275text(8),u.\u0275\u0275pipe(9,"date"),u.\u0275\u0275pipe(10,"async"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(11,"div",8),u.\u0275\u0275text(12),u.\u0275\u0275pipe(13,"async"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()),2&o&&(u.\u0275\u0275advance(8),u.\u0275\u0275textInterpolate1(" ",u.\u0275\u0275pipeBind2(9,2,u.\u0275\u0275pipeBind1(10,5,g.clock$),"LLL d, yyyy, HH:mm")," "),u.\u0275\u0275advance(4),u.\u0275\u0275textInterpolate1("v",u.\u0275\u0275pipeBind1(13,7,g.version$),""))},directives:[J.G,me.I,Me.e,ut.b,$t.H],pipes:[Kn.DatePipe,Kn.AsyncPipe],styles:[".system-toolbar[_ngcontent-%COMP%]{position:absolute;width:100%;z-index:999;display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:.5rem;background:rgba(0,0,0,.5);color:#fff}.system-toolbar[_ngcontent-%COMP%]   .system-toolbar-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;grid-gap:.25rem;gap:.25rem}.system-toolbar[_ngcontent-%COMP%]   .system-toolbar-content__assistant[_ngcontent-%COMP%]{display:flex;grid-gap:.5rem;gap:.5rem}"]}),_})();var ir=l(5183),Gi=l(6111),ui=l(405),hr=l(1236),Ln=l(5605);let Jo=(()=>{class _{constructor(){this.title="CF Portal",this.titleClick=new u.EventEmitter}onTitleClick(){this.titleClick.emit()}}return _.\u0275fac=function(o){return new(o||_)},_.\u0275cmp=u.\u0275\u0275defineComponent({type:_,selectors:[["cf-navbar"]],inputs:{environment:"environment",title:"title"},outputs:{titleClick:"titleClick"},decls:24,vars:10,consts:[["cfBlock","navbar"],["cfBlock","navbar-section","cfMod","left"],["cfElem","title",3,"click"],["cfElem","icon","src","assets/logo.svg",3,"svgClass"],["cfElem","text"],["cfBlock","navbar-section","cfMod","right"],["cfBlock","list","cfMod","horizontal"],["cfElem","item"],["src","assets/icons/mdi/web.svg","cfElem","icon",3,"svgClass"],["cfElem","link",3,"href"],["src","assets/icons/mdi/text-box-search-outline.svg","cfElem","icon",3,"svgClass"],["src","assets/icons/mdi/post-outline.svg","cfElem","icon",3,"svgClass"],["src","assets/icons/mdi/code-tags.svg","cfElem","icon",3,"svgClass"]],template:function(o,g){1&o&&(u.\u0275\u0275elementStart(0,"div",0),u.\u0275\u0275elementStart(1,"div",1),u.\u0275\u0275elementStart(2,"h1",2),u.\u0275\u0275listener("click",function(){return g.onTitleClick()}),u.\u0275\u0275element(3,"cf-svg-icon",3),u.\u0275\u0275elementStart(4,"span",4),u.\u0275\u0275text(5),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(6,"div",5),u.\u0275\u0275elementStart(7,"ul",6),u.\u0275\u0275elementStart(8,"li",7),u.\u0275\u0275element(9,"cf-svg-icon",8),u.\u0275\u0275elementStart(10,"a",9),u.\u0275\u0275text(11,"Website"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(12,"li",7),u.\u0275\u0275element(13,"cf-svg-icon",10),u.\u0275\u0275elementStart(14,"a",9),u.\u0275\u0275text(15,"Documentation"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(16,"li",7),u.\u0275\u0275element(17,"cf-svg-icon",11),u.\u0275\u0275elementStart(18,"a",9),u.\u0275\u0275text(19,"Blog"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(20,"li",7),u.\u0275\u0275element(21,"cf-svg-icon",12),u.\u0275\u0275elementStart(22,"a",9),u.\u0275\u0275text(23," Developers "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()),2&o&&(u.\u0275\u0275advance(3),u.\u0275\u0275property("svgClass","icon__svg"),u.\u0275\u0275advance(2),u.\u0275\u0275textInterpolate(g.title),u.\u0275\u0275advance(4),u.\u0275\u0275property("svgClass","icon__svg"),u.\u0275\u0275advance(1),u.\u0275\u0275property("href",null==g.environment?null:g.environment.webUrl,u.\u0275\u0275sanitizeUrl),u.\u0275\u0275advance(3),u.\u0275\u0275property("svgClass","icon__svg"),u.\u0275\u0275advance(1),u.\u0275\u0275property("href",null==g.environment?null:g.environment.documentationUrl,u.\u0275\u0275sanitizeUrl),u.\u0275\u0275advance(3),u.\u0275\u0275property("svgClass","icon__svg"),u.\u0275\u0275advance(1),u.\u0275\u0275property("href",null==g.environment?null:g.environment.blogUrl,u.\u0275\u0275sanitizeUrl),u.\u0275\u0275advance(3),u.\u0275\u0275property("svgClass","icon__svg"),u.\u0275\u0275advance(1),u.\u0275\u0275property("href",null==g.environment?null:g.environment.developersUrl,u.\u0275\u0275sanitizeUrl))},directives:[J.G,me.I,Me.e,ut.b],encapsulation:2}),_})();function Eo(_,c){1&_&&u.\u0275\u0275element(0,"cf-system-toolbar")}const fs=function(_){return{"button--active":_}};function So(_,c){if(1&_){const o=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementContainerStart(0),u.\u0275\u0275elementStart(1,"a",19),u.\u0275\u0275listener("click",function(){const Q=u.\u0275\u0275restoreView(o).$implicit;return u.\u0275\u0275nextContext(3).onSidebarItemClick(Q)}),u.\u0275\u0275elementStart(2,"div",9),u.\u0275\u0275elementStart(3,"span",10),u.\u0275\u0275text(4),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(5,"button",20),u.\u0275\u0275element(6,"cf-svg-icon",21),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementContainerEnd()}if(2&_){const o=c.$implicit;u.\u0275\u0275advance(4),u.\u0275\u0275textInterpolate(o.name),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngClass",u.\u0275\u0275pureFunction1(4,fs,o.active)),u.\u0275\u0275advance(1),u.\u0275\u0275property("src",o.icon)("svgClass","icon__svg")}}const nu=function(_){return{"background-color":_,"margin-top":"15px"}};function ru(_,c){if(1&_){const o=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"div",22),u.\u0275\u0275elementStart(1,"div",22),u.\u0275\u0275elementStart(2,"div",9),u.\u0275\u0275elementStart(3,"span",10),u.\u0275\u0275text(4),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(5,"button",23),u.\u0275\u0275listener("click",function(){const Q=u.\u0275\u0275restoreView(o).$implicit;return u.\u0275\u0275nextContext(3).onRecentlyOpenedItemClick(Q)}),u.\u0275\u0275element(6,"cf-svg-icon",21),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()}if(2&_){const o=c.$implicit;u.\u0275\u0275advance(4),u.\u0275\u0275textInterpolate(o.name),u.\u0275\u0275advance(1),u.\u0275\u0275property("cdkDragData",o.application)("ngClass",u.\u0275\u0275pureFunction1(6,fs,o.active))("ngStyle",u.\u0275\u0275pureFunction1(8,nu,o.color)),u.\u0275\u0275advance(1),u.\u0275\u0275property("src",o.icon)("svgClass","icon__svg")}}const iu=function(){return[]};function su(_,c){if(1&_){const o=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"div",24),u.\u0275\u0275elementStart(1,"cf-splash-screen",25),u.\u0275\u0275listener("splashScreenHide",function(){return u.\u0275\u0275restoreView(o),u.\u0275\u0275nextContext(3).showSplashScreen=!1}),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()}if(2&_){const o=u.\u0275\u0275nextContext(3);u.\u0275\u0275advance(1),u.\u0275\u0275propertyInterpolate1("welcomeMessage","Welcome to ",null==o.openedSidebarItem?null:o.openedSidebarItem.name,""),u.\u0275\u0275property("mods","in-scene")("displayLoadingTime",2e3)("displayWelcomeTime",1e3)("title",(null==o.openedSidebarItem?null:o.openedSidebarItem.name)||"")("logo",(null==o.openedSidebarItem?null:o.openedSidebarItem.icon)||"")("backgroundColor",(null==o.openedSidebarItem?null:o.openedSidebarItem.color)||"")("loadingTexts",(null==o.openedSidebarItem||null==o.openedSidebarItem.application||null==o.openedSidebarItem.application.description?null:o.openedSidebarItem.application.description.split("."))||u.\u0275\u0275pureFunction0(8,iu))}}const Ta=function(){return["/select-avatar"]},ou=function(){return["applications-carousel"]},Bn=function(_){return{"padding-left":_}},Co=function(_){return{"scene__content--splash-screen":_}};function au(_,c){if(1&_){const o=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"cf-sidebar-container"),u.\u0275\u0275elementStart(1,"cf-sidebar",6),u.\u0275\u0275listener("openedChange",function(N){return u.\u0275\u0275restoreView(o),u.\u0275\u0275nextContext(2).sidebarIsOpen=N}),u.\u0275\u0275elementStart(2,"div",7),u.\u0275\u0275elementStart(3,"a",8),u.\u0275\u0275listener("click",function(){return u.\u0275\u0275restoreView(o),u.\u0275\u0275nextContext(2).onSidebarItemClick({name:"Select Avatar",routerLink:["/select-avatar"],icon:"assets/icons/mdi/account-switch.svg",application:{id:"com.central-factory.avatars",name:"User Avatars",description:"Select an avatar",startUrl:"/select-avatar"},active:!1})}),u.\u0275\u0275elementStart(4,"div",9),u.\u0275\u0275elementStart(5,"span",10),u.\u0275\u0275text(6,"Account"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(7,"cf-avatar-appearance-portrait",11),u.\u0275\u0275elementEnd(),u.\u0275\u0275template(8,So,7,6,"ng-container",12),u.\u0275\u0275elementStart(9,"div",13),u.\u0275\u0275template(10,ru,7,10,"div",14),u.\u0275\u0275elementEnd(),u.\u0275\u0275element(11,"router-outlet",15),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(12,"div",16),u.\u0275\u0275elementStart(13,"div",17),u.\u0275\u0275template(14,su,2,9,"div",18),u.\u0275\u0275element(15,"router-outlet"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()}if(2&_){const o=u.\u0275\u0275nextContext().ngIf,g=u.\u0275\u0275nextContext();u.\u0275\u0275advance(1),u.\u0275\u0275property("opened",g.sidebarIsOpen)("dock",g.dockedSidebar)("dockedSize","100px")("showBackdrop",!0)("closeOnClickBackdrop",!0)("closeOnClickOutside",!0),u.\u0275\u0275advance(2),u.\u0275\u0275property("routerLink",u.\u0275\u0275pureFunction0(16,Ta)),u.\u0275\u0275advance(4),u.\u0275\u0275property("appearancePortrait",null==o.selectedAvatar.selectedAppearance?null:o.selectedAvatar.selectedAppearance.portrait),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngForOf",g.sidebarItems),u.\u0275\u0275advance(1),u.\u0275\u0275property("cdkDropListData",g.recentlyOpenedSidebarItems)("cdkDropListConnectedTo",u.\u0275\u0275pureFunction0(17,ou)),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngForOf",g.recentlyOpenedSidebarItems),u.\u0275\u0275advance(3),u.\u0275\u0275property("ngStyle",u.\u0275\u0275pureFunction1(18,Bn,g.dockedSidebar?"0":"1rem"))("ngClass",u.\u0275\u0275pureFunction1(20,Co,g.showSplashScreen))("@sceneContentAnimationState",g.sceneContentAnimationState),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",g.showSplashScreen)}}function uu(_,c){if(1&_&&(u.\u0275\u0275elementStart(0,"div",26),u.\u0275\u0275elementStart(1,"div",27),u.\u0275\u0275element(2,"router-outlet"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()),2&_){const o=u.\u0275\u0275nextContext(2);u.\u0275\u0275advance(1),u.\u0275\u0275property("ngStyle",u.\u0275\u0275pureFunction1(1,Bn,o.dockedSidebar?"0":"1rem"))}}function lu(_,c){if(1&_){const o=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"cf-navbar",28),u.\u0275\u0275listener("titleClick",function(){u.\u0275\u0275restoreView(o);const N=u.\u0275\u0275nextContext(2);return N.sidebarIsOpen=!N.sidebarIsOpen}),u.\u0275\u0275elementEnd()}if(2&_){const o=u.\u0275\u0275nextContext(2);u.\u0275\u0275property("title",o.title)}}const cu=function(_){return{"no-navbar":_}};function Xo(_,c){if(1&_&&(u.\u0275\u0275elementContainerStart(0),u.\u0275\u0275template(1,Eo,1,0,"cf-system-toolbar",0),u.\u0275\u0275elementStart(2,"div",1),u.\u0275\u0275elementStart(3,"div",2),u.\u0275\u0275template(4,au,16,22,"cf-sidebar-container",3),u.\u0275\u0275template(5,uu,3,3,"ng-template",null,4,u.\u0275\u0275templateRefExtractor),u.\u0275\u0275elementEnd(),u.\u0275\u0275template(7,lu,1,1,"cf-navbar",5),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementContainerEnd()),2&_){const o=c.ngIf,g=u.\u0275\u0275reference(6),N=u.\u0275\u0275nextContext();u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",o.selectedAvatar),u.\u0275\u0275advance(2),u.\u0275\u0275property("cfMod",u.\u0275\u0275pureFunction1(5,cu,!N.showNavbar)),u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",o.selectedAvatar)("ngIfElse",g),u.\u0275\u0275advance(3),u.\u0275\u0275property("ngIf",N.showNavbar)}}const hs=function(_){return{selectedAvatar:_}};var sr=(()=>(function(_){_.Idle="Idle",_.Opened="Opened",_.Animated="Animated"}(sr||(sr={})),sr))();let pr=(()=>{class _{constructor(o,g,N,Q,ue,fe,Se){this.router=o,this.entityManager=g,this.selectedAvatarState=N,this.selectedApplicationState=Q,this.recentlyOpenedApplicationsState=ue,this.customizationSettingsState=fe,this.breakpointObserver=Se,this.title="Metaverse Portal",this.sidebarIsOpen=!1,this.sidebarItems=[],this.recentlyOpenedSidebarItems=[],this.dockedSidebar=!0,this.showSplashScreen=!1,this.showNavbar=!1,this.sceneContentAnimationState=sr.Idle,this.selectedAvatar$=this.selectedAvatarState.avatar$,this.recentlyOpenedApplications$=this.recentlyOpenedApplicationsState.applications$.pipe((0,M.U)(Le=>Le.reverse()),(0,M.U)(Le=>this.generateSidebarItems(Le))),this.destroy$=new L.x}ngOnInit(){this.breakpointObserver.observe(["(min-width: 600px)"]).subscribe(o=>{this.dockedSidebar=!!o.matches}),this.customizationSettingsState.customizationSettings$.pipe((0,M.U)(o=>o?.theme),(0,S.h)(o=>void 0!==o),(0,H.x)((o,g)=>o?.path===g?.path),w(1),(0,oi.b)(o=>{this.sceneContentAnimationState=sr.Idle,setTimeout(()=>this.sceneContentAnimationState=sr.Animated,100)}),(0,k.R)(this.destroy$)).subscribe(),this.recentlyOpenedApplications$.pipe((0,k.R)(this.destroy$),(0,oi.b)(o=>this.recentlyOpenedSidebarItems=o)).subscribe(),this.router.events.pipe((0,S.h)(o=>o instanceof Zn.NavigationEnd),(0,k.R)(this.destroy$)).subscribe(()=>{this.setSidebarItemsActive(this.sidebarItems)}),this.entityManager.initialize$.pipe((0,Pa.w)(()=>(0,y.D)([this.entityManager.getRepository("userapplications","com.central-factory.portal")])),(0,oi.b)(([o])=>this.subscribeToDataChanges(o))).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onRecentlyOpenedItemClick(o){this.sceneContentAnimationState=sr.Idle,setTimeout(()=>{this.sceneContentAnimationState=sr.Opened,o.application&&(this.selectedApplicationState.selectApplication(o.application),this.selectedApplicationState.openSidebar())},100)}onSidebarItemClick(o){this.sceneContentAnimationState=sr.Idle,setTimeout(()=>{this.sceneContentAnimationState=sr.Opened,this.showSplashScreen=!0,this.openedSidebarItem=o,o.routerLink&&this.router.navigate(o.routerLink)},100)}subscribeToDataChanges(o){o.find({selector:{"additionalProperties.sidebarShortcuts":{$exists:!0}}}).pipe((0,oi.b)(g=>{this.sidebarItems=this.generateSidebarItems(g)}),(0,k.R)(this.destroy$)).subscribe()}generateSidebarItems(o){const g=o.filter(N=>!0!==N.additionalProperties?.disabled).sort((N,Q)=>N.createdAt.localeCompare(Q.createdAt)).reduce((N,Q)=>{const Se=Q.shortcuts||[],Ye=(Q.additionalProperties?.sidebarShortcuts||[]).map(it=>Se.find(bt=>bt.name===it)).filter(it=>!!it).map(it=>({name:it.name,routerLink:[it.url],icon:it.icons&&it.icons.length>0?it.icons[0].src:"",color:Q.additionalProperties?.colors?.find(bt=>"primary"===bt.variation)?.color||(!0===Q.additionalProperties?.internal?"var(--color-base-primary-medium)":void 0),active:!1,application:Q}));return N.concat(Ye)},[]);return this.setSidebarItemsActive(g),g}setSidebarItemsActive(o){o.forEach(g=>{g.active=this.router.url.startsWith(g.routerLink.join("/"))})}}return _.\u0275fac=function(o){return new(o||_)(u.\u0275\u0275directiveInject(Zn.Router),u.\u0275\u0275directiveInject(Cn.v2),u.\u0275\u0275directiveInject(Yo.Y),u.\u0275\u0275directiveInject(bo.H),u.\u0275\u0275directiveInject(Zo.r),u.\u0275\u0275directiveInject(as.T),u.\u0275\u0275directiveInject(W))},_.\u0275cmp=u.\u0275\u0275defineComponent({type:_,selectors:[["cf-portal-layout"]],decls:2,vars:5,consts:[[4,"ngIf"],["cfBlock","scene","cfMod","layout"],["cfElem","body",3,"cfMod"],[4,"ngIf","ngIfElse"],["notSelectedAvatarLayout",""],["cfElem","navbar",3,"title","titleClick",4,"ngIf"],[3,"opened","dock","dockedSize","showBackdrop","closeOnClickBackdrop","closeOnClickOutside","openedChange"],[2,"margin-top","3rem"],["cfBlock","sidebar-item",1,"d-block",3,"routerLink","click"],["cfElem","text"],["cfElem","text-content"],[3,"appearancePortrait"],[4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListSortingDisabled","",3,"cdkDropListData","cdkDropListConnectedTo"],["class","d-block","cfBlock","sidebar-item",4,"ngFor","ngForOf"],["name","sidebar"],["cf-sidebar-content",""],[1,"scene__content",3,"ngStyle","ngClass"],["cfBlock","scene-content","cfMod","splash-screen",4,"ngIf"],["cfBlock","sidebar-item",1,"d-block",3,"click"],["cfBlock","button","cfMod","fab",2,"margin-top","15px",3,"ngClass"],["cfElem","icon",3,"src","svgClass"],["cfBlock","sidebar-item",1,"d-block"],["cdkDrag","","cfBlock","button","cfMod","fab",3,"cdkDragData","ngClass","ngStyle","click"],["cfBlock","scene-content","cfMod","splash-screen"],[3,"mods","displayLoadingTime","displayWelcomeTime","title","logo","backgroundColor","welcomeMessage","loadingTexts","splashScreenHide"],[1,"scene__container"],[1,"scene__content",3,"ngStyle"],["cfElem","navbar",3,"title","titleClick"]],template:function(o,g){1&o&&(u.\u0275\u0275template(0,Xo,8,7,"ng-container",0),u.\u0275\u0275pipe(1,"async")),2&o&&u.\u0275\u0275property("ngIf",u.\u0275\u0275pureFunction1(3,hs,u.\u0275\u0275pipeBind1(1,1,g.selectedAvatar$)))},directives:[Kn.NgIf,J.G,me.I,Me.e,In,ir.L,Gi.k,Zn.RouterLinkWithHref,ui.P,Kn.NgForOf,hr.Wj,Zn.RouterOutlet,Kn.NgStyle,Kn.NgClass,ut.b,hr.Zt,Ln.wn,Jo],pipes:[Kn.AsyncPipe],encapsulation:2,data:{animation:[(0,ce.X$)("sceneContentAnimationState",[(0,ce.eR)(`${sr.Idle} => ${sr.Animated}`,(0,ce._7)(Ws)),(0,ce.eR)(`${sr.Idle} => ${sr.Opened}`,(0,ce._7)(R,{params:{timing:.5}}))])]}}),_})();const ps=[{path:"",component:pr,children:[{path:"login",loadChildren:()=>l.e(12).then(l.bind(l,12)).then(_=>_.LoginModule),canActivate:[ds]},{path:"select-avatar",loadChildren:()=>l.e(700).then(l.bind(l,8700)).then(_=>_.SelectAvatarModule),canActivate:[ai]},{path:"create-avatar",loadChildren:()=>l.e(827).then(l.bind(l,3827)).then(_=>_.CreateAvatarModule),canActivate:[ai]},{path:"selected-avatar",loadChildren:()=>l.e(959).then(l.bind(l,1959)).then(_=>_.SelectedAvatarModule),canActivate:[ai,yr]},{path:"start",loadChildren:()=>l.e(45).then(l.bind(l,9045)).then(_=>_.StartModule),canActivate:[ai,yr]},{path:"portals",loadChildren:()=>l.e(350).then(l.bind(l,7350)).then(_=>_.PortalsModule),canActivate:[ai,yr]},{path:"manage-applications",loadChildren:()=>l.e(835).then(l.bind(l,9835)).then(_=>_.ManageApplicationsModule),canActivate:[ai,yr]},{path:"inventory",loadChildren:()=>l.e(740).then(l.bind(l,2740)).then(_=>_.InventoryModule),canActivate:[ai,yr]},{path:"marketplace",loadChildren:()=>l.e(483).then(l.bind(l,6483)).then(_=>_.MarketplaceModule),canActivate:[ai,yr]},{path:"settings",loadChildren:()=>l.e(672).then(l.bind(l,6672)).then(_=>_.SettingsModule),canActivate:[ai,yr]},{path:"",redirectTo:"start",pathMatch:"full"}]}];let du=(()=>{class _{}return _.\u0275fac=function(o){return new(o||_)},_.\u0275mod=u.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=u.\u0275\u0275defineInjector({imports:[[Zn.RouterModule.forRoot(ps)],Zn.RouterModule]}),_})();var qo=l(4968);const ms=_=>"touchend"===_.type||"touchcancel"===_.type?_.changedTouches[0]:_.type.startsWith("touch")?_.targetTouches[0]:_,Ra=_=>"touchstart"===_.type||"mousedown"===_.type&&0===_.button;let ea=(()=>{class _{constructor(o){this.resizeBegin=new u.EventEmitter,this.resizing=new u.EventEmitter,this.resizeEnd=new u.EventEmitter,this.element=o.nativeElement}ngAfterViewInit(){this.south&&this.createHandle("resize-handle-s"),this.east&&this.createHandle("resize-handle-e"),this.southEast&&this.createHandle("resize-handle-se");const o=window.getComputedStyle(this.element);this.minWidth=parseFloat(o.minWidth),this.maxWidth=parseFloat(o.maxWidth),this.minHeight=parseFloat(o.minHeight),this.maxHeight=parseFloat(o.maxHeight)}ngOnDestroy(){this.destroySubscription()}onMousedown(o){if(!Ra(o))return;const g=o.target.classList,N=g.contains("resize-handle-s"),Q=g.contains("resize-handle-e"),ue=g.contains("resize-handle-se"),fe=ms(o),Se=this.element.clientWidth,Le=this.element.clientHeight,Ye=fe.screenX,it=fe.screenY,bt=o.type.startsWith("touch"),jt=bt?"touchmove":"mousemove",gt=bt?"touchend":"mouseup";if(N||Q||ue){this.initResize(o,N,Q,ue);const St=(0,qo.R)(document,gt);this.subscription=St.subscribe(on=>this.onMouseup(on));const Ut=(0,qo.R)(document,jt).pipe((0,k.R)(St)).subscribe(on=>this.move(on,Se,Le,Ye,it));this.subscription.add(Ut)}}move(o,g,N,Q,ue){const fe=ms(o),Le=fe.screenY-ue;this.newWidth=g+(fe.screenX-Q),this.newHeight=N+Le,this.resizeWidth(fe),this.resizeHeight(fe)}onMouseup(o){this.endResize(o),this.destroySubscription()}destroySubscription(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)}createHandle(o){const g=document.createElement("span");g.className=o,this.element.appendChild(g)}initResize(o,g,N,Q){g&&(this.resizingS=!0),N&&(this.resizingE=!0),Q&&(this.resizingSE=!0),this.element.classList.add("resizing"),this.newWidth=this.element.clientWidth,this.newHeight=this.element.clientHeight,o.stopPropagation(),this.resizeBegin.emit()}endResize(o){this.resizingS=!1,this.resizingE=!1,this.resizingSE=!1,this.element.classList.remove("resizing"),this.resizeEnd.emit({event:ms(o),width:this.newWidth,height:this.newHeight})}resizeWidth(o){(this.resizingSE||this.resizingE)&&(!this.minWidth||this.newWidth>=this.minWidth)&&(!this.maxWidth||this.newWidth<=this.maxWidth)&&(this.ghost||(this.element.style.width=`${this.newWidth}px`),this.resizing.emit({event:o,width:this.newWidth,height:this.newHeight,direction:"horizontal"}))}resizeHeight(o){(this.resizingSE||this.resizingS)&&(!this.minHeight||this.newHeight>=this.minHeight)&&(!this.maxHeight||this.newHeight<=this.maxHeight)&&(this.ghost||(this.element.style.height=`${this.newHeight}px`),this.resizing.emit({event:o,width:this.newWidth,height:this.newHeight,direction:"vertical"}))}}return _.\u0275fac=function(o){return new(o||_)(u.\u0275\u0275directiveInject(u.ElementRef))},_.\u0275dir=u.\u0275\u0275defineDirective({type:_,selectors:[["","cfResizable",""]],hostBindings:function(o,g){1&o&&u.\u0275\u0275listener("mousedown",function(Q){return g.onMousedown(Q)})("touchstart",function(Q){return g.onMousedown(Q)})},inputs:{south:"south",east:"east",southEast:"southEast",ghost:"ghost"},outputs:{resizeBegin:"resizeBegin",resizing:"resizing",resizeEnd:"resizeEnd"}}),_})(),fu=(()=>{class _{constructor(o,g){this.element=o,this.ngZone=g,this.dragX=!0,this.dragY=!0,this.dragStart=new u.EventEmitter,this.dragMove=new u.EventEmitter,this.dragEnd=new u.EventEmitter,this.isDragging=!1,this.globalListeners=new Map}ngOnChanges(o){o.dragEventTarget&&o.dragEventTarget.currentValue&&this.onMousedown(this.dragEventTarget)}ngOnDestroy(){this.removeEventListener()}onMousedown(o){if(Ra(o)&&(this.dragX||this.dragY)){const g=ms(o);this.initDrag(g.pageX,g.pageY),this.addEventListeners(o),this.dragStart.emit(o)}}onMousemove(o){const g=ms(o);this.onDrag(g.pageX,g.pageY),this.dragMove.emit(o)}onMouseup(o){this.endDrag(),this.removeEventListener(),this.dragEnd.emit(o)}addEventListeners(o){const g=o.type.startsWith("touch"),Q=g?"touchend":"mouseup";this.globalListeners.set(g?"touchmove":"mousemove",{handler:ue=>this.onMousemove(ue),options:!1}).set(Q,{handler:ue=>this.onMouseup(ue),options:!1}),this.ngZone.runOutsideAngular(()=>{this.globalListeners.forEach((ue,fe)=>{window.document.addEventListener(fe,ue.handler,ue.options)})})}removeEventListener(){this.globalListeners.forEach((o,g)=>{window.document.removeEventListener(g,o.handler,o.options)})}initDrag(o,g){this.isDragging=!0,this.lastPageX=o,this.lastPageY=g,this.element.nativeElement.classList.add("dragging")}onDrag(o,g){if(this.isDragging){const N=o-this.lastPageX,Q=g-this.lastPageY,ue=this.element.nativeElement.getBoundingClientRect();this.element.nativeElement.style.left=ue.left+N+"px",this.element.nativeElement.style.top=ue.top+Q+"px",this.lastPageX=o,this.lastPageY=g}}endDrag(){this.isDragging=!1,this.element.nativeElement.classList.remove("dragging")}}return _.\u0275fac=function(o){return new(o||_)(u.\u0275\u0275directiveInject(u.ElementRef),u.\u0275\u0275directiveInject(u.NgZone))},_.\u0275dir=u.\u0275\u0275defineDirective({type:_,selectors:[["","cfDraggable",""]],inputs:{dragEventTarget:"dragEventTarget",dragX:"dragX",dragY:"dragY"},outputs:{dragStart:"dragStart",dragMove:"dragMove",dragEnd:"dragEnd"},features:[u.\u0275\u0275NgOnChangesFeature]}),_})();const li=["modalRoot"],xa=["modalBody"],hu=["modalHeader"],pu=["modalFooter"],mu=["closeIcon"],gu=function(){return["light","small","has-icon","only-icon","rounded"]};function vu(_,c){if(1&_){const o=u.\u0275\u0275getCurrentView();u.\u0275\u0275elementStart(0,"button",6),u.\u0275\u0275listener("click",function(N){return u.\u0275\u0275restoreView(o),u.\u0275\u0275nextContext().toggleMaximize(N)}),u.\u0275\u0275element(1,"cf-svg-icon",15),u.\u0275\u0275elementEnd()}if(2&_){const o=u.\u0275\u0275nextContext();u.\u0275\u0275property("cfMod",u.\u0275\u0275pureFunction0(2,gu)),u.\u0275\u0275advance(1),u.\u0275\u0275property("src",o.maximized?"assets/icons/mdi/window-restore.svg":"assets/icons/mdi/window-maximize.svg")}}const El=[[["",8,"window-header__content"]],[["",8,"window-body__content"]],[["",8,"window-footer__content"]]],Sl=function(_){return{maximized:_}},Fa=function(){return["danger","small","has-icon","only-icon","rounded"]},_u=[".window-header__content",".window-body__content",".window-footer__content"];let yu=(()=>{class _{constructor(o){this.element=o,this.scrollTopEnable=!0,this.maximizable=!1,this.backdrop=!0,this.openModal=new u.EventEmitter,this.closeModal=new u.EventEmitter,this.resizeModal=new u.EventEmitter,this.maximizeModal=new u.EventEmitter}ngAfterViewChecked(){this.executePostDisplayActions&&(this.center(),this.executePostDisplayActions=!1)}onKeyDown(o){o.preventDefault(),o.stopPropagation(),this.hide()}onWindowResize(){this.executePostDisplayActions=!0,this.center()}show(){this.executePostDisplayActions=!0,this.visible=!0,setTimeout(()=>{this.modalRoot.nativeElement.focus(),this.scrollTopEnable&&(this.modalBody.nativeElement.scrollTop=0),this.openModal.emit(!0)},1)}hide(){this.visible=!1,this.closeModal.emit(!0),this.focusLastModal()}center(){let o=this.modalRoot.nativeElement.offsetWidth,g=this.modalRoot.nativeElement.offsetHeight;0===o&&0===g&&(this.modalRoot.nativeElement.style.visibility="hidden",this.modalRoot.nativeElement.style.display="block",o=this.modalRoot.nativeElement.offsetWidth,g=this.modalRoot.nativeElement.offsetHeight,this.modalRoot.nativeElement.style.display="none",this.modalRoot.nativeElement.style.visibility="visible");const N=Math.max((window.innerWidth-o)/2,0),Q=Math.max((window.innerHeight-g)/2,0);this.modalRoot.nativeElement.style.left=N+"px",this.modalRoot.nativeElement.style.top=Q+"px"}initDrag(o){o.target!==this.closeIcon.nativeElement&&(this.maximized||(this.dragEventTarget=o))}onResize(o){"vertical"===o.direction&&this.calcBodyHeight(),this.resizeModal.emit(o)}calcBodyHeight(){this.modalBody.nativeElement.style.height=this.modalRoot.nativeElement.offsetHeight-(this.modalHeader.nativeElement.offsetHeight+this.modalFooter.nativeElement.offsetHeight)+"px",this.modalBody.nativeElement.style.maxHeight="none"}getMaxModalIndex(){return((_="body *")=>Array.from(document.querySelectorAll(_)).map(c=>parseFloat(window.getComputedStyle(c).zIndex)).filter(c=>!isNaN(c)).sort((c,o)=>c-o).pop()||0)(".ui-modal")}focusLastModal(){const o=((_,c)=>{if("function"==typeof _.closest)return _.closest(c)||null;for(;_;){if(_.matches(c))return _;_=_.parentElement}return null})(this.element.nativeElement.parentElement,".window-modal");o&&o.focus()}toggleMaximize(o){this.maximized?this.revertMaximize():this.maximize(),this.maximizeModal.emit(this.maximized),o.preventDefault()}maximize(){this.preMaximizePageX=parseFloat(this.modalRoot.nativeElement.style.top),this.preMaximizePageY=parseFloat(this.modalRoot.nativeElement.style.left),this.preMaximizeRootWidth=this.modalRoot.nativeElement.offsetWidth,this.preMaximizeRootHeight=this.modalRoot.nativeElement.offsetHeight,this.preMaximizeBodyHeight=this.modalBody.nativeElement.offsetHeight,this.modalRoot.nativeElement.style.top="0px",this.modalRoot.nativeElement.style.left="0px",this.modalRoot.nativeElement.style.width="100vw",this.modalRoot.nativeElement.style.height="100vh",this.modalBody.nativeElement.style.height="calc(100vh - "+(this.modalHeader.nativeElement.offsetHeight+this.modalFooter.nativeElement.offsetHeight)+"px)",this.modalBody.nativeElement.style.maxHeight="none",this.maximized=!0}revertMaximize(){this.modalRoot.nativeElement.style.top=this.preMaximizePageX+"px",this.modalRoot.nativeElement.style.left=this.preMaximizePageY+"px",this.modalRoot.nativeElement.style.width=this.preMaximizeRootWidth+"px",this.modalRoot.nativeElement.style.height=this.preMaximizeRootHeight+"px",this.modalBody.nativeElement.style.height=this.preMaximizeBodyHeight+"px",this.maximized=!1}moveOnTop(){if(!this.backdrop){const o=this.getMaxModalIndex();let g=parseFloat(window.getComputedStyle(this.modalRoot.nativeElement).zIndex)||0;g<=o&&(g=o+1,this.modalRoot.nativeElement.style.zIndex=g.toString())}}}return _.\u0275fac=function(o){return new(o||_)(u.\u0275\u0275directiveInject(u.ElementRef))},_.\u0275cmp=u.\u0275\u0275defineComponent({type:_,selectors:[["cf-window"]],viewQuery:function(o,g){if(1&o&&(u.\u0275\u0275viewQuery(li,5),u.\u0275\u0275viewQuery(xa,5),u.\u0275\u0275viewQuery(hu,5),u.\u0275\u0275viewQuery(pu,5),u.\u0275\u0275viewQuery(mu,5)),2&o){let N;u.\u0275\u0275queryRefresh(N=u.\u0275\u0275loadQuery())&&(g.modalRoot=N.first),u.\u0275\u0275queryRefresh(N=u.\u0275\u0275loadQuery())&&(g.modalBody=N.first),u.\u0275\u0275queryRefresh(N=u.\u0275\u0275loadQuery())&&(g.modalHeader=N.first),u.\u0275\u0275queryRefresh(N=u.\u0275\u0275loadQuery())&&(g.modalFooter=N.first),u.\u0275\u0275queryRefresh(N=u.\u0275\u0275loadQuery())&&(g.closeIcon=N.first)}},hostBindings:function(o,g){1&o&&u.\u0275\u0275listener("keydown.esc",function(Q){return g.onKeyDown(Q)})("resize",function(){return g.onWindowResize()},!1,u.\u0275\u0275resolveWindow)},inputs:{scrollTopEnable:"scrollTopEnable",maximizable:"maximizable",backdrop:"backdrop"},outputs:{openModal:"openModal",closeModal:"closeModal",resizeModal:"resizeModal",maximizeModal:"maximizeModal"},ngContentSelectors:_u,decls:18,vars:14,consts:[["cfBlock","window-overlay"],["cfBlock","window","tabindex","-1","role","dialog","cfResizable","","cfDraggable","",3,"cfMod","south","east","southEast","dragEventTarget","resizing","mousedown","touchstart"],["modalRoot",""],["cfBlock","window-header",3,"mousedown","touchstart"],["modalHeader",""],["cfElem","controls"],["cfBlock","button",3,"cfMod","click"],["closeIcon",""],["src","assets/icons/mdi/close.svg","cfElem","icon"],["cfBlock","button",3,"cfMod","click",4,"ngIf"],["cfElem","title"],["cfBlock","window-body"],["modalBody",""],["cfBlock","window-footer"],["modalFooter",""],["cfElem","icon",3,"src"]],template:function(o,g){1&o&&(u.\u0275\u0275projectionDef(El),u.\u0275\u0275element(0,"div",0),u.\u0275\u0275elementStart(1,"div",1,2),u.\u0275\u0275listener("resizing",function(Q){return g.onResize(Q)})("mousedown",function(){return g.moveOnTop()})("touchstart",function(){return g.moveOnTop()}),u.\u0275\u0275elementStart(3,"div",3,4),u.\u0275\u0275listener("mousedown",function(Q){return g.initDrag(Q)})("touchstart",function(Q){return g.initDrag(Q)}),u.\u0275\u0275elementStart(5,"div",5),u.\u0275\u0275elementStart(6,"button",6,7),u.\u0275\u0275listener("click",function(){return g.hide()}),u.\u0275\u0275element(8,"cf-svg-icon",8),u.\u0275\u0275elementEnd(),u.\u0275\u0275template(9,vu,2,3,"button",9),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(10,"div",10),u.\u0275\u0275projection(11),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(12,"div",11,12),u.\u0275\u0275projection(14,1),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(15,"div",13,14),u.\u0275\u0275projection(17,2),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementEnd()),2&o&&(u.\u0275\u0275styleProp("display",g.visible&&g.backdrop?"block":"none"),u.\u0275\u0275advance(1),u.\u0275\u0275styleProp("display",g.visible?"block":"none"),u.\u0275\u0275property("cfMod",u.\u0275\u0275pureFunction1(11,Sl,g.maximized))("south",!0)("east",!0)("southEast",!0)("dragEventTarget",g.dragEventTarget),u.\u0275\u0275advance(5),u.\u0275\u0275property("cfMod",u.\u0275\u0275pureFunction0(13,Fa)),u.\u0275\u0275advance(3),u.\u0275\u0275property("ngIf",g.maximizable))},directives:[J.G,ea,fu,me.I,Me.e,ut.b,Kn.NgIf],encapsulation:2}),_})();const bu=["rootWindow"];function Ks(_,c){1&_&&u.\u0275\u0275element(0,"cf-splash-screen")}let zr=(()=>{class _{constructor(){this.environment=ri}ngOnInit(){this.environment.demo&&this.rootWindow.show()}}return _.\u0275fac=function(o){return new(o||_)},_.\u0275cmp=u.\u0275\u0275defineComponent({type:_,selectors:[["cf-portal-root"]],viewQuery:function(o,g){if(1&o&&u.\u0275\u0275viewQuery(bu,7),2&o){let N;u.\u0275\u0275queryRefresh(N=u.\u0275\u0275loadQuery())&&(g.rootWindow=N.first)}},decls:19,vars:2,consts:[["id","bgcanvas"],[4,"ngIf"],[1,"application"],[3,"maximizable"],["rootWindow",""],[1,"window-header__content"],[1,"window-body__content"],["href","https://github.com/central-factory/metaverse","target","_blank"],[1,"window-footer__content"],["cfBlock","button","cfMod","primary",3,"click"]],template:function(o,g){if(1&o){const N=u.\u0275\u0275getCurrentView();u.\u0275\u0275element(0,"canvas",0),u.\u0275\u0275template(1,Ks,1,0,"cf-splash-screen",1),u.\u0275\u0275elementStart(2,"div",2),u.\u0275\u0275element(3,"router-outlet"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(4,"cf-window",3,4),u.\u0275\u0275elementContainerStart(6,5),u.\u0275\u0275text(7,"A message from the author"),u.\u0275\u0275elementContainerEnd(),u.\u0275\u0275elementContainerStart(8,6),u.\u0275\u0275elementStart(9,"h3"),u.\u0275\u0275text(10,"Welcome to The Central Factory Metaverse"),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementStart(11,"p"),u.\u0275\u0275text(12," This is a demo release of The Central Factory Metaverse project. Not all features are implemented yet, you might find many issues and unexpected behaviours. You can give us your feedback on "),u.\u0275\u0275elementStart(13,"a",7),u.\u0275\u0275text(14,"the project page"),u.\u0275\u0275elementEnd(),u.\u0275\u0275text(15,". Thank you for getting interested on this project. "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementContainerEnd(),u.\u0275\u0275elementContainerStart(16,8),u.\u0275\u0275elementStart(17,"button",9),u.\u0275\u0275listener("click",function(){return u.\u0275\u0275restoreView(N),u.\u0275\u0275reference(5).hide()}),u.\u0275\u0275text(18," I'm ready! "),u.\u0275\u0275elementEnd(),u.\u0275\u0275elementContainerEnd(),u.\u0275\u0275elementEnd()}2&o&&(u.\u0275\u0275advance(1),u.\u0275\u0275property("ngIf",g.environment.showSplashScreen),u.\u0275\u0275advance(3),u.\u0275\u0275property("maximizable",!0))},directives:[Kn.NgIf,Zn.RouterOutlet,yu,J.G,me.I,Ln.wn],styles:["#bgcanvas[_ngcontent-%COMP%]{display:block;margin:0 auto;width:100vw;height:100vh;position:fixed;z-index:-1}"]}),_})();var Gs=l(1718);let Eu=(()=>{class _{}return _.\u0275fac=function(o){return new(o||_)},_.\u0275mod=u.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=u.\u0275\u0275defineInjector({imports:[[Pr.Y,si.O]]}),_})();var ka=l(5687),Su=l(9398);let La=(()=>{class _{}return _.\u0275fac=function(o){return new(o||_)},_.\u0275mod=u.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=u.\u0275\u0275defineInjector({imports:[[Kn.CommonModule,si.O,Pr.Y,Su.v]]}),_})(),Qs=(()=>{class _{}return _.\u0275fac=function(o){return new(o||_)},_.\u0275mod=u.\u0275\u0275defineNgModule({type:_}),_.\u0275inj=u.\u0275\u0275defineInjector({imports:[[Kn.CommonModule,Pr.Y,si.O,hr._t,Zn.RouterModule,Eu,ka.l,$r.x,Gs.y,La]]}),_})(),ta=(()=>{class _{constructor(o){this.customizationSettingsState=o,this.renderProcessRunning=!1,this.textColor="#22b455",this.initialize()}initialize(){this.themeChangeSubscription&&this.themeChangeSubscription.unsubscribe(),this.themeChangeSubscription=this.customizationSettingsState.customizationSettings$.pipe((0,M.U)(o=>o?.theme.name),(0,H.x)((o,g)=>o===g),(0,oi.b)(o=>this.onThemeChange(o))).subscribe()}onThemeChange(o){const g=document.getElementsByClassName("application")[0];if(!g||!o)return void setTimeout(()=>this.initialize(),1e3);if(this.currentTheme===o)return;this.currentTheme=o;const N=new ResizeObserver(Q=>{for(const ue of Q)if(ue.contentBoxSize){const fe=document.getElementById("bgcanvas"),Se=Array.isArray(ue.contentBoxSize)?ue.contentBoxSize[0]:ue.contentBoxSize;fe.width=Se.inlineSize,fe.height=window.innerHeight;const Le=this.initializeMatrix();this.renderTick(()=>this.renderMatrix(Le))}});switch(o){case"Matrix":this.textColor="#22b455",g.classList.add("application--no-background-color"),N.observe(document.documentElement);break;case"Metaverse":this.textColor="#9575cd",g.classList.add("application--no-background-color"),N.observe(document.documentElement);break;default:N.unobserve(document.documentElement),clearTimeout(this.renderTimeout),delete this.renderTimeout,this.renderProcessRunning=!1,g.classList.remove("application--no-background-color")}}initializeMatrix(){const N=document.getElementById("bgcanvas"),Q=N.getContext("2d"),ue=[],fe=Math.ceil(N.height/20);for(let Se=0;Se<N.width/20;++Se)ue.push({x:20*Se,stackHeight:10+Math.random()*fe,stackCounter:0});return{tileSize:20,fadeFactor:.05,canvas:N,ctx:Q,maxStackHeight:fe,columns:ue}}renderTick(o,g=50){this.renderProcessRunning||(this.renderProcessRunning=!0,o(),this.renderTimeout=window.setTimeout(()=>{this.renderProcessRunning=!1,this.renderTick(o,g)},g))}renderMatrix({ctx:o,fadeFactor:g,canvas:N,tileSize:Q,maxStackHeight:ue,columns:fe}){o.fillStyle="rgba( 0 , 0 , 0 , "+g+" )",o.fillRect(0,0,N.width,N.height),o.font=Q-2+"px monospace",o.fillStyle=this.textColor;for(let Se=0;Se<fe.length;++Se){const Le=String.fromCharCode(33+Math.floor(94*Math.random()));o.fillText(Le,fe[Se].x,fe[Se].stackCounter*Q+Q),++fe[Se].stackCounter>=fe[Se].stackHeight&&(fe[Se].stackHeight=10+Math.random()*ue,fe[Se].stackCounter=0)}}}return _.\u0275fac=function(o){return new(o||_)(u.\u0275\u0275inject(as.T))},_.\u0275prov=u.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),na=(()=>{class _{}return _.\u0275fac=function(o){return new(o||_)},_.\u0275mod=u.\u0275\u0275defineNgModule({type:_,bootstrap:[zr]}),_.\u0275inj=u.\u0275\u0275defineInjector({providers:[{provide:u.APP_INITIALIZER,useFactory:()=>()=>null,deps:[as.T,ta],multi:!0},ss,js,ii,Vo,go,Qn,mo,Uo,Oi,Di],imports:[[i.b2,No,Ee.HttpClientModule,Pr.Y.forRoot(),si.O,Qs,$r.x,Ki,b,du,wn.forRoot({enabled:ri.useMocks,autologin:ri.autologin})]]}),_})();ri.production&&(0,u.enableProdMode)(),i.q6().bootstrapModule(na).catch(_=>console.error(_))},4995:(he,z,l)=>{l.d(z,{B:()=>i,c:()=>u});var i=(()=>{return(C=i||(i={})).Webview="webview",C.WebpackModuleFederation="webpack-module-federation",C.Unknown="unknown",i;var C})(),u=(()=>{return(C=u||(u={})).Primary="primary",C.Secondary="secondary",C.Success="success",C.Warning="warning",C.Danger="danger",C.Info="info",C.Light="light",C.Dark="dark",u;var C})()},9813:(he,z,l)=>{l.d(z,{o:()=>U,O:()=>B});var i=l(9841),u=l(4004),C=l(7678),L=l(3395),j=l(7777),U=(()=>{return(S=U||(U={}))[S.User=0]="User",S[S.Store=1]="Store",U;var S})();let B=(()=>{class S{constructor(E,M){this.storeApplicationsState=E,this.userApplicationsState=M,this.applications$=(0,i.a)([this.storeApplicationsState.applications$,this.userApplicationsState.applications$]).pipe((0,u.U)(([T,k])=>[...k.map(I=>({origin:U.User,application:I})),...T.map(I=>({origin:U.Store,application:I}))].filter((I,b,v)=>v.findIndex(d=>I.application.id===d.application.id)===b)))}}return S.\u0275fac=function(E){return new(E||S)(j.\u0275\u0275inject(C.I),j.\u0275\u0275inject(L.g))},S.\u0275prov=j.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},6961:(he,z,l)=>{l.d(z,{r:()=>L});var i=l(1135),u=l(7777);let L=(()=>{class j{constructor(){this.applications$=new i.X([]),this.maxApplications=4}addApplication(U){const B=this.applications$.getValue();B.find(w=>w.id===U.id)||(B.length>=this.maxApplications&&B.shift(),B.unshift(U),this.applications$.next(B))}}return j.\u0275fac=function(U){return new(U||j)},j.\u0275prov=u.\u0275\u0275defineInjectable({token:j,factory:j.\u0275fac,providedIn:"root"}),j})()},4918:(he,z,l)=>{l.d(z,{H:()=>U});var i=l(9813),u=l(1135),C=l(4004),L=l(8505),j=l(7777);let U=(()=>{class B{constructor(w){this.availableApplicationsState=w,this.application$=new u.X(void 0),this.sidebarIsOpen$=new u.X(!1)}listenForChanges(w){this.changesSubscription&&this.changesSubscription.unsubscribe(),w?this.changesSubscription=this.availableApplicationsState.applications$.pipe((0,C.U)(E=>E.find(M=>M.application.id===w)),(0,L.b)(E=>this.application$.next(E?.application))).subscribe():this.application$.next(void 0)}selectApplication(w){this.listenForChanges(w.id)}unselectApplication(){this.listenForChanges(void 0)}openSidebar(){this.sidebarIsOpen$.next(!0)}closeSidebar(){this.sidebarIsOpen$.next(!1)}}return B.\u0275fac=function(w){return new(w||B)(j.\u0275\u0275inject(i.O))},B.\u0275prov=j.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})()},7678:(he,z,l)=>{l.d(z,{I:()=>k});var i=l(9283),C=l(1549),L=l(1135),j=l(9646),F=l(4128),U=l(8505),B=l(3099),S=l(4004),w=l(3900),E=l(4995),M=l(7777);let k=(()=>{class I{constructor(v,d){this.httpClient=v,this.userPreferencesState=d,this.applications$=new L.X([]),this.featured$=this.applications$.pipe((0,B.B)()),this.hot$=this.applications$.pipe((0,B.B)()),this.byCategory$=this.applications$.pipe((0,S.U)(a=>a.reduce((m,h)=>{const W=h.categories;return!W||!W.length||W.forEach(ae=>{m[ae]||(m[ae]=[]),m[ae].push(h)}),m},{}))),this.byAuthor$=this.applications$.pipe((0,S.U)(a=>a.reduce((m,h)=>{const W=h.additionalProperties?.author;return W&&(m[W.id]=m[W.id]||[],m[W.id].push(h)),m},{}))),this.topAuthors$=this.byAuthor$.pipe((0,S.U)(a=>Object.keys(a).sort((h,W)=>a[W].length-a[h].length).filter(h=>a[h].length>2).map(h=>a[h][0].additionalProperties?.author).slice(0,5))),this.storeDataUrl="https://raw.githubusercontent.com/central-factory/web-application-manifests/main/applications.json",this.userPreferencesState.byKey("store.settings.repositories").pipe((0,S.U)(a=>a?.value||[]),(0,w.w)(a=>a?(0,F.D)(a.map(m=>this.httpClient.get(m.url))).pipe((0,S.U)(m=>m.reduce((h,W)=>h.concat(W),[]))):(0,j.of)([])),(0,U.b)(a=>{this.applications$.next(a.map(m=>{const W={color:this.getPrimaryColor(m)||"#000000",variation:E.c.Primary};return{...m,createdAt:m.createdAt||(new Date).toISOString(),updatedAt:m.updatedAt||(new Date).toISOString(),additionalProperties:{...m.additionalProperties,author:m.additionalProperties?.author||{id:m.id,name:m.name},renderingType:m.additionalProperties?.renderingType||E.B.Webview,supportsBrowser:m.additionalProperties?.supportsBrowser||!1,internal:!1,permissions:m.additionalProperties?.permissions||[],defaultShortcut:m.additionalProperties?.defaultShortcut||(m.shortcuts?m.shortcuts[0].name:void 0),sidebarShortcuts:m.additionalProperties?.sidebarShortcuts||(m.shortcuts?[m.shortcuts[0].name]:[]),colors:m.additionalProperties?.colors||[W]}}}))})).subscribe()}getPrimaryColor(v){if(v.additionalProperties?.colors&&v.additionalProperties?.colors.length>0){const a=v.additionalProperties?.colors?.find(m=>m.variation===E.c.Primary);if(a)return a?.color}return v.themeColor||v.backgroundColor}}return I.\u0275fac=function(v){return new(v||I)(M.\u0275\u0275inject(i.HttpClient),M.\u0275\u0275inject(C.w))},I.\u0275prov=M.\u0275\u0275defineInjectable({token:I,factory:I.\u0275fac,providedIn:"root"}),I})()},3395:(he,z,l)=>{l.d(z,{g:()=>B});var i=l(6435),u=l(1135),C=l(3900),L=l(4128),j=l(8505),F=l(7777);let B=(()=>{class S{constructor(E){this.entityManager=E,this.applications$=new u.X([]),this.entityManager.initialize$.pipe((0,C.w)(()=>(0,L.D)([this.entityManager.getRepository("userapplications","com.central-factory.portals")])),(0,j.b)(([M])=>{this.userApplicationsRepository=M,this.subscribeToDataChanges()})).subscribe()}addApplication(E){if(!this.userApplicationsRepository)throw new Error("Repositories not initialized");return this.userApplicationsRepository.upsert(E)}subscribeToDataChanges(){if(!this.userApplicationsRepository)throw new Error("Repositories not initialized");this.userApplicationsRepository.observe().pipe((0,j.b)(E=>this.applications$.next(E))).subscribe()}}return S.\u0275fac=function(E){return new(E||S)(F.\u0275\u0275inject(i.v2))},S.\u0275prov=F.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},5088:(he,z,l)=>{l.d(z,{R:()=>i});var i=(()=>{return(u=i||(i={})).Unknown="unknown",u.Currency="currency",u.Land="land",u.Material="material",u.Building="building",u.Equipment="equipment",u.Furniture="furniture",u.Machine="machine",u.Vehicle="vehicle",u.MediaResource="media-resource",u.Consumable="consumable",u.Other="other",i;var u})()},120:(he,z,l)=>{l.d(z,{g:()=>i});var i=(()=>{return(u=i||(i={})).Model="Model",u.Image="Image",i;var u})()},7165:(he,z,l)=>{l.d(z,{Y:()=>E});var i=l(6435),u=l(1135),C=l(3900),L=l(4128),j=l(8505),F=l(2843),U=l(9646),B=l(4004),S=l(7777);let E=(()=>{class M{constructor(k){this.entityManager=k,this.avatar$=new u.X(void 0),this.entityManager.initialize$.pipe((0,C.w)(()=>(0,L.D)([this.entityManager.getRepository("userpreferences","com.central-factory.avatars"),this.entityManager.getRepository("useravatars","com.central-factory.avatars")])),(0,j.b)(([I,b])=>{this.userPreferencesRepository=I,this.userAvatarsRepository=b,this.subscribeToDataChanges()})).subscribe()}selectAvatar(k){return this.userPreferencesRepository?this.userPreferencesRepository.upsert({id:"userAvatars.selectedAvatar",key:"userAvatars.selectedAvatar",value:k.id}):(0,F._)(()=>new Error("Repositories not initialized"))}selectAppearance(k){if(!this.userAvatarsRepository)return(0,F._)(()=>new Error("Repositories not initialized"));const I=this.avatar$.getValue();if(!I)return(0,F._)(()=>new Error("Avatar not selected"));const b=JSON.parse(JSON.stringify(I));return b.selectedAppearance=k,this.userAvatarsRepository.upsert(b)}subscribeToDataChanges(){if(!this.userAvatarsRepository||!this.userPreferencesRepository)throw new Error("Repositories not initialized");this.userPreferencesRepository.observeOne({selector:{id:"userAvatars.selectedAvatar"}}).subscribe(k=>{this.avatarQuerySubscription&&this.avatarQuerySubscription.unsubscribe(),k&&this.userAvatarsRepository&&(this.avatarQuerySubscription=this.userAvatarsRepository.observeOne({selector:{id:k.value}}).pipe((0,C.w)(I=>I&&I._attachments&&Object.keys(I._attachments).length>0&&I?this.userAvatarsRepository.getAllAttachments(I.id).pipe((0,B.U)(v=>(I.appearances.forEach(d=>{const a=v.find(h=>h.id===d.portrait.id);a&&(d.portrait.src=URL.createObjectURL(a.data));const m=v.find(h=>h.id===d.id);m&&(d.src=URL.createObjectURL(m.data))}),I.selectedAppearance=I.appearances.find(d=>d.id===I.selectedAppearance.id),I))):(0,U.of)(I)),(0,j.b)(I=>this.avatar$.next(I))).subscribe())})}}return M.\u0275fac=function(k){return new(k||M)(S.\u0275\u0275inject(i.v2))},M.\u0275prov=S.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac,providedIn:"root"}),M})()},405:(he,z,l)=>{l.d(z,{P:()=>E});var i=l(7777),C=l(1481),L=l(1623),j=l(1457),U=l(3454),B=l(9750);function S(M,T){if(1&M&&i.\u0275\u0275element(0,"img",3),2&M){const k=i.\u0275\u0275nextContext();i.\u0275\u0275property("src",k.src,i.\u0275\u0275sanitizeUrl)}}function w(M,T){if(1&M&&i.\u0275\u0275element(0,"cf-svg-icon",4),2&M){const k=i.\u0275\u0275nextContext();i.\u0275\u0275property("src",k.emptyIcon)}}let E=(()=>{class M{constructor(k){this.domSanitizer=k,this.emptyIcon="assets/icons/mdi/head-question.svg",this.showEmptyIcon=!1}set appearancePortrait(k){this.src=k?.src?this.domSanitizer.bypassSecurityTrustUrl(k.src):void 0}}return M.\u0275fac=function(k){return new(k||M)(i.\u0275\u0275directiveInject(C.H7))},M.\u0275cmp=i.\u0275\u0275defineComponent({type:M,selectors:[["cf-avatar-appearance-portrait"]],inputs:{appearancePortrait:"appearancePortrait",emptyIcon:"emptyIcon",showEmptyIcon:"showEmptyIcon"},decls:3,vars:2,consts:[["cfBlock","avatar-appearance-portrait"],["cfElem","image",3,"src",4,"ngIf"],[3,"src",4,"ngIf"],["cfElem","image",3,"src"],[3,"src"]],template:function(k,I){1&k&&(i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275template(1,S,1,1,"img",1),i.\u0275\u0275template(2,w,1,1,"cf-svg-icon",2),i.\u0275\u0275elementEnd()),2&k&&(i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",I.src),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",!I.src&&I.showEmptyIcon))},directives:[L.G,j.NgIf,U.e,B.b],encapsulation:2}),M})()},1718:(he,z,l)=>{l.d(z,{y:()=>U});var i=l(1457),C=l(4438),L=l(2051),j=l(7777);let U=(()=>{class B{}return B.\u0275fac=function(w){return new(w||B)},B.\u0275mod=j.\u0275\u0275defineNgModule({type:B}),B.\u0275inj=j.\u0275\u0275defineInjector({imports:[[i.CommonModule,C.O,L.Y]]}),B})()},899:(he,z,l)=>{l.d(z,{k:()=>i,R:()=>u});var i=(()=>((i||(i={})).Collection="collection",i))(),u=(()=>{return(C=u||(u={})).Read="read",C.Write="write",C.Delete="delete",u;var C})()},6435:(he,z,l)=>{l.d(z,{RY:()=>ud,To:()=>ld,v2:()=>_g});var i={};l.r(i),l.d(i,{default:()=>Fo});var w,E,u=l(7777),C=l(1611),L=l.n(C);function j(e){return"$"+e}function F(e){return e.substring(1)}function U(){this._store={}}function B(e){if(this._store=new U,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}U.prototype.get=function(e){var t=j(e);return this._store[t]},U.prototype.set=function(e,t){var n=j(e);return this._store[n]=t,!0},U.prototype.has=function(e){return j(e)in this._store},U.prototype.delete=function(e){var t=j(e),n=t in this._store;return delete this._store[t],n},U.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,r=t.length;n<r;n++){var s=t[n];e(this._store[s],s=F(s))}},Object.defineProperty(U.prototype,"size",{get:function(){return Object.keys(this._store).length}}),B.prototype.add=function(e){return this._store.set(e,!0)},B.prototype.has=function(e){return this._store.has(e)},B.prototype.forEach=function(e){this._store.forEach(function(t,n){e(n)})},Object.defineProperty(B.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(w=Set,E=Map):(w=B,E=U);var M=l(3894),T=l.n(M),k=l(2302),I=l.n(k);function b(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}T()(b,Error),b.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new b(401,"unauthorized","Name or password is incorrect.");var d=new b(400,"bad_request","Missing JSON list of 'docs'"),a=new b(404,"not_found","missing"),m=new b(409,"conflict","Document update conflict"),h=new b(400,"bad_request","_id field must contain a string"),W=new b(412,"missing_id","_id is required for puts"),ae=new b(400,"bad_request","Only reserved document ids may start with underscore."),Ee=(new b(412,"precondition_failed","Database not open"),new b(500,"unknown_error","Database encountered an unknown error")),ce=new b(500,"badarg","Some query argument is invalid"),G=(new b(400,"invalid_request","Request was invalid"),new b(400,"query_parse_error","Some query parameter is invalid")),ee=new b(500,"doc_validation","Bad special document member"),X=new b(400,"bad_request","Something wrong with the request"),re=new b(400,"bad_request","Document must be a JSON object"),Oe=(new b(404,"not_found","Database not found"),new b(500,"indexed_db_went_bad","unknown")),De=(new b(500,"web_sql_went_bad","unknown"),new b(500,"levelDB_went_went_bad","unknown"),new b(403,"forbidden","Forbidden by design doc validate_doc_update function"),new b(400,"bad_request","Invalid rev format")),ve=(new b(412,"file_exists","The database could not be created, the file already exists."),new b(412,"missing_stub","A pre-existing attachment stub wasn't found"));function Ge(e,t){function n(r){for(var s=Object.getOwnPropertyNames(e),f=0,p=s.length;f<p;f++)"function"!=typeof e[s[f]]&&(this[s[f]]=e[s[f]]);void 0!==r&&(this.reason=r)}return n.prototype=b.prototype,new n(t)}function rt(e){if("object"!=typeof e){var t=e;(e=Ee).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}new b(413,"invalid_url","Provided URL is invalid");var yt=l(9069),at=l.n(yt);const zt=l(3306).v4;var En=function(e){return atob(e)},Pn=function(e){return btoa(e)};function Tn(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(f){if("TypeError"!==f.name)throw f;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),s=0;s<e.length;s+=1)r.append(e[s]);return r.getBlob(t.type)}}function qt(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),s=0;s<t;s++)r[s]=e.charCodeAt(s);return n}function Un(e,t){return Tn([qt(e)],{type:t})}function $e(e,t){return Un(En(e),t)}function pt(e,t){var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(s){var f=s.target.result||"";if(r)return t(f);t(function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,s=0;s<r;s++)t+=String.fromCharCode(n[s]);return t}(f))},r?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Rt(e,t){pt(e,function(n){t(n)})}var Sn=l(3625),xr=l.n(Sn),Wn=self.setImmediate||self.setTimeout;function Mn(e,t,n,r,s){(n>0||r<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,r)),function(e,t){var n=new FileReader;n.onloadend=function(r){var s=r.target.result||new ArrayBuffer(0);t(s)},n.readAsArrayBuffer(e)}(t,function(f){e.append(f),s()})}function qn(e,t,n,r,s){(n>0||r<t.length)&&(t=t.substring(n,r)),e.appendBinary(t),s()}function ur(e,t){var n="string"==typeof e,r=n?e.length:e.size,s=Math.min(32768,r),f=Math.ceil(r/s),p=0,O=n?new(xr()):new(xr().ArrayBuffer),$=n?qn:Mn;function Y(){Wn(ge)}function se(){var Re=function(e){return Pn(e)}(O.end(!0));t(Re),O.destroy()}function ge(){var _e=p*s;p++,$(O,e,_e,_e+s,p<f?Y:se)}ge()}function Er(e){return xr().hash(e)}var ye,qe,Cr=Function.prototype.toString,wr=Cr.call(Object);function hn(e){var t,n,r;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,r=e.length;n<r;n++)t[n]=hn(e[n]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return function(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),r=new Uint8Array(e);return n.set(r),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&Cr.call(n)==wr}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=hn(e[n]);void 0!==s&&(t[n]=s)}return t}function Br(e){var t=!1;return L()(function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)})}function ln(e){return L()(function(t){t=hn(t);var n=this,r="function"==typeof t[t.length-1]&&t.pop(),s=new Promise(function(f,p){var O;try{var $=Br(function(Y,se){Y?p(Y):f(se)});t.push($),(O=e.apply(n,t))&&"function"==typeof O.then&&f(O)}catch(Y){p(Y)}});return r&&s.then(function(f){r(null,f)},r),s})}function Xt(e,t){return ln(L()(function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var r=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var r=["api",e.name,t],s=0;s<n.length-1;s++)r.push(n[s]);e.constructor.emit("debug",r);var f=n[n.length-1];n[n.length-1]=function(p,O){var $=["api",e.name,t];$=$.concat(p?["error",p]:["success",O]),e.constructor.emit("debug",$),f(p,O)}}}(r,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise(function(s,f){r.taskqueue.addTask(function(p){p?f(p):s(r[e].apply(r,n))})})}))}function gr(e,t){for(var n={},r=0,s=t.length;r<s;r++){var f=t[r];f in e&&(n[f]=e[f])}return n}function lr(e){return e}function cr(e){return[{ok:e}]}function Ie(e,t,n){var r=t.docs,s=new E;r.forEach(function(be){s.has(be.id)?s.get(be.id).push(be):s.set(be.id,[be])});var f=s.size,p=0,O=new Array(f);var ge=[];s.forEach(function(be,Te){ge.push(Te)});var _e=0;!function Re(){if(!(_e>=ge.length)){var be=Math.min(_e+6,ge.length),Te=ge.slice(_e,be);(function(be,Te){be.forEach(function(Ue,ze){var Be=Te+ze,Qe=s.get(Ue),Je=gr(Qe[0],["atts_since","attachments"]);Je.open_revs=Qe.map(function(Xe){return Xe.rev}),Je.open_revs=Je.open_revs.filter(lr);var lt=lr;0===Je.open_revs.length&&(delete Je.open_revs,lt=cr),["revs","attachments","binary","ajax","latest"].forEach(function(Xe){Xe in t&&(Je[Xe]=t[Xe])}),e.get(Ue,Je,function(Xe,ft){var It;It=Xe?[{error:Xe}]:lt(ft),function(be,Te,Ue){O[be]={id:Te,docs:Ue},function(){var be;++p===f&&(be=[],O.forEach(function(Te){Te.docs.forEach(function(Ue){be.push({id:Te.id,docs:[Ue]})})}),n(null,{results:be}))}()}(Be,Ue,It),Re()})})})(Te,_e),_e+=Te.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),ye=!!localStorage.getItem("_pouch_check_localstorage")}catch{ye=!1}function de(){return ye}function ne(){var e;at().call(this),this._listeners={},e=this,de()&&addEventListener("storage",function(t){e.emit(t.key)})}function P(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}T()(ne,at()),ne.prototype.addListener=function(e,t,n,r){if(!this._listeners[t]){var s=this,f=!1;this._listeners[t]=p,this.on(e,p)}function p(){if(s._listeners[t])if(f)f="waiting";else{f=!0;var O=gr(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(O).on("change",function(Y){Y.seq>r.since&&!r.cancelled&&(r.since=Y.seq,r.onChange(Y))}).on("complete",function(){"waiting"===f&&I()(p),f=!1}).on("error",function(){f=!1})}}},ne.prototype.removeListener=function(e,t){t in this._listeners&&(at().prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},ne.prototype.notifyLocalWindows=function(e){de()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},ne.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)},qe="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t};var Tt=qe;function sn(e){for(var t=[],n=0,r=e.length;n<r;n++)t=t.concat(e[n]);return t}function Xi(e){var t;if(e?"string"!=typeof e?t=Ge(h):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=Ge(ae)):t=Ge(W),t)throw t}function Hn(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(P("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function bs(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function qi(e){var t=bs(e);return t?t.join("/"):null}function Mi(e,t){var n=[],r=[];for(var s in t)t.hasOwnProperty(s)&&(n.push(s),r.push(t[s]));return n.push(e),Function.apply(null,n).apply(null,r)}function Yr(e,t,n){return new Promise(function(r,s){e.get(t,function(f,p){if(f){if(404!==f.status)return s(f);p={}}var O=p._rev,$=n(p);if(!$)return r({updated:!1,rev:O});$._id=t,$._rev=O,r(function(e,t,n){return e.put(t).then(function(r){return{updated:!0,rev:r.rev}},function(r){if(409!==r.status)throw r;return Yr(e,t._id,n)})}(e,$,n))})})}function Ri(e,t){var n=hn(e);return t?(delete n._rev_tree,Er(JSON.stringify(n))):zt().replace(/-/g,"").toLowerCase()}var eo=zt;function Dr(e){for(var t,n,r,f,s=e.rev_tree.slice();f=s.pop();){var p=f.ids,O=p[2],$=f.pos;if(O.length)for(var Y=0,se=O.length;Y<se;Y++)s.push({pos:$+1,ids:O[Y]});else{var ge=!!p[1].deleted,_e=p[0];(!t||(r!==ge?r:n!==$?n<$:t<_e))&&(t=_e,n=$,r=ge)}}return n+"-"+t}function jr(e,t){for(var r,n=e.slice();r=n.pop();)for(var s=r.pos,f=r.ids,p=f[2],O=t(0===p.length,s,f[0],r.ctx,f[1]),$=0,Y=p.length;$<Y;$++)n.push({pos:s+1,ids:p[$],ctx:O})}function Cs(e,t){return e.pos-t.pos}function xi(e){var t=[];jr(e,function(s,f,p,O,$){s&&t.push({rev:f+"-"+p,pos:f,opts:$})}),t.sort(Cs).reverse();for(var n=0,r=t.length;n<r;n++)delete t[n].pos;return t}function Jr(e){for(var t=Dr(e),n=xi(e.rev_tree),r=[],s=0,f=n.length;s<f;s++){var p=n[s];p.rev!==t&&!p.opts.deleted&&r.push(p.rev)}return r}function ws(e){for(var r,t=[],n=e.slice();r=n.pop();){var s=r.pos,f=r.ids,p=f[0],O=f[1],$=f[2],Y=0===$.length,se=r.history?r.history.slice():[];se.push({id:p,opts:O}),Y&&t.push({pos:s+1-se.length,ids:se});for(var ge=0,_e=$.length;ge<_e;ge++)n.push({pos:s+1,ids:$[ge],history:se})}return t.reverse()}function Ds(e,t){return e.pos-t.pos}function ki(e,t,n){var r=function(e,t,n){for(var f,r=0,s=e.length;r<s;)n(e[f=r+s>>>1],t)<0?r=f+1:s=f;return r}(e,t,n);e.splice(r,0,t)}function As(e,t){for(var n,r,s=t,f=e.length;s<f;s++){var p=e[s],O=[p.id,p.opts,[]];r?(r[2].push(O),r=O):n=r=O}return n}function gi(e,t){return e[0]<t[0]?-1:1}function Os(e,t){for(var n=[{tree1:e,tree2:t}],r=!1;n.length>0;){var s=n.pop(),f=s.tree1,p=s.tree2;(f[1].status||p[1].status)&&(f[1].status="available"===f[1].status||"available"===p[1].status?"available":"missing");for(var O=0;O<p[2].length;O++)if(f[2][0]){for(var $=!1,Y=0;Y<f[2].length;Y++)f[2][Y][0]===p[2][O][0]&&(n.push({tree1:f[2][Y],tree2:p[2][O]}),$=!0);$||(r="new_branch",ki(f[2],p[2][O],gi))}else r="new_leaf",f[2][0]=p[2][O]}return{conflicts:r,tree:e}}function vi(e,t,n){var p,r=[],s=!1,f=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var O=0,$=e.length;O<$;O++){var Y=e[O];if(Y.pos===t.pos&&Y.ids[0]===t.ids[0])p=Os(Y.ids,t.ids),r.push({pos:Y.pos,ids:p.tree}),s=s||p.conflicts,f=!0;else if(!0!==n){var se=Y.pos<t.pos?Y:t,ge=Y.pos<t.pos?t:Y,Re=[],Ce=[];for(Ce.push({ids:se.ids,diff:ge.pos-se.pos,parent:null,parentIdx:null});Ce.length>0;){var be=Ce.pop();if(0!==be.diff)for(var Te=be.ids[2],Ue=0,ze=Te.length;Ue<ze;Ue++)Ce.push({ids:Te[Ue],diff:be.diff-1,parent:be.ids,parentIdx:Ue});else be.ids[0]===ge.ids[0]&&Re.push(be)}var Be=Re[0];Be?(p=Os(Be.ids,ge.ids),Be.parent[2][Be.parentIdx]=p.tree,r.push({pos:se.pos,ids:se.ids}),s=s||p.conflicts,f=!0):r.push(Y)}else r.push(Y)}return f||r.push(t),r.sort(Ds),{tree:r,conflicts:s||"internal_node"}}function Ps(e,t,n){var r=vi(e,t),s=function(e,t){for(var r,s,n=ws(e),f=0,p=n.length;f<p;f++){var Y,O=n[f],$=O.ids;if($.length>t){r||(r={});var se=$.length-t;Y={pos:O.pos+se,ids:As($,se)};for(var ge=0;ge<se;ge++)r[O.pos+ge+"-"+$[ge].id]=!0}else Y={pos:O.pos,ids:As($,0)};s=s?vi(s,Y,!0).tree:[Y]}return r&&jr(s,function(Re,Ce,be){delete r[Ce+"-"+be]}),{tree:s,revs:r?Object.keys(r):[]}}(r.tree,n);return{tree:s.tree,stemmedRevs:s.revs,conflicts:r.conflicts}}function no(e){return e.ids}function dr(e,t){t||(t=Dr(e));for(var s,n=t.substring(t.indexOf("-")+1),r=e.rev_tree.map(no);s=r.pop();){if(s[0]===n)return!!s[1].deleted;r=r.concat(s[2])}}function Ur(e){return/^_local/.test(e)}function Is(e){return e.reduce(function(t,n){return t[n]=!0,t},{})}var Vn=Is(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),ns=Is(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function yi(e){if(!/^\d+-/.test(e))return Ge(De);var t=e.indexOf("-"),n=e.substring(0,t),r=e.substring(t+1);return{prefix:parseInt(n,10),id:r}}function rs(e,t,n){n||(n={deterministic_revs:!0});var r,s,f,p={status:"available"};if(e._deleted&&(p.deleted=!0),t)if(e._id||(e._id=eo()),s=Ri(e,n.deterministic_revs),e._rev){if((f=yi(e._rev)).error)return f;e._rev_tree=[{pos:f.prefix,ids:[f.id,{status:"missing"},[[s,p,[]]]]}],r=f.prefix+1}else e._rev_tree=[{pos:1,ids:[s,p,[]]}],r=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,r=e.ids,s=[r[0],t,[]],f=1,p=r.length;f<p;f++)s=[r[f],{status:"missing"},[s]];return[{pos:n,ids:s}]}(e._revisions,p),r=e._revisions.start,s=e._revisions.ids[0]),!e._rev_tree){if((f=yi(e._rev)).error)return f;e._rev_tree=[{pos:r=f.prefix,ids:[s=f.id,p,[]]}]}Xi(e._id),e._rev=r+"-"+s;var O={metadata:{},data:{}};for(var $ in e)if(Object.prototype.hasOwnProperty.call(e,$)){var Y="_"===$[0];if(Y&&!Vn[$]){var se=Ge(ee,$);throw se.message=ee.message+": "+$,se}Y&&!ns[$]?O.metadata[$.slice(1)]=e[$]:O.data[$]=e[$]}return O}function is(e,t,n){if(e.stub)return n();"string"==typeof e.data?function(e,t,n){var r=function(e){try{return En(e)}catch{return{error:Ge(ce,"Attachment is not a valid base64 string")}}}(e.data);if(r.error)return n(r.error);e.length=r.length,e.data="blob"===t?Un(r,e.content_type):"base64"===t?Pn(r):r,ur(r,function(s){e.digest="md5-"+s,n()})}(e,t,n):function(e,t,n){ur(e.data,function(r){e.digest="md5-"+r,e.length=e.data.size||e.data.length||0,"binary"===t?Rt(e.data,function(s){e.data=s,n()}):"base64"===t?function(e,t){Rt(e,function(n){t(Pn(n))})}(e.data,function(s){e.data=s,n()}):n()})}(e,t,n)}function Rs(e,t,n,r,s,f,p,O,$){e=e||1e3;var se=O.new_edits,ge=new E,_e=0,Re=t.length;function Ce(){++_e===Re&&$&&$()}t.forEach(function(be,Te){if(be._id&&Ur(be._id))n[be._deleted?"_removeLocal":"_putLocal"](be,{ctx:s},function(Be,Qe){f[Te]=Be||Qe,Ce()});else{var ze=be.metadata.id;ge.has(ze)?(Re--,ge.get(ze).push([be,Te])):ge.set(ze,[[be,Te]])}}),ge.forEach(function(be,Te){var Ue=0;function ze(){++Ue<be.length?Be():Ce()}function Be(){var Qe=be[Ue],Je=Qe[0],lt=Qe[1];if(r.has(Te))!function(e,t,n,r,s,f,p,O){if(function(e,t){for(var p,n=e.slice(),r=t.split("-"),s=parseInt(r[0],10),f=r[1];p=n.pop();){if(p.pos===s&&p.ids[0]===f)return!0;for(var O=p.ids[2],$=0,Y=O.length;$<Y;$++)n.push({pos:p.pos+1,ids:O[$]})}return!1}(t.rev_tree,n.metadata.rev)&&!O)return r[s]=n,f();var $=t.winningRev||Dr(t),Y="deleted"in t?t.deleted:dr(t,$),se="deleted"in n.metadata?n.metadata.deleted:dr(n.metadata),ge=/^1-/.test(n.metadata.rev);if(Y&&!se&&O&&ge){var _e=n.data;_e._rev=$,_e._id=n.metadata.id,n=rs(_e,O)}var Re=Ps(t.rev_tree,n.metadata.rev_tree[0],e);if(O&&(Y&&se&&"new_leaf"!==Re.conflicts||!Y&&"new_leaf"!==Re.conflicts||Y&&!se&&"new_branch"===Re.conflicts)){var be=Ge(m);return r[s]=be,f()}var Te=n.metadata.rev;n.metadata.rev_tree=Re.tree,n.stemmedRevs=Re.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var Ue=Dr(n.metadata),ze=dr(n.metadata,Ue),Be=Y===ze?0:Y<ze?-1:1;p(n,Ue,ze,Te===Ue?ze:dr(n.metadata,Te),!0,Be,s,f)}(e,r.get(Te),Je,f,lt,ze,p,se);else{var Xe=Ps([],Je.metadata.rev_tree[0],e);Je.metadata.rev_tree=Xe.tree,Je.stemmedRevs=Xe.stemmedRevs||[],function(be,Te,Ue){var ze=Dr(be.metadata),Be=dr(be.metadata,ze);if("was_delete"in O&&Be)return f[Te]=Ge(a,"deleted"),Ue();var Qe=se&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(be);if(Qe){var Je=Ge(m);return f[Te]=Je,Ue()}p(be,ze,Be,Be,!1,Be?0:1,Te,Ue)}(Je,lt,ze)}}Be()})}var Ni=l(2899);function Ar(e){try{return JSON.stringify(e)}catch{return Ni.stringify(e)}}var cn="document-store",bn="by-sequence",$n="attach-store",Or="attach-seq-store",pn="meta-store",tr="local-store",ji="detect-blob-support";function nr(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(Ge(Oe,n))}}function xs(e,t,n){return{data:Ar(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function ei(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch{return Ni.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function ti(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function Ui(e,t,n,r){n?r(e?"string"!=typeof e?e:$e(e,t):Tn([""],{type:t})):e?"string"!=typeof e?pt(e,function(s){r(Pn(s))}):r(e):r("")}function Vi(e,t,n,r){var s=Object.keys(e._attachments||{});if(!s.length)return r&&r();var f=0;function p(){++f===s.length&&r&&r()}s.forEach(function($){t.attachments&&t.include_docs?function($,Y){var se=$._attachments[Y],ge=se.digest;n.objectStore($n).get(ge).onsuccess=function(Re){se.body=Re.target.result.body,p()}}(e,$):(e._attachments[$].stub=!0,p())})}function $i(e,t){return Promise.all(e.map(function(n){if(n.doc&&n.doc._attachments){var r=Object.keys(n.doc._attachments);return Promise.all(r.map(function(s){var f=n.doc._attachments[s];if("body"in f){var p=f.body,O=f.content_type;return new Promise(function($){Ui(p,O,t,function(Y){n.doc._attachments[s]=Tt(gr(f,["digest","content_type"]),{data:Y}),$()})})}}))}}))}function zi(e,t,n){var r=[],s=n.objectStore(bn),f=n.objectStore($n),p=n.objectStore(Or),O=e.length;function $(){--O||!r.length||r.forEach(function(se){p.index("digestSeq").count(IDBKeyRange.bound(se+"::",se+"::\uffff",!1,!1)).onsuccess=function(_e){_e.target.result||f.delete(se)}})}e.forEach(function(se){s.index("_doc_id_rev").getKey(t+"::"+se).onsuccess=function(Re){var Ce=Re.target.result;if("number"!=typeof Ce)return $();s.delete(Ce),p.index("seq").openCursor(IDBKeyRange.only(Ce)).onsuccess=function(Te){var Ue=Te.target.result;if(Ue){var ze=Ue.value.digestSeq.split("::")[0];r.push(ze),p.delete(Ue.primaryKey),Ue.continue()}else $()}}})}function rr(e,t,n){try{return{txn:e.transaction(t,n)}}catch(r){return{error:r}}}var V=new ne;function x(e,t,n,r,s,f){for(var O,$,Y,se,ge,_e,Re,Ce,p=t.docs,be=0,Te=p.length;be<Te;be++){var Ue=p[be];Ue._id&&Ur(Ue._id)||(Ue=p[be]=rs(Ue,n.new_edits,e)).error&&!Re&&(Re=Ue)}if(Re)return f(Re);var ze=!1,Be=0,Qe=new Array(p.length),Je=new E,lt=!1;function It(){ze=!0,Vt()}function Vt(){!Ce||!ze||(Ce.docCount+=Be,_e.put(Ce))}function Kt(){lt||(V.notify(r._meta.name),f(null,Qe))}function Yt(Ze,ot,mt,Dt,vt,At,Ct,nt){Ze.metadata.winningRev=ot,Ze.metadata.deleted=mt;var wt=Ze.data;if(wt._id=Ze.metadata.id,wt._rev=Ze.metadata.rev,Dt&&(wt._deleted=!0),wt._attachments&&Object.keys(wt._attachments).length)return function(Ze,ot,mt,Dt,vt,At){var nt=0,wt=Object.keys(Ze.data._attachments);function Lt(){nt===wt.length&&xe(Ze,ot,mt,Dt,vt,At)}function un(){nt++,Lt()}wt.forEach(function(tn){var Jt=Ze.data._attachments[tn];if(Jt.stub)nt++,Lt();else{var nn=Jt.data;delete Jt.data,Jt.revpos=parseInt(ot,10),function(Ze,ot,mt){se.count(Ze).onsuccess=function(vt){if(vt.target.result)return mt();se.put({digest:Ze,body:ot}).onsuccess=mt}}(Jt.digest,nn,un)}})}(Ze,ot,mt,vt,Ct,nt);Be+=At,Vt(),xe(Ze,ot,mt,vt,Ct,nt)}function xe(Ze,ot,mt,Dt,vt,At){var Ct=Ze.data,nt=Ze.metadata;function wt(Jt){var nn=Ze.stemmedRevs||[];Dt&&r.auto_compaction&&(nn=nn.concat(function(e){var t=[];return jr(e.rev_tree,function(n,r,s,f,p){"available"===p.status&&!n&&(t.push(r+"-"+s),p.status="missing")}),t}(Ze.metadata))),nn&&nn.length&&zi(nn,Ze.metadata.id,O),nt.seq=Jt.target.result;var Dn=xs(nt,ot,mt);$.put(Dn).onsuccess=un}function un(){Qe[vt]={ok:!0,id:nt.id,rev:nt.rev},Je.set(Ze.metadata.id,Ze.metadata),function(Ze,ot,mt){var Dt=0,vt=Object.keys(Ze.data._attachments||{});if(!vt.length)return mt();function At(){++Dt===vt.length&&mt()}function Ct(wt){var un=ge.put({seq:ot,digestSeq:Ze.data._attachments[wt].digest+"::"+ot});un.onsuccess=At,un.onerror=function(tn){tn.preventDefault(),tn.stopPropagation(),At()}}for(var nt=0;nt<vt.length;nt++)Ct(vt[nt])}(Ze,nt.seq,At)}Ct._doc_id_rev=nt.id+"::"+nt.rev,delete Ct._id,delete Ct._rev;var tn=Y.put(Ct);tn.onsuccess=wt,tn.onerror=function(Jt){Jt.preventDefault(),Jt.stopPropagation(),Y.index("_doc_id_rev").getKey(Ct._doc_id_rev).onsuccess=function(Gr){Y.put(Ct,Gr.target.result).onsuccess=wt}}}!function(e,t,n){if(!e.length)return n();var s,r=0;function f(){r++,e.length===r&&(s?n(s):n())}e.forEach(function(p){var O=p.data&&p.data._attachments?Object.keys(p.data._attachments):[],$=0;if(!O.length)return f();function Y(ge){s=ge,++$===O.length&&f()}for(var se in p.data._attachments)p.data._attachments.hasOwnProperty(se)&&is(p.data._attachments[se],t,Y)})}(p,r._meta.blobSupport?"blob":"base64",function(Ze){if(Ze)return f(Ze);!function(){var ot=rr(s,[cn,bn,$n,tr,Or,pn],"readwrite");if(ot.error)return f(ot.error);(O=ot.txn).onabort=nr(f),O.ontimeout=nr(f),O.oncomplete=Kt,$=O.objectStore(cn),Y=O.objectStore(bn),se=O.objectStore($n),ge=O.objectStore(Or),(_e=O.objectStore(pn)).get(pn).onsuccess=function(mt){Ce=mt.target.result,Vt()},function(Ze){var ot=[];if(p.forEach(function(At){At.data&&At.data._attachments&&Object.keys(At.data._attachments).forEach(function(Ct){var nt=At.data._attachments[Ct];nt.stub&&ot.push(nt.digest)})}),!ot.length)return Ze();var Dt,mt=0;ot.forEach(function(At){!function(Ze,ot){se.get(Ze).onsuccess=function(Dt){if(Dt.target.result)ot();else{var vt=Ge(ve,"unknown stub attachment with digest "+Ze);vt.status=412,ot(vt)}}}(At,function(Ct){Ct&&!Dt&&(Dt=Ct),++mt===ot.length&&Ze(Dt)})})}(function(mt){if(mt)return lt=!0,f(mt);!function(){if(p.length)for(var Ze=0,Dt=0,vt=p.length;Dt<vt;Dt++){var At=p[Dt];At._id&&Ur(At._id)?ot():$.get(At.metadata.id).onsuccess=mt}function ot(){++Ze===p.length&&Rs(e.revs_limit,p,r,Je,O,Qe,Yt,n,It)}function mt(nt){var wt=ei(nt.target.result);wt&&Je.set(wt.id,wt),ot()}}()})}()})}function D(e,t,n,r,s){var p,O,$;function Y(Re){O=Re.target.result,p&&s(p,O,$)}function se(Re){p=Re.target.result,O&&s(p,O,$)}function _e(Re){var Ce=Re.target.result;if(!Ce)return s();s([Ce.key],[Ce.value],Ce)}-1===r&&(r=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&r>1&&!n?($={continue:function(){if(!p.length)return s();var Ce,Re=p[p.length-1];if(t&&t.upper)try{Ce=IDBKeyRange.bound(Re,t.upper,!0,t.upperOpen)}catch(be){if("DataError"===be.name&&0===be.code)return s()}else Ce=IDBKeyRange.lowerBound(Re,!0);p=null,O=null,e.getAll(t=Ce,r).onsuccess=Y,e.getAllKeys(t,r).onsuccess=se}},e.getAll(t,r).onsuccess=Y,e.getAllKeys(t,r).onsuccess=se):n?e.openCursor(t,"prev").onsuccess=_e:e.openCursor(t).onsuccess=_e}var ni=!1,so=[];function oo(){ni||!so.length||(ni=!0,so.shift()())}function Ro(e,t,n,r){if((e=hn(e)).continuous){var s=n+":"+eo();return V.addListener(n,s,t,e),V.notify(n),{cancel:function(){V.removeListener(n,s)}}}var f=e.doc_ids&&new w(e.doc_ids);e.since=e.since||0;var p=e.since,O="limit"in e?e.limit:-1;0===O&&(O=1);var _e,Re,Ce,be,$=[],Y=0,se=function(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(s){s.doc||(s.doc={});var f=n&&function(e,t,n){try{return!e(t,n)}catch(s){var r="Filter function threw: "+s.toString();return Ge(X,r)}}(e.filter,s.doc,t);if("object"==typeof f)return f;if(f)return!1;if(e.include_docs){if(!e.attachments)for(var p in s.doc._attachments)s.doc._attachments.hasOwnProperty(p)&&(s.doc._attachments[p].stub=!0)}else delete s.doc;return!0}}(e),ge=new E;function Ue(ft,It,kt,Vt){return kt.seq!==It?Vt():kt.winningRev===ft._rev?Vt(kt,ft):void(be.get(ft._id+"::"+kt.winningRev).onsuccess=function(xt){Vt(kt,ti(xt.target.result))})}function Be(){e.complete(null,{results:$,last_seq:p})}var Je=[cn,bn];e.attachments&&Je.push($n);var lt=rr(r,Je,"readonly");if(lt.error)return e.complete(lt.error);(_e=lt.txn).onabort=nr(e.complete),_e.oncomplete=function(){!e.continuous&&e.attachments?$i($).then(Be):Be()},Re=_e.objectStore(bn),Ce=_e.objectStore(cn),be=Re.index("_doc_id_rev"),D(Re,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,O,function(ft,It,kt){if(kt&&ft.length){var Vt=new Array(ft.length),Zt=new Array(ft.length),Wt=0;It.forEach(function(Yt,xe){!function(ft,It,kt){if(f&&!f.has(ft._id))return kt();var Vt=ge.get(ft._id);if(Vt)return Ue(ft,It,Vt,kt);Ce.get(ft._id).onsuccess=function(Zt){Vt=ei(Zt.target.result),ge.set(ft._id,Vt),Ue(ft,It,Vt,kt)}}(ti(Yt),ft[xe],function(st,Ze){Zt[xe]=st,Vt[xe]=Ze,++Wt===ft.length&&function(){for(var Yt=[],xe=0,Fe=Vt.length;xe<Fe&&Y!==O;xe++){var He=Vt[xe];He&&Yt.push(Kt(Zt[xe],He))}Promise.all(Yt).then(function(Ze){for(var ot=0,mt=Ze.length;ot<mt;ot++)Ze[ot]&&e.onChange(Ze[ot])}).catch(e.complete),Y!==O&&kt.continue()}()})})}function Kt(Yt,xe){var Fe=e.processChange(xe,Yt,e);p=Fe.seq=Yt.seq;var He=se(Fe);return"object"==typeof He?Promise.reject(He):He?(Y++,e.return_docs&&$.push(Fe),e.attachments&&e.include_docs?new Promise(function(st){Vi(xe,e,_e,function(){$i([Fe],e.binary).then(function(){st(Fe)})})}):Promise.resolve(Fe)):Promise.resolve()}})}var uo,Hi=new E,Fs=new E;function ba(e,t){var n=this;!function(e,t,n){so.push(function(){e(function(f,p){(function(e,t,n,r){try{e(t,n)}catch(s){r.emit("error",s)}})(t,f,p,n),ni=!1,I()(function(){oo()})})}),oo()}(function(r){!function(e,t,n){var r=t.name,s=null;function p(Ce,be){var Te=Ce.objectStore(cn);Te.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),Te.openCursor().onsuccess=function(Ue){var ze=Ue.target.result;if(ze){var Be=ze.value,Qe=dr(Be);Be.deletedOrLocal=Qe?"1":"0",Te.put(Be),ze.continue()}else be()}}function $(Ce,be){var Te=Ce.objectStore(tr),Ue=Ce.objectStore(cn),ze=Ce.objectStore(bn);Ue.openCursor().onsuccess=function(Qe){var Je=Qe.target.result;if(Je){var lt=Je.value,Xe=lt.id,ft=Ur(Xe),It=Dr(lt);if(ft){var kt=Xe+"::"+It,Vt=Xe+"::",Zt=Xe+"::~",Kt=ze.index("_doc_id_rev"),xt=IDBKeyRange.bound(Vt,Zt,!1,!1),Wt=Kt.openCursor(xt);Wt.onsuccess=function(Yt){if(Wt=Yt.target.result){var xe=Wt.value;xe._doc_id_rev===kt&&Te.put(xe),ze.delete(Wt.primaryKey),Wt.continue()}else Ue.delete(Je.primaryKey),Je.continue()}}else Je.continue()}else be&&be()}}function se(Ce,be){var Te=Ce.objectStore(bn),Ue=Ce.objectStore($n),ze=Ce.objectStore(Or);Ue.count().onsuccess=function(Qe){if(!Qe.target.result)return be();Te.openCursor().onsuccess=function(lt){var Xe=lt.target.result;if(!Xe)return be();for(var ft=Xe.value,It=Xe.primaryKey,kt=Object.keys(ft._attachments||{}),Vt={},Zt=0;Zt<kt.length;Zt++)Vt[ft._attachments[kt[Zt]].digest]=!0;var xt=Object.keys(Vt);for(Zt=0;Zt<xt.length;Zt++)ze.put({seq:It,digestSeq:xt[Zt]+"::"+It});Xe.continue()}}}function ge(Ce){var Te=Ce.objectStore(bn),Ue=Ce.objectStore(cn);Ue.openCursor().onsuccess=function(Be){var ft,It,kt,Vt,Qe=Be.target.result;if(Qe){var Je=function(Be){return Be.data?ei(Be):(Be.deleted="1"===Be.deletedOrLocal,Be)}(Qe.value);if(Je.winningRev=Je.winningRev||Dr(Je),Je.seq)return Xe();ft=Je.id+"::",It=Je.id+"::\uffff",kt=Te.index("_doc_id_rev").openCursor(IDBKeyRange.bound(ft,It)),Vt=0,kt.onsuccess=function(Zt){var Kt=Zt.target.result;if(!Kt)return Je.seq=Vt,Xe();var xt=Kt.primaryKey;xt>Vt&&(Vt=xt),Kt.continue()}}function Xe(){var ft=xs(Je,Je.winningRev,Je.deleted);Ue.put(ft).onsuccess=function(){Qe.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=ln(function(Ce){Ce(null,e._meta.instanceId)}),e._bulkDocs=function(be,Te,Ue){x(t,be,Te,e,s,Ue)},e._get=function(be,Te,Ue){var ze,Be,Qe,Je=Te.ctx;if(!Je){var lt=rr(s,[cn,bn,$n],"readonly");if(lt.error)return Ue(lt.error);Je=lt.txn}function Xe(){Ue(Qe,{doc:ze,metadata:Be,ctx:Je})}Je.objectStore(cn).get(be).onsuccess=function(ft){if(!(Be=ei(ft.target.result)))return Qe=Ge(a,"missing"),Xe();var It;if(Te.rev)It=Te.latest?function(e,t){for(var r,n=t.rev_tree.slice();r=n.pop();){var s=r.pos,f=r.ids,p=f[0],O=f[1],$=f[2],Y=0===$.length,se=r.history?r.history.slice():[];if(se.push({id:p,pos:s,opts:O}),Y)for(var ge=0,_e=se.length;ge<_e;ge++){var Re=se[ge];if(Re.pos+"-"+Re.id===e)return s+"-"+p}for(var be=0,Te=$.length;be<Te;be++)n.push({pos:s+1,ids:$[be],history:se})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(Te.rev,Be):Te.rev;else if(It=Be.winningRev,dr(Be))return Qe=Ge(a,"deleted"),Xe();var Vt=Je.objectStore(bn),Zt=Be.id+"::"+It;Vt.index("_doc_id_rev").get(Zt).onsuccess=function(Kt){if((ze=Kt.target.result)&&(ze=ti(ze)),!ze)return Qe=Ge(a,"missing"),Xe();Xe()}}},e._getAttachment=function(Ce,be,Te,Ue,ze){var Be;if(Ue.ctx)Be=Ue.ctx;else{var Qe=rr(s,[cn,bn,$n],"readonly");if(Qe.error)return ze(Qe.error);Be=Qe.txn}var Je=Te.digest,lt=Te.content_type;Be.objectStore($n).get(Je).onsuccess=function(Xe){Ui(Xe.target.result.body,lt,Ue.binary,function(It){ze(null,It)})}},e._info=function(be){var Te,Ue,ze=rr(s,[pn,bn],"readonly");if(ze.error)return be(ze.error);var Be=ze.txn;Be.objectStore(pn).get(pn).onsuccess=function(Qe){Ue=Qe.target.result.docCount},Be.objectStore(bn).openCursor(null,"prev").onsuccess=function(Qe){var Je=Qe.target.result;Te=Je?Je.key:0},Be.oncomplete=function(){be(null,{doc_count:Ue,update_seq:Te,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(be,Te){!function(e,t,n){var se,ge,p="keys"in e&&e.keys,O=e.skip||0,$="number"==typeof e.limit?e.limit:-1;if(!p&&(se=function(e,t,n,r,s){try{if(e&&t)return s?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return s?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return s?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(r)return IDBKeyRange.only(r)}catch(f){return{error:f}}return null}("startkey"in e&&e.startkey,"endkey"in e&&e.endkey,!1!==e.inclusive_end,"key"in e&&e.key,e.descending),(ge=se&&se.error)&&("DataError"!==ge.name||0!==ge.code)))return n(Ge(Oe,ge.name));var _e=[cn,bn,pn];e.attachments&&_e.push($n);var Re=rr(t,_e,"readonly");if(Re.error)return n(Re.error);var Ce=Re.txn;Ce.oncomplete=function(){e.attachments?$i(Be,e.binary).then(Zt):Zt()},Ce.onabort=nr(n);var Qe,Je,Wt,be=Ce.objectStore(cn),Te=Ce.objectStore(bn),Ue=Ce.objectStore(pn),ze=Te.index("_doc_id_rev"),Be=[];function ft(xt,Wt){var Yt={id:Wt.id,key:Wt.id,value:{rev:xt}};Wt.deleted?p&&(Be.push(Yt),Yt.value.deleted=!0,Yt.doc=null):O--<=0&&(Be.push(Yt),e.include_docs&&function(xt,Wt,Yt){ze.get(xt.id+"::"+Yt).onsuccess=function(He){if(Wt.doc=ti(He.target.result)||{},e.conflicts){var st=Jr(xt);st.length&&(Wt.doc._conflicts=st)}Vi(Wt.doc,e,Ce)}}(Wt,Yt,xt))}function It(xt){for(var Wt=0,Yt=xt.length;Wt<Yt&&Be.length!==$;Wt++){var xe=xt[Wt];if(xe.error&&p)Be.push(xe);else{var Fe=ei(xe);ft(Fe.winningRev,Fe)}}}function kt(xt,Wt,Yt){!Yt||(It(Wt),Be.length<$&&Yt.continue())}function Zt(){var xt={total_rows:Qe,offset:e.skip,rows:Be};e.update_seq&&void 0!==Je&&(xt.update_seq=Je),n(null,xt)}if(Ue.get(pn).onsuccess=function(xt){Qe=xt.target.result.docCount},e.update_seq&&(Wt=function(xt){xt.target.result&&xt.target.result.length>0&&(Je=xt.target.result[0])},Te.openCursor(null,"prev").onsuccess=function(xe){var Fe=xe.target.result,He=void 0;return Fe&&Fe.key&&(He=Fe.key),Wt({target:{result:[He]}})}),!ge&&0!==$){if(p)return function(e,t,n){var r=new Array(e.length),s=0;e.forEach(function(f,p){t.get(f).onsuccess=function(O){r[p]=O.target.result?O.target.result:{key:f,error:"not_found"},++s===e.length&&n(e,r,{})}})}(e.keys,be,kt);if(-1===$)return function(e,t,n){if("function"!=typeof e.getAll){var r=[];e.openCursor(t).onsuccess=function(f){var p=f.target.result;p?(r.push(p.value),p.continue()):n({target:{result:r}})}}else e.getAll(t).onsuccess=n}(be,se,function(xt){var Wt=xt.target.result;e.descending&&(Wt=Wt.reverse()),It(Wt)});D(be,se,e.descending,$+O,kt)}}(be,s,Te)},e._changes=function(be){return Ro(be,e,r,s)},e._close=function(Ce){s.close(),Hi.delete(r),Ce()},e._getRevisionTree=function(Ce,be){var Te=rr(s,[cn],"readonly");if(Te.error)return be(Te.error);Te.txn.objectStore(cn).get(Ce).onsuccess=function(Be){var Qe=ei(Be.target.result);Qe?be(null,Qe.rev_tree):be(Ge(a))}},e._doCompaction=function(Ce,be,Te){var ze=rr(s,[cn,bn,$n,Or],"readwrite");if(ze.error)return Te(ze.error);var Be=ze.txn;Be.objectStore(cn).get(Ce).onsuccess=function(Je){var lt=ei(Je.target.result);jr(lt.rev_tree,function(It,kt,Vt,Zt,Kt){-1!==be.indexOf(kt+"-"+Vt)&&(Kt.status="missing")}),zi(be,Ce,Be);var Xe=lt.winningRev,ft=lt.deleted;Be.objectStore(cn).put(xs(lt,Xe,ft))},Be.onabort=nr(Te),Be.oncomplete=function(){Te()}},e._getLocal=function(Ce,be){var Te=rr(s,[tr],"readonly");if(Te.error)return be(Te.error);var ze=Te.txn.objectStore(tr).get(Ce);ze.onerror=nr(be),ze.onsuccess=function(Be){var Qe=Be.target.result;Qe?(delete Qe._doc_id_rev,be(null,Qe)):be(Ge(a))}},e._putLocal=function(Ce,be,Te){"function"==typeof be&&(Te=be,be={}),delete Ce._revisions;var Ue=Ce._rev,ze=Ce._id;Ce._rev=Ue?"0-"+(parseInt(Ue.split("-")[1],10)+1):"0-1";var Qe,Be=be.ctx;if(!Be){var Je=rr(s,[tr],"readwrite");if(Je.error)return Te(Je.error);(Be=Je.txn).onerror=nr(Te),Be.oncomplete=function(){Qe&&Te(null,Qe)}}var Xe,lt=Be.objectStore(tr);Ue?(Xe=lt.get(ze)).onsuccess=function(ft){var It=ft.target.result;It&&It._rev===Ue?lt.put(Ce).onsuccess=function(){Qe={ok:!0,id:Ce._id,rev:Ce._rev},be.ctx&&Te(null,Qe)}:Te(Ge(m))}:((Xe=lt.add(Ce)).onerror=function(ft){Te(Ge(m)),ft.preventDefault(),ft.stopPropagation()},Xe.onsuccess=function(){Qe={ok:!0,id:Ce._id,rev:Ce._rev},be.ctx&&Te(null,Qe)})},e._removeLocal=function(Ce,be,Te){"function"==typeof be&&(Te=be,be={});var Ue=be.ctx;if(!Ue){var ze=rr(s,[tr],"readwrite");if(ze.error)return Te(ze.error);(Ue=ze.txn).oncomplete=function(){Be&&Te(null,Be)}}var Be,Qe=Ce._id,Je=Ue.objectStore(tr),lt=Je.get(Qe);lt.onerror=nr(Te),lt.onsuccess=function(Xe){var ft=Xe.target.result;ft&&ft._rev===Ce._rev?(Je.delete(Qe),Be={ok:!0,id:Qe,rev:"0-0"},be.ctx&&Te(null,Be)):Te(Ge(a))}},e._destroy=function(Ce,be){V.removeAllListeners(r);var Te=Fs.get(r);Te&&Te.result&&(Te.result.close(),Hi.delete(r));var Ue=indexedDB.deleteDatabase(r);Ue.onsuccess=function(){Fs.delete(r),de()&&r in localStorage&&delete localStorage[r],be(null,{ok:!0})},Ue.onerror=nr(be)};var _e=Hi.get(r);if(_e)return s=_e.idb,e._meta=_e.global,I()(function(){n(null,e)});var Re=indexedDB.open(r,5);Fs.set(r,Re),Re.onupgradeneeded=function(Ce){var be=Ce.target.result;if(Ce.oldVersion<1)return function(Ce){var be=Ce.createObjectStore(cn,{keyPath:"id"});Ce.createObjectStore(bn,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),Ce.createObjectStore($n,{keyPath:"digest"}),Ce.createObjectStore(pn,{keyPath:"id",autoIncrement:!1}),Ce.createObjectStore(ji),be.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),Ce.createObjectStore(tr,{keyPath:"_id"});var Te=Ce.createObjectStore(Or,{autoIncrement:!0});Te.createIndex("seq","seq"),Te.createIndex("digestSeq","digestSeq",{unique:!0})}(be);var Te=Ce.currentTarget.transaction;Ce.oldVersion<3&&function(Ce){Ce.createObjectStore(tr,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(be),Ce.oldVersion<4&&function(Ce){var be=Ce.createObjectStore(Or,{autoIncrement:!0});be.createIndex("seq","seq"),be.createIndex("digestSeq","digestSeq",{unique:!0})}(be);var Ue=[p,$,se,ge],ze=Ce.oldVersion;!function Be(){var Qe=Ue[ze-1];ze++,Qe&&Qe(Te,Be)}()},Re.onsuccess=function(Ce){(s=Ce.target.result).onversionchange=function(){s.close(),Hi.delete(r)},s.onabort=function(Xe){P("error","Database has a global failure",Xe.target.error),s.close(),Hi.delete(r)};var Ue,ze,Be,Qe,be=s.transaction([pn,ji,cn],"readwrite"),Te=!1;function Je(){void 0===Be||!Te||(e._meta={name:r,instanceId:Qe,blobSupport:Be},Hi.set(r,{idb:s,global:e._meta}),n(null,e))}function lt(){if(void 0!==ze&&void 0!==Ue){var Xe=r+"_id";Xe in Ue?Qe=Ue[Xe]:Ue[Xe]=Qe=eo(),Ue.docCount=ze,be.objectStore(pn).put(Ue)}}be.objectStore(pn).get(pn).onsuccess=function(Xe){Ue=Xe.target.result||{id:pn},lt()},function(e,t){e.objectStore(cn).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(r){ze=r.target.result,lt()}}(be),uo||(uo=function(e){return new Promise(function(t){var n=Tn([""]),r=e.objectStore(ji).put(n,"key");r.onsuccess=function(){var s=navigator.userAgent.match(/Chrome\/(\d+)/),f=navigator.userAgent.match(/Edge\//);t(f||!s||parseInt(s[1],10)>=43)},r.onerror=e.onabort=function(s){s.preventDefault(),s.stopPropagation(),t(!1)}}).catch(function(){return!1})}(be)),uo.then(function(Xe){Be=Xe,Je()}),be.oncomplete=function(){Te=!0,Je()},be.onabort=nr(n)},Re.onerror=function(Ce){var be=Ce.target.error&&Ce.target.error.message;be?-1!==be.indexOf("stored database is a higher version")&&(be=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):be="Failed to open indexedDB, are you in private browsing mode?",P("error",be),n(Ge(Oe,be))}}(n,e,r)},t,n.constructor)}ba.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch{return!1}};const Fo=function(e){e.adapter("idb",ba,!0)};var an=l(4004),Kn=l(4966),Sa=l.n(Kn),Ca=l(1452),wa=l.n(Ca),ko=l(9456),ks=l.n(ko);function Gt(e){var t=e.split("-"),n="RxDB";return t.forEach(function(r){n+=Cn(r)}),n+="Plugin",new Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { "+n+" } from 'rxdb/plugins/"+e+"';\n            addRxPlugin("+n+");\n        ")}function lo(e){return"string"!=typeof e&&(e=JSON.stringify(e)),wa().hash("rxdb-specific-hash-salt"+e)}var co=0;function Gn(){var e=(new Date).getTime();return e<=co&&(e=co+1),co=e,e}function Si(){return new Promise(function(e){return setTimeout(e,0)})}function fo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){return setTimeout(t,e)})}Promise.resolve(!0);var vr=Promise.resolve(!1),Bs=Promise.resolve(null),Vr=Promise.resolve();function Cn(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)}function Ci(e){for(;"."===e.charAt(0);)e=e.substr(1);for(;"."===e.slice(-1);)e=e.slice(0,-1);return e}function ss(e){if(!e)throw new Error("ensureNotFalsy() is falsy");return e}function Ns(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return e;if(!t&&Array.isArray(e))return e.sort(function(r,s){return"string"==typeof r&&"string"==typeof s?r.localeCompare(s):"object"==typeof r?1:-1}).map(function(r){return Ns(r,t)});if("object"==typeof e&&!Array.isArray(e)){if(e instanceof RegExp)return e;var n={};return Object.keys(e).sort(function(r,s){return r.localeCompare(s)}).forEach(function(r){n[r]=Ns(e[r],t)}),n}return e}function js(e,t){return t instanceof RegExp?t.toString():t}function ht(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",n="abcdefghijklmnopqrstuvwxyz",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function os(e){var t={db:e};return"string"==typeof e&&(t={adapter:e,db:void 0}),t}var Qn=function(e){return e&&Sa()(e,!1)};function Nt(e){return Object.assign({},e)}function $s(e){return e[Object.keys(e)[0]]}var go=ks()();function ri(e){var t={};for(var n in e)if(e.hasOwnProperty(n))if("object"==typeof e[n]){var r=ri(e[n]);for(var s in r)!r.hasOwnProperty(s)||(t[n+"."+s]=r[s])}else t[n]=e[n];return t}function wi(e){return function(e){var t=e.split("-");return{height:parseInt(t[0],10),hash:t[1]}}(e).height}function Di(e,t,n){return Object.defineProperty(e,t,{get:function(){return n}}),n}function as(e){return!(!e.includes("/")&&!e.includes("\\"))}function Ai(e,t){var n=e.get(t);if(!n)throw new Error("missing value from map "+t);return n}function ii(e){return Array.isArray(e)}var _r_createBlobBuffer=function(t,n){var r;if(go)return Buffer.from(t,{type:n});try{r=new Blob([t],{type:n})}catch{r=Buffer.from(t,{type:n})}return r},_r_toString=function(t){return"string"==typeof t?Promise.resolve(t):"undefined"!=typeof Buffer&&t instanceof Buffer?Si().then(function(){return t.toString()}):new Promise(function(n){var r=new FileReader;r.addEventListener("loadend",function(f){n(f.target.result)}),"[object Uint8Array]"===Object.prototype.toString.call(t)&&(t=new Blob([t])),r.readAsText(t)})},Oi={bufferSize:1,refCount:!0};function si(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $r(e,t,n){return t&&si(e.prototype,t),n&&si(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pr(e,t){return(Pr=Object.setPrototypeOf||function(r,s){return r.__proto__=s,r})(e,t)}function zo(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Pr(e,t)}function _o(e){return(_o=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(e)}function us(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tr(e,t,n){return(Tr=us()?Reflect.construct:function(s,f,p){var O=[null];O.push.apply(O,f);var Y=new(Function.bind.apply(s,O));return p&&Pr(Y,p.prototype),Y}).apply(null,arguments)}function ls(e){var t="function"==typeof Map?new Map:void 0;return ls=function(r){if(null===r||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(r))return t.get(r);t.set(r,s)}function s(){return Tr(r,arguments,_o(this).constructor)}return s.prototype=Object.create(r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),Pr(s,r)},ls(e)}var kn={isDevMode:function(){return!1},deepFreezeWhenDevMode:function(t){return t},validatePassword:function(t){throw Gt("encryption")},tunnelErrorMessage:function(t){return"RxDB Error-Code "+t+".\n        - To find out what this means, use the dev-mode-plugin https://pubkey.github.io/rxdb/custom-build.html#dev-mode\n        - Or search for this code https://github.com/pubkey/rxdb/search?q="+t+"\n        "}};function Ho(e,t,n){return"RxError ("+t+"):\n"+e+"\n"+function(e){var t="";return 0===Object.keys(e).length||(t+="Given parameters: {\n",t+=Object.keys(e).map(function(n){var r="[object Object]";try{r=JSON.stringify(e[n],function(s,f){return void 0===f?null:f},2)}catch{}return n+":"+r}).join("\n"),t+="}"),t}(n)}var cs=function(e){function t(r,s){var f,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},O=Ho(s,r,p);return(f=e.call(this,O)||this).code=r,f.message=O,f.parameters=p,f.rxdb=!0,f}return zo(t,e),t.prototype.toString=function(){return this.message},$r(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}]),t}(ls(Error)),Ko=function(e){function t(r,s){var f,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},O=Ho(s,r,p);return(f=e.call(this,O)||this).code=r,f.message=O,f.parameters=p,f.rxdb=!0,f}return zo(t,e),t.prototype.toString=function(){return this.message},$r(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}]),t}(ls(TypeError));function Ke(e,t){return new cs(e,kn.tunnelErrorMessage(e),t)}function Qt(e,t){return new Ko(e,kn.tunnelErrorMessage(e),t)}var Pi={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],postDestroyRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],createRxQuery:[],preQueryMatcher:[],preSortComparator:[],prePrepareQuery:[],preWriteToStorageInstance:[],postReadFromInstance:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[]};function wn(e,t){Pi[e].forEach(function(n){return n(t)})}function Zn(e,t){return Promise.all(Pi[e].map(function(n){return n(t)}))}var oi=function(t,n){try{return Promise.resolve(t.findLocalDocumentsById([n])).then(function(r){return r[n]||null})}catch(r){return Promise.reject(r)}},yr=function(t,n){try{return Promise.resolve(t.bulkWrite([n])).then(function(r){if(Object.keys(r.error).length>0)throw $s(r.error);return $s(r.success)})}catch(r){return Promise.reject(r)}},zs=function(t,n){try{return Promise.resolve(t.findDocumentsById([n],!1)).then(function(r){return r[n]||null})}catch(r){return Promise.reject(r)}},ds=function(t,n){try{var r=t.statics.prepareQuery(n.schema,{selector:{}});return Promise.resolve(n.query(r)).then(function(s){return s.documents})}catch(s){return Promise.reject(s)}};function bo(e,t,n){var r,f;if("DELETE"!==t.change.operation)if(n){var s={collection:n,doc:t.change.doc};wn("postReadFromInstance",s),r=n._crypter.decrypt(r=s.doc)}else r=t.change.doc;if("INSERT"!==t.change.operation)if(n){var p={collection:n,doc:t.change.previous};wn("postReadFromInstance",p),f=n._crypter.decrypt(f=p.doc)}else f=t.change.previous;return{eventId:t.eventId,documentId:t.documentId,collectionName:n?n.name:void 0,startTime:t.startTime,endTime:t.endTime,isLocal:e,operation:t.change.operation,documentData:kn.deepFreezeWhenDevMode(r),previousDocumentData:kn.deepFreezeWhenDevMode(f)}}function Yo(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function zn(e,t,n){if(!e.s){if(n instanceof Ws){if(!n.s)return void(n.o=zn.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(zn.bind(null,e,t),zn.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var Ws=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,s=this.s;if(s){var f=1&s?t:n;if(f){try{zn(r,1,f(this.v))}catch(p){zn(r,2,p)}return r}return this}return this.o=function(p){try{var O=p.v;1&p.s?zn(r,1,t?t(O):O):n?zn(r,1,n(O)):zn(r,2,O)}catch($){zn(r,2,$)}},r},e}();function oe(e){return e instanceof Ws&&1&e.s}function R(e,t,n){for(var r;;){var s=e();if(oe(s)&&(s=s.v),!s)return f;if(s.then){r=0;break}var f=n();if(f&&f.then){if(!oe(f)){r=1;break}f=f.s}if(t){var p=t();if(p&&p.then&&!oe(p)){r=2;break}}}var O=new Ws,$=zn.bind(null,O,2);return(0===r?s.then(se):1===r?f.then(Y):p.then(ge)).then(void 0,$),O;function Y(_e){f=_e;do{if(t&&(p=t())&&p.then&&!oe(p))return void p.then(ge).then(void 0,$);if(!(s=e())||oe(s)&&!s.v)return void zn(O,1,f);if(s.then)return void s.then(se).then(void 0,$);oe(f=n())&&(f=f.v)}while(!f||!f.then);f.then(Y).then(void 0,$)}function se(_e){_e?(f=n())&&f.then?f.then(Y).then(void 0,$):Y(f):zn(O,1,f)}function ge(){(s=e())?s.then?s.then(se).then(void 0,$):se(s):zn(O,1,f)}}var y=function(t,n,r,s){try{return r.multiInstance=n.multiInstance,Promise.resolve(Promise.all([n.storage.createStorageInstance(r),n.storage.createKeyObjectStorageInstance({databaseName:n.name,collectionName:Ve(t),options:s,multiInstance:n.multiInstance})])).then(function(f){return{storageInstance:f[0],localDocumentsStore:f[1]}})}catch(f){return Promise.reject(f)}},H=function(t,n){try{var r=!1,s=arguments,f=s.length>2&&void 0!==s[2]&&s[2],p={previous:n.previous?J(t,Nt(n.previous)):void 0,document:J(t,Nt(n.document))};return Promise.resolve(R(function(){return!r},void 0,function(){return Yo(function(){return Promise.resolve(t.database.lockedRun(function(){return yr(t.storageInstance,p)})).then(function(O){var $=me(t,O);return r=!0,$})},function(O){var $=O,Y=$.documentId;return function(){if(f&&409===$.status)return Promise.resolve(t.database.lockedRun(function(){return zs(t.storageInstance,Y)})).then(function(se){if(!se)throw Ke("SNH",{args:{writeRow:n}});p.previous=se});throw 409===$.status?Ke("COL19",{collection:t.name,id:Y,pouchDbError:$,data:n}):$}()})}))}catch(O){return Promise.reject(O)}};function J(e,t){kn.isDevMode()&&e.schema.fillPrimaryKey(t),t=e._crypter.encrypt(t);var n={collection:e,doc:t};return wn("preWriteToStorageInstance",n),n.doc}function me(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r={collection:e,doc:t};return wn("postReadFromInstance",r),n?r.doc:e._crypter.decrypt(r.doc)}function Me(e,t){var n=e.schema.fillObjectWithDefaults(t);return e.schema.fillPrimaryKey(n)}function Ve(e){return e+"-local"}function et(e){if(!e.collection.schema.jsonSchema.attachments)throw Ke("AT1",{link:"https://pubkey.github.io/rxdb/rx-attachment.html"})}var ut=function(t,n){try{return Promise.resolve(t.hash(n)).then(function(r){var s=function(t){return"undefined"!=typeof Buffer&&t instanceof Buffer?Buffer.byteLength(t):t.size}(n);return{digest:t.hashKey+"-"+r,length:s}})}catch(r){return Promise.reject(r)}},ir=function(t){try{var n=function(){var _e=s.collection.database.storage.statics;return s._atomicQueue=s._atomicQueue.then(function(){try{var Re=function(Ue){if(Ce)return Ue;var ze=Nt(s._data);return ze._attachments=Nt(ze._attachments),Promise.resolve(ut(s.collection.database.storage.statics,p)).then(function(Be){ze._attachments[f]={digest:Be.digest,length:Be.length,type:$,data:p};var Qe={previous:J(s.collection,Nt(s._data)),document:J(s.collection,Nt(ze))};return Promise.resolve(yr(s.collection.storageInstance,Qe)).then(function(Je){var Xe=hr(f,Je._attachments[f],s),ft=Nt(s._data);return ft._rev=Je._rev,ft._attachments=Je._attachments,s._dataSync$.next(ft),Xe})})},Ce=!1,be=function(){if(Y&&s._data._attachments&&s._data._attachments[f]){var Te=s._data._attachments[f];return Promise.resolve(_e.hash(p)).then(function(Ue){if(Te.type===$&&Te.digest===_e.hashKey+"-"+Ue){var Be=s.getAttachment(f);return Ce=!0,Be}})}}();return Promise.resolve(be&&be.then?be.then(Re):Re(be))}catch(Te){return Promise.reject(Te)}}),s._atomicQueue},r=arguments,s=this,f=t.id,p=t.data,O=t.type,$=void 0===O?"text/plain":O,Y=!(r.length>1&&void 0!==r[1])||r[1];et(s);var se=function(){if(Ln(s.collection.schema))return Promise.resolve(_r_toString(p)).then(function(ge){var _e=s.collection._crypter._encryptString(ge);p=_r_createBlobBuffer(_e,"text/plain")})}();return Promise.resolve(se&&se.then?se.then(n):n(se))}catch(ge){return Promise.reject(ge)}},ui=function(){function e(n){var s=n.id,f=n.type,p=n.length,O=n.digest;this.doc=n.doc,this.id=s,this.type=f,this.length=p,this.digest=O,function(t){Object.entries(t.doc.collection.attachments).forEach(function(n){var s=n[1];Object.defineProperty(t,n[0],{get:function(){return s.bind(t)}})})}(this)}var t=e.prototype;return t.remove=function(){try{var r=this;return r.doc._atomicQueue=r.doc._atomicQueue.then(function(){try{var s=Nt(r.doc._data);return s._attachments=Nt(s._attachments),delete s._attachments[r.id],Promise.resolve(yr(r.doc.collection.storageInstance,{previous:J(r.doc.collection,Nt(r.doc._data)),document:J(r.doc.collection,s)})).then(function(f){var p=Nt(r.doc._data);p._rev=f._rev,p._attachments=f._attachments,r.doc._dataSync$.next(p)})}catch(f){return Promise.reject(f)}}),Promise.resolve(r.doc._atomicQueue)}catch(s){return Promise.reject(s)}},t.getData=function(){try{var r=this;return Promise.resolve(r.doc.collection.storageInstance.getAttachmentData(r.doc.primary,r.id)).then(function(s){return Ln(r.doc.collection.schema)?Promise.resolve(_r_toString(s)).then(function(f){return _r_createBlobBuffer(r.doc.collection._crypter._decryptString(f),r.type)}):s})}catch(s){return Promise.reject(s)}},t.getStringData=function(){return this.getData().then(function(r){return _r_toString(r)})},e}();function hr(e,t,n){return new ui({doc:n,id:e,type:t.type,length:t.length,digest:t.digest})}function Ln(e){return!(!e.jsonSchema.attachments||!e.jsonSchema.attachments.encrypted)}function Jo(e){et(this);var t=this._dataSync$.getValue();return t._attachments&&t._attachments[e]?hr(e,t._attachments[e],this):null}function Eo(){var e=this;et(this);var t=this._dataSync$.getValue();return t._attachments?Object.keys(t._attachments).map(function(n){return hr(n,t._attachments[n],e)}):[]}var So={RxDocument:function(t){t.putAttachment=ir,t.getAttachment=Jo,t.allAttachments=Eo,Object.defineProperty(t,"allAttachments$",{get:function(){var r=this;return this._dataSync$.pipe((0,an.U)(function(s){return s._attachments?s._attachments:{}}),(0,an.U)(function(s){return Object.entries(s)}),(0,an.U)(function(s){return s.map(function(f){return hr(f[0],f[1],r)})}))}})}},ru={preMigrateDocument:function(t){try{var n=t.docData._attachments,r=function(){if(n){var s=!!Ln(t.oldCollection.schema),f={};return Promise.resolve(Promise.all(Object.keys(n).map(function(p){try{var O=n[p];return Promise.resolve(t.oldCollection.storageInstance.getAttachmentData(t.docData[t.oldCollection.schema.primaryPath],p)).then(function(Y){function se(){return Promise.resolve(ut(t.oldCollection.database.storage.statics,Y)).then(function(_e){f[p]={digest:_e.digest,length:_e.length,type:O.type,data:Y}})}var ge=function(){if(s)return Promise.resolve(_r_toString(Y).then(function(_e){return _r_createBlobBuffer(t.oldCollection._crypter._decryptString(_e),O.type)})).then(function(_e){Y=_e})}();return ge&&ge.then?ge.then(se):se()})}catch(Y){return Promise.reject(Y)}}))).then(function(){t.docData._attachments=f})}}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(s){return Promise.reject(s)}},postMigrateDocument:function(t){return Promise.resolve()}},iu={name:"attachments",rxdb:!0,prototypes:So,overwritable:{},hooks:ru},su=l(2559),Ta=l.n(su),ou=l(8624),Bn=l.n(ou),Co=l(1135),au=l(1884);function Xo(e,t){var n;return{version:e,type:"object",primaryKey:t,properties:(n={},n[t]={type:"string"},n),required:[t]}}function hs(e,t){var n=t;return n=Ci(n="properties."+(n=n.replace(/\./g,".properties."))),Bn().get(e,n)}function pr(e,t,n){if(!e.s){if(n instanceof Ia){if(!n.s)return void(n.o=pr.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(pr.bind(null,e,t),pr.bind(null,e,2));e.s=t,e.v=n;var r=e.o;r&&r(e)}}var Ia=function(){function e(){}return e.prototype.then=function(t,n){var r=new e,s=this.s;if(s){var f=1&s?t:n;if(f){try{pr(r,1,f(this.v))}catch(p){pr(r,2,p)}return r}return this}return this.o=function(p){try{var O=p.v;1&p.s?pr(r,1,t?t(O):O):n?pr(r,1,n(O)):pr(r,2,O)}catch($){pr(r,2,$)}},r},e}();function ps(e){return e instanceof Ia&&1&e.s}var Hs={get _data(){if(this.isInstanceOfRxDocument)return this._dataSync$.getValue()},get primaryPath(){if(this.isInstanceOfRxDocument)return this.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){if(this.isInstanceOfRxDocument)return this._data._rev},get deleted$(){if(this.isInstanceOfRxDocument)return this._isDeleted$.asObservable()},get deleted(){if(this.isInstanceOfRxDocument)return this._isDeleted$.getValue()},get $(){return this._dataSync$.asObservable().pipe((0,an.U)(function(t){return kn.deepFreezeWhenDevMode(t)}))},_handleChangeEvent:function(t){if(t.documentId===this.primary){var r=wi(((e=t).documentData?e.documentData:e.previousDocumentData)._rev);if(!(wi(this._data._rev)>r))switch(t.operation){case"INSERT":break;case"UPDATE":this._dataSync$.next(t.documentData);break;case"DELETE":this.collection._docCache.delete(this.primary),this._isDeleted$.next(!0)}}var e},get$:function(t){if(t.includes(".item."))throw Ke("DOC1",{path:t});if(t===this.primaryPath)throw Ke("DOC2");if(this.collection.schema.finalFields.includes(t))throw Ke("DOC3",{path:t});if(!hs(this.collection.schema.jsonSchema,t))throw Ke("DOC4",{path:t});return this._dataSync$.pipe((0,an.U)(function(r){return Bn().get(r,t)}),(0,au.x)())},populate:function(t){var n=hs(this.collection.schema.jsonSchema,t),r=this.get(t);if(!r)return Bs;if(!n)throw Ke("DOC5",{path:t});if(!n.ref)throw Ke("DOC6",{path:t,schemaObj:n});var s=this.collection.database.collections[n.ref];if(!s)throw Ke("DOC7",{ref:n.ref,path:t,schemaObj:n});return"array"===n.type?s.findByIds(r).then(function(f){var p=f.values();return Array.from(p)}):s.findOne(r).exec()},get:function(t){if(this._data){var n=Bn().get(this._data,t);return"object"!=typeof n||Array.isArray(n)?kn.deepFreezeWhenDevMode(n):(n=Qn(n),qo(this.collection.schema,n,t,this),n)}},toJSON:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)return kn.deepFreezeWhenDevMode(this._data);var n=Nt(this._data);return delete n._rev,delete n._attachments,kn.deepFreezeWhenDevMode(n)},set:function(t,n){if(!this._isTemporary)throw Qt("DOC16",{objPath:t,value:n});if("string"!=typeof t)throw Qt("DOC15",{objPath:t,value:n});if(!Object.is(this.get(t),n)){var r=t.split(".");r.pop();var s=r.join(".");if(void 0===Bn().get(this._data,s))throw Ke("DOC10",{childpath:t,rootPath:s});return Bn().set(this._data,t,n),this}},update:function(t){throw Gt("update")},putAttachment:function(){throw Gt("attachments")},getAttachment:function(){throw Gt("attachments")},allAttachments:function(){throw Gt("attachments")},get allAttachments$(){throw Gt("attachments")},atomicUpdate:function(t){var n=this;return new Promise(function(r,s){n._atomicQueue=n._atomicQueue.then(function(){try{var f=function(se){if(p)return se;r(n)},p=!1,O=!1,$=function(e,t,n){for(var r;;){var s=e();if(ps(s)&&(s=s.v),!s)return f;if(s.then){r=0;break}var p,f=n();if(f&&f.then){if(!ps(f)){r=1;break}f=f.s}}var O=new Ia,$=pr.bind(null,O,2);return(0===r?s.then(se):1===r?f.then(Y):p.then(ge)).then(void 0,$),O;function Y(_e){f=_e;do{if(!(s=e())||ps(s)&&!s.v)return void pr(O,1,f);if(s.then)return void s.then(se).then(void 0,$);ps(f=n())&&(f=f.v)}while(!f||!f.then);f.then(Y).then(void 0,$)}function se(_e){_e?(f=n())&&f.then?f.then(Y).then(void 0,$):Y(f):pr(O,1,f)}function ge(){(s=e())?s.then?s.then(se).then(void 0,$):se(s):pr(O,1,f)}}(function(){return!p&&!O},0,function(){var Y=n._dataSync$.getValue(),se=function(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}(function(){return Promise.resolve(t(Qn(n._dataSync$.getValue()),n)).then(function(ge){return n.collection&&(ge=n.collection.schema.fillObjectWithDefaults(ge)),Promise.resolve(n._saveData(ge,Y)).then(function(){O=!0})})},function(ge){var _e=function(){if((e=ge).parameters&&e.parameters.pouchDbError&&409===e.parameters.pouchDbError.status)return Promise.resolve(Si()).then(function(){});var e;s(ge),p=!0}();return _e&&_e.then?_e.then(function(){}):void 0});if(se&&se.then)return se.then(function(){})});return Promise.resolve($&&$.then?$.then(f):f($))}catch(Y){return Promise.reject(Y)}})})},atomicPatch:function(t){return this.atomicUpdate(function(n){return Object.entries(t).forEach(function(r){n[r[0]]=r[1]}),n})},_saveData:function(t,n){try{var r=this;if(t=t,r._isDeleted$.getValue())throw Ke("DOC11",{id:r.primary,document:r});return r.collection.schema.validateChange(n,t),Promise.resolve(r.collection._runHooks("pre","save",t,r)).then(function(){return r.collection.schema.validate(t),Promise.resolve(H(r.collection,{previous:n,document:t})).then(function(){return r.collection._runHooks("post","save",t,r)})})}catch(s){return Promise.reject(s)}},save:function(){var t=this;if(!this._isTemporary)throw Ke("DOC17",{id:this.primary,document:this});return this.collection.insert(this).then(function(){return t._isTemporary=!1,t.collection._docCache.set(t.primary,t),t._dataSync$.next(t._data),!0})},remove:function(){var t=this;if(this.deleted)return Promise.reject(Ke("DOC13",{document:this,id:this.primary}));var n=Nt(this._data);return this.collection._runHooks("pre","remove",n,this).then(function(){return n._deleted=!0,H(t.collection,{previous:t._data,document:n})}).then(function(){return t.collection._runHooks("post","remove",n,t)}).then(function(){return t})},destroy:function(){throw Ke("DOC14")}};function Ma(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hs,t=function(r,s){this.collection=r,this._isTemporary=!1,this._dataSync$=new Co.X(s),this._isDeleted$=new Co.X(!1),this._atomicQueue=Vr,this.isInstanceOfRxDocument=!0};return t.prototype=e,t}function qo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!==t){var s=hs(e.jsonSchema,n);void 0!==s&&(s.properties&&(s=s.properties),Object.keys(s).forEach(function(f){var p=Ci(n+"."+f);t.__defineGetter__(f,function(){var O=r||this;if(O.get&&"function"==typeof O.get)return O.get(p)}),Object.defineProperty(t,f+"$",{get:function(){return(r||this).get$(p)},enumerable:!1,configurable:!1}),Object.defineProperty(t,f+"_",{get:function(){return(r||this).populate(p)},enumerable:!1,configurable:!1}),t.__defineSetter__(f,function(O){return(r||this).set(p,O)})}))}}function ms(e,t,n){if(n[t.schema.primaryPath]&&n[t.schema.primaryPath].startsWith("_design"))return null;var r=new e(t,n);return wn("createRxDocument",r),r}var ea=function(){function e(n){this.jsonSchema=n,this.indexes=function(e){return(e.indexes||[]).map(function(t){return ii(t)?t:[t]})}(this.jsonSchema),this.primaryPath=li(this.jsonSchema.primaryKey),this.finalFields=function(e){var t=Object.keys(e.properties).filter(function(r){return e.properties[r].final}),n=li(e.primaryKey);return t.push(n),"string"!=typeof e.primaryKey&&e.primaryKey.fields.forEach(function(r){return t.push(r)}),t}(this.jsonSchema),this.jsonSchema.required=this.jsonSchema.required.concat(this.finalFields).filter(function(r){return!r.includes(".")}).filter(function(r,s,f){return f.indexOf(r)===s})}var t=e.prototype;return t.validateChange=function(r,s){var f=this;this.finalFields.forEach(function(p){if(!Ta()(r[p],s[p]))throw Ke("DOC9",{dataBefore:r,dataAfter:s,fieldName:p,schema:f.jsonSchema})})},t.validate=function(r,s){},t.fillObjectWithDefaults=function(r){return r=Nt(r),Object.entries(this.defaultValues).filter(function(s){var f=s[0];return!r.hasOwnProperty(f)||void 0===r[f]}).forEach(function(s){return r[s[0]]=s[1]}),r},t.getDocumentPrototype=function(){var r={};return qo(this,r,""),Di(this,"getDocumentPrototype",function(){return r}),r},t.getPrimaryOfDocumentData=function(r){return xa(this.jsonSchema,r)},t.fillPrimaryKey=function(r){var s=Nt(r),f=xa(this.jsonSchema,r),p=r[this.primaryPath];if(p&&p!==f)throw Ke("DOC19",{args:{documentData:r,existingPrimary:p,newPrimary:f},schema:this.jsonSchema});return s[this.primaryPath]=f,s},$r(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"normalized",get:function(){return Di(this,"normalized",function(e){var t=Ns(Qn(e));return e.indexes&&(t.indexes=Array.from(e.indexes)),"object"==typeof t.primaryKey&&"object"==typeof e.primaryKey&&(t.primaryKey.fields=e.primaryKey.fields),t}(this.jsonSchema))}},{key:"topLevelFields",get:function(){return Object.keys(this.normalized.properties)}},{key:"defaultValues",get:function(){var r={};return Object.entries(this.normalized.properties).filter(function(s){return s[1].hasOwnProperty("default")}).forEach(function(s){return r[s[0]]=s[1].default}),Di(this,"defaultValues",r)}},{key:"crypt",get:function(){return!!(this.jsonSchema.encrypted&&this.jsonSchema.encrypted.length>0||this.jsonSchema.attachments&&this.jsonSchema.attachments.encrypted)}},{key:"encryptedPaths",get:function(){return this.jsonSchema.encrypted||[]}},{key:"hash",get:function(){return Di(this,"hash",lo(this.normalized))}}]),e}();function li(e){return"string"==typeof e?e:e.key}function xa(e,t){if("string"==typeof e.primaryKey)return t[e.primaryKey];var n=e.primaryKey;return n.fields.map(function(r){var s=Bn().get(t,r);if(void 0===s)throw Ke("DOC18",{args:{field:r,documentData:t}});return s}).join(n.separator)}function gu(e){return(e=Qn(e)).additionalProperties=!1,e.hasOwnProperty("keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes||[],e.required=e.required||[],e.encrypted=e.encrypted||[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.version=e.version||0,e}var Fa=function(){function e(n,r){this.password=n,this.schema=r}var t=e.prototype;return t._encryptString=function(r){throw Gt("encryption")},t._decryptString=function(r){throw Gt("encryption")},t.encrypt=function(r){var s=this;if(!this.password)return r;var f=(r=Nt(r))._attachments;delete r._attachments;var p=Qn(r);return f&&(p._attachments=f),this.schema.encryptedPaths.forEach(function(O){var $=Bn().get(p,O);if(void 0!==$){var Y=JSON.stringify($),se=s._encryptString(Y);Bn().set(p,O,se)}}),p},t.decrypt=function(r){var s=this;if(!this.password)return r;var f=(r=Nt(r))._attachments;delete r._attachments;var p=Qn(r);return f&&(p._attachments=f),this.schema.encryptedPaths.forEach(function(O){var $=Bn().get(p,O);if(void 0!==$){var Y=s._decryptString($),se=JSON.parse(Y);Bn().set(p,O,se)}}),p},e}(),yu=l(3905),bu=l(6451),Ks=l(5577),zr=l(9300),Gs=l(7579),Eu=l(6063);class ka extends Gs.x{constructor(t=1/0,n=1/0,r=Eu.l){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){const{isStopped:n,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:f,_windowTime:p}=this;n||(r.push(t),!s&&r.push(f.now()+p)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:s}=this,f=s.slice();for(let p=0;p<f.length&&!t.closed;p+=r?1:2)t.next(f[p]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){const{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:s}=this,f=(s?1:2)*t;if(t<1/0&&f<r.length&&r.splice(0,r.length-f),!s){const p=n.now();let O=0;for(let $=1;$<r.length&&r[$]<=p;$+=2)O=$;O&&r.splice(0,O+1)}}}var Su=l(3099);function La(e,t,n){var r,s;let f,p=!1;return e&&"object"==typeof e?(f=null!==(r=e.bufferSize)&&void 0!==r?r:1/0,t=null!==(s=e.windowTime)&&void 0!==s?s:1/0,p=!!e.refCount,n=e.scheduler):f=e??1/0,(0,Su.B)({connector:()=>new ka(f,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:p})}var Qs=l(8505),ta=new WeakMap,na=new WeakMap;function c(e){if(!na.has(e)){var t=Ma(function(e){if(!ta.has(e)){var t=e.schema.getDocumentPrototype(),n=function(e){var t={};return Object.entries(e.methods).forEach(function(n){t[n[0]]=n[1]}),t}(e),s={};[t,n,Hs].forEach(function(f){Object.getOwnPropertyNames(f).forEach(function(O){var $=Object.getOwnPropertyDescriptor(f,O),Y=!0;(O.startsWith("_")||O.endsWith("_")||O.startsWith("$")||O.endsWith("$"))&&(Y=!1),"function"==typeof $.value?Object.defineProperty(s,O,{get:function(){return $.value.bind(this)},enumerable:Y,configurable:!1}):($.enumerable=Y,$.configurable=!1,$.writable&&($.writable=!1),Object.defineProperty(s,O,$))})}),ta.set(e,s)}return ta.get(e)}(e));na.set(e,t)}return na.get(e)}function o(e,t){var n=t[e.schema.primaryPath],r=e._docCache.get(n);if(r)return r;var s=ms(c(e),e,kn.deepFreezeWhenDevMode(t));return e._docCache.set(n,s),e._runHooksSync("post","create",t,s),wn("postCreateRxDocument",s),s}var fe=function(e){e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Se=function(e){e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Le=function(e){var t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},Ye=function(e){var t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},St=function(e){e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);for(var t=e.queryParams.primaryKey,n=e.previousResults,r=0;r<n.length;r++)if(n[r][t]===e.changeEvent.id){n.splice(r,1);break}},gn=function(e){var t=e.changeEvent.id,n=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,n)}else if(e.previousResults.find(function(s){return s[e.queryParams.primaryKey]===t}))return;!function(e,t,n,r){var s=e,f=s.length-1,p=0,O=0;if(0===s.length)return s.push(t),s;for(;p<=f;)n(s[O=p+(f-p>>1)],t)<=0?p=O+1:f=O-1;n(s[O],t)<=0&&O++,s.splice(O,0,t)}(e.previousResults,n,e.queryParams.sortComparator)},Wr=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],Jn={doNothing:function(e){},insertFirst:fe,insertLast:Se,removeFirstItem:Le,removeLastItem:Ye,removeFirstInsertLast:function(e){Le(e),Se(e)},removeLastInsertFirst:function(e){Ye(e),fe(e)},removeFirstInsertFirst:function(e){Le(e),fe(e)},removeLastInsertLast:function(e){Ye(e),Se(e)},removeExisting:St,replaceExisting:function(e){for(var t=e.changeEvent.doc,n=e.queryParams.primaryKey,r=e.previousResults,s=0;s<r.length;s++)if(r[s][n]===e.changeEvent.id){r[s]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}},alwaysWrong:function(e){var t={_id:"wrongHuman"+(new Date).getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},insertAtSortPosition:gn,removeExistingAndInsertAtSortPosition:function(e){St(e),gn(e)},runFullQueryAgain:function(e){throw new Error("Action runFullQueryAgain must be implemented by yourself")},unknownAction:function(e){throw new Error("Action unknownAction should never be called")}};function di(e){return e?"1":"0"}function Na(e,t){for(var n=[],r=0,s=e.length;r<s;r+=t)n.push(e.substring(r,r+t));return n}function vs(e){return e.charCodeAt(0)-40}!function(e){void 0===e&&(e=6);for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,s=0;s<e;s++)n.charAt(Math.floor(Math.random()*r))}(4);var Ao="UNKNOWN";function Au(e){return e[e.length-1]}var Tu,Ou=function(e){return!!e.queryParams.limit},pd={0:function(e){return"INSERT"===e.changeEvent.operation},1:function(e){return"UPDATE"===e.changeEvent.operation},2:function(e){return"DELETE"===e.changeEvent.operation},3:Ou,4:function(e){return 1===e.queryParams.limit},5:function(e){return!!(e.queryParams.skip&&e.queryParams.skip>0)},6:function(e){return 0===e.previousResults.length},7:function(e){return e.changeEvent.previous===Ao},8:function(e){return Ou(e)&&e.previousResults.length>=e.queryParams.limit},9:function(e){var t=e.previousResults[0];return!(!t||t[e.queryParams.primaryKey]!==e.changeEvent.id)},10:function(e){var t=Au(e.previousResults);return!(!t||t[e.queryParams.primaryKey]!==e.changeEvent.id)},11:function(e){var t=e.queryParams.sortFields,n=e.changeEvent.previous,r=e.changeEvent.doc;if(!r)return!1;if(!n||n===Ao)return!0;for(var s=0;s<t.length;s++){var f=t[s];if(Bn().get(n,f)!==Bn().get(r,f))return!0}return!1},12:function(e){var t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);for(var r=e.queryParams.primaryKey,s=e.previousResults,f=0;f<s.length;f++)if(s[f][r]===t)return!0;return!1},13:function(e){var t=e.changeEvent.previous;if(!t||t===Ao)return!1;var n=e.previousResults[0];return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)<0)},14:function(e){var t=e.changeEvent.previous;if(!t||t===Ao)return!1;var n=Au(e.previousResults);return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)>0)},15:function(e){var t=e.changeEvent.doc;if(!t)return!1;var n=e.previousResults[0];return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)<0)},16:function(e){var t=e.changeEvent.doc;if(!t)return!1;var n=Au(e.previousResults);return!!n&&(n[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,n)>0)},17:function(e){var t=e.changeEvent.previous;return!(!t||t===Ao)&&e.queryParams.queryMatcher(t)},18:function(e){var t=e.changeEvent.doc;return!!t&&e.queryParams.queryMatcher(t)}};var _d=function(e){return function(e,t,n){for(var r=e,s=e.l;;){if("number"==typeof(r=r[di(t[s](n))])||"string"==typeof r)return r;s=r.l}}((Tu||(Tu=function(e){for(var t=new Map,r=2+2*parseInt(e.charAt(0)+e.charAt(1),10),f=Na(e.substring(2,r),2),p=0;p<f.length;p++){var $=(O=f[p]).charAt(0),Y=vs(O.charAt(1));t.set($,Y)}var ge=Na(e.substring(r,e.length-3),4);for(p=0;p<ge.length;p++){$=(O=ge[p]).charAt(0);var O,_e=O.charAt(1),Re=O.charAt(2),Ce=vs(O.charAt(3));if(!t.has(_e))throw new Error("missing node with id "+_e);if(!t.has(Re))throw new Error("missing node with id "+Re);var be=t.get(_e),Te=t.get(Re);t.set($,{l:Ce,0:be,1:Te})}var ze=e.slice(-3),Be=ze.charAt(0),Qe=ze.charAt(1);return{l:vs(ze.charAt(2)),0:t.get(Be),1:t.get(Qe)}}("14a2b0c/d1e,f+g5h.i4j*k-l)m(n6ohk1pdf1qef1rin-sjn-ton-ugn-vmn-whn-xkn-yln-zdf5{ef5|wx5}df7~dz7\x7fef7\xa1bk7\xa2e{7\xa3g|7\xa4ry7\xa5dp7\xa6gk7\xa7eq7\xa8gt7\xa9ac7\xaamv7\xabgu7\xacnm7\xadiy7\xaenw7\xaf\xa4s8\xb0\xab\xa68\xb1\xack8\xb2\xaam8\xb3\xaev8\xb4\xabn8\xb5\xacn8\xb6vm8\xb7xv8\xb8mn8\xb9\xadj8\xba\xaem8\xbbxm8\xbc\xad\xb93\xbd}~3\xbe\xa9\xb03\xbf\x7f\xa23\xc0\xa1\xa33\xc1m\xb13\xc2\xae\xba3\xc3m\xba3\xc4\xa9\xb43\xc5b\xae3\xc6m\xb53\xc7m\xbb3\xc8x\xbb3\xc9kn3\xcam\xb83\xcb\xbcj6\xcc\xc2m6\xcd\xc6\xc36\xce\xc8m6\xcfnm6\xd0\xca\xc76\xd1\xcc\xce,\xd2\xcd\xd0,\xd3\xc5\xc9,\xd4\xb2\xb6,\xd5\xb3\xb7,\xd6\xaen,\xd7\xba\xbb,\xd8mf9\xd9\xcb\xc19\xdaym9\xdbm\xcf9\xdc\xd1\xd29\xddz{2\xdepq2\xdf\xbd\xbf2\xe0\xbe\xc02\xe1\xa5\xa72\xe2\xb0\xa82\xe3\xc4\xd32\xe4\xb4\xd62\xe5\xddn0\xe6\xden0\xe7\xd8\xdb0\xe8\xd9\xdc0\xe9\xdfn0\xea\xe0\xe30\xeb\xb2\xd40\xec\xaf\xd50\xed\xe1n0\xee\xe2\xe40\xef\xb9\xd70\xf0\xe7v/\xf1\xe5\xe6/\xf2\xe7\xeb/\xf3\xe8\xec/\xf4\xe9\xed/\xf5\xea\xee/\xf6\xday/\xf7\xf2m(\xf8\xf3\xef(\xf9\xf6y(\xfa\xf7\xf8:\xfb\xf4\xf5:\xfcm\xf9:\xfd\xf0\xf14\xfe\xfa\xfb4\xff\xfe\xfd*\u0100\xfcm*\xff\u0100.")),Tu),pd,e)};function bd(e,t){return t.sort&&0!==t.sort.length?t.sort.map(function(n){return Object.keys(n)[0]}):[e]}var Iu=new WeakMap;function Sd(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var n=function(e){if(Iu.has(e))return Iu.get(e);var t=e.collection,n=e.getPreparedQuery(),r=t.schema.primaryPath,s=t.database.storage.statics.getSortComparator(t.storageInstance.schema,n),p=t.database.storage.statics.getQueryMatcher(t.storageInstance.schema,n),$={primaryKey:e.collection.schema.primaryPath,skip:n.skip,limit:n.limit,sortFields:bd(r,e.mangoQuery),sortComparator:function(se,ge){var _e={docA:se,docB:ge,rxQuery:e};return wn("preSortComparator",_e),s(_e.docA,_e.docB)},queryMatcher:function(se){var ge={doc:se,rxQuery:e};return wn("preQueryMatcher",ge),p(ge.doc)}};return Iu.set(e,$),$}(e),r=e._resultsData.slice(),s=e._resultsDataMap,f=!1,p=t.find(function(O){var $=function(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:kn.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}(O),se=function(e){var t=_d(e);return Wr[t]}({queryParams:n,changeEvent:$,previousResults:r,keyDocumentMap:s});return"runFullQueryAgain"===se||("doNothing"!==se?(f=!0,function(e,t,n,r,s){(0,Jn[e])({queryParams:t,changeEvent:n,previousResults:r,keyDocumentMap:s})}(se,n,$,r,s),!1):void 0)});return p?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:f,newResults:r}}var Cd=function(){function e(){this._map=new Map}return e.prototype.getByQuery=function(r){var s=r.toString();return this._map.has(s)||this._map.set(s,r),this._map.get(s)},e}();function wd(){return new Cd}function Wl(e,t){t.uncached=!0;var n=t.toString();e._map.delete(n)}var Hl=(100,3e4,function(r,s){if(!(s._map.size<100)){for(var f=Gn()-3e4,p=[],$=0,Y=Array.from(s._map.values());$<Y.length;$++){var se=Y[$];if(!(se.refCount$.observers.length>0)){if(0===se._lastEnsureEqual&&se._creationTime<f){Wl(s,se);continue}p.push(se)}}var ge=p.length-100;ge<=0||p.sort(function(Ce,be){return Ce._lastEnsureEqual-be._lastEnsureEqual}).slice(0,ge).forEach(function(Ce){return Wl(s,Ce)})}}),Mu=new WeakSet;var Id=0,Ua=function(){function e(n,r,s){this.id=++Id,this._execOverDatabaseCount=0,this._creationTime=Gn(),this._lastEnsureEqual=0,this.other={},this.uncached=!1,this.refCount$=new Co.X(null),this._latestChangeEvent=-1,this._resultsData=null,this._resultsDataMap=new Map,this._lastExecStart=0,this._lastExecEnd=0,this._resultsDocs$=new Co.X(null),this._ensureEqualQueue=vr,this.op=n,this.mangoQuery=r,this.collection=s,r||(r={selector:{}})}var t=e.prototype;return t._setResultData=function(r){var s=this,f=function(e,t){return t.map(function(n){return o(e,n)})}(this.collection,r),p=this.collection.schema.primaryPath;return this._resultsDataMap=new Map,this._resultsData=f.map(function(O){var $=O._dataSync$.getValue();return s._resultsDataMap.set($[p],$),$}),this._resultsDocs$.next(f),f},t._execOverDatabase=function(){var s,r=this;switch(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=Gn(),this.op){case"find":s=this.collection._queryStorageInstance(this);break;case"findOne":s=this.collection._queryStorageInstance(this,1);break;default:throw Ke("QU1",{collection:this.collection.name,op:this.op})}return s.then(function(f){return r._lastExecEnd=Gn(),f})},t.exec=function(r){var s=this;if(r&&"findOne"!==this.op)throw Ke("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Fu(this).then(function(){return(0,yu.z)(s.$)}).then(function(f){if(!f&&r)throw Ke("QU10",{collection:s.collection.name,query:s.mangoQuery,op:s.op});return f})},t.toString=function(){var r=Ns({op:this.op,query:this.mangoQuery,other:this.other},!0),s=JSON.stringify(r,js);return this.toString=function(){return s},s},t.getPreparedQuery=function(){var r={rxQuery:this,mangoQuery:Qn(this.mangoQuery)};wn("prePrepareQuery",r);var s=this.collection.database.storage.statics.prepareQuery(this.collection.storageInstance.schema,r.mangoQuery);return this.getPreparedQuery=function(){return s},s},t.doesDocumentDataMatch=function(r){return!r._deleted&&this.queryMatcher(J(this.collection,r))},t.remove=function(){var r;return this.exec().then(function(s){return r=s,Array.isArray(s)?Promise.all(s.map(function(f){return f.remove()})):s.remove()}).then(function(){return r})},t.update=function(r){throw Gt("update")},t.where=function(r){throw Gt("query-builder")},t.sort=function(r){throw Gt("query-builder")},t.skip=function(r){throw Gt("query-builder")},t.limit=function(r){throw Gt("query-builder")},$r(e,[{key:"$",get:function(){var r=this;if(!this._$){var s=this._resultsDocs$.pipe((0,Ks.z)(function(p){return Fu(r).then(function(O){return!O&&p})}),(0,zr.h)(function(p){return!!p}),(0,an.U)(function(p){return p.slice(0)}),(0,an.U)(function(p){return"findOne"===r.op?0===p.length?null:p[0]:p}),La(Oi)).asObservable(),f=this.collection.$.pipe((0,Qs.b)(function(){return Fu(r)}),(0,zr.h)(function(){return!1}));this._$=(0,bu.T)(s,f,this.refCount$.pipe((0,zr.h)(function(){return!1})))}return this._$}},{key:"queryMatcher",get:function(){return Di(this,"queryMatcher",this.collection.database.storage.statics.getQueryMatcher(this.collection.storageInstance.schema,this.getPreparedQuery()))}},{key:"asRxQuery",get:function(){return this}}]),e}();function Kl(e){return e.collection._queryCache.getByQuery(e)}function xu(e,t,n){if(t&&"object"!=typeof t)throw Qt("QU7",{queryObj:t});if(Array.isArray(t))throw Qt("QU8",{queryObj:t});wn("preCreateRxQuery",{op:e,queryObj:t,collection:n});var r=new Ua(e,t,n);return wn("createRxQuery",r=Kl(r)),function(e){Mu.has(e)||(Mu.add(e),Si().then(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"object"==typeof window&&window.requestIdleCallback?new Promise(function(t){return window.requestIdleCallback(t,{timeout:e})}):fo(0)}(200)}).then(function(){e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),Mu.delete(e)}))}(n),r}function Gl(e){return e._latestChangeEvent>=e.asRxQuery.collection._changeEventBuffer.counter}function Fu(e){return e.collection.database.destroyed||Gl(e)?vr:(e._ensureEqualQueue=e._ensureEqualQueue.then(function(){return function(e){if(e._lastEnsureEqual=Gn(),e.collection.database.destroyed||Gl(e))return vr;var t=!1,n=!1;if(-1===e._latestChangeEvent&&(n=!0),!n){var r=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(null===r)n=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.counter;var s=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(r),f=Sd(e,s);f.runFullQueryAgain?n=!0:f.changed&&(t=!0,e._setResultData(f.newResults))}}if(n){var p=e.collection._changeEventBuffer.counter;return e._execOverDatabase().then(function(O){return e._latestChangeEvent=p,Ta()(O,e._resultsData)||(t=!0,e._setResultData(O)),t})}return t}(e)}),e._ensureEqualQueue)}var xd=l(8675),Fd=function(){function e(){this._map=new Map,this._map=new Map}var t=e.prototype;return t.get=function(r){return this._map.get(r)},t.set=function(r,s){return this._map.set(r,s)},t.delete=function(r){return this._map.delete(r)},e}();function kd(){return new Fd}var Ld=function(){function e(n){var r=this;this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=n,this.subs.push(this.collection.$.pipe((0,zr.h)(function(s){return!s.isLocal})).subscribe(function(s){return r._handleChangeEvent(s)}))}var t=e.prototype;return t._handleChangeEvent=function(r){for(this.counter++,this.buffer.push(r),this.eventCounterMap.set(r,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},t.getArrayIndexByPointer=function(r){var f=this.eventCounterMap.get(this.buffer[0]);return r<f?null:r-f},t.getFrom=function(r){var s=[],f=this.getArrayIndexByPointer(r);if(null===f)return null;for(;;){var p=this.buffer[f];if(f++,!p)return s;s.push(p)}},t.runFrom=function(r,s){var f=this.getFrom(r);if(null===f)throw new Error("out of bounds");f.forEach(function(p){return s(p)})},t.reduceByLastOfDoc=function(r){return r.slice(0)},t.hasChangeWithRevision=function(r){for(var s=this.buffer.length;s>0;){s--;var f=this.buffer[s];if(f.documentData&&f.documentData._rev===r)return!0}return!1},t.destroy=function(){this.subs.forEach(function(r){return r.unsubscribe()})},e}(),Ql=["pre","post"],Zl=["insert","save","remove","create"],Yl=!1,Va=function(){function e(n,r,s,f,p){var O=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},$=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},Y=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},se=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},ge=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},_e=arguments.length>10&&void 0!==arguments[10]?arguments[10]:Hl,Re=arguments.length>11&&void 0!==arguments[11]?arguments[11]:{};this._isInMemory=!1,this.destroyed=!1,this._atomicUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._repStates=new Set,this._docCache=kd(),this._queryCache=wd(),this._crypter={},this._observable$={},this._changeEventBuffer={},this.database=n,this.name=r,this.schema=s,this.storageInstance=f,this.localDocumentsStore=p,this.instanceCreationOptions=O,this.migrationStrategies=$,this.methods=Y,this.attachments=se,this.options=ge,this.cacheReplacementPolicy=_e,this.statics=Re,Nd(this.asRxCollection)}var t=e.prototype;return t.prepare=function(r){try{var s=this;s._crypter=function(e,t){return new Fa(e,t)}(s.database.password,s.schema),s._observable$=s.database.eventBulks$.pipe((0,zr.h)(function(O){return O.collectionName===s.name}),(0,Ks.z)(function(O){return O.events})),s._changeEventBuffer=function(e){return new Ld(e)}(s.asRxCollection);var f=s.storageInstance.changeStream().subscribe(function(O){var $={id:O.id,internal:!1,collectionName:s.name,storageToken:ss(s.database.storageToken),events:O.events.map(function(Y){return bo(!1,Y,s)}),databaseToken:s.database.token};s.database.$emit($)});s._subs.push(f);var p=s.localDocumentsStore.changeStream().subscribe(function(O){var $={id:O.id,internal:!1,collectionName:s.name,storageToken:ss(s.database.storageToken),events:O.events.map(function(Y){return bo(!0,Y,s)}),databaseToken:s.database.token};s.database.$emit($)});return s._subs.push(p),s._subs.push(s._observable$.pipe((0,zr.h)(function(O){return!O.isLocal})).subscribe(function(O){var $=s._docCache.get(O.documentId);$&&$._handleChangeEvent(O)})),Promise.resolve()}catch(O){return Promise.reject(O)}},t.migrationNeeded=function(){throw Gt("migration")},t.getDataMigrator=function(){throw Gt("migration")},t.migrate=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getDataMigrator().migrate(r)},t.migratePromise=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getDataMigrator().migratePromise(r)},t._queryStorageInstance=function(r,s){try{var f=arguments,p=this,O=f.length>2&&void 0!==f[2]&&f[2],$=r.getPreparedQuery();return s&&($.limit=s),Promise.resolve(p.database.lockedRun(function(){return p.storageInstance.query($)})).then(function(Y){return Y.documents.map(function(ge){return me(p,ge,O)})})}catch(Y){return Promise.reject(Y)}},t.insert=function(r){try{var s=this,f=null;if(function(e){return void 0!==e&&!!e.isInstanceOfRxDocument}(r)){if(!(f=r)._isTemporary)throw Ke("COL1",{data:r});r=f.toJSON()}var p=Me(s,r),O=f;return Promise.resolve(s._runHooks("pre","insert",p)).then(function(){return s.schema.validate(p),Promise.resolve(H(s,{document:p})).then(function($){return f?f._dataSync$.next($):O=o(s,$),Promise.resolve(s._runHooks("post","insert",p,O)).then(function(){return O})})})}catch($){return Promise.reject($)}},t.bulkInsert=function(r){try{var s=this;if(0===r.length)return Promise.resolve({success:[],error:[]});var f=r.map(function(p){return Me(s,p)});return Promise.resolve(Promise.all(f.map(function(p){return s._runHooks("pre","insert",p).then(function(){return s.schema.validate(p),p})}))).then(function(p){var O=p.map(function(Y){return{document:J(s,Y)}}),$=new Map;return p.forEach(function(Y){$.set(Y[s.schema.primaryPath],Y)}),Promise.resolve(s.database.lockedRun(function(){return s.storageInstance.bulkWrite(O)})).then(function(Y){var ge=Object.entries(Y.success).map(function(_e){var Ce=_e[1],be=Ai($,_e[0]);return be._rev=Ce._rev,o(s,be)});return Promise.resolve(Promise.all(ge.map(function(_e){return s._runHooks("post","insert",$.get(_e.primary),_e)}))).then(function(){return{success:ge,error:Object.values(Y.error)}})})})}catch(p){return Promise.reject(p)}},t.bulkRemove=function(r){try{var s=this;return 0===r.length?Promise.resolve({success:[],error:[]}):Promise.resolve(s.findByIds(r)).then(function(f){var p=[],O=new Map;return Array.from(f.values()).forEach(function($){var Y=Qn($.toJSON(!0));p.push(Y),O.set($.primary,Y)}),Promise.resolve(Promise.all(p.map(function($){return s._runHooks("pre","remove",$,f.get($[s.schema.primaryPath]))}))).then(function(){var $=p.map(function(Y){var se=Nt(Y);return se._deleted=!0,{previous:J(s,Y),document:J(s,se)}});return Promise.resolve(s.database.lockedRun(function(){return s.storageInstance.bulkWrite($)})).then(function(Y){var se=Object.keys(Y.success);return Promise.resolve(Promise.all(se.map(function(ge){return s._runHooks("post","remove",O.get(ge),f.get(ge))}))).then(function(){return{success:se.map(function(_e){return f.get(_e)}),error:Object.values(Y.error)}})})})})}catch(f){return Promise.reject(f)}},t.upsert=function(r){var s=this,f=Me(this,r),p=f[this.schema.primaryPath];if(!p)throw Ke("COL3",{primaryPath:this.schema.primaryPath,data:f,schema:this.schema.jsonSchema});return this.findOne(p).exec().then(function(O){return O&&!O.deleted?(f._rev=O._rev,O.atomicUpdate(function(){return f}).then(function(){return O})):s.insert(r)})},t.atomicUpsert=function(r){var O,s=this,f=Me(this,r),p=f[this.schema.primaryPath];if(!p)throw Ke("COL4",{data:r});return O=(O=this._atomicUpsertQueues.has(p)?this._atomicUpsertQueues.get(p):Vr).then(function(){return function(e,t,n){var r=e._docCache.get(t);return r?Promise.resolve({doc:r,inserted:!1}):e.findOne(t).exec().then(function(s){return s?{doc:s,inserted:!1}:e.insert(n).then(function(f){return{doc:f,inserted:!0}})})}(s,p,f)}).then(function($){return $.inserted?$.doc:function(e,t){return e.atomicUpdate(function(n){return t._rev=n._rev,n._data=t,n._data}).then(function(){return e})}($.doc,f).then(function(){return Si()}).then(function(){return Si()}).then(function(){return Si()}).then(function(){return $.doc})}),this._atomicUpsertQueues.set(p,O),O},t.find=function(r){if("string"==typeof r)throw Ke("COL5",{queryObj:r});return r||(r={selector:{}}),xu("find",r,this)},t.findOne=function(r){var s;if("string"==typeof r){var f;s=xu("findOne",{selector:(f={},f[this.schema.primaryPath]=r,f)},this)}else{if(r||(r={selector:{}}),r.limit)throw Ke("QU6");s=xu("findOne",r,this)}if("number"==typeof r||Array.isArray(r))throw Qt("COL6",{queryObj:r});return s},t.findByIds=function(r){try{var s=this,f=new Map,p=[];r.forEach(function($){var Y=s._docCache.get($);Y?f.set($,Y):p.push($)});var O=function(){if(p.length>0)return Promise.resolve(s.storageInstance.findDocumentsById(p,!1)).then(function($){Object.values($).forEach(function(Y){Y=me(s,Y);var se=o(s,Y);f.set(se.primary,se)})})}();return Promise.resolve(O&&O.then?O.then(function(){return f}):f)}catch($){return Promise.reject($)}},t.findByIds$=function(r){var s=this,f=null,p=-1,O=this.findByIds(r).then(function($){p=s._changeEventBuffer.counter,f=$});return this.$.pipe((0,xd.O)(null),(0,Ks.z)(function($){return O.then(function(){return $})}),(0,Ks.z)(function($){try{var Y=ss(f),se=s._changeEventBuffer.getFrom(p+1),ge=function(){if(null===se)return Promise.resolve(s.findByIds(r)).then(function(_e){p=s._changeEventBuffer.counter,Array.from(_e.entries()).forEach(function(Re){return Y.set(Re[0],Re[1])})});se.filter(function(_e){return r.includes(_e.documentId)}).forEach(function(_e){var Re=_e.operation;"INSERT"===Re||"UPDATE"===Re?Y.set(_e.documentId,s._docCache.get(_e.documentId)):Y.delete(_e.documentId)})}();return Promise.resolve(ge&&ge.then?ge.then(function(){return Y}):Y)}catch(_e){return Promise.reject(_e)}}),(0,zr.h)(function($){return!!$}),La(Oi))},t.exportJSON=function(){throw Gt("json-dump")},t.importJSON=function(r){throw Gt("json-dump")},t.syncCouchDB=function(r){throw Gt("replication")},t.syncGraphQL=function(r){throw Gt("replication-graphql")},t.inMemory=function(){throw Gt("in-memory")},t.addHook=function(r,s,f){var p=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof f)throw Qt("COL7",{key:s,when:r});if(!Ql.includes(r))throw Qt("COL8",{key:s,when:r});if(!Zl.includes(s))throw Ke("COL9",{key:s});if("post"===r&&"create"===s&&!0===p)throw Ke("COL10",{when:r,key:s,parallel:p});var O=f.bind(this),$=p?"parallel":"series";this.hooks[s]=this.hooks[s]||{},this.hooks[s][r]=this.hooks[s][r]||{series:[],parallel:[]},this.hooks[s][r][$].push(O)},t.getHooks=function(r,s){try{return this.hooks[s][r]}catch{return{series:[],parallel:[]}}},t._runHooks=function(r,s,f,p){var O=this.getHooks(r,s);return O?function(e,t){return e.reduce(function(n,r){return n.then(r)},Promise.resolve(void 0))}(O.series.map(function(Y){return function(){return Y(f,p)}})).then(function(){return Promise.all(O.parallel.map(function(Y){return Y(f,p)}))}):Vr},t._runHooksSync=function(r,s,f,p){var O=this.getHooks(r,s);!O||O.series.forEach(function($){return $(f,p)})},t.newDocument=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r=this.schema.fillObjectWithDefaults(r);var s=ms(c(this),this,r);return s._isTemporary=!0,this._runHooksSync("post","create",r,s),s},t.destroy=function(){var r=this;return this.destroyed?vr:(this._onDestroyCall&&this._onDestroyCall(),this._subs.forEach(function(s){return s.unsubscribe()}),this._changeEventBuffer&&this._changeEventBuffer.destroy(),Array.from(this._repStates).forEach(function(s){return s.cancel()}),Promise.all([this.storageInstance.close(),this.localDocumentsStore.close()]).then(function(){return delete r.database.collections[r.name],r.destroyed=!0,Zn("postDestroyRxCollection",r).then(function(){return!0})}))},t.remove=function(){return this.database.removeCollection(this.name)},$r(e,[{key:"$",get:function(){return this._observable$}},{key:"insert$",get:function(){return this.$.pipe((0,zr.h)(function(r){return"INSERT"===r.operation}))}},{key:"update$",get:function(){return this.$.pipe((0,zr.h)(function(r){return"UPDATE"===r.operation}))}},{key:"remove$",get:function(){return this.$.pipe((0,zr.h)(function(r){return"DELETE"===r.operation}))}},{key:"onDestroy",get:function(){var r=this;return this._onDestroy||(this._onDestroy=new Promise(function(s){return r._onDestroyCall=s})),this._onDestroy}},{key:"asRxCollection",get:function(){return this}}]),e}();function Nd(e){if(!Yl){Yl=!0;var t=Object.getPrototypeOf(e);Zl.forEach(function(n){Ql.map(function(r){var s=r+Cn(n);t[s]=function(f,p){return this.addHook(r,n,f,p)}})})}}var Jl=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function ku(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var n=e._pHM.get(t);e._hPM.delete(n),e._pHM.delete(t)}e._iC.delete(t)}}function Lu(e){e._tryIR||0===e._iC.size||(e._tryIR=!0,setTimeout(function(){e.isIdle()?setTimeout(function(){e.isIdle()?(function(e){0!==e._iC.size&&(e._iC.values().next().value._manRes(),setTimeout(function(){return Lu(e)},0))}(e),e._tryIR=!1):e._tryIR=!1},0):e._tryIR=!1},0))}Jl.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,Lu(this)},wrapCall:function(t){var r,n=this;this.lock();try{r=t()}catch(s){throw this.unlock(),s}return r.then&&"function"==typeof r.then?r.then(function(s){return n.unlock(),s}).catch(function(s){throw n.unlock(),s}):(this.unlock(),r)},requestIdlePromise:function(t){var n=this;t=t||{};var r,s=new Promise(function(O){return r=O});if(s._manRes=function(){ku(n,s),r()},t.timeout){var p=setTimeout(function(){s._manRes()},t.timeout);s._timeoutObj=p}return this._iC.add(s),Lu(this),s},cancelIdlePromise:function(t){ku(this,t)},requestIdleCallback:function(t,n){var r=this._lHN++,s=this.requestIdlePromise(n);return this._hPM.set(r,s),this._pHM.set(s,r),s.then(function(){return t()}),r},cancelIdleCallback:function(t){var n=this._hPM.get(t);this.cancelIdlePromise(n)},clear:function(){var t=this;this._iC.forEach(function(n){return ku(t,n)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}},Promise.resolve(!1),Promise.resolve(!0);var Zs=Promise.resolve();function Xl(e,t){return e||(e=0),new Promise(function(n){return setTimeout(function(){return n(t)},e)})}function Bu(){return Math.random().toString(36).substring(2)}var ql=0,Nu=0;function $a(){var e=(new Date).getTime();return e===ql?1e3*e+ ++Nu:(ql=e,Nu=0,1e3*e)}var za="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);const qd={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),Zs}catch(n){return Promise.reject(n)}},canBeUsed:function(){if(za&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 150},microSeconds:$a};var Wa=function(){function e(t){this.ttl=t,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(t){return this.set.has(t)},e.prototype.add=function(t){var n=this;this.timeMap.set(t,ec()),this.set.add(t),setTimeout(function(){!function(e){for(var t=ec()-e.ttl,n=e.set[Symbol.iterator]();;){var r=n.next().value;if(!r)return;if(!(e.timeMap.get(r)<t))return;e.timeMap.delete(r),e.set.delete(r)}}(n)},0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function ec(){return(new Date).getTime()}function ju(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var hi="messages";function tc(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function nc(e){e.closed||rc(e).then(function(){return Xl(e.options.idb.fallbackInterval)}).then(function(){return nc(e)})}function rc(e){return e.closed||!e.messagesCallback?Zs:function(e,t){var n=e.transaction(hi).objectStore(hi),r=[];return new Promise(function(f){(function(){try{var f=IDBKeyRange.bound(t+1,1/0);return n.openCursor(f)}catch{return n.openCursor()}}()).onsuccess=function(p){var O=p.target.result;O?O.value.id<t+1?O.continue(t+1):(r.push(O.value),O.continue()):f(r)}})}(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(r){return!!r}).map(function(r){return r.id>e.lastCursorId&&(e.lastCursorId=r.id),r}).filter(function(r){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(r,e)}).sort(function(r,s){return r.time-s.time});return n.forEach(function(r){e.messagesCallback&&(e.eMIs.add(r.id),e.messagesCallback(r.data))}),Zs})}const yf={create:function(e,t){return t=ju(t),function(e){var r=tc().open("pubkey.broadcast-channel-0-"+e,1);return r.onupgradeneeded=function(f){f.target.result.createObjectStore(hi,{keyPath:"id",autoIncrement:!0})},new Promise(function(f,p){r.onerror=function(O){return p(O)},r.onsuccess=function(){f(r.result)}})}(e).then(function(n){var r={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:Bu(),eMIs:new Wa(2*t.idb.ttl),writeBlockPromise:Zs,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},nc(r),r})},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,rc(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return function(e,t,n){var s={uuid:t,time:(new Date).getTime(),data:n},f=e.transaction([hi],"readwrite");return new Promise(function(p,O){f.oncomplete=function(){return p()},f.onerror=function(Y){return O(Y)},f.objectStore(hi).add(s)})}(e.db,e.uuid,t)}).then(function(){0===Math.floor(11*Math.random()+0)&&function(e,t){(function(e,t){var n=(new Date).getTime()-t,r=e.transaction(hi).objectStore(hi),s=[];return new Promise(function(f){r.openCursor().onsuccess=function(p){var O=p.target.result;if(O){var $=O.value;if(!($.time<n))return void f(s);s.push($),O.continue()}else f(s)}})})(e,t).then(function(n){return Promise.all(n.map(function(r){return function(e,t){var n=e.transaction([hi],"readwrite").objectStore(hi).delete(t);return new Promise(function(r){n.onsuccess=function(){return r()}})}(e,r.id)}))})}(e.db,e.options.idb.ttl)}),e.writeBlockPromise},canBeUsed:function(){return!za&&!!tc()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:$a};function ic(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function sc(e){return"pubkey.broadcastChannel-"+e}function oc(){if(za)return!1;var e=ic();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}const If={create:function(e,t){if(t=ju(t),!oc())throw new Error("BroadcastChannel: localstorage cannot be used");var n=Bu(),r=new Wa(t.localstorage.removeTimeout),s={channelName:e,uuid:n,eMIs:r};return s.listener=function(e,t){var n=sc(e),r=function(f){f.key===n&&t(JSON.parse(f.newValue))};return window.addEventListener("storage",r),r}(e,function(f){!s.messagesCallback||f.uuid!==n&&(!f.token||r.has(f.token)||f.data.time&&f.data.time<s.messagesCallbackTime||(r.add(f.token),s.messagesCallback(f.data)))}),s},close:function(e){!function(e){window.removeEventListener("storage",e)}(e.listener)},onMessage:function(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(n){Xl().then(function(){var r=sc(e.channelName),s={token:Bu(),time:(new Date).getTime(),data:t,uuid:e.uuid},f=JSON.stringify(s);ic().setItem(r,f);var p=document.createEvent("Event");p.initEvent("storage",!0,!0),p.key=r,p.newValue=f,window.dispatchEvent(p),n()})})},canBeUsed:oc,type:"localstorage",averageResponseTime:function(){var t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?240:120},microSeconds:$a};var Mf=$a,Uu=new Set;const jf={create:function(e){var t={name:e,messagesCallback:null};return Uu.add(t),t},close:function(e){Uu.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(n){return setTimeout(function(){Array.from(Uu).filter(function(s){return s.name===e.name}).filter(function(s){return s!==e}).filter(function(s){return!!s.messagesCallback}).forEach(function(s){return s.messagesCallback(t)}),n()},5)})},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:Mf};var ac=[qd,yf,If],uc=new Set,Vf=0,Vu=function(t,n){this.id=Vf++,uc.add(this),this.name=t,this.options=ju(n),this.method=function(e){var t=[].concat(e.methods,ac).filter(Boolean);if(e.type){if("simulate"===e.type)return jf;var n=t.find(function(s){return s.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}!e.webWorkerSupport&&!za&&(t=t.filter(function(s){return"idb"!==s.type}));var r=t.find(function(s){return s.canBeUsed()});if(r)return r;throw new Error("No useable method found in "+JSON.stringify(ac.map(function(s){return s.type})))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,function(e){var t=e.method.create(e.name,e.options);!function(e){return!(!e||"function"!=typeof e.then)}(t)?e._state=t:(e._prepP=t,t.then(function(n){e._state=n}))}(this)};function lc(e,t,n){var s={time:e.method.microSeconds(),type:t,data:n};return(e._prepP?e._prepP:Zs).then(function(){var p=e.method.postMessage(e._state,s);return e._uMP.add(p),p.catch().then(function(){return e._uMP.delete(p)}),p})}function cc(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function dc(e,t,n){e._addEL[t].push(n),function(e){if(!e._iL&&cc(e)){var t=function(s){e._addEL[s.type].forEach(function(f){s.time>=f.time-1e5&&f.fn(s.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}(e)}function fc(e,t,n){e._addEL[t]=e._addEL[t].filter(function(r){return r!==n}),function(e){if(e._iL&&!cc(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}Vu._pubkey=!0,Vu.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return lc(this,"message",t)},postInternal:function(t){return lc(this,"internal",t)},set onmessage(e){var n={time:this.method.microSeconds(),fn:e};fc(this,"message",this._onML),e&&"function"==typeof e?(this._onML=n,dc(this,"message",n)):this._onML=null},addEventListener:function(t,n){dc(this,t,{time:this.method.microSeconds(),fn:n})},removeEventListener:function(t,n){fc(this,t,this._addEL[t].find(function(s){return s.fn===n}))},close:function(){var t=this;if(!this.closed){uc.delete(this),this.closed=!0;var n=this._prepP?this._prepP:Zs;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var hc=function(t,n,r,s){try{return Promise.resolve(t.createStorageInstance({databaseName:n,collectionName:"_rxdb_internal",schema:Xo(0,"collectionName"),options:r,multiInstance:s})).then(function(f){return Promise.resolve(t.createKeyObjectStorageInstance({databaseName:n,collectionName:"",options:r,multiInstance:s})).then(function(p){return{internalStore:f,localDocumentsStore:p}})})}catch(f){return Promise.reject(f)}},Qf=function(t){try{var n="storageToken";return Promise.resolve(oi(t.localDocumentsStore,n)).then(function(r){if(r)return r.value;var s=ht(10);return Promise.resolve(t.localDocumentsStore.bulkWrite([{document:{_id:n,value:s,_attachments:{}}}])).then(function(){return s})})}catch(r){return Promise.reject(r)}},zu=new Set,Ha=function(){function e(n,r,s,f,p){var O=arguments.length>5&&void 0!==arguments[5]&&arguments[5],$=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},Y=arguments.length>7?arguments[7]:void 0,se=arguments.length>8?arguments[8]:void 0,ge=arguments.length>9?arguments[9]:void 0,_e=arguments.length>10?arguments[10]:void 0;this.token=ht(10),this._subs=[],this.destroyed=!1,this.eventBulks$=new Gs.x,this.observable$=this.eventBulks$.pipe((0,Ks.z)(function(Re){return Re.events})),this.emittedEventBulkIds=new Wa(6e4),this.name=n,this.storage=r,this.instanceCreationOptions=s,this.password=f,this.multiInstance=p,this.eventReduce=O,this.options=$,this.idleQueue=Y,this.internalStore=se,this.localDocumentsStore=ge,this.broadcastChannel=_e,this.collections={}}var t=e.prototype;return t.dangerousRemoveCollectionInfo=function(){try{var r=this;return Promise.resolve(ds(r.storage,r.internalStore)).then(function(s){var f=s.map(function(p){var O=Nt(p);return O._deleted=!0,{previous:p,document:O}});return Promise.resolve(r.internalStore.bulkWrite(f)).then(function(){})})}catch(s){return Promise.reject(s)}},t.$emit=function(r){this.emittedEventBulkIds.has(r.id)||(this.emittedEventBulkIds.add(r.id),this.eventBulks$.next(r),function(e,t){e.destroyed||e.multiInstance&&e.broadcastChannel&&!t.internal&&e.token===t.databaseToken&&e.storageToken===t.storageToken&&e.broadcastChannel.postMessage(t).then(function(){return!0})}(this,r))},t.removeCollectionDoc=function(r,s){try{var f=this,p=Ka(r,s);return Promise.resolve(zs(f.internalStore,p)).then(function(O){if(!O)throw Ke("SNH",{name:r,schema:s});var $=Nt(O);return $._deleted=!0,Promise.resolve(f.lockedRun(function(){return f.internalStore.bulkWrite([{document:$,previous:O}])})).then(function(){})})}catch(O){return Promise.reject(O)}},t.addCollections=function(r){try{var s=this;return Promise.resolve(s.lockedRun(function(){return s.internalStore.findDocumentsById(Object.keys(r).map(function(f){return Ka(f,r[f].schema)}),!1)})).then(function(f){var p={};Object.entries(f).forEach(function($){p[$[0]]=$[1]});var O={};return Promise.resolve(Promise.all(Object.entries(r).map(function($){var Y=$[0],se=$[1],ge=Y,_e=p[Ka(Y,r[ge].schema)],Re=Nt(se);Re.name=ge;var Ce=function(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&wn("preCreateRxSchema",e);var n=new ea(gu(e));return wn("createRxSchema",n),n}(se.schema);if(O[ge]=Ce.hash,Re.schema=Ce,Re.database=s,Ce.crypt&&!s.password)throw Ke("DB7",{name:Y});if(s.collections[Y])throw Ke("DB3",{name:Y});if(_e&&_e.schemaHash!==O[ge])throw Ke("DB6",{name:Y,previousSchemaHash:_e.schemaHash,schemaHash:O[ge],previousSchema:_e.schema,schema:se.schema});var be=Nt(se);return be.database=s,be.name=Y,wn("preCreateRxCollection",be),function(e,t){var n=e.database,r=e.name,s=e.schema,f=e.instanceCreationOptions,p=void 0===f?{}:f,O=e.migrationStrategies,$=void 0===O?{}:O,Y=e.autoMigrate,se=void 0===Y||Y,ge=e.statics,_e=void 0===ge?{}:ge,Re=e.methods,Ce=void 0===Re?{}:Re,be=e.attachments,Te=void 0===be?{}:be,Ue=e.options,ze=void 0===Ue?{}:Ue,Be=e.cacheReplacementPolicy,Qe=void 0===Be?Hl:Be;kn.isDevMode()&&Object.keys(Ce).filter(function(lt){return s.topLevelFields.includes(lt)}).forEach(function(lt){throw Ke("COL18",{funName:lt})});var Je={databaseName:n.name,collectionName:r,schema:s.jsonSchema,options:p,multiInstance:n.multiInstance};return wn("preCreateRxStorageInstance",Je),y(r,n,Je,p).then(function(lt){var Xe=new Va(n,r,s,lt.storageInstance,lt.localDocumentsStore,p,$,Ce,Te,ze,Qe,_e);return Xe.prepare(t).then(function(){Object.entries(_e).forEach(function(It){var Vt=It[1];Object.defineProperty(Xe,It[0],{get:function(){return Vt.bind(Xe)}})});var ft=Vr;return se&&0!==Xe.schema.version&&(ft=Xe.migratePromise()),ft}).then(function(){return wn("createRxCollection",Xe),Xe}).catch(function(ft){return Promise.all([lt.storageInstance.close(),lt.localDocumentsStore.close()]).then(function(){return Promise.reject(ft)})})})}(Re,!!_e)}))).then(function($){var Y=[],se={};$.forEach(function(_e){var Re=_e.name;se[Re]=_e;var Ce=Ka(Re,r[Re].schema);p[Ce]||Y.push({document:{collectionName:Ce,schemaHash:O[Re],schema:_e.schema.normalized,version:_e.schema.version,_attachments:{}}}),s.collections[Re]=_e,s[Re]||Object.defineProperty(s,Re,{get:function(){return s.collections[Re]}})});var ge=function(){if(Y.length>0)return Promise.resolve(s.lockedRun(function(){return s.internalStore.bulkWrite(Y)})).then(function(){})}();return ge&&ge.then?ge.then(function(){return se}):se})})}catch(f){return Promise.reject(f)}},t.removeCollection=function(r){var s=this,f=Vr;return this.collections[r]&&(f=this.collections[r].destroy()),f.then(function(){return function(t,n){try{return Promise.resolve(t.lockedRun(function(){return ds(t.storage,t.internalStore)})).then(function(r){var s=r.filter(function(f){return f.collectionName.split("-")[0]===n});return Promise.all(s.map(function(f){var p=Nt(f);return p._deleted=!0,t.lockedRun(function(){return yr(t.internalStore,{previous:f,document:p})})})).then(function(){return s.map(function(f){return f.version})})})}catch(r){return Promise.reject(r)}}(s,r)}).then(function(p){return Promise.all(p.map(function(O){return y(r,s,{databaseName:s.name,collectionName:r,schema:Xo(O,"collectionName"),options:s.instanceCreationOptions,multiInstance:s.multiInstance},{})}))}).then(function(p){return Promise.all(p.map(function(O){return s.lockedRun(function(){return Promise.all([O.storageInstance.remove(),O.localDocumentsStore.remove()])})}))}).then(function(){})},t.lockedRun=function(r){return this.idleQueue.wrapCall(r)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(){throw Gt("json-dump")},t.importJSON=function(r){throw Gt("json-dump")},t.server=function(r){throw Gt("server")},t.backup=function(r){throw Gt("backup")},t.leaderElector=function(){throw Gt("leader-election")},t.isLeader=function(){throw Gt("leader-election")},t.waitForLeadership=function(){throw Gt("leader-election")},t.migrationStates=function(){throw Gt("migration")},t.destroy=function(){var r=this;return this.destroyed||(wn("preDestroyRxDatabase",this),this.destroyed=!0,this._subs.map(function(s){return s.unsubscribe()}),"pseudoInstance"===this.name)?vr:this.requestIdlePromise().then(function(){return Promise.all(Object.keys(r.collections).map(function(s){return r.collections[s]}).map(function(s){return s.destroy()}))}).then(function(){return r.internalStore.close()}).then(function(){return r.localDocumentsStore.close()}).then(function(){return r.broadcastChannel?r.broadcastChannel.close():null}).then(function(){return zu.delete(r.name)}).then(function(){return!0})},t.remove=function(){var r=this;return this.destroy().then(function(){return function(t,n){return Promise.resolve(hc(n,t,{},!1)).then(function(r){return Promise.resolve(ds(n,r.internalStore)).then(function(s){return Promise.resolve(Promise.all(s.map(function(f){try{var O=f.schema,$=f.collectionName.split("-"),Y=$[0],se=parseInt($[1],10),ge=li(O.primaryKey);return Promise.resolve(Promise.all([n.createStorageInstance({databaseName:t,collectionName:Y,schema:Xo(se,ge),options:{},multiInstance:!1}),n.createKeyObjectStorageInstance({databaseName:t,collectionName:Ve(Y),options:{},multiInstance:!1})])).then(function(_e){var Ce=_e[1];return Promise.resolve(Promise.all([_e[0].remove(),Ce.remove()])).then(function(){})})}catch(_e){return Promise.reject(_e)}}))).then(function(){return Promise.all([r.internalStore.remove(),r.localDocumentsStore.remove()])})})})}(r.name,r.storage)})},$r(e,[{key:"$",get:function(){return this.observable$}}]),e}();function Ka(e,t){return e+"-"+t.version}function Xf(e){var Re,t=e.storage,n=e.instanceCreationOptions,r=e.name,s=e.password,f=e.multiInstance,p=void 0===f||f,O=e.eventReduce,$=void 0!==O&&O,Y=e.ignoreDuplicate,se=void 0!==Y&&Y,ge=e.options,_e=void 0===ge?{}:ge;wn("preCreateRxDatabase",{storage:t,instanceCreationOptions:n,name:r,password:s,multiInstance:p,eventReduce:$,ignoreDuplicate:se,options:_e}),s&&kn.validatePassword(s),se||function(e){if(zu.has(e))throw Ke("DB8",{name:e,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}(r),zu.add(r),p&&(Re=new Vu("RxDB:"+r+":socket"));var Ce=new Jl;return hc(t,r,n,p).then(function(be){var Te=new Ha(r,t,n,s,p,$,_e,Ce,be.internalStore,be.localDocumentsStore,Re);return function(t){try{return Promise.resolve(Qf(t)).then(function(n){t.storageToken=n;var e,r=t.localDocumentsStore.changeStream().subscribe(function(s){var f={id:s.id,internal:!1,storageToken:ss(t.storageToken),events:s.events.map(function(p){return bo(!0,p)}),databaseToken:t.token};t.$emit(f)});t._subs.push(r),t.multiInstance&&ss((e=t).broadcastChannel).addEventListener("message",function(t){t.storageToken!==e.storageToken||t.databaseToken===e.token||e.$emit(t)})})}catch(n){return Promise.reject(n)}}(Te).then(function(){return Zn("createRxDatabase",Te)}).then(function(){return Te})})}var qf={RxSchema:ea.prototype,Crypter:Fa.prototype,RxDocument:Hs,RxQuery:Ua.prototype,RxCollection:Va.prototype,RxDatabase:Ha.prototype},Hu=new Set;function Oo(e){if(wn("preAddRxPlugin",{plugin:e,plugins:Hu}),!Hu.has(e)){if(Hu.add(e),!e.rxdb)throw Qt("PL1",{plugin:e});e.prototypes&&Object.entries(e.prototypes).forEach(function(t){return(0,t[1])(qf[t[0]])}),e.overwritable&&Object.assign(kn,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(function(t){return Pi[t[0]].push(t[1])})}}var Ku,Gu,Qu,pc={UT1:"given name is no string or empty",UT2:"collection- and database-names must match the regex to be compatible with couchdb databases.\n    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/\n    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'",UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",PL1:"Given plugin is not RxDB plugin. Pouchdb plugins must be added via addPouchPlugin()",PL2:"You tried importy a RxDB plugin to pouchdb. Use addRxPlugin() instead.",P1:"PouchDB.getBatch: limit must be > 2",P2:"bulkWrite() cannot be called with an empty array",P3:"bulkAddRevisions cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU7:"query must be an object",QU8:"query cannot be an array",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase.[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://pubkey.github.io/rxdb/questions-answers.html#cant-change-the-schema",DB7:"RxDatabase.addCollections(): schema encrypted but no password given",DB8:"RxDatabase.create(): A RxDatabase with the same name and adapter already exists.\nMake sure to use this combination only once or set ignoreDuplicate to true if you do this intentional",DB9:"RxDatabase.create(): Adapter not added. Use RxDB.plugin(require('pouchdb-adapter-[adaptername]'));",DB10:"RxDatabase.create(): To use leveldown-adapters, you have to add the leveldb-plugin. Use RxDB.plugin(require('pouchdb-adapter-leveldb'));",DB11:"RxDatabase.create(): Invalid db-name, folder-paths must not have an ending slash",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() fieldName ._id can only be used as primaryKey",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.atomicUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL19:"Document document update conflict, when changing a document you must work on the previous revision",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): cant save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",AT1:"to use attachments, please define this in your schema",EN1:"password is no string",EN2:"validatePassword: min-length of password not complied",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ cant use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not useable on local documents",LD7:"Local document already exists",RC1:"Replication: already added",RC2:"RxCollection.syncCouchDB() query must be from the same RxCollection",RC3:"RxCollection.syncCouchDB() Do not use a collection's pouchdb as remote, use the collection instead",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await inital replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await inital replication if multiInstance because the replication might run on another instance",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",DEV1:"dev-mode added multiple times, this is likely because you have mixed up the import from the the plugins/core and the full RxDB",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",IM1:"InMemory: Memory-Adapter must be added. Use addPouchPlugin(require('pouchdb-adapter-memory'));",IM2:"inMemoryCollection.sync(): Do not replicate with the in-memory instance. Replicate with the parent instead",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"cannot find sub schema by key",SNH:"This should never happen"},rh=new(Ma(Hs));function mc(){if(!Qu){var t=Object.getOwnPropertyNames(rh),n=Object.getOwnPropertyNames(Hs);Qu=[].concat(t,n,["deleted","synced"])}return Qu}function sh(e){var t=li(e.primaryKey);return function r(s,f){"object"==typeof s&&Object.keys(s).forEach(function(p){s.properties||function(s,f,p){if("string"==typeof s&&"object"==typeof f&&!Array.isArray(f)&&function(e){if(""!==e&&"_deleted"!==e){if(["properties","language"].includes(e))throw Ke("SC23",{fieldName:e});var t="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",n=new RegExp(t);if("_id"!==e&&!e.match(n))throw Ke("SC1",{regex:t,fieldName:e})}}(s),f.hasOwnProperty("item")&&"array"!==f.type)throw Ke("SC2",{fieldName:s});if(f.hasOwnProperty("required")&&"boolean"==typeof f.required)throw Ke("SC24",{fieldName:s});if(f.hasOwnProperty("ref"))if(Array.isArray(f.type)){if(f.type.length>2||!f.type.includes("string")||!f.type.includes("null"))throw Ke("SC4",{fieldName:s})}else switch(f.type){case"string":break;case"array":if(!f.items||!f.items.type||"string"!==f.items.type)throw Ke("SC3",{fieldName:s});break;default:throw Ke("SC4",{fieldName:s})}var O=p.split(".").length>=2;if(O){if(f.primary)throw Ke("SC6",{path:p,primary:f.primary});if(f.default)throw Ke("SC7",{path:p})}if(!O){if("_id"===s&&"_id"!==t)throw Ke("COL2",{fieldName:s});if("_"===s.charAt(0)){if("_id"===s||"_deleted"===s)return;throw Ke("SC8",{fieldName:s})}}}(p,s[p],f);var O=f;"properties"!==p&&(O=O+"."+p),r(s[p],O)})}(e,""),!0}function gc(e){for(var t=e.split("."),n="",r=0;r<t.length;r+=1)n=n.concat("[]"!==t[r]?".properties.".concat(t[r]):".items");return Ci(n)}function Zu(e){!e||Object.entries(e).forEach(function(t){var n=t[0],r=t[1];if("string"!=typeof n)throw Qt("COL14",{name:n});if(n.startsWith("_"))throw Qt("COL15",{name:n});if("function"!=typeof r)throw Qt("COL16",{name:n,type:typeof n});if(function(){if(!Ku){var e=new Va,t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Ku=[].concat(t,n)}return Ku}().includes(n)||mc().includes(n))throw Ke("COL17",{name:n})})}var vc="^[a-z][_$a-z0-9\\-]*$",dh=new RegExp(vc);function _c(e){if("string"!=typeof e||0===e.length)throw Qt("UT1",{name:e});if(as(e))return!0;if(!e.match(dh))throw Ke("UT2",{regex:vc,givenName:e});return!0}var hh=l(4949),ph=l.n(hh),yc="dev-mode",gh={name:yc,rxdb:!0,overwritable:{isDevMode:function(){return!0},deepFreezeWhenDevMode:function(e){return e&&ph()(e)},tunnelErrorMessage:function(t){if(!pc[t])throw console.error("RxDB: Error-Code not known: "+t),new Error("Error-Code "+t+" not known, contact the maintainer");return pc[t]}},hooks:{preAddRxPlugin:function(t){if(t.plugin.name===yc)throw Ke("DEV1",{plugins:t.plugins})},preCreateRxSchema:function(e){if(!e.primaryKey)throw Ke("SC30",{schema:e});if(!e.hasOwnProperty("properties"))throw Ke("SC29",{schema:e});if(e.properties._rev)throw Ke("SC10",{schema:e});if(!e.hasOwnProperty("version")||"number"!=typeof e.version||e.version<0)throw Ke("SC11",{version:e.version});if(sh(e),function(e){if(!e.primaryKey)throw Ke("SC30",{schema:e});function t(p){if(!p)throw Ke("SC33",{schema:e});var O=p.type;if(!O||!["string","number","integer"].includes(O))throw Ke("SC32",{schema:e,args:{schemaPart:p}})}if("string"==typeof e.primaryKey)t(e.properties[e.primaryKey]);else{var s=e.primaryKey;t(hs(e,s.key)),s.fields.forEach(function(p){t(hs(e,p))})}}(e),Object.keys(e.properties).forEach(function(t){var n=e.properties[t];if(t===e.primaryKey){if(e.indexes&&e.indexes.includes(t))throw Ke("SC13",{value:n,schema:e});if(n.unique)throw Ke("SC14",{value:n,schema:e});if(e.encrypted&&e.encrypted.includes(t))throw Ke("SC15",{value:n,schema:e});if("string"!==n.type)throw Ke("SC16",{value:n,schema:e})}if(mc().includes(t))throw Ke("SC17",{key:t,schema:e})}),e.indexes){if(!ii(e.indexes))throw Ke("SC18",{indexes:e.indexes,schema:e});e.indexes.forEach(function(t){if("string"!=typeof t&&!Array.isArray(t))throw Ke("SC19",{index:t,schema:e});if(Array.isArray(t))for(var n=0;n<t.length;n+=1)if("string"!=typeof t[n])throw Ke("SC20",{index:t,schema:e})})}if(Object.keys(e).includes("compoundIndexes"))throw Ke("SC25",{schema:e});Object.keys(ri(e)).map(function(t){var n=t.split(".");return n.pop(),n.join(".")}).filter(function(t){return""!==t}).filter(function(t,n,r){return r.indexOf(t)===n}).filter(function(t){return!!Bn().get(e,t).index}).forEach(function(t){throw Ke("SC26",{index:Ci(t=(t=t.replace("properties.","")).replace(/\.properties\./g,".")),schema:e})}),(e.indexes||[]).reduce(function(t,n){return ii(n)?t.concat(n):t.push(n),t},[]).filter(function(t,n,r){return r.indexOf(t)===n}).map(function(t){var n=gc(t),r=Bn().get(e,n);if(!r||"object"!=typeof r)throw Ke("SC21",{index:t,schema:e});return{indexPath:t,schemaObj:r}}).filter(function(t){return"string"!==t.schemaObj.type&&"integer"!==t.schemaObj.type&&"number"!==t.schemaObj.type}).forEach(function(t){throw Ke("SC22",{key:t.indexPath,type:t.schemaObj.type,schema:e})}),Object.keys(ri(e)).map(function(t){var n=t.split(".");return n.pop(),n.join(".")}).filter(function(t){return""!==t&&"attachments"!==t}).filter(function(t,n,r){return r.indexOf(t)===n}).filter(function(t){return!!Bn().get(e,t).encrypted}).forEach(function(t){throw Ke("SC27",{index:Ci(t=(t=t.replace("properties.","")).replace(/\.properties\./g,".")),schema:e})}),e.encrypted&&e.encrypted.forEach(function(t){var n=gc(t),r=Bn().get(e,n);if(!r||"object"!=typeof r)throw Ke("SC28",{field:t,schema:e})})},preCreateRxDatabase:function(t){!function(e){if(_c(e.name),as(e.name)&&(e.name.endsWith("/")||e.name.endsWith("\\")))throw Ke("DB11",{name:e.name})}(t)},preCreateRxCollection:function(t){if(function(e){if(function(){if(!Gu){var e=new Ha("pseudoInstance","memory"),t=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Gu=[].concat(t,n),e.destroy()}return Gu}().includes(e.name))throw Ke("DB5",{name:e.name});_c(e.name)}(t),"_"===t.name.charAt(0))throw Ke("DB2",{name:t.name});if(!t.schema)throw Ke("DB4",{name:t.name,args:t})},preCreateRxQuery:function(t){!function(e){if("[object Object]"!==Object.prototype.toString.call(e.queryObj))throw Qt("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj});var n=["selector","limit","skip","sort"];Object.keys(e.queryObj).forEach(function(r){if(!n.includes(r))throw Qt("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj,key:r})})}(t)},createRxCollection:function(t){Zu(t.statics),Zu(t.methods),Zu(t.attachments),t.schema&&t.migrationStrategies&&function(e,t){if("object"!=typeof t||Array.isArray(t))throw Qt("COL11",{schema:e});var n=function(e){var n=0;return new Array(e.version?e.version:0).fill(0).map(function(){return n++})}(e);if(n.length!==Object.keys(t).length)throw Ke("COL12",{have:Object.keys(t),should:n});n.map(function(r){return{v:r,s:t[r+1]}}).filter(function(r){return"function"!=typeof r.s}).forEach(function(r){throw Qt("COL13",{version:r.v,type:typeof r,schema:e})})}(t.schema,t.migrationStrategies)}}},vh=l(7466),bc=l.n(vh),_h=l(4384),Sh=function(t){return function(e,t){return bc().encrypt(e,t).toString()}(t,this.password)},Ch=function(t){var n=function(e,t){return bc().decrypt(e,t).toString(_h)}(t,this.password);return n},Dh={Crypter:function(t){t._encryptString=Sh,t._decryptString=Ch}},Ah={validatePassword:function(t){if(t&&"string"!=typeof t)throw Qt("EN1",{password:t});if(t&&t.length<8)throw Ke("EN2",{minPassLength:8,password:t})}},Oh={name:"encryption",rxdb:!0,prototypes:Dh,overwritable:Ah,hooks:{createRxDatabase:function(t){return function(t){try{if(!t.password)return Promise.resolve(vr);var n=lo(t.password),r="pwHash";return Promise.resolve(oi(t.localDocumentsStore,r)).then(function(s){return s?n===s.value||Promise.resolve(t.destroy()).then(function(){throw Ke("DB1",{passwordHash:lo(t.password),existingPasswordHash:s.value})}):Promise.resolve(t.localDocumentsStore.bulkWrite([{document:{_id:r,value:n,_attachments:{}}}])).then(function(){return!0})})}catch(s){return Promise.reject(s)}}(t)}}},Ph=("undefined"!=typeof AbortController&&AbortController,fetch),Ga=Headers;function Xn(e,t){if(e===t)return 0;e=Ys(e),t=Ys(t);var n=Xu(e),r=Xu(t);if(n-r!=0)return n-r;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var s=Xn(e[r],t[r]);if(0!==s)return s}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),r=Object.keys(t),s=Math.min(n.length,r.length),f=0;f<s;f++){var p=Xn(n[f],r[f]);if(0!==p||0!==(p=Xn(e[n[f]],t[r[f]])))return p}return n.length===r.length?0:n.length>r.length?1:-1}(e,t)}function Ys(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var r=0;r<n;r++)e[r]=Ys(t[r])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var s in e={},t)if(t.hasOwnProperty(s)){var f=t[s];void 0!==f&&(e[s]=Ys(f))}}}return e}function pi(e){return Xu(e=Ys(e))+""+function(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),r=e<0,s=r?"0":"2",p=function(e,t,n){var r=function(e,t,n){for(var r="",s=3-e.length;r.length<s;)r+="0";return r}(e);return r+e}(((r?-n:n)- -324).toString());s+=""+p;var O=Math.abs(parseFloat(t[0]));r&&(O=10-O);var $=O.toFixed(20);return s+""+$.replace(/\.?0+$/,"")}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),r=-1,s=n.length,f="";if(t)for(;++r<s;)f+=pi(n[r]);else for(;++r<s;){var p=n[r];f+=pi(p)+pi(e[p])}return f}return""}(e)+"\0"}function Rh(e,t){var r,n=t;if("1"===e[t])r=0,t++;else{var f="0"===e[t];t++;var p="",O=e.substring(t,t+3),$=parseInt(O,10)+-324;for(f&&($=-$),t+=3;;){var Y=e[t];if("\0"===Y)break;p+=Y,t++}r=1===(p=p.split(".")).length?parseInt(p,10):parseFloat(p[0]+"."+p[1]),f&&(r-=10),0!==$&&(r=parseFloat(r+"e"+$))}return{num:r,length:t-n}}function xh(e,t){var n=e.pop();if(t.length){var r=t[t.length-1];n===r.element&&(t.pop(),r=t[t.length-1]);var s=r.element,f=r.index;Array.isArray(s)?s.push(n):f===e.length-2?s[e.pop()]=n:e.push(n)}}function Xu(e){var n=["boolean","number","string","object"].indexOf(typeof e);return~n?null===e?1:Array.isArray(e)?5:n<3?n+2:n+3:Array.isArray(e)?5:void 0}function qu(e,t){for(var n=e,r=0,s=t.length;r<s&&(n=n[t[r]]);r++);return n}function jh(e,t,n){for(var r=0,s=t.length;r<s-1;r++){var f=t[r];e=e[f]=e[f]||{}}e[t[s-1]]=n}function el(e,t){return e<t?-1:e>t?1:0}function ia(e){for(var t=[],n="",r=0,s=e.length;r<s;r++){var f=e[r];"."===f?r>0&&"\\"===e[r-1]?n=n.substring(0,n.length-1)+".":(t.push(n),n=""):n+=f}return t.push(n),t}var Uh=["$or","$nor","$not"];function Cc(e){return Uh.indexOf(e)>-1}function Ir(e){return Object.keys(e)[0]}function tl(e){return e[Ir(e)]}function sa(e){var t={};return e.forEach(function(n){Object.keys(n).forEach(function(r){var s=n[r];if("object"!=typeof s&&(s={$eq:s}),Cc(r))t[r]=s instanceof Array?s.map(function(p){return sa([p])}):sa([s]);else{var f=t[r]=t[r]||{};Object.keys(s).forEach(function(p){var O=s[p];return"$gt"===p||"$gte"===p?function(e,t,n){void 0===n.$eq&&(void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}(p,O,f):"$lt"===p||"$lte"===p?function(e,t,n){void 0===n.$eq&&(void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}(p,O,f):"$ne"===p?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(O,f):"$eq"===p?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(O,f):void(f[p]=O)})}})}),t}function wc(e){for(var t in e){if(Array.isArray(e))for(var n in e)e[n].$and&&(e[n]=sa(e[n].$and));var r=e[t];"object"==typeof r&&wc(r)}return e}function Dc(e,t){for(var n in e){"$and"===n&&(t=!0);var r=e[n];"object"==typeof r&&(t=Dc(r,t))}return t}function nl(e){var t=hn(e),n=!1;Dc(t,!1)&&("$and"in(t=wc(t))&&(t=sa(t.$and)),n=!0),["$or","$nor"].forEach(function(O){O in t&&t[O].forEach(function($){for(var Y=Object.keys($),se=0;se<Y.length;se++){var ge=Y[se],_e=$[ge];("object"!=typeof _e||null===_e)&&($[ge]={$eq:_e})}})}),"$not"in t&&(t.$not=sa([t.$not]));for(var r=Object.keys(t),s=0;s<r.length;s++){var f=r[s],p=t[f];"object"!=typeof p||null===p?p={$eq:p}:"$ne"in p&&!n&&(p.$ne=[p.$ne]),t[f]=p}return t}function Qa(e,t,n){if(e=e.filter(function(p){return Po(p.doc,t.selector,n)}),t.sort){var r=function(e){function t(n){return e.map(function(r){var f=ia(Ir(r));return qu(n,f)})}return function(n,r){var p=Xn(t(n.doc),t(r.doc));return 0!==p?p:el(n.doc._id,r.doc._id)}}(t.sort);e=e.sort(r),"string"!=typeof t.sort[0]&&"desc"===tl(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var s=t.skip||0;e=e.slice(s,("limit"in t?t.limit:e.length)+s)}return e}function Po(e,t,n){return n.every(function(r){var s=t[r],f=ia(r),p=qu(e,f);return Cc(r)?function(e,t,n){return"$or"===e?t.some(function(r){return Po(n,r,Object.keys(r))}):"$not"===e?!Po(n,t,Object.keys(t)):!t.find(function(r){return Po(n,r,Object.keys(r))})}(r,s,e):rl(s,e,f,p)})}function rl(e,t,n,r){return!e||("object"==typeof e?Object.keys(e).every(function(s){return function(e,t,n,r,s){if(!Oc[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return Oc[e](t,n,r,s)}(s,t,e[s],n,r)}):e===r)}function oa(e){return null!=e}function Js(e){return void 0!==e}function Ac(e,t){return t.some(function(n){return e instanceof Array?e.indexOf(n)>-1:e===n})}var Oc={$elemMatch:function(e,t,n,r){return!(!Array.isArray(r)||0===r.length)&&r.some("object"==typeof r[0]?function(s){return Po(s,t,Object.keys(t))}:function(s){return rl(t,e,n,s)})},$allMatch:function(e,t,n,r){return!(!Array.isArray(r)||0===r.length)&&r.every("object"==typeof r[0]?function(s){return Po(s,t,Object.keys(t))}:function(s){return rl(t,e,n,s)})},$eq:function(e,t,n,r){return Js(r)&&0===Xn(r,t)},$gte:function(e,t,n,r){return Js(r)&&Xn(r,t)>=0},$gt:function(e,t,n,r){return Js(r)&&Xn(r,t)>0},$lte:function(e,t,n,r){return Js(r)&&Xn(r,t)<=0},$lt:function(e,t,n,r){return Js(r)&&Xn(r,t)<0},$exists:function(e,t,n,r){return t?Js(r):!Js(r)},$mod:function(e,t,n,r){return oa(r)&&function(e,t){var n=t[0],r=t[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(r,10)!==r)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%n===r}(r,t)},$ne:function(e,t,n,r){return t.every(function(s){return 0!==Xn(r,s)})},$in:function(e,t,n,r){return oa(r)&&Ac(r,t)},$nin:function(e,t,n,r){return oa(r)&&!Ac(r,t)},$size:function(e,t,n,r){return oa(r)&&function(e,t){return e.length===t}(r,t)},$all:function(e,t,n,r){return Array.isArray(r)&&function(e,t){return t.every(function(n){return e.indexOf(n)>-1})}(r,t)},$regex:function(e,t,n,r){return oa(r)&&function(e,t){return new RegExp(t).test(e)}(r,t)},$type:function(e,t,n,r){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(r,t)}};function np(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter)return t(new Error('selector invalid for filter "'+("string"==typeof e.filter?e.filter:"function")+'"'));t()}function rp(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=qi(e.view):e.filter=qi(e.filter))}function ip(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!Hn(e.db)}function sp(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var r=Ge(X,"`view` filter parameter not found or invalid.");return n(r)}var s=bs(t.view);e.db.get("_design/"+s[0],function(p,O){if(e.isCancelled)return n(null,{status:"cancelled"});if(p)return n(rt(p));var $=O&&O.views&&O.views[s[1]]&&O.views[s[1]].map;if(!$)return n(Ge(a,O.views?"missing json key: "+s[1]:"missing json key: views"));t.filter=function(e){return Mi(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{})}($),e.doChanges(t)})}else if(t.selector)t.filter=function(p){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var r=Qa([{doc:e}],{selector:t=nl(t)},Object.keys(t));return r&&1===r.length}(p,t.selector)},e.doChanges(t);else{var f=bs(t.filter);e.db.get("_design/"+f[0],function(p,O){if(e.isCancelled)return n(null,{status:"cancelled"});if(p)return n(rt(p));var $=O&&O.filters&&O.filters[f[1]];if(!$)return n(Ge(a,O&&O.filters?"missing json key: "+f[1]:"missing json key: filters"));t.filter=function(e){return Mi('"use strict";\nreturn '+e+";",{})}($),e.doChanges(t)})}}function aa(e,t,n){at().call(this);var r=this;this.db=e;var s=(t=t?hn(t):{}).complete=Br(function(O,$){O?function(e,t){return"listenerCount"in e?e.listenerCount(t):at().listenerCount(e,t)}(r,"error")>0&&r.emit("error",O):r.emit("complete",$),r.removeAllListeners(),e.removeListener("destroyed",f)});function f(){r.cancel()}n&&(r.on("complete",function(O){n(null,O)}),r.on("error",n)),e.once("destroyed",f),t.onChange=function(O,$,Y){r.isCancelled||function(e,t,n,r){try{e.emit("change",t,n,r)}catch(s){P("error",'Error in .on("change", function):',s)}}(r,O,$,Y)};var p=new Promise(function(O,$){t.complete=function(Y,se){Y?$(Y):O(se)}});r.once("cancel",function(){e.removeListener("destroyed",f),t.complete(null,{status:"cancelled"})}),this.then=p.then.bind(p),this.catch=p.catch.bind(p),this.then(function(O){s(null,O)},s),e.taskqueue.isReady?r.validateChanges(t):e.taskqueue.addTask(function(O){O?t.complete(O):r.isCancelled?r.emit("cancel"):r.validateChanges(t)})}function lp(e,t,n){var r=[{rev:e._rev}];"all_docs"===n.style&&(r=xi(t.rev_tree).map(function(f){return{rev:f.rev}}));var s={id:t.id,changes:r,doc:e};return dr(t,e._rev)&&(s.deleted=!0),n.conflicts&&(s.doc._conflicts=Jr(t),s.doc._conflicts.length||delete s.doc._conflicts),s}function Pc(e,t){return e<t?-1:e>t?1:0}function il(e,t){return function(n,r){n||r[0]&&r[0].error?((n=n||r[0]).docId=t,e(n)):e(null,r.length?r[0]:r)}}function dp(e,t){var n=Pc(e._id,t._id);return 0!==n?n:Pc(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function Tc(e){var t=e._compactionQueue[0],n=t.opts,r=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(s){s&&s.last_seq&&(n.last_seq=s.last_seq),e._compact(n,function(f,p){f?r(f):r(null,p),I()(function(){e._compactionQueue.shift(),e._compactionQueue.length&&Tc(e)})})})}function dn(){for(var e in at().call(this),dn.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function ua(){this.isReady=!1,this.failed=!1,this.queue=[]}function Ft(e,t){if(!(this instanceof Ft))return new Ft(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=hn(t),n.auto_compaction=t.auto_compaction,n.prefix=Ft.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var s=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=Ft.adapters,s=Ft.preferredAdapters,f=Ft.prefix,p=t.adapter;if(!p)for(var O=0;O<s.length&&"idb"===(p=s[O])&&"websql"in r&&de()&&localStorage["_pouch__websqldb_"+f+e];++O)P("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var $=r[p];return{name:$&&"use_prefix"in $&&!$.use_prefix?e:f+e,adapter:p}}((t.prefix||"")+e,t);if(t.name=s.name,t.adapter=t.adapter||s.adapter,n.name=e,n._adapter=t.adapter,Ft.emit("debug",["adapter","Picked adapter: ",t.adapter]),!Ft.adapters[t.adapter]||!Ft.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);dn.call(n),n.taskqueue=new ua,n.adapter=t.adapter,Ft.adapters[t.adapter].call(n,t,function(f){if(f)return n.taskqueue.fail(f);(function(e){function t(r){e.removeListener("closed",n),r||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)})(n),n.emit("created",n),Ft.emit("created",n.name),n.taskqueue.ready(n)})}T()(aa,at()),aa.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},aa.prototype.validateChanges=function(e){var t=e.complete,n=this;Ft._changesFilterPlugin?Ft._changesFilterPlugin.validate(e,function(r){if(r)return t(r);n.doChanges(e)}):n.doChanges(e)},aa.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=hn(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=lp,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(Ft._changesFilterPlugin){if(Ft._changesFilterPlugin.normalize(e),Ft._changesFilterPlugin.shouldFilter(this,e))return Ft._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(f){f in e&&P("warn",'The "'+f+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var r=this.db._changes(e);if(r&&"function"==typeof r.cancel){var s=t.cancel;t.cancel=L()(function(f){r.cancel(),s.apply(this,f)})}}else this.db.info().then(function(f){t.isCancelled?n(null,{status:"cancelled"}):(e.since=f.update_seq,t.doChanges(e))},n)},T()(dn,at()),dn.prototype.post=Xt("post",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(Ge(re));this.bulkDocs({docs:[e]},t,il(n,e._id))}),dn.prototype.put=Xt("put",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(Ge(re));if(Xi(e._id),Ur(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var p,O,Y,se,r=this;function f(p){"function"==typeof r._put&&!1!==t.new_edits?r._put(e,t,p):r.bulkDocs({docs:[e]},t,il(p,e._id))}t.force&&e._rev?(O=(p=e._rev.split("-"))[1],Y=parseInt(p[0],10)+1,se=Ri(),e._revisions={start:Y,ids:[se,O]},e._rev=Y+"-"+se,t.new_edits=!1,f(function(p){n(p,p?null:{ok:!0,id:e._id,rev:e._rev})})):f(n)}),dn.prototype.putAttachment=Xt("putAttachment",function(e,t,n,r,s){var f=this;function p(O){var $="_rev"in O?parseInt(O._rev,10):0;return O._attachments=O._attachments||{},O._attachments[t]={content_type:s,data:r,revpos:++$},f.put(O)}return"function"==typeof s&&(s=r,r=n,n=null),void 0===s&&(s=r,r=n,n=null),s||P("warn","Attachment",t,"on document",e,"is missing content_type"),f.get(e).then(function(O){if(O._rev!==n)throw Ge(m);return p(O)},function(O){if(O.reason===a.message)return p({_id:e});throw O})}),dn.prototype.removeAttachment=Xt("removeAttachment",function(e,t,n,r){var s=this;s.get(e,function(f,p){if(f)r(f);else{if(p._rev===n)return p._attachments?(delete p._attachments[t],0===Object.keys(p._attachments).length&&delete p._attachments,void s.put(p,r)):r();r(Ge(m))}})}),dn.prototype.remove=Xt("remove",function(e,t,n,r){var s;"string"==typeof t?(s={_id:e,_rev:t},"function"==typeof n&&(r=n,n={})):(s=e,"function"==typeof t?(r=t,n={}):(r=n,n=t)),(n=n||{}).was_delete=!0;var f={_id:s._id,_rev:s._rev||n.rev,_deleted:!0};if(Ur(f._id)&&"function"==typeof this._removeLocal)return this._removeLocal(s,r);this.bulkDocs({docs:[f]},n,il(r,f._id))}),dn.prototype.revsDiff=Xt("revsDiff",function(e,t,n){"function"==typeof t&&(n=t,t={});var r=Object.keys(e);if(!r.length)return n(null,{});var s=0,f=new E;function p($,Y){f.has($)||f.set($,{missing:[]}),f.get($).missing.push(Y)}r.map(function($){this._getRevisionTree($,function(Y,se){if(Y&&404===Y.status&&"missing"===Y.message)f.set($,{missing:e[$]});else{if(Y)return n(Y);!function($,Y){var se=e[$].slice(0);jr(Y,function(ge,_e,Re,Ce,be){var Te=_e+"-"+Re,Ue=se.indexOf(Te);-1!==Ue&&(se.splice(Ue,1),"available"!==be.status&&p($,Te))}),se.forEach(function(ge){p($,ge)})}($,se)}if(++s===r.length){var ge={};return f.forEach(function(_e,Re){ge[Re]=_e}),n(null,ge)}})},this)}),dn.prototype.bulkGet=Xt("bulkGet",function(e,t){Ie(this,e,t)}),dn.prototype.compactDocument=Xt("compactDocument",function(e,t,n){var r=this;this._getRevisionTree(e,function(s,f){if(s)return n(s);var p=function(e){var t={},n=[];return jr(e,function(r,s,f,p){var O=s+"-"+f;return r&&(t[O]=0),void 0!==p&&n.push({from:p,to:O}),O}),n.reverse(),n.forEach(function(r){t[r.from]=void 0===t[r.from]?1+t[r.to]:Math.min(t[r.from],1+t[r.to])}),t}(f),O=[],$=[];Object.keys(p).forEach(function(Y){p[Y]>t&&O.push(Y)}),jr(f,function(Y,se,ge,_e,Re){var Ce=se+"-"+ge;"available"===Re.status&&-1!==O.indexOf(Ce)&&$.push(Ce)}),r._doCompaction(e,$,n)})}),dn.prototype.compact=Xt("compact",function(e,t){"function"==typeof e&&(t=e,e={});var n=this;e=e||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:e,callback:t}),1===n._compactionQueue.length&&Tc(n)}),dn.prototype._compact=function(e,t){var n=this,s=[];n.changes({return_docs:!1,last_seq:e.last_seq||0}).on("change",function(O){s.push(n.compactDocument(O.id,0))}).on("complete",function(O){var $=O.last_seq;Promise.all(s).then(function(){return Yr(n,"_local/compaction",function(se){return(!se.last_seq||se.last_seq<$)&&(se.last_seq=$,se)})}).then(function(){t(null,{ok:!0})}).catch(t)}).on("error",t)},dn.prototype.get=Xt("get",function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(Ge(h));if(Ur(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var r=[],s=this;function f(){var $=[],Y=r.length;if(!Y)return n(null,$);r.forEach(function(se){s.get(e,{rev:se,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},function(ge,_e){if(ge)$.push({missing:se});else{for(var Re,Ce=0,be=$.length;Ce<be;Ce++)if($[Ce].ok&&$[Ce].ok._rev===_e._rev){Re=!0;break}Re||$.push({ok:_e})}--Y||n(null,$)})})}if(!t.open_revs)return this._get(e,t,function($,Y){if($)return $.docId=e,n($);var se=Y.doc,ge=Y.metadata,_e=Y.ctx;if(t.conflicts){var Re=Jr(ge);Re.length&&(se._conflicts=Re)}if(dr(ge,se._rev)&&(se._deleted=!0),t.revs||t.revs_info){for(var Ce=se._rev.split("-"),be=parseInt(Ce[0],10),Te=Ce[1],Ue=ws(ge.rev_tree),ze=null,Be=0;Be<Ue.length;Be++){var Qe=Ue[Be],Je=Qe.ids.map(function(Kt){return Kt.id}).indexOf(Te);(Je===be-1||!ze&&-1!==Je)&&(ze=Qe)}if(!ze)return($=new Error("invalid rev tree")).docId=e,n($);var Xe=ze.ids.map(function(Kt){return Kt.id}).indexOf(se._rev.split("-")[1])+1;if(ze.ids.splice(Xe,ze.ids.length-Xe),ze.ids.reverse(),t.revs&&(se._revisions={start:ze.pos+ze.ids.length-1,ids:ze.ids.map(function(Kt){return Kt.id})}),t.revs_info){var It=ze.pos+ze.ids.length;se._revs_info=ze.ids.map(function(Kt){return{rev:--It+"-"+Kt.id,status:Kt.opts.status}})}}if(t.attachments&&se._attachments){var kt=se._attachments,Vt=Object.keys(kt).length;if(0===Vt)return n(null,se);Object.keys(kt).forEach(function(Kt){this._getAttachment(se._id,Kt,kt[Kt],{rev:se._rev,binary:t.binary,ctx:_e},function(xt,Wt){var Yt=se._attachments[Kt];Yt.data=Wt,delete Yt.stub,delete Yt.length,--Vt||n(null,se)})},s)}else{if(se._attachments)for(var Zt in se._attachments)se._attachments.hasOwnProperty(Zt)&&(se._attachments[Zt].stub=!0);n(null,se)}});if("all"===t.open_revs)this._getRevisionTree(e,function($,Y){if($)return n($);r=xi(Y).map(function(se){return se.rev}),f()});else{if(!Array.isArray(t.open_revs))return n(Ge(Ee,"function_clause"));r=t.open_revs;for(var p=0;p<r.length;p++){var O=r[p];if("string"!=typeof O||!/^\d+-/.test(O))return n(Ge(De))}f()}}),dn.prototype.getAttachment=Xt("getAttachment",function(e,t,n,r){var s=this;n instanceof Function&&(r=n,n={}),this._get(e,n,function(f,p){return f?r(f):p.doc._attachments&&p.doc._attachments[t]?(n.ctx=p.ctx,n.binary=!0,void s._getAttachment(e,t,p.doc._attachments[t],n,r)):r(Ge(a))})}),dn.prototype.allDocs=Xt("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(r){return r in e})[0];if(n)return void t(Ge(G,"Query parameter `"+n+"` is not compatible with multi-get"));if(!Hn(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)}),dn.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new aa(this,e,t)},dn.prototype.close=Xt("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),dn.prototype.info=Xt("info",function(e){var t=this;this._info(function(n,r){if(n)return e(n);r.db_name=r.db_name||t.name,r.auto_compaction=!(!t.auto_compaction||Hn(t)),r.adapter=t.adapter,e(null,r)})}),dn.prototype.id=Xt("id",function(e){return this._id(e)}),dn.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},dn.prototype.bulkDocs=Xt("bulkDocs",function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(Ge(d));for(var r=0;r<e.docs.length;++r)if("object"!=typeof e.docs[r]||Array.isArray(e.docs[r]))return n(Ge(re));var s;if(e.docs.forEach(function(O){O._attachments&&Object.keys(O._attachments).forEach(function($){s=s||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}($),O._attachments[$].content_type||P("warn","Attachment",$,"on document",O._id,"is missing content_type")})}),s)return n(Ge(X,s));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var f=this;!t.new_edits&&!Hn(f)&&e.docs.sort(dp),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),s=0;s<r.length;s++){var f=r[s];n._attachments[f]=gr(n._attachments[f],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var p=e.docs.map(function(O){return O._id});return this._bulkDocs(e,t,function(O,$){if(O)return n(O);if(t.new_edits||($=$.filter(function(ge){return ge.error})),!Hn(f))for(var Y=0,se=$.length;Y<se;Y++)$[Y].id=$[Y].id||p[Y];n(null,$)})}),dn.prototype.registerDependentDatabase=Xt("registerDependentDatabase",function(e,t){var n=new this.constructor(e,this.__opts);Yr(this,"_local/_pouch_dependentDbs",function(s){return s.dependentDbs=s.dependentDbs||{},!s.dependentDbs[e]&&(s.dependentDbs[e]=!0,s)}).then(function(){t(null,{db:n})}).catch(t)}),dn.prototype.destroy=Xt("destroy",function(e,t){"function"==typeof e&&(t=e,e={});var n=this,r=!("use_prefix"in n)||n.use_prefix;function s(){n._destroy(e,function(f,p){if(f)return t(f);n._destroyed=!0,n.emit("destroyed"),t(null,p||{ok:!0})})}if(Hn(n))return s();n.get("_local/_pouch_dependentDbs",function(f,p){if(f)return 404!==f.status?t(f):s();var $=n.constructor,Y=Object.keys(p.dependentDbs).map(function(se){var ge=r?se.replace(new RegExp("^"+$.prefix),""):se;return new $(ge,n.__opts).destroy()});Promise.all(Y).then(s,t)})}),ua.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},ua.prototype.fail=function(e){this.failed=e,this.execute()},ua.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},ua.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},T()(Ft,dn),Ft.adapters={},Ft.preferredAdapters=[],Ft.prefix="_pouch_";var Ic=new(at());(function(e){Object.keys(at().prototype).forEach(function(n){"function"==typeof at().prototype[n]&&(e[n]=Ic[n].bind(Ic))});var t=e._destructionListeners=new E;e.on("ref",function(r){t.has(r.name)||t.set(r.name,[]),t.get(r.name).push(r)}),e.on("unref",function(r){if(t.has(r.name)){var s=t.get(r.name),f=s.indexOf(r);f<0||(s.splice(f,1),s.length>1?t.set(r.name,s):t.delete(r.name))}}),e.on("destroyed",function(r){if(t.has(r)){var s=t.get(r);t.delete(r),s.forEach(function(f){f.emit("destroyed",!0)})}})})(Ft),Ft.adapter=function(e,t,n){t.valid()&&(Ft.adapters[e]=t,n&&Ft.preferredAdapters.push(e))},Ft.plugin=function(e){if("function"==typeof e)e(Ft);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){Ft.prototype[t]=e[t]})}return this.__defaults&&(Ft.__defaults=Tt({},this.__defaults)),Ft},Ft.defaults=function(e){function t(n,r){if(!(this instanceof t))return new t(n,r);r=r||{},n&&"object"==typeof n&&(n=(r=n).name,delete r.name),r=Tt({},t.__defaults,r),Ft.call(this,n,r)}return T()(t,Ft),t.preferredAdapters=Ft.preferredAdapters.slice(),Object.keys(Ft).forEach(function(n){n in t||(t[n]=Ft[n])}),t.__defaults=Tt({},this.__defaults,e),t},Ft.fetch=function(e,t){return Ph(e,t)},Ft.plugin(function(e){e._changesFilterPlugin={validate:np,normalize:rp,shouldFilter:ip,filter:sp}}),Ft.version="7.2.2";const Za=Ft;function Xs(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Xs)}catch{}}function sl(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,sl)}catch{}}function ol(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,ol)}catch{}}function Mc(e,t){return t&&e.then(function(n){I()(function(){t(null,n)})},function(n){I()(function(){t(n)})}),e}function al(e,t){return function(){var n=arguments,r=this;return e.add(function(){return t.apply(r,n)})}}function Rc(e){var t=new w(e),n=new Array(t.size),r=-1;return t.forEach(function(s){n[++r]=s}),n}function ul(e){var t=new Array(e.size),n=-1;return e.forEach(function(r,s){t[++n]=s}),t}function la(){this.promise=new Promise(function(e){e()})}function xc(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function Fc(e,t,n,r,s,f){var O,p=function(e,t){return xc(e)+xc(t)+"undefined"}(n,r);if(!s&&(O=e._cachedViews=e._cachedViews||{})[p])return O[p];var $=e.info().then(function(Y){var se=Y.db_name+"-mrview-"+(s?"temp":Er(p));return Yr(e,"_local/"+f,function(_e){_e.views=_e.views||{};var Re=t;-1===Re.indexOf("/")&&(Re=t+"/"+t);var Ce=_e.views[Re]=_e.views[Re]||{};if(!Ce[se])return Ce[se]=!0,_e}).then(function(){return e.registerDependentDatabase(se).then(function(_e){var Re=_e.db;Re.auto_compaction=!0;var Ce={name:se,db:Re,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:r};return Ce.db.get("_local/lastSeq").catch(function(be){if(404!==be.status)throw be}).then(function(be){return Ce.seq=be?be.seq:0,O&&Ce.db.once("destroyed",function(){delete O[p]}),Ce})})})});return O&&(O[p]=$),$}T()(Xs,Error),T()(sl,Error),T()(ol,Error),la.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},la.prototype.finish=function(){return this.promise};var kc={},Lc=new la;function ll(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Nc(e,t){try{e.emit("error",t)}catch{P("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),P("error",t)}}function jc(e){return(e=hn(e)).index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function ca(e,t,n,r){var s,f;n.headers=new Ga({"Content-type":"application/json"}),e.fetch(t,n).then(function(p){return s=p.status,f=p.ok,p.json()}).then(function(p){if(f)r(null,p);else{p.status=s;var O=rt(p);r(O)}}).catch(r)}function Dp(e,t,n){t=jc(t),ca(e,"_index",{method:"POST",body:JSON.stringify(t)},n)}function Ap(e,t,n){ca(e,"_find",{method:"POST",body:JSON.stringify(t)},n)}function Op(e,t,n){ca(e,"_explain",{method:"POST",body:JSON.stringify(t)},n)}function Pp(e,t){ca(e,"_index",{method:"GET"},t)}function Tp(e,t,n){var r=t.ddoc,f=t.name;return r?f?void ca(e,"_index/"+[r,t.type||"json",f].map(encodeURIComponent).join("/"),{method:"DELETE"},n):n(new Error("you must provide an index's name")):n(new Error("you must provide an index's ddoc"))}function Uc(e){return function(){for(var t=arguments.length,n=new Array(t),r=-1;++r<t;)n[r]=arguments[r];return e.call(this,n)}}function da(e){return Uc(function(t){var n=t.pop(),r=e.apply(this,t);return function(e,t){e.then(function(n){I()(function(){t(null,n)})},function(n){I()(function(){t(n)})})}(r,n),r})}var cl=Uc(function(e){for(var t=[],n=0,r=e.length;n<r;n++){var s=e[n];Array.isArray(s)?t=t.concat(cl.apply(null,s)):t.push(s)}return t});function dl(e){for(var t={},n=0,r=e.length;n<r;n++)t=Tt(t,e[n]);return t}function Vc(e,t){for(var n=0,r=Math.min(e.length,t.length);n<r;n++)if(e[n]!==t[n])return!1;return!0}function $c(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}var Kp=function(e,t,n,r){function s(xe,Fe,He){try{Fe(He)}catch(st){Nc(xe,st)}}function f(xe,Fe,He,st,Ze){try{return{output:Fe(He,st,Ze)}}catch(ot){return Nc(xe,ot),{error:ot}}}function p(xe,Fe){var He=Xn(xe.key,Fe.key);return 0!==He?He:Xn(xe.value,Fe.value)}function O(xe,Fe,He){return He=He||0,"number"==typeof Fe?xe.slice(He,Fe+He):He>0?xe.slice(He):xe}function $(xe){var Fe=xe.value;return Fe&&"object"==typeof Fe&&Fe._id||xe.id}function se(xe){return function(Fe){return xe.include_docs&&xe.attachments&&xe.binary&&function(xe){xe.rows.forEach(function(Fe){var He=Fe.doc&&Fe.doc._attachments;!He||Object.keys(He).forEach(function(st){var Ze=He[st];He[st].data=$e(Ze.data,Ze.content_type)})})}(Fe),Fe}}function ge(xe,Fe,He,st){var Ze=Fe[xe];void 0!==Ze&&(st&&(Ze=encodeURIComponent(JSON.stringify(Ze))),He.push(xe+"="+Ze))}function _e(xe){if(void 0!==xe){var Fe=Number(xe);return isNaN(Fe)||Fe!==parseInt(xe,10)?xe:Fe}}function be(xe,Fe){var He=xe.descending?"endkey":"startkey",st=xe.descending?"startkey":"endkey";if(void 0!==xe[He]&&void 0!==xe[st]&&Xn(xe[He],xe[st])>0)throw new Xs("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(Fe.reduce&&!1!==xe.reduce){if(xe.include_docs)throw new Xs("{include_docs:true} is invalid for reduce");if(xe.keys&&xe.keys.length>1&&!xe.group&&!xe.group_level)throw new Xs("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(Ze){var ot=function(xe){if(xe){if("number"!=typeof xe)return new Xs('Invalid value for integer: "'+xe+'"');if(xe<0)return new Xs('Invalid value for positive integer: "'+xe+'"')}}(xe[Ze]);if(ot)throw ot})}function Be(xe){return function(Fe){if(404===Fe.status)return xe;throw Fe}}function lt(xe){var Fe="string"==typeof xe?xe:xe.name,He=kc[Fe];return He||(He=kc[Fe]=new la),He}function Xe(xe){return al(lt(xe),function(){return function(xe){var Fe,He;var Ze=t(xe.mapFun,function(wt,Lt){var un={id:He._id,key:Ys(wt)};null!=Lt&&(un.value=Ys(Lt)),Fe.push(un)}),ot=xe.seq||0;function mt(wt,Lt){return function(){return function(xe,Fe,He){var st="_local/lastSeq";return xe.db.get(st).catch(Be({_id:st,seq:0})).then(function(Ze){var ot=ul(Fe);return Promise.all(ot.map(function(mt){return function(xe,Fe,He){var st="_local/doc_"+xe,Ze={_id:st,keys:[]},ot=He.get(xe),mt=ot[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(ot[1])?Promise.resolve(Ze):Fe.db.get(st).catch(Be(Ze))).then(function(nt){return function(nt){return nt.keys.length?Fe.db.allDocs({keys:nt.keys,include_docs:!0}):Promise.resolve({rows:[]})}(nt).then(function(wt){return function(nt,wt){for(var Lt=[],un=new w,tn=0,Jt=wt.rows.length;tn<Jt;tn++){var Dn=wt.rows[tn].doc;if(Dn&&(Lt.push(Dn),un.add(Dn._id),Dn._deleted=!mt.has(Dn._id),!Dn._deleted)){var Gr=mt.get(Dn._id);"value"in Gr&&(Dn.value=Gr.value)}}var Rr=ul(mt);return Rr.forEach(function(va){if(!un.has(va)){var _a={_id:va},cd=mt.get(va);"value"in cd&&(_a.value=cd.value),Lt.push(_a)}}),nt.keys=Rc(Rr.concat(nt.keys)),Lt.push(nt),Lt}(nt,wt)})})}(mt,xe,Fe)})).then(function(mt){var Dt=sn(mt);return Ze.seq=He,Dt.push(Ze),xe.db.bulkDocs({docs:Dt})})})}(xe,wt,Lt)}}var Dt=new la;function vt(){return xe.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:ot,limit:50}).then(At)}function At(wt){var Lt=wt.results;if(Lt.length){var un=function(wt){for(var Lt=new E,un=0,tn=wt.length;un<tn;un++){var Jt=wt[un];if("_"!==Jt.doc._id[0]){Fe=[],(He=Jt.doc)._deleted||s(xe.sourceDB,Ze,He),Fe.sort(p);var nn=nt(Fe);Lt.set(Jt.doc._id,[nn,Jt.changes])}ot=Jt.seq}return Lt}(Lt);if(Dt.add(mt(un,ot)),!(Lt.length<50))return vt()}}function nt(wt){for(var un,Lt=new E,tn=0,Jt=wt.length;tn<Jt;tn++){var nn=wt[tn],Dn=[nn.key,nn.id];tn>0&&0===Xn(nn.key,un)&&Dn.push(tn),Lt.set(pi(Dn),nn),un=nn.key}return Lt}return vt().then(function(){return Dt.finish()}).then(function(){xe.seq=ot})}(xe)})()}function kt(xe,Fe){return al(lt(xe),function(){return function(xe,Fe){var He,st=xe.reduceFun&&!1!==Fe.reduce,Ze=Fe.skip||0;function ot(tn){return tn.include_docs=!0,xe.db.allDocs(tn).then(function(Jt){return He=Jt.total_rows,Jt.rows.map(function(nn){if("value"in nn.doc&&"object"==typeof nn.doc.value&&null!==nn.doc.value){var Dn=Object.keys(nn.doc.value).sort(),Gr=["id","key","value"];if(!(Dn<Gr||Dn>Gr))return nn.doc.value}var Rr=function(e){for(var t=[],n=[],r=0;;){var s=e[r++];if("\0"!==s)switch(s){case"1":t.push(null);break;case"2":t.push("1"===e[r]),r++;break;case"3":var f=Rh(e,r);t.push(f.num),r+=f.length;break;case"4":for(var p="";;){var O=e[r];if("\0"===O)break;p+=O,r++}p=p.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(p);break;case"5":var $={element:[],index:t.length};t.push($.element),n.push($);break;case"6":var Y={element:{},index:t.length};t.push(Y.element),n.push(Y);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+s)}else{if(1===t.length)return t.pop();xh(t,n)}}}(nn.doc._id);return{key:Rr[0],id:Rr[1],value:"value"in nn.doc?nn.doc.value:null}})})}function mt(tn){var Jt;if(Jt=st?function(xe,Fe,He){0===He.group_level&&delete He.group_level;var st=He.group||He.group_level,Ze=n(xe.reduceFun),ot=[],mt=isNaN(He.group_level)?Number.POSITIVE_INFINITY:He.group_level;Fe.forEach(function(nt){var wt=ot[ot.length-1],Lt=st?nt.key:null;if(st&&Array.isArray(Lt)&&(Lt=Lt.slice(0,mt)),wt&&0===Xn(wt.groupKey,Lt))return wt.keys.push([nt.key,nt.id]),void wt.values.push(nt.value);ot.push({keys:[[nt.key,nt.id]],values:[nt.value],groupKey:Lt})}),Fe=[];for(var Dt=0,vt=ot.length;Dt<vt;Dt++){var At=ot[Dt],Ct=f(xe.sourceDB,Ze,At.keys,At.values,!1);if(Ct.error&&Ct.error instanceof ol)throw Ct.error;Fe.push({value:Ct.error?null:Ct.output,key:At.groupKey})}return{rows:O(Fe,He.limit,He.skip)}}(xe,tn,Fe):{total_rows:He,offset:Ze,rows:tn},Fe.update_seq&&(Jt.update_seq=xe.seq),Fe.include_docs){var nn=Rc(tn.map($));return xe.sourceDB.allDocs({keys:nn,include_docs:!0,conflicts:Fe.conflicts,attachments:Fe.attachments,binary:Fe.binary}).then(function(Dn){var Gr=new E;return Dn.rows.forEach(function(Rr){Gr.set(Rr.id,Rr.doc)}),tn.forEach(function(Rr){var va=$(Rr),_a=Gr.get(va);_a&&(Rr.doc=_a)}),Jt})}return Jt}if(void 0!==Fe.keys&&!Fe.keys.length&&(Fe.limit=0,delete Fe.keys),void 0!==Fe.keys){var vt=Fe.keys.map(function(tn){var Jt={startkey:pi([tn]),endkey:pi([tn,{}])};return Fe.update_seq&&(Jt.update_seq=!0),ot(Jt)});return Promise.all(vt).then(sn).then(mt)}var Ct,nt,At={descending:Fe.descending};if(Fe.update_seq&&(At.update_seq=!0),"start_key"in Fe&&(Ct=Fe.start_key),"startkey"in Fe&&(Ct=Fe.startkey),"end_key"in Fe&&(nt=Fe.end_key),"endkey"in Fe&&(nt=Fe.endkey),void 0!==Ct&&(At.startkey=pi(Fe.descending?[Ct,{}]:[Ct])),void 0!==nt){var wt=!1!==Fe.inclusive_end;Fe.descending&&(wt=!wt),At.endkey=pi(wt?[nt,{}]:[nt])}if(void 0!==Fe.key){var Lt=pi([Fe.key]),un=pi([Fe.key,{}]);At.descending?(At.endkey=Lt,At.startkey=un):(At.startkey=Lt,At.endkey=un)}return st||("number"==typeof Fe.limit&&(At.limit=Fe.limit),At.skip=Ze),ot(At).then(mt)}(xe,Fe)})()}var Yt=function(e){return L()(function(t){var n=t.pop(),r=e.apply(this,t);return"function"==typeof n&&Mc(r,n),r})}(function(){var xe=this;return"function"==typeof xe._viewCleanup?function(xe){return new Promise(function(Fe,He){xe._viewCleanup(function(st,Ze){if(st)return He(st);Fe(Ze)})})}(xe):Hn(xe)?function(xe){return xe.fetch("_view_cleanup",{headers:new Ga({"Content-Type":"application/json"}),method:"POST"}).then(function(Fe){return Fe.json()})}(xe):function(xe){return xe.get("_local/"+e).then(function(Fe){var He=new E;Object.keys(Fe.views).forEach(function(Ze){var ot=ll(Ze),mt="_design/"+ot[0],Dt=ot[1],vt=He.get(mt);vt||(vt=new w,He.set(mt,vt)),vt.add(Dt)});var st={keys:ul(He),include_docs:!0};return xe.allDocs(st).then(function(Ze){var ot={};Ze.rows.forEach(function(vt){var At=vt.key.substring(8);He.get(vt.key).forEach(function(Ct){var nt=At+"/"+Ct;Fe.views[nt]||(nt=Ct);var wt=Object.keys(Fe.views[nt]),Lt=vt.doc&&vt.doc.views&&vt.doc.views[Ct];wt.forEach(function(un){ot[un]=ot[un]||Lt})})});var Dt=Object.keys(ot).filter(function(vt){return!ot[vt]}).map(function(vt){return al(lt(vt),function(){return new xe.constructor(vt,xe.__opts).destroy()})()});return Promise.all(Dt).then(function(){return{ok:!0}})})},Be({ok:!0}))}(xe)});return{query:function(xe,Fe,He){var st=this;"function"==typeof Fe&&(He=Fe,Fe={}),Fe=Fe?function(xe){return xe.group_level=_e(xe.group_level),xe.limit=_e(xe.limit),xe.skip=_e(xe.skip),xe}(Fe):{},"function"==typeof xe&&(xe={map:xe});var Ze=Promise.resolve().then(function(){return function(xe,Fe,He){if("function"==typeof xe._query)return function(xe,Fe,He){return new Promise(function(st,Ze){xe._query(Fe,He,function(ot,mt){if(ot)return Ze(ot);st(mt)})})}(xe,Fe,He);if(Hn(xe))return function(xe,Fe,He){var Ze,mt,Dt,st=[],ot="GET";if(ge("reduce",He,st),ge("include_docs",He,st),ge("attachments",He,st),ge("limit",He,st),ge("descending",He,st),ge("group",He,st),ge("group_level",He,st),ge("skip",He,st),ge("stale",He,st),ge("conflicts",He,st),ge("startkey",He,st,!0),ge("start_key",He,st,!0),ge("endkey",He,st,!0),ge("end_key",He,st,!0),ge("inclusive_end",He,st),ge("key",He,st,!0),ge("update_seq",He,st),st=""===(st=st.join("&"))?"":"?"+st,void 0!==He.keys){var At="keys="+encodeURIComponent(JSON.stringify(He.keys));At.length+st.length+1<=2e3?st+=("?"===st[0]?"&":"?")+At:(ot="POST","string"==typeof Fe?Ze={keys:He.keys}:Fe.keys=He.keys)}if("string"==typeof Fe){var Ct=ll(Fe);return xe.fetch("_design/"+Ct[0]+"/_view/"+Ct[1]+st,{headers:new Ga({"Content-Type":"application/json"}),method:ot,body:JSON.stringify(Ze)}).then(function(nt){return mt=nt.ok,Dt=nt.status,nt.json()}).then(function(nt){if(!mt)throw nt.status=Dt,rt(nt);return nt.rows.forEach(function(wt){if(wt.value&&wt.value.error&&"builtin_reduce_error"===wt.value.error)throw new Error(wt.reason)}),nt}).then(se(He))}return Ze=Ze||{},Object.keys(Fe).forEach(function(nt){Ze[nt]=Array.isArray(Fe[nt])?Fe[nt]:Fe[nt].toString()}),xe.fetch("_temp_view"+st,{headers:new Ga({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(Ze)}).then(function(nt){return mt=nt.ok,Dt=nt.status,nt.json()}).then(function(nt){if(!mt)throw nt.status=Dt,rt(nt);return nt}).then(se(He))}(xe,Fe,He);if("string"!=typeof Fe)return be(He,Fe),Lc.add(function(){return Fc(xe,"temp_view/temp_view",Fe.map,Fe.reduce,!0,e).then(function(vt){return function(e,t){return e.then(function(n){return t().then(function(){return n})},function(n){return t().then(function(){throw n})})}(Xe(vt).then(function(){return kt(vt,He)}),function(){return vt.db.destroy()})})}),Lc.finish();var st=Fe,Ze=ll(st),mt=Ze[1];return xe.get("_design/"+Ze[0]).then(function(Dt){var vt=Dt.views&&Dt.views[mt];if(!vt)throw new sl("ddoc "+Dt._id+" has no view named "+mt);return r(Dt,mt),be(He,vt),Fc(xe,st,vt.map,vt.reduce,!1,e).then(function(Ct){return"ok"===He.stale||"update_after"===He.stale?("update_after"===He.stale&&I()(function(){Xe(Ct)}),kt(Ct,He)):Xe(Ct).then(function(){return kt(Ct,He)})})})}(st,xe,Fe)});return Mc(Ze,He),Ze},viewCleanup:Yt}}("indexes",function(e,t){return function(e,t){var n=function(e){for(var t=0,n=e.length;t<n;t++)if(-1!==e[t].indexOf("."))return!1;return!0}(e),r=1===e.length;return n?r?function(e,t){return function(n){t(n[e])}}(e[0],t):function(e,t){return function(n){for(var r=[],s=0,f=e.length;s<f;s++)r.push(n[e[s]]);t(r)}}(e,t):r?function(e,t){var n=ia(e);return function(r){for(var s=r,f=0,p=n.length;f<p;f++)if(void 0===(s=s[n[f]]))return;t(s)}}(e[0],t):function(e,t){return function(n){for(var r=[],s=0,f=e.length;s<f;s++){for(var p=ia(e[s]),O=n,$=0,Y=p.length;$<Y;$++)if(void 0===(O=O[p[$]]))return;r.push(O)}t(r)}}(e,t)}(Object.keys(e.fields),t)},function(){throw new Error("reduce not supported")},function(e,t){var n=e.views[t];if(!n.map||!n.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")});function fl(e){return e._customFindAbstractMapper||Kp}function zc(e){return e.fields=e.fields.map(function(t){if("string"==typeof t){var n={};return n[t]="asc",n}return t}),e}function Zp(e,t){for(var n=[],r=0;r<t.def.fields.length;r++){var s=Ir(t.def.fields[r]);n.push(e[s])}return n}function Wc(e){return e.allDocs({startkey:"_design/",endkey:"_design/\uffff",include_docs:!0}).then(function(t){var n={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return n.indexes=cl(n.indexes,t.rows.filter(function(r){return"query"===r.doc.language}).map(function(r){return(void 0!==r.doc.views?Object.keys(r.doc.views):[]).map(function(f){return{ddoc:r.id,name:f,type:"json",def:zc(r.doc.views[f].options.def)}})})),n.indexes.sort(function(r,s){return el(r.name,s.name)}),n.total_rows=n.indexes.length,n})}var hl={"\uffff":{}};const rm={queryOpts:{limit:0,startkey:hl,endkey:null},inMemoryFields:[]};function im(e,t){for(var n=e.def.fields.map(Ir),r=0,s=n.length;r<s;r++)if(t===n[r])return!0;return!1}function sm(e,t){return"$eq"!==Ir(e[t])}function Hc(e,t){var n=t.def.fields.map(Ir);return e.slice().sort(function(r,s){var f=n.indexOf(r),p=n.indexOf(s);return-1===f&&(f=Number.MAX_VALUE),-1===p&&(p=Number.MAX_VALUE),el(f,p)})}function um(e,t,n,r){var s=cl(e,function(e,t,n){for(var r=!1,s=0,f=(n=Hc(n,e)).length;s<f;s++){var p=n[s];if(r||!im(e,p))return n.slice(s);s<f-1&&sm(t,p)&&(r=!0)}return[]}(t,n,r),function(e){var t=[];return Object.keys(e).forEach(function(n){Object.keys(e[n]).forEach(function(s){"$ne"===s&&t.push(n)})}),t}(n));return Hc(function(e){for(var t={},n=0;n<e.length;n++)t["$"+e[n]]=!0;return Object.keys(t).map(function(r){return r.substring(1)})}(s),t)}var cm=["$eq","$gt","$gte","$lt","$lte"];function Kc(e){return-1===cm.indexOf(e)}function fm(e,t,n,r){var s=e.def.fields.map(Ir);return!!function(e,t,n){if(t){var r=function(e,t){return!(e.length>t.length)&&Vc(e,t)}(t,e),s=Vc(n,e);return r&&s}return function(e,t){e=e.slice();for(var n=0,r=t.length;n<r;n++){var s=t[n];if(!e.length)break;var f=e.indexOf(s);if(-1===f)return!1;e.splice(f,1)}return!0}(n,e)}(s,t,n)&&function(e,t){var r=t[e[0]];return void 0===r||!(1===Object.keys(r).length&&"$ne"===Ir(r))}(s,r)}function vm(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function Sm(e,t){var n=e.selector,r=e.sort;if(function(e){return Object.keys(e).map(function(n){return e[n]}).some(function(n){return"object"==typeof n&&0===Object.keys(n).length})}(n))return Tt({},rm,{index:t[0]});var s=function(e,t){var s,n=Object.keys(e),r=t?t.map(Ir):[];return s=n.length>=r.length?n:r,0===r.length?{fields:s}:{fields:s=s.sort(function(f,p){var O=r.indexOf(f);-1===O&&(O=Number.MAX_VALUE);var $=r.indexOf(p);return-1===$&&($=Number.MAX_VALUE),O<$?-1:O>$?1:0}),sortOrder:t.map(Ir)}}(n,r),f=s.fields,O=function(e,t,n,r,s){var f=function(e,t,n,r){return r.filter(function(s){return fm(s,n,t,e)})}(e,t,n,r);if(0===f.length){if(s)throw{error:"no_usable_index",message:"There is no index available for this selector."};var p=r[0];return p.defaultUsed=!0,p}if(1===f.length&&!s)return f[0];var O=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t}(t);if(s){var Y="_design/"+s[0],se=2===s.length&&s[1],ge=f.find(function(_e){return!!(se&&_e.ddoc===Y&&se===_e.name||_e.ddoc===Y)});if(!ge)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return ge}return function(e,t){for(var n=null,r=-1,s=0,f=e.length;s<f;s++){var p=e[s],O=t(p);O>r&&(r=O,n=p)}return n}(f,function(_e){for(var Re=_e.def.fields.map(Ir),Ce=0,be=0,Te=Re.length;be<Te;be++)O[Re[be]]&&Ce++;return Ce})}(n,f,s.sortOrder,t,e.use_index),$=function(e,t){return t.defaultUsed?function(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}(e):1===t.def.fields.length?function(e,t){var p,n=Ir(t.def.fields[0]),r=e[n]||{},s=[];return Object.keys(r).forEach(function(O){Kc(O)&&s.push(n);var Y=function(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}return{startkey:null}}(O,r[O]);p=p?dl([p,Y]):Y}),{queryOpts:p,inMemoryFields:s}}(e,t):function(e,t){var p,O,n=t.def.fields.map(Ir),r=[],s=[],f=[];function $(It){!1!==p&&s.push(null),!1!==O&&f.push(hl),r=n.slice(It)}for(var Y=0,se=n.length;Y<se;Y++){var _e=e[n[Y]];if(!_e||!Object.keys(_e).length){$(Y);break}if(Object.keys(_e).some(Kc)){$(Y);break}if(Y>0){var Re="$gt"in _e||"$gte"in _e||"$lt"in _e||"$lte"in _e,Ce=Object.keys(e[n[Y-1]]),be=$c(Ce,["$eq"]),Te=$c(Ce,Object.keys(_e));if(Re&&!be&&!Te){$(Y);break}}for(var ze=Object.keys(_e),Be=null,Qe=0;Qe<ze.length;Qe++){var Je=ze[Qe],Xe=vm(Je,_e[Je]);Be=Be?dl([Be,Xe]):Xe}s.push("startkey"in Be?Be.startkey:null),f.push("endkey"in Be?Be.endkey:hl),"inclusive_start"in Be&&(p=Be.inclusive_start),"inclusive_end"in Be&&(O=Be.inclusive_end)}var ft={startkey:s,endkey:f};return void 0!==p&&(ft.inclusive_start=p),void 0!==O&&(ft.inclusive_end=O),{queryOpts:ft,inMemoryFields:r}}(e,t)}(n,O);return{queryOpts:$.queryOpts,index:O,inMemoryFields:um($.inMemoryFields,O,n,f)}}function Gc(e,t,n){return t.selector&&(t.selector=nl(t.selector)),t.sort&&(t.sort=function(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(t){if("string"==typeof t){var n={};return n[t]="asc",n}return t})}(t.sort)),t.use_index&&(t.use_index=function(e){var t=[];return"string"==typeof e?t.push(e):t=e,t.map(function(n){return n.replace("_design/","")})}(t.use_index)),function(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}(t),Wc(e).then(function(r){e.constructor.emit("debug",["find","planning query",t]);var s=Sm(t,r.indexes);e.constructor.emit("debug",["find","query plan",s]);var f=s.index;!function(e,t){if(t.defaultUsed&&e.sort){var n=e.sort.filter(function(r){return"_id"!==Object.keys(r)[0]}).map(function(r){return Object.keys(r)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}}(t,f);var p=Tt({include_docs:!0,reduce:!1,indexes_count:r.total_rows},s.queryOpts);return"startkey"in p&&"endkey"in p&&Xn(p.startkey,p.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===tl(t.sort[0])&&(p.descending=!0,p=function(e){var t=hn(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}(p)),s.inMemoryFields.length||("limit"in t&&(p.limit=t.limit),"skip"in t&&(p.skip=t.skip)),n?Promise.resolve(s,p):Promise.resolve().then(function(){if("_all_docs"===f.name)return function(e,t){var n=hn(t);return n.descending?("endkey"in n&&"string"!=typeof n.endkey&&(n.endkey=""),"startkey"in n&&"string"!=typeof n.startkey&&(n.limit=0)):("startkey"in n&&"string"!=typeof n.startkey&&(n.startkey=""),"endkey"in n&&"string"!=typeof n.endkey&&(n.limit=0)),"key"in n&&"string"!=typeof n.key&&(n.limit=0),n.limit>0&&n.indexes_count&&(n.original_limit=n.limit,n.limit+=n.indexes_count),e.allDocs(n).then(function(r){return r.rows=r.rows.filter(function(s){return!/^_design\//.test(s.id)}),n.original_limit&&(n.limit=n.original_limit),r.rows=r.rows.slice(0,n.limit),r})}(e,p);var $=function(e){return e.ddoc.substring(8)+"/"+e.name}(f);return fl(e).query.call(e,$,p)}).then(function($){!1===p.inclusive_start&&($.rows=function(e,t,n){for(var r=n.def.fields,s=0,f=e.length;s<f;s++){var O=Zp(e[s].doc,n);if(1===r.length)O=O[0];else for(;O.length>t.length;)O.pop();if(Math.abs(Xn(O,t))>0)break}return s>0?e.slice(s):e}($.rows,p.startkey,f)),s.inMemoryFields.length&&($.rows=Qa($.rows,t,s.inMemoryFields));var Y={docs:$.rows.map(function(se){var ge=se.doc;return t.fields?function(e,t){for(var n={},r=0,s=t.length;r<s;r++){var f=ia(t[r]),p=qu(e,f);void 0!==p&&jh(n,f,p)}return n}(ge,t.fields):ge})};return f.defaultUsed&&(Y.warning="No matching index found, create an index to optimize query time."),Y}))})}var Om=da(function(e,t){var r,n=hn((t=jc(t)).index);function s(){return r||(r=Er(JSON.stringify(t)))}t.index=zc(t.index),function(e){var t=e.fields.filter(function(n){return"asc"===tl(n)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}(t.index);var f=t.name||"idx-"+s(),p=t.ddoc||"idx-"+s(),O="_design/"+p,$=!1,Y=!1;return e.constructor.emit("debug",["find","creating index",O]),Yr(e,O,function(ge){return ge._rev&&"query"!==ge.language&&($=!0),ge.language="query",ge.views=ge.views||{},!(Y=!!ge.views[f])&&(ge.views[f]={map:{fields:dl(t.index.fields)},reduce:"_count",options:{def:n}},ge)}).then(function(){if($)throw new Error('invalid language for ddoc with id "'+O+'" (should be "query")')}).then(function(){var ge=p+"/"+f;return fl(e).query.call(e,ge,{limit:0,reduce:!1}).then(function(){return{id:O,name:f,result:Y?"exists":"created"}})})}),Pm=da(Gc),Tm=da(function(e,t){return Gc(e,t,!0).then(function(n){return{dbname:e.name,index:n.index,selector:t.selector,range:{start_key:n.queryOpts.startkey,end_key:n.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}})}),Im=da(Wc),Mm=da(function(e,t){if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var n=t.ddoc,r=t.name;return Yr(e,n,function(f){return 1===Object.keys(f.views).length&&f.views[r]?{_id:n,_deleted:!0}:(delete f.views[r],f)}).then(function(){return fl(e).viewCleanup.apply(e)}).then(function(){return{ok:!0}})}),To={};To.createIndex=ln(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));(Hn(this)?Dp:Om)(this,e,t)}),To.find=ln(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));(Hn(this)?Ap:Pm)(this,e,t)}),To.explain=ln(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to explain()"));(Hn(this)?Op:Tm)(this,e,t)}),To.getIndexes=ln(function(e){(Hn(this)?Pp:Im)(this,e)}),To.deleteIndex=ln(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));(Hn(this)?Tp:Mm)(this,e,t)});const Rm=To;var fa=function(t){try{if(!t)return Promise.resolve({});var n={};return Promise.resolve(Promise.all(Object.entries(t).map(function(r){try{var s=r[0],f=r[1];if(!f.type)throw Ke("SNH",{args:{obj:f}});var p=function(){if(f.data){var O=f;return Promise.resolve(Promise.all([Jc(O.data),_r_toString(O.data)])).then(function($){n[s]={digest:Xc+"-"+$[0],length:$[1].length,type:O.type}})}n[s]=f}();return Promise.resolve(p&&p.then?p.then(function(){}):void 0)}catch(O){return Promise.reject(O)}}))).then(function(){return n})}catch(r){return Promise.reject(r)}},Io=new Set,Ja="_local/",Qc="_design/";function Xa(e,t){return"_id"===e||t[e]||((t=Nt(t))[e]=t._id,delete t._id),t}function Hr(e,t){var n=Xa(e,t);return delete(n=Nt(n))._revisions,n._attachments={},t._attachments&&Object.entries(t._attachments).forEach(function(r){var f=r[1];n._attachments[r[0]]=f.data?{data:f.data,type:f.type?f.type:f.content_type}:{digest:f.digest,type:f.type?f.type:f.content_type,length:f.length}}),n}function Zc(e,t){var n=pl(e,t);return(n=Nt(n))._attachments={},t._attachments&&Object.entries(t._attachments).forEach(function(r){var f=r[1];n._attachments[r[0]]=f.data?{data:f.data,content_type:f.type}:{digest:f.digest,content_type:f.type,length:f.length,stub:!0}}),n}function pl(e,t){if("_id"===e)return t;var n=t[e],r=Nt(t);return delete r[e],r._id=n,r}function Yc(e,t,n){if(!t)throw new Error("primary missing !!");return(e?"local":"non-local")+"|"+t+"|"+n}function ml(e,t){if("_id"===t)return e;if(Array.isArray(e))return e.map(function(r){return ml(r,t)});if("object"==typeof e){var n={};return Object.entries(e).forEach(function(r){var s=r[0],f=r[1];s===t?n._id=f:n[s]=s.startsWith("$")?ml(f,t):f}),n}return e}function Jc(e){return new Promise(function(t){ur(e,function(n){t(n)})})}var Xc="md5",qc=!1,ed=new Map;function td(e){var t=[e.name,e.adapter].join("|"),n=ed.get(t);return n||(n={subject:new Gs.x},ed.set(t,n)),n}var Lm=0;function gl(e,t,n,r){var s="DELETE"===t.operation?t.previous:t.doc,f=s[e];return{eventId:Yc(!1,f,s._rev),documentId:f,change:t,startTime:n,endTime:r}}function nd(e){if(e.rxdb)throw Qt("PL2",{plugin:e});"object"==typeof e&&e.default&&(e=e.default),Za.plugin(e)}nd(Rm),function(){if(!qc){qc=!0;var e=Za.prototype.bulkDocs;Za.plugin({bulkDocs:function(r,s,f){try{var se,p=function(){var Ce=Nt(s);return Ce.isDeeper=!0,e.call(O,se,Ce,function(be,Te){if(!be)return function(){try{var Ue=function(){if(!f)return Te;f(null,Te)},ze=function(){if(!s.isDeeper){var Be=Gn();return Promise.resolve(function(t,n){try{var r=[],s=function(){if(n.writeOptions.hasOwnProperty("new_edits")&&!n.writeOptions.new_edits)return Promise.resolve(Promise.all(n.writeDocs.map(function(p){try{var O=p._id;return p=Hr(t,p),Promise.resolve(fa(p._attachments)).then(function($){p._attachments=$;var Y=n.previousDocs.get(O);if(Y&&(Y=Hr(t,Y)),!(Y&&wi(Y._rev)>wi(p._rev))&&(Y||!p._deleted)&&!(Y&&Y._deleted&&p._deleted)){var se;if(Y&&!Y._deleted||p._deleted)if(p._deleted&&Y&&!Y._deleted)Y._rev=p._rev,se={operation:"DELETE",doc:null,id:O,previous:Y};else{if(!Y)throw Ke("SNH",{args:{writeDoc:p}});se={operation:"UPDATE",doc:p,id:O,previous:Y}}else se={operation:"INSERT",doc:p,id:O,previous:null};var ge=gl(t,se,n.startTime,n.endTime);r.push(ge)}})}catch($){return Promise.reject($)}}))).then(function(){});var f=function(){if(!n.writeOptions.custom||n.writeOptions.custom&&!n.writeOptions.custom.writeRowById){var p=new Map;return n.writeDocs.forEach(function($){return p.set($._id,$)}),Promise.resolve(Promise.all(n.writeResult.map(function($){try{var Y=$.id;if(Y.startsWith(Qc)||Y.startsWith(Ja))return Promise.resolve();var se=Ai(p,$.id);return se=Hr(t,se),Promise.resolve(fa(se._attachments)).then(function(ge){se._attachments=ge,(se=Nt(se))._rev=$.rev;var _e=function(e,t){if(!t)throw Ke("SNH",{args:{pouchDoc:t}});var n=t._id,r=Hr(e,t),s=r._rev?wi(r._rev):1;return t._deleted?{operation:"DELETE",id:n,doc:null,previous:r}:1===s?{operation:"INSERT",id:n,doc:r,previous:null}:{operation:"UPDATE",id:n,doc:r,previous:"UNKNOWN"}}(t,se),Re=gl(t,_e);r.push(Re)})}catch(ge){return Promise.reject(ge)}}))).then(function(){})}var O=n.writeOptions.custom.writeRowById;return Promise.resolve(Promise.all(n.writeResult.map(function($){try{if($.error)return Promise.resolve();var Y=$.id,se=Ai(O,Y),ge=Hr(t,se.document);return Promise.resolve(fa(ge._attachments)).then(function(_e){function Re(){if(!se.document._deleted||se.previous&&!se.previous._deleted){var Te=gl(n.writeOptions.custom.primaryPath,Ce,n.startTime,n.endTime);r.push(Te)}}ge._attachments=_e,ge._rev=$.rev;var Ce,be=function(){if(!se.previous||se.previous._deleted)Ce={operation:"INSERT",doc:ge,id:Y,previous:null};else{var Te=function(){if(se.document._deleted){var Ue=Hr(t,se.previous);return Promise.resolve(fa(Ue._attachments)).then(function(ze){Ue._attachments=ze,Ue._rev=$.rev,Ce={operation:"DELETE",doc:null,id:$.id,previous:Ue}})}Ce={operation:"UPDATE",doc:ge,id:$.id,previous:se.previous}}();if(Te&&Te.then)return Te.then(function(){})}}();return be&&be.then?be.then(Re):Re()})}catch(_e){return Promise.reject(_e)}}))).then(function(){})}();return f&&f.then?f.then(function(){}):void 0}();return Promise.resolve(s&&s.then?s.then(function(){return r}):r)}catch(f){return Promise.reject(f)}}("_id",{emitId:Y,writeDocs:se,writeOptions:s,writeResult:Te,previousDocs:ge,startTime:$,endTime:Be})).then(function(Je){var lt={id:ht(10),events:Je};td(O).subject.next(lt)})}}();return Promise.resolve(ze&&ze.then?ze.then(Ue):Ue())}catch(Be){return Promise.reject(Be)}}();if(!f)throw be;f(be)})},O=this,$=Gn(),Y=Lm++;if("function"==typeof s&&(f=s,s={}),s||(s={}),Array.isArray(r)?se=r:void 0===r?se=[]:(se=r.docs,r.hasOwnProperty("new_edits")&&(s.new_edits=r.new_edits)),0===se.length)throw Ke("SNH",{args:{body:r,options:s}});var ge=new Map,_e=function(){if(s.hasOwnProperty("new_edits")&&!1===s.new_edits){var Re=se.map(function(Ce){return Ce._id});return Promise.resolve(O.changes({live:!1,since:0,doc_ids:Re,style:"all_docs"})).then(function(Ce){return Promise.resolve(Promise.all(Ce.results.map(function(be){try{return Promise.resolve(O.get(be.id,{rev:be.changes[0].rev,deleted:"ok",revs:!!s.set_new_edit_as_latest_revision,style:"all_docs"}))}catch(Te){return Promise.reject(Te)}}))).then(function(be){be.forEach(function(Te){return ge.set(Te._id,Te)}),s.set_new_edit_as_latest_revision&&se.forEach(function(Te){var ze=ge.get(Te._id);if(ze){var Be=Te._rev.split("-"),Qe=parseInt(Be[0],10),Je=Be[1];ze._revisions||(ze._revisions={ids:[]}),Te._revisions={start:Qe,ids:ze._revisions.ids},Te._revisions.ids.unshift(Je),delete ze._revisions}})})})}}();return Promise.resolve(_e&&_e.then?_e.then(p):p())}catch(Re){return Promise.reject(Re)}}})}}();var ha=Za,jm=0,Um=function(){function e(n,r,s,f,p){var O=this;this.id=jm++,this.changes$=new Gs.x,this.subs=[],this.databaseName=n,this.collectionName=r,this.schema=s,this.internals=f,this.options=p,Io.add(this),this.primaryPath=li(this.schema.primaryKey);var $=td(this.internals.pouch),Y=new Wa(6e4),se=$.subject.subscribe(function(ge){try{return 0===ge.events.length||Y.has(ge.id)||(Y.add(ge.id),ge.events.forEach(function(_e){_e.change.doc&&(_e.change.doc=Xa(O.primaryPath,_e.change.doc)),_e.change.previous&&(_e.change.previous=Xa(O.primaryPath,_e.change.previous))}),O.changes$.next(ge)),Promise.resolve()}catch(_e){return Promise.reject(_e)}});this.subs.push(se)}var t=e.prototype;return t.close=function(){return this.subs.forEach(function(r){return r.unsubscribe()}),Io.delete(this),Vr},t.remove=function(){try{var r=this;return r.subs.forEach(function(s){return s.unsubscribe()}),Io.delete(r),Promise.resolve(r.internals.pouch.destroy()).then(function(){})}catch(s){return Promise.reject(s)}},t.bulkAddRevisions=function(r){try{var s=this;if(0===r.length)throw Ke("P3",{args:{documents:r}});var f=r.map(function(p){return Zc(s.primaryPath,p)});return Promise.resolve(s.internals.pouch.bulkDocs(f,{new_edits:!1,set_new_edit_as_latest_revision:!0})).then(function(){})}catch(p){return Promise.reject(p)}},t.bulkWrite=function(r){try{var s=this;if(0===r.length)throw Ke("P2",{args:{documentWrites:r}});var f=new Map,p=r.map(function(O){f.set(O.document[s.primaryPath],O);var Y=Zc(s.primaryPath,O.document);return O.previous&&(Y._rev=O.previous._rev),Y});return Promise.resolve(s.internals.pouch.bulkDocs(p,{custom:{primaryPath:s.primaryPath,writeRowById:f}})).then(function(O){var $={success:{},error:{}};return Promise.resolve(Promise.all(O.map(function(Y){try{var se=Ai(f,Y.id),ge=function(){if(!Y.error){var Re=function(){$.success[Y.id]=Ce},Ce=Nt(se.document);(Ce=Xa(s.primaryPath,Ce))._rev=Y.rev,Ce._attachments={};var be=function(){if(se.document._attachments)return Promise.resolve(fa(se.document._attachments)).then(function(Te){Ce._attachments=Te});se.document._attachments={}}();return be&&be.then?be.then(Re):Re()}$.error[Y.id]={isError:!0,status:409,documentId:Y.id,writeRow:se}}();return Promise.resolve(ge&&ge.then?ge.then(function(){}):void 0)}catch(_e){return Promise.reject(_e)}}))).then(function(){return $})})}catch(O){return Promise.reject(O)}},t.query=function(r){try{var s=this;return Promise.resolve(s.internals.pouch.find(r)).then(function(f){return{documents:f.docs.map(function(O){return Hr(s.primaryPath,O)})}})}catch(f){return Promise.reject(f)}},t.getAttachmentData=function(r,s){try{return Promise.resolve(this.internals.pouch.getAttachment(r,s))}catch(p){return Promise.reject(p)}},t.findDocumentsById=function(r,s){try{var f=function(se){return p?se:Promise.resolve(O.internals.pouch.allDocs({include_docs:!0,keys:r})).then(function(ge){var _e={};return ge.rows.filter(function(Re){return!!Re.doc}).forEach(function(Re){var Ce=Re.doc;Ce=Hr(O.primaryPath,Ce),_e[Re.id]=Ce}),_e})},p=!1,O=this,$=function(){if(s)return Promise.resolve(O.internals.pouch.changes({live:!1,since:0,doc_ids:r,style:"all_docs"})).then(function(Y){var se={};return Promise.resolve(Promise.all(Y.results.map(function(ge){try{return Promise.resolve(O.internals.pouch.get(ge.id,{rev:ge.changes[0].rev,deleted:"ok",style:"all_docs"})).then(function(_e){var Re=Hr(O.primaryPath,_e);se[ge.id]=Re})}catch(_e){return Promise.reject(_e)}}))).then(function(){return p=!0,se})})}();return Promise.resolve($&&$.then?$.then(f):f($))}catch(Y){return Promise.reject(Y)}},t.changeStream=function(){return this.changes$.asObservable()},t.getChangedDocuments=function(r){try{return Promise.resolve(this.internals.pouch.changes({live:!1,limit:r.limit,include_docs:!1,since:r.sinceSequence,descending:"before"===r.direction})).then(function(p){return{changedDocuments:p.results.filter(function(Y){return!Y.id.startsWith(Qc)}).map(function(Y){return{id:Y.id,sequence:Y.seq}}),lastSequence:p.last_seq}})}catch(p){return Promise.reject(p)}},e}(),$m=function(){function e(n,r,s,f){this.changes$=new Gs.x,this.databaseName=n,this.collectionName=r,this.internals=s,this.options=f,Io.add(this)}var t=e.prototype;return t.close=function(){return Io.delete(this),Vr},t.remove=function(){try{return Io.delete(this),Promise.resolve(this.internals.pouch.destroy()).then(function(){})}catch(s){return Promise.reject(s)}},t.bulkWrite=function(r){try{var s=this;if(0===r.length)throw Ke("P2",{args:{documentWrites:r}});var f=new Map,p=r.map(function($){f.set($.document._id,$);var Y=Nt($.document);return Y._id=Ja+Y._id,$.previous&&(Y._rev=$.previous._rev),Y}),O=Gn();return Promise.resolve(s.internals.pouch.bulkDocs(p)).then(function($){var Y=Gn(),se={success:{},error:{}},ge={id:ht(10),events:[]};return $.forEach(function(_e){_e.id=function(e){return e.substring(Ja.length)}(_e.id);var Re=Ai(f,_e.id);if(_e.error)se.error[_e.id]={isError:!0,status:409,documentId:_e.id,writeRow:Re};else{var Te,be=Nt(Re.document);if(be._rev=_e.rev,be._attachments={},se.success[_e.id]=be,Re.previous)if(Re.document._deleted){var Ue=Nt(Re.previous);Ue._rev=_e.rev,Te={operation:"DELETE",doc:null,id:_e.id,previous:Ue}}else Te={operation:"UPDATE",doc:be,id:_e.id,previous:Re.previous};else Te={operation:"INSERT",doc:be,id:_e.id,previous:null};if(!Re.document._deleted||Re.previous&&!Re.previous._deleted){var ze="DELETE"===Te.operation?Te.previous:Te.doc,Be=Yc(!0,ze._id,ze._rev?ze._rev:"");ge.events.push({eventId:Be,documentId:_e.id,change:Te,startTime:O,endTime:Y})}}}),s.changes$.next(ge),se})}catch($){return Promise.reject($)}},t.findLocalDocumentsById=function(r){try{var s=this,f={};return Promise.resolve(Promise.all(r.map(function(p){try{var O=Ja+p,$=function(e,t){try{var n=Promise.resolve(s.internals.pouch.get(O)).then(function(Y){Y._id=p,f[p]=Y})}catch(r){return}return n&&n.then?n.then(void 0,t):n}(0,function(){});return Promise.resolve($&&$.then?$.then(function(){}):void 0)}catch(Y){return Promise.reject(Y)}}))).then(function(){return f})}catch(p){return Promise.reject(p)}},t.changeStream=function(){return this.changes$.asObservable()},e}(),zm={hash:function(t){return Jc(t)},hashKey:Xc,getSortComparator:function(t,n){var r,s=li(t.primaryKey),f=n.sort?n.sort:[(r={},r[s]="asc",r)],p=Object.keys(n.selector).filter(function($){return!$.startsWith("$")});return function(Y,se){if(Y[s]===se[s])throw Ke("SNH",{args:{a:Y,b:se},primaryPath:s});var ge=[Y,se].map(function(Re){return{doc:pl(s,Re)}}),_e=Qa(ge,{selector:{},sort:f},p);if(2!==_e.length)throw Ke("SNH",{query:n,primaryPath:s,args:{rows:ge,sortedRows:_e}});return _e[0].doc._id===ge[0].doc._id?-1:1}},getQueryMatcher:function(t,n){var r=li(t.primaryKey),s=nl(n.selector);return function(O){var se=Qa([{doc:pl(r,O)}],{selector:s},Object.keys(n.selector));return se&&1===se.length}},prepareQuery:function(t,n){var r=li(t.primaryKey),s=n;if(s.sort&&s.sort.forEach(function(p){var O=Object.keys(p)[0],$=["$gt","$gte","$lt","$lte"];if(!s.selector[O]||!Object.keys(s.selector[O]).some(function(ge){return $.includes(ge)})){var se=hs(t,O);if(!se)throw Ke("QU5",{query:s,key:O,schema:t});switch(s.selector[O]||(s.selector[O]={}),se.type){case"number":case"integer":s.selector[O].$gt=-1e28;break;case"string":"string"!=typeof s.selector[O]&&(s.selector[O].$gt="");break;default:s.selector[O].$gt=null}}}),s.selector[r]&&s.selector[r].$regex)throw Ke("QU4",{path:r,query:n});if(s.sort){var f=s.sort.map(function(p){var O,$=Object.keys(p)[0],Y=Object.values(p)[0];return(O={})[$===r?"_id":$]=Y,O});s.sort=f}return Object.entries(s.selector).forEach(function(p){var O=p[0],$=p[1];"object"==typeof $&&null!==$&&!Array.isArray($)&&0===Object.keys($).length&&delete s.selector[O]}),s.selector=ml(s.selector,r),s}},Hm=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.name="pouchdb",this.statics=zm,this.adapter=n,this.pouchSettings=r,Km(n)}var t=e.prototype;return t.createPouch=function(r,s){try{var p={location:r,adapter:os(this.adapter),settings:s},O=Object.assign({},p.adapter,this.pouchSettings,p.settings),$=new ha(p.location,O);return Promise.resolve($)}catch(Y){return Promise.reject(Y)}},t.createStorageInstance=function(r){try{var f=rd(r.databaseName,r.collectionName,r.schema.version);return Promise.resolve(this.createPouch(f,r.options)).then(function(p){return Promise.resolve(function(t,n){try{if(!n.indexes)return Promise.resolve();var r=li(n.primaryKey);return Promise.resolve(t.getIndexes()).then(function(s){var f=new Set(s.indexes.map(function(p){return p.name}));return Promise.resolve(Promise.all(n.indexes.map(function(p){try{var O=ii(p)?p:[p],$="idx-rxdb-index-"+(O=O.map(function(Y){return Y===r?"_id":Y})).join(",");return f.has($)?Promise.resolve():Promise.resolve(t.createIndex({name:$,ddoc:$,index:{fields:O}}))}catch(Y){return Promise.reject(Y)}}))).then(function(){})})}catch(s){return Promise.reject(s)}}(p,r.schema)).then(function(){return new Um(r.databaseName,r.collectionName,r.schema,{pouch:p},r.options)})})}catch(p){return Promise.reject(p)}},t.createKeyObjectStorageInstance=function(r){try{var f=Nt(r.options);f.auto_compaction=!1,f.revs_limit=1;var p=rd(r.databaseName,r.collectionName,0);return Promise.resolve(this.createPouch(p,r.options)).then(function(O){return new $m(r.databaseName,r.collectionName,{pouch:O},r.options)})}catch(O){return Promise.reject(O)}},e}();function Km(e){if("string"==typeof e){if(!ha.adapters||!ha.adapters[e])throw Ke("DB9",{adapter:e})}else if(function(e){if(!e||"function"!=typeof e.super_)throw Ke("UT4",{adapter:e})}(e),!ha.adapters||!ha.adapters.leveldb)throw Ke("DB10",{adapter:e})}function rd(e,t,n){var r=e+"-rxdb-"+n+"-";if(t.includes("/")){var s=t.split("/"),f=s.pop();return s.join("/")+"/"+r+f}return r+t}function Gm(e,t){if(!e)throw new Error("adapter missing");return new Hm(e,t)}var Qm=["__proto__","constructor","prototype"];function pa(e,t){Object.keys(t).forEach(function(n){Qm.includes(n)||(void 0===e[n]?e[n]=t[n]:ma(t[n])?pa(e[n],t[n]):e[n]=t[n])})}function ma(e){return"[object Object]"===e.toString()}var qa=function(){function e(n){if(this.options={},this._conditions={},this._fields={},n){var r=this;n.selector&&r.find(n.selector),n.limit&&r.limit(n.limit),n.skip&&r.skip(n.skip),n.sort&&n.sort.forEach(function(s){return r.sort(s)})}}var t=e.prototype;return t.where=function(r,s){if(!arguments.length)return this;var f=typeof arguments[0];if("string"===f)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"===f&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw Qt("MQ1",{path:arguments[0]})},t.equals=function(r){return this._ensurePath("equals"),this._conditions[this._path]=r,this},t.eq=function(r){return this._ensurePath("eq"),this._conditions[this._path]=r,this},t.or=function(r){var s=this._conditions.$or||(this._conditions.$or=[]);return Array.isArray(r)||(r=[r]),s.push.apply(s,r),this},t.nor=function(r){var s=this._conditions.$nor||(this._conditions.$nor=[]);return Array.isArray(r)||(r=[r]),s.push.apply(s,r),this},t.and=function(r){var s=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(r)||(r=[r]),s.push.apply(s,r),this},t.mod=function(r,s){var f,p;1===arguments.length?(this._ensurePath("mod"),f=arguments[0],p=this._path):2!==arguments.length||Array.isArray(arguments[1])?3===arguments.length?(f=arguments.slice(1),p=arguments[0]):(f=arguments[1],p=arguments[0]):(this._ensurePath("mod"),f=arguments.slice(),p=this._path);var O=this._conditions[p]||(this._conditions[p]={});return O.$mod=f,this},t.exists=function(r,s){var f,p;0===arguments.length?(this._ensurePath("exists"),f=this._path,p=!0):1===arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),f=this._path,p=arguments[0]):(f=arguments[0],p=!0):2===arguments.length&&(f=arguments[0],p=arguments[1]);var O=this._conditions[f]||(this._conditions[f]={});return O.$exists=p,this},t.elemMatch=function(r,s){if(null===arguments[0])throw Qt("MQ2");var f,p,O;if("function"==typeof arguments[0])this._ensurePath("elemMatch"),p=this._path,f=arguments[0];else if(ma(arguments[0]))this._ensurePath("elemMatch"),p=this._path,O=arguments[0];else if("function"==typeof arguments[1])p=arguments[0],f=arguments[1];else{if(!arguments[1]||!ma(arguments[1]))throw Qt("MQ2");p=arguments[0],O=arguments[1]}f&&(f(O=new e),O=O._conditions);var $=this._conditions[p]||(this._conditions[p]={});return $.$elemMatch=O,this},t.sort=function(r){var s=this;if(!r)return this;var f,p=typeof r;if(Array.isArray(r)){f=r.length;for(var O=0;O<r.length;++O)Ym(this.options,r[O][0],r[O][1]);return this}if(1===arguments.length&&"string"===p){f=(r=r.split(/\s+/)).length;for(var $=0;$<f;++$){var Y=r[$];if(Y){var se="-"===Y[0]?-1:1;-1===se&&(Y=Y.substring(1)),od(this.options,Y,se)}}return this}if(ma(r)){var ge=Object.keys(r);return ge.forEach(function(_e){return od(s.options,_e,r[_e])}),this}throw Qt("MQ3",{args:arguments})},t.merge=function(r){if(!r)return this;if(!ad(r))throw Qt("MQ4",{source:r});return r instanceof e?(r._conditions&&pa(this._conditions,r._conditions),r._fields&&(this._fields||(this._fields={}),pa(this._fields,r._fields)),r.options&&(this.options||(this.options={}),pa(this.options,r.options)),r._distinct&&(this._distinct=r._distinct),this):(pa(this._conditions,r),this)},t.find=function(r){return ad(r)&&this.merge(r),this},t._ensurePath=function(r){if(!this._path)throw Ke("MQ5",{method:r})},t.toJSON=function(){var r={selector:this._conditions};return this.options.skip&&(r.skip=this.options.skip),this.options.limit&&(r.limit=this.options.limit),this.options.sort&&(r.sort=function(e){return Object.entries(e).map(function(t){var n;return(n={})[t[0]]=1===t[1]?"asc":"desc",n})}(this.options.sort)),{query:r,path:this._path}},e}(),id=["limit","skip","maxScan","batchSize","comment"];id.forEach(function(e){qa.prototype[e]=function(t){return this.options[e]=t,this}});var sd=["gt","gte","lt","lte","ne","in","nin","all","regex","size"];function od(e,t,n){if(Array.isArray(e.sort))throw Qt("MQ6",{opts:e,field:t,value:n});if(n&&n.$meta)(e.sort||(e.sort={}))[t]={$meta:n.$meta};else{var s=String(n||1).toLowerCase();if(!/^(?:ascending|asc|descending|desc|1|-1)$/.test(s))throw Array.isArray(n)&&(n="["+n+"]"),Qt("MQ7",{field:t,value:n});var f=e.sort||(e.sort={}),p=n.toString().replace("asc","1").replace("ascending","1").replace("desc","-1").replace("descending","-1");f[t]=parseInt(p,10)}}function Ym(e,t,n){if(e.sort=e.sort||[],!Array.isArray(e.sort))throw Qt("MQ8",{opts:e,field:t,value:n});e.sort.push([t,n])}function ad(e){return e instanceof qa||ma(e)}sd.forEach(function(e){qa.prototype[e]=function(){var t,n;1===arguments.length?(this._ensurePath(e),n=arguments[0],t=this._path):(n=arguments[1],t=arguments[0]);var r=null===this._conditions[t]||"object"==typeof this._conditions[t]?this._conditions[t]:this._conditions[t]={};return r["$"+e]=n,this}});var vl="queryBuilderPath";function _l(e,t){e[t]=function(n){return function(e,t,n){var r=function(e){return new qa(e)}(Qn(e.mangoQuery));e.other[vl]&&(r._path=e.other[vl]),r[t](n);var s=r.toJSON(),f=new Ua(e.op,s.query,e.collection);return s.path&&(f.other[vl]=s.path),Kl(f)}(this,t,n)}}var qm={name:"query-builder",rxdb:!0,prototypes:{RxQuery:function(t){["where","equals","eq","or","nor","and","mod","exists","elemMatch","sort"].forEach(function(n){_l(t,n)}),id.forEach(function(n){_l(t,n)}),sd.forEach(function(n){_l(t,n)})}}},eg=l(9790),tg=l.n(eg);function ng(e){var t=this._data,n=tg()(t,e);return this._saveData(n,t)}function rg(e){return this.exec().then(function(t){return t?Array.isArray(t)?Promise.all(t.map(function(n){return n.update(e)})).then(function(){return t}):t.update(e).then(function(){return t}):null})}var sg={RxDocument:function(t){t.update=ng},RxQuery:function(t){t.update=rg}},og={name:"update",rxdb:!0,prototypes:sg},ag=l(8167),ug=l.n(ag),yl=new Map;function bl(e){var t=e.hash;if(!yl.has(t)){var n=ug()(e.jsonSchema);yl.set(t,n)}return yl.get(t)}var lg=function(t){var n=bl(this);if(n(t))return t;throw Ke("VD2",{errors:n.errors,obj:t,schema:this.jsonSchema})},fg={RxSchema:function(t){t._getValidator=bl,t.validate=lg}},hg={createRxSchema:function(t){"object"==typeof window&&window.requestIdleCallback&&window.requestIdleCallback(function(){bl(t)})}},pg={name:"validate",rxdb:!0,prototypes:fg,hooks:hg},fn=l(3900),Kr=l(2843),Yi=l(9646),eu=l(9770),Ji=l(2076),ga=l(4128),mg=l(1042);let gg=(()=>{class e{constructor(){this.isInitialized=!1}initialize(n){this.isInitialized||(this.collection=n,this.isInitialized=!0)}requestPermissions(n){return(0,eu.P)(()=>this.isInitialized&&this.collection?(0,Ji.D)(this.collection.bulkInsert(n)).pipe((0,an.U)(({success:r})=>!!r)):(0,Kr._)(()=>new Error("PermissionsService not initialized")))}hasPermission(n){return(0,eu.P)(()=>{if(!this.isInitialized||!this.collection)return(0,Kr._)(()=>new Error("PermissionsService not initialized"));const r=this.collection.findOne({selector:{id:`${n.appId}:${n.kind}:${n.mode}:${n.target}`}});return(0,Ji.D)(r.exec()).pipe((0,an.U)(s=>!!s))})}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=u.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Mr=l(899);class vg{constructor(t,n,r){this.appId=t,this.collection=n,this.acl=r}insert(t){return this.requestPermission(Mr.R.Write).pipe((0,fn.w)(()=>this.collection.insert(t)),(0,an.U)(n=>this.docToJSON(n)))}upsert(t){return this.requestPermission(Mr.R.Write).pipe((0,fn.w)(()=>this.collection.upsert(t)),(0,an.U)(n=>this.docToJSON(n)))}findOne(t){return this.requestPermission(Mr.R.Read).pipe((0,fn.w)(()=>this.collection.findOne(t).exec()),(0,an.U)(n=>n?this.docToJSON(n):null))}find(t){return this.requestPermission(Mr.R.Read).pipe((0,fn.w)(()=>this.collection.find(t).exec()),(0,an.U)(n=>n.map(r=>this.docToJSON(r))))}observe(t){return this.requestPermission(Mr.R.Read).pipe((0,fn.w)(()=>this.collection.find(t).$),(0,an.U)(n=>n.map(r=>this.docToJSON(r))))}observeOne(t){return this.observe(t).pipe((0,an.U)(n=>n.length>0?n[0]:null))}update(t,n){return this.requestPermission(Mr.R.Write).pipe((0,fn.w)(()=>this.collection.find(t).update(n)),(0,an.U)(r=>r.map(s=>this.docToJSON(s))))}remove(t){return this.requestPermission(Mr.R.Write).pipe((0,fn.w)(()=>this.collection.find(t).remove()),(0,an.U)(n=>n.map(r=>this.docToJSON(r))))}putAttachment(t,n,r=!1){return this.requestPermission(Mr.R.Write).pipe((0,fn.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,fn.w)(s=>s?s.putAttachment(n,r):(0,Kr._)(()=>new Error("No document found for id "+t))),(0,an.U)(s=>s.id))}getAttachment(t,n){return this.requestPermission(Mr.R.Read).pipe((0,fn.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,fn.w)(r=>r?(0,Yi.of)(r.getAttachment(n)):(0,Kr._)(()=>new Error("No document found for id "+t))),(0,fn.w)(r=>r?(0,Ji.D)(r.getData()).pipe((0,an.U)(s=>({id:r.id,data:s,type:r.type}))):(0,Kr._)(()=>new Error("No attachment found for id "+n))))}getAllAttachments(t){return this.requestPermission(Mr.R.Read).pipe((0,fn.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,fn.w)(n=>n?(0,Yi.of)(n.allAttachments()):(0,Kr._)(()=>new Error("No document found for id "+t))),(0,fn.w)(n=>n.length<=0?(0,Yi.of)([]):(0,ga.D)(n.map(r=>(0,Ji.D)(r.getData()).pipe((0,an.U)(s=>({id:r.id,data:s,type:r.type})))))))}removeAttachment(t,n){return this.requestPermission(Mr.R.Write).pipe((0,fn.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,fn.w)(r=>{if(!r)return(0,Kr._)(()=>new Error("No document found for id "+t));const s=r.getAttachment(n);return s?s.remove():(0,Kr._)(()=>new Error("No attachment found for id "+n))}))}observeAttachments(t){return this.requestPermission(Mr.R.Read).pipe((0,fn.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,fn.w)(n=>n?n.allAttachments$:(0,Kr._)(()=>new Error("No document found for id "+t))),(0,fn.w)(n=>(0,ga.D)(n.map(r=>(0,Ji.D)(r.getData()).pipe((0,an.U)(s=>({id:r.id,data:s,type:r.type})))))))}requestPermission(t){return this.acl.hasPermission({appId:this.appId,kind:Mr.k.Collection,mode:t,target:this.collection.name}).pipe((0,fn.w)(n=>n?(0,Yi.of)(n):(0,Kr._)(()=>new Error(`No permission to perform action ${t} on ${this.collection.name} with appId ${this.appId}`))))}docToJSON(t){const n=JSON.parse(JSON.stringify(t));return n._attachments=t._attachments,n}}nd(i),Oo(gh),Oo(pg),Oo(Oh),Oo(qm),Oo(og),Oo(iu);const ud=new u.InjectionToken("ENTITY_MANAGER_BASE_COLLECTIONS_TOKEN"),ld=new u.InjectionToken("ENTITY_MANAGER_INITIAL_DATA_TOKEN");let _g=(()=>{class e{constructor(n,r,s){this.acl=n,this.baseCollections=r,this.initialData=s,this.initialize$=new ka(0)}setupDatabase(n,r){return this.createDatabase(n,r).pipe((0,fn.w)(s=>this.addBaseCollections(s)),(0,Qs.b)(s=>this.acl.initialize(s.applicationpermissions)),(0,fn.w)(s=>this.addInitialData(s)),(0,Qs.b)(()=>this.initialize$.next()),(0,an.U)(()=>{}))}isDatabaseCreated(){return void 0!==this._dbInstance}getRepository(n,r){if(!this._dbInstance)return(0,Kr._)(()=>new Error("Database not initialized"));const s=this._dbInstance.collections[n];if(!s)return(0,Kr._)(()=>new Error("Collection not initialized"));const f=new vg(r,s,this.acl);return(0,Yi.of)(f)}createDatabase(n,r){return(0,eu.P)(()=>(0,Ji.D)(Xf({name:n,password:r,storage:Gm("idb")})).pipe((0,Qs.b)(s=>this._dbInstance=s)))}addBaseCollections(n){const r=this.baseCollections.reduce((s,f)=>Object.assign(s,{[f.name]:f.creator}),{});return(0,eu.P)(()=>(0,Ji.D)(n.addCollections(r)).pipe((0,Qs.b)(s=>{Object.values(s).forEach(f=>{f.preInsert(p=>{const O=(new Date).toISOString();p.id=p.id||(0,mg.Z)(),p.createdAt=p.createdAt||O,p.updatedAt=p.updatedAt||O},!1),f.preSave((p,O)=>{const $=(new Date).toISOString();p.createdAt=O.createdAt||$,p.updatedAt=$},!1)})})))}addInitialData(n){return(0,ga.D)(this.initialData.map(r=>{const s=n[r.name],f=!("upsert"in r)||r.upsert;return(0,ga.D)(r.data.map(p=>(f?(0,Yi.of)(!0):(0,Ji.D)(s.findOne({selector:{id:p.id}}).exec()).pipe((0,an.U)($=>!$))).pipe((0,fn.w)($=>$?(0,Ji.D)(s.upsert(p)).pipe((0,fn.w)(()=>{if("userapplications"!==r.name)return(0,Yi.of)(void 0);const Y=(p.additionalProperties?.permissions||[]).map(se=>({...se,appId:p.id,id:`${p.id}:${se.kind}:${se.mode}:${se.target}`}));return Y.length?(0,ga.D)(Y.map(se=>n.applicationpermissions.upsert(se))):(0,Yi.of)(void 0)})):(0,Yi.of)(void 0)))))}))}}return e.\u0275fac=function(n){return new(n||e)(u.\u0275\u0275inject(gg),u.\u0275\u0275inject(ud),u.\u0275\u0275inject(ld))},e.\u0275prov=u.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},795:(he,z,l)=>{l.d(z,{d:()=>B});var i=l(7445),u=l(4004),C=l(8675),L=l(3099),j=l(9300),F=l(7777);let B=(()=>{class S{constructor(){this.clock$=(0,i.F)(1e3).pipe((0,u.U)(()=>new Date),(0,C.O)(new Date),(0,L.B)()),this.units={ms:1,s:1e3,m:6e4,h:36e5,d:864e5,w:6048e5,M:2592e6,y:31536e6},this.everyMinute$=(0,i.F)(6e4).pipe((0,u.U)(()=>new Date),(0,C.O)(new Date)),this.everyHour$=(0,i.F)(36e5).pipe((0,u.U)(()=>new Date),(0,C.O)(new Date)),this.everyDay$=(0,i.F)(864e5).pipe((0,u.U)(()=>new Date),(0,C.O)(new Date)),this.everyWeek$=(0,i.F)(6048e5).pipe((0,u.U)(()=>new Date),(0,C.O)(new Date)),this.everyMonth$=(0,i.F)(2592e6).pipe((0,u.U)(()=>new Date),(0,C.O)(new Date)),this.everyYear$=(0,i.F)(31536e6).pipe((0,u.U)(()=>new Date),(0,C.O)(new Date))}every(E,M){return(0,i.F)(E*this.units[M]).pipe((0,u.U)(()=>new Date))}at(E){return(0,i.F)(1e3).pipe((0,u.U)(()=>(new Date).getTime()>=E.getTime()?E:null),(0,j.h)(M=>null!==M))}}return S.\u0275fac=function(E){return new(E||S)},S.\u0275prov=F.\u0275\u0275defineInjectable({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},43:(he,z,l)=>{l.d(z,{T:()=>M});var i=l(1457),C=l(6435),L=l(1135),j=l(3900),F=l(4128),U=l(8505),B=l(2843),S=l(9841),w=l(7777);let M=(()=>{class T{constructor(I,b){this.document=I,this.entityManager=b,this.customizationSettings$=new L.X(void 0),this.entityManager.initialize$.pipe((0,j.w)(()=>(0,F.D)([this.entityManager.getRepository("userpreferences","com.central-factory.settings")])),(0,U.b)(([v])=>{this.userPreferencesRepository=v,this.subscribeToDataChanges()})).subscribe()}setCustomizationSettings(I,b){return this.userPreferencesRepository?this.userPreferencesRepository.upsert({id:"settings.customization"+(b?`.${b}`:""),key:"settings.customization",value:I,avatar:b}):(0,B._)(()=>new Error("Repositories not initialized"))}subscribeToDataChanges(){if(!this.userPreferencesRepository)throw new Error("Repositories not initialized");this.customizationSettings$.pipe((0,U.b)(I=>{!I||I.theme&&this.loadThemeFromUrl(I.theme.path)})).subscribe(),(0,S.a)([this.userPreferencesRepository.observeOne({selector:{key:"userAvatars.selectedAvatar"}}),this.userPreferencesRepository.observe({selector:{key:"settings.customization"}})]).pipe((0,U.b)(([I,b])=>{if(b.length<=0)return;const v=b.find(d=>d.avatar===I?.value)||b[0];this.customizationSettings$.next(v.value)})).subscribe()}loadThemeFromUrl(I){if(this.activeThemeLinkElem&&this.activeThemeLinkElem?.href.endsWith(I))return;const v=this.document.getElementsByTagName("head")[0],d=this.document.createElement("link");d.rel="stylesheet",d.href=I,v.appendChild(d),this.activeThemeLinkElem&&v.removeChild(this.activeThemeLinkElem),this.activeThemeLinkElem=d}}return T.\u0275fac=function(I){return new(I||T)(w.\u0275\u0275inject(i.DOCUMENT),w.\u0275\u0275inject(C.v2))},T.\u0275prov=w.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},1549:(he,z,l)=>{l.d(z,{w:()=>M});var i=l(1457),C=l(6435),L=l(1135),j=l(3900),F=l(4128),U=l(8505),B=l(2843),S=l(4004),w=l(7777);let M=(()=>{class T{constructor(I,b){this.document=I,this.entityManager=b,this.userPreferences$=new L.X([]),this.entityManager.initialize$.pipe((0,j.w)(()=>(0,F.D)([this.entityManager.getRepository("userpreferences","com.central-factory.settings")])),(0,U.b)(([v])=>{this.userPreferencesRepository=v,this.subscribeToDataChanges()})).subscribe()}setValue(I,b){return this.userPreferencesRepository?this.userPreferencesRepository.upsert({id:I,key:I,value:b}):(0,B._)(()=>new Error("Repositories not initialized"))}subscribeToDataChanges(){if(!this.userPreferencesRepository)throw new Error("Repositories not initialized")}byKey(I){if(!this.userPreferencesRepository)throw new Error("Repositories not initialized");return this.userPreferencesRepository.observeOne({selector:{key:I}}).pipe((0,S.U)(b=>b||void 0))}}return T.\u0275fac=function(I){return new(I||T)(w.\u0275\u0275inject(i.DOCUMENT),w.\u0275\u0275inject(C.v2))},T.\u0275prov=w.\u0275\u0275defineInjectable({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},4438:(he,z,l)=>{l.d(z,{O:()=>C});var i=l(7777);let C=(()=>{class L{}return L.\u0275fac=function(F){return new(F||L)},L.\u0275mod=i.\u0275\u0275defineNgModule({type:L}),L.\u0275inj=i.\u0275\u0275defineInjector({}),L})()},1894:(he,z,l)=>{l.d(z,{t:()=>C});var i=l(7777);let C=(()=>{class L{constructor(){this.separators={el:"__",mod:"--",val:"-"},this.ignoreValues=!1,this.modCase="kebab"}setMods(F,U,B,S,w,E){Object.keys(B).forEach(M=>{if(S[M]){if(B[M]===S[M])return;E.removeClass(w.nativeElement,this.generateClass(F,U,M,S[M]))}B[M]&&E.addClass(w.nativeElement,this.generateClass(F,U,M,B[M]))}),Object.keys(S).forEach(M=>{!(M in B)&&S[M]&&E.removeClass(w.nativeElement,this.generateClass(F,U,M,S[M]))})}generateClass(F,U,B,S){this.ignoreValues&&(S=!!S),"string"!=typeof S&&"boolean"!=typeof S&&(S=!!S);let w=F;return U&&(w+=this.separators.el+U),B&&(B=this.modNameHandler(B),w+=this.separators.mod+B,"boolean"!=typeof S&&null!=S&&(w+=this.separators.val+S)),w}parseMods(F){if("string"==typeof F&&(F=F.split(/\s+/)),Array.isArray(F)){const U=F;F={},U.forEach(B=>{F[B]=!0})}else if("object"!=typeof F)return{};return F}modNameHandler(F){switch(this.modCase){case"kebab":return F?F.replace(/[A-Z]/g,function(U){return"-"+U.toLowerCase()}).replace(/$\-/,""):"";case"snake":return F?F.replace(/[A-Z]/g,function(U){return"_"+U.toLowerCase()}).replace(/$\-/,""):"";default:return F}}}return L.\u0275fac=function(F){return new(F||L)},L.\u0275prov=i.\u0275\u0275defineInjectable({token:L,factory:L.\u0275fac,providedIn:"root"}),L})()},1623:(he,z,l)=>{l.d(z,{G:()=>L});var i=l(7777),C=l(1894);let L=(()=>{class j{constructor(U,B,S,w){this.bemService=w,this.name=S,this.element=U,this.renderer=B,B.addClass(U.nativeElement,this.bemService.generateClass(S))}ngOnChanges(){if(JSON.stringify(this.cfMod)!==this._modSerialized){this._modSerialized=JSON.stringify(this.cfMod);let U=this.cfMod;const{renderer:B,element:S,name:w}=this;U=this.bemService.parseMods(U),this.bemService.setMods(w,"",U,this._mods||{},S,B),this._mods=this._mods===U?Object.assign({},U):U}}}return j.\u0275fac=function(U){return new(U||j)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275injectAttribute("cfBlock"),i.\u0275\u0275directiveInject(C.t))},j.\u0275dir=i.\u0275\u0275defineDirective({type:j,selectors:[["","cfBlock",""]],inputs:{cfMod:"cfMod"},features:[i.\u0275\u0275NgOnChangesFeature]}),j})()},3454:(he,z,l)=>{l.d(z,{e:()=>j});var i=l(7777),C=l(1894),L=l(1623);let j=(()=>{class F{constructor(B,S,w,E,M){this.bemService=M,this.blockName=E.name,this.name=w,this.element=B,this.renderer=S,S.addClass(B.nativeElement,this.bemService.generateClass(E.name,w))}ngOnChanges(){if(JSON.stringify(this.cfMod)!==this._modSerialized){this._modSerialized=JSON.stringify(this.cfMod);let B=this.cfMod;const{renderer:S,element:w,blockName:E,name:M}=this;B=this.bemService.parseMods(B),this.bemService.setMods(E,M,B,this._mods||{},w,S),this._mods=this._mods===B?Object.assign({},B):B}}}return F.\u0275fac=function(B){return new(B||F)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275injectAttribute("cfElem"),i.\u0275\u0275directiveInject(L.G),i.\u0275\u0275directiveInject(C.t))},F.\u0275dir=i.\u0275\u0275defineDirective({type:F,selectors:[["","cfElem",""]],inputs:{cfMod:"cfMod"},features:[i.\u0275\u0275NgOnChangesFeature]}),F})()},7967:(he,z,l)=>{l.d(z,{I:()=>C});var i=l(7777);let C=(()=>{class L{}return L.\u0275fac=function(F){return new(F||L)},L.\u0275dir=i.\u0275\u0275defineDirective({type:L,selectors:[["","cfMod",""]]}),L})()},7158:(he,z,l)=>{l.d(z,{H:()=>d});var i=l(4006),u=l(7579),C=l(9300),L=l(1135),j=l(2722),F=l(7777);const U="search";let B=(()=>{class a{constructor(){this.commands={}}execute(h){let W=U,ae=[];if("string"==typeof h){const[ce,...te]=h.split(" "),G=this.hasHandlers(ce);W=G?ce:U,ae=G?te:[ce,...te]}this.hasHandlers(W)&&this.commands[W].forEach(ce=>ce(...ae))}register(h,W){if(this.isRegistered(h,W))throw new Error(`Command ${h} is already registered`);this.commands[h]=this.commands[h]||[],this.commands[h].push(W)}hasHandlers(h){return this.commands[h]&&this.commands[h].length}isRegistered(h,W){return!(!this.commands[h]||this.commands[h]&&-1===this.commands[h].indexOf(W))}}return a.\u0275fac=function(h){return new(h||a)},a.\u0275prov=F.\u0275\u0275defineInjectable({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var S=l(1623),w=l(7967),E=l(8796),M=l(1457),T=l(9750);const k=["select"];function I(a,m){if(1&a&&(F.\u0275\u0275elementStart(0,"div",7),F.\u0275\u0275element(1,"cf-svg-icon",8),F.\u0275\u0275elementEnd()),2&a){const h=F.\u0275\u0275nextContext();F.\u0275\u0275advance(1),F.\u0275\u0275property("cfMod",h.size)}}const b=function(a,m){return[a,m]},v=function(){return["inline","horizontal"]};let d=(()=>{class a{constructor(h){this.commandService=h,this.size="m",this.fullLength=!1,this.showSubmitButton=!1,this.searchInput$=new u.x,this.slashInput$=this.searchInput$.pipe((0,C.h)(W=>W.startsWith("/"))),this.searchResults$=new L.X([]),this.form=new i.cw({search:new i.NI("")}),this.slashCommands={search:"search ",s:"search ",open:"open ",o:"open "},this.destroy$=new u.x}ngOnInit(){this.commandService.register("search",h=>{window.open(`https://www.google.com/search?q=${h}`,"_blank")}),this.slashInput$.pipe((0,j.R)(this.destroy$)).subscribe(h=>{const W=h.slice(1),ae=this.slashCommands[W];ae&&this.select&&(this.select.searchTerm=ae,this.form.controls.search.setValue(ae))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}trackByFn(h){return h.id}onSearch(h){this.form.controls.search.setValue(h.term)}onEnterKeydown(){this.onSubmit()}onSubmit(){!this.form.valid||this.commandService.execute(this.form.value.search)}}return a.\u0275fac=function(h){return new(h||a)(F.\u0275\u0275directiveInject(B))},a.\u0275cmp=F.\u0275\u0275defineComponent({type:a,selectors:[["cf-command-bar"]],viewQuery:function(h,W){if(1&h&&F.\u0275\u0275viewQuery(k,7),2&h){let ae;F.\u0275\u0275queryRefresh(ae=F.\u0275\u0275loadQuery())&&(W.select=ae.first)}},inputs:{size:"size",fullLength:"fullLength",showSubmitButton:"showSubmitButton"},decls:8,vars:14,consts:[["cfBlock","command-bar",3,"cfMod"],["cfBlock","form",3,"formGroup","cfMod","ngSubmit"],["cfBlock","input-group"],["cfBlock","form-control"],["formControlName","search","cfBlock","select","bindLabel","name","bindValue","id",3,"items","editableSearchTerm","typeahead","cfMod","search","keydown.enter"],["select",""],["cfBlock","input-group-append",4,"ngIf"],["cfBlock","input-group-append"],["cfBlock","icon","src","assets/icons/mdi/magnify.svg",3,"cfMod"]],template:function(h,W){1&h&&(F.\u0275\u0275elementStart(0,"div",0),F.\u0275\u0275elementStart(1,"form",1),F.\u0275\u0275listener("ngSubmit",function(){return W.onSubmit()}),F.\u0275\u0275elementStart(2,"div",2),F.\u0275\u0275elementStart(3,"div",3),F.\u0275\u0275elementStart(4,"ng-select",4,5),F.\u0275\u0275listener("search",function(we){return W.onSearch(we)})("keydown.enter",function(){return W.onEnterKeydown()}),F.\u0275\u0275pipe(6,"async"),F.\u0275\u0275elementEnd(),F.\u0275\u0275elementEnd(),F.\u0275\u0275template(7,I,2,1,"div",6),F.\u0275\u0275elementEnd(),F.\u0275\u0275elementEnd(),F.\u0275\u0275elementEnd()),2&h&&(F.\u0275\u0275property("cfMod",F.\u0275\u0275pureFunction2(10,b,W.size,W.fullLength?"full-length":"")),F.\u0275\u0275advance(1),F.\u0275\u0275property("formGroup",W.form)("cfMod",F.\u0275\u0275pureFunction0(13,v)),F.\u0275\u0275advance(3),F.\u0275\u0275property("items",F.\u0275\u0275pipeBind1(6,8,W.searchResults$))("editableSearchTerm",!0)("typeahead",W.searchInput$)("cfMod",W.size),F.\u0275\u0275advance(3),F.\u0275\u0275property("ngIf",W.showSubmitButton))},directives:[S.G,w.I,i._Y,i.JL,i.sg,E.w9,i.JJ,i.u,M.NgIf,T.b],pipes:[M.AsyncPipe],styles:[".command-bar--xs[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%], .command-bar--xs[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{margin-bottom:0}.command-bar--xs[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{width:300px}.command-bar--full-length[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%], .command-bar--full-length[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{width:100%}"]}),a})()},9398:(he,z,l)=>{l.d(z,{v:()=>S});var i=l(1457),C=l(4006),L=l(8796),j=l(4438),F=l(2051),U=l(7777);let S=(()=>{class w{}return w.\u0275fac=function(M){return new(M||w)},w.\u0275mod=U.\u0275\u0275defineNgModule({type:w}),w.\u0275inj=U.\u0275\u0275defineInjector({imports:[[i.CommonModule,j.O,F.Y,C.u5,C.UX,L.A0]]}),w})()},5183:(he,z,l)=>{l.d(z,{L:()=>B});var i=l(1457),C=l(7777);function j(S,w){if(1&S){const E=C.\u0275\u0275getCurrentView();C.\u0275\u0275elementStart(0,"div",2),C.\u0275\u0275listener("click",function(){return C.\u0275\u0275restoreView(E),C.\u0275\u0275nextContext()._onBackdropClicked()}),C.\u0275\u0275elementEnd()}if(2&S){const E=C.\u0275\u0275nextContext();C.\u0275\u0275property("ngClass",E.backdropClass)}}const F=[[["cf-sidebar"],["","cf-sidebar",""]],[["","cf-sidebar-content",""]]],U=["cf-sidebar,[cf-sidebar]","[cf-sidebar-content]"];let B=(()=>{class S{constructor(E,M){this._ref=E,this.animate=!0,this.allowSidebarBackdropControl=!0,this.showBackdrop=!1,this.showBackdropChange=new C.EventEmitter,this.backdropClick=new C.EventEmitter,this._sidebars=[],this._isBrowser=(0,i.isPlatformBrowser)(M)}ngAfterContentInit(){!this._isBrowser||this._onToggle()}ngOnChanges(E){!this._isBrowser||E.showBackdrop&&this.showBackdropChange.emit(E.showBackdrop.currentValue)}ngOnDestroy(){!this._isBrowser||this._unsubscribe()}_addSidebar(E){this._sidebars.push(E),this._subscribe(E)}_removeSidebar(E){const M=this._sidebars.indexOf(E);-1!==M&&this._sidebars.splice(M,1)}_getContentStyle(){let E=0,M=0,T=0,k=0,I="",b="",v="";for(const d of this._sidebars)if(d._isModeSlide&&d.opened&&(I=`translate${d._isLeftOrRight?"X":"Y"}(${d._isLeftOrTop?"":"-"}${d._isLeftOrRight?d._width:d._height}px)`),d._isModePush&&d.opened||d.dock){let a=0;switch(d._isModeSlide&&d.opened?d._isLeftOrRight?v="100%":b="100%":a=d._isDocked||d._isModeOver&&d.dock?d._dockedSize:d._isLeftOrRight?d._width:d._height,d.position){case"left":E=Math.max(E,a);break;case"right":M=Math.max(M,a);break;case"top":T=Math.max(T,a);break;case"bottom":k=Math.max(k,a)}}return{padding:`${T}px ${M}px ${k}px ${E}px`,webkitTransform:I,transform:I,height:b,width:v}}_onBackdropClicked(){let E=!1;for(const M of this._sidebars)M.opened&&M.showBackdrop&&M.closeOnClickBackdrop&&(M.close(),E=!0);E&&this.backdropClick.emit()}_subscribe(E){E.openStart.subscribe(()=>this._onToggle()),E.sidebarOpen.subscribe(()=>this._markForCheck()),E.closeStart.subscribe(()=>this._onToggle()),E.sidebarClose.subscribe(()=>this._markForCheck()),E.modeChange.subscribe(()=>this._markForCheck()),E.positionChange.subscribe(()=>this._markForCheck()),E._onRerender.subscribe(()=>this._markForCheck())}_unsubscribe(){for(const E of this._sidebars)E.openStart.unsubscribe(),E.sidebarOpen.unsubscribe(),E.closeStart.unsubscribe(),E.sidebarClose.unsubscribe(),E.modeChange.unsubscribe(),E.positionChange.unsubscribe(),E._onRerender.unsubscribe()}_onToggle(){if(this._sidebars.length>0&&this.allowSidebarBackdropControl){const E=this._sidebars.some(M=>M.opened&&M.showBackdrop);this.showBackdrop=E,this.showBackdropChange.emit(E)}setTimeout(()=>{this._markForCheck()})}_markForCheck(){this._ref.markForCheck()}}return S.\u0275fac=function(E){return new(E||S)(C.\u0275\u0275directiveInject(C.ChangeDetectorRef),C.\u0275\u0275directiveInject(C.PLATFORM_ID))},S.\u0275cmp=C.\u0275\u0275defineComponent({type:S,selectors:[["cf-sidebar-container"]],inputs:{animate:"animate",allowSidebarBackdropControl:"allowSidebarBackdropControl",showBackdrop:"showBackdrop",contentClass:"contentClass",backdropClass:"backdropClass"},outputs:{showBackdropChange:"showBackdropChange",backdropClick:"backdropClick"},features:[C.\u0275\u0275NgOnChangesFeature],ngContentSelectors:U,decls:4,vars:5,consts:[["aria-hidden","true","class","cf-sidebar__backdrop",3,"ngClass","click",4,"ngIf"],[1,"cf-sidebar__content",3,"ngClass","ngStyle"],["aria-hidden","true",1,"cf-sidebar__backdrop",3,"ngClass","click"]],template:function(E,M){1&E&&(C.\u0275\u0275projectionDef(F),C.\u0275\u0275template(0,j,1,1,"div",0),C.\u0275\u0275projection(1),C.\u0275\u0275elementStart(2,"div",1),C.\u0275\u0275projection(3,1),C.\u0275\u0275elementEnd()),2&E&&(C.\u0275\u0275property("ngIf",M.showBackdrop),C.\u0275\u0275advance(2),C.\u0275\u0275classProp("cf-sidebar__content--animate",M.animate),C.\u0275\u0275property("ngClass",M.contentClass)("ngStyle",M._getContentStyle()))},directives:[i.NgIf,i.NgClass,i.NgStyle],encapsulation:2,changeDetection:0}),S})()},6111:(he,z,l)=>{l.d(z,{k:()=>B});var i=l(1457),u=l(7777),j=l(5183);const F=["sidebar"],U=["*"];let B=(()=>{class S{constructor(E,M,T){if(this._container=E,this._ref=M,this.opened=!1,this.openedChange=new u.EventEmitter,this.mode="over",this.dock=!1,this.dockedSize="0px",this.position="start",this.animate=!0,this.autoCollapseOnInit=!0,this.trapFocus=!1,this.autoFocus=!0,this.showBackdrop=!1,this.closeOnClickBackdrop=!1,this.closeOnClickOutside=!1,this.keyClose=!1,this.keyCode=27,this.contentInit=new u.EventEmitter,this.openStart=new u.EventEmitter,this.sidebarOpen=new u.EventEmitter,this.closeStart=new u.EventEmitter,this.sidebarClose=new u.EventEmitter,this.transitionEnd=new u.EventEmitter,this.modeChange=new u.EventEmitter,this.positionChange=new u.EventEmitter,this._onRerender=new u.EventEmitter,this._focusableElementsString="a[href], area[href], input:not([disabled]), select:not([disabled]),textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], [contenteditable]",this._tabIndexAttr="__tabindex__",this._tabIndexIndicatorAttr="__ngsidebar-tabindex__",this._clickEvent="click",this._onClickOutsideAttached=!1,this._onKeyDownAttached=!1,this._onResizeAttached=!1,!this._container)throw new Error("<cf-sidebar> must be inside a <cf-sidebar-container>. See https://github.com/arkon/ng-sidebar#usage for more info.");this._isBrowser=(0,i.isPlatformBrowser)(T),this._isBrowser&&"undefined"!=typeof window&&"undefined"!=typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!("onclick"in window)&&(this._clickEvent="touchstart"),this._normalizePosition(),this.open=this.open.bind(this),this._onTransitionEnd=this._onTransitionEnd.bind(this),this._onFocusTrap=this._onFocusTrap.bind(this),this._onClickOutside=this._onClickOutside.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._collapse=this._collapse.bind(this)}ngOnInit(){!this._isBrowser||(this.animate&&(this._shouldAnimate=!0,this.animate=!1),this._container._addSidebar(this),this.autoCollapseOnInit&&this._collapse())}ngAfterContentInit(){this.contentInit.emit()}ngOnChanges(E){!this._isBrowser||(E.animate&&this._shouldAnimate&&(this._shouldAnimate=E.animate.currentValue),E.closeOnClickOutside&&(E.closeOnClickOutside.currentValue?this._initCloseClickListener():this._destroyCloseClickListener()),E.keyClose&&(E.keyClose.currentValue?this._initCloseKeyDownListener():this._destroyCloseKeyDownListener()),E.position&&(this._normalizePosition(),setTimeout(()=>{this.positionChange.emit(E.position.currentValue)})),E.mode&&setTimeout(()=>{this.modeChange.emit(E.mode.currentValue)}),E.dock&&this.triggerRerender(),E.opened&&(this._shouldAnimate&&(this.animate=!0,this._shouldAnimate=!1),E.opened.currentValue?this.open():this.close()),(E.autoCollapseHeight||E.autoCollapseWidth)&&this._initCollapseListeners())}ngOnDestroy(){!this._isBrowser||(this._destroyCloseListeners(),this._destroyCollapseListeners(),this._container._removeSidebar(this))}open(){!this._isBrowser||(this.opened=!0,this.openedChange.emit(!0),this.openStart.emit(),this._ref.detectChanges(),setTimeout(()=>{this.animate&&!this._isModeSlide?this._elSidebar.nativeElement.addEventListener("transitionend",this._onTransitionEnd):(this._setFocused(),this._initCloseListeners(),this.opened&&this.sidebarOpen.emit())}))}close(){!this._isBrowser||(this.opened=!1,this.openedChange.emit(!1),this.closeStart.emit(),this._ref.detectChanges(),setTimeout(()=>{this.animate&&!this._isModeSlide?this._elSidebar.nativeElement.addEventListener("transitionend",this._onTransitionEnd):(this._setFocused(),this._destroyCloseListeners(),this.opened||this.sidebarClose.emit())}))}triggerRerender(){!this._isBrowser||setTimeout(()=>{this._onRerender.emit()})}_getStyle(){let E="";if(!this.opened){const M="translate"+(this._isLeftOrRight?"X":"Y");E=`${M}(${(this._isLeftOrTop?"-":"")+"100%"})`,this.dock&&this._dockedSize>0&&(!this._isModeSlide||!this.opened)&&(E+=` ${M}(${this._isLeftOrTop?"+":"-"}${this.dockedSize})`)}return{webkitTransform:E,transform:E}}_onTransitionEnd(E){E.target===this._elSidebar.nativeElement&&E.propertyName.endsWith("transform")&&(this._setFocused(),this.opened?(this._initCloseListeners(),this.sidebarOpen.emit()):(this._destroyCloseListeners(),this.sidebarClose.emit()),this.transitionEnd.emit(),this._elSidebar.nativeElement.removeEventListener("transitionend",this._onTransitionEnd))}get _shouldTrapFocus(){return this.opened&&this.trapFocus}_focusFirstItem(){this._focusableElements&&this._focusableElements.length>0&&this._focusableElements[0].focus()}_onFocusTrap(E){this._shouldTrapFocus&&!this._elSidebar.nativeElement.contains(E.target)&&this._focusFirstItem()}_setFocused(){if(this._focusableElements=Array.from(this._elSidebar.nativeElement.querySelectorAll(this._focusableElementsString)),this.opened){this._focusedBeforeOpen=document.activeElement;for(const E of this._focusableElements){const M=E.getAttribute(this._tabIndexAttr),T=null!==E.getAttribute(this._tabIndexIndicatorAttr);null!==M?(E.setAttribute("tabindex",M),E.removeAttribute(this._tabIndexAttr)):T&&(E.removeAttribute("tabindex"),E.removeAttribute(this._tabIndexIndicatorAttr))}this.autoFocus&&this._focusFirstItem(),document.addEventListener("focus",this._onFocusTrap,!0)}else{for(const E of this._focusableElements){const M=E.getAttribute("tabindex");E.setAttribute("tabindex","-1"),E.setAttribute(this._tabIndexIndicatorAttr,""),null!==M&&E.setAttribute(this._tabIndexAttr,M)}document.removeEventListener("focus",this._onFocusTrap,!0),this._focusedBeforeOpen&&this.autoFocus&&this._isModeOver&&(this._focusedBeforeOpen.focus(),this._focusedBeforeOpen=null)}}_initCloseListeners(){this._initCloseClickListener(),this._initCloseKeyDownListener()}_initCloseClickListener(){setTimeout(()=>{this.opened&&this.closeOnClickOutside&&!this._onClickOutsideAttached&&(document.addEventListener(this._clickEvent,this._onClickOutside),this._onClickOutsideAttached=!0)})}_initCloseKeyDownListener(){setTimeout(()=>{this.opened&&this.keyClose&&!this._onKeyDownAttached&&(document.addEventListener("keydown",this._onKeyDown),this._onKeyDownAttached=!0)})}_destroyCloseListeners(){this._destroyCloseClickListener(),this._destroyCloseKeyDownListener()}_destroyCloseClickListener(){this._onClickOutsideAttached&&(document.removeEventListener(this._clickEvent,this._onClickOutside),this._onClickOutsideAttached=!1)}_destroyCloseKeyDownListener(){this._onKeyDownAttached&&(document.removeEventListener("keydown",this._onKeyDown),this._onKeyDownAttached=!1)}_onClickOutside(E){this._onClickOutsideAttached&&this._elSidebar&&!this._elSidebar.nativeElement.contains(E.target)&&this.close()}_onKeyDown(E){(E=E||window.event).keyCode===this.keyCode&&this.close()}_initCollapseListeners(){(this.autoCollapseHeight||this.autoCollapseWidth)&&setTimeout(()=>{this._onResizeAttached||(window.addEventListener("resize",this._collapse),this._onResizeAttached=!0)})}_destroyCollapseListeners(){this._onResizeAttached&&(window.removeEventListener("resize",this._collapse),this._onResizeAttached=!1)}_collapse(){const E=window.innerHeight,M=window.innerWidth;this.autoCollapseHeight&&(E<=this.autoCollapseHeight&&this.opened?(this._wasCollapsed=!0,this.close()):E>this.autoCollapseHeight&&this._wasCollapsed&&(this.open(),this._wasCollapsed=!1)),this.autoCollapseWidth&&(M<=this.autoCollapseWidth&&this.opened?(this._wasCollapsed=!0,this.close()):M>this.autoCollapseWidth&&this._wasCollapsed&&(this.open(),this._wasCollapsed=!1))}get _height(){return this._elSidebar.nativeElement?this._isDocked?this._dockedSize:this._elSidebar.nativeElement.offsetHeight:0}get _width(){return this._elSidebar.nativeElement?this._isDocked?this._dockedSize:this._elSidebar.nativeElement.offsetWidth:0}get _dockedSize(){return parseFloat(this.dockedSize)}get _isModeOver(){return"over"===this.mode}get _isModePush(){return"push"===this.mode}get _isModeSlide(){return"slide"===this.mode}get _isDocked(){return!(!this.dock||!this.dockedSize||this.opened)}get _isLeftOrTop(){return"left"===this.position||"top"===this.position}get _isLeftOrRight(){return"left"===this.position||"right"===this.position}get _isInert(){return!this.opened&&!this.dock}_normalizePosition(){const E=(()=>{let S="ltr";return"undefined"!=typeof window&&(S=window.getComputedStyle?window.getComputedStyle(document.body,null).getPropertyValue("direction"):document.body.currentStyle.direction),"ltr"===S})();"start"===this.position?this.position=E?"left":"right":"end"===this.position&&(this.position=E?"right":"left")}}return S.\u0275fac=function(E){return new(E||S)(u.\u0275\u0275directiveInject(j.L,8),u.\u0275\u0275directiveInject(u.ChangeDetectorRef),u.\u0275\u0275directiveInject(u.PLATFORM_ID))},S.\u0275cmp=u.\u0275\u0275defineComponent({type:S,selectors:[["cf-sidebar"]],viewQuery:function(E,M){if(1&E&&u.\u0275\u0275viewQuery(F,5),2&E){let T;u.\u0275\u0275queryRefresh(T=u.\u0275\u0275loadQuery())&&(M._elSidebar=T.first)}},inputs:{opened:"opened",mode:"mode",dock:"dock",dockedSize:"dockedSize",position:"position",animate:"animate",autoCollapseHeight:"autoCollapseHeight",autoCollapseWidth:"autoCollapseWidth",autoCollapseOnInit:"autoCollapseOnInit",sidebarClass:"sidebarClass",ariaLabel:"ariaLabel",trapFocus:"trapFocus",autoFocus:"autoFocus",showBackdrop:"showBackdrop",closeOnClickBackdrop:"closeOnClickBackdrop",closeOnClickOutside:"closeOnClickOutside",keyClose:"keyClose",keyCode:"keyCode"},outputs:{openedChange:"openedChange",contentInit:"contentInit",openStart:"openStart",sidebarOpen:"sidebarOpen",closeStart:"closeStart",sidebarClose:"sidebarClose",transitionEnd:"transitionEnd",modeChange:"modeChange",positionChange:"positionChange",_onRerender:"_onRerender"},features:[u.\u0275\u0275NgOnChangesFeature],ngContentSelectors:U,decls:3,vars:15,consts:[["role","complementary",3,"ngClass","ngStyle"],["sidebar",""]],template:function(E,M){1&E&&(u.\u0275\u0275projectionDef(),u.\u0275\u0275elementStart(0,"aside",0,1),u.\u0275\u0275projection(2),u.\u0275\u0275elementEnd()),2&E&&(u.\u0275\u0275classMapInterpolate3("cf-sidebar cf-sidebar--",M.opened?"opened":"closed"," cf-sidebar--",M.position," cf-sidebar--",M.mode,""),u.\u0275\u0275classProp("cf-sidebar--docked",M._isDocked)("cf-sidebar--inert",M._isInert)("cf-sidebar--animate",M.animate),u.\u0275\u0275property("ngClass",M.sidebarClass)("ngStyle",M._getStyle()),u.\u0275\u0275attribute("aria-hidden",!M.opened)("aria-label",M.ariaLabel))},directives:[i.NgClass,i.NgStyle],encapsulation:2,changeDetection:0}),S})()},5687:(he,z,l)=>{l.d(z,{l:()=>j});var i=l(1457),C=l(7777);let j=(()=>{class F{}return F.\u0275fac=function(B){return new(B||F)},F.\u0275mod=C.\u0275\u0275defineNgModule({type:F}),F.\u0275inj=C.\u0275\u0275defineInjector({imports:[[i.CommonModule]]}),F})()},5605:(he,z,l)=>{l.d(z,{wn:()=>I});var i=l(5861),u=l(7340),C=l(7777),L=l(1623),j=l(7967),F=l(1457),U=l(3454),B=l(9750);let S=(()=>{class b{}return b.\u0275fac=function(d){return new(d||b)},b.\u0275cmp=C.\u0275\u0275defineComponent({type:b,selectors:[["cf-spinner"]],decls:2,vars:0,consts:[["cfBlock","spinner","cfMod","3x"]],template:function(d,a){1&d&&(C.\u0275\u0275elementStart(0,"div",0),C.\u0275\u0275element(1,"div"),C.\u0275\u0275elementEnd())},directives:[L.G,j.I],styles:["[_nghost-%COMP%]{display:contents}"]}),b})();function w(b,v){1&b&&(C.\u0275\u0275elementStart(0,"div",8),C.\u0275\u0275element(1,"cf-spinner"),C.\u0275\u0275elementEnd())}function E(b,v){if(1&b&&(C.\u0275\u0275elementStart(0,"p",9),C.\u0275\u0275text(1),C.\u0275\u0275elementEnd()),2&b){const d=C.\u0275\u0275nextContext();C.\u0275\u0275advance(1),C.\u0275\u0275textInterpolate1(" ",d.loadingText," ")}}const M=function(b){return{"background-color":b}};var T=(()=>{return(b=T||(T={})).Visible="visible",b.Hidden="hidden",T;var b})(),k=(()=>{return(b=k||(k={})).Visible="visible",b.Hidden="hidden",k;var b})();let I=(()=>{class b{constructor(){this.title="Portal",this.logo="assets/logo.svg",this.loadingTexts=["Setting up the rockets...","Calling the crew..","Jumping to the cyber space..."],this.welcomeMessage="Welcome to the Metaverse",this.displayLoadingTime=5e3,this.displayWelcomeTime=3e3,this.mods="",this.splashScreenHide=new C.EventEmitter,this.state=T.Visible,this.logoState=k.Hidden,this.selectedLoadingTextIndex=void 0}ngOnInit(){this.displaySplashScreen()}displaySplashScreen(){var d=this;return(0,i.Z)(function*(){d.displayLoadingText(),yield d.wait(d.displayLoadingTime),d.logoState=k.Visible,d.selectedLoadingTextIndex=void 0,d.loadingText=d.welcomeMessage,yield d.wait(d.displayWelcomeTime),d.state=T.Hidden,d.splashScreenHide.emit()})()}displayLoadingText(){var d=this;return(0,i.Z)(function*(){if(d.logoState===k.Visible)return d.selectedLoadingTextIndex=void 0,void(d.loadingText=d.welcomeMessage);const m=(void 0===d.selectedLoadingTextIndex?-1:d.selectedLoadingTextIndex)+1;if(m>=d.loadingTexts.length)return d.selectedLoadingTextIndex=void 0,yield d.wait(1e3),void d.displayLoadingText();d.selectedLoadingTextIndex=m,d.loadingText=d.loadingTexts[m],yield d.wait(1e3),d.displayLoadingText()})()}wait(d){return new Promise(a=>setTimeout(a,d))}}return b.\u0275fac=function(d){return new(d||b)},b.\u0275cmp=C.\u0275\u0275defineComponent({type:b,selectors:[["cf-splash-screen"]],inputs:{title:"title",logo:"logo",backgroundColor:"backgroundColor",loadingTexts:"loadingTexts",welcomeMessage:"welcomeMessage",displayLoadingTime:"displayLoadingTime",displayWelcomeTime:"displayWelcomeTime",mods:"mods"},outputs:{splashScreenHide:"splashScreenHide"},decls:9,vars:10,consts:[["cfBlock","splash-screen",3,"cfMod","ngStyle"],["cfElem","content"],["cfElem","title"],["cfElem","spinner"],["cfElem","logo"],["cfElem","logo-image",3,"src"],["cfElem","spinner-content",4,"ngIf"],["cfElem","loading-text",4,"ngIf"],["cfElem","spinner-content"],["cfElem","loading-text"]],template:function(d,a){1&d&&(C.\u0275\u0275elementStart(0,"div",0),C.\u0275\u0275elementStart(1,"div",1),C.\u0275\u0275elementStart(2,"h1",2),C.\u0275\u0275text(3),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementStart(4,"div",3),C.\u0275\u0275elementStart(5,"div",4),C.\u0275\u0275element(6,"cf-svg-icon",5),C.\u0275\u0275elementEnd(),C.\u0275\u0275template(7,w,2,0,"div",6),C.\u0275\u0275elementEnd(),C.\u0275\u0275template(8,E,2,1,"p",7),C.\u0275\u0275elementEnd(),C.\u0275\u0275elementEnd()),2&d&&(C.\u0275\u0275property("@splashState",a.state)("cfMod",a.mods)("ngStyle",C.\u0275\u0275pureFunction1(8,M,a.backgroundColor)),C.\u0275\u0275advance(3),C.\u0275\u0275textInterpolate(a.title),C.\u0275\u0275advance(2),C.\u0275\u0275property("@logoState",a.logoState),C.\u0275\u0275advance(1),C.\u0275\u0275property("src",a.logo),C.\u0275\u0275advance(1),C.\u0275\u0275property("ngIf","visible"!==a.logoState),C.\u0275\u0275advance(1),C.\u0275\u0275property("ngIf",a.loadingText))},directives:[L.G,j.I,F.NgStyle,U.e,B.b,F.NgIf,S],encapsulation:2,data:{animation:[(0,u.X$)("splashState",[(0,u.SB)(T.Visible,(0,u.oB)({opacity:1,display:"block"})),(0,u.SB)(T.Hidden,(0,u.oB)({opacity:0,display:"none"})),(0,u.eR)(`${T.Hidden} => ${T.Visible}`,[(0,u.oB)({opacity:0}),(0,u.jt)("1s",(0,u.oB)({opacity:1}))]),(0,u.eR)(`${T.Visible} => ${T.Hidden}`,[(0,u.jt)("1s",(0,u.oB)({opacity:0}))])]),(0,u.X$)("logoState",[(0,u.SB)(k.Visible,(0,u.oB)({opacity:1,display:"flex"})),(0,u.SB)(k.Hidden,(0,u.oB)({opacity:0,display:"none"})),(0,u.eR)(`${k.Hidden} => ${k.Visible}`,[(0,u.oB)({display:"flex",opacity:0}),(0,u.jt)("1s",(0,u.oB)({opacity:1}))]),(0,u.eR)(`${k.Visible} => ${k.Hidden}`,[(0,u.jt)("1s",(0,u.oB)({opacity:0}))])])]}}),b})()},2085:(he,z,l)=>{l.d(z,{x:()=>F});var i=l(1457),u=l(4438),C=l(7777);let L=(()=>{class U{}return U.\u0275fac=function(S){return new(S||U)},U.\u0275mod=C.\u0275\u0275defineNgModule({type:U}),U.\u0275inj=C.\u0275\u0275defineInjector({imports:[[u.O]]}),U})();var j=l(2051);let F=(()=>{class U{}return U.\u0275fac=function(S){return new(S||U)},U.\u0275mod=C.\u0275\u0275defineNgModule({type:U}),U.\u0275inj=C.\u0275\u0275defineInjector({imports:[[i.CommonModule,u.O,L,j.Y]]}),U})()},5028:(he,z,l)=>{l.d(z,{M6:()=>k,Kb:()=>b});var i=l(1457),C=l(7777),j=l(9646),F=l(2843),U=l(4004),B=l(8505),S=l(262),w=l(8746),E=l(3099),M=l(7191);const T=new C.InjectionToken("SERVER_URL");let k=(()=>{class v{constructor(a,m,h,W){this.loader=a,this.platformId=m,this.serverUrl=h,this._document=W,this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map,this.document=this._document}addSvg(a,m){if(!this.iconsByUrl.has(a)){const h=this.document.createElement("DIV");h.innerHTML=m;const W=h.querySelector("svg");this.iconsByUrl.set(a,W)}}loadSvg(a,m=a){if(this.serverUrl&&null===a.match(/^(http(s)?):/)&&(m=a=this.serverUrl+a),this.iconsByUrl.has(m))return(0,j.of)(this.iconsByUrl.get(m));if(this.iconsLoadingByUrl.has(m))return this.iconsLoadingByUrl.get(m);const h=this.loader.getSvg(a).pipe((0,U.U)(W=>{const ae=this.document.createElement("DIV");return ae.innerHTML=W,ae.querySelector("svg")}),(0,B.b)(W=>this.iconsByUrl.set(m,W)),(0,S.K)(W=>(0,F._)(W)),(0,w.x)(()=>this.iconsLoadingByUrl.delete(m)),(0,E.B)());return this.iconsLoadingByUrl.set(m,h),h}getSvgByName(a){return this.iconsByUrl.has(a)?(0,j.of)(this.iconsByUrl.get(a)):this.iconsLoadingByUrl.has(a)?this.iconsLoadingByUrl.get(a):(0,F._)(`No svg with name '${a}' has been loaded`)}unloadSvg(a){this.iconsByUrl.has(a)&&this.iconsByUrl.delete(a)}}return v.\u0275fac=function(a){return new(a||v)(C.\u0275\u0275inject(M.S),C.\u0275\u0275inject(C.PLATFORM_ID),C.\u0275\u0275inject(T,8),C.\u0275\u0275inject(i.DOCUMENT,8))},v.\u0275prov=C.\u0275\u0275defineInjectable({token:v,factory:v.\u0275fac}),v})();const b={provide:k,deps:[[new C.Optional,new C.SkipSelf,k],M.S,[C.PLATFORM_ID],[new C.Optional,T],[new C.Optional,i.DOCUMENT]],useFactory:function(v,d,a,m,h){return v||new k(d,a,m,h)}}},9750:(he,z,l)=>{l.d(z,{b:()=>F});var i=l(7777),C=l(5028);const L=["*"];class j{constructor(){this.loaded=!1}}let F=(()=>{class U{constructor(S,w,E,M,T){this.element=S,this.differs=w,this.renderer=E,this.iconReg=M,this.cdr=T,this.stretch=!1,this.applyClass=!1,this.svgClass="icon__svg",this.helper=new j,this._svgStyle=null}set svgStyle(S){this._svgStyle=S,!this.helper.differ&&S&&(this.helper.differ=this.differs.find(S).create())}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}ngOnChanges(S){const w=this.element.nativeElement.firstChild;(S.src||S.name)&&(this.helper.loaded&&this.destroy(),this.init()),S.stretch&&this.stylize(),S.applyClass&&(this.applyClass?this.setClass(w,null,this.klass):this.setClass(w,this.klass,null)),S.svgClass&&this.setClass(w,S.svgClass.previousValue,S.svgClass.currentValue),S.klass&&(this.setClass(this.element.nativeElement,S.klass.previousValue,S.klass.currentValue),this.setClass(w,S.klass.previousValue,this.applyClass?S.klass.currentValue:null)),S.viewBox&&(this.helper.loaded&&this.destroy(),this.init()),S.svgAriaLabel&&this.doAria(S.svgAriaLabel.currentValue)}ngDoCheck(){if(this.helper.svg&&this.helper.differ){const S=this.helper.differ.diff(this._svgStyle);S&&this.applyChanges(S)}}init(){if(this.name){const S=this.iconReg.getSvgByName(this.name);S&&(this.helper.icnSub=S.subscribe(w=>this.initSvg(w)))}else if(this.src){const S=this.iconReg.loadSvg(this.src);S&&(this.helper.icnSub=S.subscribe(w=>this.initSvg(w)))}else this.element.nativeElement.innerHTML="",this.cdr.markForCheck()}initSvg(S){!this.helper.loaded&&S&&(this.setSvg(S),this.resetDiffer())}destroy(){this.helper.icnSub&&this.helper.icnSub.unsubscribe(),this.helper=new j}resetDiffer(){this._svgStyle&&!this.helper.differ&&(this.helper.differ=this.differs.find(this._svgStyle).create())}setSvg(S){if(!this.helper.loaded&&S){this.helper.svg=S;const w=S.cloneNode(!0),E=this.element.nativeElement;if(E.innerHTML="",this.renderer.appendChild(E,w),this.helper.loaded=!0,this.copyNgContentAttribute(E,w),this.klass&&this.applyClass&&this.setClass(E.firstChild,null,this.klass),this.svgClass&&this.setClass(E.firstChild,null,this.svgClass),this.viewBox)if("auto"===this.viewBox){const M=w.getAttribute("width"),T=w.getAttribute("height");T&&M&&(this.renderer.setAttribute(w,"viewBox",`0 0 ${M} ${T}`),this.renderer.removeAttribute(w,"width"),this.renderer.removeAttribute(w,"height"))}else""!==this.viewBox&&(this.renderer.setAttribute(w,"viewBox",this.viewBox),this.renderer.removeAttribute(w,"width"),this.renderer.removeAttribute(w,"height"));this.stylize(),void 0===this.svgAriaLabel&&E.firstChild.hasAttribute("aria-label")||this.doAria(this.svgAriaLabel||""),this.cdr.markForCheck()}}copyNgContentAttribute(S,w){const E=S.attributes,M=E.length;for(let T=0;T<M;T+=1){const k=E.item(T);if(k&&k.name.startsWith("_ngcontent")){this.setNgContentAttribute(w,k.name);break}}}setNgContentAttribute(S,w){this.renderer.setAttribute(S,w,"");const E=S.childNodes.length;for(let M=0;M<E;M+=1){const T=S.childNodes[M];T instanceof Element&&this.setNgContentAttribute(T,w)}}stylize(){if(this.helper.svg){const S=this.element.nativeElement.firstChild;!0===this.stretch?this.renderer.setAttribute(S,"preserveAspectRatio","none"):!1===this.stretch&&this.renderer.removeAttribute(S,"preserveAspectRatio")}}applyChanges(S){S.forEachRemovedItem(w=>this.setStyle(w.key,null)),S.forEachAddedItem(w=>this.setStyle(w.key,w.currentValue)),S.forEachChangedItem(w=>this.setStyle(w.key,w.currentValue))}setStyle(S,w){const[E,M]=S.split("."),T=this.element.nativeElement.firstChild;null!==(w=null!==w&&M?`${w}${M}`:w)?this.renderer.setStyle(T,E,w):this.renderer.removeStyle(T,E)}setClass(S,w,E){if(S){if(w){const M=(Array.isArray(w)?w:w.split(" ")).filter(T=>T);for(const T of M)this.renderer.removeClass(S,T)}if(E){const M=(Array.isArray(E)?E:E.split(" ")).filter(T=>T);for(const T of M)this.renderer.addClass(S,T)}}}doAria(S){const w=this.element.nativeElement.firstChild;w&&(""===S?(this.renderer.setAttribute(w,"aria-hidden","true"),this.renderer.removeAttribute(w,"aria-label")):(this.renderer.removeAttribute(w,"aria-hidden"),this.renderer.setAttribute(w,"aria-label",S)))}}return U.\u0275fac=function(S){return new(S||U)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.KeyValueDiffers),i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275directiveInject(C.M6),i.\u0275\u0275directiveInject(i.ChangeDetectorRef))},U.\u0275cmp=i.\u0275\u0275defineComponent({type:U,selectors:[["cf-svg-icon"]],inputs:{src:"src",name:"name",stretch:"stretch",applyClass:"applyClass",svgClass:"svgClass",klass:["class","klass"],viewBox:"viewBox",svgAriaLabel:"svgAriaLabel",svgStyle:"svgStyle"},features:[i.\u0275\u0275NgOnChangesFeature],ngContentSelectors:L,decls:1,vars:0,template:function(S,w){1&S&&(i.\u0275\u0275projectionDef(),i.\u0275\u0275projection(0))},encapsulation:2}),U})()},2051:(he,z,l)=>{l.d(z,{Y:()=>B});var i=l(1457),C=l(7777),j=l(4438),F=l(5028),U=l(7191);let B=(()=>{class S{static forRoot(E={}){return{ngModule:S,providers:[F.Kb,E.loader||{provide:U.S,useClass:U.o}]}}}return S.\u0275fac=function(E){return new(E||S)},S.\u0275mod=C.\u0275\u0275defineNgModule({type:S}),S.\u0275inj=C.\u0275\u0275defineInjector({imports:[[i.CommonModule,j.O]]}),S})()},7191:(he,z,l)=>{l.d(z,{S:()=>j,o:()=>F});var i=l(9283),C=l(7777);class j{}let F=(()=>{class U extends j{constructor(S){super(),this.http=S}getSvg(S){return this.http.get(S,{responseType:"text"})}}return U.\u0275fac=function(S){return new(S||U)(C.\u0275\u0275inject(i.HttpClient))},U.\u0275prov=C.\u0275\u0275defineInjectable({token:U,factory:U.\u0275fac}),U})()},1611:he=>{he.exports=function(l){return function(){var i=arguments.length;if(i){for(var u=[],C=-1;++C<i;)u[C]=arguments[C];return l.call(this,u)}return l.call(this,[])}}},5834:(he,z,l)=>{var i=l(5203),u=l(5685),C=u(i("String.prototype.indexOf"));he.exports=function(j,F){var U=i(j,!!F);return"function"==typeof U&&C(j,".prototype.")>-1?u(U):U}},5685:(he,z,l)=>{var i=l(4444),u=l(5203),C=u("%Function.prototype.apply%"),L=u("%Function.prototype.call%"),j=u("%Reflect.apply%",!0)||i.call(L,C),F=u("%Object.getOwnPropertyDescriptor%",!0),U=u("%Object.defineProperty%",!0),B=u("%Math.max%");if(U)try{U({},"a",{value:1})}catch{U=null}he.exports=function(E){var M=j(i,L,arguments);if(F&&U){var T=F(M,"length");T.configurable&&U(M,"length",{value:1+B(0,E.length-(arguments.length-1))})}return M};var S=function(){return j(i,C,arguments)};U?U(he.exports,"apply",{value:S}):he.exports.apply=S},7466:function(he,z,l){var i;he.exports=(i=l(7585),l(8319),l(9493),l(7865),l(3057),function(){var u=i,L=u.lib.BlockCipher,j=u.algo,F=[],U=[],B=[],S=[],w=[],E=[],M=[],T=[],k=[],I=[];!function(){for(var d=[],a=0;a<256;a++)d[a]=a<128?a<<1:a<<1^283;var m=0,h=0;for(a=0;a<256;a++){var W=h^h<<1^h<<2^h<<3^h<<4;F[m]=W=W>>>8^255&W^99,U[W]=m;var ce,ae=d[m],we=d[ae],Ee=d[we];B[m]=(ce=257*d[W]^16843008*W)<<24|ce>>>8,S[m]=ce<<16|ce>>>16,w[m]=ce<<8|ce>>>24,E[m]=ce,M[W]=(ce=16843009*Ee^65537*we^257*ae^16843008*m)<<24|ce>>>8,T[W]=ce<<16|ce>>>16,k[W]=ce<<8|ce>>>24,I[W]=ce,m?(m=ae^d[d[d[Ee^ae]]],h^=d[d[h]]):m=h=1}}();var b=[0,1,2,4,8,16,32,64,128,27,54],v=j.AES=L.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var a=this._keyPriorReset=this._key,m=a.words,h=a.sigBytes/4,ae=4*((this._nRounds=h+6)+1),we=this._keySchedule=[],Ee=0;Ee<ae;Ee++)Ee<h?we[Ee]=m[Ee]:(d=we[Ee-1],Ee%h?h>6&&Ee%h==4&&(d=F[d>>>24]<<24|F[d>>>16&255]<<16|F[d>>>8&255]<<8|F[255&d]):(d=F[(d=d<<8|d>>>24)>>>24]<<24|F[d>>>16&255]<<16|F[d>>>8&255]<<8|F[255&d],d^=b[Ee/h|0]<<24),we[Ee]=we[Ee-h]^d);for(var ce=this._invKeySchedule=[],te=0;te<ae;te++){if(Ee=ae-te,te%4)var d=we[Ee];else d=we[Ee-4];ce[te]=te<4||Ee<=4?d:M[F[d>>>24]]^T[F[d>>>16&255]]^k[F[d>>>8&255]]^I[F[255&d]]}}},encryptBlock:function(d,a){this._doCryptBlock(d,a,this._keySchedule,B,S,w,E,F)},decryptBlock:function(d,a){var m=d[a+1];d[a+1]=d[a+3],d[a+3]=m,this._doCryptBlock(d,a,this._invKeySchedule,M,T,k,I,U),m=d[a+1],d[a+1]=d[a+3],d[a+3]=m},_doCryptBlock:function(d,a,m,h,W,ae,we,Ee){for(var ce=this._nRounds,te=d[a]^m[0],G=d[a+1]^m[1],ee=d[a+2]^m[2],X=d[a+3]^m[3],re=4,le=1;le<ce;le++){var Oe=h[te>>>24]^W[G>>>16&255]^ae[ee>>>8&255]^we[255&X]^m[re++],We=h[G>>>24]^W[ee>>>16&255]^ae[X>>>8&255]^we[255&te]^m[re++],tt=h[ee>>>24]^W[X>>>16&255]^ae[te>>>8&255]^we[255&G]^m[re++],Pe=h[X>>>24]^W[te>>>16&255]^ae[G>>>8&255]^we[255&ee]^m[re++];te=Oe,G=We,ee=tt,X=Pe}Oe=(Ee[te>>>24]<<24|Ee[G>>>16&255]<<16|Ee[ee>>>8&255]<<8|Ee[255&X])^m[re++],We=(Ee[G>>>24]<<24|Ee[ee>>>16&255]<<16|Ee[X>>>8&255]<<8|Ee[255&te])^m[re++],tt=(Ee[ee>>>24]<<24|Ee[X>>>16&255]<<16|Ee[te>>>8&255]<<8|Ee[255&G])^m[re++],Pe=(Ee[X>>>24]<<24|Ee[te>>>16&255]<<16|Ee[G>>>8&255]<<8|Ee[255&ee])^m[re++],d[a]=Oe,d[a+1]=We,d[a+2]=tt,d[a+3]=Pe},keySize:8});u.AES=L._createHelper(v)}(),i.AES)},3057:function(he,z,l){var C,L,j,F,U,B,w,M,T,I,b,v,a,h,ae,we,ce,te,i;he.exports=(i=l(7585),l(7865),void(i.lib.Cipher||(C=i,L=C.lib,j=L.Base,F=L.WordArray,U=L.BufferedBlockAlgorithm,B=C.enc,w=B.Base64,M=C.algo.EvpKDF,T=L.Cipher=U.extend({cfg:j.extend(),createEncryptor:function(G,ee){return this.create(this._ENC_XFORM_MODE,G,ee)},createDecryptor:function(G,ee){return this.create(this._DEC_XFORM_MODE,G,ee)},init:function(G,ee,X){this.cfg=this.cfg.extend(X),this._xformMode=G,this._key=ee,this.reset()},reset:function(){U.reset.call(this),this._doReset()},process:function(G){return this._append(G),this._process()},finalize:function(G){return G&&this._append(G),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function G(ee){return"string"==typeof ee?te:we}return function(ee){return{encrypt:function(X,re,le){return G(re).encrypt(ee,X,re,le)},decrypt:function(X,re,le){return G(re).decrypt(ee,X,re,le)}}}}()}),L.StreamCipher=T.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),I=C.mode={},b=L.BlockCipherMode=j.extend({createEncryptor:function(G,ee){return this.Encryptor.create(G,ee)},createDecryptor:function(G,ee){return this.Decryptor.create(G,ee)},init:function(G,ee){this._cipher=G,this._iv=ee}}),v=I.CBC=function(){var G=b.extend();function ee(X,re,le){var Oe,We=this._iv;We?(Oe=We,this._iv=undefined):Oe=this._prevBlock;for(var tt=0;tt<le;tt++)X[re+tt]^=Oe[tt]}return G.Encryptor=G.extend({processBlock:function(X,re){var le=this._cipher,Oe=le.blockSize;ee.call(this,X,re,Oe),le.encryptBlock(X,re),this._prevBlock=X.slice(re,re+Oe)}}),G.Decryptor=G.extend({processBlock:function(X,re){var le=this._cipher,Oe=le.blockSize,We=X.slice(re,re+Oe);le.decryptBlock(X,re),ee.call(this,X,re,Oe),this._prevBlock=We}}),G}(),a=(C.pad={}).Pkcs7={pad:function(G,ee){for(var X=4*ee,re=X-G.sigBytes%X,le=re<<24|re<<16|re<<8|re,Oe=[],We=0;We<re;We+=4)Oe.push(le);var tt=F.create(Oe,re);G.concat(tt)},unpad:function(G){G.sigBytes-=255&G.words[G.sigBytes-1>>>2]}},L.BlockCipher=T.extend({cfg:T.cfg.extend({mode:v,padding:a}),reset:function(){var G;T.reset.call(this);var ee=this.cfg,X=ee.iv,re=ee.mode;this._xformMode==this._ENC_XFORM_MODE?G=re.createEncryptor:(G=re.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==G?this._mode.init(this,X&&X.words):(this._mode=G.call(re,this,X&&X.words),this._mode.__creator=G)},_doProcessBlock:function(G,ee){this._mode.processBlock(G,ee)},_doFinalize:function(){var G,ee=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(ee.pad(this._data,this.blockSize),G=this._process(!0)):(G=this._process(!0),ee.unpad(G)),G},blockSize:4}),h=L.CipherParams=j.extend({init:function(G){this.mixIn(G)},toString:function(G){return(G||this.formatter).stringify(this)}}),ae=(C.format={}).OpenSSL={stringify:function(G){var X=G.ciphertext,re=G.salt;return(re?F.create([1398893684,1701076831]).concat(re).concat(X):X).toString(w)},parse:function(G){var ee,X=w.parse(G),re=X.words;return 1398893684==re[0]&&1701076831==re[1]&&(ee=F.create(re.slice(2,4)),re.splice(0,4),X.sigBytes-=16),h.create({ciphertext:X,salt:ee})}},we=L.SerializableCipher=j.extend({cfg:j.extend({format:ae}),encrypt:function(G,ee,X,re){re=this.cfg.extend(re);var le=G.createEncryptor(X,re),Oe=le.finalize(ee),We=le.cfg;return h.create({ciphertext:Oe,key:X,iv:We.iv,algorithm:G,mode:We.mode,padding:We.padding,blockSize:G.blockSize,formatter:re.format})},decrypt:function(G,ee,X,re){return re=this.cfg.extend(re),ee=this._parse(ee,re.format),G.createDecryptor(X,re).finalize(ee.ciphertext)},_parse:function(G,ee){return"string"==typeof G?ee.parse(G,this):G}}),ce=(C.kdf={}).OpenSSL={execute:function(G,ee,X,re){re||(re=F.random(8));var le=M.create({keySize:ee+X}).compute(G,re),Oe=F.create(le.words.slice(ee),4*X);return le.sigBytes=4*ee,h.create({key:le,iv:Oe,salt:re})}},te=L.PasswordBasedCipher=we.extend({cfg:we.cfg.extend({kdf:ce}),encrypt:function(G,ee,X,re){var le=(re=this.cfg.extend(re)).kdf.execute(X,G.keySize,G.ivSize);re.iv=le.iv;var Oe=we.encrypt.call(this,G,ee,le.key,re);return Oe.mixIn(le),Oe},decrypt:function(G,ee,X,re){re=this.cfg.extend(re),ee=this._parse(ee,re.format);var le=re.kdf.execute(X,G.keySize,G.ivSize,ee.salt);return re.iv=le.iv,we.decrypt.call(this,G,ee,le.key,re)}}))))},7585:function(he,z,l){var i;he.exports=(i=i||function(u,C){var L;if("undefined"!=typeof window&&window.crypto&&(L=window.crypto),"undefined"!=typeof self&&self.crypto&&(L=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(L=globalThis.crypto),!L&&"undefined"!=typeof window&&window.msCrypto&&(L=window.msCrypto),!L&&"undefined"!=typeof global&&global.crypto&&(L=global.crypto),!L)try{L=l(2480)}catch{}var j=function(){if(L){if("function"==typeof L.getRandomValues)try{return L.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof L.randomBytes)try{return L.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},F=Object.create||function(){function d(){}return function(a){var m;return d.prototype=a,m=new d,d.prototype=null,m}}(),U={},B=U.lib={},S=B.Base={extend:function(d){var a=F(this);return d&&a.mixIn(d),(!a.hasOwnProperty("init")||this.init===a.init)&&(a.init=function(){a.$super.init.apply(this,arguments)}),a.init.prototype=a,a.$super=this,a},create:function(){var d=this.extend();return d.init.apply(d,arguments),d},init:function(){},mixIn:function(d){for(var a in d)d.hasOwnProperty(a)&&(this[a]=d[a]);d.hasOwnProperty("toString")&&(this.toString=d.toString)},clone:function(){return this.init.prototype.extend(this)}},w=B.WordArray=S.extend({init:function(d,a){d=this.words=d||[],this.sigBytes=null!=a?a:4*d.length},toString:function(d){return(d||M).stringify(this)},concat:function(d){var a=this.words,m=d.words,h=this.sigBytes,W=d.sigBytes;if(this.clamp(),h%4)for(var ae=0;ae<W;ae++)a[h+ae>>>2]|=(m[ae>>>2]>>>24-ae%4*8&255)<<24-(h+ae)%4*8;else for(var Ee=0;Ee<W;Ee+=4)a[h+Ee>>>2]=m[Ee>>>2];return this.sigBytes+=W,this},clamp:function(){var d=this.words,a=this.sigBytes;d[a>>>2]&=4294967295<<32-a%4*8,d.length=u.ceil(a/4)},clone:function(){var d=S.clone.call(this);return d.words=this.words.slice(0),d},random:function(d){for(var a=[],m=0;m<d;m+=4)a.push(j());return new w.init(a,d)}}),E=U.enc={},M=E.Hex={stringify:function(d){for(var a=d.words,m=d.sigBytes,h=[],W=0;W<m;W++){var ae=a[W>>>2]>>>24-W%4*8&255;h.push((ae>>>4).toString(16)),h.push((15&ae).toString(16))}return h.join("")},parse:function(d){for(var a=d.length,m=[],h=0;h<a;h+=2)m[h>>>3]|=parseInt(d.substr(h,2),16)<<24-h%8*4;return new w.init(m,a/2)}},T=E.Latin1={stringify:function(d){for(var a=d.words,m=d.sigBytes,h=[],W=0;W<m;W++)h.push(String.fromCharCode(a[W>>>2]>>>24-W%4*8&255));return h.join("")},parse:function(d){for(var a=d.length,m=[],h=0;h<a;h++)m[h>>>2]|=(255&d.charCodeAt(h))<<24-h%4*8;return new w.init(m,a)}},k=E.Utf8={stringify:function(d){try{return decodeURIComponent(escape(T.stringify(d)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(d){return T.parse(unescape(encodeURIComponent(d)))}},I=B.BufferedBlockAlgorithm=S.extend({reset:function(){this._data=new w.init,this._nDataBytes=0},_append:function(d){"string"==typeof d&&(d=k.parse(d)),this._data.concat(d),this._nDataBytes+=d.sigBytes},_process:function(d){var a,m=this._data,h=m.words,W=m.sigBytes,ae=this.blockSize,Ee=W/(4*ae),ce=(Ee=d?u.ceil(Ee):u.max((0|Ee)-this._minBufferSize,0))*ae,te=u.min(4*ce,W);if(ce){for(var G=0;G<ce;G+=ae)this._doProcessBlock(h,G);a=h.splice(0,ce),m.sigBytes-=te}return new w.init(a,te)},clone:function(){var d=S.clone.call(this);return d._data=this._data.clone(),d},_minBufferSize:0}),v=(B.Hasher=I.extend({cfg:S.extend(),init:function(d){this.cfg=this.cfg.extend(d),this.reset()},reset:function(){I.reset.call(this),this._doReset()},update:function(d){return this._append(d),this._process(),this},finalize:function(d){return d&&this._append(d),this._doFinalize()},blockSize:16,_createHelper:function(d){return function(a,m){return new d.init(m).finalize(a)}},_createHmacHelper:function(d){return function(a,m){return new v.HMAC.init(d,m).finalize(a)}}}),U.algo={});return U}(Math),i)},8319:function(he,z,l){var i,L;he.exports=(i=l(7585),L=i.lib.WordArray,i.enc.Base64={stringify:function(B){var S=B.words,w=B.sigBytes,E=this._map;B.clamp();for(var M=[],T=0;T<w;T+=3)for(var v=(S[T>>>2]>>>24-T%4*8&255)<<16|(S[T+1>>>2]>>>24-(T+1)%4*8&255)<<8|S[T+2>>>2]>>>24-(T+2)%4*8&255,d=0;d<4&&T+.75*d<w;d++)M.push(E.charAt(v>>>6*(3-d)&63));var a=E.charAt(64);if(a)for(;M.length%4;)M.push(a);return M.join("")},parse:function(B){var S=B.length,w=this._map,E=this._reverseMap;if(!E){E=this._reverseMap=[];for(var M=0;M<w.length;M++)E[w.charCodeAt(M)]=M}var T=w.charAt(64);if(T){var k=B.indexOf(T);-1!==k&&(S=k)}return function(B,S,w){for(var E=[],M=0,T=0;T<S;T++)if(T%4){var k=w[B.charCodeAt(T-1)]<<T%4*2,I=w[B.charCodeAt(T)]>>>6-T%4*2;E[M>>>2]|=(k|I)<<24-M%4*8,M++}return L.create(E,M)}(B,S,E)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},i.enc.Base64)},4384:function(he,z,l){he.exports=l(7585).enc.Utf8},7865:function(he,z,l){var u,C,L,j,F,B,i;he.exports=(i=l(7585),l(5162),l(3764),j=(C=(u=i).lib).WordArray,B=(F=u.algo).EvpKDF=(L=C.Base).extend({cfg:L.extend({keySize:4,hasher:F.MD5,iterations:1}),init:function(S){this.cfg=this.cfg.extend(S)},compute:function(S,w){for(var E,M=this.cfg,T=M.hasher.create(),k=j.create(),I=k.words,b=M.keySize,v=M.iterations;I.length<b;){E&&T.update(E),E=T.update(S).finalize(w),T.reset();for(var d=1;d<v;d++)E=T.finalize(E),T.reset();k.concat(E)}return k.sigBytes=4*b,k}}),u.EvpKDF=function(S,w,E){return B.create(E).compute(S,w)},i.EvpKDF)},3764:function(he,z,l){var i,F;he.exports=(i=l(7585),F=i.enc.Utf8,void(i.algo.HMAC=i.lib.Base.extend({init:function(S,w){S=this._hasher=new S.init,"string"==typeof w&&(w=F.parse(w));var E=S.blockSize,M=4*E;w.sigBytes>M&&(w=S.finalize(w)),w.clamp();for(var T=this._oKey=w.clone(),k=this._iKey=w.clone(),I=T.words,b=k.words,v=0;v<E;v++)I[v]^=1549556828,b[v]^=909522486;T.sigBytes=k.sigBytes=M,this.reset()},reset:function(){var S=this._hasher;S.reset(),S.update(this._iKey)},update:function(S){return this._hasher.update(S),this},finalize:function(S){var w=this._hasher,E=w.finalize(S);return w.reset(),w.finalize(this._oKey.clone().concat(E))}})))},9493:function(he,z,l){var i;he.exports=(i=l(7585),function(u){var C=i,L=C.lib,j=L.WordArray,F=L.Hasher,U=C.algo,B=[];!function(){for(var k=0;k<64;k++)B[k]=4294967296*u.abs(u.sin(k+1))|0}();var S=U.MD5=F.extend({_doReset:function(){this._hash=new j.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(k,I){for(var b=0;b<16;b++){var v=I+b,d=k[v];k[v]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}var a=this._hash.words,m=k[I+0],h=k[I+1],W=k[I+2],ae=k[I+3],we=k[I+4],Ee=k[I+5],ce=k[I+6],te=k[I+7],G=k[I+8],ee=k[I+9],X=k[I+10],re=k[I+11],le=k[I+12],Oe=k[I+13],We=k[I+14],tt=k[I+15],Pe=a[0],De=a[1],pe=a[2],ve=a[3];Pe=w(Pe,De,pe,ve,m,7,B[0]),ve=w(ve,Pe,De,pe,h,12,B[1]),pe=w(pe,ve,Pe,De,W,17,B[2]),De=w(De,pe,ve,Pe,ae,22,B[3]),Pe=w(Pe,De,pe,ve,we,7,B[4]),ve=w(ve,Pe,De,pe,Ee,12,B[5]),pe=w(pe,ve,Pe,De,ce,17,B[6]),De=w(De,pe,ve,Pe,te,22,B[7]),Pe=w(Pe,De,pe,ve,G,7,B[8]),ve=w(ve,Pe,De,pe,ee,12,B[9]),pe=w(pe,ve,Pe,De,X,17,B[10]),De=w(De,pe,ve,Pe,re,22,B[11]),Pe=w(Pe,De,pe,ve,le,7,B[12]),ve=w(ve,Pe,De,pe,Oe,12,B[13]),pe=w(pe,ve,Pe,De,We,17,B[14]),Pe=E(Pe,De=w(De,pe,ve,Pe,tt,22,B[15]),pe,ve,h,5,B[16]),ve=E(ve,Pe,De,pe,ce,9,B[17]),pe=E(pe,ve,Pe,De,re,14,B[18]),De=E(De,pe,ve,Pe,m,20,B[19]),Pe=E(Pe,De,pe,ve,Ee,5,B[20]),ve=E(ve,Pe,De,pe,X,9,B[21]),pe=E(pe,ve,Pe,De,tt,14,B[22]),De=E(De,pe,ve,Pe,we,20,B[23]),Pe=E(Pe,De,pe,ve,ee,5,B[24]),ve=E(ve,Pe,De,pe,We,9,B[25]),pe=E(pe,ve,Pe,De,ae,14,B[26]),De=E(De,pe,ve,Pe,G,20,B[27]),Pe=E(Pe,De,pe,ve,Oe,5,B[28]),ve=E(ve,Pe,De,pe,W,9,B[29]),pe=E(pe,ve,Pe,De,te,14,B[30]),Pe=M(Pe,De=E(De,pe,ve,Pe,le,20,B[31]),pe,ve,Ee,4,B[32]),ve=M(ve,Pe,De,pe,G,11,B[33]),pe=M(pe,ve,Pe,De,re,16,B[34]),De=M(De,pe,ve,Pe,We,23,B[35]),Pe=M(Pe,De,pe,ve,h,4,B[36]),ve=M(ve,Pe,De,pe,we,11,B[37]),pe=M(pe,ve,Pe,De,te,16,B[38]),De=M(De,pe,ve,Pe,X,23,B[39]),Pe=M(Pe,De,pe,ve,Oe,4,B[40]),ve=M(ve,Pe,De,pe,m,11,B[41]),pe=M(pe,ve,Pe,De,ae,16,B[42]),De=M(De,pe,ve,Pe,ce,23,B[43]),Pe=M(Pe,De,pe,ve,ee,4,B[44]),ve=M(ve,Pe,De,pe,le,11,B[45]),pe=M(pe,ve,Pe,De,tt,16,B[46]),Pe=T(Pe,De=M(De,pe,ve,Pe,W,23,B[47]),pe,ve,m,6,B[48]),ve=T(ve,Pe,De,pe,te,10,B[49]),pe=T(pe,ve,Pe,De,We,15,B[50]),De=T(De,pe,ve,Pe,Ee,21,B[51]),Pe=T(Pe,De,pe,ve,le,6,B[52]),ve=T(ve,Pe,De,pe,ae,10,B[53]),pe=T(pe,ve,Pe,De,X,15,B[54]),De=T(De,pe,ve,Pe,h,21,B[55]),Pe=T(Pe,De,pe,ve,G,6,B[56]),ve=T(ve,Pe,De,pe,tt,10,B[57]),pe=T(pe,ve,Pe,De,ce,15,B[58]),De=T(De,pe,ve,Pe,Oe,21,B[59]),Pe=T(Pe,De,pe,ve,we,6,B[60]),ve=T(ve,Pe,De,pe,re,10,B[61]),pe=T(pe,ve,Pe,De,W,15,B[62]),De=T(De,pe,ve,Pe,ee,21,B[63]),a[0]=a[0]+Pe|0,a[1]=a[1]+De|0,a[2]=a[2]+pe|0,a[3]=a[3]+ve|0},_doFinalize:function(){var k=this._data,I=k.words,b=8*this._nDataBytes,v=8*k.sigBytes;I[v>>>5]|=128<<24-v%32;var d=u.floor(b/4294967296),a=b;I[15+(v+64>>>9<<4)]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),I[14+(v+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),k.sigBytes=4*(I.length+1),this._process();for(var m=this._hash,h=m.words,W=0;W<4;W++){var ae=h[W];h[W]=16711935&(ae<<8|ae>>>24)|4278255360&(ae<<24|ae>>>8)}return m},clone:function(){var k=F.clone.call(this);return k._hash=this._hash.clone(),k}});function w(k,I,b,v,d,a,m){var h=k+(I&b|~I&v)+d+m;return(h<<a|h>>>32-a)+I}function E(k,I,b,v,d,a,m){var h=k+(I&v|b&~v)+d+m;return(h<<a|h>>>32-a)+I}function M(k,I,b,v,d,a,m){var h=k+(I^b^v)+d+m;return(h<<a|h>>>32-a)+I}function T(k,I,b,v,d,a,m){var h=k+(b^(I|~v))+d+m;return(h<<a|h>>>32-a)+I}C.MD5=F._createHelper(S),C.HmacMD5=F._createHmacHelper(S)}(Math),i.MD5)},5162:function(he,z,l){var u,C,L,j,U,B,i;he.exports=(i=l(7585),L=(C=(u=i).lib).WordArray,U=[],B=u.algo.SHA1=(j=C.Hasher).extend({_doReset:function(){this._hash=new L.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,w){for(var E=this._hash.words,M=E[0],T=E[1],k=E[2],I=E[3],b=E[4],v=0;v<80;v++){if(v<16)U[v]=0|S[w+v];else{var d=U[v-3]^U[v-8]^U[v-14]^U[v-16];U[v]=d<<1|d>>>31}var a=(M<<5|M>>>27)+b+U[v];a+=v<20?1518500249+(T&k|~T&I):v<40?1859775393+(T^k^I):v<60?(T&k|T&I|k&I)-1894007588:(T^k^I)-899497514,b=I,I=k,k=T<<30|T>>>2,T=M,M=a}E[0]=E[0]+M|0,E[1]=E[1]+T|0,E[2]=E[2]+k|0,E[3]=E[3]+I|0,E[4]=E[4]+b|0},_doFinalize:function(){var S=this._data,w=S.words,E=8*this._nDataBytes,M=8*S.sigBytes;return w[M>>>5]|=128<<24-M%32,w[14+(M+64>>>9<<4)]=Math.floor(E/4294967296),w[15+(M+64>>>9<<4)]=E,S.sigBytes=4*w.length,this._process(),this._hash},clone:function(){var S=j.clone.call(this);return S._hash=this._hash.clone(),S}}),u.SHA1=j._createHelper(B),u.HmacSHA1=j._createHmacHelper(B),i.SHA1)},6952:(he,z,l)=>{var i=l(1356),u=l(3407),C=l(2e3),L=l(2342),j=l(9235),F=l(2374),U=Date.prototype.getTime;function S(M){return null==M}function w(M){return!(!M||"object"!=typeof M||"number"!=typeof M.length||"function"!=typeof M.copy||"function"!=typeof M.slice||M.length>0&&"number"!=typeof M[0])}he.exports=function B(M,T,k){var I=k||{};return!!(I.strict?C(M,T):M===T)||(!M||!T||"object"!=typeof M&&"object"!=typeof T?I.strict?C(M,T):M==T:function(M,T,k){var I,b;if(typeof M!=typeof T||S(M)||S(T)||M.prototype!==T.prototype||u(M)!==u(T))return!1;var v=L(M),d=L(T);if(v!==d)return!1;if(v||d)return M.source===T.source&&j(M)===j(T);if(F(M)&&F(T))return U.call(M)===U.call(T);var a=w(M),m=w(T);if(a!==m)return!1;if(a||m){if(M.length!==T.length)return!1;for(I=0;I<M.length;I++)if(M[I]!==T[I])return!1;return!0}if(typeof M!=typeof T)return!1;try{var h=i(M),W=i(T)}catch{return!1}if(h.length!==W.length)return!1;for(h.sort(),W.sort(),I=h.length-1;I>=0;I--)if(h[I]!=W[I])return!1;for(I=h.length-1;I>=0;I--)if(!B(M[b=h[I]],T[b],k))return!1;return!0}(M,T,I))}},4949:he=>{he.exports=function z(l){return Object.freeze(l),Object.getOwnPropertyNames(l).forEach(function(i){l.hasOwnProperty(i)&&null!==l[i]&&("object"==typeof l[i]||"function"==typeof l[i])&&!Object.isFrozen(l[i])&&z(l[i])}),l}},2358:(he,z,l)=>{var i=l(1356),u="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),C=Object.prototype.toString,L=Array.prototype.concat,j=Object.defineProperty,B=j&&function(){var E={};try{for(var M in j(E,"x",{enumerable:!1,value:E}),E)return!1;return E.x===E}catch{return!1}}(),S=function(E,M,T,k){M in E&&(!function(E){return"function"==typeof E&&"[object Function]"===C.call(E)}(k)||!k())||(B?j(E,M,{configurable:!0,enumerable:!1,value:T,writable:!0}):E[M]=T)},w=function(E,M){var T=arguments.length>2?arguments[2]:{},k=i(M);u&&(k=L.call(k,Object.getOwnPropertySymbols(M)));for(var I=0;I<k.length;I+=1)S(E,k[I],M[k[I]],T[k[I]])};w.supportsDescriptors=!!B,he.exports=w},9069:he=>{var i,z="object"==typeof Reflect?Reflect:null,l=z&&"function"==typeof z.apply?z.apply:function(m,h,W){return Function.prototype.apply.call(m,h,W)};i=z&&"function"==typeof z.ownKeys?z.ownKeys:Object.getOwnPropertySymbols?function(m){return Object.getOwnPropertyNames(m).concat(Object.getOwnPropertySymbols(m))}:function(m){return Object.getOwnPropertyNames(m)};var C=Number.isNaN||function(m){return m!=m};function L(){L.init.call(this)}he.exports=L,he.exports.once=function(a,m){return new Promise(function(h,W){function ae(Ee){a.removeListener(m,we),W(Ee)}function we(){"function"==typeof a.removeListener&&a.removeListener("error",ae),h([].slice.call(arguments))}d(a,m,we,{once:!0}),"error"!==m&&function(a,m,h){"function"==typeof a.on&&d(a,"error",m,{once:!0})}(a,ae)})},L.EventEmitter=L,L.prototype._events=void 0,L.prototype._eventsCount=0,L.prototype._maxListeners=void 0;var j=10;function F(a){if("function"!=typeof a)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}function U(a){return void 0===a._maxListeners?L.defaultMaxListeners:a._maxListeners}function B(a,m,h,W){var ae,we,Ee;if(F(h),void 0===(we=a._events)?(we=a._events=Object.create(null),a._eventsCount=0):(void 0!==we.newListener&&(a.emit("newListener",m,h.listener?h.listener:h),we=a._events),Ee=we[m]),void 0===Ee)Ee=we[m]=h,++a._eventsCount;else if("function"==typeof Ee?Ee=we[m]=W?[h,Ee]:[Ee,h]:W?Ee.unshift(h):Ee.push(h),(ae=U(a))>0&&Ee.length>ae&&!Ee.warned){Ee.warned=!0;var ce=new Error("Possible EventEmitter memory leak detected. "+Ee.length+" "+String(m)+" listeners added. Use emitter.setMaxListeners() to increase limit");ce.name="MaxListenersExceededWarning",ce.emitter=a,ce.type=m,ce.count=Ee.length,function(a){console&&console.warn&&console.warn(a)}(ce)}return a}function S(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w(a,m,h){var W={fired:!1,wrapFn:void 0,target:a,type:m,listener:h},ae=S.bind(W);return ae.listener=h,W.wrapFn=ae,ae}function E(a,m,h){var W=a._events;if(void 0===W)return[];var ae=W[m];return void 0===ae?[]:"function"==typeof ae?h?[ae.listener||ae]:[ae]:h?function(a){for(var m=new Array(a.length),h=0;h<m.length;++h)m[h]=a[h].listener||a[h];return m}(ae):T(ae,ae.length)}function M(a){var m=this._events;if(void 0!==m){var h=m[a];if("function"==typeof h)return 1;if(void 0!==h)return h.length}return 0}function T(a,m){for(var h=new Array(m),W=0;W<m;++W)h[W]=a[W];return h}function d(a,m,h,W){if("function"==typeof a.on)W.once?a.once(m,h):a.on(m,h);else{if("function"!=typeof a.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a);a.addEventListener(m,function ae(we){W.once&&a.removeEventListener(m,ae),h(we)})}}Object.defineProperty(L,"defaultMaxListeners",{enumerable:!0,get:function(){return j},set:function(a){if("number"!=typeof a||a<0||C(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");j=a}}),L.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},L.prototype.setMaxListeners=function(m){if("number"!=typeof m||m<0||C(m))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+m+".");return this._maxListeners=m,this},L.prototype.getMaxListeners=function(){return U(this)},L.prototype.emit=function(m){for(var h=[],W=1;W<arguments.length;W++)h.push(arguments[W]);var ae="error"===m,we=this._events;if(void 0!==we)ae=ae&&void 0===we.error;else if(!ae)return!1;if(ae){var Ee;if(h.length>0&&(Ee=h[0]),Ee instanceof Error)throw Ee;var ce=new Error("Unhandled error."+(Ee?" ("+Ee.message+")":""));throw ce.context=Ee,ce}var te=we[m];if(void 0===te)return!1;if("function"==typeof te)l(te,this,h);else{var G=te.length,ee=T(te,G);for(W=0;W<G;++W)l(ee[W],this,h)}return!0},L.prototype.on=L.prototype.addListener=function(m,h){return B(this,m,h,!1)},L.prototype.prependListener=function(m,h){return B(this,m,h,!0)},L.prototype.once=function(m,h){return F(h),this.on(m,w(this,m,h)),this},L.prototype.prependOnceListener=function(m,h){return F(h),this.prependListener(m,w(this,m,h)),this},L.prototype.off=L.prototype.removeListener=function(m,h){var W,ae,we,Ee,ce;if(F(h),void 0===(ae=this._events))return this;if(void 0===(W=ae[m]))return this;if(W===h||W.listener===h)0==--this._eventsCount?this._events=Object.create(null):(delete ae[m],ae.removeListener&&this.emit("removeListener",m,W.listener||h));else if("function"!=typeof W){for(we=-1,Ee=W.length-1;Ee>=0;Ee--)if(W[Ee]===h||W[Ee].listener===h){ce=W[Ee].listener,we=Ee;break}if(we<0)return this;0===we?W.shift():function(a,m){for(;m+1<a.length;m++)a[m]=a[m+1];a.pop()}(W,we),1===W.length&&(ae[m]=W[0]),void 0!==ae.removeListener&&this.emit("removeListener",m,ce||h)}return this},L.prototype.removeAllListeners=function(m){var h,W,ae;if(void 0===(W=this._events))return this;if(void 0===W.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==W[m]&&(0==--this._eventsCount?this._events=Object.create(null):delete W[m]),this;if(0===arguments.length){var Ee,we=Object.keys(W);for(ae=0;ae<we.length;++ae)"removeListener"!==(Ee=we[ae])&&this.removeAllListeners(Ee);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(h=W[m]))this.removeListener(m,h);else if(void 0!==h)for(ae=h.length-1;ae>=0;ae--)this.removeListener(m,h[ae]);return this},L.prototype.listeners=function(m){return E(this,m,!0)},L.prototype.rawListeners=function(m){return E(this,m,!1)},L.listenerCount=function(a,m){return"function"==typeof a.listenerCount?a.listenerCount(m):M.call(a,m)},L.prototype.listenerCount=M,L.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},2559:he=>{he.exports=function z(l,i){if(l===i)return!0;if(l&&i&&"object"==typeof l&&"object"==typeof i){if(l.constructor!==i.constructor)return!1;var u,C,L;if(Array.isArray(l)){if((u=l.length)!=i.length)return!1;for(C=u;0!=C--;)if(!z(l[C],i[C]))return!1;return!0}if(l.constructor===RegExp)return l.source===i.source&&l.flags===i.flags;if(l.valueOf!==Object.prototype.valueOf)return l.valueOf()===i.valueOf();if(l.toString!==Object.prototype.toString)return l.toString()===i.toString();if((u=(L=Object.keys(l)).length)!==Object.keys(i).length)return!1;for(C=u;0!=C--;)if(!Object.prototype.hasOwnProperty.call(i,L[C]))return!1;for(C=u;0!=C--;){var j=L[C];if(!z(l[j],i[j]))return!1}return!0}return l!=l&&i!=i}},9076:he=>{var z=Object.prototype.hasOwnProperty,l=Object.prototype.toString;he.exports=function(u,C,L){if("[object Function]"!==l.call(C))throw new TypeError("iterator must be a function");var j=u.length;if(j===+j)for(var F=0;F<j;F++)C.call(L,u[F],F,u);else for(var U in u)z.call(u,U)&&C.call(L,u[U],U,u)}},3457:he=>{var z="Function.prototype.bind called on incompatible ",l=Array.prototype.slice,i=Object.prototype.toString,u="[object Function]";he.exports=function(L){var j=this;if("function"!=typeof j||i.call(j)!==u)throw new TypeError(z+j);for(var U,F=l.call(arguments,1),B=function(){if(this instanceof U){var T=j.apply(this,F.concat(l.call(arguments)));return Object(T)===T?T:this}return j.apply(L,F.concat(l.call(arguments)))},S=Math.max(0,j.length-F.length),w=[],E=0;E<S;E++)w.push("$"+E);if(U=Function("binder","return function ("+w.join(",")+"){ return binder.apply(this,arguments); }")(B),j.prototype){var M=function(){};M.prototype=j.prototype,U.prototype=new M,M.prototype=null}return U}},4444:(he,z,l)=>{var i=l(3457);he.exports=Function.prototype.bind||i},1227:(he,z,l)=>{for(var i=l(6788),u=l(7549),C=/[\{\[]/,L=/[\}\]]/,j=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],F={},U=0;U<j.length;U++)F[j[U]]=!0;var B=function(E){return u(E)&&!F.hasOwnProperty(E)},S={s:function(E){return""+E},d:function(E){return""+Number(E)},o:function(E){return JSON.stringify(E)}},w=function(){var E=[],M=0,T={},k=function(v){for(var d="";d.length<2*M;)d+="  ";E.push(d+v)},I=function(v){return L.test(v.trim()[0])&&C.test(v[v.length-1])?(M--,k(v),void M++):C.test(v[v.length-1])?(k(v),void M++):L.test(v.trim()[0])?(M--,void k(v)):void k(v)},b=function(v){if(!v)return b;if(1===arguments.length&&v.indexOf("\n")>-1)for(var d=v.trim().split("\n"),a=0;a<d.length;a++)I(d[a].trim());else I(i.format.apply(i,arguments));return b};return b.scope={},b.formats=S,b.sym=function(v){return(!v||!B(v))&&(v="tmp"),T[v]||(T[v]=0),v+(T[v]++||"")},b.property=function(v,d){return 1===arguments.length&&(d=v,v=""),u(d+="")?v?v+"."+d:d:v?v+"["+JSON.stringify(d)+"]":JSON.stringify(d)},b.toString=function(){return E.join("\n")},b.toFunction=function(v){v||(v={});var d="return ("+b.toString()+")";Object.keys(b.scope).forEach(function(h){v[h]||(v[h]=b.scope[h])});var a=Object.keys(v).map(function(h){return h}),m=a.map(function(h){return v[h]});return Function.apply(null,a.concat(d)).apply(null,m)},arguments.length&&b.apply(null,arguments),b};w.formats=S,he.exports=w},2562:(he,z,l)=>{var i=l(7549),u=function(C,L){return i(L)?C+"."+L:C+"["+JSON.stringify(L)+"]"};u.valid=i,u.property=function(C){return i(C)?C:JSON.stringify(C)},he.exports=u},5203:(he,z,l)=>{var i,u=SyntaxError,C=Function,L=TypeError,j=function(ce){try{return C('"use strict"; return ('+ce+").constructor;")()}catch{}},F=Object.getOwnPropertyDescriptor;if(F)try{F({},"")}catch{F=null}var U=function(){throw new L},B=F?function(){try{return U}catch{try{return F(arguments,"callee").get}catch{return U}}}():U,S=l(2969)(),w=Object.getPrototypeOf||function(ce){return ce.__proto__},E={},M="undefined"==typeof Uint8Array?i:w(Uint8Array),T={"%AggregateError%":"undefined"==typeof AggregateError?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?i:ArrayBuffer,"%ArrayIteratorPrototype%":S?w([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":E,"%AsyncGenerator%":E,"%AsyncGeneratorFunction%":E,"%AsyncIteratorPrototype%":E,"%Atomics%":"undefined"==typeof Atomics?i:Atomics,"%BigInt%":"undefined"==typeof BigInt?i:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?i:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?i:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?i:FinalizationRegistry,"%Function%":C,"%GeneratorFunction%":E,"%Int8Array%":"undefined"==typeof Int8Array?i:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?i:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S?w(w([][Symbol.iterator]())):i,"%JSON%":"object"==typeof JSON?JSON:i,"%Map%":"undefined"==typeof Map?i:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&S?w((new Map)[Symbol.iterator]()):i,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?i:Promise,"%Proxy%":"undefined"==typeof Proxy?i:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?i:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?i:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&S?w((new Set)[Symbol.iterator]()):i,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S?w(""[Symbol.iterator]()):i,"%Symbol%":S?Symbol:i,"%SyntaxError%":u,"%ThrowTypeError%":B,"%TypedArray%":M,"%TypeError%":L,"%Uint8Array%":"undefined"==typeof Uint8Array?i:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?i:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?i:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?i:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?i:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?i:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?i:WeakSet},k=function ce(te){var G;if("%AsyncFunction%"===te)G=j("async function () {}");else if("%GeneratorFunction%"===te)G=j("function* () {}");else if("%AsyncGeneratorFunction%"===te)G=j("async function* () {}");else if("%AsyncGenerator%"===te){var ee=ce("%AsyncGeneratorFunction%");ee&&(G=ee.prototype)}else if("%AsyncIteratorPrototype%"===te){var X=ce("%AsyncGenerator%");X&&(G=w(X.prototype))}return T[te]=G,G},I={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=l(4444),v=l(3164),d=b.call(Function.call,Array.prototype.concat),a=b.call(Function.apply,Array.prototype.splice),m=b.call(Function.call,String.prototype.replace),h=b.call(Function.call,String.prototype.slice),W=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ae=/\\(\\)?/g,we=function(te){var G=h(te,0,1),ee=h(te,-1);if("%"===G&&"%"!==ee)throw new u("invalid intrinsic syntax, expected closing `%`");if("%"===ee&&"%"!==G)throw new u("invalid intrinsic syntax, expected opening `%`");var X=[];return m(te,W,function(re,le,Oe,We){X[X.length]=Oe?m(We,ae,"$1"):le||re}),X},Ee=function(te,G){var X,ee=te;if(v(I,ee)&&(ee="%"+(X=I[ee])[0]+"%"),v(T,ee)){var re=T[ee];if(re===E&&(re=k(ee)),void 0===re&&!G)throw new L("intrinsic "+te+" exists, but is not available. Please file an issue!");return{alias:X,name:ee,value:re}}throw new u("intrinsic "+te+" does not exist!")};he.exports=function(te,G){if("string"!=typeof te||0===te.length)throw new L("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof G)throw new L('"allowMissing" argument must be a boolean');var ee=we(te),X=ee.length>0?ee[0]:"",re=Ee("%"+X+"%",G),le=re.name,Oe=re.value,We=!1,tt=re.alias;tt&&(X=tt[0],a(ee,d([0,1],tt)));for(var Pe=1,De=!0;Pe<ee.length;Pe+=1){var pe=ee[Pe],ve=h(pe,0,1),ke=h(pe,-1);if(('"'===ve||"'"===ve||"`"===ve||'"'===ke||"'"===ke||"`"===ke)&&ve!==ke)throw new u("property names with quotes must have matching quotes");if(("constructor"===pe||!De)&&(We=!0),v(T,le="%"+(X+="."+pe)+"%"))Oe=T[le];else if(null!=Oe){if(!(pe in Oe)){if(!G)throw new L("base intrinsic for "+te+" exists, but the property is not available.");return}if(F&&Pe+1>=ee.length){var Ge=F(Oe,pe);Oe=(De=!!Ge)&&"get"in Ge&&!("originalValue"in Ge.get)?Ge.get:Oe[pe]}else De=v(Oe,pe),Oe=Oe[pe];De&&!We&&(T[le]=Oe)}}return Oe}},2969:(he,z,l)=>{var i="undefined"!=typeof Symbol&&Symbol,u=l(1983);he.exports=function(){return"function"==typeof i&&"function"==typeof Symbol&&"symbol"==typeof i("foo")&&"symbol"==typeof Symbol("bar")&&u()}},1983:he=>{he.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var l={},i=Symbol("test"),u=Object(i);if("string"==typeof i||"[object Symbol]"!==Object.prototype.toString.call(i)||"[object Symbol]"!==Object.prototype.toString.call(u))return!1;for(i in l[i]=42,l)return!1;if("function"==typeof Object.keys&&0!==Object.keys(l).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(l).length)return!1;var L=Object.getOwnPropertySymbols(l);if(1!==L.length||L[0]!==i||!Object.prototype.propertyIsEnumerable.call(l,i))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var j=Object.getOwnPropertyDescriptor(l,i);if(42!==j.value||!0!==j.enumerable)return!1}return!0}},6259:(he,z,l)=>{var i=l(1983);he.exports=function(){return i()&&!!Symbol.toStringTag}},3164:(he,z,l)=>{var i=l(4444);he.exports=i.call(Function.call,Object.prototype.hasOwnProperty)},3894:he=>{he.exports="function"==typeof Object.create?function(l,i){i&&(l.super_=i,l.prototype=Object.create(i.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}))}:function(l,i){if(i){l.super_=i;var u=function(){};u.prototype=i.prototype,l.prototype=new u,l.prototype.constructor=l}}},3407:(he,z,l)=>{var i=l(6259)(),C=l(5834)("Object.prototype.toString"),L=function(B){return!(i&&B&&"object"==typeof B&&Symbol.toStringTag in B)&&"[object Arguments]"===C(B)},j=function(B){return!!L(B)||null!==B&&"object"==typeof B&&"number"==typeof B.length&&B.length>=0&&"[object Array]"!==C(B)&&"[object Function]"===C(B.callee)},F=function(){return L(arguments)}();L.isLegacyArguments=j,he.exports=F?L:j},2374:(he,z,l)=>{var i=Date.prototype.getDay,C=Object.prototype.toString,j=l(6259)();he.exports=function(U){return"object"==typeof U&&null!==U&&(j?function(U){try{return i.call(U),!0}catch{return!1}}(U):"[object Date]"===C.call(U))}},9456:he=>{he.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||"undefined"!=typeof process&&"object"==typeof process.versions&&!!process.versions.electron||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}},110:(he,z,l)=>{var U,i=Object.prototype.toString,u=Function.prototype.toString,C=/^\s*(?:function)?\*/,L=l(6259)(),j=Object.getPrototypeOf;he.exports=function(S){if("function"!=typeof S)return!1;if(C.test(u.call(S)))return!0;if(!L)return"[object GeneratorFunction]"===i.call(S);if(!j)return!1;if(void 0===U){var E=function(){if(!L)return!1;try{return Function("return function*() {}")()}catch{}}();U=!!E&&j(E)}return j(S)===U}},1570:he=>{var z=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l=/\/\d{1,3}(?=%|$)/,i=/\//,u=/%.*$/,C=/([^0-9a-f:/%])/i,L=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function j(B){if(!z.test(B))return!1;var S=B.split(".");if(4!==S.length||"0"===S[0][0]&&S[0].length>1||"0"===S[1][0]&&S[1].length>1||"0"===S[2][0]&&S[2].length>1||"0"===S[3][0]&&S[3].length>1)return!1;var w=Number(S[0]),E=Number(S[1]),M=Number(S[2]),T=Number(S[3]);return w>=0&&w<256&&E>=0&&E<256&&M>=0&&M<256&&T>=0&&T<256}function F(B){var S=B.replace(l,""),w=B.length!==S.length;if(w||!w&&i.test(B))return!1;var E=S.replace(u,""),M=E.lastIndexOf(":");if(-1===M)return!1;var I=j(E.substring(M+1))?E.substring(0,M+1)+"1234:5678":E;if(C.test(I)||L.test(I))return!1;var b=I.split("::");if(b.length>2)return!1;if(2===b.length){var v=""===b[0]?[]:b[0].split(":"),d=""===b[1]?[]:b[1].split(":");if(8-(v.length+d.length)<=0)return!1}else if(8!==I.split(":").length)return!1;return!0}function U(B){return j(B)||F(B)}he.exports=function(S){if(S||(S={}),4===S.version)return j;if(6===S.version)return F;if(null==S.version)return U;throw new Error("Unknown version: "+S.version)},he.exports.__all_regexes__=[z,l,i,u,C,L]},1367:(he,z,l)=>{var i=l(1570),u=/\s/,C=/^[a-zA-Z0-9.-]+$/,L=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,j=/^\+[0-9][0-9 ]{5,27}[0-9]$/,F=/ {2}/,U=/ /g;z["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,z.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,z.time=/^\d{2}:\d{2}:\d{2}$/,z.email=function(B){return-1!==B.indexOf("@")&&!u.test(B)},z["ip-address"]=z.ipv4=i({version:4}),z.ipv6=i({version:6}),z.uri=/^[a-zA-Z][a-zA-Z0-9+\-.]*:[^\s]*$/,z.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,z.hostname=function(B){if(!C.test(B))return!1;for(var S=B.split("."),w=0;w<S.length;w++)if(!L.test(S[w]))return!1;return!0},z.alpha=/^[a-zA-Z]+$/,z.alphanumeric=/^[a-zA-Z0-9]+$/,z.style=/.:\s*[^;]/g,z.phone=function(B){if(!j.test(B)||F.test(B))return!1;var S=B.substring(1).replace(U,"").length;return S>=7&&S<=15},z["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/},8167:(he,z,l)=>{var i=l(2562),u=l(1227),C=l(6936),L=l(1995),j=l(1367),U={any:function(){return"true"},null:function(M){return M+" === null"},boolean:function(M){return"typeof "+M+' === "boolean"'},array:function(M){return"Array.isArray("+M+")"},object:function(M){return"typeof "+M+' === "object" && '+M+" && !Array.isArray("+M+")"},number:function(M){return"typeof "+M+' === "number" && isFinite('+M+")"},integer:function(M){return"typeof "+M+' === "number" && (Math.floor('+M+") === "+M+" || "+M+" > 9007199254740992 || "+M+" < -9007199254740992)"},string:function(M){return"typeof "+M+' === "string"'}},B=function(M,T){T=Math.min(-1===T?M.length:T,M.length);for(var k=[],I=0;I<T;I++)k.push("object"==typeof M[I]?JSON.stringify(M[I]):M[I]);for(I=1;I<k.length;I++)if(k.indexOf(k[I])!==I)return!1;return!0},S=function(M,T){var I=(0|T)!==T?Math.pow(10,T.toString().split(".").pop().length):1;return!(I>1?((0|M)!==M?Math.pow(10,M.toString().split(".").pop().length):1)>I||Math.round(I*M)%(I*T):M%T)},w=function(M,T,k){return k>-1&&T.length>k||M.test(T)},E=function(M,T,k,I,b){var v=b?L(j,b.formats):j,d={unique:B,formats:v,isMultipleOf:S,testLimitedRegex:w},a=!!b&&!!b.verbose,m=!(!b||void 0===b.greedy)&&b.greedy,h={},W=[],ae=function(re){var le=re+(h[re]=(h[re]||0)+1);return W.push(le),le},we=function(re){var le=JSON.stringify(re);try{for(var Oe=/\[([^\[\]"]+)\]/;Oe.test(le);)le=le.replace(Oe,We);return le}catch{return JSON.stringify(re)}function We(tt,Pe){if(-1===W.indexOf(Pe))throw new Error("Unreplaceable");return'." + '+Pe+' + "'}},Ee={},ce=function(re){if(Ee[re])return Ee[re];var le=ae("pattern");return d[le]=new RegExp(re),Ee[re]=le,le},te=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],G=function(){var re=te.shift();return te.push(re+re[0]),W.push(re),re},ee=function(re,le,Oe,We,tt){var Pe=le.properties,De=le.type,pe=!1;Array.isArray(le.items)&&(Pe={},le.items.forEach(function(Pt,pt){Pe[pt]=Pt}),De="array",pe=!0);var ve=0,ke=function(Pt,pt,Rt){X("errors++"),!0===Oe&&(X("if (validate.errors === null) validate.errors = []"),a?X("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",we(pt||re),JSON.stringify(Pt),Rt||re,JSON.stringify(De),JSON.stringify(tt)):X("validate.errors.push({field:%s,message:%s})",we(pt||re),JSON.stringify(Pt)))};!0===le.required?(ve++,X("if (%s === undefined) {",re),ke("is required"),X("} else {")):(ve++,X("if (%s !== undefined) {",re));var Ge=[].concat(De).map(function(Pt){if(Pt&&!U.hasOwnProperty(Pt))throw new Error("Unknown type: "+Pt);return U[Pt||"any"](re)}).join(" || ")||"true";if("true"!==Ge&&(ve++,X("if (!(%s)) {",Ge),ke("is the wrong type"),X("} else {")),pe)if(!1===le.additionalItems)X("if (%s.length > %d) {",re,le.items.length),ke("has additional items"),X("}");else if(le.additionalItems){var rt=G();X("for (var %s = %d; %s < %s.length; %s++) {",rt,le.items.length,rt,re,rt),ee(re+"["+rt+"]",le.additionalItems,Oe,We,tt.concat("additionalItems")),X("}")}if(le.format&&v[le.format]){"string"!==De&&j[le.format]&&X("if (%s) {",U.string(re));var yt=ae("format");d[yt]=v[le.format],"function"==typeof d[yt]?X("if (!%s(%s)) {",yt,re):X("if (!testLimitedRegex(%s, %s, %d)) {",yt,re,void 0===le.maxLength?-1:le.maxLength),ke("must be "+le.format+" format"),X("}"),"string"!==De&&j[le.format]&&X("}")}if(Array.isArray(le.required)&&(yt=ae("missing"),X("var %s = 0",yt),X("if ((%s)) {","object"!==De?U.object(re):"true"),le.required.map(function(pt){var Rt=i(re,pt);X("if (%s === undefined) {",Rt),ke("is required",Rt),X("%s++",yt),X("}")}),X("}"),m||(X("if (%s === 0) {",yt),ve++)),le.uniqueItems&&("array"!==De&&X("if (%s) {",U.array(re)),X("if (!(unique(%s, %d))) {",re,le.maxItems||-1),ke("must be unique"),X("}"),"array"!==De&&X("}")),le.enum){var Et=le.enum.some(function(Pt){return"object"==typeof Pt});X("if (%s) {",le.enum.map(Et?function(Pt){return"JSON.stringify("+re+") !== JSON.stringify("+JSON.stringify(Pt)+")"}:function(Pt){return re+" !== "+JSON.stringify(Pt)}).join(" && ")||"false"),ke("must be an enum value"),X("}")}if(le.dependencies&&("object"!==De&&X("if (%s) {",U.object(re)),Object.keys(le.dependencies).forEach(function(Pt){var pt=le.dependencies[Pt];"string"==typeof pt&&(pt=[pt]),Array.isArray(pt)&&(X("if (%s !== undefined && !(%s)) {",i(re,Pt),pt.map(function(ar){return i(re,ar)+" !== undefined"}).join(" && ")||"true"),ke("dependencies not set"),X("}")),"object"==typeof pt&&(X("if (%s !== undefined) {",i(re,Pt)),ee(re,pt,Oe,We,tt.concat(["dependencies",Pt])),X("}"))}),"object"!==De&&X("}")),le.additionalProperties||!1===le.additionalProperties){"object"!==De&&X("if (%s) {",U.object(re)),rt=G();var Bt=ae("keys"),En=Object.keys(Pe||{}).map(function(pt){return Bt+"["+rt+"] !== "+JSON.stringify(pt)}).concat(Object.keys(le.patternProperties||{}).map(function(pt){return"!"+ce(pt)+".test("+Bt+"["+rt+"])"})).join(" && ")||"true";X("var %s = Object.keys(%s)",Bt,re)("for (var %s = 0; %s < %s.length; %s++) {",rt,rt,Bt,rt)("if (%s) {",En),!1===le.additionalProperties?(We&&X("delete %s",re+"["+Bt+"["+rt+"]]"),ke("has additional properties",null,JSON.stringify(re+".")+" + "+Bt+"["+rt+"]")):ee(re+"["+Bt+"["+rt+"]]",le.additionalProperties,Oe,We,tt.concat(["additionalProperties"])),X("}")("}"),"object"!==De&&X("}")}if(le.$ref){var Pn=function(M,T,k){var I=function(h){return h&&h.id===k?h:"object"==typeof h&&h?Object.keys(h).reduce(function(W,ae){return W||I(h[ae])},null):null},b=I(M);if(b)return b;k=(k=k.replace(/^#/,"")).replace(/\/$/,"");try{return C.get(M,decodeURI(k))}catch{var d,v=k.indexOf("#");if(0!==v)if(-1===v)d=T[k];else{d=T[k.slice(0,v)];var m=k.slice(v).replace(/^#/,"");try{return C.get(d,m)}catch{}}else d=T[k];return d||null}}(k,b&&b.schemas||{},le.$ref);if(Pn){var Tn=T[le.$ref];Tn||(T[le.$ref]=function(Rt){return Tn(Rt)},Tn=E(Pn,T,k,!1,b)),yt=ae("ref"),d[yt]=Tn,X("if (!(%s(%s))) {",yt,re),ke("referenced schema does not match"),X("}")}}if(le.not){var qt=ae("prev");X("var %s = errors",qt),ee(re,le.not,!1,We,tt.concat("not")),X("if (%s === errors) {",qt),ke("negative schema matches"),X("} else {")("errors = %s",qt)("}")}if(le.items&&!pe&&("array"!==De&&X("if (%s) {",U.array(re)),rt=G(),X("for (var %s = 0; %s < %s.length; %s++) {",rt,rt,re,rt),ee(re+"["+rt+"]",le.items,Oe,We,tt.concat("items")),X("}"),"array"!==De&&X("}")),le.patternProperties&&("object"!==De&&X("if (%s) {",U.object(re)),Bt=ae("keys"),rt=G(),X("var %s = Object.keys(%s)",Bt,re)("for (var %s = 0; %s < %s.length; %s++) {",rt,rt,Bt,rt),Object.keys(le.patternProperties).forEach(function(Rt){var ar=ce(Rt);X("if (%s.test(%s)) {",ar,Bt+"["+rt+"]"),ee(re+"["+Bt+"["+rt+"]]",le.patternProperties[Rt],Oe,We,tt.concat(["patternProperties",Rt])),X("}")}),X("}"),"object"!==De&&X("}")),le.pattern){var Un=ce(le.pattern);"string"!==De&&X("if (%s) {",U.string(re)),X("if (!(testLimitedRegex(%s, %s, %d))) {",Un,re,void 0===le.maxLength?-1:le.maxLength),ke("pattern mismatch"),X("}"),"string"!==De&&X("}")}if(le.allOf&&le.allOf.forEach(function(Pt,pt){ee(re,Pt,Oe,We,tt.concat(["allOf",pt]))}),le.anyOf&&le.anyOf.length&&(qt=ae("prev"),le.anyOf.forEach(function(pt,Rt){0===Rt?X("var %s = errors",qt):X("if (errors !== %s) {",qt)("errors = %s",qt),ee(re,pt,!1,!1,tt)}),le.anyOf.forEach(function(pt,Rt){Rt&&X("}")}),X("if (%s !== errors) {",qt),ke("no schemas match"),X("}")),le.oneOf&&le.oneOf.length){qt=ae("prev");var $e=ae("passes");X("var %s = errors",qt)("var %s = 0",$e),le.oneOf.forEach(function(pt,Rt){ee(re,pt,!1,!1,tt),X("if (%s === errors) {",qt)("%s++",$e)("} else {")("errors = %s",qt)("}")}),X("if (%s !== 1) {",$e),ke("no (or more than one) schemas match"),X("}")}for(void 0!==le.multipleOf&&("number"!==De&&"integer"!==De&&X("if (%s) {",U.number(re)),X("if (!isMultipleOf(%s, %d)) {",re,le.multipleOf),ke("has a remainder"),X("}"),"number"!==De&&"integer"!==De&&X("}")),void 0!==le.maxProperties&&("object"!==De&&X("if (%s) {",U.object(re)),X("if (Object.keys(%s).length > %d) {",re,le.maxProperties),ke("has more properties than allowed"),X("}"),"object"!==De&&X("}")),void 0!==le.minProperties&&("object"!==De&&X("if (%s) {",U.object(re)),X("if (Object.keys(%s).length < %d) {",re,le.minProperties),ke("has less properties than allowed"),X("}"),"object"!==De&&X("}")),void 0!==le.maxItems&&("array"!==De&&X("if (%s) {",U.array(re)),X("if (%s.length > %d) {",re,le.maxItems),ke("has more items than allowed"),X("}"),"array"!==De&&X("}")),void 0!==le.minItems&&("array"!==De&&X("if (%s) {",U.array(re)),X("if (%s.length < %d) {",re,le.minItems),ke("has less items than allowed"),X("}"),"array"!==De&&X("}")),void 0!==le.maxLength&&("string"!==De&&X("if (%s) {",U.string(re)),X("if (%s.length > %d) {",re,le.maxLength),ke("has longer length than allowed"),X("}"),"string"!==De&&X("}")),void 0!==le.minLength&&("string"!==De&&X("if (%s) {",U.string(re)),X("if (%s.length < %d) {",re,le.minLength),ke("has less length than allowed"),X("}"),"string"!==De&&X("}")),void 0!==le.minimum&&("number"!==De&&"integer"!==De&&X("if (%s) {",U.number(re)),X("if (%s %s %d) {",re,le.exclusiveMinimum?"<=":"<",le.minimum),ke("is less than minimum"),X("}"),"number"!==De&&"integer"!==De&&X("}")),void 0!==le.maximum&&("number"!==De&&"integer"!==De&&X("if (%s) {",U.number(re)),X("if (%s %s %d) {",re,le.exclusiveMaximum?">=":">",le.maximum),ke("is more than maximum"),X("}"),"number"!==De&&"integer"!==De&&X("}")),Pe&&Object.keys(Pe).forEach(function(Pt){Array.isArray(De)&&-1!==De.indexOf("null")&&X("if (%s !== null) {",re),ee(i(re,Pt),Pe[Pt],Oe,We,tt.concat(pe?Pt:["properties",Pt])),Array.isArray(De)&&-1!==De.indexOf("null")&&X("}")});ve--;)X("}")},X=u("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return ee("data",M,I,b&&b.filter,[]),X("return errors === 0")("}"),(X=X.toFunction(d)).errors=null,Object.defineProperty&&Object.defineProperty(X,"error",{get:function(){return X.errors?X.errors.map(function(re){return re.field+" "+re.message}).join("\n"):""}}),X.toJSON=function(){return M},X};he.exports=function(M,T){return"string"==typeof M&&(M=JSON.parse(M)),E(M,{},M,!0,T)},he.exports.filter=function(M,T){var k=he.exports(M,L(T,{filter:!0}));return function(I){return k(I),I}}},7549:he=>{he.exports=function(l){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(l)}},2342:(he,z,l)=>{var C,L,j,F,i=l(5834),u=l(6259)();if(u){C=i("Object.prototype.hasOwnProperty"),L=i("RegExp.prototype.exec"),j={};var U=function(){throw j};F={toString:U,valueOf:U},"symbol"==typeof Symbol.toPrimitive&&(F[Symbol.toPrimitive]=U)}var B=i("Object.prototype.toString"),S=Object.getOwnPropertyDescriptor;he.exports=u?function(M){if(!M||"object"!=typeof M)return!1;var T=S(M,"lastIndex");if(!T||!C(T,"value"))return!1;try{L(M,F)}catch(I){return I===j}}:function(M){return!(!M||"object"!=typeof M&&"function"!=typeof M)&&"[object RegExp]"===B(M)}},597:(he,z,l)=>{var i=l(9076),u=l(7029),C=l(5834),L=C("Object.prototype.toString"),j=l(6259)(),F="undefined"==typeof globalThis?global:globalThis,U=u(),B=C("Array.prototype.indexOf",!0)||function(I,b){for(var v=0;v<I.length;v+=1)if(I[v]===b)return v;return-1},S=C("String.prototype.slice"),w={},E=l(8555),M=Object.getPrototypeOf;j&&E&&M&&i(U,function(k){var I=new F[k];if(Symbol.toStringTag in I){var b=M(I),v=E(b,Symbol.toStringTag);if(!v){var d=M(b);v=E(d,Symbol.toStringTag)}w[k]=v.get}}),he.exports=function(I){if(!I||"object"!=typeof I)return!1;if(!j||!(Symbol.toStringTag in I)){var b=S(L(I),8,-1);return B(U,b)>-1}return!!E&&function(I){var b=!1;return i(w,function(v,d){if(!b)try{b=v.call(I)===d}catch{}}),b}(I)}},6936:(he,z)=>{var l=/~/,i=/~[01]/g;function u(S){switch(S){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+S)}function C(S){return l.test(S)?S.replace(i,u):S}function j(S){if("string"==typeof S){if(""===(S=S.split("/"))[0])return S;throw new Error("Invalid JSON pointer.")}if(Array.isArray(S)){for(const w of S)if("string"!=typeof w&&"number"!=typeof w)throw new Error("Invalid JSON pointer. Must be of type string or number.");return S}throw new Error("Invalid JSON pointer.")}function F(S,w){if("object"!=typeof S)throw new Error("Invalid input object.");var E=(w=j(w)).length;if(1===E)return S;for(var M=1;M<E;){if(S=S[C(w[M++])],E===M)return S;if("object"!=typeof S)return}}function U(S,w,E){if("object"!=typeof S)throw new Error("Invalid input object.");if(0===(w=j(w)).length)throw new Error("Invalid JSON pointer for set.");return function(S,w,E){for(var M,T,k=1,I=w.length;k<I;){if("constructor"===w[k]||"prototype"===w[k]||"__proto__"===w[k])return S;if(M=C(w[k++]),T=I>k,void 0===S[M]&&(Array.isArray(S)&&"-"===M&&(M=S.length),T&&(S[M]=""!==w[k]&&w[k]<1/0||"-"===w[k]?[]:{})),!T)break;S=S[M]}var b=S[M];return void 0===E?delete S[M]:S[M]=E,b}(S,w,E)}z.get=F,z.set=U,z.compile=function(S){var w=j(S);return{get:function(E){return F(E,w)},set:function(E,M){return U(E,w,M)}}}},9790:(he,z,l)=>{function i(ce){return ce&&"object"==typeof ce&&"default"in ce?ce.default:ce}var u=i(l(8309)),C=i(l(6952)),L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ce){return typeof ce}:function(ce){return ce&&"function"==typeof Symbol&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},j=Object.assign||function(ce){for(var te=1;te<arguments.length;te++){var G=arguments[te];for(var ee in G)Object.prototype.hasOwnProperty.call(G,ee)&&(ce[ee]=G[ee])}return ce},w=function(ce,te){Object.keys(ce).forEach(function(G){te(ce[G],G)})},M=function(ce){return!!("undefined"!=typeof Uint8Array&&ce instanceof Uint8Array||ce&&ce.$Uint8ArrayPolyfill)},T_each=w,k=function(te){return Array.isArray(te)&&!M(te)},I=function(te){return k(te)||d(te)},v=function(te){return/^[0-9]+$/.test(te)},d=function(ce){return!(!ce||"number"==typeof ce||"string"==typeof ce||"boolean"==typeof ce||k(ce)||null===ce||ce instanceof RegExp||"function"==typeof ce||ce instanceof Date||M(ce))},a=function(ce){var te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof ce&&te.field&&(ce+=" for field '"+te.field+"'");var G=new Error(ce);return G.name="ModifyJsError",G},m_each=w,W=function(te,G,ee){if(ee=ee||{},!d(G))throw a("Modifier must be an object");var re,X=function(te,G){if(!d(te))return!1;var ee=void 0;return T_each(te,function(X,re){var le="$"===re.substr(0,1);if(void 0===ee)ee=le;else if(ee!==le)throw new Error("Inconsistent operator: "+JSON.stringify(te))}),!!ee}(G=u(G));if(X?(re=u(te),m_each(G,function(le,Oe){var We=Ee[Oe];if(!We)throw a("Invalid modifier specified "+Oe);m_each(le,function(tt,Pe){if(""===Pe)throw a("An empty update path is not valid.");var De=Pe.split(".");if(!function(ce,te){return ce.every(function(G){return te&&te(G)||G})}(De))throw a("The update path '"+Pe+"' contains an empty field name, which is not allowed.");var pe=ae(re,De,{noCreate:we[Oe],forbidArray:"$rename"===Oe,arrayIndices:ee.arrayIndices}),ve=De.pop();We(pe,ve,tt,Pe,re)})})):re=G,ee.returnInsteadOfReplacing)return re;m_each(Object.keys(te),function(le){"_id"!==le&&delete te[le]}),m_each(re,function(le,Oe){te[Oe]=le})},ae=function(te,G,ee){ee=ee||{};for(var X=!1,re=0;re<G.length;re++){var le=re===G.length-1,Oe=G[re];if(!I(te)){if(ee.noCreate)return;var tt=a("cannot use the part '"+Oe+"' to traverse "+te);throw tt.setPropertyError=!0,tt}if(te instanceof Array){if(ee.forbidArray)return null;if("$"===Oe){if(X)throw a("Too many positional (i.e. '$') elements");if(!ee.arrayIndices||!ee.arrayIndices.length)throw a("The positional operator did not find the match needed from the query");Oe=ee.arrayIndices[0],X=!0}else{if(!v(Oe)){if(ee.noCreate)return;throw a("can't append to array using string field name ["+Oe+"]")}Oe=parseInt(Oe)}if(le&&(G[re]=Oe),ee.noCreate&&Oe>=te.length)return;for(;te.length<Oe;)te.push(null);if(!le)if(te.length===Oe)te.push({});else if("object"!==L(te[Oe]))throw a("can't modify field '"+G[re+1]+"' of list value "+JSON.stringify(te[Oe]))}else if(!(Oe in te)){if(ee.noCreate)return;le||(te[Oe]={})}if(le)return te;te=te[Oe]}},we={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},Ee={$currentDate:function(te,G,ee){if("object"===(void 0===ee?"undefined":L(ee))&&ee.hasOwnProperty("$type")){if("date"!==ee.$type)throw a("Minimongo does currently only support the date type in $currentDate modifiers",{field:G})}else if(!0!==ee)throw a("Invalid $currentDate modifier",{field:G});te[G]=new Date},$min:function(te,G,ee){if("number"!=typeof ee)throw a("Modifier $min allowed for numbers only",{field:G});if(G in te){if("number"!=typeof te[G])throw a("Cannot apply $min modifier to non-number",{field:G});te[G]>ee&&(te[G]=ee)}else te[G]=ee},$max:function(te,G,ee){if("number"!=typeof ee)throw a("Modifier $max allowed for numbers only",{field:G});if(G in te){if("number"!=typeof te[G])throw a("Cannot apply $max modifier to non-number",{field:G});te[G]<ee&&(te[G]=ee)}else te[G]=ee},$inc:function(te,G,ee){if("number"!=typeof ee)throw a("Modifier $inc allowed for numbers only",{field:G});if(G in te){if("number"!=typeof te[G])throw a("Cannot apply $inc modifier to non-number",{field:G});te[G]+=ee}else te[G]=ee},$set:function(te,G,ee){var X,ce;if("object"!==(void 0===(ce=te)?"undefined":L(ce))||null===ce)throw(X=a("Cannot set property on non-object field",{field:G})).setPropertyError=!0,X;if(null===te)throw(X=a("Cannot set property on null",{field:G})).setPropertyError=!0,X;te[G]=ee},$setOnInsert:function(te,G,ee){},$unset:function(te,G,ee){void 0!==te&&(te instanceof Array?G in te&&(te[G]=null):delete te[G])},$push:function(te,G,ee){if(void 0===te[G]&&(te[G]=[]),!(te[G]instanceof Array))throw a("Cannot apply $push modifier to non-array",{field:G});if(ee&&ee.$each){var X=ee.$each;if(!(X instanceof Array))throw a("$each must be an array",{field:G});var re=void 0;if("$position"in ee){if("number"!=typeof ee.$position)throw a("$position must be a numeric value",{field:G});if(ee.$position<0)throw a("$position in $push must be zero or positive",{field:G});re=ee.$position}var le=void 0;if("$slice"in ee){if("number"!=typeof ee.$slice)throw a("$slice must be a numeric value",{field:G});if(ee.$slice>0)throw a("$slice in $push must be zero or negative",{field:G});le=ee.$slice}if(ee.$sort)throw a("$sort in $push not implemented yet");if(void 0===re)for(var We=0;We<X.length;We++)te[G].push(X[We]);else{var tt=[re,0];for(We=0;We<X.length;We++)tt.push(X[We]);Array.prototype.splice.apply(te[G],tt)}void 0!==le&&(te[G]=0===le?[]:te[G].slice(le))}else te[G].push(ee)},$pushAll:function(te,G,ee){if(!("object"===(void 0===ee?"undefined":L(ee))&&ee instanceof Array))throw a("Modifier $pushAll/pullAll allowed for arrays only");var X=te[G];if(void 0===X)te[G]=ee;else{if(!(X instanceof Array))throw a("Cannot apply $pushAll modifier to non-array",{field:G});for(var re=0;re<ee.length;re++)X.push(ee[re])}},$addToSet:function(te,G,ee){var X=!1;"object"===(void 0===ee?"undefined":L(ee))&&"$each"===Object.keys(ee)[0]&&(X=!0);var le=X?ee.$each:[ee],Oe=te[G];if(void 0===Oe)te[G]=le;else{if(!(Oe instanceof Array))throw a("Cannot apply $addToSet modifier to non-array",{field:G});m_each(le,function(We){for(var tt=0;tt<Oe.length;tt++)if(C(We,Oe[tt]))return;Oe.push(We)})}},$pop:function(te,G,ee){if(void 0!==te){var X=te[G];if(void 0!==X){if(!(X instanceof Array))throw a("Cannot apply $pop modifier to non-array",{field:G});"number"==typeof ee&&ee<0?X.splice(0,1):X.pop()}}},$pull:function(te,G,ee){if(void 0!==te){var X=te[G];if(void 0!==X)throw X instanceof Array?a("$pull not implemented yet"):a("Cannot apply $pull/pullAll modifier to non-array",{field:G})}},$pullAll:function(te,G,ee){if(!("object"===(void 0===ee?"undefined":L(ee))&&ee instanceof Array))throw a("Modifier $pushAll/pullAll allowed for arrays only",{field:G});if(void 0!==te){var X=te[G];if(void 0!==X){if(!(X instanceof Array))throw a("Cannot apply $pull/pullAll modifier to non-array",{field:G});for(var re=[],le=0;le<X.length;le++){for(var Oe=!1,We=0;We<ee.length;We++)if(C(X[le],ee[We])){Oe=!0;break}Oe||re.push(X[le])}te[G]=re}}},$rename:function(te,G,ee,X,re){if(X===ee)throw a("$rename source must differ from target",{field:G});if(null===te)throw a("$rename source field invalid",{field:G});if("string"!=typeof ee)throw a("$rename target must be a string",{field:G});if(ee.indexOf("\0")>-1)throw a("The 'to' field for $rename cannot contain an embedded null byte",{field:G});if(void 0!==te){var le=te[G];delete te[G];var Oe=ee.split("."),We=ae(re,Oe,{forbidArray:!0});if(null===We)throw a("$rename target field invalid",{field:G});We[Oe.pop()]=le}},$bit:function(te,G,ee){throw a("$bit is not supported",{field:G})}};he.exports=function(ce,te,G){if(!G||!G.each)return W(ce,te,j({},G,{returnInsteadOfReplacing:!0}))}},8309:he=>{var z=function(){"use strict";function l(w,E){return null!=E&&w instanceof E}var i,u,C;try{i=Map}catch{i=function(){}}try{u=Set}catch{u=function(){}}try{C=Promise}catch{C=function(){}}function L(w,E,M,T,k){"object"==typeof E&&(M=E.depth,T=E.prototype,k=E.includeNonEnumerable,E=E.circular);var I=[],b=[],v="undefined"!=typeof Buffer;return void 0===E&&(E=!0),void 0===M&&(M=1/0),function d(a,m){if(null===a)return null;if(0===m)return a;var h,W;if("object"!=typeof a)return a;if(l(a,i))h=new i;else if(l(a,u))h=new u;else if(l(a,C))h=new C(function(re,le){a.then(function(Oe){re(d(Oe,m-1))},function(Oe){le(d(Oe,m-1))})});else if(L.__isArray(a))h=[];else if(L.__isRegExp(a))h=new RegExp(a.source,S(a)),a.lastIndex&&(h.lastIndex=a.lastIndex);else if(L.__isDate(a))h=new Date(a.getTime());else{if(v&&Buffer.isBuffer(a))return h=Buffer.allocUnsafe?Buffer.allocUnsafe(a.length):new Buffer(a.length),a.copy(h),h;l(a,Error)?h=Object.create(a):void 0===T?(W=Object.getPrototypeOf(a),h=Object.create(W)):(h=Object.create(T),W=T)}if(E){var ae=I.indexOf(a);if(-1!=ae)return b[ae];I.push(a),b.push(h)}for(var we in l(a,i)&&a.forEach(function(re,le){var Oe=d(le,m-1),We=d(re,m-1);h.set(Oe,We)}),l(a,u)&&a.forEach(function(re){var le=d(re,m-1);h.add(le)}),a){var Ee;W&&(Ee=Object.getOwnPropertyDescriptor(W,we)),(!Ee||null!=Ee.set)&&(h[we]=d(a[we],m-1))}if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(a);for(we=0;we<ce.length;we++){var te=ce[we];(G=Object.getOwnPropertyDescriptor(a,te))&&!G.enumerable&&!k||(h[te]=d(a[te],m-1),G.enumerable||Object.defineProperty(h,te,{enumerable:!1}))}}if(k){var ee=Object.getOwnPropertyNames(a);for(we=0;we<ee.length;we++){var G,X=ee[we];(G=Object.getOwnPropertyDescriptor(a,X))&&G.enumerable||(h[X]=d(a[X],m-1),Object.defineProperty(h,X,{enumerable:!1}))}}return h}(w,M)}function j(w){return Object.prototype.toString.call(w)}function S(w){var E="";return w.global&&(E+="g"),w.ignoreCase&&(E+="i"),w.multiline&&(E+="m"),E}return L.clonePrototype=function(E){if(null===E)return null;var M=function(){};return M.prototype=E,new M},L.__objToStr=j,L.__isDate=function(w){return"object"==typeof w&&"[object Date]"===j(w)},L.__isArray=function(w){return"object"==typeof w&&"[object Array]"===j(w)},L.__isRegExp=function(w){return"object"==typeof w&&"[object RegExp]"===j(w)},L.__getRegExpFlags=S,L}();he.exports&&(he.exports=z)},1175:he=>{var z=function(l){return l!=l};he.exports=function(i,u){return 0===i&&0===u?1/i==1/u:!!(i===u||z(i)&&z(u))}},2e3:(he,z,l)=>{var i=l(2358),u=l(5685),C=l(1175),L=l(6305),j=l(3859),F=u(L(),Object);i(F,{getPolyfill:L,implementation:C,shim:j}),he.exports=F},6305:(he,z,l)=>{var i=l(1175);he.exports=function(){return"function"==typeof Object.is?Object.is:i}},3859:(he,z,l)=>{var i=l(6305),u=l(2358);he.exports=function(){var L=i();return u(Object,{is:L},{is:function(){return Object.is!==L}}),L}},2450:(he,z,l)=>{var i;if(!Object.keys){var u=Object.prototype.hasOwnProperty,C=Object.prototype.toString,L=l(9978),j=Object.prototype.propertyIsEnumerable,F=!j.call({toString:null},"toString"),U=j.call(function(){},"prototype"),B=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],S=function(T){var k=T.constructor;return k&&k.prototype===T},w={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},E=function(){if("undefined"==typeof window)return!1;for(var T in window)try{if(!w["$"+T]&&u.call(window,T)&&null!==window[T]&&"object"==typeof window[T])try{S(window[T])}catch{return!0}}catch{return!0}return!1}();i=function(k){var I=null!==k&&"object"==typeof k,b="[object Function]"===C.call(k),v=L(k),d=I&&"[object String]"===C.call(k),a=[];if(!I&&!b&&!v)throw new TypeError("Object.keys called on a non-object");var m=U&&b;if(d&&k.length>0&&!u.call(k,0))for(var h=0;h<k.length;++h)a.push(String(h));if(v&&k.length>0)for(var W=0;W<k.length;++W)a.push(String(W));else for(var ae in k)(!m||"prototype"!==ae)&&u.call(k,ae)&&a.push(String(ae));if(F)for(var we=function(T){if("undefined"==typeof window||!E)return S(T);try{return S(T)}catch{return!1}}(k),Ee=0;Ee<B.length;++Ee)(!we||"constructor"!==B[Ee])&&u.call(k,B[Ee])&&a.push(B[Ee]);return a}}he.exports=i},1356:(he,z,l)=>{var i=Array.prototype.slice,u=l(9978),C=Object.keys,L=C?function(U){return C(U)}:l(2450),j=Object.keys;L.shim=function(){if(Object.keys){var U=function(){var B=Object.keys(arguments);return B&&B.length===arguments.length}(1,2);U||(Object.keys=function(S){return u(S)?j(i.call(S)):j(S)})}else Object.keys=L;return Object.keys||L},he.exports=L},9978:he=>{var z=Object.prototype.toString;he.exports=function(i){var u=z.call(i),C="[object Arguments]"===u;return C||(C="[object Array]"!==u&&null!==i&&"object"==typeof i&&"number"==typeof i.length&&i.length>=0&&"[object Function]"===z.call(i.callee)),C}},8624:function(he,z){var l,i,u;!function(C,L){"use strict";"object"==typeof he.exports?he.exports=L():(i=[],void 0!==(u="function"==typeof(l=L)?l.apply(z,i):l)&&(he.exports=u))}(0,function(){"use strict";var C=Object.prototype.toString;function L(T,k){return null!=T&&Object.prototype.hasOwnProperty.call(T,k)}function j(T){if(!T||B(T)&&0===T.length)return!0;if("string"!=typeof T){for(var k in T)if(L(T,k))return!1;return!0}return!1}function F(T){return C.call(T)}var B=Array.isArray||function(T){return"[object Array]"===C.call(T)};function w(T){var k=parseInt(T);return k.toString()===T?k:T}function E(T){var I,v,k=function(a){return Object.keys(k).reduce(function(m,h){return"create"===h||"function"==typeof k[h]&&(m[h]=k[h].bind(k,a)),m},{})};function b(a,m){if(I(a,m))return a[m]}function d(a,m,h,W){if("number"==typeof m&&(m=[m]),!m||0===m.length)return a;if("string"==typeof m)return d(a,m.split(".").map(w),h,W);var ae=m[0],we=v(a,ae);return 1===m.length?((void 0===we||!W)&&(a[ae]=h),we):(void 0===we&&(a[ae]="number"==typeof m[1]?[]:{}),d(a[ae],m.slice(1),h,W))}return I=(T=T||{}).includeInheritedProps?function(){return!0}:function(a,m){return"number"==typeof m&&Array.isArray(a)||L(a,m)},v=T.includeInheritedProps?function(a,m){"string"!=typeof m&&"number"!=typeof m&&(m=String(m));var h=b(a,m);if("__proto__"===m||"prototype"===m||"constructor"===m&&"function"==typeof h)throw new Error("For security reasons, object's magic properties cannot be set");return h}:function(a,m){return b(a,m)},k.has=function(a,m){if("number"==typeof m?m=[m]:"string"==typeof m&&(m=m.split(".")),!m||0===m.length)return!!a;for(var h=0;h<m.length;h++){var W=w(m[h]);if(!("number"==typeof W&&B(a)&&W<a.length||(T.includeInheritedProps?W in Object(a):L(a,W))))return!1;a=a[W]}return!0},k.ensureExists=function(a,m,h){return d(a,m,h,!0)},k.set=function(a,m,h,W){return d(a,m,h,W)},k.insert=function(a,m,h,W){var ae=k.get(a,m);W=~~W,B(ae)||k.set(a,m,ae=[]),ae.splice(W,0,h)},k.empty=function(a,m){var h,W;if(!j(m)&&null!=a&&(h=k.get(a,m))){if("string"==typeof h)return k.set(a,m,"");if(function(T){return"boolean"==typeof T||"[object Boolean]"===F(T)}(h))return k.set(a,m,!1);if("number"==typeof h)return k.set(a,m,0);if(B(h))h.length=0;else{if(!function(T){return"object"==typeof T&&"[object Object]"===F(T)}(h))return k.set(a,m,null);for(W in h)I(h,W)&&delete h[W]}}},k.push=function(a,m){var h=k.get(a,m);B(h)||k.set(a,m,h=[]),h.push.apply(h,Array.prototype.slice.call(arguments,2))},k.coalesce=function(a,m,h){for(var W,ae=0,we=m.length;ae<we;ae++)if(void 0!==(W=k.get(a,m[ae])))return W;return h},k.get=function(a,m,h){if("number"==typeof m&&(m=[m]),!m||0===m.length)return a;if(null==a)return h;if("string"==typeof m)return k.get(a,m.split("."),h);var W=w(m[0]),ae=v(a,W);return void 0===ae?h:1===m.length?ae:k.get(a[W],m.slice(1),h)},k.del=function(m,h){if("number"==typeof h&&(h=[h]),null==m||j(h))return m;if("string"==typeof h)return k.del(m,h.split("."));var W=w(h[0]);return v(m,W),I(m,W)?1!==h.length?k.del(m[W],h.slice(1)):(B(m)?m.splice(W,1):delete m[W],m):m},k}var M=E();return M.create=E,M.withInheritedProps=E({includeInheritedProps:!0}),M})},3625:he=>{he.exports=function(z){"use strict";var i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function C(b,v){var d=b[0],a=b[1],m=b[2],h=b[3];a=((a+=((m=((m+=((h=((h+=((d=((d+=(a&m|~a&h)+v[0]-680876936|0)<<7|d>>>25)+a|0)&a|~d&m)+v[1]-389564586|0)<<12|h>>>20)+d|0)&d|~h&a)+v[2]+606105819|0)<<17|m>>>15)+h|0)&h|~m&d)+v[3]-1044525330|0)<<22|a>>>10)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a&m|~a&h)+v[4]-176418897|0)<<7|d>>>25)+a|0)&a|~d&m)+v[5]+1200080426|0)<<12|h>>>20)+d|0)&d|~h&a)+v[6]-1473231341|0)<<17|m>>>15)+h|0)&h|~m&d)+v[7]-45705983|0)<<22|a>>>10)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a&m|~a&h)+v[8]+1770035416|0)<<7|d>>>25)+a|0)&a|~d&m)+v[9]-1958414417|0)<<12|h>>>20)+d|0)&d|~h&a)+v[10]-42063|0)<<17|m>>>15)+h|0)&h|~m&d)+v[11]-1990404162|0)<<22|a>>>10)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a&m|~a&h)+v[12]+1804603682|0)<<7|d>>>25)+a|0)&a|~d&m)+v[13]-40341101|0)<<12|h>>>20)+d|0)&d|~h&a)+v[14]-1502002290|0)<<17|m>>>15)+h|0)&h|~m&d)+v[15]+1236535329|0)<<22|a>>>10)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a&h|m&~h)+v[1]-165796510|0)<<5|d>>>27)+a|0)&m|a&~m)+v[6]-1069501632|0)<<9|h>>>23)+d|0)&a|d&~a)+v[11]+643717713|0)<<14|m>>>18)+h|0)&d|h&~d)+v[0]-373897302|0)<<20|a>>>12)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a&h|m&~h)+v[5]-701558691|0)<<5|d>>>27)+a|0)&m|a&~m)+v[10]+38016083|0)<<9|h>>>23)+d|0)&a|d&~a)+v[15]-660478335|0)<<14|m>>>18)+h|0)&d|h&~d)+v[4]-405537848|0)<<20|a>>>12)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a&h|m&~h)+v[9]+568446438|0)<<5|d>>>27)+a|0)&m|a&~m)+v[14]-1019803690|0)<<9|h>>>23)+d|0)&a|d&~a)+v[3]-187363961|0)<<14|m>>>18)+h|0)&d|h&~d)+v[8]+1163531501|0)<<20|a>>>12)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a&h|m&~h)+v[13]-1444681467|0)<<5|d>>>27)+a|0)&m|a&~m)+v[2]-51403784|0)<<9|h>>>23)+d|0)&a|d&~a)+v[7]+1735328473|0)<<14|m>>>18)+h|0)&d|h&~d)+v[12]-1926607734|0)<<20|a>>>12)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a^m^h)+v[5]-378558|0)<<4|d>>>28)+a|0)^a^m)+v[8]-2022574463|0)<<11|h>>>21)+d|0)^d^a)+v[11]+1839030562|0)<<16|m>>>16)+h|0)^h^d)+v[14]-35309556|0)<<23|a>>>9)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a^m^h)+v[1]-1530992060|0)<<4|d>>>28)+a|0)^a^m)+v[4]+1272893353|0)<<11|h>>>21)+d|0)^d^a)+v[7]-155497632|0)<<16|m>>>16)+h|0)^h^d)+v[10]-1094730640|0)<<23|a>>>9)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a^m^h)+v[13]+681279174|0)<<4|d>>>28)+a|0)^a^m)+v[0]-358537222|0)<<11|h>>>21)+d|0)^d^a)+v[3]-722521979|0)<<16|m>>>16)+h|0)^h^d)+v[6]+76029189|0)<<23|a>>>9)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a^m^h)+v[9]-640364487|0)<<4|d>>>28)+a|0)^a^m)+v[12]-421815835|0)<<11|h>>>21)+d|0)^d^a)+v[15]+530742520|0)<<16|m>>>16)+h|0)^h^d)+v[2]-995338651|0)<<23|a>>>9)+m|0,a=((a+=((h=((h+=(a^((d=((d+=(m^(a|~h))+v[0]-198630844|0)<<6|d>>>26)+a|0)|~m))+v[7]+1126891415|0)<<10|h>>>22)+d|0)^((m=((m+=(d^(h|~a))+v[14]-1416354905|0)<<15|m>>>17)+h|0)|~d))+v[5]-57434055|0)<<21|a>>>11)+m|0,a=((a+=((h=((h+=(a^((d=((d+=(m^(a|~h))+v[12]+1700485571|0)<<6|d>>>26)+a|0)|~m))+v[3]-1894986606|0)<<10|h>>>22)+d|0)^((m=((m+=(d^(h|~a))+v[10]-1051523|0)<<15|m>>>17)+h|0)|~d))+v[1]-2054922799|0)<<21|a>>>11)+m|0,a=((a+=((h=((h+=(a^((d=((d+=(m^(a|~h))+v[8]+1873313359|0)<<6|d>>>26)+a|0)|~m))+v[15]-30611744|0)<<10|h>>>22)+d|0)^((m=((m+=(d^(h|~a))+v[6]-1560198380|0)<<15|m>>>17)+h|0)|~d))+v[13]+1309151649|0)<<21|a>>>11)+m|0,a=((a+=((h=((h+=(a^((d=((d+=(m^(a|~h))+v[4]-145523070|0)<<6|d>>>26)+a|0)|~m))+v[11]-1120210379|0)<<10|h>>>22)+d|0)^((m=((m+=(d^(h|~a))+v[2]+718787259|0)<<15|m>>>17)+h|0)|~d))+v[9]-343485551|0)<<21|a>>>11)+m|0,b[0]=d+b[0]|0,b[1]=a+b[1]|0,b[2]=m+b[2]|0,b[3]=h+b[3]|0}function L(b){var d,v=[];for(d=0;d<64;d+=4)v[d>>2]=b.charCodeAt(d)+(b.charCodeAt(d+1)<<8)+(b.charCodeAt(d+2)<<16)+(b.charCodeAt(d+3)<<24);return v}function j(b){var d,v=[];for(d=0;d<64;d+=4)v[d>>2]=b[d]+(b[d+1]<<8)+(b[d+2]<<16)+(b[d+3]<<24);return v}function F(b){var a,m,h,W,ae,we,v=b.length,d=[1732584193,-271733879,-1732584194,271733878];for(a=64;a<=v;a+=64)C(d,L(b.substring(a-64,a)));for(m=(b=b.substring(a-64)).length,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<m;a+=1)h[a>>2]|=b.charCodeAt(a)<<(a%4<<3);if(h[a>>2]|=128<<(a%4<<3),a>55)for(C(d,h),a=0;a<16;a+=1)h[a]=0;return W=(W=8*v).toString(16).match(/(.*?)(.{0,8})$/),ae=parseInt(W[2],16),we=parseInt(W[1],16)||0,h[14]=ae,h[15]=we,C(d,h),d}function B(b){var d,v="";for(d=0;d<4;d+=1)v+=i[b>>8*d+4&15]+i[b>>8*d&15];return v}function S(b){var v;for(v=0;v<b.length;v+=1)b[v]=B(b[v]);return b.join("")}function w(b){return/[\u0080-\uFFFF]/.test(b)&&(b=unescape(encodeURIComponent(b))),b}function k(b){var a,v=[],d=b.length;for(a=0;a<d-1;a+=2)v.push(parseInt(b.substr(a,2),16));return String.fromCharCode.apply(String,v)}function I(){this.reset()}return S(F("hello")),"undefined"!=typeof ArrayBuffer&&!ArrayBuffer.prototype.slice&&function(){function b(v,d){return(v=0|v||0)<0?Math.max(v+d,0):Math.min(v,d)}ArrayBuffer.prototype.slice=function(v,d){var W,ae,we,Ee,a=this.byteLength,m=b(v,a),h=a;return undefined!==d&&(h=b(d,a)),m>h?new ArrayBuffer(0):(W=h-m,ae=new ArrayBuffer(W),we=new Uint8Array(ae),Ee=new Uint8Array(this,m,W),we.set(Ee),ae)}}(),I.prototype.append=function(b){return this.appendBinary(w(b)),this},I.prototype.appendBinary=function(b){this._buff+=b,this._length+=b.length;var d,v=this._buff.length;for(d=64;d<=v;d+=64)C(this._hash,L(this._buff.substring(d-64,d)));return this._buff=this._buff.substring(d-64),this},I.prototype.end=function(b){var a,h,v=this._buff,d=v.length,m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(a=0;a<d;a+=1)m[a>>2]|=v.charCodeAt(a)<<(a%4<<3);return this._finish(m,d),h=S(this._hash),b&&(h=k(h)),this.reset(),h},I.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},I.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},I.prototype.setState=function(b){return this._buff=b.buff,this._length=b.length,this._hash=b.hash,this},I.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},I.prototype._finish=function(b,v){var a,m,h,d=v;if(b[d>>2]|=128<<(d%4<<3),d>55)for(C(this._hash,b),d=0;d<16;d+=1)b[d]=0;a=(a=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),m=parseInt(a[2],16),h=parseInt(a[1],16)||0,b[14]=m,b[15]=h,C(this._hash,b)},I.hash=function(b,v){return I.hashBinary(w(b),v)},I.hashBinary=function(b,v){var a=S(F(b));return v?k(a):a},(I.ArrayBuffer=function(){this.reset()}).prototype.append=function(b){var a,v=function(b,v,d){var a=new Uint8Array(b.byteLength+v.byteLength);return a.set(new Uint8Array(b)),a.set(new Uint8Array(v),b.byteLength),d?a:a.buffer}(this._buff.buffer,b,!0),d=v.length;for(this._length+=b.byteLength,a=64;a<=d;a+=64)C(this._hash,j(v.subarray(a-64,a)));return this._buff=a-64<d?new Uint8Array(v.buffer.slice(a-64)):new Uint8Array(0),this},I.ArrayBuffer.prototype.end=function(b){var m,h,v=this._buff,d=v.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(m=0;m<d;m+=1)a[m>>2]|=v[m]<<(m%4<<3);return this._finish(a,d),h=S(this._hash),b&&(h=k(h)),this.reset(),h},I.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},I.ArrayBuffer.prototype.getState=function(){var b=I.prototype.getState.call(this);return b.buff=function(b){return String.fromCharCode.apply(null,new Uint8Array(b))}(b.buff),b},I.ArrayBuffer.prototype.setState=function(b){return b.buff=function(b,v){var h,d=b.length,a=new ArrayBuffer(d),m=new Uint8Array(a);for(h=0;h<d;h+=1)m[h]=b.charCodeAt(h);return v?m:a}(b.buff,!0),I.prototype.setState.call(this,b)},I.ArrayBuffer.prototype.destroy=I.prototype.destroy,I.ArrayBuffer.prototype._finish=I.prototype._finish,I.ArrayBuffer.hash=function(b,v){var a=S(function(b){var a,m,h,W,ae,we,v=b.length,d=[1732584193,-271733879,-1732584194,271733878];for(a=64;a<=v;a+=64)C(d,j(b.subarray(a-64,a)));for(m=(b=a-64<v?b.subarray(a-64):new Uint8Array(0)).length,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<m;a+=1)h[a>>2]|=b[a]<<(a%4<<3);if(h[a>>2]|=128<<(a%4<<3),a>55)for(C(d,h),a=0;a<16;a+=1)h[a]=0;return W=(W=8*v).toString(16).match(/(.*?)(.{0,8})$/),ae=parseInt(W[2],16),we=parseInt(W[1],16)||0,h[14]=ae,h[15]=we,C(d,h),d}(new Uint8Array(b)));return v?k(a):a},I}()},2302:(he,z,l)=>{var u,C,i=[l(4703),l(3328),l(6139),l(5675),l(1767),l(3259)],L=-1,j=[],F=!1;function U(){!u||!C||(u=!1,C.length?j=C.concat(j):L=-1,j.length&&B())}function B(){if(!u){F=!1,u=!0;for(var k=j.length,I=setTimeout(U);k;){for(C=j,j=[];C&&++L<k;)C[L].run();L=-1,k=j.length}C=null,L=-1,u=!1,clearTimeout(I)}}for(var S,w=-1,E=i.length;++w<E;)if(i[w]&&i[w].test&&i[w].test()){S=i[w].install(B);break}function M(k,I){this.fun=k,this.array=I}M.prototype.run=function(){var k=this.fun,I=this.array;switch(I.length){case 0:return k();case 1:return k(I[0]);case 2:return k(I[0],I[1]);case 3:return k(I[0],I[1],I[2]);default:return k.apply(null,I)}},he.exports=function(k){var I=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)I[b-1]=arguments[b];j.push(new M(k,I)),!F&&!u&&(F=!0,S())}},5675:(he,z)=>{z.test=function(){return!global.setImmediate&&void 0!==global.MessageChannel},z.install=function(l){var i=new global.MessageChannel;return i.port1.onmessage=l,function(){i.port2.postMessage(0)}}},6139:(he,z)=>{var l=global.MutationObserver||global.WebKitMutationObserver;z.test=function(){return l},z.install=function(i){var u=0,C=new l(i),L=global.document.createTextNode("");return C.observe(L,{characterData:!0}),function(){L.data=u=++u%2}}},3328:(he,z)=>{z.test=function(){return"function"==typeof global.queueMicrotask},z.install=function(l){return function(){global.queueMicrotask(l)}}},1767:(he,z)=>{z.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")},z.install=function(l){return function(){var i=global.document.createElement("script");return i.onreadystatechange=function(){l(),i.onreadystatechange=null,i.parentNode.removeChild(i),i=null},global.document.documentElement.appendChild(i),l}}},3259:(he,z)=>{z.test=function(){return!0},z.install=function(l){return function(){setTimeout(l,0)}}},2448:(he,z)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;const l=[];for(let C=0;C<256;++C)l.push((C+256).toString(16).substr(1));z.default=function(C,L){const j=L||0;return(l[C[j+0]]+l[C[j+1]]+l[C[j+2]]+l[C[j+3]]+"-"+l[C[j+4]]+l[C[j+5]]+"-"+l[C[j+6]]+l[C[j+7]]+"-"+l[C[j+8]]+l[C[j+9]]+"-"+l[C[j+10]]+l[C[j+11]]+l[C[j+12]]+l[C[j+13]]+l[C[j+14]]+l[C[j+15]]).toLowerCase()}},3306:(he,z,l)=>{Object.defineProperty(z,"v1",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(z,"v3",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(z,"v4",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(z,"v5",{enumerable:!0,get:function(){return j.default}});var u=F(l(9110)),C=F(l(8693)),L=F(l(491)),j=F(l(8518));function F(U){return U&&U.__esModule?U:{default:U}}},872:(he,z)=>{function u(T){return 14+(T+64>>>9<<4)+1}function j(T,k){const I=(65535&T)+(65535&k);return(T>>16)+(k>>16)+(I>>16)<<16|65535&I}function U(T,k,I,b,v,d){return j(function(T,k){return T<<k|T>>>32-k}(j(j(k,T),j(b,d)),v),I)}function B(T,k,I,b,v,d,a){return U(k&I|~k&b,T,k,v,d,a)}function S(T,k,I,b,v,d,a){return U(k&b|I&~b,T,k,v,d,a)}function w(T,k,I,b,v,d,a){return U(k^I^b,T,k,v,d,a)}function E(T,k,I,b,v,d,a){return U(I^(k|~b),T,k,v,d,a)}Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0,z.default=function(T){if("string"==typeof T){const k=unescape(encodeURIComponent(T));T=new Uint8Array(k.length);for(let I=0;I<k.length;++I)T[I]=k.charCodeAt(I)}return function(T){const k=[],I=32*T.length,b="0123456789abcdef";for(let v=0;v<I;v+=8){const d=T[v>>5]>>>v%32&255,a=parseInt(b.charAt(d>>>4&15)+b.charAt(15&d),16);k.push(a)}return k}(function(T,k){T[k>>5]|=128<<k%32,T[u(k)-1]=k;let I=1732584193,b=-271733879,v=-1732584194,d=271733878;for(let a=0;a<T.length;a+=16){const m=I,h=b,W=v,ae=d;I=B(I,b,v,d,T[a],7,-680876936),d=B(d,I,b,v,T[a+1],12,-389564586),v=B(v,d,I,b,T[a+2],17,606105819),b=B(b,v,d,I,T[a+3],22,-1044525330),I=B(I,b,v,d,T[a+4],7,-176418897),d=B(d,I,b,v,T[a+5],12,1200080426),v=B(v,d,I,b,T[a+6],17,-1473231341),b=B(b,v,d,I,T[a+7],22,-45705983),I=B(I,b,v,d,T[a+8],7,1770035416),d=B(d,I,b,v,T[a+9],12,-1958414417),v=B(v,d,I,b,T[a+10],17,-42063),b=B(b,v,d,I,T[a+11],22,-1990404162),I=B(I,b,v,d,T[a+12],7,1804603682),d=B(d,I,b,v,T[a+13],12,-40341101),v=B(v,d,I,b,T[a+14],17,-1502002290),b=B(b,v,d,I,T[a+15],22,1236535329),I=S(I,b,v,d,T[a+1],5,-165796510),d=S(d,I,b,v,T[a+6],9,-1069501632),v=S(v,d,I,b,T[a+11],14,643717713),b=S(b,v,d,I,T[a],20,-373897302),I=S(I,b,v,d,T[a+5],5,-701558691),d=S(d,I,b,v,T[a+10],9,38016083),v=S(v,d,I,b,T[a+15],14,-660478335),b=S(b,v,d,I,T[a+4],20,-405537848),I=S(I,b,v,d,T[a+9],5,568446438),d=S(d,I,b,v,T[a+14],9,-1019803690),v=S(v,d,I,b,T[a+3],14,-187363961),b=S(b,v,d,I,T[a+8],20,1163531501),I=S(I,b,v,d,T[a+13],5,-1444681467),d=S(d,I,b,v,T[a+2],9,-51403784),v=S(v,d,I,b,T[a+7],14,1735328473),b=S(b,v,d,I,T[a+12],20,-1926607734),I=w(I,b,v,d,T[a+5],4,-378558),d=w(d,I,b,v,T[a+8],11,-2022574463),v=w(v,d,I,b,T[a+11],16,1839030562),b=w(b,v,d,I,T[a+14],23,-35309556),I=w(I,b,v,d,T[a+1],4,-1530992060),d=w(d,I,b,v,T[a+4],11,1272893353),v=w(v,d,I,b,T[a+7],16,-155497632),b=w(b,v,d,I,T[a+10],23,-1094730640),I=w(I,b,v,d,T[a+13],4,681279174),d=w(d,I,b,v,T[a],11,-358537222),v=w(v,d,I,b,T[a+3],16,-722521979),b=w(b,v,d,I,T[a+6],23,76029189),I=w(I,b,v,d,T[a+9],4,-640364487),d=w(d,I,b,v,T[a+12],11,-421815835),v=w(v,d,I,b,T[a+15],16,530742520),b=w(b,v,d,I,T[a+2],23,-995338651),I=E(I,b,v,d,T[a],6,-198630844),d=E(d,I,b,v,T[a+7],10,1126891415),v=E(v,d,I,b,T[a+14],15,-1416354905),b=E(b,v,d,I,T[a+5],21,-57434055),I=E(I,b,v,d,T[a+12],6,1700485571),d=E(d,I,b,v,T[a+3],10,-1894986606),v=E(v,d,I,b,T[a+10],15,-1051523),b=E(b,v,d,I,T[a+1],21,-2054922799),I=E(I,b,v,d,T[a+8],6,1873313359),d=E(d,I,b,v,T[a+15],10,-30611744),v=E(v,d,I,b,T[a+6],15,-1560198380),b=E(b,v,d,I,T[a+13],21,1309151649),I=E(I,b,v,d,T[a+4],6,-145523070),d=E(d,I,b,v,T[a+11],10,-1120210379),v=E(v,d,I,b,T[a+2],15,718787259),b=E(b,v,d,I,T[a+9],21,-343485551),I=j(I,m),b=j(b,h),v=j(v,W),d=j(d,ae)}return[I,b,v,d]}(function(T){if(0===T.length)return[];const k=8*T.length,I=new Uint32Array(u(k));for(let b=0;b<k;b+=8)I[b>>5]|=(255&T[b/8])<<b%32;return I}(T),8*T.length))}},5468:(he,z)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.default=function(){if(!l)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(i)};const l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16)},209:(he,z)=>{function l(L,j,F,U){switch(L){case 0:return j&F^~j&U;case 1:case 3:return j^F^U;case 2:return j&F^j&U^F&U}}function i(L,j){return L<<j|L>>>32-j}Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0,z.default=function(L){const j=[1518500249,1859775393,2400959708,3395469782],F=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof L){const w=unescape(encodeURIComponent(L));L=[];for(let E=0;E<w.length;++E)L.push(w.charCodeAt(E))}L.push(128);const B=Math.ceil((L.length/4+2)/16),S=new Array(B);for(let w=0;w<B;++w){const E=new Uint32Array(16);for(let M=0;M<16;++M)E[M]=L[64*w+4*M]<<24|L[64*w+4*M+1]<<16|L[64*w+4*M+2]<<8|L[64*w+4*M+3];S[w]=E}S[B-1][14]=8*(L.length-1)/Math.pow(2,32),S[B-1][14]=Math.floor(S[B-1][14]),S[B-1][15]=8*(L.length-1)&4294967295;for(let w=0;w<B;++w){const E=new Uint32Array(80);for(let v=0;v<16;++v)E[v]=S[w][v];for(let v=16;v<80;++v)E[v]=i(E[v-3]^E[v-8]^E[v-14]^E[v-16],1);let M=F[0],T=F[1],k=F[2],I=F[3],b=F[4];for(let v=0;v<80;++v){const d=Math.floor(v/20),a=i(M,5)+l(d,T,k,I)+b+j[d]+E[v]>>>0;b=I,I=k,k=i(T,30)>>>0,T=M,M=a}F[0]=F[0]+M>>>0,F[1]=F[1]+T>>>0,F[2]=F[2]+k>>>0,F[3]=F[3]+I>>>0,F[4]=F[4]+b>>>0}return[F[0]>>24&255,F[0]>>16&255,F[0]>>8&255,255&F[0],F[1]>>24&255,F[1]>>16&255,F[1]>>8&255,255&F[1],F[2]>>24&255,F[2]>>16&255,F[2]>>8&255,255&F[2],F[3]>>24&255,F[3]>>16&255,F[3]>>8&255,255&F[3],F[4]>>24&255,F[4]>>16&255,F[4]>>8&255,255&F[4]]}},9110:(he,z,l)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var i=C(l(5468)),u=C(l(2448));function C(w){return w&&w.__esModule?w:{default:w}}let L,j,F=0,U=0;z.default=function(w,E,M){let T=E&&M||0;const k=E||[];let I=(w=w||{}).node||L,b=void 0!==w.clockseq?w.clockseq:j;if(null==I||null==b){const W=w.random||(w.rng||i.default)();null==I&&(I=L=[1|W[0],W[1],W[2],W[3],W[4],W[5]]),null==b&&(b=j=16383&(W[6]<<8|W[7]))}let v=void 0!==w.msecs?w.msecs:Date.now(),d=void 0!==w.nsecs?w.nsecs:U+1;const a=v-F+(d-U)/1e4;if(a<0&&void 0===w.clockseq&&(b=b+1&16383),(a<0||v>F)&&void 0===w.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");F=v,U=d,j=b,v+=122192928e5;const m=(1e4*(268435455&v)+d)%4294967296;k[T++]=m>>>24&255,k[T++]=m>>>16&255,k[T++]=m>>>8&255,k[T++]=255&m;const h=v/4294967296*1e4&268435455;k[T++]=h>>>8&255,k[T++]=255&h,k[T++]=h>>>24&15|16,k[T++]=h>>>16&255,k[T++]=b>>>8|128,k[T++]=255&b;for(let W=0;W<6;++W)k[T+W]=I[W];return E||(0,u.default)(k)}},8693:(he,z,l)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var i=C(l(1657)),u=C(l(872));function C(F){return F&&F.__esModule?F:{default:F}}var j=(0,i.default)("v3",48,u.default);z.default=j},1657:(he,z,l)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.default=function(B,S,w){function E(M,T,k,I){const b=k&&I||0;if("string"==typeof M&&(M=function(B){B=unescape(encodeURIComponent(B));const S=[];for(let w=0;w<B.length;++w)S.push(B.charCodeAt(w));return S}(M)),"string"==typeof T&&(T=function(B){const S=[];return B.replace(/[a-fA-F0-9]{2}/g,function(w){S.push(parseInt(w,16))}),S}(T)),!Array.isArray(M))throw TypeError("value must be an array of bytes");if(!Array.isArray(T)||16!==T.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");const v=w(T.concat(M));if(v[6]=15&v[6]|S,v[8]=63&v[8]|128,k)for(let d=0;d<16;++d)k[b+d]=v[d];return k||(0,i.default)(v)}try{E.name=B}catch{}return E.DNS=j,E.URL=F,E},z.URL=z.DNS=void 0;var B,i=(B=l(2448))&&B.__esModule?B:{default:B};const j="6ba7b810-9dad-11d1-80b4-00c04fd430c8";z.DNS=j;const F="6ba7b811-9dad-11d1-80b4-00c04fd430c8";z.URL=F},491:(he,z,l)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var i=C(l(5468)),u=C(l(2448));function C(F){return F&&F.__esModule?F:{default:F}}z.default=function(F,U,B){"string"==typeof F&&(U="binary"===F?new Uint8Array(16):null,F=null);const S=(F=F||{}).random||(F.rng||i.default)();if(S[6]=15&S[6]|64,S[8]=63&S[8]|128,U){const w=B||0;for(let E=0;E<16;++E)U[w+E]=S[E];return U}return(0,u.default)(S)}},8518:(he,z,l)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.default=void 0;var i=C(l(1657)),u=C(l(209));function C(F){return F&&F.__esModule?F:{default:F}}var j=(0,i.default)("v5",80,u.default);z.default=j},4468:he=>{var z=Object,l=TypeError;he.exports=function(){if(null!=this&&this!==z(this))throw new l("RegExp.prototype.flags getter called on non-object");var u="";return this.global&&(u+="g"),this.ignoreCase&&(u+="i"),this.multiline&&(u+="m"),this.dotAll&&(u+="s"),this.unicode&&(u+="u"),this.sticky&&(u+="y"),u}},9235:(he,z,l)=>{var i=l(2358),u=l(5685),C=l(4468),L=l(6343),j=l(1956),F=u(C);i(F,{getPolyfill:L,implementation:C,shim:j}),he.exports=F},6343:(he,z,l)=>{var i=l(4468),u=l(2358).supportsDescriptors,C=Object.getOwnPropertyDescriptor,L=TypeError;he.exports=function(){if(!u)throw new L("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var F=C(RegExp.prototype,"flags");if(F&&"function"==typeof F.get&&"boolean"==typeof/a/.dotAll)return F.get}return i}},1956:(he,z,l)=>{var i=l(2358).supportsDescriptors,u=l(6343),C=Object.getOwnPropertyDescriptor,L=Object.defineProperty,j=TypeError,F=Object.getPrototypeOf,U=/a/;he.exports=function(){if(!i||!F)throw new j("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var S=u(),w=F(U),E=C(w,"flags");return(!E||E.get!==S)&&L(w,"flags",{configurable:!0,enumerable:!1,get:S}),S}},4966:he=>{var z=function(){"use strict";function l(w,E){return null!=E&&w instanceof E}var i,u,C;try{i=Map}catch{i=function(){}}try{u=Set}catch{u=function(){}}try{C=Promise}catch{C=function(){}}function L(w,E,M,T,k){"object"==typeof E&&(M=E.depth,T=E.prototype,k=E.includeNonEnumerable,E=E.circular);var I=[],b=[],v="undefined"!=typeof Buffer;return void 0===E&&(E=!0),void 0===M&&(M=1/0),function d(a,m){if(null===a)return null;if(0===m)return a;var h,W;if("object"!=typeof a)return a;if(l(a,i))h=new i;else if(l(a,u))h=new u;else if(l(a,C))h=new C(function(re,le){a.then(function(Oe){re(d(Oe,m-1))},function(Oe){le(d(Oe,m-1))})});else if(L.__isArray(a))h=[];else if(L.__isRegExp(a))h=new RegExp(a.source,S(a)),a.lastIndex&&(h.lastIndex=a.lastIndex);else if(L.__isDate(a))h=new Date(a.getTime());else{if(v&&Buffer.isBuffer(a))return h=Buffer.allocUnsafe?Buffer.allocUnsafe(a.length):new Buffer(a.length),a.copy(h),h;l(a,Error)?h=Object.create(a):void 0===T?(W=Object.getPrototypeOf(a),h=Object.create(W)):(h=Object.create(T),W=T)}if(E){var ae=I.indexOf(a);if(-1!=ae)return b[ae];I.push(a),b.push(h)}for(var we in l(a,i)&&a.forEach(function(re,le){var Oe=d(le,m-1),We=d(re,m-1);h.set(Oe,We)}),l(a,u)&&a.forEach(function(re){var le=d(re,m-1);h.add(le)}),a){var Ee;W&&(Ee=Object.getOwnPropertyDescriptor(W,we)),(!Ee||null!=Ee.set)&&(h[we]=d(a[we],m-1))}if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(a);for(we=0;we<ce.length;we++){var te=ce[we];(G=Object.getOwnPropertyDescriptor(a,te))&&!G.enumerable&&!k||(h[te]=d(a[te],m-1),G.enumerable||Object.defineProperty(h,te,{enumerable:!1}))}}if(k){var ee=Object.getOwnPropertyNames(a);for(we=0;we<ee.length;we++){var G,X=ee[we];(G=Object.getOwnPropertyDescriptor(a,X))&&G.enumerable||(h[X]=d(a[X],m-1),Object.defineProperty(h,X,{enumerable:!1}))}}return h}(w,M)}function j(w){return Object.prototype.toString.call(w)}function S(w){var E="";return w.global&&(E+="g"),w.ignoreCase&&(E+="i"),w.multiline&&(E+="m"),E}return L.clonePrototype=function(E){if(null===E)return null;var M=function(){};return M.prototype=E,new M},L.__objToStr=j,L.__isDate=function(w){return"object"==typeof w&&"[object Date]"===j(w)},L.__isArray=function(w){return"object"==typeof w&&"[object Array]"===j(w)},L.__isRegExp=function(w){return"object"==typeof w&&"[object RegExp]"===j(w)},L.__getRegExpFlags=S,L}();he.exports&&(he.exports=z)},1135:(he,z,l)=>{l.d(z,{X:()=>u});var i=l(7579);class u extends i.x{constructor(L){super(),this._value=L}get value(){return this.getValue()}_subscribe(L){const j=super._subscribe(L);return!j.closed&&L.next(this._value),j}getValue(){const{hasError:L,thrownError:j,_value:F}=this;if(L)throw j;return this._throwIfClosed(),F}next(L){super.next(this._value=L)}}},8306:(he,z,l)=>{l.d(z,{y:()=>w});var i=l(930),u=l(727),C=l(8822),L=l(4671);var U=l(2416),B=l(576),S=l(2806);let w=(()=>{class k{constructor(b){b&&(this._subscribe=b)}lift(b){const v=new k;return v.source=this,v.operator=b,v}subscribe(b,v,d){const a=function(k){return k&&k instanceof i.Lv||function(k){return k&&(0,B.m)(k.next)&&(0,B.m)(k.error)&&(0,B.m)(k.complete)}(k)&&(0,u.Nn)(k)}(b)?b:new i.Hp(b,v,d);return(0,S.x)(()=>{const{operator:m,source:h}=this;a.add(m?m.call(a,h):h?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(b){try{return this._subscribe(b)}catch(v){b.error(v)}}forEach(b,v){return new(v=E(v))((d,a)=>{const m=new i.Hp({next:h=>{try{b(h)}catch(W){a(W),m.unsubscribe()}},error:a,complete:d});this.subscribe(m)})}_subscribe(b){var v;return null===(v=this.source)||void 0===v?void 0:v.subscribe(b)}[C.L](){return this}pipe(...b){return function(k){return 0===k.length?L.y:1===k.length?k[0]:function(b){return k.reduce((v,d)=>d(v),b)}}(b)(this)}toPromise(b){return new(b=E(b))((v,d)=>{let a;this.subscribe(m=>a=m,m=>d(m),()=>v(a))})}}return k.create=I=>new k(I),k})();function E(k){var I;return null!==(I=k??U.v.Promise)&&void 0!==I?I:Promise}},7579:(he,z,l)=>{l.d(z,{x:()=>U});var i=l(8306),u=l(727);const L=(0,l(3888).d)(S=>function(){S(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var j=l(8737),F=l(2806);let U=(()=>{class S extends i.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(E){const M=new B(this,this);return M.operator=E,M}_throwIfClosed(){if(this.closed)throw new L}next(E){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const M=this.observers.slice();for(const T of M)T.next(E)}})}error(E){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=E;const{observers:M}=this;for(;M.length;)M.shift().error(E)}})}complete(){(0,F.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:E}=this;for(;E.length;)E.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var E;return(null===(E=this.observers)||void 0===E?void 0:E.length)>0}_trySubscribe(E){return this._throwIfClosed(),super._trySubscribe(E)}_subscribe(E){return this._throwIfClosed(),this._checkFinalizedStatuses(E),this._innerSubscribe(E)}_innerSubscribe(E){const{hasError:M,isStopped:T,observers:k}=this;return M||T?u.Lc:(k.push(E),new u.w0(()=>(0,j.P)(k,E)))}_checkFinalizedStatuses(E){const{hasError:M,thrownError:T,isStopped:k}=this;M?E.error(T):k&&E.complete()}asObservable(){const E=new i.y;return E.source=this,E}}return S.create=(w,E)=>new B(w,E),S})();class B extends U{constructor(w,E){super(),this.destination=w,this.source=E}next(w){var E,M;null===(M=null===(E=this.destination)||void 0===E?void 0:E.next)||void 0===M||M.call(E,w)}error(w){var E,M;null===(M=null===(E=this.destination)||void 0===E?void 0:E.error)||void 0===M||M.call(E,w)}complete(){var w,E;null===(E=null===(w=this.destination)||void 0===w?void 0:w.complete)||void 0===E||E.call(w)}_subscribe(w){var E,M;return null!==(M=null===(E=this.source)||void 0===E?void 0:E.subscribe(w))&&void 0!==M?M:u.Lc}}},930:(he,z,l)=>{l.d(z,{Hp:()=>T,Lv:()=>M});var i=l(576),u=l(727),C=l(2416),L=l(7849),j=l(5032);const F=S("C",void 0,void 0);function S(d,a,m){return{kind:d,value:a,error:m}}var w=l(3410),E=l(2806);class M extends u.w0{constructor(a){super(),this.isStopped=!1,a?(this.destination=a,(0,u.Nn)(a)&&a.add(this)):this.destination=v}static create(a,m,h){return new T(a,m,h)}next(a){this.isStopped?b(S("N",a,void 0),this):this._next(a)}error(a){this.isStopped?b(S("E",void 0,a),this):(this.isStopped=!0,this._error(a))}complete(){this.isStopped?b(F,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(a){this.destination.next(a)}_error(a){try{this.destination.error(a)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class T extends M{constructor(a,m,h){let W;if(super(),(0,i.m)(a))W=a;else if(a){let ae;({next:W,error:m,complete:h}=a),this&&C.v.useDeprecatedNextContext?(ae=Object.create(a),ae.unsubscribe=()=>this.unsubscribe()):ae=a,W=null==W?void 0:W.bind(ae),m=null==m?void 0:m.bind(ae),h=null==h?void 0:h.bind(ae)}this.destination={next:W?k(W):j.Z,error:k(m??I),complete:h?k(h):j.Z}}}function k(d,a){return(...m)=>{try{d(...m)}catch(h){C.v.useDeprecatedSynchronousErrorHandling?(0,E.O)(h):(0,L.h)(h)}}}function I(d){throw d}function b(d,a){const{onStoppedNotification:m}=C.v;m&&w.z.setTimeout(()=>m(d,a))}const v={closed:!0,next:j.Z,error:I,complete:j.Z}},727:(he,z,l)=>{l.d(z,{Lc:()=>F,w0:()=>j,Nn:()=>U});var i=l(576);const C=(0,l(3888).d)(S=>function(E){S(this),this.message=E?`${E.length} errors occurred during unsubscription:\n${E.map((M,T)=>`${T+1}) ${M.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=E});var L=l(8737);class j{constructor(w){this.initialTeardown=w,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let w;if(!this.closed){this.closed=!0;const{_parentage:E}=this;if(E)if(this._parentage=null,Array.isArray(E))for(const k of E)k.remove(this);else E.remove(this);const{initialTeardown:M}=this;if((0,i.m)(M))try{M()}catch(k){w=k instanceof C?k.errors:[k]}const{_teardowns:T}=this;if(T){this._teardowns=null;for(const k of T)try{B(k)}catch(I){w=w??[],I instanceof C?w=[...w,...I.errors]:w.push(I)}}if(w)throw new C(w)}}add(w){var E;if(w&&w!==this)if(this.closed)B(w);else{if(w instanceof j){if(w.closed||w._hasParent(this))return;w._addParent(this)}(this._teardowns=null!==(E=this._teardowns)&&void 0!==E?E:[]).push(w)}}_hasParent(w){const{_parentage:E}=this;return E===w||Array.isArray(E)&&E.includes(w)}_addParent(w){const{_parentage:E}=this;this._parentage=Array.isArray(E)?(E.push(w),E):E?[E,w]:w}_removeParent(w){const{_parentage:E}=this;E===w?this._parentage=null:Array.isArray(E)&&(0,L.P)(E,w)}remove(w){const{_teardowns:E}=this;E&&(0,L.P)(E,w),w instanceof j&&w._removeParent(this)}}j.EMPTY=(()=>{const S=new j;return S.closed=!0,S})();const F=j.EMPTY;function U(S){return S instanceof j||S&&"closed"in S&&(0,i.m)(S.remove)&&(0,i.m)(S.add)&&(0,i.m)(S.unsubscribe)}function B(S){(0,i.m)(S)?S():S.unsubscribe()}},2416:(he,z,l)=>{l.d(z,{v:()=>i});const i={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3905:(he,z,l)=>{l.d(z,{z:()=>C});var i=l(6805),u=l(930);function C(L,j){const F="object"==typeof j;return new Promise((U,B)=>{const S=new u.Hp({next:w=>{U(w),S.unsubscribe()},error:B,complete:()=>{F?U(j.defaultValue):B(new i.K)}});L.subscribe(S)})}},9841:(he,z,l)=>{l.d(z,{a:()=>w});var i=l(8306),u=l(4742),C=l(2076),L=l(4671),j=l(3268),F=l(3269),U=l(1810),B=l(5403),S=l(9672);function w(...T){const k=(0,F.yG)(T),I=(0,F.jO)(T),{args:b,keys:v}=(0,u.D)(T);if(0===b.length)return(0,C.D)([],k);const d=new i.y(function(T,k,I=L.y){return b=>{M(k,()=>{const{length:v}=T,d=new Array(v);let a=v,m=v;for(let h=0;h<v;h++)M(k,()=>{const W=(0,C.D)(T[h],k);let ae=!1;W.subscribe(new B.Q(b,we=>{d[h]=we,ae||(ae=!0,m--),m||b.next(I(d.slice()))},()=>{--a||b.complete()}))},b)},b)}}(b,k,v?a=>(0,U.n)(v,a):L.y));return I?d.pipe((0,j.Z)(I)):d}function M(T,k,I){T?(0,S.f)(I,T,k):k()}},7272:(he,z,l)=>{l.d(z,{z:()=>j});var i=l(8189),C=l(3269),L=l(2076);function j(...F){return(0,i.J)(1)((0,L.D)(F,(0,C.yG)(F)))}},9770:(he,z,l)=>{l.d(z,{P:()=>C});var i=l(8306),u=l(8421);function C(L){return new i.y(j=>{(0,u.Xf)(L()).subscribe(j)})}},515:(he,z,l)=>{l.d(z,{E:()=>u});const u=new(l(8306).y)(j=>j.complete())},4128:(he,z,l)=>{l.d(z,{D:()=>B});var i=l(8306),u=l(4742),C=l(8421),L=l(3269),j=l(5403),F=l(3268),U=l(1810);function B(...S){const w=(0,L.jO)(S),{args:E,keys:M}=(0,u.D)(S),T=new i.y(k=>{const{length:I}=E;if(!I)return void k.complete();const b=new Array(I);let v=I,d=I;for(let a=0;a<I;a++){let m=!1;(0,C.Xf)(E[a]).subscribe(new j.Q(k,h=>{m||(m=!0,d--),b[a]=h},()=>v--,void 0,()=>{(!v||!m)&&(d||k.next(M?(0,U.n)(M,b):b),k.complete())}))}});return w?T.pipe((0,F.Z)(w)):T}},2076:(he,z,l)=>{l.d(z,{D:()=>we});var i=l(8421),u=l(9672),C=l(4482),L=l(5403);function j(Ee,ce=0){return(0,C.e)((te,G)=>{te.subscribe(new L.Q(G,ee=>(0,u.f)(G,Ee,()=>G.next(ee),ce),()=>(0,u.f)(G,Ee,()=>G.complete(),ce),ee=>(0,u.f)(G,Ee,()=>G.error(ee),ce)))})}function F(Ee,ce=0){return(0,C.e)((te,G)=>{G.add(Ee.schedule(()=>te.subscribe(G),ce))})}var S=l(8306),E=l(2202),M=l(576);function k(Ee,ce){if(!Ee)throw new Error("Iterable cannot be null");return new S.y(te=>{(0,u.f)(te,ce,()=>{const G=Ee[Symbol.asyncIterator]();(0,u.f)(te,ce,()=>{G.next().then(ee=>{ee.done?te.complete():te.next(ee.value)})},0,!0)})})}var I=l(3670),b=l(8239),v=l(1144),d=l(6495),a=l(2206),m=l(4532),h=l(3260);function we(Ee,ce){return ce?function(Ee,ce){if(null!=Ee){if((0,I.c)(Ee))return function(Ee,ce){return(0,i.Xf)(Ee).pipe(F(ce),j(ce))}(Ee,ce);if((0,v.z)(Ee))return function(Ee,ce){return new S.y(te=>{let G=0;return ce.schedule(function(){G===Ee.length?te.complete():(te.next(Ee[G++]),te.closed||this.schedule())})})}(Ee,ce);if((0,b.t)(Ee))return function(Ee,ce){return(0,i.Xf)(Ee).pipe(F(ce),j(ce))}(Ee,ce);if((0,a.D)(Ee))return k(Ee,ce);if((0,d.T)(Ee))return function(Ee,ce){return new S.y(te=>{let G;return(0,u.f)(te,ce,()=>{G=Ee[E.h](),(0,u.f)(te,ce,()=>{let ee,X;try{({value:ee,done:X}=G.next())}catch(re){return void te.error(re)}X?te.complete():te.next(ee)},0,!0)}),()=>(0,M.m)(null==G?void 0:G.return)&&G.return()})}(Ee,ce);if((0,h.L)(Ee))return function(Ee,ce){return k((0,h.Q)(Ee),ce)}(Ee,ce)}throw(0,m.z)(Ee)}(Ee,ce):(0,i.Xf)(Ee)}},4968:(he,z,l)=>{l.d(z,{R:()=>w});var i=l(8421),u=l(8306),C=l(5577),L=l(1144),j=l(576),F=l(3268);const U=["addListener","removeListener"],B=["addEventListener","removeEventListener"],S=["on","off"];function w(I,b,v,d){if((0,j.m)(v)&&(d=v,v=void 0),d)return w(I,b,v).pipe((0,F.Z)(d));const[a,m]=function(I){return(0,j.m)(I.addEventListener)&&(0,j.m)(I.removeEventListener)}(I)?B.map(h=>W=>I[h](b,W,v)):function(I){return(0,j.m)(I.addListener)&&(0,j.m)(I.removeListener)}(I)?U.map(E(I,b)):function(I){return(0,j.m)(I.on)&&(0,j.m)(I.off)}(I)?S.map(E(I,b)):[];if(!a&&(0,L.z)(I))return(0,C.z)(h=>w(h,b,v))((0,i.Xf)(I));if(!a)throw new TypeError("Invalid event target");return new u.y(h=>{const W=(...ae)=>h.next(1<ae.length?ae:ae[0]);return a(W),()=>m(W)})}function E(I,b){return v=>d=>I[v](b,d)}},8421:(he,z,l)=>{l.d(z,{Xf:()=>T});var i=l(655),u=l(1144),C=l(8239),L=l(8306),j=l(3670),F=l(2206),U=l(4532),B=l(6495),S=l(3260),w=l(576),E=l(7849),M=l(8822);function T(h){if(h instanceof L.y)return h;if(null!=h){if((0,j.c)(h))return function(h){return new L.y(W=>{const ae=h[M.L]();if((0,w.m)(ae.subscribe))return ae.subscribe(W);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(h);if((0,u.z)(h))return function(h){return new L.y(W=>{for(let ae=0;ae<h.length&&!W.closed;ae++)W.next(h[ae]);W.complete()})}(h);if((0,C.t)(h))return function(h){return new L.y(W=>{h.then(ae=>{W.closed||(W.next(ae),W.complete())},ae=>W.error(ae)).then(null,E.h)})}(h);if((0,F.D)(h))return d(h);if((0,B.T)(h))return function(h){return new L.y(W=>{for(const ae of h)if(W.next(ae),W.closed)return;W.complete()})}(h);if((0,S.L)(h))return function(h){return d((0,S.Q)(h))}(h)}throw(0,U.z)(h)}function d(h){return new L.y(W=>{(function(h,W){var ae,we,Ee,ce;return(0,i.mG)(this,void 0,void 0,function*(){try{for(ae=(0,i.KL)(h);!(we=yield ae.next()).done;)if(W.next(we.value),W.closed)return}catch(te){Ee={error:te}}finally{try{we&&!we.done&&(ce=ae.return)&&(yield ce.call(ae))}finally{if(Ee)throw Ee.error}}W.complete()})})(h,W).catch(ae=>W.error(ae))})}},7445:(he,z,l)=>{l.d(z,{F:()=>C});var i=l(4986),u=l(5963);function C(L=0,j=i.z){return L<0&&(L=0),(0,u.H)(L,L,j)}},6451:(he,z,l)=>{l.d(z,{T:()=>F});var i=l(8189),u=l(8421),C=l(515),L=l(3269),j=l(2076);function F(...U){const B=(0,L.yG)(U),S=(0,L._6)(U,1/0),w=U;return w.length?1===w.length?(0,u.Xf)(w[0]):(0,i.J)(S)((0,j.D)(w,B)):C.E}},9646:(he,z,l)=>{l.d(z,{of:()=>C});var i=l(3269),u=l(2076);function C(...L){const j=(0,i.yG)(L);return(0,u.D)(L,j)}},2843:(he,z,l)=>{l.d(z,{_:()=>C});var i=l(8306),u=l(576);function C(L,j){const F=(0,u.m)(L)?L:()=>L,U=B=>B.error(F());return new i.y(j?B=>j.schedule(U,0,B):U)}},5963:(he,z,l)=>{l.d(z,{H:()=>j});var i=l(8306),u=l(4986),C=l(3532);function j(F=0,U,B=u.P){let S=-1;return null!=U&&((0,C.K)(U)?B=U:S=U),new i.y(w=>{let E=function(F){return F instanceof Date&&!isNaN(F)}(F)?+F-B.now():F;E<0&&(E=0);let M=0;return B.schedule(function(){w.closed||(w.next(M++),0<=S?this.schedule(void 0,S):w.complete())},E)})}},5403:(he,z,l)=>{l.d(z,{Q:()=>u});var i=l(930);class u extends i.Lv{constructor(L,j,F,U,B){super(L),this.onFinalize=B,this._next=j?function(S){try{j(S)}catch(w){L.error(w)}}:super._next,this._error=U?function(S){try{U(S)}catch(w){L.error(w)}finally{this.unsubscribe()}}:super._error,this._complete=F?function(){try{F()}catch(S){L.error(S)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var L;const{closed:j}=this;super.unsubscribe(),!j&&(null===(L=this.onFinalize)||void 0===L||L.call(this))}}},3601:(he,z,l)=>{l.d(z,{e:()=>U});var i=l(4986),u=l(4482),C=l(8421),L=l(5403),F=l(5963);function U(B,S=i.P){return function(B){return(0,u.e)((S,w)=>{let E=!1,M=null,T=null,k=!1;const I=()=>{if(null==T||T.unsubscribe(),T=null,E){E=!1;const v=M;M=null,w.next(v)}k&&w.complete()},b=()=>{T=null,k&&w.complete()};S.subscribe(new L.Q(w,v=>{E=!0,M=v,T||(0,C.Xf)(B()).subscribe(T=new L.Q(w,I,b))},()=>{k=!0,(!E||!T||T.closed)&&w.complete()}))})}(()=>(0,F.H)(B,S))}},262:(he,z,l)=>{l.d(z,{K:()=>L});var i=l(8421),u=l(5403),C=l(4482);function L(j){return(0,C.e)((F,U)=>{let w,B=null,S=!1;B=F.subscribe(new u.Q(U,void 0,void 0,E=>{w=(0,i.Xf)(j(E,L(j)(F))),B?(B.unsubscribe(),B=null,w.subscribe(U)):S=!0})),S&&(B.unsubscribe(),B=null,w.subscribe(U))})}},8372:(he,z,l)=>{l.d(z,{b:()=>L});var i=l(4986),u=l(4482),C=l(5403);function L(j,F=i.z){return(0,u.e)((U,B)=>{let S=null,w=null,E=null;const M=()=>{if(S){S.unsubscribe(),S=null;const k=w;w=null,B.next(k)}};function T(){const k=E+j,I=F.now();if(I<k)return S=this.schedule(void 0,k-I),void B.add(S);M()}U.subscribe(new C.Q(B,k=>{w=k,E=F.now(),S||(S=F.schedule(T,j),B.add(S))},()=>{M(),B.complete()},void 0,()=>{w=S=null}))})}},1884:(he,z,l)=>{l.d(z,{x:()=>L});var i=l(4671),u=l(4482),C=l(5403);function L(F,U=i.y){return F=F??j,(0,u.e)((B,S)=>{let w,E=!0;B.subscribe(new C.Q(S,M=>{const T=U(M);(E||!F(w,T))&&(E=!1,w=T,S.next(M))}))})}function j(F,U){return F===U}},9300:(he,z,l)=>{l.d(z,{h:()=>C});var i=l(4482),u=l(5403);function C(L,j){return(0,i.e)((F,U)=>{let B=0;F.subscribe(new u.Q(U,S=>L.call(j,S,B++)&&U.next(S)))})}},8746:(he,z,l)=>{l.d(z,{x:()=>u});var i=l(4482);function u(C){return(0,i.e)((L,j)=>{try{L.subscribe(j)}finally{j.add(C)}})}},4004:(he,z,l)=>{l.d(z,{U:()=>C});var i=l(4482),u=l(5403);function C(L,j){return(0,i.e)((F,U)=>{let B=0;F.subscribe(new u.Q(U,S=>{U.next(L.call(j,S,B++))}))})}},8189:(he,z,l)=>{l.d(z,{J:()=>C});var i=l(5577),u=l(4671);function C(L=1/0){return(0,i.z)(u.y,L)}},5577:(he,z,l)=>{l.d(z,{z:()=>B});var i=l(4004),u=l(8421),C=l(4482),j=(l(9672),l(5403)),U=l(576);function B(S,w,E=1/0){return(0,U.m)(w)?B((M,T)=>(0,i.U)((k,I)=>w(M,k,T,I))((0,u.Xf)(S(M,T))),E):("number"==typeof w&&(E=w),(0,C.e)((M,T)=>function(S,w,E,M,T,k,I,b){const v=[];let d=0,a=0,m=!1;const h=()=>{m&&!v.length&&!d&&w.complete()},W=we=>d<M?ae(we):v.push(we),ae=we=>{d++;let Ee=!1;(0,u.Xf)(E(we,a++)).subscribe(new j.Q(w,ce=>{w.next(ce)},()=>{Ee=!0},void 0,()=>{if(Ee)try{for(d--;v.length&&d<M;){const ce=v.shift();ae(ce)}h()}catch(ce){w.error(ce)}}))};return S.subscribe(new j.Q(w,W,()=>{m=!0,h()})),()=>{}}(M,T,S,E)))}},3099:(he,z,l)=>{l.d(z,{B:()=>F});var i=l(2076),u=l(5698),C=l(7579),L=l(930),j=l(4482);function F(B={}){const{connector:S=(()=>new C.x),resetOnError:w=!0,resetOnComplete:E=!0,resetOnRefCountZero:M=!0}=B;return T=>{let k=null,I=null,b=null,v=0,d=!1,a=!1;const m=()=>{null==I||I.unsubscribe(),I=null},h=()=>{m(),k=b=null,d=a=!1},W=()=>{const ae=k;h(),null==ae||ae.unsubscribe()};return(0,j.e)((ae,we)=>{v++,!a&&!d&&m();const Ee=b=b??S();we.add(()=>{v--,0===v&&!a&&!d&&(I=U(W,M))}),Ee.subscribe(we),k||(k=new L.Hp({next:ce=>Ee.next(ce),error:ce=>{a=!0,m(),I=U(h,w,ce),Ee.error(ce)},complete:()=>{d=!0,m(),I=U(h,E),Ee.complete()}}),(0,i.D)(ae).subscribe(k))})(T)}}function U(B,S,...w){return!0===S?(B(),null):!1===S?null:S(...w).pipe((0,u.q)(1)).subscribe(()=>B())}},8675:(he,z,l)=>{l.d(z,{O:()=>L});var i=l(7272),u=l(3269),C=l(4482);function L(...j){const F=(0,u.yG)(j);return(0,C.e)((U,B)=>{(F?(0,i.z)(j,U,F):(0,i.z)(j,U)).subscribe(B)})}},3900:(he,z,l)=>{l.d(z,{w:()=>L});var i=l(8421),u=l(4482),C=l(5403);function L(j,F){return(0,u.e)((U,B)=>{let S=null,w=0,E=!1;const M=()=>E&&!S&&B.complete();U.subscribe(new C.Q(B,T=>{null==S||S.unsubscribe();let k=0;const I=w++;(0,i.Xf)(j(T,I)).subscribe(S=new C.Q(B,b=>B.next(F?F(T,b,I,k++):b),()=>{S=null,M()}))},()=>{E=!0,M()}))})}},5698:(he,z,l)=>{l.d(z,{q:()=>L});var i=l(515),u=l(4482),C=l(5403);function L(j){return j<=0?()=>i.E:(0,u.e)((F,U)=>{let B=0;F.subscribe(new C.Q(U,S=>{++B<=j&&(U.next(S),j<=B&&U.complete())}))})}},2722:(he,z,l)=>{l.d(z,{R:()=>j});var i=l(4482),u=l(5403),C=l(8421),L=l(5032);function j(F){return(0,i.e)((U,B)=>{(0,C.Xf)(F).subscribe(new u.Q(B,()=>B.complete(),L.Z)),!B.closed&&U.subscribe(B)})}},8505:(he,z,l)=>{l.d(z,{b:()=>j});var i=l(576),u=l(4482),C=l(5403),L=l(4671);function j(F,U,B){const S=(0,i.m)(F)||U||B?{next:F,error:U,complete:B}:F;return S?(0,u.e)((w,E)=>{var M;null===(M=S.subscribe)||void 0===M||M.call(S);let T=!0;w.subscribe(new C.Q(E,k=>{var I;null===(I=S.next)||void 0===I||I.call(S,k),E.next(k)},()=>{var k;T=!1,null===(k=S.complete)||void 0===k||k.call(S),E.complete()},k=>{var I;T=!1,null===(I=S.error)||void 0===I||I.call(S,k),E.error(k)},()=>{var k,I;T&&(null===(k=S.unsubscribe)||void 0===k||k.call(S)),null===(I=S.finalize)||void 0===I||I.call(S)}))}):L.y}},4408:(he,z,l)=>{l.d(z,{o:()=>j});var i=l(727);class u extends i.w0{constructor(U,B){super()}schedule(U,B=0){return this}}const C={setInterval(...F){const{delegate:U}=C;return((null==U?void 0:U.setInterval)||setInterval)(...F)},clearInterval(F){const{delegate:U}=C;return((null==U?void 0:U.clearInterval)||clearInterval)(F)},delegate:void 0};var L=l(8737);class j extends u{constructor(U,B){super(U,B),this.scheduler=U,this.work=B,this.pending=!1}schedule(U,B=0){if(this.closed)return this;this.state=U;const S=this.id,w=this.scheduler;return null!=S&&(this.id=this.recycleAsyncId(w,S,B)),this.pending=!0,this.delay=B,this.id=this.id||this.requestAsyncId(w,this.id,B),this}requestAsyncId(U,B,S=0){return C.setInterval(U.flush.bind(U,this),S)}recycleAsyncId(U,B,S=0){if(null!=S&&this.delay===S&&!1===this.pending)return B;C.clearInterval(B)}execute(U,B){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const S=this._execute(U,B);if(S)return S;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(U,B){let w,S=!1;try{this.work(U)}catch(E){S=!0,w=E||new Error("Scheduled action threw falsy error")}if(S)return this.unsubscribe(),w}unsubscribe(){if(!this.closed){const{id:U,scheduler:B}=this,{actions:S}=B;this.work=this.state=this.scheduler=null,this.pending=!1,(0,L.P)(S,this),null!=U&&(this.id=this.recycleAsyncId(B,U,null)),this.delay=null,super.unsubscribe()}}}},7565:(he,z,l)=>{l.d(z,{v:()=>C});var i=l(6063);class u{constructor(j,F=u.now){this.schedulerActionCtor=j,this.now=F}schedule(j,F=0,U){return new this.schedulerActionCtor(this,j).schedule(U,F)}}u.now=i.l.now;class C extends u{constructor(j,F=u.now){super(j,F),this.actions=[],this._active=!1,this._scheduled=void 0}flush(j){const{actions:F}=this;if(this._active)return void F.push(j);let U;this._active=!0;do{if(U=j.execute(j.state,j.delay))break}while(j=F.shift());if(this._active=!1,U){for(;j=F.shift();)j.unsubscribe();throw U}}}},6406:(he,z,l)=>{l.d(z,{Z:()=>U});var i=l(4408),u=l(727);const C={schedule(S){let w=requestAnimationFrame,E=cancelAnimationFrame;const{delegate:M}=C;M&&(w=M.requestAnimationFrame,E=M.cancelAnimationFrame);const T=w(k=>{E=void 0,S(k)});return new u.w0(()=>null==E?void 0:E(T))},requestAnimationFrame(...S){const{delegate:w}=C;return((null==w?void 0:w.requestAnimationFrame)||requestAnimationFrame)(...S)},cancelAnimationFrame(...S){const{delegate:w}=C;return((null==w?void 0:w.cancelAnimationFrame)||cancelAnimationFrame)(...S)},delegate:void 0};var j=l(7565);const U=new class extends j.v{flush(w){this._active=!0;const E=this._scheduled;this._scheduled=void 0;const{actions:M}=this;let T;w=w||M.shift();do{if(T=w.execute(w.state,w.delay))break}while((w=M[0])&&w.id===E&&M.shift());if(this._active=!1,T){for(;(w=M[0])&&w.id===E&&M.shift();)w.unsubscribe();throw T}}}(class extends i.o{constructor(w,E){super(w,E),this.scheduler=w,this.work=E}requestAsyncId(w,E,M=0){return null!==M&&M>0?super.requestAsyncId(w,E,M):(w.actions.push(this),w._scheduled||(w._scheduled=C.requestAnimationFrame(()=>w.flush(void 0))))}recycleAsyncId(w,E,M=0){if(null!=M&&M>0||null==M&&this.delay>0)return super.recycleAsyncId(w,E,M);w.actions.some(T=>T.id===E)||(C.cancelAnimationFrame(E),w._scheduled=void 0)}})},3101:(he,z,l)=>{l.d(z,{E:()=>k});var i=l(4408);let C,u=1;const L={};function j(b){return b in L&&(delete L[b],!0)}const F={setImmediate(b){const v=u++;return L[v]=!0,C||(C=Promise.resolve()),C.then(()=>j(v)&&b()),v},clearImmediate(b){j(b)}},{setImmediate:B,clearImmediate:S}=F,w={setImmediate(...b){const{delegate:v}=w;return((null==v?void 0:v.setImmediate)||B)(...b)},clearImmediate(b){const{delegate:v}=w;return((null==v?void 0:v.clearImmediate)||S)(b)},delegate:void 0};var M=l(7565);const k=new class extends M.v{flush(v){this._active=!0;const d=this._scheduled;this._scheduled=void 0;const{actions:a}=this;let m;v=v||a.shift();do{if(m=v.execute(v.state,v.delay))break}while((v=a[0])&&v.id===d&&a.shift());if(this._active=!1,m){for(;(v=a[0])&&v.id===d&&a.shift();)v.unsubscribe();throw m}}}(class extends i.o{constructor(v,d){super(v,d),this.scheduler=v,this.work=d}requestAsyncId(v,d,a=0){return null!==a&&a>0?super.requestAsyncId(v,d,a):(v.actions.push(this),v._scheduled||(v._scheduled=w.setImmediate(v.flush.bind(v,void 0))))}recycleAsyncId(v,d,a=0){if(null!=a&&a>0||null==a&&this.delay>0)return super.recycleAsyncId(v,d,a);v.actions.some(m=>m.id===d)||(w.clearImmediate(d),v._scheduled=void 0)}})},4986:(he,z,l)=>{l.d(z,{z:()=>C,P:()=>L});var i=l(4408);const C=new(l(7565).v)(i.o),L=C},6063:(he,z,l)=>{l.d(z,{l:()=>i});const i={now:()=>(i.delegate||Date).now(),delegate:void 0}},3410:(he,z,l)=>{l.d(z,{z:()=>i});const i={setTimeout(...u){const{delegate:C}=i;return((null==C?void 0:C.setTimeout)||setTimeout)(...u)},clearTimeout(u){const{delegate:C}=i;return((null==C?void 0:C.clearTimeout)||clearTimeout)(u)},delegate:void 0}},2202:(he,z,l)=>{l.d(z,{h:()=>u});const u="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},8822:(he,z,l)=>{l.d(z,{L:()=>i});const i="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(he,z,l)=>{l.d(z,{K:()=>u});const u=(0,l(3888).d)(C=>function(){C(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(he,z,l)=>{l.d(z,{jO:()=>L,yG:()=>j,_6:()=>F});var i=l(576),u=l(3532);function C(U){return U[U.length-1]}function L(U){return(0,i.m)(C(U))?U.pop():void 0}function j(U){return(0,u.K)(C(U))?U.pop():void 0}function F(U,B){return"number"==typeof C(U)?U.pop():B}},4742:(he,z,l)=>{l.d(z,{D:()=>j});const{isArray:i}=Array,{getPrototypeOf:u,prototype:C,keys:L}=Object;function j(U){if(1===U.length){const B=U[0];if(i(B))return{args:B,keys:null};if(function(U){return U&&"object"==typeof U&&u(U)===C}(B)){const S=L(B);return{args:S.map(w=>B[w]),keys:S}}}return{args:U,keys:null}}},8737:(he,z,l)=>{function i(u,C){if(u){const L=u.indexOf(C);0<=L&&u.splice(L,1)}}l.d(z,{P:()=>i})},3888:(he,z,l)=>{function i(u){const L=u(j=>{Error.call(j),j.stack=(new Error).stack});return L.prototype=Object.create(Error.prototype),L.prototype.constructor=L,L}l.d(z,{d:()=>i})},1810:(he,z,l)=>{function i(u,C){return u.reduce((L,j,F)=>(L[j]=C[F],L),{})}l.d(z,{n:()=>i})},2806:(he,z,l)=>{l.d(z,{x:()=>C,O:()=>L});var i=l(2416);let u=null;function C(j){if(i.v.useDeprecatedSynchronousErrorHandling){const F=!u;if(F&&(u={errorThrown:!1,error:null}),j(),F){const{errorThrown:U,error:B}=u;if(u=null,U)throw B}}else j()}function L(j){i.v.useDeprecatedSynchronousErrorHandling&&u&&(u.errorThrown=!0,u.error=j)}},9672:(he,z,l)=>{function i(u,C,L,j=0,F=!1){const U=C.schedule(function(){L(),F?u.add(this.schedule(null,j)):this.unsubscribe()},j);if(u.add(U),!F)return U}l.d(z,{f:()=>i})},4671:(he,z,l)=>{function i(u){return u}l.d(z,{y:()=>i})},1144:(he,z,l)=>{l.d(z,{z:()=>i});const i=u=>u&&"number"==typeof u.length&&"function"!=typeof u},2206:(he,z,l)=>{l.d(z,{D:()=>u});var i=l(576);function u(C){return Symbol.asyncIterator&&(0,i.m)(null==C?void 0:C[Symbol.asyncIterator])}},576:(he,z,l)=>{function i(u){return"function"==typeof u}l.d(z,{m:()=>i})},3670:(he,z,l)=>{l.d(z,{c:()=>C});var i=l(8822),u=l(576);function C(L){return(0,u.m)(L[i.L])}},6495:(he,z,l)=>{l.d(z,{T:()=>C});var i=l(2202),u=l(576);function C(L){return(0,u.m)(null==L?void 0:L[i.h])}},8239:(he,z,l)=>{l.d(z,{t:()=>u});var i=l(576);function u(C){return(0,i.m)(null==C?void 0:C.then)}},3260:(he,z,l)=>{l.d(z,{Q:()=>C,L:()=>L});var i=l(655),u=l(576);function C(j){return(0,i.FC)(this,arguments,function*(){const U=j.getReader();try{for(;;){const{value:B,done:S}=yield(0,i.qq)(U.read());if(S)return yield(0,i.qq)(void 0);yield yield(0,i.qq)(B)}}finally{U.releaseLock()}})}function L(j){return(0,u.m)(null==j?void 0:j.getReader)}},3532:(he,z,l)=>{l.d(z,{K:()=>u});var i=l(576);function u(C){return C&&(0,i.m)(C.schedule)}},4482:(he,z,l)=>{l.d(z,{A:()=>u,e:()=>C});var i=l(576);function u(L){return(0,i.m)(null==L?void 0:L.lift)}function C(L){return j=>{if(u(j))return j.lift(function(F){try{return L(F,this)}catch(U){this.error(U)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(he,z,l)=>{l.d(z,{Z:()=>L});var i=l(4004);const{isArray:u}=Array;function L(j){return(0,i.U)(F=>function(j,F){return u(F)?j(...F):j(F)}(j,F))}},5032:(he,z,l)=>{function i(){}l.d(z,{Z:()=>i})},7849:(he,z,l)=>{l.d(z,{h:()=>C});var i=l(2416),u=l(3410);function C(L){u.z.setTimeout(()=>{const{onUnhandledError:j}=i.v;if(!j)throw L;j(L)})}},4532:(he,z,l)=>{function i(u){return new TypeError(`You provided ${null!==u&&"object"==typeof u?"an invalid object":`'${u}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}l.d(z,{z:()=>i})},1452:he=>{he.exports=function(z){"use strict";var i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function C(b,v){var d=b[0],a=b[1],m=b[2],h=b[3];a=((a+=((m=((m+=((h=((h+=((d=((d+=(a&m|~a&h)+v[0]-680876936|0)<<7|d>>>25)+a|0)&a|~d&m)+v[1]-389564586|0)<<12|h>>>20)+d|0)&d|~h&a)+v[2]+606105819|0)<<17|m>>>15)+h|0)&h|~m&d)+v[3]-1044525330|0)<<22|a>>>10)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a&m|~a&h)+v[4]-176418897|0)<<7|d>>>25)+a|0)&a|~d&m)+v[5]+1200080426|0)<<12|h>>>20)+d|0)&d|~h&a)+v[6]-1473231341|0)<<17|m>>>15)+h|0)&h|~m&d)+v[7]-45705983|0)<<22|a>>>10)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a&m|~a&h)+v[8]+1770035416|0)<<7|d>>>25)+a|0)&a|~d&m)+v[9]-1958414417|0)<<12|h>>>20)+d|0)&d|~h&a)+v[10]-42063|0)<<17|m>>>15)+h|0)&h|~m&d)+v[11]-1990404162|0)<<22|a>>>10)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a&m|~a&h)+v[12]+1804603682|0)<<7|d>>>25)+a|0)&a|~d&m)+v[13]-40341101|0)<<12|h>>>20)+d|0)&d|~h&a)+v[14]-1502002290|0)<<17|m>>>15)+h|0)&h|~m&d)+v[15]+1236535329|0)<<22|a>>>10)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a&h|m&~h)+v[1]-165796510|0)<<5|d>>>27)+a|0)&m|a&~m)+v[6]-1069501632|0)<<9|h>>>23)+d|0)&a|d&~a)+v[11]+643717713|0)<<14|m>>>18)+h|0)&d|h&~d)+v[0]-373897302|0)<<20|a>>>12)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a&h|m&~h)+v[5]-701558691|0)<<5|d>>>27)+a|0)&m|a&~m)+v[10]+38016083|0)<<9|h>>>23)+d|0)&a|d&~a)+v[15]-660478335|0)<<14|m>>>18)+h|0)&d|h&~d)+v[4]-405537848|0)<<20|a>>>12)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a&h|m&~h)+v[9]+568446438|0)<<5|d>>>27)+a|0)&m|a&~m)+v[14]-1019803690|0)<<9|h>>>23)+d|0)&a|d&~a)+v[3]-187363961|0)<<14|m>>>18)+h|0)&d|h&~d)+v[8]+1163531501|0)<<20|a>>>12)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a&h|m&~h)+v[13]-1444681467|0)<<5|d>>>27)+a|0)&m|a&~m)+v[2]-51403784|0)<<9|h>>>23)+d|0)&a|d&~a)+v[7]+1735328473|0)<<14|m>>>18)+h|0)&d|h&~d)+v[12]-1926607734|0)<<20|a>>>12)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a^m^h)+v[5]-378558|0)<<4|d>>>28)+a|0)^a^m)+v[8]-2022574463|0)<<11|h>>>21)+d|0)^d^a)+v[11]+1839030562|0)<<16|m>>>16)+h|0)^h^d)+v[14]-35309556|0)<<23|a>>>9)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a^m^h)+v[1]-1530992060|0)<<4|d>>>28)+a|0)^a^m)+v[4]+1272893353|0)<<11|h>>>21)+d|0)^d^a)+v[7]-155497632|0)<<16|m>>>16)+h|0)^h^d)+v[10]-1094730640|0)<<23|a>>>9)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a^m^h)+v[13]+681279174|0)<<4|d>>>28)+a|0)^a^m)+v[0]-358537222|0)<<11|h>>>21)+d|0)^d^a)+v[3]-722521979|0)<<16|m>>>16)+h|0)^h^d)+v[6]+76029189|0)<<23|a>>>9)+m|0,a=((a+=((m=((m+=((h=((h+=((d=((d+=(a^m^h)+v[9]-640364487|0)<<4|d>>>28)+a|0)^a^m)+v[12]-421815835|0)<<11|h>>>21)+d|0)^d^a)+v[15]+530742520|0)<<16|m>>>16)+h|0)^h^d)+v[2]-995338651|0)<<23|a>>>9)+m|0,a=((a+=((h=((h+=(a^((d=((d+=(m^(a|~h))+v[0]-198630844|0)<<6|d>>>26)+a|0)|~m))+v[7]+1126891415|0)<<10|h>>>22)+d|0)^((m=((m+=(d^(h|~a))+v[14]-1416354905|0)<<15|m>>>17)+h|0)|~d))+v[5]-57434055|0)<<21|a>>>11)+m|0,a=((a+=((h=((h+=(a^((d=((d+=(m^(a|~h))+v[12]+1700485571|0)<<6|d>>>26)+a|0)|~m))+v[3]-1894986606|0)<<10|h>>>22)+d|0)^((m=((m+=(d^(h|~a))+v[10]-1051523|0)<<15|m>>>17)+h|0)|~d))+v[1]-2054922799|0)<<21|a>>>11)+m|0,a=((a+=((h=((h+=(a^((d=((d+=(m^(a|~h))+v[8]+1873313359|0)<<6|d>>>26)+a|0)|~m))+v[15]-30611744|0)<<10|h>>>22)+d|0)^((m=((m+=(d^(h|~a))+v[6]-1560198380|0)<<15|m>>>17)+h|0)|~d))+v[13]+1309151649|0)<<21|a>>>11)+m|0,a=((a+=((h=((h+=(a^((d=((d+=(m^(a|~h))+v[4]-145523070|0)<<6|d>>>26)+a|0)|~m))+v[11]-1120210379|0)<<10|h>>>22)+d|0)^((m=((m+=(d^(h|~a))+v[2]+718787259|0)<<15|m>>>17)+h|0)|~d))+v[9]-343485551|0)<<21|a>>>11)+m|0,b[0]=d+b[0]|0,b[1]=a+b[1]|0,b[2]=m+b[2]|0,b[3]=h+b[3]|0}function L(b){var d,v=[];for(d=0;d<64;d+=4)v[d>>2]=b.charCodeAt(d)+(b.charCodeAt(d+1)<<8)+(b.charCodeAt(d+2)<<16)+(b.charCodeAt(d+3)<<24);return v}function j(b){var d,v=[];for(d=0;d<64;d+=4)v[d>>2]=b[d]+(b[d+1]<<8)+(b[d+2]<<16)+(b[d+3]<<24);return v}function F(b){var a,m,h,W,ae,we,v=b.length,d=[1732584193,-271733879,-1732584194,271733878];for(a=64;a<=v;a+=64)C(d,L(b.substring(a-64,a)));for(m=(b=b.substring(a-64)).length,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<m;a+=1)h[a>>2]|=b.charCodeAt(a)<<(a%4<<3);if(h[a>>2]|=128<<(a%4<<3),a>55)for(C(d,h),a=0;a<16;a+=1)h[a]=0;return W=(W=8*v).toString(16).match(/(.*?)(.{0,8})$/),ae=parseInt(W[2],16),we=parseInt(W[1],16)||0,h[14]=ae,h[15]=we,C(d,h),d}function B(b){var d,v="";for(d=0;d<4;d+=1)v+=i[b>>8*d+4&15]+i[b>>8*d&15];return v}function S(b){var v;for(v=0;v<b.length;v+=1)b[v]=B(b[v]);return b.join("")}function w(b){return/[\u0080-\uFFFF]/.test(b)&&(b=unescape(encodeURIComponent(b))),b}function k(b){var a,v=[],d=b.length;for(a=0;a<d-1;a+=2)v.push(parseInt(b.substr(a,2),16));return String.fromCharCode.apply(String,v)}function I(){this.reset()}return S(F("hello")),"undefined"!=typeof ArrayBuffer&&!ArrayBuffer.prototype.slice&&function(){function b(v,d){return(v=0|v||0)<0?Math.max(v+d,0):Math.min(v,d)}ArrayBuffer.prototype.slice=function(v,d){var W,ae,we,Ee,a=this.byteLength,m=b(v,a),h=a;return undefined!==d&&(h=b(d,a)),m>h?new ArrayBuffer(0):(W=h-m,ae=new ArrayBuffer(W),we=new Uint8Array(ae),Ee=new Uint8Array(this,m,W),we.set(Ee),ae)}}(),I.prototype.append=function(b){return this.appendBinary(w(b)),this},I.prototype.appendBinary=function(b){this._buff+=b,this._length+=b.length;var d,v=this._buff.length;for(d=64;d<=v;d+=64)C(this._hash,L(this._buff.substring(d-64,d)));return this._buff=this._buff.substring(d-64),this},I.prototype.end=function(b){var a,h,v=this._buff,d=v.length,m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(a=0;a<d;a+=1)m[a>>2]|=v.charCodeAt(a)<<(a%4<<3);return this._finish(m,d),h=S(this._hash),b&&(h=k(h)),this.reset(),h},I.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},I.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},I.prototype.setState=function(b){return this._buff=b.buff,this._length=b.length,this._hash=b.hash,this},I.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},I.prototype._finish=function(b,v){var a,m,h,d=v;if(b[d>>2]|=128<<(d%4<<3),d>55)for(C(this._hash,b),d=0;d<16;d+=1)b[d]=0;a=(a=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),m=parseInt(a[2],16),h=parseInt(a[1],16)||0,b[14]=m,b[15]=h,C(this._hash,b)},I.hash=function(b,v){return I.hashBinary(w(b),v)},I.hashBinary=function(b,v){var a=S(F(b));return v?k(a):a},(I.ArrayBuffer=function(){this.reset()}).prototype.append=function(b){var a,v=function(b,v,d){var a=new Uint8Array(b.byteLength+v.byteLength);return a.set(new Uint8Array(b)),a.set(new Uint8Array(v),b.byteLength),d?a:a.buffer}(this._buff.buffer,b,!0),d=v.length;for(this._length+=b.byteLength,a=64;a<=d;a+=64)C(this._hash,j(v.subarray(a-64,a)));return this._buff=a-64<d?new Uint8Array(v.buffer.slice(a-64)):new Uint8Array(0),this},I.ArrayBuffer.prototype.end=function(b){var m,h,v=this._buff,d=v.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(m=0;m<d;m+=1)a[m>>2]|=v[m]<<(m%4<<3);return this._finish(a,d),h=S(this._hash),b&&(h=k(h)),this.reset(),h},I.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},I.ArrayBuffer.prototype.getState=function(){var b=I.prototype.getState.call(this);return b.buff=function(b){return String.fromCharCode.apply(null,new Uint8Array(b))}(b.buff),b},I.ArrayBuffer.prototype.setState=function(b){return b.buff=function(b,v){var h,d=b.length,a=new ArrayBuffer(d),m=new Uint8Array(a);for(h=0;h<d;h+=1)m[h]=b.charCodeAt(h);return v?m:a}(b.buff,!0),I.prototype.setState.call(this,b)},I.ArrayBuffer.prototype.destroy=I.prototype.destroy,I.ArrayBuffer.prototype._finish=I.prototype._finish,I.ArrayBuffer.hash=function(b,v){var a=S(function(b){var a,m,h,W,ae,we,v=b.length,d=[1732584193,-271733879,-1732584194,271733878];for(a=64;a<=v;a+=64)C(d,j(b.subarray(a-64,a)));for(m=(b=a-64<v?b.subarray(a-64):new Uint8Array(0)).length,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<m;a+=1)h[a>>2]|=b[a]<<(a%4<<3);if(h[a>>2]|=128<<(a%4<<3),a>55)for(C(d,h),a=0;a<16;a+=1)h[a]=0;return W=(W=8*v).toString(16).match(/(.*?)(.{0,8})$/),ae=parseInt(W[2],16),we=parseInt(W[1],16)||0,h[14]=ae,h[15]=we,C(d,h),d}(new Uint8Array(b)));return v?k(a):a},I}()},1451:he=>{he.exports=function(l){return l&&"object"==typeof l&&"function"==typeof l.copy&&"function"==typeof l.fill&&"function"==typeof l.readUInt8}},8791:(he,z,l)=>{var i=l(3407),u=l(110),C=l(2031),L=l(597);function j($e){return $e.call.bind($e)}var F="undefined"!=typeof BigInt,U="undefined"!=typeof Symbol,B=j(Object.prototype.toString),S=j(Number.prototype.valueOf),w=j(String.prototype.valueOf),E=j(Boolean.prototype.valueOf);if(F)var M=j(BigInt.prototype.valueOf);if(U)var T=j(Symbol.prototype.valueOf);function k($e,Pt){if("object"!=typeof $e)return!1;try{return Pt($e),!0}catch{return!1}}function G($e){return"[object Map]"===B($e)}function X($e){return"[object Set]"===B($e)}function le($e){return"[object WeakMap]"===B($e)}function We($e){return"[object WeakSet]"===B($e)}function Pe($e){return"[object ArrayBuffer]"===B($e)}function De($e){return"undefined"!=typeof ArrayBuffer&&(Pe.working?Pe($e):$e instanceof ArrayBuffer)}function pe($e){return"[object DataView]"===B($e)}function ve($e){return"undefined"!=typeof DataView&&(pe.working?pe($e):$e instanceof DataView)}z.isArgumentsObject=i,z.isGeneratorFunction=u,z.isTypedArray=L,z.isPromise=function($e){return"undefined"!=typeof Promise&&$e instanceof Promise||null!==$e&&"object"==typeof $e&&"function"==typeof $e.then&&"function"==typeof $e.catch},z.isArrayBufferView=function($e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView($e):L($e)||ve($e)},z.isUint8Array=function($e){return"Uint8Array"===C($e)},z.isUint8ClampedArray=function($e){return"Uint8ClampedArray"===C($e)},z.isUint16Array=function($e){return"Uint16Array"===C($e)},z.isUint32Array=function($e){return"Uint32Array"===C($e)},z.isInt8Array=function($e){return"Int8Array"===C($e)},z.isInt16Array=function($e){return"Int16Array"===C($e)},z.isInt32Array=function($e){return"Int32Array"===C($e)},z.isFloat32Array=function($e){return"Float32Array"===C($e)},z.isFloat64Array=function($e){return"Float64Array"===C($e)},z.isBigInt64Array=function($e){return"BigInt64Array"===C($e)},z.isBigUint64Array=function($e){return"BigUint64Array"===C($e)},G.working="undefined"!=typeof Map&&G(new Map),z.isMap=function($e){return"undefined"!=typeof Map&&(G.working?G($e):$e instanceof Map)},X.working="undefined"!=typeof Set&&X(new Set),z.isSet=function($e){return"undefined"!=typeof Set&&(X.working?X($e):$e instanceof Set)},le.working="undefined"!=typeof WeakMap&&le(new WeakMap),z.isWeakMap=function($e){return"undefined"!=typeof WeakMap&&(le.working?le($e):$e instanceof WeakMap)},We.working="undefined"!=typeof WeakSet&&We(new WeakSet),z.isWeakSet=function($e){return We($e)},Pe.working="undefined"!=typeof ArrayBuffer&&Pe(new ArrayBuffer),z.isArrayBuffer=De,pe.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&pe(new DataView(new ArrayBuffer(1),0,1)),z.isDataView=ve;var ke="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function Ge($e){return"[object SharedArrayBuffer]"===B($e)}function rt($e){return void 0!==ke&&(void 0===Ge.working&&(Ge.working=Ge(new ke)),Ge.working?Ge($e):$e instanceof ke)}function zt($e){return k($e,S)}function _n($e){return k($e,w)}function En($e){return k($e,E)}function Pn($e){return F&&k($e,M)}function Tn($e){return U&&k($e,T)}z.isSharedArrayBuffer=rt,z.isAsyncFunction=function($e){return"[object AsyncFunction]"===B($e)},z.isMapIterator=function($e){return"[object Map Iterator]"===B($e)},z.isSetIterator=function($e){return"[object Set Iterator]"===B($e)},z.isGeneratorObject=function($e){return"[object Generator]"===B($e)},z.isWebAssemblyCompiledModule=function($e){return"[object WebAssembly.Module]"===B($e)},z.isNumberObject=zt,z.isStringObject=_n,z.isBooleanObject=En,z.isBigIntObject=Pn,z.isSymbolObject=Tn,z.isBoxedPrimitive=function($e){return zt($e)||_n($e)||En($e)||Pn($e)||Tn($e)},z.isAnyArrayBuffer=function($e){return"undefined"!=typeof Uint8Array&&(De($e)||rt($e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function($e){Object.defineProperty(z,$e,{enumerable:!1,value:function(){throw new Error($e+" is not supported in userland")}})})},6788:(he,z,l)=>{var i=Object.getOwnPropertyDescriptors||function(ve){for(var ke=Object.keys(ve),Ge={},rt=0;rt<ke.length;rt++)Ge[ke[rt]]=Object.getOwnPropertyDescriptor(ve,ke[rt]);return Ge},u=/%[sdj%]/g;z.format=function(pe){if(!h(pe)){for(var ve=[],ke=0;ke<arguments.length;ke++)ve.push(F(arguments[ke]));return ve.join(" ")}ke=1;for(var Ge=arguments,rt=Ge.length,yt=String(pe).replace(u,function(Et){if("%%"===Et)return"%";if(ke>=rt)return Et;switch(Et){case"%s":return String(Ge[ke++]);case"%d":return Number(Ge[ke++]);case"%j":try{return JSON.stringify(Ge[ke++])}catch{return"[Circular]"}default:return Et}}),at=Ge[ke];ke<rt;at=Ge[++ke])d(at)||!Ee(at)?yt+=" "+at:yt+=" "+F(at);return yt},z.deprecate=function(pe,ve){if("undefined"!=typeof process&&!0===process.noDeprecation)return pe;if("undefined"==typeof process)return function(){return z.deprecate(pe,ve).apply(this,arguments)};var ke=!1;return function(){if(!ke){if(process.throwDeprecation)throw new Error(ve);process.traceDeprecation?console.trace(ve):console.error(ve),ke=!0}return pe.apply(this,arguments)}};var C={},L=/^$/;if(process.env.NODE_DEBUG){var j=process.env.NODE_DEBUG;j=j.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),L=new RegExp("^"+j+"$","i")}function F(pe,ve){var ke={seen:[],stylize:B};return arguments.length>=3&&(ke.depth=arguments[2]),arguments.length>=4&&(ke.colors=arguments[3]),v(ve)?ke.showHidden=ve:ve&&z._extend(ke,ve),ae(ke.showHidden)&&(ke.showHidden=!1),ae(ke.depth)&&(ke.depth=2),ae(ke.colors)&&(ke.colors=!1),ae(ke.customInspect)&&(ke.customInspect=!0),ke.colors&&(ke.stylize=U),w(ke,pe,ke.depth)}function U(pe,ve){var ke=F.styles[ve];return ke?"\x1b["+F.colors[ke][0]+"m"+pe+"\x1b["+F.colors[ke][1]+"m":pe}function B(pe,ve){return pe}function w(pe,ve,ke){if(pe.customInspect&&ve&&G(ve.inspect)&&ve.inspect!==z.inspect&&(!ve.constructor||ve.constructor.prototype!==ve)){var Ge=ve.inspect(ke,pe);return h(Ge)||(Ge=w(pe,Ge,ke)),Ge}var rt=function(pe,ve){if(ae(ve))return pe.stylize("undefined","undefined");if(h(ve)){var ke="'"+JSON.stringify(ve).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return pe.stylize(ke,"string")}return m(ve)?pe.stylize(""+ve,"number"):v(ve)?pe.stylize(""+ve,"boolean"):d(ve)?pe.stylize("null","null"):void 0}(pe,ve);if(rt)return rt;var yt=Object.keys(ve),at=function(pe){var ve={};return pe.forEach(function(ke,Ge){ve[ke]=!0}),ve}(yt);if(pe.showHidden&&(yt=Object.getOwnPropertyNames(ve)),te(ve)&&(yt.indexOf("message")>=0||yt.indexOf("description")>=0))return M(ve);if(0===yt.length){if(G(ve))return pe.stylize("[Function"+(ve.name?": "+ve.name:"")+"]","special");if(we(ve))return pe.stylize(RegExp.prototype.toString.call(ve),"regexp");if(ce(ve))return pe.stylize(Date.prototype.toString.call(ve),"date");if(te(ve))return M(ve)}var En,Mt="",Bt=!1,zt=["{","}"];return b(ve)&&(Bt=!0,zt=["[","]"]),G(ve)&&(Mt=" [Function"+(ve.name?": "+ve.name:"")+"]"),we(ve)&&(Mt=" "+RegExp.prototype.toString.call(ve)),ce(ve)&&(Mt=" "+Date.prototype.toUTCString.call(ve)),te(ve)&&(Mt=" "+M(ve)),0!==yt.length||Bt&&0!=ve.length?ke<0?we(ve)?pe.stylize(RegExp.prototype.toString.call(ve),"regexp"):pe.stylize("[Object]","special"):(pe.seen.push(ve),En=Bt?function(pe,ve,ke,Ge,rt){for(var yt=[],at=0,Et=ve.length;at<Et;++at)We(ve,String(at))?yt.push(k(pe,ve,ke,Ge,String(at),!0)):yt.push("");return rt.forEach(function(Mt){Mt.match(/^\d+$/)||yt.push(k(pe,ve,ke,Ge,Mt,!0))}),yt}(pe,ve,ke,at,yt):yt.map(function(Pn){return k(pe,ve,ke,at,Pn,Bt)}),pe.seen.pop(),function(pe,ve,ke){var rt=pe.reduce(function(yt,at){return at.indexOf("\n"),yt+at.replace(/\u001b\[\d\d?m/g,"").length+1},0);return rt>60?ke[0]+(""===ve?"":ve+"\n ")+" "+pe.join(",\n  ")+" "+ke[1]:ke[0]+ve+" "+pe.join(", ")+" "+ke[1]}(En,Mt,zt)):zt[0]+Mt+zt[1]}function M(pe){return"["+Error.prototype.toString.call(pe)+"]"}function k(pe,ve,ke,Ge,rt,yt){var at,Et,Mt;if((Mt=Object.getOwnPropertyDescriptor(ve,rt)||{value:ve[rt]}).get?Et=pe.stylize(Mt.set?"[Getter/Setter]":"[Getter]","special"):Mt.set&&(Et=pe.stylize("[Setter]","special")),We(Ge,rt)||(at="["+rt+"]"),Et||(pe.seen.indexOf(Mt.value)<0?(Et=d(ke)?w(pe,Mt.value,null):w(pe,Mt.value,ke-1)).indexOf("\n")>-1&&(Et=yt?Et.split("\n").map(function(Bt){return"  "+Bt}).join("\n").substr(2):"\n"+Et.split("\n").map(function(Bt){return"   "+Bt}).join("\n")):Et=pe.stylize("[Circular]","special")),ae(at)){if(yt&&rt.match(/^\d+$/))return Et;(at=JSON.stringify(""+rt)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(at=at.substr(1,at.length-2),at=pe.stylize(at,"name")):(at=at.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),at=pe.stylize(at,"string"))}return at+": "+Et}function b(pe){return Array.isArray(pe)}function v(pe){return"boolean"==typeof pe}function d(pe){return null===pe}function m(pe){return"number"==typeof pe}function h(pe){return"string"==typeof pe}function ae(pe){return void 0===pe}function we(pe){return Ee(pe)&&"[object RegExp]"===X(pe)}function Ee(pe){return"object"==typeof pe&&null!==pe}function ce(pe){return Ee(pe)&&"[object Date]"===X(pe)}function te(pe){return Ee(pe)&&("[object Error]"===X(pe)||pe instanceof Error)}function G(pe){return"function"==typeof pe}function X(pe){return Object.prototype.toString.call(pe)}function re(pe){return pe<10?"0"+pe.toString(10):pe.toString(10)}z.debuglog=function(pe){if(pe=pe.toUpperCase(),!C[pe])if(L.test(pe)){var ve=process.pid;C[pe]=function(){var ke=z.format.apply(z,arguments);console.error("%s %d: %s",pe,ve,ke)}}else C[pe]=function(){};return C[pe]},z.inspect=F,F.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},F.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},z.types=l(8791),z.isArray=b,z.isBoolean=v,z.isNull=d,z.isNullOrUndefined=function(pe){return null==pe},z.isNumber=m,z.isString=h,z.isSymbol=function(pe){return"symbol"==typeof pe},z.isUndefined=ae,z.isRegExp=we,z.types.isRegExp=we,z.isObject=Ee,z.isDate=ce,z.types.isDate=ce,z.isError=te,z.types.isNativeError=te,z.isFunction=G,z.isPrimitive=function(pe){return null===pe||"boolean"==typeof pe||"number"==typeof pe||"string"==typeof pe||"symbol"==typeof pe||void 0===pe},z.isBuffer=l(1451);var le=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Oe(){var pe=new Date,ve=[re(pe.getHours()),re(pe.getMinutes()),re(pe.getSeconds())].join(":");return[pe.getDate(),le[pe.getMonth()],ve].join(" ")}function We(pe,ve){return Object.prototype.hasOwnProperty.call(pe,ve)}z.log=function(){console.log("%s - %s",Oe(),z.format.apply(z,arguments))},z.inherits=l(3894),z._extend=function(pe,ve){if(!ve||!Ee(ve))return pe;for(var ke=Object.keys(ve),Ge=ke.length;Ge--;)pe[ke[Ge]]=ve[ke[Ge]];return pe};var tt="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function Pe(pe,ve){if(!pe){var ke=new Error("Promise was rejected with a falsy value");ke.reason=pe,pe=ke}return ve(pe)}z.promisify=function(ve){if("function"!=typeof ve)throw new TypeError('The "original" argument must be of type Function');if(tt&&ve[tt]){var ke;if("function"!=typeof(ke=ve[tt]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(ke,tt,{value:ke,enumerable:!1,writable:!1,configurable:!0}),ke}function ke(){for(var Ge,rt,yt=new Promise(function(Mt,Bt){Ge=Mt,rt=Bt}),at=[],Et=0;Et<arguments.length;Et++)at.push(arguments[Et]);at.push(function(Mt,Bt){Mt?rt(Mt):Ge(Bt)});try{ve.apply(this,at)}catch(Mt){rt(Mt)}return yt}return Object.setPrototypeOf(ke,Object.getPrototypeOf(ve)),tt&&Object.defineProperty(ke,tt,{value:ke,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(ke,i(ve))},z.promisify.custom=tt,z.callbackify=function(pe){if("function"!=typeof pe)throw new TypeError('The "original" argument must be of type Function');function ve(){for(var ke=[],Ge=0;Ge<arguments.length;Ge++)ke.push(arguments[Ge]);var rt=ke.pop();if("function"!=typeof rt)throw new TypeError("The last argument must be of type Function");var yt=this,at=function(){return rt.apply(yt,arguments)};pe.apply(this,ke).then(function(Et){process.nextTick(at.bind(null,null,Et))},function(Et){process.nextTick(Pe.bind(null,Et,at))})}return Object.setPrototypeOf(ve,Object.getPrototypeOf(pe)),Object.defineProperties(ve,i(pe)),ve}},1042:(he,z,l)=>{l.d(z,{Z:()=>M});var i,u=new Uint8Array(16);function C(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(u)}const L=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,F=function(T){return"string"==typeof T&&L.test(T)};for(var U=[],B=0;B<256;++B)U.push((B+256).toString(16).substr(1));const M=function(T,k,I){var b=(T=T||{}).random||(T.rng||C)();if(b[6]=15&b[6]|64,b[8]=63&b[8]|128,k){I=I||0;for(var v=0;v<16;++v)k[I+v]=b[v];return k}return function(T){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,I=(U[T[k+0]]+U[T[k+1]]+U[T[k+2]]+U[T[k+3]]+"-"+U[T[k+4]]+U[T[k+5]]+"-"+U[T[k+6]]+U[T[k+7]]+"-"+U[T[k+8]]+U[T[k+9]]+"-"+U[T[k+10]]+U[T[k+11]]+U[T[k+12]]+U[T[k+13]]+U[T[k+14]]+U[T[k+15]]).toLowerCase();if(!F(I))throw TypeError("Stringified UUID is invalid");return I}(b)}},2899:(he,z)=>{function l(i,u,C){var L=C[C.length-1];i===L.element&&(C.pop(),L=C[C.length-1]);var j=L.element,F=L.index;Array.isArray(j)?j.push(i):F===u.length-2?j[u.pop()]=i:u.push(i)}z.stringify=function(u){var C=[];C.push({obj:u});for(var j,F,B,S,E,M,T,k,I,L="";j=C.pop();)if(F=j.obj,L+=j.prefix||"",B=j.val||"")L+=B;else if("object"!=typeof F)L+=void 0===F?null:JSON.stringify(F);else if(null===F)L+="null";else if(Array.isArray(F)){for(C.push({val:"]"}),S=F.length-1;S>=0;S--)C.push({obj:F[S],prefix:0===S?"":","});C.push({val:"["})}else{for(M in E=[],F)F.hasOwnProperty(M)&&E.push(M);for(C.push({val:"}"}),S=E.length-1;S>=0;S--)k=F[T=E[S]],I=S>0?",":"",I+=JSON.stringify(T)+":",C.push({obj:k,prefix:I});C.push({val:"{"})}return L},z.parse=function(i){for(var j,F,U,B,S,w,E,M,T,u=[],C=[],L=0;;)if("}"!==(j=i[L++])&&"]"!==j&&void 0!==j)switch(j){case" ":case"\t":case"\n":case":":case",":break;case"n":L+=3,l(null,u,C);break;case"t":L+=3,l(!0,u,C);break;case"f":L+=4,l(!1,u,C);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(F="",L--;;){if(U=i[L++],!/[\d\.\-e\+]/.test(U)){L--;break}F+=U}l(parseFloat(F),u,C);break;case'"':for(B="",S=void 0,w=0;'"'!==(E=i[L++])||"\\"===S&&w%2==1;)B+=E,"\\"===(S=E)?w++:w=0;l(JSON.parse('"'+B+'"'),u,C);break;case"[":u.push((M={element:[],index:u.length}).element),C.push(M);break;case"{":u.push((T={element:{},index:u.length}).element),C.push(T);break;default:throw new Error("unexpectedly reached end of input: "+j)}else{if(1===u.length)return u.pop();l(u.pop(),u,C)}}},2031:(he,z,l)=>{var i=l(9076),u=l(7029),C=l(5834),L=C("Object.prototype.toString"),j=l(6259)(),F="undefined"==typeof globalThis?global:globalThis,U=u(),B=C("String.prototype.slice"),S={},w=l(8555),E=Object.getPrototypeOf;j&&w&&E&&i(U,function(k){if("function"==typeof F[k]){var I=new F[k];if(Symbol.toStringTag in I){var b=E(I),v=w(b,Symbol.toStringTag);if(!v){var d=E(b);v=w(d,Symbol.toStringTag)}S[k]=v.get}}});var T=l(597);he.exports=function(I){return!!T(I)&&(j&&Symbol.toStringTag in I?function(I){var b=!1;return i(S,function(v,d){if(!b)try{var a=v.call(I);a===d&&(b=a)}catch{}}),b}(I):B(L(I),8,-1))}},1995:he=>{he.exports=function(){for(var i={},u=0;u<arguments.length;u++){var C=arguments[u];for(var L in C)z.call(C,L)&&(i[L]=C[L])}return i};var z=Object.prototype.hasOwnProperty},655:(he,z,l)=>{function B(te,G,ee,X){return new(ee||(ee=Promise))(function(le,Oe){function We(De){try{Pe(X.next(De))}catch(pe){Oe(pe)}}function tt(De){try{Pe(X.throw(De))}catch(pe){Oe(pe)}}function Pe(De){De.done?le(De.value):function(le){return le instanceof ee?le:new ee(function(Oe){Oe(le)})}(De.value).then(We,tt)}Pe((X=X.apply(te,G||[])).next())})}function v(te){return this instanceof v?(this.v=te,this):new v(te)}function d(te,G,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,X=ee.apply(te,G||[]),le=[];return re={},Oe("next"),Oe("throw"),Oe("return"),re[Symbol.asyncIterator]=function(){return this},re;function Oe(ve){X[ve]&&(re[ve]=function(ke){return new Promise(function(Ge,rt){le.push([ve,ke,Ge,rt])>1||We(ve,ke)})})}function We(ve,ke){try{!function(ve){ve.value instanceof v?Promise.resolve(ve.value.v).then(Pe,De):pe(le[0][2],ve)}(X[ve](ke))}catch(Ge){pe(le[0][3],Ge)}}function Pe(ve){We("next",ve)}function De(ve){We("throw",ve)}function pe(ve,ke){ve(ke),le.shift(),le.length&&We(le[0][0],le[0][1])}}function m(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,G=te[Symbol.asyncIterator];return G?G.call(te):(te=function(te){var G="function"==typeof Symbol&&Symbol.iterator,ee=G&&te[G],X=0;if(ee)return ee.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&X>=te.length&&(te=void 0),{value:te&&te[X++],done:!te}}};throw new TypeError(G?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),ee={},X("next"),X("throw"),X("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function X(le){ee[le]=te[le]&&function(Oe){return new Promise(function(We,tt){!function(le,Oe,We,tt){Promise.resolve(tt).then(function(Pe){le({value:Pe,done:We})},Oe)}(We,tt,(Oe=te[le](Oe)).done,Oe.value)})}}}l.d(z,{mG:()=>B,qq:()=>v,FC:()=>d,KL:()=>m})},2480:()=>{},4703:()=>{},7029:he=>{var z=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],l="undefined"==typeof globalThis?global:globalThis;he.exports=function(){for(var u=[],C=0;C<z.length;C++)"function"==typeof l[z[C]]&&(u[u.length]=z[C]);return u}},8555:(he,z,l)=>{var u=l(5203)("%Object.getOwnPropertyDescriptor%",!0);if(u)try{u([],"length")}catch{u=null}he.exports=u},7340:(he,z,l)=>{l.d(z,{l3:()=>C,_j:()=>i,LC:()=>u,ZN:()=>d,jt:()=>j,oQ:()=>M,F4:()=>w,vP:()=>U,SB:()=>S,oB:()=>B,eR:()=>E,X$:()=>L,_7:()=>k,ZE:()=>a,k1:()=>m});class i{}class u{}const C="*";function L(h,W){return{type:7,name:h,definitions:W,options:{}}}function j(h,W=null){return{type:4,styles:W,timings:h}}function U(h,W=null){return{type:2,steps:h,options:W}}function B(h){return{type:6,styles:h,offset:null}}function S(h,W,ae){return{type:0,name:h,styles:W,options:ae}}function w(h){return{type:5,steps:h}}function E(h,W,ae=null){return{type:1,expr:h,animation:W,options:ae}}function M(h,W=null){return{type:8,animation:h,options:W}}function k(h,W=null){return{type:10,animation:h,options:W}}function v(h){Promise.resolve(null).then(h)}class d{constructor(W=0,ae=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=W+ae}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(W=>W()),this._onDoneFns=[])}onStart(W){this._onStartFns.push(W)}onDone(W){this._onDoneFns.push(W)}onDestroy(W){this._onDestroyFns.push(W)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){v(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(W=>W()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(W=>W()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(W){this._position=this.totalTime?W*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(W){const ae="start"==W?this._onStartFns:this._onDoneFns;ae.forEach(we=>we()),ae.length=0}}class a{constructor(W){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=W;let ae=0,we=0,Ee=0;const ce=this.players.length;0==ce?v(()=>this._onFinish()):this.players.forEach(te=>{te.onDone(()=>{++ae==ce&&this._onFinish()}),te.onDestroy(()=>{++we==ce&&this._onDestroy()}),te.onStart(()=>{++Ee==ce&&this._onStart()})}),this.totalTime=this.players.reduce((te,G)=>Math.max(te,G.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(W=>W()),this._onDoneFns=[])}init(){this.players.forEach(W=>W.init())}onStart(W){this._onStartFns.push(W)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(W=>W()),this._onStartFns=[])}onDone(W){this._onDoneFns.push(W)}onDestroy(W){this._onDestroyFns.push(W)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(W=>W.play())}pause(){this.players.forEach(W=>W.pause())}restart(){this.players.forEach(W=>W.restart())}finish(){this._onFinish(),this.players.forEach(W=>W.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(W=>W.destroy()),this._onDestroyFns.forEach(W=>W()),this._onDestroyFns=[])}reset(){this.players.forEach(W=>W.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(W){const ae=W*this.totalTime;this.players.forEach(we=>{const Ee=we.totalTime?Math.min(1,ae/we.totalTime):1;we.setPosition(Ee)})}getPosition(){const W=this.players.reduce((ae,we)=>null===ae||we.totalTime>ae.totalTime?we:ae,null);return null!=W?W.getPosition():0}beforeDestroy(){this.players.forEach(W=>{W.beforeDestroy&&W.beforeDestroy()})}triggerCallback(W){const ae="start"==W?this._onStartFns:this._onDoneFns;ae.forEach(we=>we()),ae.length=0}}const m="!"},1281:(he,z,l)=>{l.d(z,{Eq:()=>j,Ig:()=>u,fI:()=>U,su:()=>C});var i=l(7777);function u(S){return null!=S&&"false"!=`${S}`}function C(S,w=0){return function(S){return!isNaN(parseFloat(S))&&!isNaN(Number(S))}(S)?Number(S):w}function j(S){return Array.isArray(S)?S:[S]}function U(S){return S instanceof i.ElementRef?S.nativeElement:S}},1236:(he,z,l)=>{l.d(z,{Zt:()=>zn,Hk:()=>ds,Wj:()=>yr,_t:()=>Ws});var i=l(7777),u=l(1457),C=l(1281),L=l(7579),j=l(9646),F=l(8306),U=l(4968),B=l(6406),w=(l(3101),l(3601)),E=l(9300),M=l(3353);let m=(()=>{class oe{constructor(y,H,J){this._ngZone=y,this._platform=H,this._scrolled=new L.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=J}register(y){this.scrollContainers.has(y)||this.scrollContainers.set(y,y.elementScrolled().subscribe(()=>this._scrolled.next(y)))}deregister(y){const H=this.scrollContainers.get(y);H&&(H.unsubscribe(),this.scrollContainers.delete(y))}scrolled(y=20){return this._platform.isBrowser?new F.y(H=>{this._globalSubscription||this._addGlobalListener();const J=y>0?this._scrolled.pipe((0,w.e)(y)).subscribe(H):this._scrolled.subscribe(H);return this._scrolledCount++,()=>{J.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,j.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((y,H)=>this.deregister(H)),this._scrolled.complete()}ancestorScrolled(y,H){const J=this.getAncestorScrollContainers(y);return this.scrolled(H).pipe((0,E.h)(me=>!me||J.indexOf(me)>-1))}getAncestorScrollContainers(y){const H=[];return this.scrollContainers.forEach((J,me)=>{this._scrollableContainsElement(me,y)&&H.push(me)}),H}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(y,H){let J=(0,C.fI)(H),me=y.getElementRef().nativeElement;do{if(J==me)return!0}while(J=J.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const y=this._getWindow();return(0,U.R)(y.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return oe.\u0275fac=function(y){return new(y||oe)(i.\u0275\u0275inject(i.NgZone),i.\u0275\u0275inject(M.t4),i.\u0275\u0275inject(u.DOCUMENT,8))},oe.\u0275prov=i.\u0275\u0275defineInjectable({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),ae=(()=>{class oe{constructor(y,H,J){this._platform=y,this._change=new L.x,this._changeListener=me=>{this._change.next(me)},this._document=J,H.runOutsideAngular(()=>{if(y.isBrowser){const me=this._getWindow();me.addEventListener("resize",this._changeListener),me.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const y=this._getWindow();y.removeEventListener("resize",this._changeListener),y.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const y={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),y}getViewportRect(){const y=this.getViewportScrollPosition(),{width:H,height:J}=this.getViewportSize();return{top:y.top,left:y.left,bottom:y.top+J,right:y.left+H,height:J,width:H}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const y=this._document,H=this._getWindow(),J=y.documentElement,me=J.getBoundingClientRect();return{top:-me.top||y.body.scrollTop||H.scrollY||J.scrollTop||0,left:-me.left||y.body.scrollLeft||H.scrollX||J.scrollLeft||0}}change(y=20){return y>0?this._change.pipe((0,w.e)(y)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const y=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:y.innerWidth,height:y.innerHeight}:{width:0,height:0}}}return oe.\u0275fac=function(y){return new(y||oe)(i.\u0275\u0275inject(M.t4),i.\u0275\u0275inject(i.NgZone),i.\u0275\u0275inject(u.DOCUMENT,8))},oe.\u0275prov=i.\u0275\u0275defineInjectable({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})(),ee=(()=>{class oe{}return oe.\u0275fac=function(y){return new(y||oe)},oe.\u0275mod=i.\u0275\u0275defineNgModule({type:oe}),oe.\u0275inj=i.\u0275\u0275defineInjector({}),oe})();var Gn=l(727),Si=l(7445),fo=l(6451),Ls=l(2722),ho=l(8675),vr=l(4004),Bs=l(5698),Vr=l(8505),Bo=l(3900);const No=new i.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,i.inject)(u.DOCUMENT)}}),Cn=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let jo=(()=>{class oe{constructor(y){if(this.value="ltr",this.change=new i.EventEmitter,y){const J=y.documentElement?y.documentElement.dir:null;this.value=function(oe){const R=oe?.toLowerCase()||"";return"auto"===R&&"undefined"!=typeof navigator&&navigator?.language?Cn.test(navigator.language)?"rtl":"ltr":"rtl"===R?"rtl":"ltr"}((y.body?y.body.dir:null)||J||"ltr")}}ngOnDestroy(){this.change.complete()}}return oe.\u0275fac=function(y){return new(y||oe)(i.\u0275\u0275inject(No,8))},oe.\u0275prov=i.\u0275\u0275defineInjectable({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();function js(oe,R,y){for(let H in R)if(R.hasOwnProperty(H)){const J=R[H];J?oe.setProperty(H,J,y?.has(H)?"important":""):oe.removeProperty(H)}return oe}function ht(oe,R){const y=R?"":"none";js(oe.style,{"touch-action":R?"":"none","-webkit-user-drag":R?"":"none","-webkit-tap-highlight-color":R?"":"transparent","user-select":y,"-ms-user-select":y,"-webkit-user-select":y,"-moz-user-select":y})}function po(oe,R,y){js(oe.style,{position:R?"":"fixed",top:R?"":"0",opacity:R?"":"0",left:R?"":"-999em"},y)}function Us(oe,R){return R&&"none"!=R?oe+" "+R:oe}function Uo(oe){const R=oe.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(oe)*R}function mo(oe,R){return oe.getPropertyValue(R).split(",").map(H=>H.trim())}function os(oe){const R=oe.getBoundingClientRect();return{top:R.top,right:R.right,bottom:R.bottom,left:R.left,width:R.width,height:R.height,x:R.x,y:R.y}}function Vs(oe,R,y){const{top:H,bottom:J,left:me,right:Me}=oe;return y>=H&&y<=J&&R>=me&&R<=Me}function Qn(oe,R,y){oe.top+=R,oe.bottom=oe.top+oe.height,oe.left+=y,oe.right=oe.left+oe.width}function Nt(oe,R,y,H){const{top:J,right:me,bottom:Me,left:Ve,width:et,height:ut}=oe,$t=et*R,In=ut*R;return H>J-In&&H<Me+In&&y>Ve-$t&&y<me+$t}class Vo{constructor(R,y){this._document=R,this._viewportRuler=y,this.positions=new Map}clear(){this.positions.clear()}cache(R){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),R.forEach(y=>{this.positions.set(y,{scrollPosition:{top:y.scrollTop,left:y.scrollLeft},clientRect:os(y)})})}handleScroll(R){const y=(0,M.sA)(R),H=this.positions.get(y);if(!H)return null;const J=H.scrollPosition;let me,Me;if(y===this._document){const ut=this._viewportRuler.getViewportScrollPosition();me=ut.top,Me=ut.left}else me=y.scrollTop,Me=y.scrollLeft;const Ve=J.top-me,et=J.left-Me;return this.positions.forEach((ut,$t)=>{ut.clientRect&&y!==$t&&y.contains($t)&&Qn(ut.clientRect,Ve,et)}),J.top=me,J.left=Me,{top:Ve,left:et}}}function $s(oe){const R=oe.cloneNode(!0),y=R.querySelectorAll("[id]"),H=oe.nodeName.toLowerCase();R.removeAttribute("id");for(let J=0;J<y.length;J++)y[J].removeAttribute("id");return"canvas"===H?wi(oe,R):("input"===H||"select"===H||"textarea"===H)&&vo(oe,R),go("canvas",oe,R,wi),go("input, textarea, select",oe,R,vo),R}function go(oe,R,y,H){const J=R.querySelectorAll(oe);if(J.length){const me=y.querySelectorAll(oe);for(let Me=0;Me<J.length;Me++)H(J[Me],me[Me])}}let ri=0;function vo(oe,R){"file"!==R.type&&(R.value=oe.value),"radio"===R.type&&R.name&&(R.name=`mat-clone-${R.name}-${ri++}`)}function wi(oe,R){const y=R.getContext("2d");if(y)try{y.drawImage(oe,0,0)}catch{}}const $o=(0,M.i$)({passive:!0}),Di=(0,M.i$)({passive:!1}),Ai=new Set(["position"]);class Oa{constructor(R,y,H,J,me,Me){this._config=y,this._document=H,this._ngZone=J,this._viewportRuler=me,this._dragDropRegistry=Me,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new L.x,this._pointerMoveSubscription=Gn.w0.EMPTY,this._pointerUpSubscription=Gn.w0.EMPTY,this._scrollSubscription=Gn.w0.EMPTY,this._resizeSubscription=Gn.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new L.x,this.started=new L.x,this.released=new L.x,this.ended=new L.x,this.entered=new L.x,this.exited=new L.x,this.dropped=new L.x,this.moved=this._moveEvents,this._pointerDown=Ve=>{if(this.beforeStarted.next(),this._handles.length){const et=this._handles.find(ut=>Ve.target&&(Ve.target===ut||ut.contains(Ve.target)));et&&!this._disabledHandles.has(et)&&!this.disabled&&this._initializeDragSequence(et,Ve)}else this.disabled||this._initializeDragSequence(this._rootElement,Ve)},this._pointerMove=Ve=>{const et=this._getPointerPositionOnPage(Ve);if(!this._hasStartedDragging){if(Math.abs(et.x-this._pickupPositionOnPage.x)+Math.abs(et.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Gi=Date.now()>=this._dragStartTime+this._getDragStartDelay(Ve),ui=this._dropContainer;if(!Gi)return void this._endDragSequence(Ve);(!ui||!ui.isDragging()&&!ui.isReceiving())&&(Ve.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(Ve)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),Ve.preventDefault();const ut=this._getConstrainedPointerPosition(et);if(this._hasMoved=!0,this._lastKnownPointerPosition=et,this._updatePointerDirectionDelta(ut),this._dropContainer)this._updateActiveDropContainer(ut,et);else{const $t=this._activeTransform;$t.x=ut.x-this._pickupPositionOnPage.x+this._passiveTransform.x,$t.y=ut.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform($t.x,$t.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:ut,event:Ve,distance:this._getDragDistance(ut),delta:this._pointerDirectionDelta})})},this._pointerUp=Ve=>{this._endDragSequence(Ve)},this.withRootElement(R).withParent(y.parentDragRef||null),this._parentPositions=new Vo(H,me),Me.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(R){const y=(0,C.Ig)(R);y!==this._disabled&&(this._disabled=y,this._toggleNativeDragInteractions(),this._handles.forEach(H=>ht(H,y)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(R){this._handles=R.map(H=>(0,C.fI)(H)),this._handles.forEach(H=>ht(H,this.disabled)),this._toggleNativeDragInteractions();const y=new Set;return this._disabledHandles.forEach(H=>{this._handles.indexOf(H)>-1&&y.add(H)}),this._disabledHandles=y,this}withPreviewTemplate(R){return this._previewTemplate=R,this}withPlaceholderTemplate(R){return this._placeholderTemplate=R,this}withRootElement(R){const y=(0,C.fI)(R);return y!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{y.addEventListener("mousedown",this._pointerDown,Di),y.addEventListener("touchstart",this._pointerDown,$o)}),this._initialTransform=void 0,this._rootElement=y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(R){return this._boundaryElement=R?(0,C.fI)(R):null,this._resizeSubscription.unsubscribe(),R&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(R){return this._parentDragRef=R,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(R){!this._disabledHandles.has(R)&&this._handles.indexOf(R)>-1&&(this._disabledHandles.add(R),ht(R,!0))}enableHandle(R){this._disabledHandles.has(R)&&(this._disabledHandles.delete(R),ht(R,this.disabled))}withDirection(R){return this._direction=R,this}_withDropContainer(R){this._dropContainer=R}getFreeDragPosition(){const R=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:R.x,y:R.y}}setFreeDragPosition(R){return this._activeTransform={x:0,y:0},this._passiveTransform.x=R.x,this._passiveTransform.y=R.y,this._dropContainer||this._applyRootElementTransform(R.x,R.y),this}withPreviewContainer(R){return this._previewContainer=R,this}_sortFromLastPointerPosition(){const R=this._lastKnownPointerPosition;R&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(R),R)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(R){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(R),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const y=this._getPointerPositionOnPage(R);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(y),dropPoint:y})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(R){Oi(R)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const y=this._dropContainer;if(y){const H=this._rootElement,J=H.parentNode,me=this._placeholder=this._createPlaceholderElement(),Me=this._anchor=this._anchor||this._document.createComment(""),Ve=this._getShadowRoot();J.insertBefore(Me,H),this._initialTransform=H.style.transform||"",this._preview=this._createPreviewElement(),po(H,!1,Ai),this._document.body.appendChild(J.replaceChild(me,H)),this._getPreviewInsertionPoint(J,Ve).appendChild(this._preview),this.started.next({source:this}),y.start(),this._initialContainer=y,this._initialIndex=y.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(y?y.getScrollableParents():[])}_initializeDragSequence(R,y){this._parentDragRef&&y.stopPropagation();const H=this.isDragging(),J=Oi(y),me=!J&&0!==y.button,Me=this._rootElement,Ve=(0,M.sA)(y),et=!J&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),ut=J?function(oe){const R=oe.touches&&oe.touches[0]||oe.changedTouches&&oe.changedTouches[0];return!(!R||-1!==R.identifier||null!=R.radiusX&&1!==R.radiusX||null!=R.radiusY&&1!==R.radiusY)}(y):0===(oe=y).buttons||0===oe.offsetX&&0===oe.offsetY;var oe;if(Ve&&Ve.draggable&&"mousedown"===y.type&&y.preventDefault(),H||me||et||ut)return;if(this._handles.length){const ir=Me.style;this._rootElementTapHighlight=ir.webkitTapHighlightColor||"",ir.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(ir=>this._updateOnScroll(ir)),this._boundaryElement&&(this._boundaryRect=os(this._boundaryElement));const $t=this._previewTemplate;this._pickupPositionInElement=$t&&$t.template&&!$t.matchSize?{x:0,y:0}:this._getPointerPositionInElement(R,y);const In=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(y);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:In.x,y:In.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,y)}_cleanupDragArtifacts(R){po(this._rootElement,!0,Ai),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const y=this._dropContainer,H=y.getItemIndex(this),J=this._getPointerPositionOnPage(R),me=this._getDragDistance(J),Me=y._isOverContainer(J.x,J.y);this.ended.next({source:this,distance:me,dropPoint:J}),this.dropped.next({item:this,currentIndex:H,previousIndex:this._initialIndex,container:y,previousContainer:this._initialContainer,isPointerOverContainer:Me,distance:me,dropPoint:J}),y.drop(this,H,this._initialIndex,this._initialContainer,Me,me,J),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:R,y},{x:H,y:J}){let me=this._initialContainer._getSiblingContainerFromPosition(this,R,y);!me&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(R,y)&&(me=this._initialContainer),me&&me!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=me,this._dropContainer.enter(this,R,y,me===this._initialContainer&&me.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:me,currentIndex:me.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(H,J),this._dropContainer._sortItem(this,R,y,this._pointerDirectionDelta),this._applyPreviewTransform(R-this._pickupPositionInElement.x,y-this._pickupPositionInElement.y))}_createPreviewElement(){const R=this._previewTemplate,y=this.previewClass,H=R?R.template:null;let J;if(H&&R){const me=R.matchSize?this._rootElement.getBoundingClientRect():null,Me=R.viewContainer.createEmbeddedView(H,R.context);Me.detectChanges(),J=si(Me,this._document),this._previewRef=Me,R.matchSize?$r(J,me):J.style.transform=ii(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const me=this._rootElement;J=$s(me),$r(J,me.getBoundingClientRect()),this._initialTransform&&(J.style.transform=this._initialTransform)}return js(J.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},Ai),ht(J,!1),J.classList.add("cdk-drag-preview"),J.setAttribute("dir",this._direction),y&&(Array.isArray(y)?y.forEach(me=>J.classList.add(me)):J.classList.add(y)),J}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const R=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(R.left,R.top);const y=function(oe){const R=getComputedStyle(oe),y=mo(R,"transition-property"),H=y.find(Ve=>"transform"===Ve||"all"===Ve);if(!H)return 0;const J=y.indexOf(H),me=mo(R,"transition-duration"),Me=mo(R,"transition-delay");return Uo(me[J])+Uo(Me[J])}(this._preview);return 0===y?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(H=>{const J=Me=>{(!Me||(0,M.sA)(Me)===this._preview&&"transform"===Me.propertyName)&&(this._preview?.removeEventListener("transitionend",J),H(),clearTimeout(me))},me=setTimeout(J,1.5*y);this._preview.addEventListener("transitionend",J)}))}_createPlaceholderElement(){const R=this._placeholderTemplate,y=R?R.template:null;let H;return y?(this._placeholderRef=R.viewContainer.createEmbeddedView(y,R.context),this._placeholderRef.detectChanges(),H=si(this._placeholderRef,this._document)):H=$s(this._rootElement),H.classList.add("cdk-drag-placeholder"),H}_getPointerPositionInElement(R,y){const H=this._rootElement.getBoundingClientRect(),J=R===this._rootElement?null:R,me=J?J.getBoundingClientRect():H,Me=Oi(y)?y.targetTouches[0]:y,Ve=this._getViewportScrollPosition();return{x:me.left-H.left+(Me.pageX-me.left-Ve.left),y:me.top-H.top+(Me.pageY-me.top-Ve.top)}}_getPointerPositionOnPage(R){const y=this._getViewportScrollPosition(),H=Oi(R)?R.touches[0]||R.changedTouches[0]||{pageX:0,pageY:0}:R,J=H.pageX-y.left,me=H.pageY-y.top;if(this._ownerSVGElement){const Me=this._ownerSVGElement.getScreenCTM();if(Me){const Ve=this._ownerSVGElement.createSVGPoint();return Ve.x=J,Ve.y=me,Ve.matrixTransform(Me.inverse())}}return{x:J,y:me}}_getConstrainedPointerPosition(R){const y=this._dropContainer?this._dropContainer.lockAxis:null;let{x:H,y:J}=this.constrainPosition?this.constrainPosition(R,this):R;if("x"===this.lockAxis||"x"===y?J=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===y)&&(H=this._pickupPositionOnPage.x),this._boundaryRect){const{x:me,y:Me}=this._pickupPositionInElement,Ve=this._boundaryRect,et=this._previewRect,ut=Ve.top+Me,$t=Ve.bottom-(et.height-Me);H=_r(H,Ve.left+me,Ve.right-(et.width-me)),J=_r(J,ut,$t)}return{x:H,y:J}}_updatePointerDirectionDelta(R){const{x:y,y:H}=R,J=this._pointerDirectionDelta,me=this._pointerPositionAtLastDirectionChange,Me=Math.abs(y-me.x),Ve=Math.abs(H-me.y);return Me>this._config.pointerDirectionChangeThreshold&&(J.x=y>me.x?1:-1,me.x=y),Ve>this._config.pointerDirectionChangeThreshold&&(J.y=H>me.y?1:-1,me.y=H),J}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const R=this._handles.length>0||!this.isDragging();R!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=R,ht(this._rootElement,R))}_removeRootElementListeners(R){R.removeEventListener("mousedown",this._pointerDown,Di),R.removeEventListener("touchstart",this._pointerDown,$o)}_applyRootElementTransform(R,y){const H=ii(R,y),J=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=J.transform&&"none"!=J.transform?J.transform:""),J.transform=Us(H,this._initialTransform)}_applyPreviewTransform(R,y){const H=this._previewTemplate?.template?void 0:this._initialTransform,J=ii(R,y);this._preview.style.transform=Us(J,H)}_getDragDistance(R){const y=this._pickupPositionOnPage;return y?{x:R.x-y.x,y:R.y-y.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:R,y}=this._passiveTransform;if(0===R&&0===y||this.isDragging()||!this._boundaryElement)return;const H=this._boundaryElement.getBoundingClientRect(),J=this._rootElement.getBoundingClientRect();if(0===H.width&&0===H.height||0===J.width&&0===J.height)return;const me=H.left-J.left,Me=J.right-H.right,Ve=H.top-J.top,et=J.bottom-H.bottom;H.width>J.width?(me>0&&(R+=me),Me>0&&(R-=Me)):R=0,H.height>J.height?(Ve>0&&(y+=Ve),et>0&&(y-=et)):y=0,(R!==this._passiveTransform.x||y!==this._passiveTransform.y)&&this.setFreeDragPosition({y,x:R})}_getDragStartDelay(R){const y=this.dragStartDelay;return"number"==typeof y?y:Oi(R)?y.touch:y?y.mouse:0}_updateOnScroll(R){const y=this._parentPositions.handleScroll(R);if(y){const H=(0,M.sA)(R);this._boundaryRect&&H!==this._boundaryElement&&H.contains(this._boundaryElement)&&Qn(this._boundaryRect,y.top,y.left),this._pickupPositionOnPage.x+=y.left,this._pickupPositionOnPage.y+=y.top,this._dropContainer||(this._activeTransform.x-=y.left,this._activeTransform.y-=y.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const R=this._parentPositions.positions.get(this._document);return R?R.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,M.kV)(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(R,y){const H=this._previewContainer||"global";if("parent"===H)return R;if("global"===H){const J=this._document;return y||J.fullscreenElement||J.webkitFullscreenElement||J.mozFullScreenElement||J.msFullscreenElement||J.body}return(0,C.fI)(H)}}function ii(oe,R){return`translate3d(${Math.round(oe)}px, ${Math.round(R)}px, 0)`}function _r(oe,R,y){return Math.max(R,Math.min(y,oe))}function Oi(oe){return"t"===oe.type[0]}function si(oe,R){const y=oe.rootNodes;if(1===y.length&&y[0].nodeType===R.ELEMENT_NODE)return y[0];const H=R.createElement("div");return y.forEach(J=>H.appendChild(J)),H}function $r(oe,R){oe.style.width=`${R.width}px`,oe.style.height=`${R.height}px`,oe.style.transform=ii(R.left,R.top)}function Ki(oe,R){return Math.max(0,Math.min(R,oe))}class ls{constructor(R,y,H,J,me){this._dragDropRegistry=y,this._ngZone=J,this._viewportRuler=me,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new L.x,this.entered=new L.x,this.exited=new L.x,this.dropped=new L.x,this.sorted=new L.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Gn.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new L.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),(0,Si.F)(0,B.Z).pipe((0,Ls.R)(this._stopScrollTimers)).subscribe(()=>{const Me=this._scrollNode,Ve=this.autoScrollStep;1===this._verticalScrollDirection?Me.scrollBy(0,-Ve):2===this._verticalScrollDirection&&Me.scrollBy(0,Ve),1===this._horizontalScrollDirection?Me.scrollBy(-Ve,0):2===this._horizontalScrollDirection&&Me.scrollBy(Ve,0)})},this.element=(0,C.fI)(R),this._document=H,this.withScrollableParents([this.element]),y.registerDropContainer(this),this._parentPositions=new Vo(H,me)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(R,y,H,J){let me;this._draggingStarted(),null==J?(me=this.sortingDisabled?this._draggables.indexOf(R):-1,-1===me&&(me=this._getItemIndexFromPointerPosition(R,y,H))):me=J;const Me=this._activeDraggables,Ve=Me.indexOf(R),et=R.getPlaceholderElement();let ut=Me[me];if(ut===R&&(ut=Me[me+1]),!ut&&(null==me||-1===me||me<Me.length-1)&&this._shouldEnterAsFirstChild(y,H)&&(ut=Me[0]),Ve>-1&&Me.splice(Ve,1),ut&&!this._dragDropRegistry.isDragging(ut)){const $t=ut.getRootElement();$t.parentElement.insertBefore(et,$t),Me.splice(me,0,R)}else(0,C.fI)(this.element).appendChild(et),Me.push(R);et.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:R,container:this,currentIndex:this.getItemIndex(R)})}exit(R){this._reset(),this.exited.next({item:R,container:this})}drop(R,y,H,J,me,Me,Ve){this._reset(),this.dropped.next({item:R,currentIndex:y,previousIndex:H,container:this,previousContainer:J,isPointerOverContainer:me,distance:Me,dropPoint:Ve})}withItems(R){const y=this._draggables;return this._draggables=R,R.forEach(H=>H._withDropContainer(this)),this.isDragging()&&(y.filter(J=>J.isDragging()).every(J=>-1===R.indexOf(J))?this._reset():this._cacheItems()),this}withDirection(R){return this._direction=R,this}connectedTo(R){return this._siblings=R.slice(),this}withOrientation(R){return this._orientation=R,this}withScrollableParents(R){const y=(0,C.fI)(this.element);return this._scrollableElements=-1===R.indexOf(y)?[y,...R]:R.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(R){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(H=>H.drag===R):this._draggables.indexOf(R)}isReceiving(){return this._activeSiblings.size>0}_sortItem(R,y,H,J){if(this.sortingDisabled||!this._clientRect||!Nt(this._clientRect,.05,y,H))return;const me=this._itemPositions,Me=this._getItemIndexFromPointerPosition(R,y,H,J);if(-1===Me&&me.length>0)return;const Ve="horizontal"===this._orientation,et=me.findIndex(Ln=>Ln.drag===R),ut=me[Me],In=ut.clientRect,ir=et>Me?1:-1,Gi=this._getItemOffsetPx(me[et].clientRect,In,ir),ui=this._getSiblingOffsetPx(et,me,ir),hr=me.slice();(function(oe,R,y){const H=Ki(R,oe.length-1),J=Ki(y,oe.length-1);if(H===J)return;const me=oe[H],Me=J<H?-1:1;for(let Ve=H;Ve!==J;Ve+=Me)oe[Ve]=oe[Ve+Me];oe[J]=me})(me,et,Me),this.sorted.next({previousIndex:et,currentIndex:Me,container:this,item:R}),me.forEach((Ln,Jo)=>{if(hr[Jo]===Ln)return;const Eo=Ln.drag===R,fs=Eo?Gi:ui,So=Eo?R.getPlaceholderElement():Ln.drag.getRootElement();Ln.offset+=fs,Ve?(So.style.transform=Us(`translate3d(${Math.round(Ln.offset)}px, 0, 0)`,Ln.initialTransform),Qn(Ln.clientRect,0,fs)):(So.style.transform=Us(`translate3d(0, ${Math.round(Ln.offset)}px, 0)`,Ln.initialTransform),Qn(Ln.clientRect,fs,0))}),this._previousSwap.overlaps=Vs(In,y,H),this._previousSwap.drag=ut.drag,this._previousSwap.delta=Ve?J.x:J.y}_startScrollingIfNecessary(R,y){if(this.autoScrollDisabled)return;let H,J=0,me=0;if(this._parentPositions.positions.forEach((Me,Ve)=>{Ve===this._document||!Me.clientRect||H||Nt(Me.clientRect,.05,R,y)&&([J,me]=function(oe,R,y,H){const J=kn(R,H),me=Wo(R,y);let Me=0,Ve=0;if(J){const et=oe.scrollTop;1===J?et>0&&(Me=1):oe.scrollHeight-et>oe.clientHeight&&(Me=2)}if(me){const et=oe.scrollLeft;1===me?et>0&&(Ve=1):oe.scrollWidth-et>oe.clientWidth&&(Ve=2)}return[Me,Ve]}(Ve,Me.clientRect,R,y),(J||me)&&(H=Ve))}),!J&&!me){const{width:Me,height:Ve}=this._viewportRuler.getViewportSize(),et={width:Me,height:Ve,top:0,right:Me,bottom:Ve,left:0};J=kn(et,y),me=Wo(et,R),H=window}H&&(J!==this._verticalScrollDirection||me!==this._horizontalScrollDirection||H!==this._scrollNode)&&(this._verticalScrollDirection=J,this._horizontalScrollDirection=me,this._scrollNode=H,(J||me)&&H?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const R=(0,C.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=R.msScrollSnapType||R.scrollSnapType||"",R.scrollSnapType=R.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const R=(0,C.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(R).clientRect}_cacheItemPositions(){const R="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(y=>{const H=y.getVisibleElement();return{drag:y,offset:0,initialTransform:H.style.transform||"",clientRect:os(H)}}).sort((y,H)=>R?y.clientRect.left-H.clientRect.left:y.clientRect.top-H.clientRect.top)}_reset(){this._isDragging=!1;const R=(0,C.fI)(this.element).style;R.scrollSnapType=R.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(y=>{const H=y.getRootElement();if(H){const J=this._itemPositions.find(me=>me.drag===y)?.initialTransform;H.style.transform=J||""}}),this._siblings.forEach(y=>y._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(R,y,H){const J="horizontal"===this._orientation,me=y[R].clientRect,Me=y[R+-1*H];let Ve=me[J?"width":"height"]*H;if(Me){const et=J?"left":"top",ut=J?"right":"bottom";-1===H?Ve-=Me.clientRect[et]-me[ut]:Ve+=me[et]-Me.clientRect[ut]}return Ve}_getItemOffsetPx(R,y,H){const J="horizontal"===this._orientation;let me=J?y.left-R.left:y.top-R.top;return-1===H&&(me+=J?y.width-R.width:y.height-R.height),me}_shouldEnterAsFirstChild(R,y){if(!this._activeDraggables.length)return!1;const H=this._itemPositions,J="horizontal"===this._orientation;if(H[0].drag!==this._activeDraggables[0]){const Me=H[H.length-1].clientRect;return J?R>=Me.right:y>=Me.bottom}{const Me=H[0].clientRect;return J?R<=Me.left:y<=Me.top}}_getItemIndexFromPointerPosition(R,y,H,J){const me="horizontal"===this._orientation,Me=this._itemPositions.findIndex(({drag:Ve,clientRect:et})=>{if(Ve===R)return!1;if(J){const ut=me?J.x:J.y;if(Ve===this._previousSwap.drag&&this._previousSwap.overlaps&&ut===this._previousSwap.delta)return!1}return me?y>=Math.floor(et.left)&&y<Math.floor(et.right):H>=Math.floor(et.top)&&H<Math.floor(et.bottom)});return-1!==Me&&this.sortPredicate(Me,R,this)?Me:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(R,y){return null!=this._clientRect&&Vs(this._clientRect,R,y)}_getSiblingContainerFromPosition(R,y,H){return this._siblings.find(J=>J._canReceive(R,y,H))}_canReceive(R,y,H){if(!this._clientRect||!Vs(this._clientRect,y,H)||!this.enterPredicate(R,this))return!1;const J=this._getShadowRoot().elementFromPoint(y,H);if(!J)return!1;const me=(0,C.fI)(this.element);return J===me||me.contains(J)}_startReceiving(R,y){const H=this._activeSiblings;!H.has(R)&&y.every(J=>this.enterPredicate(J,this)||this._draggables.indexOf(J)>-1)&&(H.add(R),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(R){this._activeSiblings.delete(R),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(R=>{if(this.isDragging()){const y=this._parentPositions.handleScroll(R);y&&(this._itemPositions.forEach(({clientRect:H})=>{Qn(H,y.top,y.left)}),this._itemPositions.forEach(({drag:H})=>{this._dragDropRegistry.isDragging(H)&&H._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const R=(0,M.kV)((0,C.fI)(this.element));this._cachedShadowRoot=R||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const R=this._activeDraggables.filter(y=>y.isDragging());this._siblings.forEach(y=>y._startReceiving(this,R))}}function kn(oe,R){const{top:y,bottom:H,height:J}=oe,me=.05*J;return R>=y-me&&R<=y+me?1:R>=H-me&&R<=H+me?2:0}function Wo(oe,R){const{left:y,right:H,width:J}=oe,me=.05*J;return R>=y-me&&R<=y+me?1:R>=H-me&&R<=H+me?2:0}const cs=(0,M.i$)({passive:!1,capture:!0});let Ko=(()=>{class oe{constructor(y,H){this._ngZone=y,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=J=>J.isDragging(),this.pointerMove=new L.x,this.pointerUp=new L.x,this.scroll=new L.x,this._preventDefaultWhileDragging=J=>{this._activeDragInstances.length>0&&J.preventDefault()},this._persistentTouchmoveListener=J=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&J.preventDefault(),this.pointerMove.next(J))},this._document=H}registerDropContainer(y){this._dropInstances.has(y)||this._dropInstances.add(y)}registerDragItem(y){this._dragInstances.add(y),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,cs)})}removeDropContainer(y){this._dropInstances.delete(y)}removeDragItem(y){this._dragInstances.delete(y),this.stopDragging(y),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,cs)}startDragging(y,H){if(!(this._activeDragInstances.indexOf(y)>-1)&&(this._activeDragInstances.push(y),1===this._activeDragInstances.length)){const J=H.type.startsWith("touch");this._globalListeners.set(J?"touchend":"mouseup",{handler:me=>this.pointerUp.next(me),options:!0}).set("scroll",{handler:me=>this.scroll.next(me),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:cs}),J||this._globalListeners.set("mousemove",{handler:me=>this.pointerMove.next(me),options:cs}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((me,Me)=>{this._document.addEventListener(Me,me.handler,me.options)})})}}stopDragging(y){const H=this._activeDragInstances.indexOf(y);H>-1&&(this._activeDragInstances.splice(H,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(y){return this._activeDragInstances.indexOf(y)>-1}scrolled(y){const H=[this.scroll];return y&&y!==this._document&&H.push(new F.y(J=>this._ngZone.runOutsideAngular(()=>{const Me=Ve=>{this._activeDragInstances.length&&J.next(Ve)};return y.addEventListener("scroll",Me,!0),()=>{y.removeEventListener("scroll",Me,!0)}}))),(0,fo.T)(...H)}ngOnDestroy(){this._dragInstances.forEach(y=>this.removeDragItem(y)),this._dropInstances.forEach(y=>this.removeDropContainer(y)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((y,H)=>{this._document.removeEventListener(H,y.handler,y.options)}),this._globalListeners.clear()}}return oe.\u0275fac=function(y){return new(y||oe)(i.\u0275\u0275inject(i.NgZone),i.\u0275\u0275inject(u.DOCUMENT))},oe.\u0275prov=i.\u0275\u0275defineInjectable({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();const Ke={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let Qt=(()=>{class oe{constructor(y,H,J,me){this._document=y,this._ngZone=H,this._viewportRuler=J,this._dragDropRegistry=me}createDrag(y,H=Ke){return new Oa(y,H,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(y){return new ls(y,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return oe.\u0275fac=function(y){return new(y||oe)(i.\u0275\u0275inject(u.DOCUMENT),i.\u0275\u0275inject(i.NgZone),i.\u0275\u0275inject(ae),i.\u0275\u0275inject(Ko))},oe.\u0275prov=i.\u0275\u0275defineInjectable({token:oe,factory:oe.\u0275fac,providedIn:"root"}),oe})();const yo=new i.InjectionToken("CDK_DRAG_PARENT"),Pi=new i.InjectionToken("CdkDropListGroup"),Zn=new i.InjectionToken("CDK_DRAG_CONFIG");let oi=0;const Go=new i.InjectionToken("CdkDropList");let yr=(()=>{class oe{constructor(y,H,J,me,Me,Ve,et){this.element=y,this._changeDetectorRef=J,this._scrollDispatcher=me,this._dir=Me,this._group=Ve,this._destroyed=new L.x,this.connectedTo=[],this.id="cdk-drop-list-"+oi++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new i.EventEmitter,this.entered=new i.EventEmitter,this.exited=new i.EventEmitter,this.sorted=new i.EventEmitter,this._unsortedItems=new Set,this._dropListRef=H.createDropList(y),this._dropListRef.data=this,et&&this._assignDefaults(et),this._dropListRef.enterPredicate=(ut,$t)=>this.enterPredicate(ut.data,$t.data),this._dropListRef.sortPredicate=(ut,$t,In)=>this.sortPredicate(ut,$t.data,In.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),oe._dropLists.push(this),Ve&&Ve._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(y){this._dropListRef.disabled=this._disabled=(0,C.Ig)(y)}addItem(y){this._unsortedItems.add(y),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(y){this._unsortedItems.delete(y),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((y,H)=>y._dragRef.getVisibleElement().compareDocumentPosition(H._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const y=oe._dropLists.indexOf(this);y>-1&&oe._dropLists.splice(y,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(y){this._dir&&this._dir.change.pipe((0,ho.O)(this._dir.value),(0,Ls.R)(this._destroyed)).subscribe(H=>y.withDirection(H)),y.beforeStarted.subscribe(()=>{const H=(0,C.Eq)(this.connectedTo).map(J=>"string"==typeof J?oe._dropLists.find(Me=>Me.id===J):J);if(this._group&&this._group._items.forEach(J=>{-1===H.indexOf(J)&&H.push(J)}),!this._scrollableParentsResolved){const J=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(me=>me.getElementRef().nativeElement);this._dropListRef.withScrollableParents(J),this._scrollableParentsResolved=!0}y.disabled=this.disabled,y.lockAxis=this.lockAxis,y.sortingDisabled=(0,C.Ig)(this.sortingDisabled),y.autoScrollDisabled=(0,C.Ig)(this.autoScrollDisabled),y.autoScrollStep=(0,C.su)(this.autoScrollStep,2),y.connectedTo(H.filter(J=>J&&J!==this).map(J=>J._dropListRef)).withOrientation(this.orientation)})}_handleEvents(y){y.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),y.entered.subscribe(H=>{this.entered.emit({container:this,item:H.item.data,currentIndex:H.currentIndex})}),y.exited.subscribe(H=>{this.exited.emit({container:this,item:H.item.data}),this._changeDetectorRef.markForCheck()}),y.sorted.subscribe(H=>{this.sorted.emit({previousIndex:H.previousIndex,currentIndex:H.currentIndex,container:this,item:H.item.data})}),y.dropped.subscribe(H=>{this.dropped.emit({previousIndex:H.previousIndex,currentIndex:H.currentIndex,previousContainer:H.previousContainer.data,container:H.container.data,item:H.item.data,isPointerOverContainer:H.isPointerOverContainer,distance:H.distance,dropPoint:H.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(y){const{lockAxis:H,draggingDisabled:J,sortingDisabled:me,listAutoScrollDisabled:Me,listOrientation:Ve}=y;this.disabled=J??!1,this.sortingDisabled=me??!1,this.autoScrollDisabled=Me??!1,this.orientation=Ve||"vertical",H&&(this.lockAxis=H)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(y=>y._dragRef))}}return oe._dropLists=[],oe.\u0275fac=function(y){return new(y||oe)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(Qt),i.\u0275\u0275directiveInject(i.ChangeDetectorRef),i.\u0275\u0275directiveInject(m),i.\u0275\u0275directiveInject(jo,8),i.\u0275\u0275directiveInject(Pi,12),i.\u0275\u0275directiveInject(Zn,8))},oe.\u0275dir=i.\u0275\u0275defineDirective({type:oe,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(y,H){2&y&&(i.\u0275\u0275attribute("id",H.id),i.\u0275\u0275classProp("cdk-drop-list-disabled",H.disabled)("cdk-drop-list-dragging",H._dropListRef.isDragging())("cdk-drop-list-receiving",H._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[i.\u0275\u0275ProvidersFeature([{provide:Pi,useValue:void 0},{provide:Go,useExisting:oe}])]}),oe})();const Qo=new i.InjectionToken("CdkDragHandle"),zs=new i.InjectionToken("CdkDragPlaceholder");let ds=(()=>{class oe{constructor(y){this.templateRef=y}}return oe.\u0275fac=function(y){return new(y||oe)(i.\u0275\u0275directiveInject(i.TemplateRef))},oe.\u0275dir=i.\u0275\u0275defineDirective({type:oe,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[i.\u0275\u0275ProvidersFeature([{provide:zs,useExisting:oe}])]}),oe})();const Zo=new i.InjectionToken("CdkDragPreview");let zn=(()=>{class oe{constructor(y,H,J,me,Me,Ve,et,ut,$t,In,ir){this.element=y,this.dropContainer=H,this._ngZone=me,this._viewContainerRef=Me,this._dir=et,this._changeDetectorRef=$t,this._selfHandle=In,this._parentDrag=ir,this._destroyed=new L.x,this.started=new i.EventEmitter,this.released=new i.EventEmitter,this.ended=new i.EventEmitter,this.entered=new i.EventEmitter,this.exited=new i.EventEmitter,this.dropped=new i.EventEmitter,this.moved=new F.y(Gi=>{const ui=this._dragRef.moved.pipe((0,vr.U)(hr=>({source:this,pointerPosition:hr.pointerPosition,event:hr.event,delta:hr.delta,distance:hr.distance}))).subscribe(Gi);return()=>{ui.unsubscribe()}}),this._dragRef=ut.createDrag(y,{dragStartThreshold:Ve&&null!=Ve.dragStartThreshold?Ve.dragStartThreshold:5,pointerDirectionChangeThreshold:Ve&&null!=Ve.pointerDirectionChangeThreshold?Ve.pointerDirectionChangeThreshold:5,zIndex:Ve?.zIndex}),this._dragRef.data=this,oe._dragInstances.push(this),Ve&&this._assignDefaults(Ve),H&&(this._dragRef._withDropContainer(H._dropListRef),H.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(y){this._disabled=(0,C.Ig)(y),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Bs.q)(1),(0,Ls.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(y){const H=y.rootElementSelector,J=y.freeDragPosition;H&&!H.firstChange&&this._updateRootElement(),J&&!J.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const y=oe._dragInstances.indexOf(this);y>-1&&oe._dragInstances.splice(y,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const y=this.element.nativeElement;let H=y;this.rootElementSelector&&(H=void 0!==y.closest?y.closest(this.rootElementSelector):y.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(H||y)}_getBoundaryElement(){const y=this.boundaryElement;return y?"string"==typeof y?this.element.nativeElement.closest(y):(0,C.fI)(y):null}_syncInputs(y){y.beforeStarted.subscribe(()=>{if(!y.isDragging()){const H=this._dir,J=this.dragStartDelay,me=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,Me=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;y.disabled=this.disabled,y.lockAxis=this.lockAxis,y.dragStartDelay="object"==typeof J&&J?J:(0,C.su)(J),y.constrainPosition=this.constrainPosition,y.previewClass=this.previewClass,y.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(me).withPreviewTemplate(Me).withPreviewContainer(this.previewContainer||"global"),H&&y.withDirection(H.value)}}),y.beforeStarted.pipe((0,Bs.q)(1)).subscribe(()=>{if(this._parentDrag)return void y.withParent(this._parentDrag._dragRef);let H=this.element.nativeElement.parentElement;for(;H;){if(H.classList.contains("cdk-drag")){y.withParent(oe._dragInstances.find(J=>J.element.nativeElement===H)?._dragRef||null);break}H=H.parentElement}})}_handleEvents(y){y.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),y.released.subscribe(()=>{this.released.emit({source:this})}),y.ended.subscribe(H=>{this.ended.emit({source:this,distance:H.distance,dropPoint:H.dropPoint}),this._changeDetectorRef.markForCheck()}),y.entered.subscribe(H=>{this.entered.emit({container:H.container.data,item:this,currentIndex:H.currentIndex})}),y.exited.subscribe(H=>{this.exited.emit({container:H.container.data,item:this})}),y.dropped.subscribe(H=>{this.dropped.emit({previousIndex:H.previousIndex,currentIndex:H.currentIndex,previousContainer:H.previousContainer.data,container:H.container.data,isPointerOverContainer:H.isPointerOverContainer,item:this,distance:H.distance,dropPoint:H.dropPoint})})}_assignDefaults(y){const{lockAxis:H,dragStartDelay:J,constrainPosition:me,previewClass:Me,boundaryElement:Ve,draggingDisabled:et,rootElementSelector:ut,previewContainer:$t}=y;this.disabled=et??!1,this.dragStartDelay=J||0,H&&(this.lockAxis=H),me&&(this.constrainPosition=me),Me&&(this.previewClass=Me),Ve&&(this.boundaryElement=Ve),ut&&(this.rootElementSelector=ut),$t&&(this.previewContainer=$t)}_setupHandlesListener(){this._handles.changes.pipe((0,ho.O)(this._handles),(0,Vr.b)(y=>{const H=y.filter(J=>J._parentDrag===this).map(J=>J.element);this._selfHandle&&this.rootElementSelector&&H.push(this.element),this._dragRef.withHandles(H)}),(0,Bo.w)(y=>(0,fo.T)(...y.map(H=>H._stateChanges.pipe((0,ho.O)(H))))),(0,Ls.R)(this._destroyed)).subscribe(y=>{const H=this._dragRef,J=y.element.nativeElement;y.disabled?H.disableHandle(J):H.enableHandle(J)})}}return oe._dragInstances=[],oe.\u0275fac=function(y){return new(y||oe)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(Go,12),i.\u0275\u0275directiveInject(u.DOCUMENT),i.\u0275\u0275directiveInject(i.NgZone),i.\u0275\u0275directiveInject(i.ViewContainerRef),i.\u0275\u0275directiveInject(Zn,8),i.\u0275\u0275directiveInject(jo,8),i.\u0275\u0275directiveInject(Qt),i.\u0275\u0275directiveInject(i.ChangeDetectorRef),i.\u0275\u0275directiveInject(Qo,10),i.\u0275\u0275directiveInject(yo,12))},oe.\u0275dir=i.\u0275\u0275defineDirective({type:oe,selectors:[["","cdkDrag",""]],contentQueries:function(y,H,J){if(1&y&&(i.\u0275\u0275contentQuery(J,Zo,5),i.\u0275\u0275contentQuery(J,zs,5),i.\u0275\u0275contentQuery(J,Qo,5)),2&y){let me;i.\u0275\u0275queryRefresh(me=i.\u0275\u0275loadQuery())&&(H._previewTemplate=me.first),i.\u0275\u0275queryRefresh(me=i.\u0275\u0275loadQuery())&&(H._placeholderTemplate=me.first),i.\u0275\u0275queryRefresh(me=i.\u0275\u0275loadQuery())&&(H._handles=me)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(y,H){2&y&&i.\u0275\u0275classProp("cdk-drag-disabled",H.disabled)("cdk-drag-dragging",H._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[i.\u0275\u0275ProvidersFeature([{provide:yo,useExisting:oe}]),i.\u0275\u0275NgOnChangesFeature]}),oe})(),Ws=(()=>{class oe{}return oe.\u0275fac=function(y){return new(y||oe)},oe.\u0275mod=i.\u0275\u0275defineNgModule({type:oe}),oe.\u0275inj=i.\u0275\u0275defineInjector({providers:[Qt],imports:[ee]}),oe})()},3353:(he,z,l)=>{l.d(z,{t4:()=>L,sA:()=>m,kV:()=>d,i$:()=>E});var i=l(7777),u=l(1457);let C;try{C="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch{C=!1}let S,b,L=(()=>{class W{constructor(we){this._platformId=we,this.isBrowser=this._platformId?(0,u.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!C)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return W.\u0275fac=function(we){return new(we||W)(i.\u0275\u0275inject(i.PLATFORM_ID))},W.\u0275prov=i.\u0275\u0275defineInjectable({token:W,factory:W.\u0275fac,providedIn:"root"}),W})();function E(W){return function(){if(null==S&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>S=!0}))}finally{S=S||!1}return S}()?W:!!W.capture}function d(W){if(function(){if(null==b){const W="undefined"!=typeof document?document.head:null;b=!(!W||!W.createShadowRoot&&!W.attachShadow)}return b}()){const ae=W.getRootNode?W.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&ae instanceof ShadowRoot)return ae}return null}function m(W){return W.composedPath?W.composedPath()[0]:W.target}},4006:(he,z,l)=>{l.d(z,{Fj:()=>k,CE:()=>vi,qu:()=>zi,NI:()=>en,u:()=>_i,cw:()=>sn,sg:()=>ki,x0:()=>gi,u5:()=>Ui,Fd:()=>Xr,qQ:()=>qr,JU:()=>B,JJ:()=>qt,JL:()=>Un,YN:()=>Ts,wV:()=>Ss,UX:()=>Vi,EJ:()=>Li,kI:()=>m,_Y:()=>Mi,Kr:()=>rs});var i=l(7777),u=l(1457),C=l(2076),L=l(4128),j=l(4004);let F=(()=>{class V{constructor(D,q){this._renderer=D,this._elementRef=q,this.onChange=je=>{},this.onTouched=()=>{}}setProperty(D,q){this._renderer.setProperty(this._elementRef.nativeElement,D,q)}registerOnTouched(D){this.onTouched=D}registerOnChange(D){this.onChange=D}setDisabledState(D){this.setProperty("disabled",D)}}return V.\u0275fac=function(D){return new(D||V)(i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275directiveInject(i.ElementRef))},V.\u0275dir=i.\u0275\u0275defineDirective({type:V}),V})(),U=(()=>{class V extends F{}return V.\u0275fac=function(){let x;return function(q){return(x||(x=i.\u0275\u0275getInheritedFactory(V)))(q||V)}}(),V.\u0275dir=i.\u0275\u0275defineDirective({type:V,features:[i.\u0275\u0275InheritDefinitionFeature]}),V})();const B=new i.InjectionToken("NgValueAccessor"),E={provide:B,useExisting:(0,i.forwardRef)(()=>k),multi:!0},T=new i.InjectionToken("CompositionEventMode");let k=(()=>{class V extends F{constructor(D,q,je){super(D,q),this._compositionMode=je,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const V=(0,u.\u0275getDOM)()?(0,u.\u0275getDOM)().getUserAgent():"";return/android (\d+)/.test(V.toLowerCase())}())}writeValue(D){this.setProperty("value",D??"")}_handleInput(D){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(D)}_compositionStart(){this._composing=!0}_compositionEnd(D){this._composing=!1,this._compositionMode&&this.onChange(D)}}return V.\u0275fac=function(D){return new(D||V)(i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(T,8))},V.\u0275dir=i.\u0275\u0275defineDirective({type:V,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(D,q){1&D&&i.\u0275\u0275listener("input",function(ct){return q._handleInput(ct.target.value)})("blur",function(){return q.onTouched()})("compositionstart",function(){return q._compositionStart()})("compositionend",function(ct){return q._compositionEnd(ct.target.value)})},features:[i.\u0275\u0275ProvidersFeature([E]),i.\u0275\u0275InheritDefinitionFeature]}),V})();function I(V){return null==V||0===V.length}function b(V){return null!=V&&"number"==typeof V.length}const v=new i.InjectionToken("NgValidators"),d=new i.InjectionToken("NgAsyncValidators"),a=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class m{static min(x){return h(x)}static max(x){return W(x)}static required(x){return I(x.value)?{required:!0}:null}static requiredTrue(x){return!0===x.value?null:{required:!0}}static email(x){return I((V=x).value)||a.test(V.value)?null:{email:!0};var V}static minLength(x){return V=x,x=>I(x.value)||!b(x.value)?null:x.value.length<V?{minlength:{requiredLength:V,actualLength:x.value.length}}:null;var V}static maxLength(x){return V=x,x=>b(x.value)&&x.value.length>V?{maxlength:{requiredLength:V,actualLength:x.value.length}}:null;var V}static pattern(x){return function(V){if(!V)return ee;let x,D;return"string"==typeof V?(D="","^"!==V.charAt(0)&&(D+="^"),D+=V,"$"!==V.charAt(V.length-1)&&(D+="$"),x=new RegExp(D)):(D=V.toString(),x=V),q=>{if(I(q.value))return null;const je=q.value;return x.test(je)?null:{pattern:{requiredPattern:D,actualValue:je}}}}(x)}static nullValidator(x){return null}static compose(x){return Pe(x)}static composeAsync(x){return pe(x)}}function h(V){return x=>{if(I(x.value)||I(V))return null;const D=parseFloat(x.value);return!isNaN(D)&&D<V?{min:{min:V,actual:x.value}}:null}}function W(V){return x=>{if(I(x.value)||I(V))return null;const D=parseFloat(x.value);return!isNaN(D)&&D>V?{max:{max:V,actual:x.value}}:null}}function ee(V){return null}function X(V){return null!=V}function re(V){const x=(0,i.\u0275isPromise)(V)?(0,C.D)(V):V;return(0,i.\u0275isObservable)(x),x}function le(V){let x={};return V.forEach(D=>{x=null!=D?{...x,...D}:x}),0===Object.keys(x).length?null:x}function Oe(V,x){return x.map(D=>D(V))}function tt(V){return V.map(x=>function(V){return!V.validate}(x)?x:D=>x.validate(D))}function Pe(V){if(!V)return null;const x=V.filter(X);return 0==x.length?null:function(D){return le(Oe(D,x))}}function De(V){return null!=V?Pe(tt(V)):null}function pe(V){if(!V)return null;const x=V.filter(X);return 0==x.length?null:function(D){const q=Oe(D,x).map(re);return(0,L.D)(q).pipe((0,j.U)(le))}}function ve(V){return null!=V?pe(tt(V)):null}function ke(V,x){return null===V?[x]:Array.isArray(V)?[...V,x]:[V,x]}function Ge(V){return V._rawValidators}function rt(V){return V._rawAsyncValidators}function yt(V){return V?Array.isArray(V)?V:[V]:[]}function at(V,x){return Array.isArray(V)?V.includes(x):V===x}function Et(V,x){const D=yt(x);return yt(V).forEach(je=>{at(D,je)||D.push(je)}),D}function Mt(V,x){return yt(x).filter(D=>!at(V,D))}class Bt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(x){this._rawValidators=x||[],this._composedValidatorFn=De(this._rawValidators)}_setAsyncValidators(x){this._rawAsyncValidators=x||[],this._composedAsyncValidatorFn=ve(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(x){this._onDestroyCallbacks.push(x)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(x=>x()),this._onDestroyCallbacks=[]}reset(x){this.control&&this.control.reset(x)}hasError(x,D){return!!this.control&&this.control.hasError(x,D)}getError(x,D){return this.control?this.control.getError(x,D):null}}class zt extends Bt{get formDirective(){return null}get path(){return null}}class _n extends Bt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class En{constructor(x){this._cd=x}is(x){return"submitted"===x?!!this._cd?.submitted:!!this._cd?.control?.[x]}}let qt=(()=>{class V extends En{constructor(D){super(D)}}return V.\u0275fac=function(D){return new(D||V)(i.\u0275\u0275directiveInject(_n,2))},V.\u0275dir=i.\u0275\u0275defineDirective({type:V,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(D,q){2&D&&i.\u0275\u0275classProp("ng-untouched",q.is("untouched"))("ng-touched",q.is("touched"))("ng-pristine",q.is("pristine"))("ng-dirty",q.is("dirty"))("ng-valid",q.is("valid"))("ng-invalid",q.is("invalid"))("ng-pending",q.is("pending"))},features:[i.\u0275\u0275InheritDefinitionFeature]}),V})(),Un=(()=>{class V extends En{constructor(D){super(D)}}return V.\u0275fac=function(D){return new(D||V)(i.\u0275\u0275directiveInject(zt,10))},V.\u0275dir=i.\u0275\u0275defineDirective({type:V,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(D,q){2&D&&i.\u0275\u0275classProp("ng-untouched",q.is("untouched"))("ng-touched",q.is("touched"))("ng-pristine",q.is("pristine"))("ng-dirty",q.is("dirty"))("ng-valid",q.is("valid"))("ng-invalid",q.is("invalid"))("ng-pending",q.is("pending"))("ng-submitted",q.is("submitted"))},features:[i.\u0275\u0275InheritDefinitionFeature]}),V})();function An(V,x){return[...x.path,V]}function Mn(V,x){Sr(V,x),x.valueAccessor.writeValue(V.value),function(V,x){x.valueAccessor.registerOnChange(D=>{V._pendingValue=D,V._pendingChange=!0,V._pendingDirty=!0,"change"===V.updateOn&&wr(V,x)})}(V,x),function(V,x){const D=(q,je)=>{x.valueAccessor.writeValue(q),je&&x.viewToModelUpdate(q)};V.registerOnChange(D),x._registerOnDestroy(()=>{V._unregisterOnChange(D)})}(V,x),function(V,x){x.valueAccessor.registerOnTouched(()=>{V._pendingTouched=!0,"blur"===V.updateOn&&V._pendingChange&&wr(V,x),"submit"!==V.updateOn&&V.markAsTouched()})}(V,x),function(V,x){if(x.valueAccessor.setDisabledState){const D=q=>{x.valueAccessor.setDisabledState(q)};V.registerOnDisabledChange(D),x._registerOnDestroy(()=>{V._unregisterOnDisabledChange(D)})}}(V,x)}function qn(V,x,D=!0){const q=()=>{};x.valueAccessor&&(x.valueAccessor.registerOnChange(q),x.valueAccessor.registerOnTouched(q)),er(V,x),V&&(x._invokeOnDestroyCallbacks(),V._registerOnCollectionChange(()=>{}))}function ur(V,x){V.forEach(D=>{D.registerOnValidatorChange&&D.registerOnValidatorChange(x)})}function Sr(V,x){const D=Ge(V);null!==x.validator?V.setValidators(ke(D,x.validator)):"function"==typeof D&&V.setValidators([D]);const q=rt(V);null!==x.asyncValidator?V.setAsyncValidators(ke(q,x.asyncValidator)):"function"==typeof q&&V.setAsyncValidators([q]);const je=()=>V.updateValueAndValidity();ur(x._rawValidators,je),ur(x._rawAsyncValidators,je)}function er(V,x){let D=!1;if(null!==V){if(null!==x.validator){const je=Ge(V);if(Array.isArray(je)&&je.length>0){const ct=je.filter(mn=>mn!==x.validator);ct.length!==je.length&&(D=!0,V.setValidators(ct))}}if(null!==x.asyncValidator){const je=rt(V);if(Array.isArray(je)&&je.length>0){const ct=je.filter(mn=>mn!==x.asyncValidator);ct.length!==je.length&&(D=!0,V.setAsyncValidators(ct))}}}const q=()=>{};return ur(x._rawValidators,q),ur(x._rawAsyncValidators,q),D}function wr(V,x){V._pendingDirty&&V.markAsDirty(),V.setValue(V._pendingValue,{emitModelToViewChange:!1}),x.viewToModelUpdate(V._pendingValue),V._pendingChange=!1}function cr(V,x){const D=V.indexOf(x);D>-1&&V.splice(D,1)}const ye="VALID",de="INVALID",K="PENDING",ne="DISABLED";function ie(V){return(Tt(V)?V.validators:V)||null}function Ae(V){return Array.isArray(V)?De(V):V||null}function Ne(V,x){return(Tt(x)?x.asyncValidators:V)||null}function qe(V){return Array.isArray(V)?ve(V):V||null}function Tt(V){return null!=V&&!Array.isArray(V)&&"object"==typeof V}class rn{constructor(x,D){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=x,this._rawAsyncValidators=D,this._composedValidatorFn=Ae(this._rawValidators),this._composedAsyncValidatorFn=qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(x){this._rawValidators=this._composedValidatorFn=x}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(x){this._rawAsyncValidators=this._composedAsyncValidatorFn=x}get parent(){return this._parent}get valid(){return this.status===ye}get invalid(){return this.status===de}get pending(){return this.status==K}get disabled(){return this.status===ne}get enabled(){return this.status!==ne}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(x){this._rawValidators=x,this._composedValidatorFn=Ae(x)}setAsyncValidators(x){this._rawAsyncValidators=x,this._composedAsyncValidatorFn=qe(x)}addValidators(x){this.setValidators(Et(x,this._rawValidators))}addAsyncValidators(x){this.setAsyncValidators(Et(x,this._rawAsyncValidators))}removeValidators(x){this.setValidators(Mt(x,this._rawValidators))}removeAsyncValidators(x){this.setAsyncValidators(Mt(x,this._rawAsyncValidators))}hasValidator(x){return at(this._rawValidators,x)}hasAsyncValidator(x){return at(this._rawAsyncValidators,x)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(x={}){this.touched=!0,this._parent&&!x.onlySelf&&this._parent.markAsTouched(x)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(x=>x.markAllAsTouched())}markAsUntouched(x={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(D=>{D.markAsUntouched({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}markAsDirty(x={}){this.pristine=!1,this._parent&&!x.onlySelf&&this._parent.markAsDirty(x)}markAsPristine(x={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(D=>{D.markAsPristine({onlySelf:!0})}),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}markAsPending(x={}){this.status=K,!1!==x.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!x.onlySelf&&this._parent.markAsPending(x)}disable(x={}){const D=this._parentMarkedDirty(x.onlySelf);this.status=ne,this.errors=null,this._forEachChild(q=>{q.disable({...x,onlySelf:!0})}),this._updateValue(),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...x,skipPristineCheck:D}),this._onDisabledChange.forEach(q=>q(!0))}enable(x={}){const D=this._parentMarkedDirty(x.onlySelf);this.status=ye,this._forEachChild(q=>{q.enable({...x,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent}),this._updateAncestors({...x,skipPristineCheck:D}),this._onDisabledChange.forEach(q=>q(!1))}_updateAncestors(x){this._parent&&!x.onlySelf&&(this._parent.updateValueAndValidity(x),x.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(x){this._parent=x}updateValueAndValidity(x={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ye||this.status===K)&&this._runAsyncValidator(x.emitEvent)),!1!==x.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!x.onlySelf&&this._parent.updateValueAndValidity(x)}_updateTreeValidity(x={emitEvent:!0}){this._forEachChild(D=>D._updateTreeValidity(x)),this.updateValueAndValidity({onlySelf:!0,emitEvent:x.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ne:ye}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(x){if(this.asyncValidator){this.status=K,this._hasOwnPendingAsyncValidator=!0;const D=re(this.asyncValidator(this));this._asyncValidationSubscription=D.subscribe(q=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(q,{emitEvent:x})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(x,D={}){this.errors=x,this._updateControlsErrors(!1!==D.emitEvent)}get(x){return function(V,x,D){if(null==x||(Array.isArray(x)||(x=x.split(".")),Array.isArray(x)&&0===x.length))return null;let q=V;return x.forEach(je=>{q=q instanceof sn?q.controls.hasOwnProperty(je)?q.controls[je]:null:q instanceof yn&&q.at(je)||null}),q}(this,x)}getError(x,D){const q=D?this.get(D):this;return q&&q.errors?q.errors[x]:null}hasError(x,D){return!!this.getError(x,D)}get root(){let x=this;for(;x._parent;)x=x._parent;return x}_updateControlsErrors(x){this.status=this._calculateStatus(),x&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(x)}_initObservables(){this.valueChanges=new i.EventEmitter,this.statusChanges=new i.EventEmitter}_calculateStatus(){return this._allControlsDisabled()?ne:this.errors?de:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(K)?K:this._anyControlsHaveStatus(de)?de:ye}_anyControlsHaveStatus(x){return this._anyControls(D=>D.status===x)}_anyControlsDirty(){return this._anyControls(x=>x.dirty)}_anyControlsTouched(){return this._anyControls(x=>x.touched)}_updatePristine(x={}){this.pristine=!this._anyControlsDirty(),this._parent&&!x.onlySelf&&this._parent._updatePristine(x)}_updateTouched(x={}){this.touched=this._anyControlsTouched(),this._parent&&!x.onlySelf&&this._parent._updateTouched(x)}_isBoxedValue(x){return"object"==typeof x&&null!==x&&2===Object.keys(x).length&&"value"in x&&"disabled"in x}_registerOnCollectionChange(x){this._onCollectionChange=x}_setUpdateStrategy(x){Tt(x)&&null!=x.updateOn&&(this._updateOn=x.updateOn)}_parentMarkedDirty(x){return!x&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class en extends rn{constructor(x=null,D,q){super(ie(D),Ne(q,D)),this._onChange=[],this._pendingChange=!1,this._applyFormState(x),this._setUpdateStrategy(D),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(x,D={}){this.value=this._pendingValue=x,this._onChange.length&&!1!==D.emitModelToViewChange&&this._onChange.forEach(q=>q(this.value,!1!==D.emitViewToModelChange)),this.updateValueAndValidity(D)}patchValue(x,D={}){this.setValue(x,D)}reset(x=null,D={}){this._applyFormState(x),this.markAsPristine(D),this.markAsUntouched(D),this.setValue(this.value,D),this._pendingChange=!1}_updateValue(){}_anyControls(x){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(x){this._onChange.push(x)}_unregisterOnChange(x){cr(this._onChange,x)}registerOnDisabledChange(x){this._onDisabledChange.push(x)}_unregisterOnDisabledChange(x){cr(this._onDisabledChange,x)}_forEachChild(x){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(x){this._isBoxedValue(x)?(this.value=this._pendingValue=x.value,x.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=x}}class sn extends rn{constructor(x,D,q){super(ie(D),Ne(q,D)),this.controls=x,this._initObservables(),this._setUpdateStrategy(D),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(x,D){return this.controls[x]?this.controls[x]:(this.controls[x]=D,D.setParent(this),D._registerOnCollectionChange(this._onCollectionChange),D)}addControl(x,D,q={}){this.registerControl(x,D),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}removeControl(x,D={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}setControl(x,D,q={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),delete this.controls[x],D&&this.registerControl(x,D),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}contains(x){return this.controls.hasOwnProperty(x)&&this.controls[x].enabled}setValue(x,D={}){this._checkAllValuesPresent(x),Object.keys(x).forEach(q=>{this._throwIfControlMissing(q),this.controls[q].setValue(x[q],{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D)}patchValue(x,D={}){null!=x&&(Object.keys(x).forEach(q=>{this.controls[q]&&this.controls[q].patchValue(x[q],{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D))}reset(x={},D={}){this._forEachChild((q,je)=>{q.reset(x[je],{onlySelf:!0,emitEvent:D.emitEvent})}),this._updatePristine(D),this._updateTouched(D),this.updateValueAndValidity(D)}getRawValue(){return this._reduceChildren({},(x,D,q)=>(x[q]=D instanceof en?D.value:D.getRawValue(),x))}_syncPendingControls(){let x=this._reduceChildren(!1,(D,q)=>!!q._syncPendingControls()||D);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_throwIfControlMissing(x){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[x])throw new Error(`Cannot find form control with name: ${x}.`)}_forEachChild(x){Object.keys(this.controls).forEach(D=>{const q=this.controls[D];q&&x(q,D)})}_setUpControls(){this._forEachChild(x=>{x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(x){for(const D of Object.keys(this.controls)){const q=this.controls[D];if(this.contains(D)&&x(q))return!0}return!1}_reduceValue(){return this._reduceChildren({},(x,D,q)=>((D.enabled||this.disabled)&&(x[q]=D.value),x))}_reduceChildren(x,D){let q=x;return this._forEachChild((je,ct)=>{q=D(q,je,ct)}),q}_allControlsDisabled(){for(const x of Object.keys(this.controls))if(this.controls[x].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(x){this._forEachChild((D,q)=>{if(void 0===x[q])throw new Error(`Must supply a value for form control with name: '${q}'.`)})}}class yn extends rn{constructor(x,D,q){super(ie(D),Ne(q,D)),this.controls=x,this._initObservables(),this._setUpdateStrategy(D),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(x){return this.controls[x]}push(x,D={}){this.controls.push(x),this._registerControl(x),this.updateValueAndValidity({emitEvent:D.emitEvent}),this._onCollectionChange()}insert(x,D,q={}){this.controls.splice(x,0,D),this._registerControl(D),this.updateValueAndValidity({emitEvent:q.emitEvent})}removeAt(x,D={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),this.controls.splice(x,1),this.updateValueAndValidity({emitEvent:D.emitEvent})}setControl(x,D,q={}){this.controls[x]&&this.controls[x]._registerOnCollectionChange(()=>{}),this.controls.splice(x,1),D&&(this.controls.splice(x,0,D),this._registerControl(D)),this.updateValueAndValidity({emitEvent:q.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(x,D={}){this._checkAllValuesPresent(x),x.forEach((q,je)=>{this._throwIfControlMissing(je),this.at(je).setValue(q,{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D)}patchValue(x,D={}){null!=x&&(x.forEach((q,je)=>{this.at(je)&&this.at(je).patchValue(q,{onlySelf:!0,emitEvent:D.emitEvent})}),this.updateValueAndValidity(D))}reset(x=[],D={}){this._forEachChild((q,je)=>{q.reset(x[je],{onlySelf:!0,emitEvent:D.emitEvent})}),this._updatePristine(D),this._updateTouched(D),this.updateValueAndValidity(D)}getRawValue(){return this.controls.map(x=>x instanceof en?x.value:x.getRawValue())}clear(x={}){this.controls.length<1||(this._forEachChild(D=>D._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:x.emitEvent}))}_syncPendingControls(){let x=this.controls.reduce((D,q)=>!!q._syncPendingControls()||D,!1);return x&&this.updateValueAndValidity({onlySelf:!0}),x}_throwIfControlMissing(x){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(x))throw new Error(`Cannot find form control at index ${x}`)}_forEachChild(x){this.controls.forEach((D,q)=>{x(D,q)})}_updateValue(){this.value=this.controls.filter(x=>x.enabled||this.disabled).map(x=>x.value)}_anyControls(x){return this.controls.some(D=>D.enabled&&x(D))}_setUpControls(){this._forEachChild(x=>this._registerControl(x))}_checkAllValuesPresent(x){this._forEachChild((D,q)=>{if(void 0===x[q])throw new Error(`Must supply a value for form control at index: ${q}.`)})}_allControlsDisabled(){for(const x of this.controls)if(x.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(x){x.setParent(this),x._registerOnCollectionChange(this._onCollectionChange)}}let Xi=(()=>{class V extends zt{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return An(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return V.\u0275fac=function(){let x;return function(q){return(x||(x=i.\u0275\u0275getInheritedFactory(V)))(q||V)}}(),V.\u0275dir=i.\u0275\u0275defineDirective({type:V,features:[i.\u0275\u0275InheritDefinitionFeature]}),V})(),Mi=(()=>{class V{}return V.\u0275fac=function(D){return new(D||V)},V.\u0275dir=i.\u0275\u0275defineDirective({type:V,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),V})();const Yr={provide:B,useExisting:(0,i.forwardRef)(()=>Ss),multi:!0};let Ss=(()=>{class V extends U{writeValue(D){this.setProperty("value",D??"")}registerOnChange(D){this.onChange=q=>{D(""==q?null:parseFloat(q))}}}return V.\u0275fac=function(){let x;return function(q){return(x||(x=i.\u0275\u0275getInheritedFactory(V)))(q||V)}}(),V.\u0275dir=i.\u0275\u0275defineDirective({type:V,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(D,q){1&D&&i.\u0275\u0275listener("input",function(ct){return q.onChange(ct.target.value)})("blur",function(){return q.onTouched()})},features:[i.\u0275\u0275ProvidersFeature([Yr]),i.\u0275\u0275InheritDefinitionFeature]}),V})(),Dr=(()=>{class V{}return V.\u0275fac=function(D){return new(D||V)},V.\u0275mod=i.\u0275\u0275defineNgModule({type:V}),V.\u0275inj=i.\u0275\u0275defineInjector({}),V})();const Fi=new i.InjectionToken("NgModelWithFormControlWarning"),to={provide:zt,useExisting:(0,i.forwardRef)(()=>ki)};let ki=(()=>{class V extends zt{constructor(D,q){super(),this.validators=D,this.asyncValidators=q,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new i.EventEmitter,this._setValidators(D),this._setAsyncValidators(q)}ngOnChanges(D){this._checkFormPresent(),D.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(er(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(D){const q=this.form.get(D.path);return Mn(q,D),q.updateValueAndValidity({emitEvent:!1}),this.directives.push(D),q}getControl(D){return this.form.get(D.path)}removeControl(D){qn(D.control||null,D,!1),cr(this.directives,D)}addFormGroup(D){this._setUpFormContainer(D)}removeFormGroup(D){this._cleanUpFormContainer(D)}getFormGroup(D){return this.form.get(D.path)}addFormArray(D){this._setUpFormContainer(D)}removeFormArray(D){this._cleanUpFormContainer(D)}getFormArray(D){return this.form.get(D.path)}updateModel(D,q){this.form.get(D.path).setValue(q)}onSubmit(D){return this.submitted=!0,function(V,x){V._syncPendingControls(),x.forEach(D=>{const q=D.control;"submit"===q.updateOn&&q._pendingChange&&(D.viewToModelUpdate(q._pendingValue),q._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(D),!1}onReset(){this.resetForm()}resetForm(D){this.form.reset(D),this.submitted=!1}_updateDomValue(){this.directives.forEach(D=>{const q=D.control,je=this.form.get(D.path);q!==je&&(qn(q||null,D),je instanceof en&&(Mn(je,D),D.control=je))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(D){const q=this.form.get(D.path);(function(V,x){Sr(V,x)})(q,D),q.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(D){if(this.form){const q=this.form.get(D.path);q&&function(V,x){return er(V,x)}(q,D)&&q.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Sr(this.form,this),this._oldForm&&er(this._oldForm,this)}_checkFormPresent(){}}return V.\u0275fac=function(D){return new(D||V)(i.\u0275\u0275directiveInject(v,10),i.\u0275\u0275directiveInject(d,10))},V.\u0275dir=i.\u0275\u0275defineDirective({type:V,selectors:[["","formGroup",""]],hostBindings:function(D,q){1&D&&i.\u0275\u0275listener("submit",function(ct){return q.onSubmit(ct)})("reset",function(){return q.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i.\u0275\u0275ProvidersFeature([to]),i.\u0275\u0275InheritDefinitionFeature,i.\u0275\u0275NgOnChangesFeature]}),V})();const As={provide:zt,useExisting:(0,i.forwardRef)(()=>gi)};let gi=(()=>{class V extends Xi{constructor(D,q,je){super(),this._parent=D,this._setValidators(q),this._setAsyncValidators(je)}_checkParentType(){ts(this._parent)}}return V.\u0275fac=function(D){return new(D||V)(i.\u0275\u0275directiveInject(zt,13),i.\u0275\u0275directiveInject(v,10),i.\u0275\u0275directiveInject(d,10))},V.\u0275dir=i.\u0275\u0275defineDirective({type:V,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[i.\u0275\u0275ProvidersFeature([As]),i.\u0275\u0275InheritDefinitionFeature]}),V})();const Os={provide:zt,useExisting:(0,i.forwardRef)(()=>vi)};let vi=(()=>{class V extends zt{constructor(D,q,je){super(),this._parent=D,this._setValidators(q),this._setAsyncValidators(je)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return An(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){ts(this._parent)}}return V.\u0275fac=function(D){return new(D||V)(i.\u0275\u0275directiveInject(zt,13),i.\u0275\u0275directiveInject(v,10),i.\u0275\u0275directiveInject(d,10))},V.\u0275dir=i.\u0275\u0275defineDirective({type:V,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[i.\u0275\u0275ProvidersFeature([Os]),i.\u0275\u0275InheritDefinitionFeature]}),V})();function ts(V){return!(V instanceof gi||V instanceof ki||V instanceof vi)}const Ps={provide:_n,useExisting:(0,i.forwardRef)(()=>_i)};let _i=(()=>{class V extends _n{constructor(D,q,je,ct,mn){super(),this._ngModelWarningConfig=mn,this._added=!1,this.update=new i.EventEmitter,this._ngModelWarningSent=!1,this._parent=D,this._setValidators(q),this._setAsyncValidators(je),this.valueAccessor=function(V,x){if(!x)return null;let D,q,je;return Array.isArray(x),x.forEach(ct=>{ct.constructor===k?D=ct:function(V){return Object.getPrototypeOf(V.constructor)===U}(ct)?q=ct:je=ct}),je||q||D||null}(0,ct)}set isDisabled(D){}ngOnChanges(D){this._added||this._setUpControl(),function(V,x){if(!V.hasOwnProperty("model"))return!1;const D=V.model;return!!D.isFirstChange()||!Object.is(x,D.currentValue)}(D,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(D){this.viewModel=D,this.update.emit(D)}get path(){return An(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return V._ngModelWarningSentOnce=!1,V.\u0275fac=function(D){return new(D||V)(i.\u0275\u0275directiveInject(zt,13),i.\u0275\u0275directiveInject(v,10),i.\u0275\u0275directiveInject(d,10),i.\u0275\u0275directiveInject(B,10),i.\u0275\u0275directiveInject(Fi,8))},V.\u0275dir=i.\u0275\u0275defineDirective({type:V,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i.\u0275\u0275ProvidersFeature([Ps]),i.\u0275\u0275InheritDefinitionFeature,i.\u0275\u0275NgOnChangesFeature]}),V})();const no={provide:B,useExisting:(0,i.forwardRef)(()=>Li),multi:!0};function dr(V,x){return null==V?`${x}`:(x&&"object"==typeof x&&(x="Object"),`${V}: ${x}`.slice(0,50))}let Li=(()=>{class V extends U{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(D){this._compareWith=D}writeValue(D){this.value=D;const q=this._getOptionId(D);null==q&&this.setProperty("selectedIndex",-1);const je=dr(q,D);this.setProperty("value",je)}registerOnChange(D){this.onChange=q=>{this.value=this._getOptionValue(q),D(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(D){for(const q of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(q),D))return q;return null}_getOptionValue(D){const q=function(V){return V.split(":")[0]}(D);return this._optionMap.has(q)?this._optionMap.get(q):D}}return V.\u0275fac=function(){let x;return function(q){return(x||(x=i.\u0275\u0275getInheritedFactory(V)))(q||V)}}(),V.\u0275dir=i.\u0275\u0275defineDirective({type:V,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(D,q){1&D&&i.\u0275\u0275listener("change",function(ct){return q.onChange(ct.target.value)})("blur",function(){return q.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.\u0275\u0275ProvidersFeature([no]),i.\u0275\u0275InheritDefinitionFeature]}),V})(),Ts=(()=>{class V{constructor(D,q,je){this._element=D,this._renderer=q,this._select=je,this._select&&(this.id=this._select._registerOption())}set ngValue(D){null!=this._select&&(this._select._optionMap.set(this.id,D),this._setElementValue(dr(this.id,D)),this._select.writeValue(this._select.value))}set value(D){this._setElementValue(D),this._select&&this._select.writeValue(this._select.value)}_setElementValue(D){this._renderer.setProperty(this._element.nativeElement,"value",D)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return V.\u0275fac=function(D){return new(D||V)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275directiveInject(Li,9))},V.\u0275dir=i.\u0275\u0275defineDirective({type:V,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),V})();const Is={provide:B,useExisting:(0,i.forwardRef)(()=>bi),multi:!0};function Vn(V,x){return null==V?`${x}`:("string"==typeof x&&(x=`'${x}'`),x&&"object"==typeof x&&(x="Object"),`${V}: ${x}`.slice(0,50))}let bi=(()=>{class V extends U{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(D){this._compareWith=D}writeValue(D){let q;if(this.value=D,Array.isArray(D)){const je=D.map(ct=>this._getOptionId(ct));q=(ct,mn)=>{ct._setSelected(je.indexOf(mn.toString())>-1)}}else q=(je,ct)=>{je._setSelected(!1)};this._optionMap.forEach(q)}registerOnChange(D){this.onChange=q=>{const je=[],ct=q.selectedOptions;if(void 0!==ct){const mn=ct;for(let fr=0;fr<mn.length;fr++){const ni=this._getOptionValue(mn[fr].value);je.push(ni)}}else{const mn=q.options;for(let fr=0;fr<mn.length;fr++){const Wi=mn[fr];if(Wi.selected){const ni=this._getOptionValue(Wi.value);je.push(ni)}}}this.value=je,D(je)}}_registerOption(D){const q=(this._idCounter++).toString();return this._optionMap.set(q,D),q}_getOptionId(D){for(const q of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(q)._value,D))return q;return null}_getOptionValue(D){const q=function(V){return V.split(":")[0]}(D);return this._optionMap.has(q)?this._optionMap.get(q)._value:D}}return V.\u0275fac=function(){let x;return function(q){return(x||(x=i.\u0275\u0275getInheritedFactory(V)))(q||V)}}(),V.\u0275dir=i.\u0275\u0275defineDirective({type:V,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(D,q){1&D&&i.\u0275\u0275listener("change",function(ct){return q.onChange(ct.target)})("blur",function(){return q.onTouched()})},inputs:{compareWith:"compareWith"},features:[i.\u0275\u0275ProvidersFeature([Is]),i.\u0275\u0275InheritDefinitionFeature]}),V})(),rs=(()=>{class V{constructor(D,q,je){this._element=D,this._renderer=q,this._select=je,this._select&&(this.id=this._select._registerOption(this))}set ngValue(D){null!=this._select&&(this._value=D,this._setElementValue(Vn(this.id,D)),this._select.writeValue(this._select.value))}set value(D){this._select?(this._value=D,this._setElementValue(Vn(this.id,D)),this._select.writeValue(this._select.value)):this._setElementValue(D)}_setElementValue(D){this._renderer.setProperty(this._element.nativeElement,"value",D)}_setSelected(D){this._renderer.setProperty(this._element.nativeElement,"selected",D)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return V.\u0275fac=function(D){return new(D||V)(i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275directiveInject(bi,9))},V.\u0275dir=i.\u0275\u0275defineDirective({type:V,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),V})();function Ei(V){return"number"==typeof V?V:parseFloat(V)}let Bi=(()=>{class V{constructor(){this._validator=ee}ngOnChanges(D){if(this.inputName in D){const q=this.normalizeInput(D[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(q):ee,this._onChange&&this._onChange()}}validate(D){return this._validator(D)}registerOnValidatorChange(D){this._onChange=D}enabled(){return null!=this[this.inputName]}}return V.\u0275fac=function(D){return new(D||V)},V.\u0275dir=i.\u0275\u0275defineDirective({type:V,features:[i.\u0275\u0275NgOnChangesFeature]}),V})();const is={provide:v,useExisting:(0,i.forwardRef)(()=>Xr),multi:!0};let Xr=(()=>{class V extends Bi{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=D=>Ei(D),this.createValidator=D=>W(D)}}return V.\u0275fac=function(){let x;return function(q){return(x||(x=i.\u0275\u0275getInheritedFactory(V)))(q||V)}}(),V.\u0275dir=i.\u0275\u0275defineDirective({type:V,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(D,q){2&D&&i.\u0275\u0275attribute("max",q.enabled()?q.max:null)},inputs:{max:"max"},features:[i.\u0275\u0275ProvidersFeature([is]),i.\u0275\u0275InheritDefinitionFeature]}),V})();const ro={provide:v,useExisting:(0,i.forwardRef)(()=>qr),multi:!0};let qr=(()=>{class V extends Bi{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=D=>Ei(D),this.createValidator=D=>h(D)}}return V.\u0275fac=function(){let x;return function(q){return(x||(x=i.\u0275\u0275getInheritedFactory(V)))(q||V)}}(),V.\u0275dir=i.\u0275\u0275defineDirective({type:V,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(D,q){2&D&&i.\u0275\u0275attribute("min",q.enabled()?q.min:null)},inputs:{min:"min"},features:[i.\u0275\u0275ProvidersFeature([ro]),i.\u0275\u0275InheritDefinitionFeature]}),V})(),ti=(()=>{class V{}return V.\u0275fac=function(D){return new(D||V)},V.\u0275mod=i.\u0275\u0275defineNgModule({type:V}),V.\u0275inj=i.\u0275\u0275defineInjector({imports:[[Dr]]}),V})(),Ui=(()=>{class V{}return V.\u0275fac=function(D){return new(D||V)},V.\u0275mod=i.\u0275\u0275defineNgModule({type:V}),V.\u0275inj=i.\u0275\u0275defineInjector({imports:[ti]}),V})(),Vi=(()=>{class V{static withConfig(D){return{ngModule:V,providers:[{provide:Fi,useValue:D.warnOnNgModelWithFormControl}]}}}return V.\u0275fac=function(D){return new(D||V)},V.\u0275mod=i.\u0275\u0275defineNgModule({type:V}),V.\u0275inj=i.\u0275\u0275defineInjector({imports:[ti]}),V})(),zi=(()=>{class V{group(D,q=null){const je=this._reduceControls(D);let fr,ct=null,mn=null;return null!=q&&(function(V){return void 0!==V.asyncValidators||void 0!==V.validators||void 0!==V.updateOn}(q)?(ct=null!=q.validators?q.validators:null,mn=null!=q.asyncValidators?q.asyncValidators:null,fr=null!=q.updateOn?q.updateOn:void 0):(ct=null!=q.validator?q.validator:null,mn=null!=q.asyncValidator?q.asyncValidator:null)),new sn(je,{asyncValidators:mn,updateOn:fr,validators:ct})}control(D,q,je){return new en(D,q,je)}array(D,q,je){const ct=D.map(mn=>this._createControl(mn));return new yn(ct,q,je)}_reduceControls(D){const q={};return Object.keys(D).forEach(je=>{q[je]=this._createControl(D[je])}),q}_createControl(D){return D instanceof en||D instanceof sn||D instanceof yn?D:Array.isArray(D)?this.control(D[0],D.length>1?D[1]:null,D.length>2?D[2]:null):this.control(D)}}return V.\u0275fac=function(D){return new(D||V)},V.\u0275prov=i.\u0275\u0275defineInjectable({token:V,factory:V.\u0275fac,providedIn:Vi}),V})()},1481:(he,z,l)=>{l.d(z,{b2:()=>Pn,H7:()=>gr,q6:()=>_n,se:()=>re});var i=l(1457),u=l(7777);class C extends i.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class L extends C{static makeCurrent(){(0,i.\u0275setRootDomAdapter)(new L)}onAndCancel(ye,de,K){return ye.addEventListener(de,K,!1),()=>{ye.removeEventListener(de,K,!1)}}dispatchEvent(ye,de){ye.dispatchEvent(de)}remove(ye){ye.parentNode&&ye.parentNode.removeChild(ye)}createElement(ye,de){return(de=de||this.getDefaultDocument()).createElement(ye)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ye){return ye.nodeType===Node.ELEMENT_NODE}isShadowRoot(ye){return ye instanceof DocumentFragment}getGlobalEventTarget(ye,de){return"window"===de?window:"document"===de?ye:"body"===de?ye.body:null}getBaseHref(ye){const de=(j=j||document.querySelector("base"),j?j.getAttribute("href"):null);return null==de?null:function(Ie){U=U||document.createElement("a"),U.setAttribute("href",Ie);const ye=U.pathname;return"/"===ye.charAt(0)?ye:`/${ye}`}(de)}resetBaseElement(){j=null}getUserAgent(){return window.navigator.userAgent}getCookie(ye){return(0,i.\u0275parseCookieValue)(document.cookie,ye)}}let U,j=null;const S=new u.InjectionToken("TRANSITION_ID"),E=[{provide:u.APP_INITIALIZER,useFactory:function(Ie,ye,de){return()=>{de.get(u.ApplicationInitStatus).donePromise.then(()=>{const K=(0,i.\u0275getDOM)(),ne=ye.querySelectorAll(`style[ng-transition="${Ie}"]`);for(let P=0;P<ne.length;P++)K.remove(ne[P])})}},deps:[S,i.DOCUMENT,u.Injector],multi:!0}];class M{static init(){(0,u.setTestabilityGetter)(new M)}addToWindow(ye){u.\u0275global.getAngularTestability=(K,ne=!0)=>{const P=ye.findTestabilityInTree(K,ne);if(null==P)throw new Error("Could not find testability for element.");return P},u.\u0275global.getAllAngularTestabilities=()=>ye.getAllTestabilities(),u.\u0275global.getAllAngularRootElements=()=>ye.getAllRootElements(),u.\u0275global.frameworkStabilizers||(u.\u0275global.frameworkStabilizers=[]),u.\u0275global.frameworkStabilizers.push(K=>{const ne=u.\u0275global.getAllAngularTestabilities();let P=ne.length,ie=!1;const Ae=function(Ne){ie=ie||Ne,P--,0==P&&K(ie)};ne.forEach(function(Ne){Ne.whenStable(Ae)})})}findTestabilityInTree(ye,de,K){return null==de?null:ye.getTestability(de)??(K?(0,i.\u0275getDOM)().isShadowRoot(de)?this.findTestabilityInTree(ye,de.host,!0):this.findTestabilityInTree(ye,de.parentElement,!0):null)}}let T=(()=>{class Ie{build(){return new XMLHttpRequest}}return Ie.\u0275fac=function(de){return new(de||Ie)},Ie.\u0275prov=u.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac}),Ie})();const k=new u.InjectionToken("EventManagerPlugins");let I=(()=>{class Ie{constructor(de,K){this._zone=K,this._eventNameToPlugin=new Map,de.forEach(ne=>ne.manager=this),this._plugins=de.slice().reverse()}addEventListener(de,K,ne){return this._findPluginFor(K).addEventListener(de,K,ne)}addGlobalEventListener(de,K,ne){return this._findPluginFor(K).addGlobalEventListener(de,K,ne)}getZone(){return this._zone}_findPluginFor(de){const K=this._eventNameToPlugin.get(de);if(K)return K;const ne=this._plugins;for(let P=0;P<ne.length;P++){const ie=ne[P];if(ie.supports(de))return this._eventNameToPlugin.set(de,ie),ie}throw new Error(`No event manager plugin found for event ${de}`)}}return Ie.\u0275fac=function(de){return new(de||Ie)(u.\u0275\u0275inject(k),u.\u0275\u0275inject(u.NgZone))},Ie.\u0275prov=u.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac}),Ie})();class b{constructor(ye){this._doc=ye}addGlobalEventListener(ye,de,K){const ne=(0,i.\u0275getDOM)().getGlobalEventTarget(this._doc,ye);if(!ne)throw new Error(`Unsupported event target ${ne} for event ${de}`);return this.addEventListener(ne,de,K)}}let v=(()=>{class Ie{constructor(){this._stylesSet=new Set}addStyles(de){const K=new Set;de.forEach(ne=>{this._stylesSet.has(ne)||(this._stylesSet.add(ne),K.add(ne))}),this.onStylesAdded(K)}onStylesAdded(de){}getAllStyles(){return Array.from(this._stylesSet)}}return Ie.\u0275fac=function(de){return new(de||Ie)},Ie.\u0275prov=u.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac}),Ie})(),d=(()=>{class Ie extends v{constructor(de){super(),this._doc=de,this._hostNodes=new Map,this._hostNodes.set(de.head,[])}_addStylesToHost(de,K,ne){de.forEach(P=>{const ie=this._doc.createElement("style");ie.textContent=P,ne.push(K.appendChild(ie))})}addHost(de){const K=[];this._addStylesToHost(this._stylesSet,de,K),this._hostNodes.set(de,K)}removeHost(de){const K=this._hostNodes.get(de);K&&K.forEach(a),this._hostNodes.delete(de)}onStylesAdded(de){this._hostNodes.forEach((K,ne)=>{this._addStylesToHost(de,ne,K)})}ngOnDestroy(){this._hostNodes.forEach(de=>de.forEach(a))}}return Ie.\u0275fac=function(de){return new(de||Ie)(u.\u0275\u0275inject(i.DOCUMENT))},Ie.\u0275prov=u.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac}),Ie})();function a(Ie){(0,i.\u0275getDOM)().remove(Ie)}const m={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},h=/%COMP%/g;function G(Ie,ye,de){for(let K=0;K<ye.length;K++){let ne=ye[K];Array.isArray(ne)?G(Ie,ne,de):(ne=ne.replace(h,Ie),de.push(ne))}return de}function ee(Ie){return ye=>{if("__ngUnwrap__"===ye)return Ie;!1===Ie(ye)&&(ye.preventDefault(),ye.returnValue=!1)}}let re=(()=>{class Ie{constructor(de,K,ne){this.eventManager=de,this.sharedStylesHost=K,this.appId=ne,this.rendererByCompId=new Map,this.defaultRenderer=new le(de)}createRenderer(de,K){if(!de||!K)return this.defaultRenderer;switch(K.encapsulation){case u.ViewEncapsulation.Emulated:{let ne=this.rendererByCompId.get(K.id);return ne||(ne=new tt(this.eventManager,this.sharedStylesHost,K,this.appId),this.rendererByCompId.set(K.id,ne)),ne.applyToHost(de),ne}case 1:case u.ViewEncapsulation.ShadowDom:return new Pe(this.eventManager,this.sharedStylesHost,de,K);default:if(!this.rendererByCompId.has(K.id)){const ne=G(K.id,K.styles,[]);this.sharedStylesHost.addStyles(ne),this.rendererByCompId.set(K.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ie.\u0275fac=function(de){return new(de||Ie)(u.\u0275\u0275inject(I),u.\u0275\u0275inject(d),u.\u0275\u0275inject(u.APP_ID))},Ie.\u0275prov=u.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac}),Ie})();class le{constructor(ye){this.eventManager=ye,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ye,de){return de?document.createElementNS(m[de]||de,ye):document.createElement(ye)}createComment(ye){return document.createComment(ye)}createText(ye){return document.createTextNode(ye)}appendChild(ye,de){ye.appendChild(de)}insertBefore(ye,de,K){ye&&ye.insertBefore(de,K)}removeChild(ye,de){ye&&ye.removeChild(de)}selectRootElement(ye,de){let K="string"==typeof ye?document.querySelector(ye):ye;if(!K)throw new Error(`The selector "${ye}" did not match any elements`);return de||(K.textContent=""),K}parentNode(ye){return ye.parentNode}nextSibling(ye){return ye.nextSibling}setAttribute(ye,de,K,ne){if(ne){de=ne+":"+de;const P=m[ne];P?ye.setAttributeNS(P,de,K):ye.setAttribute(de,K)}else ye.setAttribute(de,K)}removeAttribute(ye,de,K){if(K){const ne=m[K];ne?ye.removeAttributeNS(ne,de):ye.removeAttribute(`${K}:${de}`)}else ye.removeAttribute(de)}addClass(ye,de){ye.classList.add(de)}removeClass(ye,de){ye.classList.remove(de)}setStyle(ye,de,K,ne){ne&(u.RendererStyleFlags2.DashCase|u.RendererStyleFlags2.Important)?ye.style.setProperty(de,K,ne&u.RendererStyleFlags2.Important?"important":""):ye.style[de]=K}removeStyle(ye,de,K){K&u.RendererStyleFlags2.DashCase?ye.style.removeProperty(de):ye.style[de]=""}setProperty(ye,de,K){ye[de]=K}setValue(ye,de){ye.nodeValue=de}listen(ye,de,K){return"string"==typeof ye?this.eventManager.addGlobalEventListener(ye,de,ee(K)):this.eventManager.addEventListener(ye,de,ee(K))}}class tt extends le{constructor(ye,de,K,ne){super(ye),this.component=K;const P=G(ne+"-"+K.id,K.styles,[]);de.addStyles(P),this.contentAttr="_ngcontent-%COMP%".replace(h,ne+"-"+K.id),this.hostAttr="_nghost-%COMP%".replace(h,ne+"-"+K.id)}applyToHost(ye){super.setAttribute(ye,this.hostAttr,"")}createElement(ye,de){const K=super.createElement(ye,de);return super.setAttribute(K,this.contentAttr,""),K}}class Pe extends le{constructor(ye,de,K,ne){super(ye),this.sharedStylesHost=de,this.hostEl=K,this.shadowRoot=K.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const P=G(ne.id,ne.styles,[]);for(let ie=0;ie<P.length;ie++){const Ae=document.createElement("style");Ae.textContent=P[ie],this.shadowRoot.appendChild(Ae)}}nodeOrShadowRoot(ye){return ye===this.hostEl?this.shadowRoot:ye}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ye,de){return super.appendChild(this.nodeOrShadowRoot(ye),de)}insertBefore(ye,de,K){return super.insertBefore(this.nodeOrShadowRoot(ye),de,K)}removeChild(ye,de){return super.removeChild(this.nodeOrShadowRoot(ye),de)}parentNode(ye){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ye)))}}let De=(()=>{class Ie extends b{constructor(de){super(de)}supports(de){return!0}addEventListener(de,K,ne){return de.addEventListener(K,ne,!1),()=>this.removeEventListener(de,K,ne)}removeEventListener(de,K,ne){return de.removeEventListener(K,ne)}}return Ie.\u0275fac=function(de){return new(de||Ie)(u.\u0275\u0275inject(i.DOCUMENT))},Ie.\u0275prov=u.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac}),Ie})();const pe=["alt","control","meta","shift"],ke={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ge={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},rt={alt:Ie=>Ie.altKey,control:Ie=>Ie.ctrlKey,meta:Ie=>Ie.metaKey,shift:Ie=>Ie.shiftKey};let yt=(()=>{class Ie extends b{constructor(de){super(de)}supports(de){return null!=Ie.parseEventName(de)}addEventListener(de,K,ne){const P=Ie.parseEventName(K),ie=Ie.eventCallback(P.fullKey,ne,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,i.\u0275getDOM)().onAndCancel(de,P.domEventName,ie))}static parseEventName(de){const K=de.toLowerCase().split("."),ne=K.shift();if(0===K.length||"keydown"!==ne&&"keyup"!==ne)return null;const P=Ie._normalizeKey(K.pop());let ie="";if(pe.forEach(Ne=>{const qe=K.indexOf(Ne);qe>-1&&(K.splice(qe,1),ie+=Ne+".")}),ie+=P,0!=K.length||0===P.length)return null;const Ae={};return Ae.domEventName=ne,Ae.fullKey=ie,Ae}static getEventFullKey(de){let K="",ne=function(Ie){let ye=Ie.key;if(null==ye){if(ye=Ie.keyIdentifier,null==ye)return"Unidentified";ye.startsWith("U+")&&(ye=String.fromCharCode(parseInt(ye.substring(2),16)),3===Ie.location&&Ge.hasOwnProperty(ye)&&(ye=Ge[ye]))}return ke[ye]||ye}(de);return ne=ne.toLowerCase()," "===ne?ne="space":"."===ne&&(ne="dot"),pe.forEach(P=>{P!=ne&&rt[P](de)&&(K+=P+".")}),K+=ne,K}static eventCallback(de,K,ne){return P=>{Ie.getEventFullKey(P)===de&&ne.runGuarded(()=>K(P))}}static _normalizeKey(de){return"esc"===de?"escape":de}}return Ie.\u0275fac=function(de){return new(de||Ie)(u.\u0275\u0275inject(i.DOCUMENT))},Ie.\u0275prov=u.\u0275\u0275defineInjectable({token:Ie,factory:Ie.\u0275fac}),Ie})();const _n=(0,u.createPlatformFactory)(u.platformCore,"browser",[{provide:u.PLATFORM_ID,useValue:i.\u0275PLATFORM_BROWSER_ID},{provide:u.PLATFORM_INITIALIZER,useValue:function(){L.makeCurrent(),M.init()},multi:!0},{provide:i.DOCUMENT,useFactory:function(){return(0,u.\u0275setDocument)(document),document},deps:[]}]),En=[{provide:u.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:u.ErrorHandler,useFactory:function(){return new u.ErrorHandler},deps:[]},{provide:k,useClass:De,multi:!0,deps:[i.DOCUMENT,u.NgZone,u.PLATFORM_ID]},{provide:k,useClass:yt,multi:!0,deps:[i.DOCUMENT]},{provide:re,useClass:re,deps:[I,d,u.APP_ID]},{provide:u.RendererFactory2,useExisting:re},{provide:v,useExisting:d},{provide:d,useClass:d,deps:[i.DOCUMENT]},{provide:u.Testability,useClass:u.Testability,deps:[u.NgZone]},{provide:I,useClass:I,deps:[k,u.NgZone]},{provide:i.XhrFactory,useClass:T,deps:[]}];let Pn=(()=>{class Ie{constructor(de){if(de)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(de){return{ngModule:Ie,providers:[{provide:u.APP_ID,useValue:de.appId},{provide:S,useExisting:u.APP_ID},E]}}}return Ie.\u0275fac=function(de){return new(de||Ie)(u.\u0275\u0275inject(Ie,12))},Ie.\u0275mod=u.\u0275\u0275defineNgModule({type:Ie}),Ie.\u0275inj=u.\u0275\u0275defineInjector({providers:En,imports:[i.CommonModule,u.ApplicationModule]}),Ie})();"undefined"!=typeof window&&window;let gr=(()=>{class Ie{}return Ie.\u0275fac=function(de){return new(de||Ie)},Ie.\u0275prov=u.\u0275\u0275defineInjectable({token:Ie,factory:function(de){let K=null;return K=de?new(de||Ie):u.\u0275\u0275inject(lr),K},providedIn:"root"}),Ie})(),lr=(()=>{class Ie extends gr{constructor(de){super(),this._doc=de}sanitize(de,K){if(null==K)return null;switch(de){case u.SecurityContext.NONE:return K;case u.SecurityContext.HTML:return(0,u.\u0275allowSanitizationBypassAndThrow)(K,"HTML")?(0,u.\u0275unwrapSafeValue)(K):(0,u.\u0275_sanitizeHtml)(this._doc,String(K)).toString();case u.SecurityContext.STYLE:return(0,u.\u0275allowSanitizationBypassAndThrow)(K,"Style")?(0,u.\u0275unwrapSafeValue)(K):K;case u.SecurityContext.SCRIPT:if((0,u.\u0275allowSanitizationBypassAndThrow)(K,"Script"))return(0,u.\u0275unwrapSafeValue)(K);throw new Error("unsafe value used in a script context");case u.SecurityContext.URL:return(0,u.\u0275getSanitizationBypassType)(K),(0,u.\u0275allowSanitizationBypassAndThrow)(K,"URL")?(0,u.\u0275unwrapSafeValue)(K):(0,u.\u0275_sanitizeUrl)(String(K));case u.SecurityContext.RESOURCE_URL:if((0,u.\u0275allowSanitizationBypassAndThrow)(K,"ResourceURL"))return(0,u.\u0275unwrapSafeValue)(K);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${de} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(de){return(0,u.\u0275bypassSanitizationTrustHtml)(de)}bypassSecurityTrustStyle(de){return(0,u.\u0275bypassSanitizationTrustStyle)(de)}bypassSecurityTrustScript(de){return(0,u.\u0275bypassSanitizationTrustScript)(de)}bypassSecurityTrustUrl(de){return(0,u.\u0275bypassSanitizationTrustUrl)(de)}bypassSecurityTrustResourceUrl(de){return(0,u.\u0275bypassSanitizationTrustResourceUrl)(de)}}return Ie.\u0275fac=function(de){return new(de||Ie)(u.\u0275\u0275inject(i.DOCUMENT))},Ie.\u0275prov=u.\u0275\u0275defineInjectable({token:Ie,factory:function(de){let K=null;return K=de?new de:function(Ie){return new lr(Ie.get(i.DOCUMENT))}(u.\u0275\u0275inject(u.Injector)),K},providedIn:"root"}),Ie})()},8796:(he,z,l)=>{l.d(z,{mR:()=>Wn,ir:()=>Sn,w9:()=>cr,A0:()=>de});var i=l(7777),u=l(4006),C=l(2722),L=l(3601),j=l(8675),F=l(8505),U=l(8372),B=l(9300),S=l(4004),w=l(6406),E=l(3101),M=l(7579),T=l(4968),k=l(6451),I=l(1457);const b=["content"],v=["scroll"],d=["padding"],a=function(K){return{searchTerm:K}};function m(K,ne){if(1&K&&(i.\u0275\u0275elementStart(0,"div",6),i.\u0275\u0275elementContainer(1,7),i.\u0275\u0275elementEnd()),2&K){const P=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",P.headerTemplate)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,a,P.filterValue))}}function h(K,ne){if(1&K&&(i.\u0275\u0275elementStart(0,"div",8),i.\u0275\u0275elementContainer(1,7),i.\u0275\u0275elementEnd()),2&K){const P=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("ngTemplateOutlet",P.footerTemplate)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,a,P.filterValue))}}const W=["*"],ae=["searchInput"];function we(K,ne){if(1&K){const P=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"span",15),i.\u0275\u0275listener("click",function(){i.\u0275\u0275restoreView(P);const Ae=i.\u0275\u0275nextContext().$implicit;return i.\u0275\u0275nextContext(2).unselect(Ae)}),i.\u0275\u0275text(1,"\xd7"),i.\u0275\u0275elementEnd(),i.\u0275\u0275element(2,"span",16)}if(2&K){const P=i.\u0275\u0275nextContext().$implicit,ie=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(2),i.\u0275\u0275property("ngItemLabel",P.label)("escape",ie.escapeHTML)}}function Ee(K,ne){}const ce=function(K,ne,P){return{item:K,clear:ne,label:P}};function te(K,ne){if(1&K&&(i.\u0275\u0275elementStart(0,"div",12),i.\u0275\u0275template(1,we,3,2,"ng-template",null,13,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(3,Ee,0,0,"ng-template",14),i.\u0275\u0275elementEnd()),2&K){const P=ne.$implicit,ie=i.\u0275\u0275reference(2),Ae=i.\u0275\u0275nextContext(2);i.\u0275\u0275classProp("ng-value-disabled",P.disabled),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngTemplateOutlet",Ae.labelTemplate||ie)("ngTemplateOutletContext",i.\u0275\u0275pureFunction3(4,ce,P.value,Ae.clearItem,P.label))}}function G(K,ne){if(1&K&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,te,4,8,"div",11),i.\u0275\u0275elementContainerEnd()),2&K){const P=i.\u0275\u0275nextContext();i.\u0275\u0275advance(1),i.\u0275\u0275property("ngForOf",P.selectedItems)("ngForTrackBy",P.trackByOption)}}function ee(K,ne){}const X=function(K,ne){return{items:K,clear:ne}};function re(K,ne){if(1&K&&i.\u0275\u0275template(0,ee,0,0,"ng-template",14),2&K){const P=i.\u0275\u0275nextContext();i.\u0275\u0275property("ngTemplateOutlet",P.multiLabelTemplate)("ngTemplateOutletContext",i.\u0275\u0275pureFunction2(2,X,P.selectedValues,P.clearItem))}}function le(K,ne){1&K&&i.\u0275\u0275element(0,"div",19)}function Oe(K,ne){}function We(K,ne){if(1&K&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,le,1,0,"ng-template",null,17,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(3,Oe,0,0,"ng-template",18),i.\u0275\u0275elementContainerEnd()),2&K){const P=i.\u0275\u0275reference(2),ie=i.\u0275\u0275nextContext();i.\u0275\u0275advance(3),i.\u0275\u0275property("ngTemplateOutlet",ie.loadingSpinnerTemplate||P)}}function tt(K,ne){if(1&K&&(i.\u0275\u0275elementStart(0,"span",20),i.\u0275\u0275elementStart(1,"span",21),i.\u0275\u0275text(2,"\xd7"),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd()),2&K){const P=i.\u0275\u0275nextContext();i.\u0275\u0275propertyInterpolate("title",P.clearAllText)}}function Pe(K,ne){if(1&K&&i.\u0275\u0275element(0,"span",27),2&K){const P=i.\u0275\u0275nextContext().$implicit,ie=i.\u0275\u0275nextContext(2);i.\u0275\u0275property("ngItemLabel",P.label)("escape",ie.escapeHTML)}}function De(K,ne){}const pe=function(K,ne,P,ie){return{item:K,item$:ne,index:P,searchTerm:ie}};function ve(K,ne){if(1&K){const P=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",25),i.\u0275\u0275listener("click",function(){const Ne=i.\u0275\u0275restoreView(P).$implicit;return i.\u0275\u0275nextContext(2).toggleItem(Ne)})("mouseover",function(){const Ne=i.\u0275\u0275restoreView(P).$implicit;return i.\u0275\u0275nextContext(2).onItemHover(Ne)}),i.\u0275\u0275template(1,Pe,1,2,"ng-template",null,26,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(3,De,0,0,"ng-template",14),i.\u0275\u0275elementEnd()}if(2&K){const P=ne.$implicit,ie=i.\u0275\u0275reference(2),Ae=i.\u0275\u0275nextContext(2);i.\u0275\u0275classProp("ng-option-disabled",P.disabled)("ng-option-selected",P.selected)("ng-optgroup",P.children)("ng-option",!P.children)("ng-option-child",!!P.parent)("ng-option-marked",P===Ae.itemsList.markedItem),i.\u0275\u0275attribute("role",P.children?"group":"option")("aria-selected",P.selected)("id",null==P?null:P.htmlId),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngTemplateOutlet",P.children?Ae.optgroupTemplate||ie:Ae.optionTemplate||ie)("ngTemplateOutletContext",i.\u0275\u0275pureFunction4(17,pe,P.value,P,P.index,Ae.searchTerm))}}function ke(K,ne){if(1&K&&(i.\u0275\u0275elementStart(0,"span"),i.\u0275\u0275elementStart(1,"span",30),i.\u0275\u0275text(2),i.\u0275\u0275elementEnd(),i.\u0275\u0275text(3),i.\u0275\u0275elementEnd()),2&K){const P=i.\u0275\u0275nextContext(3);i.\u0275\u0275advance(2),i.\u0275\u0275textInterpolate(P.addTagText),i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate1('"',P.searchTerm,'"')}}function Ge(K,ne){}function rt(K,ne){if(1&K){const P=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",28),i.\u0275\u0275listener("mouseover",function(){return i.\u0275\u0275restoreView(P),i.\u0275\u0275nextContext(2).itemsList.unmarkItem()})("click",function(){return i.\u0275\u0275restoreView(P),i.\u0275\u0275nextContext(2).selectTag()}),i.\u0275\u0275template(1,ke,4,2,"ng-template",null,29,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(3,Ge,0,0,"ng-template",14),i.\u0275\u0275elementEnd()}if(2&K){const P=i.\u0275\u0275reference(2),ie=i.\u0275\u0275nextContext(2);i.\u0275\u0275classProp("ng-option-marked",!ie.itemsList.markedItem),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngTemplateOutlet",ie.tagTemplate||P)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(4,a,ie.searchTerm))}}function yt(K,ne){if(1&K&&(i.\u0275\u0275elementStart(0,"div",32),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&K){const P=i.\u0275\u0275nextContext(3);i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(P.notFoundText)}}function at(K,ne){}function Et(K,ne){if(1&K&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,yt,2,1,"ng-template",null,31,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(3,at,0,0,"ng-template",14),i.\u0275\u0275elementContainerEnd()),2&K){const P=i.\u0275\u0275reference(2),ie=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(3),i.\u0275\u0275property("ngTemplateOutlet",ie.notFoundTemplate||P)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,a,ie.searchTerm))}}function Mt(K,ne){if(1&K&&(i.\u0275\u0275elementStart(0,"div",32),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&K){const P=i.\u0275\u0275nextContext(3);i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(P.typeToSearchText)}}function Bt(K,ne){}function zt(K,ne){if(1&K&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,Mt,2,1,"ng-template",null,33,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(3,Bt,0,0,"ng-template",18),i.\u0275\u0275elementContainerEnd()),2&K){const P=i.\u0275\u0275reference(2),ie=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(3),i.\u0275\u0275property("ngTemplateOutlet",ie.typeToSearchTemplate||P)}}function _n(K,ne){if(1&K&&(i.\u0275\u0275elementStart(0,"div",32),i.\u0275\u0275text(1),i.\u0275\u0275elementEnd()),2&K){const P=i.\u0275\u0275nextContext(3);i.\u0275\u0275advance(1),i.\u0275\u0275textInterpolate(P.loadingText)}}function En(K,ne){}function Pn(K,ne){if(1&K&&(i.\u0275\u0275elementContainerStart(0),i.\u0275\u0275template(1,_n,2,1,"ng-template",null,34,i.\u0275\u0275templateRefExtractor),i.\u0275\u0275template(3,En,0,0,"ng-template",14),i.\u0275\u0275elementContainerEnd()),2&K){const P=i.\u0275\u0275reference(2),ie=i.\u0275\u0275nextContext(2);i.\u0275\u0275advance(3),i.\u0275\u0275property("ngTemplateOutlet",ie.loadingTextTemplate||P)("ngTemplateOutletContext",i.\u0275\u0275pureFunction1(2,a,ie.searchTerm))}}function Tn(K,ne){if(1&K){const P=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"ng-dropdown-panel",22),i.\u0275\u0275listener("update",function(Ae){return i.\u0275\u0275restoreView(P),i.\u0275\u0275nextContext().viewPortItems=Ae})("scroll",function(Ae){return i.\u0275\u0275restoreView(P),i.\u0275\u0275nextContext().scroll.emit(Ae)})("scrollToEnd",function(Ae){return i.\u0275\u0275restoreView(P),i.\u0275\u0275nextContext().scrollToEnd.emit(Ae)})("outsideClick",function(){return i.\u0275\u0275restoreView(P),i.\u0275\u0275nextContext().close()}),i.\u0275\u0275elementContainerStart(1),i.\u0275\u0275template(2,ve,4,22,"div",23),i.\u0275\u0275template(3,rt,4,6,"div",24),i.\u0275\u0275elementContainerEnd(),i.\u0275\u0275template(4,Et,4,4,"ng-container",3),i.\u0275\u0275template(5,zt,4,1,"ng-container",3),i.\u0275\u0275template(6,Pn,4,4,"ng-container",3),i.\u0275\u0275elementEnd()}if(2&K){const P=i.\u0275\u0275nextContext();i.\u0275\u0275classProp("ng-select-multiple",P.multiple),i.\u0275\u0275property("virtualScroll",P.virtualScroll)("bufferAmount",P.bufferAmount)("appendTo",P.appendTo)("position",P.dropdownPosition)("headerTemplate",P.headerTemplate)("footerTemplate",P.footerTemplate)("filterValue",P.searchTerm)("items",P.itemsList.filteredItems)("markedItem",P.itemsList.markedItem)("ngClass",P.appendTo?P.classes:null)("id",P.dropdownId),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngForOf",P.viewPortItems)("ngForTrackBy",P.trackByOption),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",P.showAddTag),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",P.showNoItemsFound()),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",P.showTypeToSearch()),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",P.loading&&0===P.itemsList.filteredItems.length)}}const qt=/[&<>"']/g,Un=RegExp(qt.source),$e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function pt(K){return null!=K}function Rt(K){return"object"==typeof K&&pt(K)}function mr(K){return K instanceof Function}let Ii=(()=>{class K{constructor(P){this.element=P,this.escape=!0}ngOnChanges(P){this.element.nativeElement.innerHTML=this.escape?function(K){return K&&Un.test(K)?K.replace(qt,ne=>$e[ne]):K}(this.ngItemLabel):this.ngItemLabel}}return K.\u0275fac=function(P){return new(P||K)(i.\u0275\u0275directiveInject(i.ElementRef))},K.\u0275dir=i.\u0275\u0275defineDirective({type:K,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[i.\u0275\u0275NgOnChangesFeature]}),K})(),Sn=(()=>{class K{constructor(P){this.template=P}}return K.\u0275fac=function(P){return new(P||K)(i.\u0275\u0275directiveInject(i.TemplateRef))},K.\u0275dir=i.\u0275\u0275defineDirective({type:K,selectors:[["","ng-option-tmp",""]]}),K})(),xr=(()=>{class K{constructor(P){this.template=P}}return K.\u0275fac=function(P){return new(P||K)(i.\u0275\u0275directiveInject(i.TemplateRef))},K.\u0275dir=i.\u0275\u0275defineDirective({type:K,selectors:[["","ng-optgroup-tmp",""]]}),K})(),Wn=(()=>{class K{constructor(P){this.template=P}}return K.\u0275fac=function(P){return new(P||K)(i.\u0275\u0275directiveInject(i.TemplateRef))},K.\u0275dir=i.\u0275\u0275defineDirective({type:K,selectors:[["","ng-label-tmp",""]]}),K})(),Fr=(()=>{class K{constructor(P){this.template=P}}return K.\u0275fac=function(P){return new(P||K)(i.\u0275\u0275directiveInject(i.TemplateRef))},K.\u0275dir=i.\u0275\u0275defineDirective({type:K,selectors:[["","ng-multi-label-tmp",""]]}),K})(),kr=(()=>{class K{constructor(P){this.template=P}}return K.\u0275fac=function(P){return new(P||K)(i.\u0275\u0275directiveInject(i.TemplateRef))},K.\u0275dir=i.\u0275\u0275defineDirective({type:K,selectors:[["","ng-header-tmp",""]]}),K})(),An=(()=>{class K{constructor(P){this.template=P}}return K.\u0275fac=function(P){return new(P||K)(i.\u0275\u0275directiveInject(i.TemplateRef))},K.\u0275dir=i.\u0275\u0275defineDirective({type:K,selectors:[["","ng-footer-tmp",""]]}),K})(),Mn=(()=>{class K{constructor(P){this.template=P}}return K.\u0275fac=function(P){return new(P||K)(i.\u0275\u0275directiveInject(i.TemplateRef))},K.\u0275dir=i.\u0275\u0275defineDirective({type:K,selectors:[["","ng-notfound-tmp",""]]}),K})(),qn=(()=>{class K{constructor(P){this.template=P}}return K.\u0275fac=function(P){return new(P||K)(i.\u0275\u0275directiveInject(i.TemplateRef))},K.\u0275dir=i.\u0275\u0275defineDirective({type:K,selectors:[["","ng-typetosearch-tmp",""]]}),K})(),ur=(()=>{class K{constructor(P){this.template=P}}return K.\u0275fac=function(P){return new(P||K)(i.\u0275\u0275directiveInject(i.TemplateRef))},K.\u0275dir=i.\u0275\u0275defineDirective({type:K,selectors:[["","ng-loadingtext-tmp",""]]}),K})(),Er=(()=>{class K{constructor(P){this.template=P}}return K.\u0275fac=function(P){return new(P||K)(i.\u0275\u0275directiveInject(i.TemplateRef))},K.\u0275dir=i.\u0275\u0275defineDirective({type:K,selectors:[["","ng-tag-tmp",""]]}),K})(),Sr=(()=>{class K{constructor(P){this.template=P}}return K.\u0275fac=function(P){return new(P||K)(i.\u0275\u0275directiveInject(i.TemplateRef))},K.\u0275dir=i.\u0275\u0275defineDirective({type:K,selectors:[["","ng-loadingspinner-tmp",""]]}),K})();function er(){return"axxxxxxxxxxx".replace(/[x]/g,()=>(16*Math.random()|0).toString(16))}const Lr={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"};function Cr(K){return K.replace(/[^\u0000-\u007E]/g,P=>Lr[P]||P)}class wr{constructor(ne,P){this._ngSelect=ne,this._selectionModel=P,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let ne=this.selectedItems.length-1;for(;ne>=0;ne--){const P=this.selectedItems[ne];if(!P.disabled)return P}return null}setItems(ne){this._items=ne.map((P,ie)=>this.mapItem(P,ie)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(ne){if(ne.selected||this.maxItemsSelected)return;const P=this._ngSelect.multiple;P||this.clearSelected(),this._selectionModel.select(ne,P,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(ne)}unselect(ne){!ne.selected||(this._selectionModel.unselect(ne,this._ngSelect.multiple),this._ngSelect.hideSelected&&pt(ne.index)&&this._ngSelect.multiple&&this._showSelected(ne))}findItem(ne){let P;return P=this._ngSelect.compareWith?ie=>this._ngSelect.compareWith(ie.value,ne):this._ngSelect.bindValue?ie=>!ie.children&&this.resolveNested(ie.value,this._ngSelect.bindValue)===ne:ie=>ie.value===ne||!ie.children&&ie.label&&ie.label===this.resolveNested(ne,this._ngSelect.bindLabel),this._items.find(ie=>P(ie))}addItem(ne){const P=this.mapItem(ne,this._items.length);return this._items.push(P),this._filteredItems.push(P),P}clearSelected(ne=!1){this._selectionModel.clear(ne),this._items.forEach(P=>{P.selected=ne&&P.selected&&P.disabled,P.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(ne){return ne=Cr(ne).toLocaleLowerCase(),this.filteredItems.find(P=>Cr(P.label).toLocaleLowerCase().substr(0,ne.length)===ne)}filter(ne){if(!ne)return void this.resetFilteredItems();this._filteredItems=[],ne=this._ngSelect.searchFn?ne:Cr(ne).toLocaleLowerCase();const P=this._ngSelect.searchFn||this._defaultSearchFn,ie=this._ngSelect.hideSelected;for(const Ae of Array.from(this._groups.keys())){const Ne=[];for(const qe of this._groups.get(Ae))ie&&(qe.parent&&qe.parent.selected||qe.selected)||P(ne,this._ngSelect.searchFn?qe.value:qe)&&Ne.push(qe);if(Ne.length>0){const[qe]=Ne.slice(-1);if(qe.parent){const Tt=this._items.find(rn=>rn===qe.parent);this._filteredItems.push(Tt)}this._filteredItems.push(...Ne)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(ne=>!ne.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(ne){this._markedIndex=this._filteredItems.indexOf(ne)}markSelectedOrDefault(ne){if(0===this._filteredItems.length)return;const P=this._getLastMarkedIndex();this._markedIndex=P>-1?P:ne?this.filteredItems.findIndex(ie=>!ie.disabled):-1}resolveNested(ne,P){if(!Rt(ne))return ne;if(-1===P.indexOf("."))return ne[P];{const ie=P.split(".");let Ae=ne;for(let Ne=0,qe=ie.length;Ne<qe;++Ne){if(null==Ae)return null;Ae=Ae[ie[Ne]]}return Ae}}mapItem(ne,P){const ie=pt(ne.$ngOptionLabel)?ne.$ngOptionLabel:this.resolveNested(ne,this._ngSelect.bindLabel),Ae=pt(ne.$ngOptionValue)?ne.$ngOptionValue:ne;return{index:P,label:pt(ie)?ie.toString():"",value:Ae,disabled:ne.disabled,htmlId:`${this._ngSelect.dropdownId}-${P}`}}mapSelectedItems(){const ne=this._ngSelect.multiple;for(const P of this.selectedItems){const ie=this._ngSelect.bindValue?this.resolveNested(P.value,this._ngSelect.bindValue):P.value,Ae=pt(ie)?this.findItem(ie):null;this._selectionModel.unselect(P,ne),this._selectionModel.select(Ae||P,ne,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(P=>-1===this.selectedItems.indexOf(P)))}_showSelected(ne){if(this._filteredItems.push(ne),ne.parent){const P=ne.parent;this._filteredItems.find(Ae=>Ae===P)||this._filteredItems.push(P)}else if(ne.children)for(const P of ne.children)P.selected=!1,this._filteredItems.push(P);this._filteredItems=[...this._filteredItems.sort((P,ie)=>P.index-ie.index)]}_hideSelected(ne){this._filteredItems=this._filteredItems.filter(P=>P!==ne),ne.parent?ne.parent.children.every(ie=>ie.selected)&&(this._filteredItems=this._filteredItems.filter(ie=>ie!==ne.parent)):ne.children&&(this._filteredItems=this.filteredItems.filter(P=>P.parent!==ne))}_defaultSearchFn(ne,P){return Cr(P.label).toLocaleLowerCase().indexOf(ne)>-1}_getNextItemIndex(ne){return ne>0?this._markedIndex>=this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(ne){0===this._filteredItems.length||this._filteredItems.every(P=>P.disabled)||(this._markedIndex=this._getNextItemIndex(ne),this.markedItem.disabled&&this._stepToItem(ne))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected||this._markedIndex>-1&&void 0===this.markedItem)return-1;const ne=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&ne<0?-1:Math.max(this.markedIndex,ne)}_groupBy(ne,P){const ie=new Map;if(0===ne.length)return ie;if(Array.isArray(ne[0].value[P])){for(const qe of ne){const Tt=(qe.value[P]||[]).map((rn,en)=>this.mapItem(rn,en));ie.set(qe,Tt)}return ie}const Ae=mr(this._ngSelect.groupBy),Ne=qe=>{const Tt=Ae?P(qe.value):qe.value[P];return pt(Tt)?Tt:void 0};for(const qe of ne){const Tt=Ne(qe),rn=ie.get(Tt);rn?rn.push(qe):ie.set(Tt,[qe])}return ie}_flatten(ne){const P=mr(this._ngSelect.groupBy),ie=[];for(const Ae of Array.from(ne.keys())){let Ne=ie.length;if(void 0===Ae){const yn=ne.get(void 0)||[];ie.push(...yn.map(On=>(On.index=Ne++,On)));continue}const qe=Rt(Ae),Tt={label:qe?"":String(Ae),children:void 0,parent:null,index:Ne++,disabled:!this._ngSelect.selectableGroup,htmlId:er()},rn=P?this._ngSelect.bindLabel:this._ngSelect.groupBy,en=this._ngSelect.groupValue||(()=>qe?Ae.value:{[rn]:Ae}),sn=ne.get(Ae).map(yn=>(yn.parent=Tt,yn.children=void 0,yn.index=Ne++,yn));Tt.children=sn,Tt.value=en(Ae,sn.map(yn=>yn.value)),ie.push(Tt),ie.push(...sn)}return ie}}var Rn=(()=>{return(K=Rn||(Rn={}))[K.Tab=9]="Tab",K[K.Enter=13]="Enter",K[K.Esc=27]="Esc",K[K.Space=32]="Space",K[K.ArrowUp=38]="ArrowUp",K[K.ArrowDown=40]="ArrowDown",K[K.Backspace=8]="Backspace",Rn;var K})();let hn=(()=>{class K{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(P,ie,Ae){const Ne=this._dimensions,qe=Ne.itemHeight*ie,rn=Math.max(0,P)/qe*ie;let en=Math.min(ie,Math.ceil(rn)+(Ne.itemsPerViewport+1));const yn=Math.max(0,en-Ne.itemsPerViewport);let On=Math.min(yn,Math.floor(rn)),xn=Ne.itemHeight*Math.ceil(On)-Ne.itemHeight*Math.min(On,Ae);return xn=isNaN(xn)?0:xn,On=isNaN(On)?-1:On,en=isNaN(en)?-1:en,On-=Ae,On=Math.max(0,On),en+=Ae,en=Math.min(ie,en),{topPadding:xn,scrollHeight:qe,start:On,end:en}}setDimensions(P,ie){const Ae=Math.max(1,Math.floor(ie/P));this._dimensions={itemHeight:P,panelHeight:ie,itemsPerViewport:Ae}}getScrollTo(P,ie,Ae){const{panelHeight:Ne}=this.dimensions,qe=P+ie,rn=Ae+Ne;return Ne>=qe&&Ae===P?null:qe>rn?Ae+qe-rn:P<=Ae?P:null}}return K.\u0275fac=function(P){return new(P||K)},K.\u0275prov=i.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac}),K})();const Br=["top","right","bottom","left"],ln="undefined"!=typeof requestAnimationFrame?w.Z:E.E;let Nr=(()=>{class K{constructor(P,ie,Ae,Ne,qe){this._renderer=P,this._zone=ie,this._panelService=Ae,this._document=qe,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new i.EventEmitter,this.scroll=new i.EventEmitter,this.scrollToEnd=new i.EventEmitter,this.outsideClick=new i.EventEmitter,this._destroy$=new M.x,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=Ne.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(P){P!==this._itemsLength&&(this._itemsLength=P,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:P,panelHeight:ie}=this._panelService.dimensions,Ae=this.markedItem.index*P;return ie>Ae?0:Ae}return 0}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown(),this._setupMousedownListener()}ngOnChanges(P){if(P.items){const ie=P.items;this._onItemsChange(ie.currentValue,ie.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(P,ie=!1){if(!P)return;const Ae=this.items.indexOf(P);if(Ae<0||Ae>=this.itemsLength)return;let Ne;if(this.virtualScroll){const qe=this._panelService.dimensions.itemHeight;Ne=this._panelService.getScrollTo(Ae*qe,qe,this._lastScrollPosition)}else{const qe=this._dropdown.querySelector(`#${P.htmlId}`);Ne=this._panelService.getScrollTo(qe.offsetTop,qe.clientHeight,ie?qe.offsetTop:this._lastScrollPosition)}pt(Ne)&&(this._scrollablePanel.scrollTop=Ne)}scrollToTag(){const P=this._scrollablePanel;P.scrollTop=P.scrollHeight-P.clientHeight}adjustPosition(){this._updateYPosition()}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),Br.includes(this._currentPosition)?this._updateDropdownClass(this._currentPosition):this._updateDropdownClass("bottom"),this.appendTo&&this._updateYPosition(),this._dropdown.style.opacity="1"}_updateDropdownClass(P){Br.forEach(Ae=>{const Ne=`ng-select-${Ae}`;this._renderer.removeClass(this._dropdown,Ne),this._renderer.removeClass(this._select,Ne)});const ie=`ng-select-${P}`;this._renderer.addClass(this._dropdown,ie),this._renderer.addClass(this._select,ie)}_handleScroll(){this._zone.runOutsideAngular(()=>{(0,T.R)(this.scrollElementRef.nativeElement,"scroll").pipe((0,C.R)(this._destroy$),(0,L.e)(0,ln)).subscribe(P=>{const ie=P.path||P.composedPath&&P.composedPath();this._onContentScrolled(ie&&0!==ie.length?ie[0].scrollTop:P.target.scrollTop)})})}_handleOutsideClick(){!this._document||this._zone.runOutsideAngular(()=>{(0,k.T)((0,T.R)(this._document,"touchstart",{capture:!0}),(0,T.R)(this._document,"mousedown",{capture:!0})).pipe((0,C.R)(this._destroy$)).subscribe(P=>this._checkToClose(P))})}_checkToClose(P){if(this._select.contains(P.target)||this._dropdown.contains(P.target))return;const ie=P.path||P.composedPath&&P.composedPath();P.target&&P.target.shadowRoot&&ie&&ie[0]&&this._select.contains(ie[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(P,ie){this.items=P||[],this._scrollToEndFired=!1,this.itemsLength=P.length,this.virtualScroll?this._updateItemsRange(ie):(this._setVirtualHeight(),this._updateItems(ie))}_updateItems(P){this.update.emit(this.items),!1!==P&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,P)})})}_updateItemsRange(P){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{P?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(P){this.virtualScroll&&this._renderItemsRange(P),this._lastScrollPosition=P,this._fireScrollToEnd(P)}_updateVirtualHeight(P){this._updateScrollHeight&&(this._virtualPadding.style.height=`${P}px`,this._updateScrollHeight=!1)}_setVirtualHeight(){!this._virtualPadding||(this._virtualPadding.style.height="0px")}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(P=null){if(P&&this._lastScrollPosition===P)return;const ie=this._panelService.calculateItems(P=P||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(ie.scrollHeight),this._contentPanel.style.transform=`translateY(${ie.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(ie.start,ie.end)),this.scroll.emit({start:ie.start,end:ie.end})}),pt(P)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=P,this._lastScrollPosition=P)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[P]=this.items;return this.update.emit([P]),Promise.resolve().then(()=>{const Ae=this._dropdown.querySelector(`#${P.htmlId}`).clientHeight;return this._virtualPadding.style.height=Ae*this.itemsLength+"px",this._panelService.setDimensions(Ae,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(P){this._scrollToEndFired||0===P||P+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight-1&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(P){if("auto"!==this.position)return this.position;const ie=this._select.getBoundingClientRect(),Ae=document.documentElement.scrollTop||document.body.scrollTop;return ie.top+window.pageYOffset+ie.height+P.getBoundingClientRect().height>Ae+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`);this._updateXPosition(),this._parent.appendChild(this._dropdown)}}_updateXPosition(){const P=this._select.getBoundingClientRect(),ie=this._parent.getBoundingClientRect();this._dropdown.style.left=P.left-ie.left+"px",this._dropdown.style.width=P.width+"px",this._dropdown.style.minWidth=P.width+"px"}_updateYPosition(){const P=this._select.getBoundingClientRect(),ie=this._parent.getBoundingClientRect(),Ae=P.height;"top"===this._currentPosition?(this._dropdown.style.bottom=ie.bottom-P.bottom+Ae+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=P.top-ie.top+Ae+"px",this._dropdown.style.bottom="auto")}_setupMousedownListener(){this._zone.runOutsideAngular(()=>{(0,T.R)(this._dropdown,"mousedown").pipe((0,C.R)(this._destroy$)).subscribe(P=>{"INPUT"!==P.target.tagName&&P.preventDefault()})})}}return K.\u0275fac=function(P){return new(P||K)(i.\u0275\u0275directiveInject(i.Renderer2),i.\u0275\u0275directiveInject(i.NgZone),i.\u0275\u0275directiveInject(hn),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(I.DOCUMENT,8))},K.\u0275cmp=i.\u0275\u0275defineComponent({type:K,selectors:[["ng-dropdown-panel"]],viewQuery:function(P,ie){if(1&P&&(i.\u0275\u0275viewQuery(b,7,i.ElementRef),i.\u0275\u0275viewQuery(v,7,i.ElementRef),i.\u0275\u0275viewQuery(d,7,i.ElementRef)),2&P){let Ae;i.\u0275\u0275queryRefresh(Ae=i.\u0275\u0275loadQuery())&&(ie.contentElementRef=Ae.first),i.\u0275\u0275queryRefresh(Ae=i.\u0275\u0275loadQuery())&&(ie.scrollElementRef=Ae.first),i.\u0275\u0275queryRefresh(Ae=i.\u0275\u0275loadQuery())&&(ie.paddingElementRef=Ae.first)}},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[i.\u0275\u0275NgOnChangesFeature],ngContentSelectors:W,decls:9,vars:6,consts:[["class","ng-dropdown-header",4,"ngIf"],[1,"ng-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","ng-dropdown-footer",4,"ngIf"],[1,"ng-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ng-dropdown-footer"]],template:function(P,ie){1&P&&(i.\u0275\u0275projectionDef(),i.\u0275\u0275template(0,m,2,4,"div",0),i.\u0275\u0275elementStart(1,"div",1,2),i.\u0275\u0275element(3,"div",null,3),i.\u0275\u0275elementStart(5,"div",null,4),i.\u0275\u0275projection(7),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(8,h,2,4,"div",5)),2&P&&(i.\u0275\u0275property("ngIf",ie.headerTemplate),i.\u0275\u0275advance(3),i.\u0275\u0275classProp("total-padding",ie.virtualScroll),i.\u0275\u0275advance(2),i.\u0275\u0275classProp("scrollable-content",ie.virtualScroll&&ie.items.length),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",ie.footerTemplate))},directives:[I.NgIf,I.NgTemplateOutlet],encapsulation:2,changeDetection:0}),K})(),Xt=(()=>{class K{constructor(P){this.elementRef=P,this.stateChange$=new M.x,this._disabled=!1}get disabled(){return this._disabled}set disabled(P){this._disabled=this._isDisabled(P)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(P){P.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(P){return null!=P&&"false"!=`${P}`}}return K.\u0275fac=function(P){return new(P||K)(i.\u0275\u0275directiveInject(i.ElementRef))},K.\u0275cmp=i.\u0275\u0275defineComponent({type:K,selectors:[["ng-option"]],inputs:{value:"value",disabled:"disabled"},features:[i.\u0275\u0275NgOnChangesFeature],ngContentSelectors:W,decls:1,vars:0,template:function(P,ie){1&P&&(i.\u0275\u0275projectionDef(),i.\u0275\u0275projection(0))},encapsulation:2,changeDetection:0}),K})(),gr=(()=>{class K{constructor(){this.notFoundText="No items found",this.typeToSearchText="Type to search",this.addTagText="Add item",this.loadingText="Loading...",this.clearAllText="Clear all",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return K.\u0275fac=function(P){return new(P||K)},K.\u0275prov=i.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),Qr=(()=>{class K{warn(P){console.warn(P)}}return K.\u0275fac=function(P){return new(P||K)},K.\u0275prov=i.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();const lr=new i.InjectionToken("ng-select-selection-model");let cr=(()=>{class K{constructor(P,ie,Ae,Ne,qe,Tt,rn){this.classes=P,this.autoFocus=ie,this.config=Ae,this._cd=Tt,this._console=rn,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=en=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.blurEvent=new i.EventEmitter,this.focusEvent=new i.EventEmitter,this.changeEvent=new i.EventEmitter,this.openEvent=new i.EventEmitter,this.closeEvent=new i.EventEmitter,this.searchEvent=new i.EventEmitter,this.clearEvent=new i.EventEmitter,this.addEvent=new i.EventEmitter,this.removeEvent=new i.EventEmitter,this.scroll=new i.EventEmitter,this.scrollToEnd=new i.EventEmitter,this.useDefaultClass=!0,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=er(),this.escapeHTML=!0,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new M.x,this._keyPress$=new M.x,this._onChange=en=>{},this._onTouched=()=>{},this.clearItem=en=>{const sn=this.selectedItems.find(yn=>yn.value===en);this.unselect(sn)},this.trackByOption=(en,sn)=>this.trackByFn?this.trackByFn(sn.value):sn,this._mergeGlobalConfig(Ae),this.itemsList=new wr(this,Ne()),this.element=qe.nativeElement}get items(){return this._items}set items(P){null===P&&(P=[]),this._itemsAreUsed=!0,this._items=P}get compareWith(){return this._compareWith}set compareWith(P){if(null!=P&&!mr(P))throw Error("`compareWith` must be a function.");this._compareWith=P}get clearSearchOnAdd(){return pt(this._clearSearchOnAdd)?this._clearSearchOnAdd:pt(this.config.clearSearchOnAdd)?this.config.clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(P){this._clearSearchOnAdd=P}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get single(){return!this.multiple}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(P=>P.value)}get hasValue(){return this.selectedItems.length>0}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){this._handleKeyPresses(),this._setInputAttributes()}ngOnChanges(P){P.multiple&&this.itemsList.clearSelected(),P.items&&this._setItems(P.items.currentValue||[]),P.isOpen&&(this._manualOpen=pt(P.isOpen.currentValue))}ngAfterViewInit(){this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),pt(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(P){if(Rn[P.which]){if(!1===this.keyDownFn(P))return;this.handleKeyCode(P)}else P.key&&1===P.key.length&&this._keyPress$.next(P.key.toLocaleLowerCase())}handleKeyCode(P){switch(P.which){case Rn.ArrowDown:this._handleArrowDown(P);break;case Rn.ArrowUp:this._handleArrowUp(P);break;case Rn.Space:this._handleSpace(P);break;case Rn.Enter:this._handleEnter(P);break;case Rn.Tab:this._handleTab(P);break;case Rn.Esc:this.close(),P.preventDefault();break;case Rn.Backspace:this._handleBackspace()}}handleMousedown(P){const ie=P.target;"INPUT"!==ie.tagName&&P.preventDefault(),ie.classList.contains("ng-clear-wrapper")?this.handleClearClick():ie.classList.contains("ng-arrow-wrapper")?this.handleArrowClick():ie.classList.contains("ng-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){!this.clearable||(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(P){this.itemsList.clearSelected(),this._handleWriteValue(P),this._cd.markForCheck()}registerOnChange(P){this._onChange=P}registerOnTouched(P){this._onTouched=P}setDisabledState(P){this._disabled=P,this._cd.markForCheck()}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this.itemsList.maxItemsSelected||this._manualOpen||!this._isTypeahead&&!this.addTag&&this.itemsList.noItemsToSelect||(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchTerm||this.focus(),this.detectChanges())}close(){!this.isOpen||this._manualOpen||(this.isOpen=!1,this._isComposing=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this._cd.markForCheck())}toggleItem(P){!P||P.disabled||this.disabled||(this.multiple&&P.selected?this.unselect(P):this.select(P),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(P){P.selected||(this.itemsList.select(P),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(P.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(P){!P||(this.itemsList.unselect(P),this.focus(),this._updateNgModel(),this.removeEvent.emit(P))}selectTag(){let P;P=mr(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const ie=Ae=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(Ae,null):this.itemsList.addItem(Ae);!function(K){return K instanceof Promise}(P)?P&&this.select(ie(P)):P.then(Ae=>this.select(ie(Ae))).catch(()=>{})}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const P=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(ie=>ie.label.toLowerCase()===P)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(ie=>ie.label.toLowerCase()===P))&&!this.loading}showNoItemsFound(){const P=0===this.itemsList.filteredItems.length;return(P&&!this._isTypeahead&&!this.loading||P&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(P){this._isComposing=!1,!this.searchWhileComposing&&this.filter(P)}filter(P){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=P,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(P),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:P,items:this.itemsList.filteredItems.map(ie=>ie.value)}),this.open())}onInputFocus(P){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("ng-select-focused"),this.focusEvent.emit(P),this.focused=!0)}onInputBlur(P){this.element.classList.remove("ng-select-focused"),this.blurEvent.emit(P),!this.isOpen&&!this.disabled&&this._onTouched(),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(P){P.disabled||this.itemsList.markItem(P)}detectChanges(){this._cd.destroyed||this._cd.detectChanges()}_setSearchTermFromItems(){const P=this.selectedItems&&this.selectedItems[0];this.searchTerm=P&&P.label||null}_setItems(P){const ie=P[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=pt(ie)?!Rt(ie):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(P),P.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&pt(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const P=Ae=>{this.items=Ae.map(Ne=>({$ngOptionValue:Ne.value,$ngOptionLabel:Ne.elementRef.nativeElement.innerHTML,disabled:Ne.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},ie=()=>{const Ae=(0,k.T)(this.ngOptions.changes,this._destroy$);(0,k.T)(...this.ngOptions.map(Ne=>Ne.stateChange$)).pipe((0,C.R)(Ae)).subscribe(Ne=>{const qe=this.itemsList.findItem(Ne.value);qe.disabled=Ne.disabled,qe.label=Ne.label||qe.label,this._cd.detectChanges()})};this.ngOptions.changes.pipe((0,j.O)(this.ngOptions),(0,C.R)(this._destroy$)).subscribe(Ae=>{this.bindLabel=this._defaultLabel,P(Ae),ie()})}_isValidWriteValue(P){if(!pt(P)||this.multiple&&""===P||Array.isArray(P)&&0===P.length)return!1;const ie=Ae=>!(!pt(this.compareWith)&&Rt(Ae)&&this.bindValue&&(this._console.warn(`Setting object(${JSON.stringify(Ae)}) as your model with bindValue is not allowed unless [compareWith] is used.`),1));return this.multiple?Array.isArray(P)?P.every(Ae=>ie(Ae)):(this._console.warn("Multiple select ngModel should be array."),!1):ie(P)}_handleWriteValue(P){if(!this._isValidWriteValue(P))return;const ie=Ae=>{let Ne=this.itemsList.findItem(Ae);if(Ne)this.itemsList.select(Ne);else{const qe=Rt(Ae),Tt=!qe&&!this.bindValue;qe||Tt?this.itemsList.select(this.itemsList.mapItem(Ae,null)):this.bindValue&&(Ne={[this.bindLabel]:null,[this.bindValue]:Ae},this.itemsList.select(this.itemsList.mapItem(Ne,null)))}};this.multiple?P.forEach(Ae=>ie(Ae)):ie(P)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe((0,C.R)(this._destroy$),(0,F.b)(P=>this._pressedKeys.push(P)),(0,U.b)(200),(0,B.h)(()=>this._pressedKeys.length>0),(0,S.U)(()=>this._pressedKeys.join(""))).subscribe(P=>{const ie=this.itemsList.findByLabel(P);ie&&(this.isOpen?(this.itemsList.markItem(ie),this._scrollToMarked(),this._cd.markForCheck()):this.select(ie)),this._pressedKeys=[]})}_setInputAttributes(){const P=this.searchInput.nativeElement,ie={type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId,...this.inputAttrs};for(const Ae of Object.keys(ie))P.setAttribute(Ae,ie[Ae])}_updateNgModel(){const P=[];for(const Ae of this.selectedItems)if(this.bindValue){let Ne=null;Ne=Ae.children?Ae.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(Ae.value,this.bindValue),P.push(Ne)}else P.push(Ae.value);const ie=this.selectedItems.map(Ae=>Ae.value);this.multiple?(this._onChange(P),this.changeEvent.emit(ie)):(this._onChange(pt(P[0])?P[0]:null),this.changeEvent.emit(ie[0])),this._cd.markForCheck()}_clearSearch(){!this.searchTerm||(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(P){this.searchTerm=P,this._isTypeahead&&this.typeahead.next(P)}_scrollToMarked(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){!this.isOpen||!this.dropdownPanel||this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&(this._cd.detectChanges(),this.dropdownPanel.adjustPosition())}_handleTab(P){!1===this.isOpen&&!this.addTag||(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),P.preventDefault()):this.showAddTag?(this.selectTag(),P.preventDefault()):this.close():this.close())}_handleEnter(P){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}P.preventDefault()}_handleSpace(P){this.isOpen||this._manualOpen||(this.open(),P.preventDefault())}_handleArrowDown(P){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),P.preventDefault()}_handleArrowUp(P){!this.isOpen||(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),P.preventDefault())}_nextItemIsTag(P){const ie=this.itemsList.markedIndex+P;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(ie<0||ie===this.itemsList.filteredItems.length)}_handleBackspace(){this.searchTerm||!this.clearable||!this.clearOnBackspace||!this.hasValue||(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const P=this.searchTerm&&this.searchTerm.trim();return P&&P.length>=this.minTermLength}_mergeGlobalConfig(P){this.placeholder=this.placeholder||P.placeholder,this.notFoundText=this.notFoundText||P.notFoundText,this.typeToSearchText=this.typeToSearchText||P.typeToSearchText,this.addTagText=this.addTagText||P.addTagText,this.loadingText=this.loadingText||P.loadingText,this.clearAllText=this.clearAllText||P.clearAllText,this.virtualScroll=pt(this.virtualScroll)?this.virtualScroll:!!pt(P.disableVirtualScroll)&&!P.disableVirtualScroll,this.openOnEnter=pt(this.openOnEnter)?this.openOnEnter:P.openOnEnter,this.appendTo=this.appendTo||P.appendTo,this.bindValue=this.bindValue||P.bindValue,this.bindLabel=this.bindLabel||P.bindLabel,this.appearance=this.appearance||P.appearance}}return K.\u0275fac=function(P){return new(P||K)(i.\u0275\u0275injectAttribute("class"),i.\u0275\u0275injectAttribute("autofocus"),i.\u0275\u0275directiveInject(gr),i.\u0275\u0275directiveInject(lr),i.\u0275\u0275directiveInject(i.ElementRef),i.\u0275\u0275directiveInject(i.ChangeDetectorRef),i.\u0275\u0275directiveInject(Qr))},K.\u0275cmp=i.\u0275\u0275defineComponent({type:K,selectors:[["ng-select"]],contentQueries:function(P,ie,Ae){if(1&P&&(i.\u0275\u0275contentQuery(Ae,Sn,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,xr,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,Wn,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,Fr,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,kr,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,An,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,Mn,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,qn,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,ur,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,Er,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,Sr,5,i.TemplateRef),i.\u0275\u0275contentQuery(Ae,Xt,5)),2&P){let Ne;i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(ie.optionTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(ie.optgroupTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(ie.labelTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(ie.multiLabelTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(ie.headerTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(ie.footerTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(ie.notFoundTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(ie.typeToSearchTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(ie.loadingTextTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(ie.tagTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(ie.loadingSpinnerTemplate=Ne.first),i.\u0275\u0275queryRefresh(Ne=i.\u0275\u0275loadQuery())&&(ie.ngOptions=Ne)}},viewQuery:function(P,ie){if(1&P&&(i.\u0275\u0275viewQuery(Nr,5),i.\u0275\u0275viewQuery(ae,7)),2&P){let Ae;i.\u0275\u0275queryRefresh(Ae=i.\u0275\u0275loadQuery())&&(ie.dropdownPanel=Ae.first),i.\u0275\u0275queryRefresh(Ae=i.\u0275\u0275loadQuery())&&(ie.searchInput=Ae.first)}},hostVars:20,hostBindings:function(P,ie){1&P&&i.\u0275\u0275listener("keydown",function(Ne){return ie.handleKeyDown(Ne)}),2&P&&i.\u0275\u0275classProp("ng-select-typeahead",ie.typeahead)("ng-select-multiple",ie.multiple)("ng-select-taggable",ie.addTag)("ng-select-searchable",ie.searchable)("ng-select-clearable",ie.clearable)("ng-select-opened",ie.isOpen)("ng-select",ie.useDefaultClass)("ng-select-disabled",ie.disabled)("ng-select-filtered",ie.filtered)("ng-select-single",ie.single)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",keyDownFn:"keyDownFn",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",clearSearchOnAdd:"clearSearchOnAdd"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[i.\u0275\u0275ProvidersFeature([{provide:u.JU,useExisting:(0,i.forwardRef)(()=>K),multi:!0},hn]),i.\u0275\u0275NgOnChangesFeature],decls:14,vars:19,consts:[[1,"ng-select-container",3,"mousedown"],[1,"ng-value-container"],[1,"ng-placeholder"],[4,"ngIf"],["role","combobox","aria-haspopup","listbox",1,"ng-input"],["aria-autocomplete","list",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["class","ng-clear-wrapper",3,"title",4,"ngIf"],[1,"ng-arrow-wrapper"],[1,"ng-arrow"],["class","ng-dropdown-panel","role","listbox","aria-label","Options list",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ng-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","ng-value",3,"ng-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"ng-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"ng-value-icon","left",3,"click"],[1,"ng-value-label",3,"ngItemLabel","escape"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"ng-spinner-loader"],[1,"ng-clear-wrapper",3,"title"],["aria-hidden","true",1,"ng-clear"],["role","listbox","aria-label","Options list",1,"ng-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","ng-option",3,"ng-option-disabled","ng-option-selected","ng-optgroup","ng-option","ng-option-child","ng-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","ng-option","role","option",3,"ng-option-marked","mouseover","click",4,"ngIf"],[1,"ng-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"ng-option-label",3,"ngItemLabel","escape"],["role","option",1,"ng-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"ng-tag-label"],["defaultNotFoundTemplate",""],[1,"ng-option","ng-option-disabled"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(P,ie){if(1&P){const Ae=i.\u0275\u0275getCurrentView();i.\u0275\u0275elementStart(0,"div",0),i.\u0275\u0275listener("mousedown",function(qe){return ie.handleMousedown(qe)}),i.\u0275\u0275elementStart(1,"div",1),i.\u0275\u0275elementStart(2,"div",2),i.\u0275\u0275text(3),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(4,G,2,2,"ng-container",3),i.\u0275\u0275template(5,re,1,5,void 0,3),i.\u0275\u0275elementStart(6,"div",4),i.\u0275\u0275elementStart(7,"input",5,6),i.\u0275\u0275listener("input",function(){i.\u0275\u0275restoreView(Ae);const qe=i.\u0275\u0275reference(8);return ie.filter(qe.value)})("compositionstart",function(){return ie.onCompositionStart()})("compositionend",function(){i.\u0275\u0275restoreView(Ae);const qe=i.\u0275\u0275reference(8);return ie.onCompositionEnd(qe.value)})("focus",function(qe){return ie.onInputFocus(qe)})("blur",function(qe){return ie.onInputBlur(qe)})("change",function(qe){return qe.stopPropagation()}),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(9,We,4,1,"ng-container",3),i.\u0275\u0275template(10,tt,3,1,"span",7),i.\u0275\u0275elementStart(11,"span",8),i.\u0275\u0275element(12,"span",9),i.\u0275\u0275elementEnd(),i.\u0275\u0275elementEnd(),i.\u0275\u0275template(13,Tn,7,19,"ng-dropdown-panel",10)}2&P&&(i.\u0275\u0275classProp("ng-appearance-outline","outline"===ie.appearance)("ng-has-value",ie.hasValue),i.\u0275\u0275advance(3),i.\u0275\u0275textInterpolate(ie.placeholder),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",(!ie.multiLabelTemplate||!ie.multiple)&&ie.selectedItems.length>0),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",ie.multiple&&ie.multiLabelTemplate&&ie.selectedValues.length>0),i.\u0275\u0275advance(1),i.\u0275\u0275attribute("aria-expanded",ie.isOpen)("aria-owns",ie.isOpen?ie.dropdownId:null),i.\u0275\u0275advance(1),i.\u0275\u0275property("readOnly",!ie.searchable||ie.itemsList.maxItemsSelected)("disabled",ie.disabled)("value",ie.searchTerm?ie.searchTerm:""),i.\u0275\u0275attribute("id",ie.labelForId)("tabindex",ie.tabIndex)("aria-activedescendant",ie.isOpen?null==ie.itemsList||null==ie.itemsList.markedItem?null:ie.itemsList.markedItem.htmlId:null)("aria-controls",ie.isOpen?ie.dropdownId:null),i.\u0275\u0275advance(2),i.\u0275\u0275property("ngIf",ie.loading),i.\u0275\u0275advance(1),i.\u0275\u0275property("ngIf",ie.showClear()),i.\u0275\u0275advance(3),i.\u0275\u0275property("ngIf",ie.isOpen))},directives:[I.NgIf,I.NgForOf,I.NgTemplateOutlet,Ii,Nr,I.NgClass],styles:['@charset "UTF-8";.ng-select{position:relative;display:block;box-sizing:border-box}.ng-select div,.ng-select input,.ng-select span{box-sizing:border-box}.ng-select [hidden]{display:none}.ng-select.ng-select-searchable .ng-select-container .ng-value-container .ng-input{opacity:1}.ng-select.ng-select-opened .ng-select-container{z-index:1001}.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-placeholder,.ng-select.ng-select-disabled .ng-select-container .ng-value-container .ng-value{-webkit-user-select:none;user-select:none;cursor:default}.ng-select.ng-select-disabled .ng-arrow-wrapper{cursor:default}.ng-select.ng-select-filtered .ng-placeholder{display:none}.ng-select .ng-select-container{cursor:default;display:flex;outline:none;overflow:hidden;position:relative;width:100%}.ng-select .ng-select-container .ng-value-container{display:flex;flex:1}.ng-select .ng-select-container .ng-value-container .ng-input{opacity:0}.ng-select .ng-select-container .ng-value-container .ng-input>input{box-sizing:content-box;background:none transparent;border:0 none;box-shadow:none;outline:none;padding:0;cursor:default;width:100%}.ng-select .ng-select-container .ng-value-container .ng-input>input::-ms-clear{display:none}.ng-select .ng-select-container .ng-value-container .ng-input>input[readonly]{-webkit-user-select:none;user-select:none;width:0;padding:0}.ng-select.ng-select-single.ng-select-filtered .ng-select-container .ng-value-container .ng-value{visibility:hidden}.ng-select.ng-select-single .ng-select-container .ng-value-container,.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input{position:absolute;left:0;width:100%}.ng-select.ng-select-multiple.ng-select-disabled>.ng-select-container .ng-value-container .ng-value .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container{flex-wrap:wrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{position:absolute}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{white-space:nowrap}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value.ng-value-disabled .ng-value-icon{display:none}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value .ng-value-icon{cursor:pointer}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-input{flex:1;z-index:2}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-placeholder{z-index:1}.ng-select .ng-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;user-select:none}.ng-select .ng-clear-wrapper .ng-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.ng-select .ng-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border-top:2px solid rgba(66,66,66,.2);border-right:2px solid rgba(66,66,66,.2);border-bottom:2px solid rgba(66,66,66,.2);border-left:2px solid #424242;transform:translateZ(0);animation:load8 .8s infinite linear}.ng-select .ng-spinner-loader:after{border-radius:50%;width:17px;height:17px}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ng-select .ng-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;user-select:none}.ng-select .ng-arrow-wrapper .ng-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:relative}.ng-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .ng-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:240px;overflow-y:auto}.ng-dropdown-panel .ng-dropdown-panel-items .ng-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option{box-sizing:border-box;cursor:pointer;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .ng-option-label:empty:before{content:"\\200b"}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option .highlighted{font-weight:700;text-decoration:underline}.ng-dropdown-panel .ng-dropdown-panel-items .ng-option.disabled{cursor:default}.ng-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch}.ng-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.ng-dropdown-panel .total-padding{width:1px;opacity:0}\n'],encapsulation:2,changeDetection:0}),K})();function Ie(){return new ye}class ye{constructor(){this._selected=[]}get value(){return this._selected}select(ne,P,ie){if(ne.selected=!0,(!ne.children||!P&&ie)&&this._selected.push(ne),P)if(ne.parent){const Ae=ne.parent.children.length,Ne=ne.parent.children.filter(qe=>qe.selected).length;ne.parent.selected=Ae===Ne}else ne.children&&(this._setChildrenSelectedState(ne.children,!0),this._removeChildren(ne),this._selected=ie&&this._activeChildren(ne)?[...this._selected.filter(Ae=>Ae.parent!==ne),ne]:[...this._selected,...ne.children.filter(Ae=>!Ae.disabled)])}unselect(ne,P){if(this._selected=this._selected.filter(ie=>ie!==ne),ne.selected=!1,P)if(ne.parent&&ne.parent.selected){const ie=ne.parent.children;this._removeParent(ne.parent),this._removeChildren(ne.parent),this._selected.push(...ie.filter(Ae=>Ae!==ne&&!Ae.disabled)),ne.parent.selected=!1}else ne.children&&(this._setChildrenSelectedState(ne.children,!1),this._removeChildren(ne))}clear(ne){this._selected=ne?this._selected.filter(P=>P.disabled):[]}_setChildrenSelectedState(ne,P){for(const ie of ne)ie.disabled||(ie.selected=P)}_removeChildren(ne){this._selected=[...this._selected.filter(P=>P.parent!==ne),...ne.children.filter(P=>P.parent===ne&&P.disabled&&P.selected)]}_removeParent(ne){this._selected=this._selected.filter(P=>P!==ne)}_activeChildren(ne){return ne.children.every(P=>!P.disabled||P.selected)}}let de=(()=>{class K{}return K.\u0275fac=function(P){return new(P||K)},K.\u0275mod=i.\u0275\u0275defineNgModule({type:K}),K.\u0275inj=i.\u0275\u0275defineInjector({providers:[{provide:lr,useValue:Ie}],imports:[[I.CommonModule]]}),K})()},5861:(he,z,l)=>{function i(C,L,j,F,U,B,S){try{var w=C[B](S),E=w.value}catch(M){return void j(M)}w.done?L(E):Promise.resolve(E).then(F,U)}function u(C){return function(){var L=this,j=arguments;return new Promise(function(F,U){var B=C.apply(L,j);function S(E){i(B,F,U,S,w,"next",E)}function w(E){i(B,F,U,S,w,"throw",E)}S(void 0)})}}l.d(z,{Z:()=>u})}}]);