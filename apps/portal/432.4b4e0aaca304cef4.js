(self.webpackChunk_central_factory_portal=self.webpackChunk_central_factory_portal||[]).push([[432],{6432:(ae,N,c)=>{c.r(N);var _=c(1481),l=c(7777),O=c(9283);class M{}const x="*";function U(p,s){return{type:7,name:p,definitions:s,options:{}}}function R(p,s=null){return{type:4,styles:s,timings:p}}function E(p,s=null){return{type:2,steps:p,options:s}}function b(p){return{type:6,styles:p,offset:null}}function T(p,s,o){return{type:0,name:p,styles:s,options:o}}function L(p,s,o=null){return{type:1,expr:p,animation:s,options:o}}function v(p){Promise.resolve(null).then(p)}class h{constructor(s=0,o=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=s+o}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}onStart(s){this._onStartFns.push(s)}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){v(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(s=>s()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(s){this._position=this.totalTime?s*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(s){const o="start"==s?this._onStartFns:this._onDoneFns;o.forEach(m=>m()),o.length=0}}class q{constructor(s){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=s;let o=0,m=0,k=0;const V=this.players.length;0==V?v(()=>this._onFinish()):this.players.forEach(re=>{re.onDone(()=>{++o==V&&this._onFinish()}),re.onDestroy(()=>{++m==V&&this._onDestroy()}),re.onStart(()=>{++k==V&&this._onStart()})}),this.totalTime=this.players.reduce((re,oe)=>Math.max(re,oe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this.players.forEach(s=>s.init())}onStart(s){this._onStartFns.push(s)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(s=>s()),this._onStartFns=[])}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(s=>s.play())}pause(){this.players.forEach(s=>s.pause())}restart(){this.players.forEach(s=>s.restart())}finish(){this._onFinish(),this.players.forEach(s=>s.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(s=>s.destroy()),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}reset(){this.players.forEach(s=>s.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(s){const o=s*this.totalTime;this.players.forEach(m=>{const k=m.totalTime?Math.min(1,o/m.totalTime):1;m.setPosition(k)})}getPosition(){const s=this.players.reduce((o,m)=>null===o||m.totalTime>o.totalTime?m:o,null);return null!=s?s.getPosition():0}beforeDestroy(){this.players.forEach(s=>{s.beforeDestroy&&s.beforeDestroy()})}triggerCallback(s){const o="start"==s?this._onStartFns:this._onDoneFns;o.forEach(m=>m()),o.length=0}}function Ce(){return"undefined"!=typeof window&&void 0!==window.document}function _e(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function pe(p){switch(p.length){case 0:return new h;case 1:return p[0];default:return new q(p)}}function Q(p,s,o,m,k={},V={}){const re=[],oe=[];let ye=-1,Te=null;if(m.forEach(ze=>{const Qe=ze.offset,at=Qe==ye,_t=at&&Te||{};Object.keys(ze).forEach(ut=>{let gt=ut,bt=ze[ut];if("offset"!==ut)switch(gt=s.normalizePropertyName(gt,re),bt){case"!":bt=k[ut];break;case x:bt=V[ut];break;default:bt=s.normalizeStyleValue(ut,gt,bt,re)}_t[gt]=bt}),at||oe.push(_t),Te=_t,ye=Qe}),re.length){const ze="\n - ";throw new Error(`Unable to animate due to the following errors:${ze}${re.join(ze)}`)}return oe}function z(p,s,o,m){switch(s){case"start":p.onStart(()=>m(o&&Y(o,"start",p)));break;case"done":p.onDone(()=>m(o&&Y(o,"done",p)));break;case"destroy":p.onDestroy(()=>m(o&&Y(o,"destroy",p)))}}function Y(p,s,o){const V=G(p.element,p.triggerName,p.fromState,p.toState,s||p.phaseName,o.totalTime??p.totalTime,!!o.disabled),re=p._data;return null!=re&&(V._data=re),V}function G(p,s,o,m,k="",V=0,re){return{element:p,triggerName:s,fromState:o,toState:m,phaseName:k,totalTime:V,disabled:!!re}}function J(p,s,o){let m;return p instanceof Map?(m=p.get(s),m||p.set(s,m=o)):(m=p[s],m||(m=p[s]=o)),m}function $(p){const s=p.indexOf(":");return[p.substring(1,s),p.substr(s+1)]}let ie=(p,s)=>!1,Ee=(p,s,o)=>[];(_e()||"undefined"!=typeof Element)&&(ie=Ce()?(p,s)=>{for(;s&&s!==document.documentElement;){if(s===p)return!0;s=s.parentNode||s.host}return!1}:(p,s)=>p.contains(s),Ee=(p,s,o)=>{let m=[];if(o){const k=p.querySelectorAll(s);for(let V=0;V<k.length;V++)m.push(k[V])}else{const k=p.querySelector(s);k&&m.push(k)}return m});let ge=null,te=!1;function ue(p){ge||(ge=("undefined"!=typeof document?document.body:null)||{},te=!!ge.style&&"WebkitAppearance"in ge.style);let s=!0;return ge.style&&!function(p){return"ebkit"==p.substring(1,6)}(p)&&(s=p in ge.style,!s&&te&&(s="Webkit"+p.charAt(0).toUpperCase()+p.substr(1)in ge.style)),s}const Fe=ie,Je=Ee;function st(p){const s={};return Object.keys(p).forEach(o=>{const m=o.replace(/([a-z])([A-Z])/g,"$1-$2");s[m]=p[o]}),s}let qe=(()=>{class p{validateStyleProperty(o){return ue(o)}matchesElement(o,m){return!1}containsElement(o,m){return Fe(o,m)}query(o,m,k){return Je(o,m,k)}computeStyle(o,m,k){return k||""}animate(o,m,k,V,re,oe=[],ye){return new h(k,V)}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275prov=l.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac}),p})(),vt=(()=>{class p{}return p.NOOP=new qe,p})();const Lr="ng-enter",ar="ng-leave",tr="ng-trigger",dr=".ng-trigger",Jt="ng-animating",Jr=".ng-animating";function Be(p){if("number"==typeof p)return p;const s=p.match(/^(-?[\.\d]+)(m?s)/);return!s||s.length<2?0:Ct(parseFloat(s[1]),s[2])}function Ct(p,s){return"s"===s?1e3*p:p}function Dt(p,s,o){return p.hasOwnProperty("duration")?p:function(p,s,o){let k,V=0,re="";if("string"==typeof p){const oe=p.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===oe)return s.push(`The provided timing value "${p}" is invalid.`),{duration:0,delay:0,easing:""};k=Ct(parseFloat(oe[1]),oe[2]);const ye=oe[3];null!=ye&&(V=Ct(parseFloat(ye),oe[4]));const Te=oe[5];Te&&(re=Te)}else k=p;if(!o){let oe=!1,ye=s.length;k<0&&(s.push("Duration values below 0 are not allowed for this animation step."),oe=!0),V<0&&(s.push("Delay values below 0 are not allowed for this animation step."),oe=!0),oe&&s.splice(ye,0,`The provided timing value "${p}" is invalid.`)}return{duration:k,delay:V,easing:re}}(p,s,o)}function Br(p,s={}){return Object.keys(p).forEach(o=>{s[o]=p[o]}),s}function Fr(p,s,o={}){if(s)for(let m in p)o[m]=p[m];else Br(p,o);return o}function Pr(p,s,o){return o?s+":"+o+";":""}function Rn(p){let s="";for(let o=0;o<p.style.length;o++){const m=p.style.item(o);s+=Pr(0,m,p.style.getPropertyValue(m))}for(const o in p.style)p.style.hasOwnProperty(o)&&!o.startsWith("_")&&(s+=Pr(0,Ms(o),p.style[o]));p.setAttribute("style",s)}function Ir(p,s,o){p.style&&(Object.keys(s).forEach(m=>{const k=pi(m);o&&!o.hasOwnProperty(m)&&(o[m]=p.style[k]),p.style[k]=s[m]}),_e()&&Rn(p))}function Nr(p,s){p.style&&(Object.keys(s).forEach(o=>{const m=pi(o);p.style[m]=""}),_e()&&Rn(p))}function sn(p){return Array.isArray(p)?1==p.length?p[0]:E(p):p}const hi=new RegExp("{{\\s*(.+?)\\s*}}","g");function Qi(p){let s=[];if("string"==typeof p){let o;for(;o=hi.exec(p);)s.push(o[1]);hi.lastIndex=0}return s}function on(p,s,o){const m=p.toString(),k=m.replace(hi,(V,re)=>{let oe=s[re];return s.hasOwnProperty(re)||(o.push(`Please provide a value for the animation param ${re}`),oe=""),oe.toString()});return k==m?p:k}function gn(p){const s=[];let o=p.next();for(;!o.done;)s.push(o.value),o=p.next();return s}const Zi=/-+([a-z0-9])/g;function pi(p){return p.replace(Zi,(...s)=>s[1].toUpperCase())}function Ms(p){return p.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function mi(p,s){return 0===p||0===s}function vi(p,s,o){const m=Object.keys(o);if(m.length&&s.length){let V=s[0],re=[];if(m.forEach(oe=>{V.hasOwnProperty(oe)||re.push(oe),V[oe]=o[oe]}),re.length)for(var k=1;k<s.length;k++){let oe=s[k];re.forEach(function(ye){oe[ye]=ur(p,ye)})}}return s}function yr(p,s,o){switch(s.type){case 7:return p.visitTrigger(s,o);case 0:return p.visitState(s,o);case 1:return p.visitTransition(s,o);case 2:return p.visitSequence(s,o);case 3:return p.visitGroup(s,o);case 4:return p.visitAnimate(s,o);case 5:return p.visitKeyframes(s,o);case 6:return p.visitStyle(s,o);case 8:return p.visitReference(s,o);case 9:return p.visitAnimateChild(s,o);case 10:return p.visitAnimateRef(s,o);case 11:return p.visitQuery(s,o);case 12:return p.visitStagger(s,o);default:throw new Error(`Unable to resolve animation metadata node #${s.type}`)}}function ur(p,s){return window.getComputedStyle(p)[s]}function an(p,s){const o=[];return"string"==typeof p?p.split(/\s*,\s*/).forEach(m=>function(p,s,o){if(":"==p[0]){const ye=function(p,s){switch(p){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(o,m)=>parseFloat(m)>parseFloat(o);case":decrement":return(o,m)=>parseFloat(m)<parseFloat(o);default:return s.push(`The transition alias value "${p}" is not supported`),"* => *"}}(p,o);if("function"==typeof ye)return void s.push(ye);p=ye}const m=p.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==m||m.length<4)return o.push(`The provided transition expression "${p}" is not supported`),s;const k=m[1],V=m[2],re=m[3];s.push(kn(k,re));"<"==V[0]&&!("*"==k&&"*"==re)&&s.push(kn(re,k))}(m,o,s)):o.push(p),o}const zr=new Set(["true","1"]),xn=new Set(["false","0"]);function kn(p,s){const o=zr.has(p)||xn.has(p),m=zr.has(s)||xn.has(s);return(k,V)=>{let re="*"==p||p==k,oe="*"==s||s==V;return!re&&o&&"boolean"==typeof k&&(re=k?zr.has(p):xn.has(p)),!oe&&m&&"boolean"==typeof V&&(oe=V?zr.has(s):xn.has(s)),re&&oe}}const De=new RegExp("s*:selfs*,?","g");function ve(p,s,o){return new Ae(p).build(s,o)}class Ae{constructor(s){this._driver=s}build(s,o){const m=new Tt(o);return this._resetContextStyleTimingState(m),yr(this,sn(s),m)}_resetContextStyleTimingState(s){s.currentQuerySelector="",s.collectedStyles={},s.collectedStyles[""]={},s.currentTime=0}visitTrigger(s,o){let m=o.queryCount=0,k=o.depCount=0;const V=[],re=[];return"@"==s.name.charAt(0)&&o.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),s.definitions.forEach(oe=>{if(this._resetContextStyleTimingState(o),0==oe.type){const ye=oe,Te=ye.name;Te.toString().split(/\s*,\s*/).forEach(ze=>{ye.name=ze,V.push(this.visitState(ye,o))}),ye.name=Te}else if(1==oe.type){const ye=this.visitTransition(oe,o);m+=ye.queryCount,k+=ye.depCount,re.push(ye)}else o.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:s.name,states:V,transitions:re,queryCount:m,depCount:k,options:null}}visitState(s,o){const m=this.visitStyle(s.styles,o),k=s.options&&s.options.params||null;if(m.containsDynamicStyles){const V=new Set,re=k||{};if(m.styles.forEach(oe=>{if(hr(oe)){const ye=oe;Object.keys(ye).forEach(Te=>{Qi(ye[Te]).forEach(ze=>{re.hasOwnProperty(ze)||V.add(ze)})})}}),V.size){const oe=gn(V.values());o.errors.push(`state("${s.name}", ...) must define default values for all the following style substitutions: ${oe.join(", ")}`)}}return{type:0,name:s.name,style:m,options:k?{params:k}:null}}visitTransition(s,o){o.queryCount=0,o.depCount=0;const m=yr(this,sn(s.animation),o);return{type:1,matchers:an(s.expr,o.errors),animation:m,queryCount:o.queryCount,depCount:o.depCount,options:Cr(s.options)}}visitSequence(s,o){return{type:2,steps:s.steps.map(m=>yr(this,m,o)),options:Cr(s.options)}}visitGroup(s,o){const m=o.currentTime;let k=0;const V=s.steps.map(re=>{o.currentTime=m;const oe=yr(this,re,o);return k=Math.max(k,o.currentTime),oe});return o.currentTime=k,{type:3,steps:V,options:Cr(s.options)}}visitAnimate(s,o){const m=function(p,s){let o=null;if(p.hasOwnProperty("duration"))o=p;else if("number"==typeof p)return Ji(Dt(p,s).duration,0,"");const m=p;if(m.split(/\s+/).some(V=>"{"==V.charAt(0)&&"{"==V.charAt(1))){const V=Ji(0,0,"");return V.dynamic=!0,V.strValue=m,V}return o=o||Dt(m,s),Ji(o.duration,o.delay,o.easing)}(s.timings,o.errors);o.currentAnimateTimings=m;let k,V=s.styles?s.styles:b({});if(5==V.type)k=this.visitKeyframes(V,o);else{let re=s.styles,oe=!1;if(!re){oe=!0;const Te={};m.easing&&(Te.easing=m.easing),re=b(Te)}o.currentTime+=m.duration+m.delay;const ye=this.visitStyle(re,o);ye.isEmptyStep=oe,k=ye}return o.currentAnimateTimings=null,{type:4,timings:m,style:k,options:null}}visitStyle(s,o){const m=this._makeStyleAst(s,o);return this._validateStyleAst(m,o),m}_makeStyleAst(s,o){const m=[];Array.isArray(s.styles)?s.styles.forEach(re=>{"string"==typeof re?re==x?m.push(re):o.errors.push(`The provided style string value ${re} is not allowed.`):m.push(re)}):m.push(s.styles);let k=!1,V=null;return m.forEach(re=>{if(hr(re)){const oe=re,ye=oe.easing;if(ye&&(V=ye,delete oe.easing),!k)for(let Te in oe)if(oe[Te].toString().indexOf("{{")>=0){k=!0;break}}}),{type:6,styles:m,easing:V,offset:s.offset,containsDynamicStyles:k,options:null}}_validateStyleAst(s,o){const m=o.currentAnimateTimings;let k=o.currentTime,V=o.currentTime;m&&V>0&&(V-=m.duration+m.delay),s.styles.forEach(re=>{"string"!=typeof re&&Object.keys(re).forEach(oe=>{if(!this._driver.validateStyleProperty(oe))return void o.errors.push(`The provided animation property "${oe}" is not a supported CSS property for animations`);const ye=o.collectedStyles[o.currentQuerySelector],Te=ye[oe];let ze=!0;Te&&(V!=k&&V>=Te.startTime&&k<=Te.endTime&&(o.errors.push(`The CSS property "${oe}" that exists between the times of "${Te.startTime}ms" and "${Te.endTime}ms" is also being animated in a parallel animation between the times of "${V}ms" and "${k}ms"`),ze=!1),V=Te.startTime),ze&&(ye[oe]={startTime:V,endTime:k}),o.options&&function(p,s,o){const m=s.params||{},k=Qi(p);k.length&&k.forEach(V=>{m.hasOwnProperty(V)||o.push(`Unable to resolve the local animation param ${V} in the given list of values`)})}(re[oe],o.options,o.errors)})})}visitKeyframes(s,o){const m={type:5,styles:[],options:null};if(!o.currentAnimateTimings)return o.errors.push("keyframes() must be placed inside of a call to animate()"),m;let V=0;const re=[];let oe=!1,ye=!1,Te=0;const ze=s.steps.map(Vt=>{const $t=this._makeStyleAst(Vt,o);let Er=null!=$t.offset?$t.offset:function(p){if("string"==typeof p)return null;let s=null;if(Array.isArray(p))p.forEach(o=>{if(hr(o)&&o.hasOwnProperty("offset")){const m=o;s=parseFloat(m.offset),delete m.offset}});else if(hr(p)&&p.hasOwnProperty("offset")){const o=p;s=parseFloat(o.offset),delete o.offset}return s}($t.styles),sr=0;return null!=Er&&(V++,sr=$t.offset=Er),ye=ye||sr<0||sr>1,oe=oe||sr<Te,Te=sr,re.push(sr),$t});ye&&o.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),oe&&o.errors.push("Please ensure that all keyframe offsets are in order");const Qe=s.steps.length;let at=0;V>0&&V<Qe?o.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==V&&(at=1/(Qe-1));const _t=Qe-1,ut=o.currentTime,gt=o.currentAnimateTimings,bt=gt.duration;return ze.forEach((Vt,$t)=>{const Er=at>0?$t==_t?1:at*$t:re[$t],sr=Er*bt;o.currentTime=ut+gt.delay+sr,gt.duration=sr,this._validateStyleAst(Vt,o),Vt.offset=Er,m.styles.push(Vt)}),m}visitReference(s,o){return{type:8,animation:yr(this,sn(s.animation),o),options:Cr(s.options)}}visitAnimateChild(s,o){return o.depCount++,{type:9,options:Cr(s.options)}}visitAnimateRef(s,o){return{type:10,animation:this.visitReference(s.animation,o),options:Cr(s.options)}}visitQuery(s,o){const m=o.currentQuerySelector,k=s.options||{};o.queryCount++,o.currentQuery=s;const[V,re]=function(p){const s=!!p.split(/\s*,\s*/).find(o=>":self"==o);return s&&(p=p.replace(De,"")),p=p.replace(/@\*/g,dr).replace(/@\w+/g,o=>dr+"-"+o.substr(1)).replace(/:animating/g,Jr),[p,s]}(s.selector);o.currentQuerySelector=m.length?m+" "+V:V,J(o.collectedStyles,o.currentQuerySelector,{});const oe=yr(this,sn(s.animation),o);return o.currentQuery=null,o.currentQuerySelector=m,{type:11,selector:V,limit:k.limit||0,optional:!!k.optional,includeSelf:re,animation:oe,originalSelector:s.selector,options:Cr(s.options)}}visitStagger(s,o){o.currentQuery||o.errors.push("stagger() can only be used inside of query()");const m="full"===s.timings?{duration:0,delay:0,easing:"full"}:Dt(s.timings,o.errors,!0);return{type:12,animation:yr(this,sn(s.animation),o),timings:m,options:null}}}class Tt{constructor(s){this.errors=s,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function hr(p){return!Array.isArray(p)&&"object"==typeof p}function Cr(p){return p?(p=Br(p)).params&&(p.params=function(p){return p?Br(p):null}(p.params)):p={},p}function Ji(p,s,o){return{duration:p,delay:s,easing:o}}function Xi(p,s,o,m,k,V,re=null,oe=!1){return{type:1,element:p,keyframes:s,preStyleProps:o,postStyleProps:m,duration:k,delay:V,totalTime:k+V,easing:re,subTimeline:oe}}class Jn{constructor(){this._map=new Map}get(s){return this._map.get(s)||[]}append(s,o){let m=this._map.get(s);m||this._map.set(s,m=[]),m.push(...o)}has(s){return this._map.has(s)}clear(){this._map.clear()}}const ks=new RegExp(":enter","g"),Ls=new RegExp(":leave","g");function pr(p,s,o,m,k,V={},re={},oe,ye,Te=[]){return(new Lo).buildKeyframes(p,s,o,m,k,V,re,oe,ye,Te)}class Lo{buildKeyframes(s,o,m,k,V,re,oe,ye,Te,ze=[]){Te=Te||new Jn;const Qe=new gi(s,o,Te,k,V,ze,[]);Qe.options=ye,Qe.currentTimeline.setStyles([re],null,Qe.errors,ye),yr(this,m,Qe);const at=Qe.timelines.filter(_t=>_t.containsAnimation());if(at.length&&Object.keys(oe).length){const _t=at[at.length-1];_t.allowOnlyTimelineStyles()||_t.setStyles([oe],null,Qe.errors,ye)}return at.length?at.map(_t=>_t.buildKeyframes()):[Xi(o,[],[],[],0,0,"",!1)]}visitTrigger(s,o){}visitState(s,o){}visitTransition(s,o){}visitAnimateChild(s,o){const m=o.subInstructions.get(o.element);if(m){const k=o.createSubContext(s.options),V=o.currentTimeline.currentTime,re=this._visitSubInstructions(m,k,k.options);V!=re&&o.transformIntoNewTimeline(re)}o.previousNode=s}visitAnimateRef(s,o){const m=o.createSubContext(s.options);m.transformIntoNewTimeline(),this.visitReference(s.animation,m),o.transformIntoNewTimeline(m.currentTimeline.currentTime),o.previousNode=s}_visitSubInstructions(s,o,m){let V=o.currentTimeline.currentTime;const re=null!=m.duration?Be(m.duration):null,oe=null!=m.delay?Be(m.delay):null;return 0!==re&&s.forEach(ye=>{const Te=o.appendInstructionToTimeline(ye,re,oe);V=Math.max(V,Te.duration+Te.delay)}),V}visitReference(s,o){o.updateOptions(s.options,!0),yr(this,s.animation,o),o.previousNode=s}visitSequence(s,o){const m=o.subContextCount;let k=o;const V=s.options;if(V&&(V.params||V.delay)&&(k=o.createSubContext(V),k.transformIntoNewTimeline(),null!=V.delay)){6==k.previousNode.type&&(k.currentTimeline.snapshotCurrentStyles(),k.previousNode=Bn);const re=Be(V.delay);k.delayNextStep(re)}s.steps.length&&(s.steps.forEach(re=>yr(this,re,k)),k.currentTimeline.applyStylesToKeyframe(),k.subContextCount>m&&k.transformIntoNewTimeline()),o.previousNode=s}visitGroup(s,o){const m=[];let k=o.currentTimeline.currentTime;const V=s.options&&s.options.delay?Be(s.options.delay):0;s.steps.forEach(re=>{const oe=o.createSubContext(s.options);V&&oe.delayNextStep(V),yr(this,re,oe),k=Math.max(k,oe.currentTimeline.currentTime),m.push(oe.currentTimeline)}),m.forEach(re=>o.currentTimeline.mergeTimelineCollectedStyles(re)),o.transformIntoNewTimeline(k),o.previousNode=s}_visitTiming(s,o){if(s.dynamic){const m=s.strValue;return Dt(o.params?on(m,o.params,o.errors):m,o.errors)}return{duration:s.duration,delay:s.delay,easing:s.easing}}visitAnimate(s,o){const m=o.currentAnimateTimings=this._visitTiming(s.timings,o),k=o.currentTimeline;m.delay&&(o.incrementTime(m.delay),k.snapshotCurrentStyles());const V=s.style;5==V.type?this.visitKeyframes(V,o):(o.incrementTime(m.duration),this.visitStyle(V,o),k.applyStylesToKeyframe()),o.currentAnimateTimings=null,o.previousNode=s}visitStyle(s,o){const m=o.currentTimeline,k=o.currentAnimateTimings;!k&&m.getCurrentStyleProperties().length&&m.forwardFrame();const V=k&&k.easing||s.easing;s.isEmptyStep?m.applyEmptyStep(V):m.setStyles(s.styles,V,o.errors,o.options),o.previousNode=s}visitKeyframes(s,o){const m=o.currentAnimateTimings,k=o.currentTimeline.duration,V=m.duration,oe=o.createSubContext().currentTimeline;oe.easing=m.easing,s.styles.forEach(ye=>{oe.forwardTime((ye.offset||0)*V),oe.setStyles(ye.styles,ye.easing,o.errors,o.options),oe.applyStylesToKeyframe()}),o.currentTimeline.mergeTimelineCollectedStyles(oe),o.transformIntoNewTimeline(k+V),o.previousNode=s}visitQuery(s,o){const m=o.currentTimeline.currentTime,k=s.options||{},V=k.delay?Be(k.delay):0;V&&(6===o.previousNode.type||0==m&&o.currentTimeline.getCurrentStyleProperties().length)&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=Bn);let re=m;const oe=o.invokeQuery(s.selector,s.originalSelector,s.limit,s.includeSelf,!!k.optional,o.errors);o.currentQueryTotal=oe.length;let ye=null;oe.forEach((Te,ze)=>{o.currentQueryIndex=ze;const Qe=o.createSubContext(s.options,Te);V&&Qe.delayNextStep(V),Te===o.element&&(ye=Qe.currentTimeline),yr(this,s.animation,Qe),Qe.currentTimeline.applyStylesToKeyframe(),re=Math.max(re,Qe.currentTimeline.currentTime)}),o.currentQueryIndex=0,o.currentQueryTotal=0,o.transformIntoNewTimeline(re),ye&&(o.currentTimeline.mergeTimelineCollectedStyles(ye),o.currentTimeline.snapshotCurrentStyles()),o.previousNode=s}visitStagger(s,o){const m=o.parentContext,k=o.currentTimeline,V=s.timings,re=Math.abs(V.duration),oe=re*(o.currentQueryTotal-1);let ye=re*o.currentQueryIndex;switch(V.duration<0?"reverse":V.easing){case"reverse":ye=oe-ye;break;case"full":ye=m.currentStaggerTime}const ze=o.currentTimeline;ye&&ze.delayNextStep(ye);const Qe=ze.currentTime;yr(this,s.animation,o),o.previousNode=s,m.currentStaggerTime=k.currentTime-Qe+(k.startTime-m.currentTimeline.startTime)}}const Bn={};class gi{constructor(s,o,m,k,V,re,oe,ye){this._driver=s,this.element=o,this.subInstructions=m,this._enterClassName=k,this._leaveClassName=V,this.errors=re,this.timelines=oe,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ye||new Xn(this._driver,o,0),oe.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(s,o){if(!s)return;const m=s;let k=this.options;null!=m.duration&&(k.duration=Be(m.duration)),null!=m.delay&&(k.delay=Be(m.delay));const V=m.params;if(V){let re=k.params;re||(re=this.options.params={}),Object.keys(V).forEach(oe=>{(!o||!re.hasOwnProperty(oe))&&(re[oe]=on(V[oe],re,this.errors))})}}_copyOptions(){const s={};if(this.options){const o=this.options.params;if(o){const m=s.params={};Object.keys(o).forEach(k=>{m[k]=o[k]})}}return s}createSubContext(s=null,o,m){const k=o||this.element,V=new gi(this._driver,k,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(k,m||0));return V.previousNode=this.previousNode,V.currentAnimateTimings=this.currentAnimateTimings,V.options=this._copyOptions(),V.updateOptions(s),V.currentQueryIndex=this.currentQueryIndex,V.currentQueryTotal=this.currentQueryTotal,V.parentContext=this,this.subContextCount++,V}transformIntoNewTimeline(s){return this.previousNode=Bn,this.currentTimeline=this.currentTimeline.fork(this.element,s),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(s,o,m){const k={duration:o??s.duration,delay:this.currentTimeline.currentTime+(m??0)+s.delay,easing:""},V=new Bs(this._driver,s.element,s.keyframes,s.preStyleProps,s.postStyleProps,k,s.stretchStartingKeyframe);return this.timelines.push(V),k}incrementTime(s){this.currentTimeline.forwardTime(this.currentTimeline.duration+s)}delayNextStep(s){s>0&&this.currentTimeline.delayNextStep(s)}invokeQuery(s,o,m,k,V,re){let oe=[];if(k&&oe.push(this.element),s.length>0){s=(s=s.replace(ks,"."+this._enterClassName)).replace(Ls,"."+this._leaveClassName);let Te=this._driver.query(this.element,s,1!=m);0!==m&&(Te=m<0?Te.slice(Te.length+m,Te.length):Te.slice(0,m)),oe.push(...Te)}return!V&&0==oe.length&&re.push(`\`query("${o}")\` returned zero elements. (Use \`query("${o}", { optional: true })\` if you wish to allow this.)`),oe}}class Xn{constructor(s,o,m,k){this._driver=s,this.element=o,this.startTime=m,this._elementTimelineStylesLookup=k,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(o),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(o,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(s){const o=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||o?(this.forwardTime(this.currentTime+s),o&&this.snapshotCurrentStyles()):this.startTime+=s}fork(s,o){return this.applyStylesToKeyframe(),new Xn(this._driver,s,o||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(s){this.applyStylesToKeyframe(),this.duration=s,this._loadKeyframe()}_updateStyle(s,o){this._localTimelineStyles[s]=o,this._globalTimelineStyles[s]=o,this._styleSummary[s]={time:this.currentTime,value:o}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(s){s&&(this._previousKeyframe.easing=s),Object.keys(this._globalTimelineStyles).forEach(o=>{this._backFill[o]=this._globalTimelineStyles[o]||x,this._currentKeyframe[o]=x}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(s,o,m,k){o&&(this._previousKeyframe.easing=o);const V=k&&k.params||{},re=function(p,s){const o={};let m;return p.forEach(k=>{"*"===k?(m=m||Object.keys(s),m.forEach(V=>{o[V]=x})):Fr(k,!1,o)}),o}(s,this._globalTimelineStyles);Object.keys(re).forEach(oe=>{const ye=on(re[oe],V,m);this._pendingStyles[oe]=ye,this._localTimelineStyles.hasOwnProperty(oe)||(this._backFill[oe]=this._globalTimelineStyles.hasOwnProperty(oe)?this._globalTimelineStyles[oe]:x),this._updateStyle(oe,ye)})}applyStylesToKeyframe(){const s=this._pendingStyles,o=Object.keys(s);0!=o.length&&(this._pendingStyles={},o.forEach(m=>{this._currentKeyframe[m]=s[m]}),Object.keys(this._localTimelineStyles).forEach(m=>{this._currentKeyframe.hasOwnProperty(m)||(this._currentKeyframe[m]=this._localTimelineStyles[m])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(s=>{const o=this._localTimelineStyles[s];this._pendingStyles[s]=o,this._updateStyle(s,o)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const s=[];for(let o in this._currentKeyframe)s.push(o);return s}mergeTimelineCollectedStyles(s){Object.keys(s._styleSummary).forEach(o=>{const m=this._styleSummary[o],k=s._styleSummary[o];(!m||k.time>m.time)&&this._updateStyle(o,k.value)})}buildKeyframes(){this.applyStylesToKeyframe();const s=new Set,o=new Set,m=1===this._keyframes.size&&0===this.duration;let k=[];this._keyframes.forEach((oe,ye)=>{const Te=Fr(oe,!0);Object.keys(Te).forEach(ze=>{const Qe=Te[ze];"!"==Qe?s.add(ze):Qe==x&&o.add(ze)}),m||(Te.offset=ye/this.duration),k.push(Te)});const V=s.size?gn(s.values()):[],re=o.size?gn(o.values()):[];if(m){const oe=k[0],ye=Br(oe);oe.offset=0,ye.offset=1,k=[oe,ye]}return Xi(this.element,k,V,re,this.duration,this.startTime,this.easing,!1)}}class Bs extends Xn{constructor(s,o,m,k,V,re,oe=!1){super(s,o,re.delay),this.keyframes=m,this.preStyleProps=k,this.postStyleProps=V,this._stretchStartingKeyframe=oe,this.timings={duration:re.duration,delay:re.delay,easing:re.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let s=this.keyframes,{delay:o,duration:m,easing:k}=this.timings;if(this._stretchStartingKeyframe&&o){const V=[],re=m+o,oe=o/re,ye=Fr(s[0],!1);ye.offset=0,V.push(ye);const Te=Fr(s[0],!1);Te.offset=Fs(oe),V.push(Te);const ze=s.length-1;for(let Qe=1;Qe<=ze;Qe++){let at=Fr(s[Qe],!1);at.offset=Fs((o+at.offset*m)/re),V.push(at)}m=re,o=0,k="",s=V}return Xi(this.element,s,this.preStyleProps,this.postStyleProps,m,o,k,!0)}}function Fs(p,s=3){const o=Math.pow(10,s-1);return Math.round(p*o)/o}class yi{}class Fo extends yi{normalizePropertyName(s,o){return pi(s)}normalizeStyleValue(s,o,m,k){let V="";const re=m.toString().trim();if(Ns[o]&&0!==m&&"0"!==m)if("number"==typeof m)V="px";else{const oe=m.match(/^[+-]?[\d\.]+([a-z]*)$/);oe&&0==oe[1].length&&k.push(`Please provide a CSS unit value for ${s}:${m}`)}return re+V}}const Ns=(()=>function(p){const s={};return p.forEach(o=>s[o]=!0),s}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function un(p,s,o,m,k,V,re,oe,ye,Te,ze,Qe,at){return{type:0,element:p,triggerName:s,isRemovalTransition:k,fromState:o,fromStyles:V,toState:m,toStyles:re,timelines:oe,queriedElements:ye,preStyleProps:Te,postStyleProps:ze,totalTime:Qe,errors:at}}const Xr={};class js{constructor(s,o,m){this._triggerName=s,this.ast=o,this._stateStyles=m}match(s,o,m,k){return function(p,s,o,m,k){return p.some(V=>V(s,o,m,k))}(this.ast.matchers,s,o,m,k)}buildStyles(s,o,m){const k=this._stateStyles["*"],V=this._stateStyles[s],re=k?k.buildStyles(o,m):{};return V?V.buildStyles(o,m):re}build(s,o,m,k,V,re,oe,ye,Te,ze){const Qe=[],at=this.ast.options&&this.ast.options.params||Xr,ut=this.buildStyles(m,oe&&oe.params||Xr,Qe),gt=ye&&ye.params||Xr,bt=this.buildStyles(k,gt,Qe),Vt=new Set,$t=new Map,Er=new Map,sr="void"===k,ln={params:{...at,...gt}},tn=ze?[]:pr(s,o,this.ast.animation,V,re,ut,bt,ln,Te,Qe);let wr=0;if(tn.forEach(dn=>{wr=Math.max(dn.duration+dn.delay,wr)}),Qe.length)return un(o,this._triggerName,m,k,sr,ut,bt,[],[],$t,Er,wr,Qe);tn.forEach(dn=>{const Hr=dn.element,As=J($t,Hr,{});dn.preStyleProps.forEach(hn=>As[hn]=!0);const Zn=J(Er,Hr,{});dn.postStyleProps.forEach(hn=>Zn[hn]=!0),Hr!==o&&Vt.add(Hr)});const fn=gn(Vt.values());return un(o,this._triggerName,m,k,sr,ut,bt,tn,fn,$t,Er,wr)}}class es{constructor(s,o,m){this.styles=s,this.defaultParams=o,this.normalizer=m}buildStyles(s,o){const m={},k=Br(this.defaultParams);return Object.keys(s).forEach(V=>{const re=s[V];null!=re&&(k[V]=re)}),this.styles.styles.forEach(V=>{if("string"!=typeof V){const re=V;Object.keys(re).forEach(oe=>{let ye=re[oe];ye.length>1&&(ye=on(ye,k,o));const Te=this.normalizer.normalizePropertyName(oe,o);ye=this.normalizer.normalizeStyleValue(oe,Te,ye,o),m[Te]=ye})}}),m}}class Us{constructor(s,o,m){this.name=s,this.ast=o,this._normalizer=m,this.transitionFactories=[],this.states={},o.states.forEach(k=>{this.states[k.name]=new es(k.style,k.options&&k.options.params||{},m)}),zs(this.states,"true","1"),zs(this.states,"false","0"),o.transitions.forEach(k=>{this.transitionFactories.push(new js(s,k,this.states))}),this.fallbackTransition=function(p,s,o){return new js(p,{type:1,animation:{type:2,steps:[],options:null},matchers:[(re,oe)=>!0],options:null,queryCount:0,depCount:0},s)}(s,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(s,o,m,k){return this.transitionFactories.find(re=>re.match(s,o,m,k))||null}matchStyles(s,o,m){return this.fallbackTransition.buildStyles(s,o,m)}}function zs(p,s,o){p.hasOwnProperty(s)?p.hasOwnProperty(o)||(p[o]=p[s]):p.hasOwnProperty(o)&&(p[s]=p[o])}const Uo=new Jn;class Ws{constructor(s,o,m){this.bodyNode=s,this._driver=o,this._normalizer=m,this._animations={},this._playersById={},this.players=[]}register(s,o){const m=[],k=ve(this._driver,o,m);if(m.length)throw new Error(`Unable to build the animation due to the following errors: ${m.join("\n")}`);this._animations[s]=k}_buildPlayer(s,o,m){const k=s.element,V=Q(0,this._normalizer,0,s.keyframes,o,m);return this._driver.animate(k,V,s.duration,s.delay,s.easing,[],!0)}create(s,o,m={}){const k=[],V=this._animations[s];let re;const oe=new Map;if(V?(re=pr(this._driver,o,V,Lr,ar,{},{},m,Uo,k),re.forEach(ze=>{const Qe=J(oe,ze.element,{});ze.postStyleProps.forEach(at=>Qe[at]=null)})):(k.push("The requested animation doesn't exist or has already been destroyed"),re=[]),k.length)throw new Error(`Unable to create the animation due to the following errors: ${k.join("\n")}`);oe.forEach((ze,Qe)=>{Object.keys(ze).forEach(at=>{ze[at]=this._driver.computeStyle(Qe,at,x)})});const Te=pe(re.map(ze=>{const Qe=oe.get(ze.element);return this._buildPlayer(ze,{},Qe)}));return this._playersById[s]=Te,Te.onDestroy(()=>this.destroy(s)),this.players.push(Te),Te}destroy(s){const o=this._getPlayer(s);o.destroy(),delete this._playersById[s];const m=this.players.indexOf(o);m>=0&&this.players.splice(m,1)}_getPlayer(s){const o=this._playersById[s];if(!o)throw new Error(`Unable to find the timeline player referenced by ${s}`);return o}listen(s,o,m,k){const V=G(o,"","","");return z(this._getPlayer(s),m,V,k),()=>{}}command(s,o,m,k){if("register"==m)return void this.register(s,k[0]);if("create"==m)return void this.create(s,o,k[0]||{});const V=this._getPlayer(s);switch(m){case"play":V.play();break;case"pause":V.pause();break;case"reset":V.reset();break;case"restart":V.restart();break;case"finish":V.finish();break;case"init":V.init();break;case"setPosition":V.setPosition(parseFloat(k[0]));break;case"destroy":this.destroy(s)}}}const Vs="ng-animate-queued",bi="ng-animate-disabled",Vo=[],Wr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},yn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Tr="__ng_removed";class Hs{constructor(s,o=""){this.namespaceId=o;const m=s&&s.hasOwnProperty("value");if(this.value=(m?s.value:s)??null,m){const V=Br(s);delete V.value,this.options=V}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(s){const o=s.params;if(o){const m=this.options.params;Object.keys(o).forEach(k=>{null==m[k]&&(m[k]=o[k])})}}}const Fn="void",ts=new Hs(Fn);class Ko{constructor(s,o,m){this.id=s,this.hostElement=o,this._engine=m,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+s,Rr(o,this._hostClassName)}listen(s,o,m,k){if(!this._triggers.hasOwnProperty(o))throw new Error(`Unable to listen on the animation trigger event "${m}" because the animation trigger "${o}" doesn't exist!`);if(null==m||0==m.length)throw new Error(`Unable to listen on the animation trigger "${o}" because the provided event is undefined!`);if("start"!=(p=m)&&"done"!=p)throw new Error(`The provided animation trigger event "${m}" for the animation trigger "${o}" is not supported!`);var p;const V=J(this._elementListeners,s,[]),re={name:o,phase:m,callback:k};V.push(re);const oe=J(this._engine.statesByElement,s,{});return oe.hasOwnProperty(o)||(Rr(s,tr),Rr(s,tr+"-"+o),oe[o]=ts),()=>{this._engine.afterFlush(()=>{const ye=V.indexOf(re);ye>=0&&V.splice(ye,1),this._triggers[o]||delete oe[o]})}}register(s,o){return!this._triggers[s]&&(this._triggers[s]=o,!0)}_getTrigger(s){const o=this._triggers[s];if(!o)throw new Error(`The provided animation trigger "${s}" has not been registered!`);return o}trigger(s,o,m,k=!0){const V=this._getTrigger(o),re=new rs(this.id,o,s);let oe=this._engine.statesByElement.get(s);oe||(Rr(s,tr),Rr(s,tr+"-"+o),this._engine.statesByElement.set(s,oe={}));let ye=oe[o];const Te=new Hs(m,this.id);if(!(m&&m.hasOwnProperty("value"))&&ye&&Te.absorbOptions(ye.options),oe[o]=Te,ye||(ye=ts),Te.value!==Fn&&ye.value===Te.value){if(!function(p,s){const o=Object.keys(p),m=Object.keys(s);if(o.length!=m.length)return!1;for(let k=0;k<o.length;k++){const V=o[k];if(!s.hasOwnProperty(V)||p[V]!==s[V])return!1}return!0}(ye.params,Te.params)){const gt=[],bt=V.matchStyles(ye.value,ye.params,gt),Vt=V.matchStyles(Te.value,Te.params,gt);gt.length?this._engine.reportError(gt):this._engine.afterFlush(()=>{Nr(s,bt),Ir(s,Vt)})}return}const at=J(this._engine.playersByElement,s,[]);at.forEach(gt=>{gt.namespaceId==this.id&&gt.triggerName==o&&gt.queued&&gt.destroy()});let _t=V.matchTransition(ye.value,Te.value,s,Te.params),ut=!1;if(!_t){if(!k)return;_t=V.fallbackTransition,ut=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:o,transition:_t,fromState:ye,toState:Te,player:re,isFallbackTransition:ut}),ut||(Rr(s,Vs),re.onStart(()=>{Nn(s,Vs)})),re.onDone(()=>{let gt=this.players.indexOf(re);gt>=0&&this.players.splice(gt,1);const bt=this._engine.playersByElement.get(s);if(bt){let Vt=bt.indexOf(re);Vt>=0&&bt.splice(Vt,1)}}),this.players.push(re),at.push(re),re}deregister(s){delete this._triggers[s],this._engine.statesByElement.forEach((o,m)=>{delete o[s]}),this._elementListeners.forEach((o,m)=>{this._elementListeners.set(m,o.filter(k=>k.name!=s))})}clearElementCache(s){this._engine.statesByElement.delete(s),this._elementListeners.delete(s);const o=this._engine.playersByElement.get(s);o&&(o.forEach(m=>m.destroy()),this._engine.playersByElement.delete(s))}_signalRemovalForInnerTriggers(s,o){const m=this._engine.driver.query(s,dr,!0);m.forEach(k=>{if(k[Tr])return;const V=this._engine.fetchNamespacesByElement(k);V.size?V.forEach(re=>re.triggerLeaveAnimation(k,o,!1,!0)):this.clearElementCache(k)}),this._engine.afterFlushAnimationsDone(()=>m.forEach(k=>this.clearElementCache(k)))}triggerLeaveAnimation(s,o,m,k){const V=this._engine.statesByElement.get(s);if(V){const re=[];if(Object.keys(V).forEach(oe=>{if(this._triggers[oe]){const ye=this.trigger(s,oe,Fn,k);ye&&re.push(ye)}}),re.length)return this._engine.markElementAsRemoved(this.id,s,!0,o),m&&pe(re).onDone(()=>this._engine.processLeaveNode(s)),!0}return!1}prepareLeaveAnimationListeners(s){const o=this._elementListeners.get(s),m=this._engine.statesByElement.get(s);if(o&&m){const k=new Set;o.forEach(V=>{const re=V.name;if(k.has(re))return;k.add(re);const ye=this._triggers[re].fallbackTransition,Te=m[re]||ts,ze=new Hs(Fn),Qe=new rs(this.id,re,s);this._engine.totalQueuedPlayers++,this._queue.push({element:s,triggerName:re,transition:ye,fromState:Te,toState:ze,player:Qe,isFallbackTransition:!0})})}}removeNode(s,o){const m=this._engine;if(s.childElementCount&&this._signalRemovalForInnerTriggers(s,o),this.triggerLeaveAnimation(s,o,!0))return;let k=!1;if(m.totalAnimations){const V=m.players.length?m.playersByQueriedElement.get(s):[];if(V&&V.length)k=!0;else{let re=s;for(;re=re.parentNode;)if(m.statesByElement.get(re)){k=!0;break}}}if(this.prepareLeaveAnimationListeners(s),k)m.markElementAsRemoved(this.id,s,!1,o);else{const V=s[Tr];(!V||V===Wr)&&(m.afterFlush(()=>this.clearElementCache(s)),m.destroyInnerAnimations(s),m._onRemovalComplete(s,o))}}insertNode(s,o){Rr(s,this._hostClassName)}drainQueuedTransitions(s){const o=[];return this._queue.forEach(m=>{const k=m.player;if(k.destroyed)return;const V=m.element,re=this._elementListeners.get(V);re&&re.forEach(oe=>{if(oe.name==m.triggerName){const ye=G(V,m.triggerName,m.fromState.value,m.toState.value);ye._data=s,z(m.player,oe.phase,ye,oe.callback)}}),k.markedForDestroy?this._engine.afterFlush(()=>{k.destroy()}):o.push(m)}),this._queue=[],o.sort((m,k)=>{const V=m.transition.ast.depCount,re=k.transition.ast.depCount;return 0==V||0==re?V-re:this._engine.driver.containsElement(m.element,k.element)?1:-1})}destroy(s){this.players.forEach(o=>o.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,s)}elementContainsData(s){let o=!1;return this._elementListeners.has(s)&&(o=!0),o=!!this._queue.find(m=>m.element===s)||o,o}}class Gs{constructor(s,o,m){this.bodyNode=s,this.driver=o,this._normalizer=m,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(k,V)=>{}}_onRemovalComplete(s,o){this.onRemovalComplete(s,o)}get queuedPlayers(){const s=[];return this._namespaceList.forEach(o=>{o.players.forEach(m=>{m.queued&&s.push(m)})}),s}createNamespace(s,o){const m=new Ko(s,o,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,o)?this._balanceNamespaceList(m,o):(this.newHostElements.set(o,m),this.collectEnterElement(o)),this._namespaceLookup[s]=m}_balanceNamespaceList(s,o){const m=this._namespaceList.length-1;if(m>=0){let k=!1;for(let V=m;V>=0;V--)if(this.driver.containsElement(this._namespaceList[V].hostElement,o)){this._namespaceList.splice(V+1,0,s),k=!0;break}k||this._namespaceList.splice(0,0,s)}else this._namespaceList.push(s);return this.namespacesByHostElement.set(o,s),s}register(s,o){let m=this._namespaceLookup[s];return m||(m=this.createNamespace(s,o)),m}registerTrigger(s,o,m){let k=this._namespaceLookup[s];k&&k.register(o,m)&&this.totalAnimations++}destroy(s,o){if(!s)return;const m=this._fetchNamespace(s);this.afterFlush(()=>{this.namespacesByHostElement.delete(m.hostElement),delete this._namespaceLookup[s];const k=this._namespaceList.indexOf(m);k>=0&&this._namespaceList.splice(k,1)}),this.afterFlushAnimationsDone(()=>m.destroy(o))}_fetchNamespace(s){return this._namespaceLookup[s]}fetchNamespacesByElement(s){const o=new Set,m=this.statesByElement.get(s);if(m){const k=Object.keys(m);for(let V=0;V<k.length;V++){const re=m[k[V]].namespaceId;if(re){const oe=this._fetchNamespace(re);oe&&o.add(oe)}}}return o}trigger(s,o,m,k){if(Ei(o)){const V=this._fetchNamespace(s);if(V)return V.trigger(o,m,k),!0}return!1}insertNode(s,o,m,k){if(!Ei(o))return;const V=o[Tr];if(V&&V.setForRemoval){V.setForRemoval=!1,V.setForMove=!0;const re=this.collectedLeaveElements.indexOf(o);re>=0&&this.collectedLeaveElements.splice(re,1)}if(s){const re=this._fetchNamespace(s);re&&re.insertNode(o,m)}k&&this.collectEnterElement(o)}collectEnterElement(s){this.collectedEnterElements.push(s)}markElementAsDisabled(s,o){o?this.disabledNodes.has(s)||(this.disabledNodes.add(s),Rr(s,bi)):this.disabledNodes.has(s)&&(this.disabledNodes.delete(s),Nn(s,bi))}removeNode(s,o,m,k){if(Ei(o)){const V=s?this._fetchNamespace(s):null;if(V?V.removeNode(o,k):this.markElementAsRemoved(s,o,!1,k),m){const re=this.namespacesByHostElement.get(o);re&&re.id!==s&&re.removeNode(o,k)}}else this._onRemovalComplete(o,k)}markElementAsRemoved(s,o,m,k){this.collectedLeaveElements.push(o),o[Tr]={namespaceId:s,setForRemoval:k,hasAnimation:m,removedBeforeQueried:!1}}listen(s,o,m,k,V){return Ei(o)?this._fetchNamespace(s).listen(o,m,k,V):()=>{}}_buildInstruction(s,o,m,k,V){return s.transition.build(this.driver,s.element,s.fromState.value,s.toState.value,m,k,s.fromState.options,s.toState.options,o,V)}destroyInnerAnimations(s){let o=this.driver.query(s,dr,!0);o.forEach(m=>this.destroyActiveAnimationsForElement(m)),0!=this.playersByQueriedElement.size&&(o=this.driver.query(s,Jr,!0),o.forEach(m=>this.finishActiveQueriedAnimationOnElement(m)))}destroyActiveAnimationsForElement(s){const o=this.playersByElement.get(s);o&&o.forEach(m=>{m.queued?m.markedForDestroy=!0:m.destroy()})}finishActiveQueriedAnimationOnElement(s){const o=this.playersByQueriedElement.get(s);o&&o.forEach(m=>m.finish())}whenRenderingDone(){return new Promise(s=>{if(this.players.length)return pe(this.players).onDone(()=>s());s()})}processLeaveNode(s){const o=s[Tr];if(o&&o.setForRemoval){if(s[Tr]=Wr,o.namespaceId){this.destroyInnerAnimations(s);const m=this._fetchNamespace(o.namespaceId);m&&m.clearElementCache(s)}this._onRemovalComplete(s,o.setForRemoval)}s.classList?.contains(bi)&&this.markElementAsDisabled(s,!1),this.driver.query(s,".ng-animate-disabled",!0).forEach(m=>{this.markElementAsDisabled(m,!1)})}flush(s=-1){let o=[];if(this.newHostElements.size&&(this.newHostElements.forEach((m,k)=>this._balanceNamespaceList(m,k)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let m=0;m<this.collectedEnterElements.length;m++)Rr(this.collectedEnterElements[m],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const m=[];try{o=this._flushAnimations(m,s)}finally{for(let k=0;k<m.length;k++)m[k]()}}else for(let m=0;m<this.collectedLeaveElements.length;m++)this.processLeaveNode(this.collectedLeaveElements[m]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(m=>m()),this._flushFns=[],this._whenQuietFns.length){const m=this._whenQuietFns;this._whenQuietFns=[],o.length?pe(o).onDone(()=>{m.forEach(k=>k())}):m.forEach(k=>k())}}reportError(s){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${s.join("\n")}`)}_flushAnimations(s,o){const m=new Jn,k=[],V=new Map,re=[],oe=new Map,ye=new Map,Te=new Map,ze=new Set;this.disabledNodes.forEach(et=>{ze.add(et);const ot=this.driver.query(et,".ng-animate-queued",!0);for(let pt=0;pt<ot.length;pt++)ze.add(ot[pt])});const Qe=this.bodyNode,at=Array.from(this.statesByElement.keys()),_t=Js(at,this.collectedEnterElements),ut=new Map;let gt=0;_t.forEach((et,ot)=>{const pt=Lr+gt++;ut.set(ot,pt),et.forEach(Mt=>Rr(Mt,pt))});const bt=[],Vt=new Set,$t=new Set;for(let et=0;et<this.collectedLeaveElements.length;et++){const ot=this.collectedLeaveElements[et],pt=ot[Tr];pt&&pt.setForRemoval&&(bt.push(ot),Vt.add(ot),pt.hasAnimation?this.driver.query(ot,".ng-star-inserted",!0).forEach(Mt=>Vt.add(Mt)):$t.add(ot))}const Er=new Map,sr=Js(at,Array.from(Vt));sr.forEach((et,ot)=>{const pt=ar+gt++;Er.set(ot,pt),et.forEach(Mt=>Rr(Mt,pt))}),s.push(()=>{_t.forEach((et,ot)=>{const pt=ut.get(ot);et.forEach(Mt=>Nn(Mt,pt))}),sr.forEach((et,ot)=>{const pt=Er.get(ot);et.forEach(Mt=>Nn(Mt,pt))}),bt.forEach(et=>{this.processLeaveNode(et)})});const ln=[],tn=[];for(let et=this._namespaceList.length-1;et>=0;et--)this._namespaceList[et].drainQueuedTransitions(o).forEach(pt=>{const Mt=pt.player,or=pt.element;if(ln.push(Mt),this.collectedEnterElements.length){const Ur=or[Tr];if(Ur&&Ur.setForMove)return void Mt.destroy()}const Gr=!Qe||!this.driver.containsElement(Qe,or),kr=Er.get(or),Tn=ut.get(or),Ht=this._buildInstruction(pt,m,Tn,kr,Gr);if(Ht.errors&&Ht.errors.length)return void tn.push(Ht);if(Gr)return Mt.onStart(()=>Nr(or,Ht.fromStyles)),Mt.onDestroy(()=>Ir(or,Ht.toStyles)),void k.push(Mt);if(pt.isFallbackTransition)return Mt.onStart(()=>Nr(or,Ht.fromStyles)),Mt.onDestroy(()=>Ir(or,Ht.toStyles)),void k.push(Mt);const ba=[];Ht.timelines.forEach(Ur=>{Ur.stretchStartingKeyframe=!0,this.disabledNodes.has(Ur.element)||ba.push(Ur)}),Ht.timelines=ba,m.append(or,Ht.timelines),re.push({instruction:Ht,player:Mt,element:or}),Ht.queriedElements.forEach(Ur=>J(oe,Ur,[]).push(Mt)),Ht.preStyleProps.forEach((Ur,Cs)=>{const Ds=Object.keys(Ur);if(Ds.length){let li=ye.get(Cs);li||ye.set(Cs,li=new Set),Ds.forEach(Ea=>li.add(Ea))}}),Ht.postStyleProps.forEach((Ur,Cs)=>{const Ds=Object.keys(Ur);let li=Te.get(Cs);li||Te.set(Cs,li=new Set),Ds.forEach(Ea=>li.add(Ea))})});if(tn.length){const et=[];tn.forEach(ot=>{et.push(`@${ot.triggerName} has failed due to:\n`),ot.errors.forEach(pt=>et.push(`- ${pt}\n`))}),ln.forEach(ot=>ot.destroy()),this.reportError(et)}const wr=new Map,fn=new Map;re.forEach(et=>{const ot=et.element;m.has(ot)&&(fn.set(ot,ot),this._beforeAnimationBuild(et.player.namespaceId,et.instruction,wr))}),k.forEach(et=>{const ot=et.element;this._getPreviousPlayers(ot,!1,et.namespaceId,et.triggerName,null).forEach(Mt=>{J(wr,ot,[]).push(Mt),Mt.destroy()})});const dn=bt.filter(et=>Zt(et,ye,Te)),Hr=new Map;Ys(Hr,this.driver,$t,Te,x).forEach(et=>{Zt(et,ye,Te)&&dn.push(et)});const Zn=new Map;_t.forEach((et,ot)=>{Ys(Zn,this.driver,new Set(et),ye,"!")}),dn.forEach(et=>{const ot=Hr.get(et),pt=Zn.get(et);Hr.set(et,{...ot,...pt})});const hn=[],ya=[],_a={};re.forEach(et=>{const{element:ot,player:pt,instruction:Mt}=et;if(m.has(ot)){if(ze.has(ot))return pt.onDestroy(()=>Ir(ot,Mt.toStyles)),pt.disabled=!0,pt.overrideTotalTime(Mt.totalTime),void k.push(pt);let or=_a;if(fn.size>1){let kr=ot;const Tn=[];for(;kr=kr.parentNode;){const Ht=fn.get(kr);if(Ht){or=Ht;break}Tn.push(kr)}Tn.forEach(Ht=>fn.set(Ht,or))}const Gr=this._buildAnimation(pt.namespaceId,Mt,wr,V,Zn,Hr);if(pt.setRealPlayer(Gr),or===_a)hn.push(pt);else{const kr=this.playersByElement.get(or);kr&&kr.length&&(pt.parentPlayer=pe(kr)),k.push(pt)}}else Nr(ot,Mt.fromStyles),pt.onDestroy(()=>Ir(ot,Mt.toStyles)),ya.push(pt),ze.has(ot)&&k.push(pt)}),ya.forEach(et=>{const ot=V.get(et.element);if(ot&&ot.length){const pt=pe(ot);et.setRealPlayer(pt)}}),k.forEach(et=>{et.parentPlayer?et.syncPlayerEvents(et.parentPlayer):et.destroy()});for(let et=0;et<bt.length;et++){const ot=bt[et],pt=ot[Tr];if(Nn(ot,ar),pt&&pt.hasAnimation)continue;let Mt=[];if(oe.size){let Gr=oe.get(ot);Gr&&Gr.length&&Mt.push(...Gr);let kr=this.driver.query(ot,Jr,!0);for(let Tn=0;Tn<kr.length;Tn++){let Ht=oe.get(kr[Tn]);Ht&&Ht.length&&Mt.push(...Ht)}}const or=Mt.filter(Gr=>!Gr.destroyed);or.length?Xs(this,ot,or):this.processLeaveNode(ot)}return bt.length=0,hn.forEach(et=>{this.players.push(et),et.onDone(()=>{et.destroy();const ot=this.players.indexOf(et);this.players.splice(ot,1)}),et.play()}),hn}elementContainsData(s,o){let m=!1;const k=o[Tr];return k&&k.setForRemoval&&(m=!0),this.playersByElement.has(o)&&(m=!0),this.playersByQueriedElement.has(o)&&(m=!0),this.statesByElement.has(o)&&(m=!0),this._fetchNamespace(s).elementContainsData(o)||m}afterFlush(s){this._flushFns.push(s)}afterFlushAnimationsDone(s){this._whenQuietFns.push(s)}_getPreviousPlayers(s,o,m,k,V){let re=[];if(o){const oe=this.playersByQueriedElement.get(s);oe&&(re=oe)}else{const oe=this.playersByElement.get(s);if(oe){const ye=!V||V==Fn;oe.forEach(Te=>{Te.queued||!ye&&Te.triggerName!=k||re.push(Te)})}}return(m||k)&&(re=re.filter(oe=>!(m&&m!=oe.namespaceId||k&&k!=oe.triggerName))),re}_beforeAnimationBuild(s,o,m){const V=o.element,re=o.isRemovalTransition?void 0:s,oe=o.isRemovalTransition?void 0:o.triggerName;for(const ye of o.timelines){const Te=ye.element,ze=Te!==V,Qe=J(m,Te,[]);this._getPreviousPlayers(Te,ze,re,oe,o.toState).forEach(_t=>{const ut=_t.getRealPlayer();ut.beforeDestroy&&ut.beforeDestroy(),_t.destroy(),Qe.push(_t)})}Nr(V,o.fromStyles)}_buildAnimation(s,o,m,k,V,re){const oe=o.triggerName,ye=o.element,Te=[],ze=new Set,Qe=new Set,at=o.timelines.map(ut=>{const gt=ut.element;ze.add(gt);const bt=gt[Tr];if(bt&&bt.removedBeforeQueried)return new h(ut.duration,ut.delay);const Vt=gt!==ye,$t=function(p){const s=[];return qs(p,s),s}((m.get(gt)||Vo).map(wr=>wr.getRealPlayer())).filter(wr=>!!wr.element&&wr.element===gt),Er=V.get(gt),sr=re.get(gt),ln=Q(0,this._normalizer,0,ut.keyframes,Er,sr),tn=this._buildPlayer(ut,ln,$t);if(ut.subTimeline&&k&&Qe.add(gt),Vt){const wr=new rs(s,oe,gt);wr.setRealPlayer(tn),Te.push(wr)}return tn});Te.forEach(ut=>{J(this.playersByQueriedElement,ut.element,[]).push(ut),ut.onDone(()=>function(p,s,o){let m;if(p instanceof Map){if(m=p.get(s),m){if(m.length){const k=m.indexOf(o);m.splice(k,1)}0==m.length&&p.delete(s)}}else if(m=p[s],m){if(m.length){const k=m.indexOf(o);m.splice(k,1)}0==m.length&&delete p[s]}return m}(this.playersByQueriedElement,ut.element,ut))}),ze.forEach(ut=>Rr(ut,Jt));const _t=pe(at);return _t.onDestroy(()=>{ze.forEach(ut=>Nn(ut,Jt)),Ir(ye,o.toStyles)}),Qe.forEach(ut=>{J(k,ut,[]).push(_t)}),_t}_buildPlayer(s,o,m){return o.length>0?this.driver.animate(s.element,o,s.duration,s.delay,s.easing,m):new h(s.duration,s.delay)}}class rs{constructor(s,o,m){this.namespaceId=s,this.triggerName=o,this.element=m,this._player=new h,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(s){this._containsRealPlayer||(this._player=s,Object.keys(this._queuedCallbacks).forEach(o=>{this._queuedCallbacks[o].forEach(m=>z(s,o,void 0,m))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(s.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(s){this.totalTime=s}syncPlayerEvents(s){const o=this._player;o.triggerCallback&&s.onStart(()=>o.triggerCallback("start")),s.onDone(()=>this.finish()),s.onDestroy(()=>this.destroy())}_queueEvent(s,o){J(this._queuedCallbacks,s,[]).push(o)}onDone(s){this.queued&&this._queueEvent("done",s),this._player.onDone(s)}onStart(s){this.queued&&this._queueEvent("start",s),this._player.onStart(s)}onDestroy(s){this.queued&&this._queueEvent("destroy",s),this._player.onDestroy(s)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(s){this.queued||this._player.setPosition(s)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(s){const o=this._player;o.triggerCallback&&o.triggerCallback(s)}}function Ei(p){return p&&1===p.nodeType}function Zs(p,s){const o=p.style.display;return p.style.display=s??"none",o}function Ys(p,s,o,m,k){const V=[];o.forEach(ye=>V.push(Zs(ye)));const re=[];m.forEach((ye,Te)=>{const ze={};ye.forEach(Qe=>{const at=ze[Qe]=s.computeStyle(Te,Qe,k);(!at||0==at.length)&&(Te[Tr]=yn,re.push(Te))}),p.set(Te,ze)});let oe=0;return o.forEach(ye=>Zs(ye,V[oe++])),re}function Js(p,s){const o=new Map;if(p.forEach(oe=>o.set(oe,[])),0==s.length)return o;const k=new Set(s),V=new Map;function re(oe){if(!oe)return 1;let ye=V.get(oe);if(ye)return ye;const Te=oe.parentNode;return ye=o.has(Te)?Te:k.has(Te)?1:re(Te),V.set(oe,ye),ye}return s.forEach(oe=>{const ye=re(oe);1!==ye&&o.get(ye).push(oe)}),o}function Rr(p,s){p.classList?.add(s)}function Nn(p,s){p.classList?.remove(s)}function Xs(p,s,o){pe(o).onDone(()=>p.processLeaveNode(s))}function qs(p,s){for(let o=0;o<p.length;o++){const m=p[o];m instanceof q?qs(m.players,s):s.push(m)}}function Zt(p,s,o){const m=o.get(p);if(!m)return!1;let k=s.get(p);return k?m.forEach(V=>k.add(V)):s.set(p,m),o.delete(p),!0}class Xt{constructor(s,o,m){this.bodyNode=s,this._driver=o,this._normalizer=m,this._triggerCache={},this.onRemovalComplete=(k,V)=>{},this._transitionEngine=new Gs(s,o,m),this._timelineEngine=new Ws(s,o,m),this._transitionEngine.onRemovalComplete=(k,V)=>this.onRemovalComplete(k,V)}registerTrigger(s,o,m,k,V){const re=s+"-"+k;let oe=this._triggerCache[re];if(!oe){const ye=[],Te=ve(this._driver,V,ye);if(ye.length)throw new Error(`The animation trigger "${k}" has failed to build due to the following errors:\n - ${ye.join("\n - ")}`);oe=function(p,s,o){return new Us(p,s,o)}(k,Te,this._normalizer),this._triggerCache[re]=oe}this._transitionEngine.registerTrigger(o,k,oe)}register(s,o){this._transitionEngine.register(s,o)}destroy(s,o){this._transitionEngine.destroy(s,o)}onInsert(s,o,m,k){this._transitionEngine.insertNode(s,o,m,k)}onRemove(s,o,m,k){this._transitionEngine.removeNode(s,o,k||!1,m)}disableAnimations(s,o){this._transitionEngine.markElementAsDisabled(s,o)}process(s,o,m,k){if("@"==m.charAt(0)){const[V,re]=$(m);this._timelineEngine.command(V,o,re,k)}else this._transitionEngine.trigger(s,o,m,k)}listen(s,o,m,k,V){if("@"==m.charAt(0)){const[re,oe]=$(m);return this._timelineEngine.listen(re,o,oe,V)}return this._transitionEngine.listen(s,o,m,k,V)}flush(s=-1){this._transitionEngine.flush(s)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Dr(p,s){let o=null,m=null;return Array.isArray(s)&&s.length?(o=rr(s[0]),s.length>1&&(m=rr(s[s.length-1]))):s&&(o=rr(s)),o||m?new _n(p,o,m):null}let _n=(()=>{class p{constructor(o,m,k){this._element=o,this._startStyles=m,this._endStyles=k,this._state=0;let V=p.initialStylesByElement.get(o);V||p.initialStylesByElement.set(o,V={}),this._initialStyles=V}start(){this._state<1&&(this._startStyles&&Ir(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ir(this._element,this._initialStyles),this._endStyles&&(Ir(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(p.initialStylesByElement.delete(this._element),this._startStyles&&(Nr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Nr(this._element,this._endStyles),this._endStyles=null),Ir(this._element,this._initialStyles),this._state=3)}}return p.initialStylesByElement=new WeakMap,p})();function rr(p){let s=null;const o=Object.keys(p);for(let m=0;m<o.length;m++){const k=o[m];Vr(k)&&(s=s||{},s[k]=p[k])}return s}function Vr(p){return"display"===p||"position"===p}const jr="animation",wi="animationend";class Si{constructor(s,o,m,k,V,re,oe){this._element=s,this._name=o,this._duration=m,this._delay=k,this._easing=V,this._fillMode=re,this._onDoneFn=oe,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=ye=>this._handleCallback(ye)}apply(){(function(p,s){const o=Un(p,"").trim();let m=0;o.length&&(function(p,s){let o=0;for(let m=0;m<p.length;m++)","===p.charAt(m)&&o++;return o}(o)+1,s=`${o}, ${s}`),Ci(p,"",s)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),jn(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){is(this._element,this._name,"paused")}resume(){is(this._element,this._name,"running")}setPosition(s){const o=ss(this._element,this._name);this._position=s*this._duration,Ci(this._element,"Delay",`-${this._position}ms`,o)}getPosition(){return this._position}_handleCallback(s){const o=s._ngTestManualTimestamp||Date.now(),m=1e3*parseFloat(s.elapsedTime.toFixed(3));s.animationName==this._name&&Math.max(o-this._startTime,0)>=this._delay&&m>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),jn(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(p,s){const m=Un(p,"").split(","),k=mr(m,s);k>=0&&(m.splice(k,1),Ci(p,"",m.join(",")))}(this._element,this._name))}}function is(p,s,o){Ci(p,"PlayState",o,ss(p,s))}function ss(p,s){const o=Un(p,"");return o.indexOf(",")>0?mr(o.split(","),s):mr([o],s)}function mr(p,s){for(let o=0;o<p.length;o++)if(p[o].indexOf(s)>=0)return o;return-1}function jn(p,s,o){o?p.removeEventListener(wi,s):p.addEventListener(wi,s)}function Ci(p,s,o,m){const k=jr+s;if(null!=m){const V=p.style[k];if(V.length){const re=V.split(",");re[m]=o,o=re.join(",")}}p.style[k]=o}function Un(p,s){return p.style[jr+s]||""}class os{constructor(s,o,m,k,V,re,oe,ye){this.element=s,this.keyframes=o,this.animationName=m,this._duration=k,this._delay=V,this._finalStyles=oe,this._specialStyles=ye,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=re||"linear",this.totalTime=k+V,this._buildStyler()}onStart(s){this._onStartFns.push(s)}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(s=>s()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(s=>s()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(s){this._styler.setPosition(s)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Si(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(s){const o="start"==s?this._onStartFns:this._onDoneFns;o.forEach(m=>m()),o.length=0}beforeDestroy(){this.init();const s={};if(this.hasStarted()){const o=this._state>=3;Object.keys(this._finalStyles).forEach(m=>{"offset"!=m&&(s[m]=o?this._finalStyles[m]:ur(this.element,m))})}this.currentSnapshot=s}}class Jo extends h{constructor(s,o){super(),this.element=s,this._startingStyles={},this.__initialized=!1,this._styles=st(o)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(s=>{this._startingStyles[s]=this.element.style[s]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(s=>this.element.style.setProperty(s,this._styles[s])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(s=>{const o=this._startingStyles[s];o?this.element.style.setProperty(s,o):this.element.style.removeProperty(s)}),this._startingStyles=null,super.destroy())}}class Oi{constructor(){this._count=0}validateStyleProperty(s){return ue(s)}matchesElement(s,o){return!1}containsElement(s,o){return Fe(s,o)}query(s,o,m){return Je(s,o,m)}computeStyle(s,o,m){return window.getComputedStyle(s)[o]}buildKeyframeElement(s,o,m){m=m.map(oe=>st(oe));let k=`@keyframes ${o} {\n`,V="";m.forEach(oe=>{V=" ";const ye=parseFloat(oe.offset);k+=`${V}${100*ye}% {\n`,V+=" ",Object.keys(oe).forEach(Te=>{const ze=oe[Te];switch(Te){case"offset":return;case"easing":return void(ze&&(k+=`${V}animation-timing-function: ${ze};\n`));default:return void(k+=`${V}${Te}: ${ze};\n`)}}),k+=`${V}}\n`}),k+="}\n";const re=document.createElement("style");return re.textContent=k,re}animate(s,o,m,k,V,re=[],oe){const ye=re.filter(bt=>bt instanceof os),Te={};mi(m,k)&&ye.forEach(bt=>{let Vt=bt.currentSnapshot;Object.keys(Vt).forEach($t=>Te[$t]=Vt[$t])});const ze=function(p){let s={};return p&&(Array.isArray(p)?p:[p]).forEach(m=>{Object.keys(m).forEach(k=>{"offset"==k||"easing"==k||(s[k]=m[k])})}),s}(o=vi(s,o,Te));if(0==m)return new Jo(s,ze);const Qe="gen_css_kf_"+this._count++,at=this.buildKeyframeElement(s,Qe,o);(function(p){const s=p.getRootNode?.();return"undefined"!=typeof ShadowRoot&&s instanceof ShadowRoot?s:document.head})(s).appendChild(at);const ut=Dr(s,o),gt=new os(s,o,Qe,m,k,V,ze,ut);return gt.onDestroy(()=>{var p;(p=at).parentNode.removeChild(p)}),gt}}class Pi{constructor(s,o,m,k){this.element=s,this.keyframes=o,this.options=m,this._specialStyles=k,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=m.duration,this._delay=m.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(s=>s()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const s=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,s,this.options),this._finalKeyframe=s.length?s[s.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(s,o,m){return s.animate(o,m)}onStart(s){this._onStartFns.push(s)}onDone(s){this._onDoneFns.push(s)}onDestroy(s){this._onDestroyFns.push(s)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(s=>s()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(s=>s()),this._onDestroyFns=[])}setPosition(s){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=s*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const s={};if(this.hasStarted()){const o=this._finalKeyframe;Object.keys(o).forEach(m=>{"offset"!=m&&(s[m]=this._finished?o[m]:ur(this.element,m))})}this.currentSnapshot=s}triggerCallback(s){const o="start"==s?this._onStartFns:this._onDoneFns;o.forEach(m=>m()),o.length=0}}class as{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(us().toString()),this._cssKeyframesDriver=new Oi}validateStyleProperty(s){return ue(s)}matchesElement(s,o){return!1}containsElement(s,o){return Fe(s,o)}query(s,o,m){return Je(s,o,m)}computeStyle(s,o,m){return window.getComputedStyle(s)[o]}overrideWebAnimationsSupport(s){this._isNativeImpl=s}animate(s,o,m,k,V,re=[],oe){if(!oe&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(s,o,m,k,V,re);const ze={duration:m,delay:k,fill:0==k?"both":"forwards"};V&&(ze.easing=V);const Qe={},at=re.filter(ut=>ut instanceof Pi);mi(m,k)&&at.forEach(ut=>{let gt=ut.currentSnapshot;Object.keys(gt).forEach(bt=>Qe[bt]=gt[bt])});const _t=Dr(s,o=vi(s,o=o.map(ut=>Fr(ut,!1)),Qe));return new Pi(s,o,ze,_t)}}function us(){return Ce()&&Element.prototype.animate||{}}var Mr=c(1457);let so=(()=>{class p extends M{constructor(o,m){super(),this._nextAnimationId=0,this._renderer=o.createRenderer(m.body,{id:"0",encapsulation:l.ViewEncapsulation.None,styles:[],data:{animation:[]}})}build(o){const m=this._nextAnimationId.toString();this._nextAnimationId++;const k=Array.isArray(o)?E(o):o;return Ii(this._renderer,null,m,"register",[k]),new cs(m,this._renderer)}}return p.\u0275fac=function(o){return new(o||p)(l.\u0275\u0275inject(l.RendererFactory2),l.\u0275\u0275inject(Mr.DOCUMENT))},p.\u0275prov=l.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac}),p})();class cs extends class{}{constructor(s,o){super(),this._id=s,this._renderer=o}create(s,o){return new En(this._id,s,o||{},this._renderer)}}class En{constructor(s,o,m,k){this.id=s,this.element=o,this._renderer=k,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",m)}_listen(s,o){return this._renderer.listen(this.element,`@@${this.id}:${s}`,o)}_command(s,...o){return Ii(this._renderer,this.element,this.id,s,o)}onDone(s){this._listen("done",s)}onStart(s){this._listen("start",s)}onDestroy(s){this._listen("destroy",s)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(s){this._command("setPosition",s)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ii(p,s,o,m,k){return p.setProperty(s,`@@${o}:${m}`,k)}const oo="@.disabled";let cr=(()=>{class p{constructor(o,m,k){this.delegate=o,this.engine=m,this._zone=k,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),m.onRemovalComplete=(V,re)=>{const oe=re?.parentNode(V);oe&&re.removeChild(oe,V)}}createRenderer(o,m){const V=this.delegate.createRenderer(o,m);if(!(o&&m&&m.data&&m.data.animation)){let ze=this._rendererCache.get(V);return ze||(ze=new ao("",V,this.engine),this._rendererCache.set(V,ze)),ze}const re=m.id,oe=m.id+"-"+this._currentId;this._currentId++,this.engine.register(oe,o);const ye=ze=>{Array.isArray(ze)?ze.forEach(ye):this.engine.registerTrigger(re,oe,o,ze.name,ze)};return m.data.animation.forEach(ye),new ta(this,oe,V,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(o,m,k){o>=0&&o<this._microtaskId?this._zone.run(()=>m(k)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(V=>{const[re,oe]=V;re(oe)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([m,k]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return p.\u0275fac=function(o){return new(o||p)(l.\u0275\u0275inject(l.RendererFactory2),l.\u0275\u0275inject(Xt),l.\u0275\u0275inject(l.NgZone))},p.\u0275prov=l.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac}),p})();class ao{constructor(s,o,m){this.namespaceId=s,this.delegate=o,this.engine=m,this.destroyNode=this.delegate.destroyNode?k=>o.destroyNode(k):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(s,o){return this.delegate.createElement(s,o)}createComment(s){return this.delegate.createComment(s)}createText(s){return this.delegate.createText(s)}appendChild(s,o){this.delegate.appendChild(s,o),this.engine.onInsert(this.namespaceId,o,s,!1)}insertBefore(s,o,m,k=!0){this.delegate.insertBefore(s,o,m),this.engine.onInsert(this.namespaceId,o,s,k)}removeChild(s,o,m){this.engine.onRemove(this.namespaceId,o,this.delegate,m)}selectRootElement(s,o){return this.delegate.selectRootElement(s,o)}parentNode(s){return this.delegate.parentNode(s)}nextSibling(s){return this.delegate.nextSibling(s)}setAttribute(s,o,m,k){this.delegate.setAttribute(s,o,m,k)}removeAttribute(s,o,m){this.delegate.removeAttribute(s,o,m)}addClass(s,o){this.delegate.addClass(s,o)}removeClass(s,o){this.delegate.removeClass(s,o)}setStyle(s,o,m,k){this.delegate.setStyle(s,o,m,k)}removeStyle(s,o,m){this.delegate.removeStyle(s,o,m)}setProperty(s,o,m){"@"==o.charAt(0)&&o==oo?this.disableAnimations(s,!!m):this.delegate.setProperty(s,o,m)}setValue(s,o){this.delegate.setValue(s,o)}listen(s,o,m){return this.delegate.listen(s,o,m)}disableAnimations(s,o){this.engine.disableAnimations(s,o)}}class ta extends ao{constructor(s,o,m,k){super(o,m,k),this.factory=s,this.namespaceId=o}setProperty(s,o,m){"@"==o.charAt(0)?"."==o.charAt(1)&&o==oo?this.disableAnimations(s,m=void 0===m||!!m):this.engine.process(this.namespaceId,s,o.substr(1),m):this.delegate.setProperty(s,o,m)}listen(s,o,m){if("@"==o.charAt(0)){const k=function(p){switch(p){case"body":return document.body;case"document":return document;case"window":return window;default:return p}}(s);let V=o.substr(1),re="";return"@"!=V.charAt(0)&&([V,re]=function(p){const s=p.indexOf(".");return[p.substring(0,s),p.substr(s+1)]}(V)),this.engine.listen(this.namespaceId,k,V,re,oe=>{this.factory.scheduleListenerCallback(oe._data||-1,m,oe)})}return this.delegate.listen(s,o,m)}}let ia=(()=>{class p extends Xt{constructor(o,m,k){super(o.body,m,k)}ngOnDestroy(){this.flush()}}return p.\u0275fac=function(o){return new(o||p)(l.\u0275\u0275inject(Mr.DOCUMENT),l.\u0275\u0275inject(vt),l.\u0275\u0275inject(yi))},p.\u0275prov=l.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac}),p})();const uo=new l.InjectionToken("AnimationModuleType"),ri=[{provide:M,useClass:so},{provide:yi,useFactory:function(){return new Fo}},{provide:Xt,useClass:ia},{provide:l.RendererFactory2,useFactory:function(p,s,o){return new cr(p,s,o)},deps:[_.se,Xt,l.NgZone]}],ni=[{provide:vt,useFactory:function(){return"function"==typeof us()?new as:new Oi}},{provide:uo,useValue:"BrowserAnimations"},...ri],Kr=[{provide:vt,useClass:qe},{provide:uo,useValue:"NoopAnimations"},...ri];let zn=(()=>{class p{static withConfig(o){return{ngModule:p,providers:o.disableAnimations?Kr:ni}}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=l.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=l.\u0275\u0275defineInjector({providers:ni,imports:[_.b2]}),p})();var vr=c(1375);const oa={properties:{id:{type:"string",description:"Id"},name:{type:"string",description:"Name"},shortName:{type:"string",description:"Short name"},description:{type:"string",description:"Description"},startUrl:{type:"string",description:"Start url"},icons:{type:"array",description:"Icons",items:{type:"object",properties:{src:{type:"string",description:"Src"},sizes:{type:"string",description:"Sizes"},type:{type:"string",description:"Type"}},required:["src","sizes","type"]}},themeColor:{type:"string",description:"Theme color"},backgroundColor:{type:"string",description:"Background color"},screenshots:{type:"array",description:"Screenshots",items:{type:"object",properties:{src:{type:"string",description:"Src"},sizes:{type:"string",description:"Sizes"},type:{type:"string",description:"Type"},platform:{type:"string",description:"Platform"},label:{type:"string",description:"Label"}},required:["src","sizes","type","platform","label"]}},iarcRatingId:{type:"string",description:"IARC rating id"},categories:{type:"array",description:"Categories",items:{type:"string",description:"Category"}},additionalProperties:{type:"object",description:"Additional properties",properties:{permissions:{type:"array",description:"Permissions",items:{type:"object",properties:{kind:{type:"string",description:"Kind",enum:["collection"]},mode:{type:"string",description:"Mode",enum:["read","write","delete"]},target:{type:"string",description:"Target"}},required:["kind","mode","target"]}},internal:{type:"boolean",description:"Internal"},starred:{type:"boolean",description:"Internal"},defaultShortcut:{type:"string",description:"Default shortcut"},sidebarShortcuts:{type:"array",description:"Sidebar shortcuts",items:{type:"string",description:"Sidebar shortcut"}}}},shortcuts:{type:"array",description:"Shortcuts",items:{type:"object",properties:{name:{type:"string",description:"Name"},url:{type:"string",description:"Url"},icons:{type:"array",description:"Icons",items:{type:"object",properties:{src:{type:"string",description:"Src"},sizes:{type:"string",description:"Sizes"},type:{type:"string",description:"Type"}},required:["src","sizes","type"]}},shortName:{type:"string",description:"Short name"},description:{type:"string",description:"Description"}},required:["name","url"]}},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","name","startUrl","createdAt","updatedAt"]},co={provide:vr.RY,useValue:{name:"storeapplications",creator:{schema:{title:"Store Store",description:"User Applications",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:oa.properties,required:["id","name","startUrl","createdAt","updatedAt"]}}},multi:!0},aa={provide:vr.RY,useValue:{name:"userapplications",creator:{schema:{title:"User Applications",description:"User Applications",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:oa.properties,required:["id","name","startUrl","createdAt","updatedAt"]}}},multi:!0};var Ge=c(4995);const lo={provide:vr.To,useValue:{name:"storeapplications",upsert:!0,data:[{id:"com.central-factory.metadrones",name:"Metadrones",description:"Game demo on how to integrate with the metaverse",startUrl:"https://aitorllamas.com/metaverse/apps/metadrones/remoteEntry.js",icons:[{src:"assets/icons/mdi/drone.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Metadrones",url:"https://aitorllamas.com/metaverse/apps/metadrones/remoteEntry.js",icons:[{src:"assets/icons/mdi/drone.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["games"],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},permissions:[],renderingType:Ge.B.WebpackModuleFederation,supportsBrowser:!0,internal:!1,defaultShortcut:"Metadrones",sidebarShortcuts:["Metadrones"],colors:[{variation:Ge.c.Primary,color:"#d1d36f"}]}},{id:"com.google.search",name:"Google Search",description:"Search the world's information, including webpages, images, videos and more.",startUrl:"https://google.com",categories:["productivity","utilities"],icons:[{src:"assets/icons/simple-icons/google.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Search",url:"https://google.com",icons:[{src:"assets/icons/simple-icons/google.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.alphabet",name:"Alphabet"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Search",sidebarShortcuts:["Search"],colors:[{variation:Ge.c.Primary,color:"#4285f4"}]}},{id:"com.google.drive",name:"Google Drive",description:"Create and share your work online and access your documents from anywhere. Manage documents, spreadsheets, presentations, surveys...",startUrl:"https://drive.google.com",icons:[{src:"assets/icons/simple-icons/googledrive.svg",sizes:"512x512",type:"image/svg+xml"}],categories:["productivity","utilities"],shortcuts:[{name:"Search",url:"https://drive.google.com",icons:[{src:"assets/icons/simple-icons/googledrive.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.alphabet",name:"Alphabet"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Search",sidebarShortcuts:["Search"],colors:[{variation:Ge.c.Primary,color:"#4285f4"}]}},{id:"com.google.keep",name:"Google Keep",description:"Quickly capture what's on your mind and get a reminder later at the right place or time. Speak a voice memo on the go and have it automatically transcribed.",startUrl:"https://keep.google.com",icons:[{src:"assets/icons/simple-icons/googlekeep.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Keep",url:"https://keep.google.com",icons:[{src:"assets/icons/simple-icons/googlekeep.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["productivity","utilities"],additionalProperties:{author:{id:"com.alphabet",name:"Alphabet"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Keep",sidebarShortcuts:["Keep"],colors:[{variation:Ge.c.Primary,color:"#fbbc05"}]}},{id:"com.google.maps",name:"Google Maps",description:"Get real-time navigation and more in the Maps app. Stay on web. Use the app. Directions. Drive. Walk. Bike. Public transport.",startUrl:"https://maps.google.com",icons:[{src:"assets/icons/simple-icons/googlemaps.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Maps",url:"https://maps.google.com",icons:[{src:"assets/icons/simple-icons/googlemaps.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["travel","utilites"],additionalProperties:{author:{id:"com.alphabet",name:"Alphabet"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Maps",sidebarShortcuts:["Maps"],colors:[{variation:Ge.c.Primary,color:"#34a853"}]}},{id:"com.google.travel",name:"Google Travel",description:"Find the best flights fast, track prices, and book with confidence.",startUrl:"https://travel.google.com",icons:[{src:"assets/icons/mdi/bag-checked.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Travel",url:"https://travel.google.com",icons:[{src:"assets/icons/mdi/bag-checked.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["finances","travel"],additionalProperties:{originalManifest:"https://www.google.com/_/TravelFrontendUi/manifest.json",author:{id:"com.alphabet",name:"Alphabet"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Travel",sidebarShortcuts:["Travel"],colors:[{variation:Ge.c.Primary,color:"#4285f4"}]}},{id:"com.google.flights",name:"Google Flights",description:"Find the best flights fast, track prices, and book with confidence.",startUrl:"https://flights.google.com",icons:[{src:"assets/icons/mdi/airplane.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Flights",url:"https://flights.google.com",icons:[{src:"assets/icons/mdi/airplane.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["finances","travel"],additionalProperties:{author:{id:"com.alphabet",name:"Alphabet"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Flights",sidebarShortcuts:["Flights"],colors:[{variation:Ge.c.Primary,color:"#4285f4"}]}},{id:"com.freenow.freenow",name:"Free Now",description:"FREE NOW is a licensed ride-hailing and multi-mobility app in 10 European countries. Book easily, pay in-app quickly and complete your trip safely!",startUrl:"https://free-now.com/",icons:[{src:"assets/icons/mdi/taxi.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Order",url:"https://free-now.com/",icons:[{src:"assets/icons/mdi/taxi.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["finances","travel"],additionalProperties:{author:{id:"com.freenow",name:"Free Now"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Order",sidebarShortcuts:["Order"],colors:[{variation:Ge.c.Primary,color:"#F80B2B"}]}},{id:"com.spotify.player",name:"Spotify",description:"\n      Spotify is all the music you'll ever need.\n\n      Stream free albums and hits, find a song, discover music, and download songs and podcasts with the Spotify free streaming and music player app.\n\n      Free streaming, music search and hits library \u2013 Spotify is all that and much more.\n\n      Play songs, sync music, discover music and free albums with Spotify, your go-to music downloader.\n    ",startUrl:"https://open.spotify.com",icons:[{src:"assets/icons/simple-icons/spotify.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Player",url:"https://open.spotify.com",icons:[{src:"assets/icons/simple-icons/spotify.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Search",url:"https://open.spotify.com/search",icons:[{src:"assets/icons/mdi/magnify.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Library",url:"https://open.spotify.com/collection/playlists",icons:[{src:"assets/icons/mdi/music-box-multiple.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Liked",url:"https://open.spotify.com/collection/tracks",icons:[{src:"assets/icons/mdi/heart.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["entertainment"],additionalProperties:{author:{id:"com.spotify",name:"Spotify"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Player",sidebarShortcuts:["Player"],colors:[{variation:Ge.c.Primary,color:"#1db954"}]}},{id:"com.ivoox.player",name:"iVoox",description:"\n      With Podcast & Radio iVoox you can listen, share and download podcasts, radio shows and much more for free, when you want, where you want.\n      Courses, conferences, classes, lectures, audio books, children\u2019s stories, audio guides, stand up comedy, stories, music and concerts, poems, biographies and even meditation sessions.\n    ",startUrl:"https://ivoox.com",icons:[{src:"assets/icons/mdi/podcast.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://ivoox.com",icons:[{src:"assets/icons/mdi/podcast.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Explore",url:"https://www.ivoox.com/audios_sa_f_1.html",icons:[{src:"assets/icons/mdi/compass.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"My Subscriptions",url:"https://www.ivoox.com/gestionar-suscripciones_je_1.html?order=date",icons:[{src:"assets/icons/mdi/eye.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Play Later",url:"https://www.ivoox.com/mis-audios_hn.html",icons:[{src:"assets/icons/mdi/bookmark.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Favorites",url:"https://www.ivoox.com/audios-que-me-gustan_hc_recomendados_1.html",icons:[{src:"assets/icons/mdi/heart.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"My Radios",url:"https://www.ivoox.com/radios-que-me-gustan_hc_recomendados_1.html",icons:[{src:"assets/icons/mdi/music-box-multiple.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["entertainment"],additionalProperties:{author:{id:"com.ivoox",name:"iVoox Podcast y Radio"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:Ge.c.Primary,color:"#f47721"}]}},{id:"com.netflix.netflix",name:"Netflix",description:"\n      Looking for the most talked-about TV programs and films from the around the world? They\u2019re all on Netflix.\n\n      We\u2019ve got award-winning series, films, documentaries and stand-up specials.\n    ",startUrl:"https://netflix.com",icons:[{src:"assets/icons/simple-icons/netflix.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://netflix.com",icons:[{src:"assets/icons/simple-icons/netflix.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"My List",url:"https://netflix.com/browse/my-list",icons:[{src:"assets/icons/mdi/filmstrip-box-multiple.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Latest",url:"https://netflix.com/latest",icons:[{src:"assets/icons/mdi/new-box.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["entertainment"],additionalProperties:{author:{id:"com.netflix",name:"Netflix, Inc"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:Ge.c.Primary,color:"#e50914"}]}},{id:"com.amazon.primevideo",name:"Prime Video",description:"\n      Watch movies, TV, and sports, including Amazon Originals like The Boys, The Marvelous Mrs. Maisel, and Tom Clancy\u2019s Jack Ryan as well as recommendations just for you.\n\n      App features:\n      \u2022 Download videos to watch offline.\n      \u2022 Rent or buy new-release movies and popular TV shows (availability varies by market).\n      \u2022 Cast from your phone or tablet to the big screen with Chromecast and Fire TV.\n      \u2022 Multi-user profiles allow creating personalized entertainment experiences.\n      \u2022 Go behind the scenes of movies and TV shows with exclusive X-Ray access, powered by IMDb (availability varies by market).\n    ",startUrl:"https://primevideo.com",icons:[{src:"assets/icons/simple-icons/primevideo.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://primevideo.com",icons:[{src:"assets/icons/simple-icons/primevideo.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"My Stuff",url:"https://primevideo.com/mystuff",icons:[{src:"assets/icons/mdi/filmstrip-box-multiple.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Channels",url:"https://primevideo.com/storefront/channels",icons:[{src:"assets/icons/mdi/youtube-tv.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["entertainment"],additionalProperties:{author:{id:"com.amazon",name:"Amazon"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:Ge.c.Primary,color:"#146eb4"}]}},{id:"com.google.youtube",name:"Youtube",description:"\n      See what the world is watching -- from the hottest music videos to what\u2019s popular in gaming, fashion, beauty, news, learning and more. Subscribe to channels you love, create content of your own, share with friends, and watch on any device.\n    ",startUrl:"https://youtube.com",icons:[{src:"assets/icons/simple-icons/youtube.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://youtube.com",icons:[{src:"assets/icons/simple-icons/youtube.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Subscriptions",url:"https://www.youtube.com/feed/subscriptions",icons:[{src:"assets/icons/mdi/youtube-tv.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Library",url:"https://www.youtube.com/feed/library",icons:[{src:"assets/icons/mdi/filmstrip-box-multiple.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"History",url:"https://www.youtube.com/feed/history",icons:[{src:"assets/icons/mdi/history.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Watch Later",url:"https://www.youtube.com/playlist?list=WL",icons:[{src:"assets/icons/mdi/bookmark.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["entertainment"],additionalProperties:{author:{id:"com.aplhabet",name:"Alphabet"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:Ge.c.Primary,color:"#ea4335"}]}},{id:"com.meta.instagram",name:"Instagram",description:"A simple, fun & creative way to capture, edit & share photos, videos & messages with friends & family.",startUrl:"https://instagram.com",icons:[{src:"assets/icons/simple-icons/instagram.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://instagram.com",icons:[{src:"assets/icons/simple-icons/instagram.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["social"],additionalProperties:{author:{id:"com.meta",name:"Meta"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:Ge.c.Primary,color:"#405de6"}]}},{id:"com.meta.whatsapp",name:"WhatsApp",description:"Messaging Application",startUrl:"https://web.whatsapp.com",icons:[{src:"assets/icons/simple-icons/whatsapp.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://web.whatsapp.com",icons:[{src:"assets/icons/simple-icons/whatsapp.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["social"],additionalProperties:{author:{id:"com.meta",name:"Meta"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:Ge.c.Primary,color:"#128c7e"}]}},{id:"com.evernote.evernote",name:"Evernote",description:"Evernote is a powerful tool that can help executives, entrepreneurs and creative people capture and arrange their ideas. All you have to do is use it. \u2014 Forbes.",startUrl:"https://evernote.com/intl/es/",icons:[{src:"assets/icons/simple-icons/evernote.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://evernote.com/intl/es/",icons:[{src:"assets/icons/simple-icons/evernote.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["productivity","utilities"],additionalProperties:{author:{id:"com.evernote",name:"Evernote"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:Ge.c.Primary,color:"#2dbe60"}]}},{id:"com.microsoft.github",name:"Github",description:"GitHub is where over 73 million developers shape the future of software, together.  Contribute to the open source community, manage your Git repositories and much more.",startUrl:"https://github.com",icons:[{src:"assets/icons/simple-icons/github.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://github.com",icons:[{src:"assets/icons/simple-icons/github.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["productivity","utilities"],additionalProperties:{author:{id:"com.microsoft",name:"Microsoft"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:Ge.c.Primary,color:"#333"}]}},{id:"com.google.mail",name:"Gmail",description:"Gmail is email that's intuitive, efficient, and useful. 15 GB of storage, less spam, and mobile access.",startUrl:"https://mail.google.com",icons:[{src:"assets/icons/simple-icons/gmail.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Inbox",url:"https://mail.google.com",icons:[{src:"assets/icons/simple-icons/gmail.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["productivity","utilities"],additionalProperties:{author:{id:"com.alphabet",name:"Alphabet"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Inbox",sidebarShortcuts:["Inbox"],colors:[{variation:Ge.c.Primary,color:"#ea4335"}]}},{id:"com.google.calendar",name:"Google Calendar",description:"The Google Calendar app helps you spend less time managing",startUrl:"https://calendar.google.com",icons:[{src:"assets/icons/simple-icons/googlecalendar.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Agenda",url:"https://calendar.google.com",icons:[{src:"assets/icons/simple-icons/googlecalendar.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Create Event",url:"https://calendar.google.com",icons:[{src:"assets/icons/mdi/calendar-edit.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["productivity","utilities"],additionalProperties:{author:{id:"com.alphabet",name:"Alphabet"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Agenda",sidebarShortcuts:["Agenda"],colors:[{variation:Ge.c.Primary,color:"#4285f4"}]}},{id:"com.doist.todoist",name:"Todoist",description:"The Ultimate Task Management Software To Organize Your Work And Life. Get All Those Tasks Out Of Your Head And Onto Your To-Do List To Regain Clarity & Do More. Trusted By Top Companies. Simple Pricing. Easy Integrations. Free Plan Available.",startUrl:"https://todoist.com/app/",icons:[{src:"assets/icons/simple-icons/todoist.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://todoist.com/app/",icons:[{src:"assets/icons/simple-icons/todoist.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["productivity","utilities"],additionalProperties:{author:{id:"com.doist",name:"Doist"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:Ge.c.Primary,color:"#E44433"}]}},{id:"com.amazon.shopping",name:"Amazon Shopping",description:"Free shipping on millions of items. Get the best of Shopping and Entertainment with Prime.",startUrl:"https://amazon.es",icons:[{src:"assets/icons/simple-icons/amazon.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Shopping",url:"https://amazon.es",icons:[{src:"assets/icons/mdi/basket.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["shopping"],additionalProperties:{author:{id:"com.amazon",name:"Amazon"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Shopping",sidebarShortcuts:["Shopping"],colors:[{variation:Ge.c.Primary,color:"#ff9900"}]}},{id:"com.microsoft.xbox",name:"Xbox Cloud Gaming",description:"Enjoy the console games you love on the devices you already have with Xbox Game Pass Ultimate and a compatible controller. You can play using an Xbox controller, Sony DualShock 4, Razer Kishi, and more.",startUrl:"https://xbox.com/play",icons:[{src:"assets/icons/simple-icons/xbox.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Player",url:"https://xbox.com/play",icons:[{src:"assets/icons/mdi/microsoft-xbox-controller.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["games"],additionalProperties:{author:{id:"com.microsoft",name:"Microsoft"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Player",sidebarShortcuts:["Player"],colors:[{variation:Ge.c.Primary,color:"#52b043"}]}},{id:"com.sony.psnow",name:"PS Now",description:"Discover all the PS2, PS3 and PS4 games available to stream or download on demand on PS4 from the PS Now library",startUrl:"https://playstation.com/ps-now",icons:[{src:"assets/icons/simple-icons/playstation.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Player",url:"https://playstation.com/ps-now",icons:[{src:"assets/icons/simple-icons/playstation.svg",sizes:"512x512",type:"image/svg+xml"}]}],categories:["games"],additionalProperties:{author:{id:"com.sony",name:"Sony Interactive"},permissions:[],renderingType:Ge.B.Webview,internal:!1,defaultShortcut:"Player",sidebarShortcuts:["Player"],colors:[{variation:Ge.c.Primary,color:"#00a4e8"}]}},{id:"com.opensea.store",name:"OpenSea",description:"Discover, collect, and sell extraordinary NFTs",startUrl:"https://opensea.io/",categories:["shopping","finance"],icons:[{src:"assets/icons/mdi/bitcoin.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Store",url:"https://opensea.io",icons:[{src:"assets/icons/mdi/bitcoin.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.opensea",name:"OpenSea"},renderingType:Ge.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Store",sidebarShortcuts:["Store"],colors:[{variation:Ge.c.Primary,color:"#2081E2"}]}},{id:"com.zalando.shopping",name:"Zalando",description:"Descubre las \xfaltimas tendencias en ropa, calzado y complementos para mujer, hombre y ni\xf1o en Zalando.",startUrl:"https://zalando.com/",categories:["shopping","finance"],icons:[{src:"assets/icons/simple-icons/zalando.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Store",url:"https://zalando.com",icons:[{src:"assets/icons/simple-icons/zalando.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.zalando",name:"Zalando"},renderingType:Ge.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Store",sidebarShortcuts:["Store"],colors:[{variation:Ge.c.Primary,color:"#F96902"}]}},{id:"com.zara.shopping",name:"Zara",description:"Latest trends in clothing for women, men & kids at ZARA",startUrl:"https://zara.com/",categories:["shopping","finance"],icons:[{src:"assets/icons/mdi/hanger.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Store",url:"https://zara.com",icons:[{src:"assets/icons/mdi/hanger.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.zara",name:"Zara"},renderingType:Ge.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Store",sidebarShortcuts:["Store"],colors:[{variation:Ge.c.Primary,color:"#000000"}]}},{id:"com.uber.eats",name:"Uber Eats",description:"Enjoy your local restaurant favorites from the comfort of your own home. The food you want, when you want it. ",startUrl:"https://ubereats.com/",categories:["food","shopping","finance"],icons:[{src:"assets/icons/simple-icons/ubereats.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Order",url:"https://ubereats.com",icons:[{src:"assets/icons/simple-icons/ubereats.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.uber",name:"Uber"},renderingType:Ge.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Order",sidebarShortcuts:["Order"],colors:[{variation:Ge.c.Primary,color:"#09091a"}]}},{id:"com.just-eat.just-eat",name:"Just Eat",description:"Order your favourite takeaway from restaurants all over Spain on the app you love. Freshly cooked from your favourite restaurants directly to your door. Order today. More than 15k restaurants. Exclusive Offers. Pizza, sushi, thai & more. Contactless Delivery.",startUrl:"https://just-eat.es/",categories:["food","shopping","finance"],icons:[{src:"assets/icons/simple-icons/justeat.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Order",url:"https://just-eat.es/",icons:[{src:"assets/icons/simple-icons/justeat.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.just-eat",name:"Just Eat"},renderingType:Ge.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Order",sidebarShortcuts:["Order"],colors:[{variation:Ge.c.Primary,color:"#F96101"}]}},{id:"com.burgerking.burgerking",name:"Burger King",description:"Order your favourite takeaway from restaurants all over Spain on the app you love. Freshly cooked from your favourite restaurants directly to your door. Order today. More than 15k restaurants. Exclusive Offers. Pizza, sushi, thai & more. Contactless Delivery.",startUrl:"https://burgerking.es/",categories:["food","shopping","finance"],icons:[{src:"assets/icons/simple-icons/burgerking.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Order",url:"https://burgerking.es/",icons:[{src:"assets/icons/simple-icons/burgerking.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.burgerking",name:"Burger King"},renderingType:Ge.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Order",sidebarShortcuts:["Order"],colors:[{variation:Ge.c.Primary,color:"#F96101"}]}},{id:"com.discord",name:"Discord",description:"Discord is the easiest way to talk over voice, video, and text. Talk, chat, hang out, and stay close with your friends and communities.",startUrl:"https://discord.com/",categories:["social"],icons:[{src:"assets/icons/simple-icons/discord.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://discord.com/",icons:[{src:"assets/icons/simple-icons/discord.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.discord",name:"Discord"},renderingType:Ge.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:Ge.c.Primary,color:"#7289da"}]}},{id:"com.amazon.twitchtv",name:"Twitch",description:"Twitch is an interactive livestreaming service for content spanning gaming, entertainment, sports, music, and more.",startUrl:"https://twitch.tv/",categories:["entertainment"],icons:[{src:"assets/icons/simple-icons/twitch.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://twitch.tv/",icons:[{src:"assets/icons/simple-icons/twitch.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Following",url:"https://twitch.tv/directory/following",icons:[{src:"assets/icons/mdi/heart.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Explore",url:"https://twitch.tv/directory",icons:[{src:"assets/icons/mdi/compass.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.amazon",name:"Amazon"},renderingType:Ge.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:Ge.c.Primary,color:"#9146ff"}]}},{id:"com.feedly.feedly",name:"Feedly",description:"\n      Your central place to organize, read, and share the information you need to stay ahead of the next big trend in your industry.\n    ",startUrl:"https://feedly.com/",categories:["news","entertainment"],icons:[{src:"assets/icons/simple-icons/feedly.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Feed",url:"https://feedly.com/i/my/me",icons:[{src:"assets/icons/simple-icons/feedly.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Read Later",url:"https://feedly.com/i/saved/",icons:[{src:"assets/icons/mdi/bookmark.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Explore",url:"https://feedly.com/i/my/explore/",icons:[{src:"assets/icons/mdi/compass.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.feedly",name:"Feedly"},renderingType:Ge.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Feed",sidebarShortcuts:["Feed"],colors:[{variation:Ge.c.Primary,color:"#2bb24c"}]}},{id:"com.wikipedia.wikipedia",name:"Wikipedia",description:"\n      Wikipedia is a free online encyclopedia, created and edited by volunteers around the world and hosted by the Wikimedia Foundation.\n    ",startUrl:"https://wikipedia.com/",categories:["news","entertainment","magazines"],icons:[{src:"assets/icons/simple-icons/wikipedia.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://wikipedia.com/",icons:[{src:"assets/icons/simple-icons/wikipedia.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.wikipedia",name:"Wikipedia"},renderingType:Ge.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:Ge.c.Primary,color:"#636466"}]}},{id:"com.nintendo.my",name:"Nintendo",description:"My Nintendo makes playing games and interacting with Nintendo even more fun. You can earn points and redeem them to get rewards like in-game content",startUrl:"https://my.nintendo.com/",categories:["news","games"],icons:[{src:"assets/icons/simple-icons/nintendoswitch.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"My Nintendo",url:"https://my.nintendo.com/",icons:[{src:"assets/icons/simple-icons/nintendoswitch.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.nintendo",name:"Nintendo"},renderingType:Ge.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:Ge.c.Primary,color:"#e60012"}]}},{id:"com.ea.origin",name:"Origin",description:"Get great PC and Mac games on Origin. Play the latest RPGs, shooters, Sims games & more.",startUrl:"https://origin.com/",categories:["news","games"],icons:[{src:"assets/icons/simple-icons/origin.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://origin.com/",icons:[{src:"assets/icons/simple-icons/origin.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.ea",name:"EA Games"},renderingType:Ge.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:Ge.c.Primary,color:"#EB5722"}]}},{id:"com.epic.store",name:"Epic Games",description:"Epic Games, Inc. is an American video game and software developer and publisher based in Cary, North Carolina. The company was founded by Tim Sweeney as Potomac Computer Systems in 1991, originally located in his parents' house in Potomac, Maryland.",startUrl:"https://www.epicgames.com/store/",categories:["news","games"],icons:[{src:"assets/icons/simple-icons/epicgames.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://www.epicgames.com/store/",icons:[{src:"assets/icons/simple-icons/epicgames.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.epic",name:"Epic Games"},renderingType:Ge.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:Ge.c.Primary,color:"#2A2A2A"}]}},{id:"com.valve.store",name:"Steam Store",description:"\n      Steam is a video game digital distribution service by Valve. It was launched as a standalone software client in September 2003 as a way for Valve to provide automatic updates for their games, and expanded to include games from third-party publishers\n    ",startUrl:"https://store.steampowered.com",categories:["news","games"],icons:[{src:"assets/icons/simple-icons/steam.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://store.steampowered.com",icons:[{src:"assets/icons/simple-icons/steam.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.valve",name:"Valve"},renderingType:Ge.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:Ge.c.Primary,color:"#00adee"}]}},{id:"com.cdprojekt.gog",name:"GOG",description:"GOG.com is a digital distribution platform \u2013 an online store with a curated selection of games, an optional gaming client giving you freedom of choice",startUrl:"https://www.gog.com",categories:["news","games"],icons:[{src:"assets/icons/mdi/gog.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://www.gog.com",icons:[{src:"assets/icons/mdi/gog.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.cdprojekt",name:"CD Projekt"},renderingType:Ge.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:Ge.c.Primary,color:"#A8DD36"}]}},{id:"com.bbva.wallet",name:"BBVA",description:"The latest banks and financial services company and industry news with expert analysis from the BBVA, Banco Bilbao Vizcaya Argentaria.",startUrl:"https://www.bbva.es",categories:["finances","shopping"],icons:[{src:"assets/icons/mdi/bank.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Portal",url:"https://www.bbva.es",icons:[{src:"assets/icons/mdi/bank.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.bbva",name:"BBVA"},renderingType:Ge.B.Webview,supportsBrowser:!1,internal:!1,permissions:[],defaultShortcut:"Portal",sidebarShortcuts:["Portal"],colors:[{variation:Ge.c.Primary,color:"#072146"}]}}]},multi:!0};var lt=c(899);const Ti={provide:vr.To,useValue:{name:"userapplications",upsert:!0,data:[{id:"com.central-factory.portal",name:"Central Factory Portal",description:"Central Factory Portal",startUrl:"/",icons:[{src:"assets/icons/mdi/open-in-app.svg",sizes:"512x512",type:"image/svg+xml"}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:lt.k.Collection,mode:lt.R.Read,target:"userpreferences"},{kind:lt.k.Collection,mode:lt.R.Read,target:"useravatars"},{kind:lt.k.Collection,mode:lt.R.Read,target:"userapplications"}]}},{id:"com.central-factory.player",name:"Player",description:"Applications Player",startUrl:"play",icons:[{src:"assets/icons/mdi/play.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Play",url:"/play",icons:[{src:"assets/icons/mdi/play.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:lt.k.Collection,mode:lt.R.Read,target:"userapplications"},{kind:lt.k.Collection,mode:lt.R.Write,target:"userapplications"},{kind:lt.k.Collection,mode:lt.R.Delete,target:"userapplications"},{kind:lt.k.Collection,mode:lt.R.Read,target:"storeapplications"},{kind:lt.k.Collection,mode:lt.R.Write,target:"storeapplications"},{kind:lt.k.Collection,mode:lt.R.Delete,target:"storeapplications"}],sidebarShortcuts:["Play"]}},{id:"com.central-factory.user-avatars",name:"User Avatars",description:"Avatars management module",startUrl:"user-avatars",icons:[{src:"assets/icons/mdi/account.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Avatar",url:"/selected-avatar",icons:[{src:"assets/icons/mdi/account.svg",sizes:"512x512",type:"image/svg+xml"}]},{name:"Select Avatar",url:"/select-avatar",icons:[{src:"assets/icons/mdi/account.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:lt.k.Collection,mode:lt.R.Read,target:"useravatars"},{kind:lt.k.Collection,mode:lt.R.Write,target:"useravatars"},{kind:lt.k.Collection,mode:lt.R.Delete,target:"useravatars"},{kind:lt.k.Collection,mode:lt.R.Read,target:"userpreferences"},{kind:lt.k.Collection,mode:lt.R.Write,target:"userpreferences"}],sidebarShortcuts:["Avatar"]}},{id:"com.central-factory.inventory",name:"Inventory",description:"Assets management module",startUrl:"inventory",icons:[{src:"assets/icons/mdi/bag-personal.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Inventory",url:"/inventory",icons:[{src:"assets/icons/mdi/bag-personal.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:lt.k.Collection,mode:lt.R.Read,target:"userassets"},{kind:lt.k.Collection,mode:lt.R.Write,target:"userassets"},{kind:lt.k.Collection,mode:lt.R.Delete,target:"userassets"}],sidebarShortcuts:["Inventory"]}},{id:"com.central-factory.marketplace",name:"Marketplace",description:"Trade with Assets",startUrl:"marketplace",icons:[{src:"assets/icons/mdi/store.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Marketplace",url:"/marketplace",icons:[{src:"assets/icons/mdi/store.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},internal:!0,permissions:[{kind:lt.k.Collection,mode:lt.R.Read,target:"userassets"},{kind:lt.k.Collection,mode:lt.R.Write,target:"userassets"},{kind:lt.k.Collection,mode:lt.R.Delete,target:"userassets"}],sidebarShortcuts:["Marketplace"]}},{id:"com.central-factory.settings",name:"Settings",description:"Settings for the Portal",startUrl:"settings",icons:[{src:"assets/icons/mdi/cog.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Settings",url:"/settings",icons:[{src:"assets/icons/mdi/cog.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{internal:!0,author:{id:"com.central-factory",name:"Central Factory"},permissions:[{kind:lt.k.Collection,mode:lt.R.Read,target:"userpreferences"},{kind:lt.k.Collection,mode:lt.R.Write,target:"userpreferences"}],sidebarShortcuts:["Settings"]}},{id:"com.central-factory.codex",name:"Codex",description:"Official documentation for the Central Factory Metaverse",startUrl:"codex",categories:["productivity"],icons:[{src:"assets/icons/mdi/book-open-page-variant.svg",sizes:"512x512",type:"image/svg+xml"}],shortcuts:[{name:"Codex",url:"https://www.aitorllamas.com/metaverse/apps/codex",icons:[{src:"assets/icons/mdi/book-open-page-variant.svg",sizes:"512x512",type:"image/svg+xml"}]}],additionalProperties:{author:{id:"com.central-factory",name:"Central Factory"},renderingType:Ge.B.Webview,supportsBrowser:!0,internal:!1,permissions:[],defaultShortcut:"Codex",sidebarShortcuts:[],colors:[{variation:Ge.c.Primary,color:"#706fd3"}]}}]},multi:!0},fo={provide:vr.RY,useValue:{name:"userassets",creator:{schema:{title:"User Assets",description:"User assets",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},name:{type:"string",description:"Name"},model:{type:"string",description:"Model"},description:{type:"string",description:"Description"},digital:{type:"boolean",description:"Digital"},private:{type:"boolean",description:"Private"},kind:{type:"string",description:"Kind",enum:["unknown","currency","land","material","building","equipment","furniture","machine","vehicle","media-resource","other"]},url:{type:"string",description:"Url"},previewUrl:{type:"string",description:"Preview url"},currentValue:{type:"number",description:"Current value"},purchaseValue:{type:"number",description:"Purchase value"},purchaseDate:{format:"date-time",type:"string"},data:{type:"object",description:"Data"},owner:{type:"string",description:"Owner"},producer:{type:"string",description:"Producer"},permissions:{type:"array",description:"Permissions",items:{type:"object",description:"Permission"}},createdAt:{format:"date-time",type:"string",description:"Created at"},updatedAt:{format:"date-time",type:"string",description:"Updated at"}}}}},multi:!0},fa={type:"object",description:"Appearance",properties:{format:{type:"string"},src:{type:"string"},smallPreviewUrl:{type:"string"},previewCamera:{type:"object",properties:{position:{type:"string"},rotation:{type:"string"},scale:{type:"string"}}}}},da={provide:vr.RY,useValue:{name:"useravatars",creator:{schema:{title:"User Avatars",description:"User Avatars",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},welcomeMessage:{type:"string",description:"Welcome message"},name:{type:"string",description:"Name"},title:{type:"string",description:"Title"},selectedAppearance:fa,appearances:{type:"array",description:"Appearances",items:fa},scopes:{type:"array",description:"Scopes",items:{type:"object",properties:{integration:{type:"string",description:"Integration"},domain:{type:"string",description:"Domain"},scope:{type:"string",description:"Scope"}}}},skills:{type:"array",description:"Skills",items:{type:"object",properties:{domain:{type:"string",description:"Domain"},scope:{type:"string",description:"Scope"},skill:{type:"string",description:"Skill"}}}},createdAt:{format:"date-time",type:"string",description:"Created at"},updatedAt:{format:"date-time",type:"string",description:"Updated at"}}}}},multi:!0},pa={provide:vr.RY,useValue:{name:"applicationpermissions",creator:{schema:{title:"Application Permissions",description:"Application Permissions",version:0,keyCompression:!0,primaryKey:{key:"id",fields:["appId","kind","mode","target"],separator:":"},type:"object",properties:{id:{type:"string",description:"Id"},appId:{type:"string",description:"AppId"},kind:{type:"string",description:"Kind",enum:["collection"]},mode:{type:"string",description:"Mode",enum:["read","write","delete"]},target:{type:"string",description:"Target"},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","appId","kind","mode","target"],encrypted:["kind","mode","target"]}}},multi:!0},ls={provide:vr.RY,useValue:{name:"userpreferences",creator:{schema:{title:"User Preferences",description:"User preferences",version:0,keyCompression:!0,primaryKey:"id",type:"object",properties:{id:{type:"string",description:"Id"},key:{type:"string",description:"Key"},value:{description:"Value"},avatar:{type:"string"},createdAt:{format:"date-time",type:"string"},updatedAt:{format:"date-time",type:"string"}},required:["id","value"]}}},multi:!0},jt={provide:vr.To,useValue:{name:"userpreferences",upsert:!1,data:[{id:"settings.customization",key:"settings.customization",value:{theme:{name:"Default",path:"assets/themes/default/variables.css"}}}]},multi:!0};var ho=c(43),Vn=c(4438);let Ri=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=l.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=l.\u0275\u0275defineInjector({imports:[[Vn.O]]}),p})(),po=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=l.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=l.\u0275\u0275defineInjector({imports:[[Mr.CommonModule,Vn.O,Ri]]}),p})();var cn=c(2051);const Mi={production:!0,useMocks:!0,autologin:!1,showSplashScreen:!0,webUrl:"https://aitorllamas.com/metaverse/apps/codex",documentationUrl:"https://aitorllamas.com/metaverse/apps/codex/docs",blogUrl:"https://aitorllamas.com/metaverse/apps/codex/blog",developersUrl:"https://aitorllamas.com/metaverse/apps/codex/developers"};var xr=(()=>{return(p=xr||(xr={})).Unknown="unknown",p.Currency="currency",p.Land="land",p.Material="material",p.Building="building",p.Equipment="equipment",p.Furniture="furniture",p.Machine="machine",p.Vehicle="vehicle",p.MediaResource="media-resource",p.Consumable="consumable",p.Other="other",xr;var p})(),Kn=(()=>{return(p=Kn||(Kn={})).Body="body",p.Head="head",p.Ears="ears",p.Face="face",p.Eyes="eyes",p.Nose="nose",p.Mouth="mouth",p.Neck="neck",p.Chest="chest",p.Waist="waist",p.Back="back",p.Arms="arms",p.RightArm="right-arm",p.LeftArm="left-arm",p.Wrist="wrist",p.Hands="hands",p.RightHand="right-hand",p.LeftHand="left-hand",p.Legs="legs",p.RightLeg="right-leg",p.LeftLeg="left-leg",p.Feet="feet",p.RightFoot="right-foot",p.LeftFoot="left-foot",p.Finger="finger",Kn;var p})();const ii={id:"1",name:"Raven's Cloak",model:"Raven's Cloak",producer:"Shop5363155 Store",owner:"Metam",description:"Microfiber hooded cloak with fleece lining",kind:xr.Equipment,previewUrl:"https://i.imgur.com/ukcsu1q.png",url:"https://es.aliexpress.com/item/1005001952208453.html",currentValue:23.62,purchaseValue:23.62,purchaseDate:(new Date).toISOString(),digital:!1,private:!0,data:{allowedSlots:[Kn.Back],colors:["#ff0000","#00ff00","#0000ff"],isEquipped:!1}},xi={id:"2",name:"Foundation's Coat",model:"Foundation's Coat",producer:"Shop1948549 Store",owner:"Metam",description:"Hooded coat with thick fleece lining",kind:xr.Equipment,previewUrl:"https://i.imgur.com/w1XmjIj.png",url:"https://es.aliexpress.com/item/1005003209038453.html",currentValue:43.9,purchaseValue:43.9,purchaseDate:(new Date).toISOString(),digital:!1,private:!0,data:{allowedSlots:[Kn.Chest],colors:["#ff0000","#00ff00","#0000ff"],isEquipped:!1}},ds=((new Date).toISOString(),{provide:vr.To,useValue:{name:"userassets",upsert:!0,data:[ii,xi]},multi:!0}),An={provide:vr.To,useValue:{name:"useravatars",upsert:!0,data:[{id:"1",welcomeMessage:"Hello!",name:"Thomas Anderson",title:"Software Engineer",selectedAppearance:{format:"readyplayer.me",src:"https://nerdreactor.com/wp-content/uploads/2021/12/The-Matrix-Awakens-An-Unreal-Engine-5-Experience-500x500_c.jpg",smallPreviewUrl:"https://nerdreactor.com/wp-content/uploads/2021/12/The-Matrix-Awakens-An-Unreal-Engine-5-Experience-500x500_c.jpg"},appearances:[{format:"gltf",src:"assets/avatars/samples/ed4aa425-9e13-4e51-9f2c-557dfe0db7ab/ed4aa425-9e13-4e51-9f2c-557dfe0db7ab.glb",smallPreviewUrl:"https://nerdreactor.com/wp-content/uploads/2021/12/The-Matrix-Awakens-An-Unreal-Engine-5-Experience-500x500_c.jpg",previewCamera:{position:"0 1.5 0.7",rotation:"-5 0 0",scale:"0.4 0.4 0.4"}},{format:"gltf",src:"assets/avatars/samples/65989f77-c8bf-4542-9e8a-d0f39eb76662/65989f77-c8bf-4542-9e8a-d0f39eb76662.glb",smallPreviewUrl:"assets/avatar-144.png",previewCamera:{position:"0 1.5 0.7",rotation:"-5 0 0",scale:"1 1 1"}}],scopes:[{integration:"CF",domain:"Calendars",scope:"manage"},{integration:"Google",domain:"Calendars",scope:"manage"},{integration:"NFT",domain:"Tokens",scope:"manage"}],skills:[{domain:"calendar",scope:"manage",skill:"create"},{domain:"event",scope:"manage",skill:"create"},{domain:"assets",scope:"manage",skill:"trade"}]},{id:"2",welcomeMessage:"Hello!",name:"Elliot Alderson",title:"Software Engineer",selectedAppearance:{format:"readyplayer.me",src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBYUFRUVFRUZGBgaHBoaHBoYHBkaHBkcGhwZHRkeGBocIS4lHx8rHxkYJzgnKy8xNjU1GiQ7QDs0Py40NTEBDAwMEA8QHhISHjQhISE0MTQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQxNDQ0NDQxNDQ0NDQ0NDQ/ND80PzQxPzQ0NDQxMf/AABEIAOEA4QMBIgACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAABAECAwUGBwj/xAA9EAABAwIDBQYDBwQBBAMAAAABAAIRAyEEEjEFQVFhcQYigZGh8BMysQdCUmLB0eEUcpLxgiMzosIWNLL/xAAYAQEAAwEAAAAAAAAAAAAAAAAAAQIDBP/EACMRAQEAAgMBAAIBBQAAAAAAAAABAhEDEiExQVEiBDJCYXH/2gAMAwEAAhEDEQA/AOhREWrAREQEREBERAREQEREBFQpKkVVJVHPgEzpqtHj9v4cNeDXyEaZS3MQR8zdZF/Mbio2SWt8i4A9snUniXtrMO8AMMaSBeHab4N9Fl2127Z8MjDyXmIc4CGg/NafmH6qvaLda7pF5Hg+2uKptcBlfJJzPaSQTzECNFvMB29cYNRrYmDla6GiJ1k3sd0cwp7Q616Ai12A25h65inWY4/hkB3+JuthKlW+KoiICIiAqFVVCgzIiIMSIiAiIgIiICIiAiIgpKSo2PeW03ubq1rj5A8FxL+0734ZjYOd4yudrOuYCL6Fo6AqLlpOONvxvu021cjWsY+HE94gT3dImI1P/ja64zE7XxLcoLn5twBJtv5i2YzyWHEPe9lMueAGsqOItPd+UR+J1jPMlYNnhzQ99WWggMm9511NphonmRossst+t8cNMD8c9xs94Ni4uc6/WDFjylY6JD3gCoQCWieEwLgnT+FXHs+RjRcNDnneXOJnwFteCrgaRY15cMrrFjonQiRwLSHInXqzEbNIL+DZI56QNeYWtDpGUmw033K6fE1AyqxryYynOBrpAnw05nkufp4eXlgIME35Cb+SiFi0UxeCY3j6WMWWetgS0WcHWnu8DH79dy2e0sDTzZKO6I4uObKbnhA6TzWtwbzTfDoyw4Gbi7XZfUBNliKyWw4EtIOokOB812WzO2Tw3vDM4AB2gzQDDriJjX6rl9riHTGvDS9wfHXxUGk8i8wplsRcZfHtWxdvUsSBkJz/AHmkOsd9yII5jiFt1599mw71f+1hHIEkWHP9PL0ALWXxhlNXSqIilAqFVVCgzIiIMSIiAiIgIiICIiAiIgx1BY7rFeT4qo2gGhrpDXOcwxFi5wafK8cl6R2hr5MO8wTIywN4Oo8RK8f2o8ucDMiBcaW/mVnn9014p5avp4oveCd2p/LabcbKbi6/xQ45vmIkcS0GwHl5LVYbAucYEX4zrwMCQVsBgHjUty8JP1iJ6ql01lrE2aZDpkaguuDuyuy79PFY3Y5xGU6DTW0XH1lWOw7yIg624E8zxVKeCeZiQRuP6KD1K2li8wBOsCDvOWQJ8DE8lrabjmEGDu8lsG7Je5vMatNvL3uQbEqcL7uY5buCncOtR6WKc15cDMyYPPl4rBVxJIA6Sd8idOS2FTZjxPdMjdfrblKh/wBC8mMpNptw1TcNZLH1i4NDt3qsVXW9j+yrUpOaYcCCOSsDSbqYj12/2bYgCu9p1cxpngWu09fRelBeJ9msc6hiKbw0O7wGXjNrfmvbmV7YwyAePH9VpjfGOc9XIiKygqFVVCgzIiIMSIiAiIgIiICIiAiIg1+2cGa1F7B80SOZGgK8eLwx2UiQHEFp1A3jzE/7le3hcF2e2AzE4vEuk5GVCL3k5jPKO6fArPPyba8Pt00eHI7rWMLgRDRBB8CL/USuiwPZ7EVA0mmQDx3f5Cx6yu+2d2fpMdmDACLCLQulotAEQsdWui2YvNaHYdxu4kHfc36lpWww/ZKnzMR82ojgfSF3pYFjewC8KeqNudp7IpsgZB5BW19nUyPlA8AtpW1UWufBUsXxrR4nZjDMtB6rT4nY7Js0coHuV0ddRjTVNNI5PaexWPaWwOVhbouJxuzgx0BzTwXrGJpyLLj9u4RrXEgCdbcLH6/VWxysquWM046sxzSCPmBkERYi4tu3L2bYeO/qMPSq73MBdycLO9V5TiqQNy06RvGWBrzkZdeC7j7OMXmwzmXmm4jS0O7wv5rpwrk5Y65ERaMRUKqqFBmREQYkREBERAREQEREBERBHxlbIx7/AMLXO8hK1v2cUopOe4CXuJ9bk85Wwx9Mup1GjUscPNpUX7Pv+wCfAcrn6lY8vmm/DPrtGLMx/NR2blnDFSNauNVYq9QwryFGfvU1EkRKryodZ5WwNGVR9ABZ6rSWNRUJWGFPxLIUB/JV0vKx1NFzm38NIzkaXmRBA1Hv1XUU26j0UTbNHOyBYi4jl+in/ateb4h+aQCDci3CxEeUeHltfs6rZcRXYT8zA4C1y069YPuFqMdRyOcD1HOJm/WRqs3ZOuWY+llsHhzDO8FriPUBa4fWGc3Hq6KjVVdDmFQqqoUGZERBiREQEREBERAREQFSVVEFpEqF2NpfDouYRBY97PJxjwiI6qasNLFso/1D3aAteRvOZrW26liy5Z414b/J0dAypbXxqvLcf23eS/4WmgIkxbjH1hat/brGtuGHxBjrospXRZt7G+oFG+KJNwvNtndu6r3BtSn/AMhI9CuowuL+JdvBVuXqccW/fimgLXYnaLQLkacffNc/tnFPYCLj9CuC2tiqr3GHkN3CZnoky34t11HYbV7X06biAQSCeceS0lTtkXHumAd8T5TqFzeG2cxzv+q8k/hbLneQ0W6w+zqA+Wk90axBjwBnRTdKzbd7P7TOLoezMPxM152n0W+rPD2yDIieH1XMUNm4dx7hLHi4a7Mxw6AwfG63+GGWnlJkjjrv1O/+VWp9cb2tpQWOG+Rwi+/zC1OxcW2ni6FR57rJcYk/Kx1hxJOn9y6HtXSORp5mZ00/hV7O7GblZUeJDmB/HWT9IVscus2i49rp0Oy9pVHlj6pYwPdDGCc2k66kjjot+uOq1S/+mrNpuYaTw11j8jzAJPUrsVtxZXKesOfGY2aFQqqoVqwZkREGJERAREQEREBERAVCVVEFGmCDE8uKptdrMRLRYvYWu49xzS2f8nKsLIxgJp8ZePDLP1WfJNxrw33TlKlajhQ6m1jJbBe58NazNpmMGSYMNAkwtLtfb1RzGvb/ANt7ixrvhNaHOGoAdUzQINyAuixfZUHEis8l3eD2ttBcIvGhiAIWsx/Y+kKz6ueplc5z8mT5cxlwFRzw0CSb3XPOv5dV7f4uWr16jHFrmgOFiIyEHlcg9QV6H9njKpc4VaZa0tzMda8Ru8fRaTG42kao7gqPtlbOYA8XHSy9C7M0XNptLw1s/K1ohrW20G7ik9q+W5j6j9qMCCx0NEwf1Xj1fA1Xue5kkaAAS6d8D9V7ZtmodNxsuI2vsJ2YPYSAZnLz0NtyXy7Rj805vBdm6gpF+QOqNcCKb7sc2L5pIzGYMG3dVuxNihjqv9VREvByw7K4PJ+41psB3t28BbirhMS2ze/yMQR0cteDiWuvRLY3ta0euqd7ovHLd7SWbEqSJqw0Xax5c/Lza8nM066Qt3gMM+JcfLT91DwNJ7hBDuYd/rr5rq8DhTkkhRP5F8jmu0Ozy6i4AG0Hw3++S02PxD2YOiaTix3w2DMJkQASJ3SZ9eK7XEslrmkcR/C53a7G4bDOzAOa2ixlxILyA1lv7hPQJolcz2Z22812te4uD+66d86eRXqAXA9lOz5D2Yh5aQ45mge9y78Lo4p9c39R9kVVCqqhWrnZkREGJERAREQEREBERAREQFKwRFwdQczfIgjyM+Cio10EHgZ9+qjKbicLq7bathG1GZXacrHwK5Da/ZF7yYxD8v4Sf1AXZCopVCkNVy3GV245XH1yHZ3saykczhJ3zv3rsaLO8s5FlFbi2MmSJUyTFGWVya/aomVrKDgQWlTMdtGmH954jhvPRQGVKTnEsfeZAIv0lVv1efEplMOEEab+CxPw+vvorMHig5xHMj+FMUeVKJTpRFlOpVYBBCwlqt5blM8Vy9QcSdfeq0+1SS/I5jXseWy135TLTbfK29YfNvlRKeypeXl7jJJIgeTTuCdbl8RcscfqVhMPlsAA0WaPqpatAhXLqwx6zTjzy7XYqFVVCrKsyIiDEiIgIiICIiAiIgIiICtKuVpQbjCmQ3mB9FPZZanCvhrZ93U9lbRc18rrnuMTWuXnu29gY04lzmVc1JwtIHd6756LuvijSUcZuTA5qMvVsb1eRPw9Rj306rS8m2ZriCB0bcdZVuE2aaT89Oo4t/C8l0HxXpNXAUm531HNE3kxw4rQnD03HuPadd91nZptjbWLYWFcBckkkmeJOq319+qg0anw/msFJ/qA9pg3vCmTUUyu6ks4lQsRWA4LHisWQARy8ua1Xx7zom0f9Ti4mSpTRYKDQdbjePNbBbcMc/PfikKqIt2AqFVVCgzIiIMSIiAiIgIiICIiAiIgIiIMrHd0j3dZ8JUk66KC48FTD1MpJHvwXPyzV26eLLeOlcdtl2HDnCk+q7cGAuM9BeFxlTbuOxBhuGqH+/uNHCA6BC7mi0anUnepb8t3SQY3LPf7dEunllbD7QLoNIDeAXNIHqdyjVsLjzuYOQI9IXe4/FOvD3E6Ra3ooNAh13ZnEfiP0Ubk/C29xzFDFY9rQ10Fs6OdJEe966HZWKIc3PZ2/cL8ZU9zWTIF1FrtDjYeW7+bqNqpGLcS3KOEe+KhGpGtj/KzPGUQdB4xr+2qgBxe8taZ4nUNHP3uUIbbZ7szhwF/fvctqFC2dTygR/vrzU0Lq4f7XJzfVyIi1ZCoVVUKDMiIgxIiICIiAiIgIiICIiAiKhMa26oBWN+GcZeySWxLfxDl+YcN61eJ7SYcEMY/4zycrWUu+XOOgkW9V0GxsNXa1zq+VrnmWsb9xu4Od9528xYaCdVTOzTXjl7bW4NragBaZBusr8A/SZWLE0/hPdVYO6bvaOO9wH1G+FNp7WYQO8L6XF1z6jp3UR2xDlvrvhQsRsYjQx1UzaG3gybrVVO0Advn9OCi6TLVGbNcLuNvd/oseIw4Z3uXosVTbLSTBtG7W276qE+s+ucoMCbu5a93mo1De0fEYsv7rfE7h/KmYOmGiB/s/qVjOGANrAbr+M8yp1JtlVbWomYUaKUFGpCIWPDbVpVHvptfD2Eh1N3deI4A6jfI3FdPDfNOXml3tPRWq5bMBUKqqFBmREQYkREBEVJUiqIqEqAlJWn2j2kw9GQXl7h91gnzd8o81zON7evNqNIDm8k+gj6ps62u+lRsdtGlRaX1HtYOZv4AXK8qxvaDE1jD6z2j8LDkH/jfzUBlLOQS4nrJN94J57lHZeYft2+0e37G2o0i+fvP7rfBoEn0XLbR29iK7g2rUORwBLG91txIkC5txJWAsDWnOMzbw6PlJ4gfULE9kta6xLYEjeBMT5lRatJJHa/ZZg2vxb3kWp0yWjg57ss9YDvNerOvJXkX2XbUbSxbqb7Cs34bT+dpLmDxBcOsL2EtWOX1pj8RKlPyXKbd2M45nUahYd7YzsP/ABkEeB8CuyKg42hmBjyVK1xrxzauFxTDLntcOIzeohaWpiqzbE+S9S25gwQQW3XFVtmZ3xl098VEy/a9x38Qtm417iAV2+DqZWZjb3uXI0cDkeO7Hh+66WrUmmABwVcrtOtNhhjm/fn1WxoUgFq9lUydbreBqSIoWWXLdtdkBzDiaZLK1IZg5ti5rdQSN4Fwuva31XO9s6mTB1zyDf8AJzR+qvPL4plJr1C7M9sadVjWV3hlUWJNmvjQg6Douta4ESLjiLjzXz4TZdN2Z7U1MIQ1+apROrCbt5snTpoV0TJy5Yfp68qFarZXaLDYi1OoC78Dpa7wB18FtldRlRJREMSIrSgqVB2htahQ/wC7VYw/hJlx6NEn0Wp7XdoRh2ZGH/qPBj8g0zH9F5o4Z3Fx7znGSTqTzUWrY4b9rucf27Fxh6ZPBz7DqGgz5wuW2ht3F1i7NVIb+Fndb5C/mVHFOB7971kAbFtfLoq+rzGRCyu3knqVUMMe/cLY/DAAMbvfDmrX7gBfl09+qlZDo078lcynBF+nPpxWww9HMeFp/eFhfTc0Eawd2vBEJTH2h28wOfBY24JozRMGZFjrEFo5K2hStOnI2Uik+BBQ0072lj7SHAiCNxBkEc9CF7B2I7aNxbW0a5DMSAANwrQPmb+exJb4heYYvD5uoAjnvAP1UDKJ/C4EcQQeI5yBdVym0yvop4WGo6QvMuz/ANoz6QFPFsdVYLCqyM4/uaSA7rY9V3uzNsYfEiaNVjzvaDDx1Ye8PJZ2aaY2Im1oLSCJHAiVzPwg2YYL+C63H07EQtOylcy3xWOU9bY1zGKwxzTli+nDzUzBUDEOC6Ojs8alUrYUBwUdansx4CjAUx5slKlCg7U2nToCaj2tHAm56BXkUtbLDvlcJ9p+2GZW4Zpl+YOfGjQJytPMkzG6FA272+c4FmGaaY0NR0ZyPyj7vW5XD1KhcSSSSSSSbkk6klaY4/ms8sp8ixyyPEEDkrWNuOvoqvdJlXZqsMHgRcEag9V1ewu3FaiQysfi0+fzNHJ2/ofNcm4XlWuU70izb2b/AOaYX8b/APEqi8ryonZHWPc1HxuJbSY97tGgnyUhef8AbnbeZ/8ATsPdaRn5u1jwlaWssZuua2jXdXqvqvMlxmOA0aB0srWUdOfgqBlmkannoQfRZy4NiY0975Cq3WinERPv/avNMm8e/ZVzHjT9hwvPvRZ8tj1v/CIWsaLCBdHtBMHRX0qeYxYbt6q1l9fKPfqgYZ4m45a+XRUzgkEePC2s+SspGHG1r3nqsoYCT58v2QSKcZNR7+qwVaDYkW8efvyVWMkEc7XuenALHVaQ11z01A4IEXjdfzOn0UPGU5+aZGh4aWnf/CtZU1g8N8ATylHu7p8tfK/mgiZyOYHDhzGsHyWN1O+Zhvug3HQi6zVsPmOZhgjn/KiuovF4nmNR1jXxUUbnCdqcbSAaK7nNH3aga8R1cCfVbWj9oFYfPRY/oXM/cLjc794nqE+I78P6KlxlWmVj0Kl9poHzYQ+FWfQsCwYr7SA4gsw0f3P/AEDb+a4P4o/AVY935U6xPaum2n28xVUQ0tpD8gk/5OkjwhcvXrueS57i4ne4kn1VMx4K0gqdRFtWlZGt3lGsV2WynSAb3HoPfmqMZKuCzNbG5NDE6n6furHhSXDksJbKlOk/KiyZUUIe2Lxnbv8A9mt/e76hEV6zw+q0/ld1P0VmI+70P6oihdkofM7qf/VbAfIOn/siIVhwerv7Sr2/f6j/APSIgto6+X0KzU9PfNEQZqfyP8Vh2hp4H6BURBq6evgfqVWn8vh+oVEQWu+cdf3VW/N/xRFFGFm7qPqVjxaIoEQ+/VWlEQUYsiIoSxDVZB93oqorfgG7uizD9lREgHU9SsbflCIiWwREQf/Z",smallPreviewUrl:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBYUFRUVFRUZGBgaHBoaHBoYHBkaHBkcGhwZHRkeGBocIS4lHx8rHxkYJzgnKy8xNjU1GiQ7QDs0Py40NTEBDAwMEA8QHhISHjQhISE0MTQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQxNDQ0NDQxNDQ0NDQ0NDQ/ND80PzQxPzQ0NDQxMf/AABEIAOEA4QMBIgACEQEDEQH/xAAcAAEAAQUBAQAAAAAAAAAAAAAABAECAwUGBwj/xAA9EAABAwIDBQYDBwQBBAMAAAABAAIRAyEEEjEFQVFhcQYigZGh8BMysQdCUmLB0eEUcpLxgiMzosIWNLL/xAAYAQEAAwEAAAAAAAAAAAAAAAAAAQIDBP/EACMRAQEAAgMBAAIBBQAAAAAAAAABAhEDEiExQVEiBDJCYXH/2gAMAwEAAhEDEQA/AOhREWrAREQEREBERAREQEREBFQpKkVVJVHPgEzpqtHj9v4cNeDXyEaZS3MQR8zdZF/Mbio2SWt8i4A9snUniXtrMO8AMMaSBeHab4N9Fl2127Z8MjDyXmIc4CGg/NafmH6qvaLda7pF5Hg+2uKptcBlfJJzPaSQTzECNFvMB29cYNRrYmDla6GiJ1k3sd0cwp7Q616Ai12A25h65inWY4/hkB3+JuthKlW+KoiICIiAqFVVCgzIiIMSIiAiIgIiICIiAiIgpKSo2PeW03ubq1rj5A8FxL+0734ZjYOd4yudrOuYCL6Fo6AqLlpOONvxvu021cjWsY+HE94gT3dImI1P/ja64zE7XxLcoLn5twBJtv5i2YzyWHEPe9lMueAGsqOItPd+UR+J1jPMlYNnhzQ99WWggMm9511NphonmRossst+t8cNMD8c9xs94Ni4uc6/WDFjylY6JD3gCoQCWieEwLgnT+FXHs+RjRcNDnneXOJnwFteCrgaRY15cMrrFjonQiRwLSHInXqzEbNIL+DZI56QNeYWtDpGUmw033K6fE1AyqxryYynOBrpAnw05nkufp4eXlgIME35Cb+SiFi0UxeCY3j6WMWWetgS0WcHWnu8DH79dy2e0sDTzZKO6I4uObKbnhA6TzWtwbzTfDoyw4Gbi7XZfUBNliKyWw4EtIOokOB812WzO2Tw3vDM4AB2gzQDDriJjX6rl9riHTGvDS9wfHXxUGk8i8wplsRcZfHtWxdvUsSBkJz/AHmkOsd9yII5jiFt1599mw71f+1hHIEkWHP9PL0ALWXxhlNXSqIilAqFVVCgzIiIMSIiAiIgIiICIiAiIgx1BY7rFeT4qo2gGhrpDXOcwxFi5wafK8cl6R2hr5MO8wTIywN4Oo8RK8f2o8ucDMiBcaW/mVnn9014p5avp4oveCd2p/LabcbKbi6/xQ45vmIkcS0GwHl5LVYbAucYEX4zrwMCQVsBgHjUty8JP1iJ6ql01lrE2aZDpkaguuDuyuy79PFY3Y5xGU6DTW0XH1lWOw7yIg624E8zxVKeCeZiQRuP6KD1K2li8wBOsCDvOWQJ8DE8lrabjmEGDu8lsG7Je5vMatNvL3uQbEqcL7uY5buCncOtR6WKc15cDMyYPPl4rBVxJIA6Sd8idOS2FTZjxPdMjdfrblKh/wBC8mMpNptw1TcNZLH1i4NDt3qsVXW9j+yrUpOaYcCCOSsDSbqYj12/2bYgCu9p1cxpngWu09fRelBeJ9msc6hiKbw0O7wGXjNrfmvbmV7YwyAePH9VpjfGOc9XIiKygqFVVCgzIiIMSIiAiIgIiICIiAiIg1+2cGa1F7B80SOZGgK8eLwx2UiQHEFp1A3jzE/7le3hcF2e2AzE4vEuk5GVCL3k5jPKO6fArPPyba8Pt00eHI7rWMLgRDRBB8CL/USuiwPZ7EVA0mmQDx3f5Cx6yu+2d2fpMdmDACLCLQulotAEQsdWui2YvNaHYdxu4kHfc36lpWww/ZKnzMR82ojgfSF3pYFjewC8KeqNudp7IpsgZB5BW19nUyPlA8AtpW1UWufBUsXxrR4nZjDMtB6rT4nY7Js0coHuV0ddRjTVNNI5PaexWPaWwOVhbouJxuzgx0BzTwXrGJpyLLj9u4RrXEgCdbcLH6/VWxysquWM046sxzSCPmBkERYi4tu3L2bYeO/qMPSq73MBdycLO9V5TiqQNy06RvGWBrzkZdeC7j7OMXmwzmXmm4jS0O7wv5rpwrk5Y65ERaMRUKqqFBmREQYkREBERAREQEREBERBHxlbIx7/AMLXO8hK1v2cUopOe4CXuJ9bk85Wwx9Mup1GjUscPNpUX7Pv+wCfAcrn6lY8vmm/DPrtGLMx/NR2blnDFSNauNVYq9QwryFGfvU1EkRKryodZ5WwNGVR9ABZ6rSWNRUJWGFPxLIUB/JV0vKx1NFzm38NIzkaXmRBA1Hv1XUU26j0UTbNHOyBYi4jl+in/ateb4h+aQCDci3CxEeUeHltfs6rZcRXYT8zA4C1y069YPuFqMdRyOcD1HOJm/WRqs3ZOuWY+llsHhzDO8FriPUBa4fWGc3Hq6KjVVdDmFQqqoUGZERBiREQEREBERAREQFSVVEFpEqF2NpfDouYRBY97PJxjwiI6qasNLFso/1D3aAteRvOZrW26liy5Z414b/J0dAypbXxqvLcf23eS/4WmgIkxbjH1hat/brGtuGHxBjrospXRZt7G+oFG+KJNwvNtndu6r3BtSn/AMhI9CuowuL+JdvBVuXqccW/fimgLXYnaLQLkacffNc/tnFPYCLj9CuC2tiqr3GHkN3CZnoky34t11HYbV7X06biAQSCeceS0lTtkXHumAd8T5TqFzeG2cxzv+q8k/hbLneQ0W6w+zqA+Wk90axBjwBnRTdKzbd7P7TOLoezMPxM152n0W+rPD2yDIieH1XMUNm4dx7hLHi4a7Mxw6AwfG63+GGWnlJkjjrv1O/+VWp9cb2tpQWOG+Rwi+/zC1OxcW2ni6FR57rJcYk/Kx1hxJOn9y6HtXSORp5mZ00/hV7O7GblZUeJDmB/HWT9IVscus2i49rp0Oy9pVHlj6pYwPdDGCc2k66kjjot+uOq1S/+mrNpuYaTw11j8jzAJPUrsVtxZXKesOfGY2aFQqqoVqwZkREGJERAREQEREBERAVCVVEFGmCDE8uKptdrMRLRYvYWu49xzS2f8nKsLIxgJp8ZePDLP1WfJNxrw33TlKlajhQ6m1jJbBe58NazNpmMGSYMNAkwtLtfb1RzGvb/ANt7ixrvhNaHOGoAdUzQINyAuixfZUHEis8l3eD2ttBcIvGhiAIWsx/Y+kKz6ueplc5z8mT5cxlwFRzw0CSb3XPOv5dV7f4uWr16jHFrmgOFiIyEHlcg9QV6H9njKpc4VaZa0tzMda8Ru8fRaTG42kao7gqPtlbOYA8XHSy9C7M0XNptLw1s/K1ohrW20G7ik9q+W5j6j9qMCCx0NEwf1Xj1fA1Xue5kkaAAS6d8D9V7ZtmodNxsuI2vsJ2YPYSAZnLz0NtyXy7Rj805vBdm6gpF+QOqNcCKb7sc2L5pIzGYMG3dVuxNihjqv9VREvByw7K4PJ+41psB3t28BbirhMS2ze/yMQR0cteDiWuvRLY3ta0euqd7ovHLd7SWbEqSJqw0Xax5c/Lza8nM066Qt3gMM+JcfLT91DwNJ7hBDuYd/rr5rq8DhTkkhRP5F8jmu0Ozy6i4AG0Hw3++S02PxD2YOiaTix3w2DMJkQASJ3SZ9eK7XEslrmkcR/C53a7G4bDOzAOa2ixlxILyA1lv7hPQJolcz2Z22812te4uD+66d86eRXqAXA9lOz5D2Yh5aQ45mge9y78Lo4p9c39R9kVVCqqhWrnZkREGJERAREQEREBERAREQFKwRFwdQczfIgjyM+Cio10EHgZ9+qjKbicLq7bathG1GZXacrHwK5Da/ZF7yYxD8v4Sf1AXZCopVCkNVy3GV245XH1yHZ3saykczhJ3zv3rsaLO8s5FlFbi2MmSJUyTFGWVya/aomVrKDgQWlTMdtGmH954jhvPRQGVKTnEsfeZAIv0lVv1efEplMOEEab+CxPw+vvorMHig5xHMj+FMUeVKJTpRFlOpVYBBCwlqt5blM8Vy9QcSdfeq0+1SS/I5jXseWy135TLTbfK29YfNvlRKeypeXl7jJJIgeTTuCdbl8RcscfqVhMPlsAA0WaPqpatAhXLqwx6zTjzy7XYqFVVCrKsyIiDEiIgIiICIiAiIgIiICtKuVpQbjCmQ3mB9FPZZanCvhrZ93U9lbRc18rrnuMTWuXnu29gY04lzmVc1JwtIHd6756LuvijSUcZuTA5qMvVsb1eRPw9Rj306rS8m2ZriCB0bcdZVuE2aaT89Oo4t/C8l0HxXpNXAUm531HNE3kxw4rQnD03HuPadd91nZptjbWLYWFcBckkkmeJOq319+qg0anw/msFJ/qA9pg3vCmTUUyu6ks4lQsRWA4LHisWQARy8ua1Xx7zom0f9Ti4mSpTRYKDQdbjePNbBbcMc/PfikKqIt2AqFVVCgzIiIMSIiAiIgIiICIiAiIgIiIMrHd0j3dZ8JUk66KC48FTD1MpJHvwXPyzV26eLLeOlcdtl2HDnCk+q7cGAuM9BeFxlTbuOxBhuGqH+/uNHCA6BC7mi0anUnepb8t3SQY3LPf7dEunllbD7QLoNIDeAXNIHqdyjVsLjzuYOQI9IXe4/FOvD3E6Ra3ooNAh13ZnEfiP0Ubk/C29xzFDFY9rQ10Fs6OdJEe966HZWKIc3PZ2/cL8ZU9zWTIF1FrtDjYeW7+bqNqpGLcS3KOEe+KhGpGtj/KzPGUQdB4xr+2qgBxe8taZ4nUNHP3uUIbbZ7szhwF/fvctqFC2dTygR/vrzU0Lq4f7XJzfVyIi1ZCoVVUKDMiIgxIiICIiAiIgIiICIiAiKhMa26oBWN+GcZeySWxLfxDl+YcN61eJ7SYcEMY/4zycrWUu+XOOgkW9V0GxsNXa1zq+VrnmWsb9xu4Od9528xYaCdVTOzTXjl7bW4NragBaZBusr8A/SZWLE0/hPdVYO6bvaOO9wH1G+FNp7WYQO8L6XF1z6jp3UR2xDlvrvhQsRsYjQx1UzaG3gybrVVO0Advn9OCi6TLVGbNcLuNvd/oseIw4Z3uXosVTbLSTBtG7W276qE+s+ucoMCbu5a93mo1De0fEYsv7rfE7h/KmYOmGiB/s/qVjOGANrAbr+M8yp1JtlVbWomYUaKUFGpCIWPDbVpVHvptfD2Eh1N3deI4A6jfI3FdPDfNOXml3tPRWq5bMBUKqqFBmREQYkREBEVJUiqIqEqAlJWn2j2kw9GQXl7h91gnzd8o81zON7evNqNIDm8k+gj6ps62u+lRsdtGlRaX1HtYOZv4AXK8qxvaDE1jD6z2j8LDkH/jfzUBlLOQS4nrJN94J57lHZeYft2+0e37G2o0i+fvP7rfBoEn0XLbR29iK7g2rUORwBLG91txIkC5txJWAsDWnOMzbw6PlJ4gfULE9kta6xLYEjeBMT5lRatJJHa/ZZg2vxb3kWp0yWjg57ss9YDvNerOvJXkX2XbUbSxbqb7Cs34bT+dpLmDxBcOsL2EtWOX1pj8RKlPyXKbd2M45nUahYd7YzsP/ABkEeB8CuyKg42hmBjyVK1xrxzauFxTDLntcOIzeohaWpiqzbE+S9S25gwQQW3XFVtmZ3xl098VEy/a9x38Qtm417iAV2+DqZWZjb3uXI0cDkeO7Hh+66WrUmmABwVcrtOtNhhjm/fn1WxoUgFq9lUydbreBqSIoWWXLdtdkBzDiaZLK1IZg5ti5rdQSN4Fwuva31XO9s6mTB1zyDf8AJzR+qvPL4plJr1C7M9sadVjWV3hlUWJNmvjQg6Douta4ESLjiLjzXz4TZdN2Z7U1MIQ1+apROrCbt5snTpoV0TJy5Yfp68qFarZXaLDYi1OoC78Dpa7wB18FtldRlRJREMSIrSgqVB2htahQ/wC7VYw/hJlx6NEn0Wp7XdoRh2ZGH/qPBj8g0zH9F5o4Z3Fx7znGSTqTzUWrY4b9rucf27Fxh6ZPBz7DqGgz5wuW2ht3F1i7NVIb+Fndb5C/mVHFOB7971kAbFtfLoq+rzGRCyu3knqVUMMe/cLY/DAAMbvfDmrX7gBfl09+qlZDo078lcynBF+nPpxWww9HMeFp/eFhfTc0Eawd2vBEJTH2h28wOfBY24JozRMGZFjrEFo5K2hStOnI2Uik+BBQ0072lj7SHAiCNxBkEc9CF7B2I7aNxbW0a5DMSAANwrQPmb+exJb4heYYvD5uoAjnvAP1UDKJ/C4EcQQeI5yBdVym0yvop4WGo6QvMuz/ANoz6QFPFsdVYLCqyM4/uaSA7rY9V3uzNsYfEiaNVjzvaDDx1Ye8PJZ2aaY2Im1oLSCJHAiVzPwg2YYL+C63H07EQtOylcy3xWOU9bY1zGKwxzTli+nDzUzBUDEOC6Ojs8alUrYUBwUdansx4CjAUx5slKlCg7U2nToCaj2tHAm56BXkUtbLDvlcJ9p+2GZW4Zpl+YOfGjQJytPMkzG6FA272+c4FmGaaY0NR0ZyPyj7vW5XD1KhcSSSSSSSbkk6klaY4/ms8sp8ixyyPEEDkrWNuOvoqvdJlXZqsMHgRcEag9V1ewu3FaiQysfi0+fzNHJ2/ofNcm4XlWuU70izb2b/AOaYX8b/APEqi8ryonZHWPc1HxuJbSY97tGgnyUhef8AbnbeZ/8ATsPdaRn5u1jwlaWssZuua2jXdXqvqvMlxmOA0aB0srWUdOfgqBlmkannoQfRZy4NiY0975Cq3WinERPv/avNMm8e/ZVzHjT9hwvPvRZ8tj1v/CIWsaLCBdHtBMHRX0qeYxYbt6q1l9fKPfqgYZ4m45a+XRUzgkEePC2s+SspGHG1r3nqsoYCT58v2QSKcZNR7+qwVaDYkW8efvyVWMkEc7XuenALHVaQ11z01A4IEXjdfzOn0UPGU5+aZGh4aWnf/CtZU1g8N8ATylHu7p8tfK/mgiZyOYHDhzGsHyWN1O+Zhvug3HQi6zVsPmOZhgjn/KiuovF4nmNR1jXxUUbnCdqcbSAaK7nNH3aga8R1cCfVbWj9oFYfPRY/oXM/cLjc794nqE+I78P6KlxlWmVj0Kl9poHzYQ+FWfQsCwYr7SA4gsw0f3P/AEDb+a4P4o/AVY935U6xPaum2n28xVUQ0tpD8gk/5OkjwhcvXrueS57i4ne4kn1VMx4K0gqdRFtWlZGt3lGsV2WynSAb3HoPfmqMZKuCzNbG5NDE6n6furHhSXDksJbKlOk/KiyZUUIe2Lxnbv8A9mt/e76hEV6zw+q0/ld1P0VmI+70P6oihdkofM7qf/VbAfIOn/siIVhwerv7Sr2/f6j/APSIgto6+X0KzU9PfNEQZqfyP8Vh2hp4H6BURBq6evgfqVWn8vh+oVEQWu+cdf3VW/N/xRFFGFm7qPqVjxaIoEQ+/VWlEQUYsiIoSxDVZB93oqorfgG7uizD9lREgHU9SsbflCIiWwREQf/Z"},appearances:[],scopes:[],skills:[]},{id:"3",welcomeMessage:"Hello!",name:"Alan Turing",title:"Software Engineer",selectedAppearance:{format:"readyplayer.me",src:"https://upload.wikimedia.org/wikipedia/commons/a/a1/Alan_Turing_Aged_16.jpg",smallPreviewUrl:"https://upload.wikimedia.org/wikipedia/commons/a/a1/Alan_Turing_Aged_16.jpg"},appearances:[],scopes:[],skills:[]}]},multi:!0};var Cn=c(3905);let nr=(()=>{class p{static forRoot({enabled:o=!1,autologin:m=!1}){const k=[];return o&&(k.push(An),k.push(ds)),m&&k.push({provide:l.APP_INITIALIZER,useFactory:V=>()=>(0,Cn.z)(V.setupDatabase("test","test1234")),deps:[vr.v2],multi:!0}),{ngModule:p,providers:k}}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=l.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=l.\u0275\u0275defineInjector({}),p})();var lr=c(428),si=c(3900),$n=c(4004),Dn=c(8505);const Ve=new l.InjectionToken("ON_DATABASE_CREATED_GUARD_FAILURE_REDIRECT_TOKEN",{providedIn:"root",factory:()=>"/select-avatar"});let Rt=(()=>{class p{constructor(o,m,k){this.entityManager=o,this.router=m,this.failureRedirectTo=k}canActivate(){return this.entityManager.getRepository("userpreferences","com.central-factory.user-avatars").pipe((0,si.w)(o=>o.findOne({selector:{id:"userAvatars.selectedAvatar"}})),(0,$n.U)(o=>!(!o||!o.value)),(0,Dn.b)(o=>{o||this.router.navigate([this.failureRedirectTo])}))}}return p.\u0275fac=function(o){return new(o||p)(l.\u0275\u0275inject(vr.v2),l.\u0275\u0275inject(lr.Router),l.\u0275\u0275inject(Ve))},p.\u0275prov=l.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const hs=new l.InjectionToken("ON_DATABASE_CREATED_GUARD_FAILURE_REDIRECT_TOKEN",{providedIn:"root",factory:()=>"/login"});let br=(()=>{class p{constructor(o,m,k){this.entityManager=o,this.router=m,this.failureRedirectTo=k}canActivate(){const o=this.entityManager.isDatabaseCreated();return o||this.router.navigate([this.failureRedirectTo]),o}}return p.\u0275fac=function(o){return new(o||p)(l.\u0275\u0275inject(vr.v2),l.\u0275\u0275inject(lr.Router),l.\u0275\u0275inject(hs))},p.\u0275prov=l.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const Yt=new l.InjectionToken("ON_NOT_DATABASE_CREATED_GUARD_FAILURE_REDIRECT_TOKEN",{providedIn:"root",factory:()=>"/"});let ki=(()=>{class p{constructor(o,m,k){this.entityManager=o,this.router=m,this.failureRedirectTo=k}canActivate(){const o=this.entityManager.isDatabaseCreated();return o&&this.router.navigate([this.failureRedirectTo]),!o}}return p.\u0275fac=function(o){return new(o||p)(l.\u0275\u0275inject(vr.v2),l.\u0275\u0275inject(lr.Router),l.\u0275\u0275inject(Yt))},p.\u0275prov=l.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();var ma=c(6961),nt=c(4918),vo=c(7165),je=c(7579),Hn=c(4128),Lt=c(2722),ps=c(9300),Gn=c(1623),Li=c(3454),ms=c(7967),va=c(5183),en=c(6111),On=c(8753),oi=c(9750);let Bi=(()=>{class p{constructor(){this.title="CF Portal",this.titleClick=new l.EventEmitter}onTitleClick(){this.titleClick.emit()}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275cmp=l.\u0275\u0275defineComponent({type:p,selectors:[["cf-navbar"]],inputs:{environment:"environment",title:"title"},outputs:{titleClick:"titleClick"},decls:24,vars:10,consts:[["cfBlock","navbar"],["cfBlock","navbar-section","cfMod","left"],["cfElem","title",3,"click"],["cfElem","icon","src","assets/logo.svg",3,"svgClass"],["cfElem","text"],["cfBlock","navbar-section","cfMod","right"],["cfBlock","list","cfMod","horizontal"],["cfElem","item"],["src","assets/icons/mdi/web.svg","cfElem","icon",3,"svgClass"],["cfElem","link",3,"href"],["src","assets/icons/mdi/text-box-search-outline.svg","cfElem","icon",3,"svgClass"],["src","assets/icons/mdi/post-outline.svg","cfElem","icon",3,"svgClass"],["src","assets/icons/mdi/code-tags.svg","cfElem","icon",3,"svgClass"]],template:function(o,m){1&o&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275elementStart(1,"div",1),l.\u0275\u0275elementStart(2,"h1",2),l.\u0275\u0275listener("click",function(){return m.onTitleClick()}),l.\u0275\u0275element(3,"cf-svg-icon",3),l.\u0275\u0275elementStart(4,"span",4),l.\u0275\u0275text(5),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(6,"div",5),l.\u0275\u0275elementStart(7,"ul",6),l.\u0275\u0275elementStart(8,"li",7),l.\u0275\u0275element(9,"cf-svg-icon",8),l.\u0275\u0275elementStart(10,"a",9),l.\u0275\u0275text(11,"Website"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(12,"li",7),l.\u0275\u0275element(13,"cf-svg-icon",10),l.\u0275\u0275elementStart(14,"a",9),l.\u0275\u0275text(15,"Documentation"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(16,"li",7),l.\u0275\u0275element(17,"cf-svg-icon",11),l.\u0275\u0275elementStart(18,"a",9),l.\u0275\u0275text(19,"Blog"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(20,"li",7),l.\u0275\u0275element(21,"cf-svg-icon",12),l.\u0275\u0275elementStart(22,"a",9),l.\u0275\u0275text(23," Developers "),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&o&&(l.\u0275\u0275advance(3),l.\u0275\u0275property("svgClass","icon__svg"),l.\u0275\u0275advance(2),l.\u0275\u0275textInterpolate(m.title),l.\u0275\u0275advance(4),l.\u0275\u0275property("svgClass","icon__svg"),l.\u0275\u0275advance(1),l.\u0275\u0275property("href",null==m.environment?null:m.environment.webUrl,l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(3),l.\u0275\u0275property("svgClass","icon__svg"),l.\u0275\u0275advance(1),l.\u0275\u0275property("href",null==m.environment?null:m.environment.documentationUrl,l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(3),l.\u0275\u0275property("svgClass","icon__svg"),l.\u0275\u0275advance(1),l.\u0275\u0275property("href",null==m.environment?null:m.environment.blogUrl,l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(3),l.\u0275\u0275property("svgClass","icon__svg"),l.\u0275\u0275advance(1),l.\u0275\u0275property("href",null==m.environment?null:m.environment.developersUrl,l.\u0275\u0275sanitizeUrl))},directives:[Gn.G,ms.I,Li.e,oi.b],encapsulation:2}),p})();const vs=function(p){return{"button--active":p}};function ai(p,s){if(1&p&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"a",8),l.\u0275\u0275elementStart(2,"div",9),l.\u0275\u0275elementStart(3,"span",10),l.\u0275\u0275text(4),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(5,"button",18),l.\u0275\u0275element(6,"cf-svg-icon",19),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()),2&p){const o=s.$implicit;l.\u0275\u0275advance(1),l.\u0275\u0275property("routerLink",o.routerLink),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate(o.name),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngClass",l.\u0275\u0275pureFunction1(5,vs,o.active)),l.\u0275\u0275advance(1),l.\u0275\u0275property("src",o.icon)("svgClass","icon__svg")}}const ga=function(p){return{"background-color":p,"margin-top":"15px"}};function Pn(p,s){if(1&p){const o=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"div",20),l.\u0275\u0275elementStart(1,"div",20),l.\u0275\u0275elementStart(2,"div",9),l.\u0275\u0275elementStart(3,"span",10),l.\u0275\u0275text(4),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(5,"button",21),l.\u0275\u0275listener("click",function(){const V=l.\u0275\u0275restoreView(o).$implicit;return l.\u0275\u0275nextContext(3).onRecentlyOpenedItemClick(V)}),l.\u0275\u0275element(6,"cf-svg-icon",19),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()}if(2&p){const o=s.$implicit;l.\u0275\u0275advance(4),l.\u0275\u0275textInterpolate(o.name),l.\u0275\u0275advance(1),l.\u0275\u0275property("cdkDragData",o.application)("ngClass",l.\u0275\u0275pureFunction1(6,vs,o.active))("ngStyle",l.\u0275\u0275pureFunction1(8,ga,o.color)),l.\u0275\u0275advance(1),l.\u0275\u0275property("src",o.icon)("svgClass","icon__svg")}}const gs=function(){return["/select-avatar"]},Fi=function(){return["applications-carousel"]};function ys(p,s){if(1&p){const o=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"cf-sidebar-container"),l.\u0275\u0275elementStart(1,"cf-sidebar",6),l.\u0275\u0275listener("openedChange",function(k){return l.\u0275\u0275restoreView(o),l.\u0275\u0275nextContext(2).sidebarIsOpen=k}),l.\u0275\u0275elementStart(2,"div",7),l.\u0275\u0275elementStart(3,"a",8),l.\u0275\u0275elementStart(4,"div",9),l.\u0275\u0275elementStart(5,"span",10),l.\u0275\u0275text(6,"Account"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(7,"img",11),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(8,ai,7,7,"ng-container",12),l.\u0275\u0275elementStart(9,"div",13),l.\u0275\u0275template(10,Pn,7,10,"div",14),l.\u0275\u0275elementEnd(),l.\u0275\u0275element(11,"router-outlet",15),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(12,"div",16),l.\u0275\u0275elementStart(13,"div",17),l.\u0275\u0275element(14,"router-outlet"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()}if(2&p){const o=l.\u0275\u0275nextContext().ngIf,m=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275property("opened",m.sidebarIsOpen)("dock",!0)("dockedSize","80px")("showBackdrop",!0)("closeOnClickBackdrop",!0)("closeOnClickOutside",!0),l.\u0275\u0275advance(2),l.\u0275\u0275property("routerLink",l.\u0275\u0275pureFunction0(12,gs)),l.\u0275\u0275advance(4),l.\u0275\u0275property("src",o.selectedAvatar.selectedAppearance.smallPreviewUrl,l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngForOf",m.sidebarItems),l.\u0275\u0275advance(1),l.\u0275\u0275property("cdkDropListData",m.recentlyOpenedSidebarItems)("cdkDropListConnectedTo",l.\u0275\u0275pureFunction0(13,Fi)),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngForOf",m.recentlyOpenedSidebarItems)}}function ui(p,s){1&p&&(l.\u0275\u0275elementStart(0,"div",22),l.\u0275\u0275elementStart(1,"div",17),l.\u0275\u0275element(2,"router-outlet"),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd())}function Ni(p,s){if(1&p){const o=l.\u0275\u0275getCurrentView();l.\u0275\u0275elementStart(0,"cf-navbar",23),l.\u0275\u0275listener("titleClick",function(){l.\u0275\u0275restoreView(o);const k=l.\u0275\u0275nextContext(2);return k.sidebarIsOpen=!k.sidebarIsOpen}),l.\u0275\u0275elementEnd()}if(2&p){const o=l.\u0275\u0275nextContext(2);l.\u0275\u0275property("title",o.title)}}const _s=function(p){return{"no-navbar":p}};function ci(p,s){if(1&p&&(l.\u0275\u0275elementContainerStart(0),l.\u0275\u0275elementStart(1,"div",1),l.\u0275\u0275elementStart(2,"div",2),l.\u0275\u0275template(3,ys,15,14,"cf-sidebar-container",3),l.\u0275\u0275template(4,ui,3,0,"ng-template",null,4,l.\u0275\u0275templateRefExtractor),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(6,Ni,1,1,"cf-navbar",5),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementContainerEnd()),2&p){const o=s.ngIf,m=l.\u0275\u0275reference(5),k=l.\u0275\u0275nextContext();l.\u0275\u0275advance(2),l.\u0275\u0275property("cfMod",l.\u0275\u0275pureFunction1(4,_s,!k.showNavbar)),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",o.selectedAvatar)("ngIfElse",m),l.\u0275\u0275advance(3),l.\u0275\u0275property("ngIf",k.showNavbar)}}const bs=function(p){return{selectedAvatar:p}},Ui=[{path:"",component:(()=>{class p{constructor(o,m,k,V,re){this.router=o,this.entityManager=m,this.selectedAvatarState=k,this.selectedApplicationState=V,this.recentlyOpenedApplicationsState=re,this.title="Metaverse Portal",this.sidebarIsOpen=!1,this.sidebarItems=[],this.recentlyOpenedSidebarItems=[],this.showNavbar=!1,this.selectedAvatar$=this.selectedAvatarState.avatar$,this.recentlyOpenedApplications$=this.recentlyOpenedApplicationsState.applications$.pipe((0,$n.U)(oe=>oe.reverse()),(0,$n.U)(oe=>this.generateSidebarItems(oe))),this.destroy$=new je.x}ngOnInit(){this.recentlyOpenedApplications$.pipe((0,Lt.R)(this.destroy$),(0,Dn.b)(o=>this.recentlyOpenedSidebarItems=o)).subscribe(),this.router.events.pipe((0,ps.h)(o=>o instanceof lr.NavigationEnd),(0,Lt.R)(this.destroy$)).subscribe(()=>{this.setSidebarItemsActive(this.sidebarItems)}),this.entityManager.initialize$.pipe((0,si.w)(()=>(0,Hn.D)([this.entityManager.getRepository("userapplications","com.central-factory.portal")])),(0,Dn.b)(([o])=>this.subscribeToDataChanges(o))).subscribe()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onRecentlyOpenedItemClick(o){o.application&&(this.selectedApplicationState.selectApplication(o.application),this.selectedApplicationState.openSidebar())}subscribeToDataChanges(o){o.find({selector:{"additionalProperties.sidebarShortcuts":{$exists:!0}}}).pipe((0,Dn.b)(m=>{this.sidebarItems=this.generateSidebarItems(m)}),(0,Lt.R)(this.destroy$)).subscribe()}generateSidebarItems(o){const m=o.sort((k,V)=>k.createdAt.localeCompare(V.createdAt)).reduce((k,V)=>{const ye=V.shortcuts||[],ze=(V.additionalProperties?.sidebarShortcuts||[]).map(Qe=>ye.find(at=>at.name===Qe)).filter(Qe=>!!Qe).map(Qe=>({name:Qe.name,routerLink:[Qe.url],icon:Qe.icons&&Qe.icons.length>0?Qe.icons[0].src:"",color:V.additionalProperties?.colors?.find(at=>"primary"===at.variation)?.color||(!0===V.additionalProperties?.internal?"var(--color-base-primary-medium)":void 0),active:!1,application:V}));return k.concat(ze)},[]);return this.setSidebarItemsActive(m),m}setSidebarItemsActive(o){o.forEach(m=>{m.active=this.router.url.startsWith(m.routerLink.join("/"))})}}return p.\u0275fac=function(o){return new(o||p)(l.\u0275\u0275directiveInject(lr.Router),l.\u0275\u0275directiveInject(vr.v2),l.\u0275\u0275directiveInject(vo.Y),l.\u0275\u0275directiveInject(nt.H),l.\u0275\u0275directiveInject(ma.r))},p.\u0275cmp=l.\u0275\u0275defineComponent({type:p,selectors:[["cf-portal-layout"]],decls:2,vars:5,consts:[[4,"ngIf"],["cfBlock","scene"],["cfElem","body",3,"cfMod"],[4,"ngIf","ngIfElse"],["notSelectedAvatarLayout",""],["cfElem","navbar",3,"title","titleClick",4,"ngIf"],[3,"opened","dock","dockedSize","showBackdrop","closeOnClickBackdrop","closeOnClickOutside","openedChange"],[2,"margin-top","20px"],["cfBlock","sidebar-item",1,"d-block",3,"routerLink"],["cfElem","text"],["cfElem","text-content"],["cfElem","image",3,"src"],[4,"ngFor","ngForOf"],["cdkDropList","","cdkDropListSortingDisabled","",3,"cdkDropListData","cdkDropListConnectedTo"],["class","d-block","cfBlock","sidebar-item",4,"ngFor","ngForOf"],["name","sidebar"],["cf-sidebar-content",""],[1,"scene__content"],["cfBlock","button","cfMod","fab",2,"margin-top","15px",3,"ngClass"],["cfElem","icon",3,"src","svgClass"],["cfBlock","sidebar-item",1,"d-block"],["cdkDrag","","cfBlock","button","cfMod","fab",3,"cdkDragData","ngClass","ngStyle","click"],[1,"scene__container"],["cfElem","navbar",3,"title","titleClick"]],template:function(o,m){1&o&&(l.\u0275\u0275template(0,ci,7,6,"ng-container",0),l.\u0275\u0275pipe(1,"async")),2&o&&l.\u0275\u0275property("ngIf",l.\u0275\u0275pureFunction1(3,bs,l.\u0275\u0275pipeBind1(1,1,m.selectedAvatar$)))},directives:[Mr.NgIf,Gn.G,Li.e,ms.I,va.L,en.k,lr.RouterLinkWithHref,Mr.NgForOf,On.Wj,lr.RouterOutlet,Mr.NgClass,oi.b,On.Zt,Mr.NgStyle,Bi],pipes:[Mr.AsyncPipe],encapsulation:2}),p})(),children:[{path:"login",loadChildren:()=>c.e(12).then(c.bind(c,12)).then(p=>p.LoginModule),canActivate:[ki]},{path:"select-avatar",loadChildren:()=>c.e(700).then(c.bind(c,8700)).then(p=>p.SelectAvatarModule),canActivate:[br]},{path:"create-avatar",loadChildren:()=>c.e(4).then(c.bind(c,2004)).then(p=>p.CreateAvatarModule),canActivate:[br]},{path:"selected-avatar",loadChildren:()=>c.e(276).then(c.bind(c,5276)).then(p=>p.SelectedAvatarModule),canActivate:[br,Rt]},{path:"play",loadChildren:()=>c.e(491).then(c.bind(c,6491)).then(p=>p.PlayModule),canActivate:[br,Rt]},{path:"manage-applications",loadChildren:()=>c.e(835).then(c.bind(c,9835)).then(p=>p.ManageApplicationsModule),canActivate:[br,Rt]},{path:"inventory",loadChildren:()=>c.e(740).then(c.bind(c,2740)).then(p=>p.InventoryModule),canActivate:[br,Rt]},{path:"marketplace",loadChildren:()=>c.e(189).then(c.bind(c,5189)).then(p=>p.MarketplaceModule),canActivate:[br,Rt]},{path:"settings",loadChildren:()=>c.e(672).then(c.bind(c,6672)).then(p=>p.SettingsModule),canActivate:[br,Rt]},{path:"",redirectTo:"play",pathMatch:"full"}]}];let Qn=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=l.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=l.\u0275\u0275defineInjector({imports:[[lr.RouterModule.forRoot(Ui)],lr.RouterModule]}),p})();var Es=c(5861);let zi=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275cmp=l.\u0275\u0275defineComponent({type:p,selectors:[["cf-spinner"]],decls:2,vars:0,consts:[["cfBlock","spinner","cfMod","3x"]],template:function(o,m){1&o&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275element(1,"div"),l.\u0275\u0275elementEnd())},directives:[Gn.G,ms.I],styles:["[_nghost-%COMP%]{display:contents}"]}),p})();function Wi(p,s){1&p&&(l.\u0275\u0275elementStart(0,"div",8),l.\u0275\u0275element(1,"cf-spinner"),l.\u0275\u0275elementEnd())}function Vi(p,s){if(1&p&&(l.\u0275\u0275elementStart(0,"p",9),l.\u0275\u0275text(1),l.\u0275\u0275elementEnd()),2&p){const o=l.\u0275\u0275nextContext();l.\u0275\u0275advance(1),l.\u0275\u0275textInterpolate1(" ",o.loadingText," ")}}var fr=(()=>{return(p=fr||(fr={})).Visible="visible",p.Hidden="hidden",fr;var p})(),ir=(()=>{return(p=ir||(ir={})).Visible="visible",p.Hidden="hidden",ir;var p})();let ws=(()=>{class p{constructor(){this.title="Portal",this.logo="assets/logo.svg",this.spinnerType="cog",this.loadingTexts=["Setting up the rockets...","Calling the crew..","Jumping to the cyber space..."],this.welcomeMessage="Welcome to the Metaverse",this.state=fr.Visible,this.logoState=ir.Hidden,this.selectedLoadingTextIndex=void 0}ngOnInit(){this.displaySplashScreen()}displaySplashScreen(){var o=this;return(0,Es.Z)(function*(){o.displayLoadingText(),yield o.wait(5e3),o.logoState=ir.Visible,o.selectedLoadingTextIndex=void 0,o.loadingText=o.welcomeMessage,yield o.wait(3e3),o.state=fr.Hidden})()}displayLoadingText(){var o=this;return(0,Es.Z)(function*(){if(o.logoState===ir.Visible)return o.selectedLoadingTextIndex=void 0,void(o.loadingText=o.welcomeMessage);const k=(void 0===o.selectedLoadingTextIndex?-1:o.selectedLoadingTextIndex)+1;if(k>=o.loadingTexts.length)return o.selectedLoadingTextIndex=void 0,yield o.wait(1e3),void o.displayLoadingText();o.selectedLoadingTextIndex=k,o.loadingText=o.loadingTexts[k],yield o.wait(1e3),o.displayLoadingText()})()}wait(o){return new Promise(m=>setTimeout(m,o))}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275cmp=l.\u0275\u0275defineComponent({type:p,selectors:[["cf-splash-screen"]],inputs:{title:"title",logo:"logo",spinnerType:"spinnerType",loadingTexts:"loadingTexts",welcomeMessage:"welcomeMessage"},decls:9,vars:6,consts:[["cfBlock","splash-screen"],["cfElem","content"],["cfElem","title"],["cfElem","spinner"],["cfElem","logo"],["cfElem","logo-image","alt","logo",3,"src"],["cfElem","spinner-content",4,"ngIf"],["cfElem","loading-text",4,"ngIf"],["cfElem","spinner-content"],["cfElem","loading-text"]],template:function(o,m){1&o&&(l.\u0275\u0275elementStart(0,"div",0),l.\u0275\u0275elementStart(1,"div",1),l.\u0275\u0275elementStart(2,"h1",2),l.\u0275\u0275text(3),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementStart(4,"div",3),l.\u0275\u0275elementStart(5,"div",4),l.\u0275\u0275element(6,"img",5),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(7,Wi,2,0,"div",6),l.\u0275\u0275elementEnd(),l.\u0275\u0275template(8,Vi,2,1,"p",7),l.\u0275\u0275elementEnd(),l.\u0275\u0275elementEnd()),2&o&&(l.\u0275\u0275property("@splashState",m.state),l.\u0275\u0275advance(3),l.\u0275\u0275textInterpolate(m.title),l.\u0275\u0275advance(2),l.\u0275\u0275property("@logoState",m.logoState),l.\u0275\u0275advance(1),l.\u0275\u0275property("src",m.logo,l.\u0275\u0275sanitizeUrl),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf","visible"!==m.logoState),l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",m.loadingText))},directives:[Gn.G,Li.e,Mr.NgIf,zi],encapsulation:2,data:{animation:[U("splashState",[T(fr.Visible,b({opacity:1,display:"block"})),T(fr.Hidden,b({opacity:0,display:"none"})),L(`${fr.Hidden} => ${fr.Visible}`,[b({opacity:0}),R("1s",b({opacity:1}))]),L(`${fr.Visible} => ${fr.Hidden}`,[R("1s",b({opacity:0}))])]),U("logoState",[T(ir.Visible,b({opacity:1,display:"flex"})),T(ir.Hidden,b({opacity:0,display:"none"})),L(`${ir.Hidden} => ${ir.Visible}`,[b({display:"flex",opacity:0}),R("1s",b({opacity:1}))]),L(`${ir.Visible} => ${ir.Hidden}`,[R("1s",b({opacity:0}))])])]}}),p})();function Ss(p,s){1&p&&l.\u0275\u0275element(0,"cf-splash-screen")}let K=(()=>{class p{constructor(){this.environment=Mi}}return p.\u0275fac=function(o){return new(o||p)},p.\u0275cmp=l.\u0275\u0275defineComponent({type:p,selectors:[["cf-portal-root"]],decls:4,vars:1,consts:[["id","bgcanvas"],[4,"ngIf"],[1,"application"]],template:function(o,m){1&o&&(l.\u0275\u0275element(0,"canvas",0),l.\u0275\u0275template(1,Ss,1,0,"cf-splash-screen",1),l.\u0275\u0275elementStart(2,"div",2),l.\u0275\u0275element(3,"router-outlet"),l.\u0275\u0275elementEnd()),2&o&&(l.\u0275\u0275advance(1),l.\u0275\u0275property("ngIf",m.environment.showSplashScreen))},directives:[Mr.NgIf,lr.RouterOutlet,ws],styles:["#bgcanvas[_ngcontent-%COMP%]{display:block;margin:0 auto;width:100vw;height:100vh;position:fixed;z-index:-1}"]}),p})(),C=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=l.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=l.\u0275\u0275defineInjector({imports:[[cn.Y,Vn.O]]}),p})();var g=c(5687);let F=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=l.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=l.\u0275\u0275defineInjector({imports:[[Mr.CommonModule,cn.Y,Vn.O,On._t,lr.RouterModule,C,g.l]]}),p})();var H=c(1884);let ce=(()=>{class p{constructor(o){this.customizationSettingsState=o,this.renderProcessRunning=!1,this.initialize()}initialize(){this.themeChangeSubscription&&this.themeChangeSubscription.unsubscribe(),this.themeChangeSubscription=this.customizationSettingsState.customizationSettings$.pipe((0,$n.U)(o=>o?.theme.name),(0,H.x)((o,m)=>o===m),(0,Dn.b)(o=>this.onThemeChange(o))).subscribe()}onThemeChange(o){const m=document.getElementsByClassName("application")[0];if(!m||!o)return void setTimeout(()=>this.initialize(),1e3);if(this.currentTheme===o)return;this.currentTheme=o;const k=new ResizeObserver(V=>{for(const re of V)if(re.contentBoxSize){const oe=document.getElementById("bgcanvas"),ye=Array.isArray(re.contentBoxSize)?re.contentBoxSize[0]:re.contentBoxSize;oe.width=ye.inlineSize,oe.height=window.innerHeight;const Te=this.initializeMatrix();this.renderTick(()=>this.renderMatrix(Te))}});"Matrix"===o?(m.classList.add("application--no-background-color"),k.observe(document.documentElement)):(k.unobserve(document.documentElement),clearTimeout(this.renderTimeout),delete this.renderTimeout,this.renderProcessRunning=!1,m.classList.remove("application--no-background-color"))}initializeMatrix(){const k=document.getElementById("bgcanvas"),V=k.getContext("2d"),re=[],oe=Math.ceil(k.height/20);for(let ye=0;ye<k.width/20;++ye)re.push({x:20*ye,stackHeight:10+Math.random()*oe,stackCounter:0});return{tileSize:20,fadeFactor:.05,canvas:k,ctx:V,maxStackHeight:oe,columns:re}}renderTick(o,m=50){this.renderProcessRunning?console.warn("render process already running"):(this.renderProcessRunning=!0,o(),this.renderTimeout=window.setTimeout(()=>{this.renderProcessRunning=!1,this.renderTick(o,m)},m))}renderMatrix({ctx:o,fadeFactor:m,canvas:k,tileSize:V,maxStackHeight:re,columns:oe}){o.fillStyle="rgba( 0 , 0 , 0 , "+m+" )",o.fillRect(0,0,k.width,k.height),o.font=V-2+"px monospace",o.fillStyle="rgb( 0 , 255 , 0 )";for(let ye=0;ye<oe.length;++ye){const Te=String.fromCharCode(33+Math.floor(94*Math.random()));o.fillText(Te,oe[ye].x,oe[ye].stackCounter*V+V),++oe[ye].stackCounter>=oe[ye].stackHeight&&(oe[ye].stackHeight=10+Math.random()*re,oe[ye].stackCounter=0)}}}return p.\u0275fac=function(o){return new(o||p)(l.\u0275\u0275inject(ho.T))},p.\u0275prov=l.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),Pe=(()=>{class p{}return p.\u0275fac=function(o){return new(o||p)},p.\u0275mod=l.\u0275\u0275defineNgModule({type:p,bootstrap:[K]}),p.\u0275inj=l.\u0275\u0275defineInjector({providers:[{provide:l.APP_INITIALIZER,useFactory:()=>()=>null,deps:[ho.T,ce],multi:!0},co,aa,pa,ls,da,fo,lo,Ti,jt],imports:[[_.b2,zn,O.HttpClientModule,cn.Y.forRoot(),F,po,Qn,nr.forRoot({enabled:Mi.useMocks,autologin:Mi.autologin})]]}),p})();Mi.production&&(0,l.enableProdMode)(),_.q6().bootstrapModule(Pe).catch(p=>console.error(p))},4995:(ae,N,c)=>{c.d(N,{B:()=>_,c:()=>l});var _=(()=>{return(O=_||(_={})).Webview="webview",O.WebpackModuleFederation="webpack-module-federation",O.Unknown="unknown",_;var O})(),l=(()=>{return(O=l||(l={})).Primary="primary",O.Secondary="secondary",O.Success="success",O.Warning="warning",O.Danger="danger",O.Info="info",O.Light="light",O.Dark="dark",l;var O})()},3266:(ae,N,c)=>{c.d(N,{o:()=>b,O:()=>T});var _=c(9841),l=c(4004),O=c(1375),M=c(1135),B=c(3900),x=c(4128),U=c(8505),R=c(7777);let D=(()=>{class P{constructor(I){this.entityManager=I,this.applications$=new M.X([]),this.entityManager.initialize$.pipe((0,B.w)(()=>(0,x.D)([this.entityManager.getRepository("storeapplications","com.central-factory.player")])),(0,U.b)(([w])=>{this.storeApplicationsRepository=w,this.subscribeToDataChanges()})).subscribe()}subscribeToDataChanges(){if(!this.storeApplicationsRepository)throw new Error("Repositories not initialized");this.storeApplicationsRepository.observe().pipe((0,U.b)(I=>this.applications$.next(I))).subscribe()}}return P.\u0275fac=function(I){return new(I||P)(R.\u0275\u0275inject(O.v2))},P.\u0275prov=R.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();var E=c(3395),b=(()=>{return(P=b||(b={}))[P.User=0]="User",P[P.Store=1]="Store",b;var P})();let T=(()=>{class P{constructor(I,w){this.storeApplicationsState=I,this.userApplicationsState=w,this.applications$=(0,_.a)([this.storeApplicationsState.applications$,this.userApplicationsState.applications$]).pipe((0,l.U)(([y,u])=>[...u.map(a=>({origin:b.User,application:a})),...y.map(a=>({origin:b.Store,application:a}))].filter((a,v,h)=>h.findIndex(q=>a.application.id===q.application.id)===v)))}}return P.\u0275fac=function(I){return new(I||P)(R.\u0275\u0275inject(D),R.\u0275\u0275inject(E.g))},P.\u0275prov=R.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},6961:(ae,N,c)=>{c.d(N,{r:()=>M});var _=c(1135),l=c(7777);let M=(()=>{class B{constructor(){this.applications$=new _.X([]),this.maxApplications=10}addApplication(U){const R=this.applications$.getValue();R.find(E=>E.id===U.id)||(R.length>=this.maxApplications&&R.shift(),R.unshift(U),this.applications$.next(R))}}return B.\u0275fac=function(U){return new(U||B)},B.\u0275prov=l.\u0275\u0275defineInjectable({token:B,factory:B.\u0275fac,providedIn:"root"}),B})()},4918:(ae,N,c)=>{c.d(N,{H:()=>U});var _=c(3266),l=c(1135),O=c(4004),M=c(8505),B=c(7777);let U=(()=>{class R{constructor(E){this.availableApplicationsState=E,this.application$=new l.X(void 0),this.sidebarIsOpen$=new l.X(!1)}listenForChanges(E){this.changesSubscription&&this.changesSubscription.unsubscribe(),E?this.changesSubscription=this.availableApplicationsState.applications$.pipe((0,O.U)(b=>b.find(T=>T.application.id===E)),(0,M.b)(b=>this.application$.next(b?.application))).subscribe():this.application$.next(void 0)}selectApplication(E){this.listenForChanges(E.id)}unselectApplication(){this.listenForChanges(void 0)}openSidebar(){this.sidebarIsOpen$.next(!0)}closeSidebar(){this.sidebarIsOpen$.next(!1)}}return R.\u0275fac=function(E){return new(E||R)(B.\u0275\u0275inject(_.O))},R.\u0275prov=B.\u0275\u0275defineInjectable({token:R,factory:R.\u0275fac,providedIn:"root"}),R})()},3395:(ae,N,c)=>{c.d(N,{g:()=>R});var _=c(1375),l=c(1135),O=c(3900),M=c(4128),B=c(8505),x=c(7777);let R=(()=>{class D{constructor(b){this.entityManager=b,this.applications$=new l.X([]),this.entityManager.initialize$.pipe((0,O.w)(()=>(0,M.D)([this.entityManager.getRepository("userapplications","com.central-factory.player")])),(0,B.b)(([T])=>{this.userApplicationsRepository=T,this.subscribeToDataChanges()})).subscribe()}addApplication(b){if(!this.userApplicationsRepository)throw new Error("Repositories not initialized");return this.userApplicationsRepository.upsert(b)}subscribeToDataChanges(){if(!this.userApplicationsRepository)throw new Error("Repositories not initialized");this.userApplicationsRepository.observe().pipe((0,B.b)(b=>this.applications$.next(b))).subscribe()}}return D.\u0275fac=function(b){return new(b||D)(x.\u0275\u0275inject(_.v2))},D.\u0275prov=x.\u0275\u0275defineInjectable({token:D,factory:D.\u0275fac,providedIn:"root"}),D})()},7165:(ae,N,c)=>{c.d(N,{Y:()=>E});var _=c(1375),l=c(1135),O=c(3900),M=c(4128),B=c(8505),x=c(2843),U=c(9646),R=c(7777);let E=(()=>{class b{constructor(P){this.entityManager=P,this.avatar$=new l.X(void 0),this.entityManager.initialize$.pipe((0,O.w)(()=>(0,M.D)([this.entityManager.getRepository("userpreferences","com.central-factory.user-avatars"),this.entityManager.getRepository("useravatars","com.central-factory.user-avatars")])),(0,B.b)(([L,I])=>{this.userPreferencesRepository=L,this.userAvatarsRepository=I,this.subscribeToDataChanges()})).subscribe()}selectAvatar(P){return this.userPreferencesRepository?this.userPreferencesRepository.upsert({id:"userAvatars.selectedAvatar",key:"userAvatars.selectedAvatar",value:P.id}):(0,x._)(()=>new Error("Repositories not initialized"))}subscribeToDataChanges(){if(!this.userAvatarsRepository||!this.userPreferencesRepository)throw new Error("Repositories not initialized");this.userPreferencesRepository.observeOne({selector:{id:"userAvatars.selectedAvatar"}}).pipe((0,O.w)(P=>P&&this.userAvatarsRepository?this.userAvatarsRepository.findOne({selector:{id:P.value}}):(0,U.of)(void 0)),(0,B.b)(P=>this.avatar$.next(P))).subscribe()}}return b.\u0275fac=function(P){return new(P||b)(R.\u0275\u0275inject(_.v2))},b.\u0275prov=R.\u0275\u0275defineInjectable({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},899:(ae,N,c)=>{c.d(N,{k:()=>_,R:()=>l});var _=(()=>((_||(_={})).Collection="collection",_))(),l=(()=>{return(O=l||(l={})).Read="read",O.Write="write",O.Delete="delete",l;var O})()},1375:(ae,N,c)=>{c.d(N,{RY:()=>Ll,To:()=>Bl,v2:()=>Xm});var _={};c.r(_),c.d(_,{default:()=>so});var E,b,l=c(7777),O=c(1611),M=c.n(O);function B(e){return"$"+e}function x(e){return e.substring(1)}function U(){this._store={}}function R(e){if(this._store=new U,e&&Array.isArray(e))for(var t=0,r=e.length;t<r;t++)this.add(e[t])}U.prototype.get=function(e){var t=B(e);return this._store[t]},U.prototype.set=function(e,t){var r=B(e);return this._store[r]=t,!0},U.prototype.has=function(e){return B(e)in this._store},U.prototype.delete=function(e){var t=B(e),r=t in this._store;return delete this._store[t],r},U.prototype.forEach=function(e){for(var t=Object.keys(this._store),r=0,n=t.length;r<n;r++){var i=t[r];e(this._store[i],i=x(i))}},Object.defineProperty(U.prototype,"size",{get:function(){return Object.keys(this._store).length}}),R.prototype.add=function(e){return this._store.set(e,!0)},R.prototype.has=function(e){return this._store.has(e)},R.prototype.forEach=function(e){this._store.forEach(function(t,r){e(r)})},Object.defineProperty(R.prototype,"size",{get:function(){return this._store.size}}),function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(E=Set,b=Map):(E=R,b=U);var T=c(3894),P=c.n(T),L=c(2302),I=c.n(L);function w(e,t,r){Error.call(this,r),this.status=e,this.name=t,this.message=r,this.error=!0}P()(w,Error),w.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})},new w(401,"unauthorized","Name or password is incorrect.");var u=new w(400,"bad_request","Missing JSON list of 'docs'"),a=new w(404,"not_found","missing"),v=new w(409,"conflict","Document update conflict"),h=new w(400,"bad_request","_id field must contain a string"),q=new w(412,"missing_id","_id is required for puts"),de=new w(400,"bad_request","Only reserved document ids may start with underscore."),_e=(new w(412,"precondition_failed","Database not open"),new w(500,"unknown_error","Database encountered an unknown error")),pe=new w(500,"badarg","Some query argument is invalid"),z=(new w(400,"invalid_request","Request was invalid"),new w(400,"query_parse_error","Some query parameter is invalid")),Y=new w(500,"doc_validation","Bad special document member"),G=new w(400,"bad_request","Something wrong with the request"),J=new w(400,"bad_request","Document must be a JSON object"),ie=(new w(404,"not_found","Database not found"),new w(500,"indexed_db_went_bad","unknown")),ge=(new w(500,"web_sql_went_bad","unknown"),new w(500,"levelDB_went_went_bad","unknown"),new w(403,"forbidden","Forbidden by design doc validate_doc_update function"),new w(400,"bad_request","Invalid rev format")),ue=(new w(412,"file_exists","The database could not be created, the file already exists."),new w(412,"missing_stub","A pre-existing attachment stub wasn't found"));function Fe(e,t){function r(n){for(var i=Object.getOwnPropertyNames(e),f=0,d=i.length;f<d;f++)"function"!=typeof e[i[f]]&&(this[i[f]]=e[i[f]]);void 0!==n&&(this.reason=n)}return r.prototype=w.prototype,new r(t)}function Je(e){if("object"!=typeof e){var t=e;(e=_e).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),e}new w(413,"invalid_url","Provided URL is invalid");var st=c(9069),qe=c.n(st);const gr=c(3306).v4;var ar=function(e){return atob(e)},tr=function(e){return btoa(e)};function dr(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(f){if("TypeError"!==f.name)throw f;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}function Jt(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),i=0;i<t;i++)n[i]=e.charCodeAt(i);return r}function Jr(e,t){return dr([Jt(e)],{type:t})}function Be(e,t){return Jr(ar(e),t)}function Dt(e,t){var r=new FileReader,n="function"==typeof r.readAsBinaryString;r.onloadend=function(i){var f=i.target.result||"";if(n)return t(f);t(function(e){for(var t="",r=new Uint8Array(e),n=r.byteLength,i=0;i<n;i++)t+=String.fromCharCode(r[i]);return t}(f))},n?r.readAsBinaryString(e):r.readAsArrayBuffer(e)}function Kt(e,t){Dt(e,function(r){t(r)})}var Pr=c(3625),Rn=c.n(Pr),Ir=self.setImmediate||self.setTimeout;function hi(e,t,r,n,i){(r>0||n<t.size)&&(t=function(e,t,r){return e.webkitSlice?e.webkitSlice(t,r):e.slice(t,r)}(t,r,n)),function(e,t){var r=new FileReader;r.onloadend=function(n){var i=n.target.result||new ArrayBuffer(0);t(i)},r.readAsArrayBuffer(e)}(t,function(f){e.append(f),i()})}function Qi(e,t,r,n,i){(r>0||n<t.length)&&(t=t.substring(r,n)),e.appendBinary(t),i()}function on(e,t){var r="string"==typeof e,n=r?e.length:e.size,i=Math.min(32768,n),f=Math.ceil(n/i),d=0,S=r?new(Rn()):new(Rn().ArrayBuffer),j=r?Qi:hi;function W(){Ir(ne)}function X(){var Se=function(e){return tr(e)}(S.end(!0));t(Se),S.destroy()}function ne(){var fe=d*i;d++,j(S,e,fe,fe+i,d<f?W:X)}ne()}function gn(e){return Rn().hash(e)}var ve,Ln,mi=Function.prototype.toString,vi=mi.call(Object);function ur(e){var t,r,n;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],r=0,n=e.length;r<n;r++)t[r]=ur(e[r]);return t}if(e instanceof Date)return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return function(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),r=new Uint8Array(t),n=new Uint8Array(e);return r.set(n),t}(e);var t=e.size,r=e.type;return"function"==typeof e.slice?e.slice(0,t,r):e.webkitSlice(0,t,r)}(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&mi.call(r)==vi}(e))return e;for(r in t={},e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=ur(e[r]);void 0!==i&&(t[r]=i)}return t}function Mn(e){var t=!1;return M()(function(r){if(t)throw new Error("once called more than once");t=!0,e.apply(this,r)})}function an(e){return M()(function(t){t=ur(t);var r=this,n="function"==typeof t[t.length-1]&&t.pop(),i=new Promise(function(f,d){var S;try{var j=Mn(function(W,X){W?d(W):f(X)});t.push(j),(S=e.apply(r,t))&&"function"==typeof S.then&&f(S)}catch(W){d(W)}});return n&&i.then(function(f){n(null,f)},n),i})}function qt(e,t){return an(M()(function(r){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var n=this;return function(e,t,r){if(e.constructor.listeners("debug").length){for(var n=["api",e.name,t],i=0;i<r.length-1;i++)n.push(r[i]);e.constructor.emit("debug",n);var f=r[r.length-1];r[r.length-1]=function(d,S){var j=["api",e.name,t];j=j.concat(d?["error",d]:["success",S]),e.constructor.emit("debug",j),f(d,S)}}}(n,e,r),this.taskqueue.isReady?t.apply(this,r):new Promise(function(i,f){n.taskqueue.addTask(function(d){d?f(d):i(n[e].apply(n,r))})})}))}function zr(e,t){for(var r={},n=0,i=t.length;n<i;n++){var f=t[n];f in e&&(r[f]=e[f])}return r}function kn(e){return e}function Yi(e){return[{ok:e}]}function De(e,t,r){var n=t.docs,i=new b;n.forEach(function(ee){i.has(ee.id)?i.get(ee.id).push(ee):i.set(ee.id,[ee])});var f=i.size,d=0,S=new Array(f);var ne=[];i.forEach(function(ee,le){ne.push(le)});var fe=0;!function Se(){if(!(fe>=ne.length)){var ee=Math.min(fe+6,ne.length),le=ne.slice(fe,ee);(function(ee,le){ee.forEach(function(we,Oe){var be=le+Oe,ke=i.get(we),Me=zr(ke[0],["atts_since","attachments"]);Me.open_revs=ke.map(function(We){return We.rev}),Me.open_revs=Me.open_revs.filter(kn);var He=kn;0===Me.open_revs.length&&(delete Me.open_revs,He=Yi),["revs","attachments","binary","ajax","latest"].forEach(function(We){We in t&&(Me[We]=t[We])}),e.get(we,Me,function(We,Ke){var yt;yt=We?[{error:We}]:He(Ke),function(ee,le,we){S[ee]={id:le,docs:we},function(){var ee;++d===f&&(ee=[],S.forEach(function(le){le.docs.forEach(function(we){ee.push({id:le.id,docs:[we]})})}),r(null,{results:ee}))}()}(be,we,yt),Se()})})})(le,fe),fe+=le.length}}()}try{localStorage.setItem("_pouch_check_localstorage",1),ve=!!localStorage.getItem("_pouch_check_localstorage")}catch{ve=!1}function se(){return ve}function Ue(){var e;qe().call(this),this._listeners={},e=this,se()&&addEventListener("storage",function(t){e.emit(t.key)})}function tt(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}P()(Ue,qe()),Ue.prototype.addListener=function(e,t,r,n){if(!this._listeners[t]){var i=this,f=!1;this._listeners[t]=d,this.on(e,d)}function d(){if(i._listeners[t])if(f)f="waiting";else{f=!0;var S=zr(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);r.changes(S).on("change",function(W){W.seq>n.since&&!n.cancelled&&(n.since=W.seq,n.onChange(W))}).on("complete",function(){"waiting"===f&&I()(d),f=!1}).on("error",function(){f=!1})}}},Ue.prototype.removeListener=function(e,t){t in this._listeners&&(qe().prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},Ue.prototype.notifyLocalWindows=function(e){se()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},Ue.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)},Ln="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};var Cr=Ln;function Jn(e){for(var t=[],r=0,n=e.length;r<n;r++)t=t.concat(e[r]);return t}function Ls(e){var t;if(e?"string"!=typeof e?t=Fe(h):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=Fe(de)):t=Fe(q),t)throw t}function pr(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(tt("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function Bn(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function gi(e){var t=Bn(e);return t?t.join("/"):null}function yi(e,t){var r=[],n=[];for(var i in t)t.hasOwnProperty(i)&&(r.push(i),n.push(t[i]));return r.push(e),Function.apply(null,r).apply(null,n)}function qn(e,t,r){return new Promise(function(n,i){e.get(t,function(f,d){if(f){if(404!==f.status)return i(f);d={}}var S=d._rev,j=r(d);if(!j)return n({updated:!1,rev:S});j._id=t,j._rev=S,n(function(e,t,r){return e.put(t).then(function(n){return{updated:!0,rev:n.rev}},function(n){if(409!==n.status)throw n;return qn(e,t._id,r)})}(e,j,r))})})}function Ns(e,t){var r=ur(e);return t?(delete r._rev_tree,gn(JSON.stringify(r))):gr().replace(/-/g,"").toLowerCase()}var _i=gr;function un(e){for(var t,r,n,f,i=e.rev_tree.slice();f=i.pop();){var d=f.ids,S=d[2],j=f.pos;if(S.length)for(var W=0,X=S.length;W<X;W++)i.push({pos:j+1,ids:S[W]});else{var ne=!!d[1].deleted,fe=d[0];(!t||(n!==ne?n:r!==j?r<j:t<fe))&&(t=fe,r=j,n=ne)}}return r+"-"+t}function Xr(e,t){for(var n,r=e.slice();n=r.pop();)for(var i=n.pos,f=n.ids,d=f[2],S=t(0===d.length,i,f[0],n.ctx,f[1]),j=0,W=d.length;j<W;j++)r.push({pos:i+1,ids:d[j],ctx:S})}function js(e,t){return e.pos-t.pos}function qi(e){var t=[];Xr(e,function(i,f,d,S,j){i&&t.push({rev:f+"-"+d,pos:f,opts:j})}),t.sort(js).reverse();for(var r=0,n=t.length;r<n;r++)delete t[r].pos;return t}function es(e){for(var t=un(e),r=qi(e.rev_tree),n=[],i=0,f=r.length;i<f;i++){var d=r[i];d.rev!==t&&!d.opts.deleted&&n.push(d.rev)}return n}function Us(e){for(var n,t=[],r=e.slice();n=r.pop();){var i=n.pos,f=n.ids,d=f[0],S=f[1],j=f[2],W=0===j.length,X=n.history?n.history.slice():[];X.push({id:d,opts:S}),W&&t.push({pos:i+1-X.length,ids:X});for(var ne=0,fe=j.length;ne<fe;ne++)r.push({pos:i+1,ids:j[ne],history:X})}return t.reverse()}function jo(e,t){return e.pos-t.pos}function Uo(e,t,r){var n=function(e,t,r){for(var f,n=0,i=e.length;n<i;)r(e[f=n+i>>>1],t)<0?n=f+1:i=f;return n}(e,t,r);e.splice(n,0,t)}function Ws(e,t){for(var r,n,i=t,f=e.length;i<f;i++){var d=e[i],S=[d.id,d.opts,[]];n?(n[2].push(S),n=S):r=n=S}return r}function Vs(e,t){return e[0]<t[0]?-1:1}function Ks(e,t){for(var r=[{tree1:e,tree2:t}],n=!1;r.length>0;){var i=r.pop(),f=i.tree1,d=i.tree2;(f[1].status||d[1].status)&&(f[1].status="available"===f[1].status||"available"===d[1].status?"available":"missing");for(var S=0;S<d[2].length;S++)if(f[2][0]){for(var j=!1,W=0;W<f[2].length;W++)f[2][W][0]===d[2][S][0]&&(r.push({tree1:f[2][W],tree2:d[2][S]}),j=!0);j||(n="new_branch",Uo(f[2],d[2][S],Vs))}else n="new_leaf",f[2][0]=d[2][S]}return{conflicts:n,tree:e}}function bi(e,t,r){var d,n=[],i=!1,f=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var S=0,j=e.length;S<j;S++){var W=e[S];if(W.pos===t.pos&&W.ids[0]===t.ids[0])d=Ks(W.ids,t.ids),n.push({pos:W.pos,ids:d.tree}),i=i||d.conflicts,f=!0;else if(!0!==r){var X=W.pos<t.pos?W:t,ne=W.pos<t.pos?t:W,Se=[],he=[];for(he.push({ids:X.ids,diff:ne.pos-X.pos,parent:null,parentIdx:null});he.length>0;){var ee=he.pop();if(0!==ee.diff)for(var le=ee.ids[2],we=0,Oe=le.length;we<Oe;we++)he.push({ids:le[we],diff:ee.diff-1,parent:ee.ids,parentIdx:we});else ee.ids[0]===ne.ids[0]&&Se.push(ee)}var be=Se[0];be?(d=Ks(be.ids,ne.ids),be.parent[2][be.parentIdx]=d.tree,n.push({pos:X.pos,ids:X.ids}),i=i||d.conflicts,f=!0):n.push(W)}else n.push(W)}return f||n.push(t),n.sort(jo),{tree:n,conflicts:i||"internal_node"}}function $s(e,t,r){var n=bi(e,t),i=function(e,t){for(var n,i,r=Us(e),f=0,d=r.length;f<d;f++){var W,S=r[f],j=S.ids;if(j.length>t){n||(n={});var X=j.length-t;W={pos:S.pos+X,ids:Ws(j,X)};for(var ne=0;ne<X;ne++)n[S.pos+ne+"-"+j[ne].id]=!0}else W={pos:S.pos,ids:Ws(j,0)};i=i?bi(i,W,!0).tree:[W]}return n&&Xr(i,function(Se,he,ee){delete n[he+"-"+ee]}),{tree:i,revs:n?Object.keys(n):[]}}(n.tree,r);return{tree:i.tree,stemmedRevs:i.revs,conflicts:n.conflicts}}function Vo(e){return e.ids}function Wr(e,t){t||(t=un(e));for(var i,r=t.substring(t.indexOf("-")+1),n=e.rev_tree.map(Vo);i=n.pop();){if(i[0]===r)return!!i[1].deleted;n=n.concat(i[2])}}function yn(e){return/^_local/.test(e)}function Fn(e){return e.reduce(function(t,r){return t[r]=!0,t},{})}var ts=Fn(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Ko=Fn(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Gs(e){if(!/^\d+-/.test(e))return Fe(ge);var t=e.indexOf("-"),r=e.substring(0,t),n=e.substring(t+1);return{prefix:parseInt(r,10),id:n}}function Qs(e,t,r){r||(r={deterministic_revs:!0});var n,i,f,d={status:"available"};if(e._deleted&&(d.deleted=!0),t)if(e._id||(e._id=_i()),i=Ns(e,r.deterministic_revs),e._rev){if((f=Gs(e._rev)).error)return f;e._rev_tree=[{pos:f.prefix,ids:[f.id,{status:"missing"},[[i,d,[]]]]}],n=f.prefix+1}else e._rev_tree=[{pos:1,ids:[i,d,[]]}],n=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var r=e.start-e.ids.length+1,n=e.ids,i=[n[0],t,[]],f=1,d=n.length;f<d;f++)i=[n[f],{status:"missing"},[i]];return[{pos:r,ids:i}]}(e._revisions,d),n=e._revisions.start,i=e._revisions.ids[0]),!e._rev_tree){if((f=Gs(e._rev)).error)return f;e._rev_tree=[{pos:n=f.prefix,ids:[i=f.id,d,[]]}]}Ls(e._id),e._rev=n+"-"+i;var S={metadata:{},data:{}};for(var j in e)if(Object.prototype.hasOwnProperty.call(e,j)){var W="_"===j[0];if(W&&!ts[j]){var X=Fe(Y,j);throw X.message=Y.message+": "+j,X}W&&!Ko[j]?S.metadata[j.slice(1)]=e[j]:S.data[j]=e[j]}return S}function Zs(e,t,r){if(e.stub)return r();"string"==typeof e.data?function(e,t,r){var n=function(e){try{return ar(e)}catch{return{error:Fe(pe,"Attachment is not a valid base64 string")}}}(e.data);if(n.error)return r(n.error);e.length=n.length,e.data="blob"===t?Jr(n,e.content_type):"base64"===t?tr(n):n,on(n,function(i){e.digest="md5-"+i,r()})}(e,t,r):function(e,t,r){on(e.data,function(n){e.digest="md5-"+n,e.length=e.data.size||e.data.length||0,"binary"===t?Kt(e.data,function(i){e.data=i,r()}):"base64"===t?function(e,t){Kt(e,function(r){t(tr(r))})}(e.data,function(i){e.data=i,r()}):r()})}(e,t,r)}function Nn(e,t,r,n,i,f,d,S,j){e=e||1e3;var X=S.new_edits,ne=new b,fe=0,Se=t.length;function he(){++fe===Se&&j&&j()}t.forEach(function(ee,le){if(ee._id&&yn(ee._id))r[ee._deleted?"_removeLocal":"_putLocal"](ee,{ctx:i},function(be,ke){f[le]=be||ke,he()});else{var Oe=ee.metadata.id;ne.has(Oe)?(Se--,ne.get(Oe).push([ee,le])):ne.set(Oe,[[ee,le]])}}),ne.forEach(function(ee,le){var we=0;function Oe(){++we<ee.length?be():he()}function be(){var ke=ee[we],Me=ke[0],He=ke[1];if(n.has(le))!function(e,t,r,n,i,f,d,S){if(function(e,t){for(var d,r=e.slice(),n=t.split("-"),i=parseInt(n[0],10),f=n[1];d=r.pop();){if(d.pos===i&&d.ids[0]===f)return!0;for(var S=d.ids[2],j=0,W=S.length;j<W;j++)r.push({pos:d.pos+1,ids:S[j]})}return!1}(t.rev_tree,r.metadata.rev)&&!S)return n[i]=r,f();var j=t.winningRev||un(t),W="deleted"in t?t.deleted:Wr(t,j),X="deleted"in r.metadata?r.metadata.deleted:Wr(r.metadata),ne=/^1-/.test(r.metadata.rev);if(W&&!X&&S&&ne){var fe=r.data;fe._rev=j,fe._id=r.metadata.id,r=Qs(fe,S)}var Se=$s(t.rev_tree,r.metadata.rev_tree[0],e);if(S&&(W&&X&&"new_leaf"!==Se.conflicts||!W&&"new_leaf"!==Se.conflicts||W&&!X&&"new_branch"===Se.conflicts)){var ee=Fe(v);return n[i]=ee,f()}var le=r.metadata.rev;r.metadata.rev_tree=Se.tree,r.stemmedRevs=Se.stemmedRevs||[],t.rev_map&&(r.metadata.rev_map=t.rev_map);var we=un(r.metadata),Oe=Wr(r.metadata,we),be=W===Oe?0:W<Oe?-1:1;d(r,we,Oe,le===we?Oe:Wr(r.metadata,le),!0,be,i,f)}(e,n.get(le),Me,f,He,Oe,d,X);else{var We=$s([],Me.metadata.rev_tree[0],e);Me.metadata.rev_tree=We.tree,Me.stemmedRevs=We.stemmedRevs||[],function(ee,le,we){var Oe=un(ee.metadata),be=Wr(ee.metadata,Oe);if("was_delete"in S&&be)return f[le]=Fe(a,"deleted"),we();var ke=X&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(ee);if(ke){var Me=Fe(v);return f[le]=Me,we()}d(ee,Oe,be,be,!1,be?0:1,le,we)}(Me,He,Oe)}}be()})}var Xs=c(2899);function qs(e){try{return JSON.stringify(e)}catch{return Xs.stringify(e)}}var Zt="document-store",Xt="by-sequence",Dr="attach-store",_n="attach-seq-store",rr="meta-store",Vr="local-store",ns="detect-blob-support";function jr(e){return function(t){var r="unknown_error";t.target&&t.target.error&&(r=t.target.error.name||t.target.error.message),e(Fe(ie,r))}}function wi(e,t,r){return{data:qs(e),winningRev:t,deletedOrLocal:r?"1":"0",seq:e.seq,id:e.id}}function bn(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch{return Xs.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function Si(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function is(e,t,r,n){r?n(e?"string"!=typeof e?e:Be(e,t):dr([""],{type:t})):e?"string"!=typeof e?Dt(e,function(i){n(tr(i))}):n(e):n("")}function eo(e,t,r,n){var i=Object.keys(e._attachments||{});if(!i.length)return n&&n();var f=0;function d(){++f===i.length&&n&&n()}i.forEach(function(j){t.attachments&&t.include_docs?function(j,W){var X=j._attachments[W],ne=X.digest;r.objectStore(Dr).get(ne).onsuccess=function(Se){X.body=Se.target.result.body,d()}}(e,j):(e._attachments[j].stub=!0,d())})}function Ai(e,t){return Promise.all(e.map(function(r){if(r.doc&&r.doc._attachments){var n=Object.keys(r.doc._attachments);return Promise.all(n.map(function(i){var f=r.doc._attachments[i];if("body"in f){var d=f.body,S=f.content_type;return new Promise(function(j){is(d,S,t,function(W){r.doc._attachments[i]=Cr(zr(f,["digest","content_type"]),{data:W}),j()})})}}))}}))}function ss(e,t,r){var n=[],i=r.objectStore(Xt),f=r.objectStore(Dr),d=r.objectStore(_n),S=e.length;function j(){--S||!n.length||n.forEach(function(X){d.index("digestSeq").count(IDBKeyRange.bound(X+"::",X+"::\uffff",!1,!1)).onsuccess=function(fe){fe.target.result||f.delete(X)}})}e.forEach(function(X){i.index("_doc_id_rev").getKey(t+"::"+X).onsuccess=function(Se){var he=Se.target.result;if("number"!=typeof he)return j();i.delete(he),d.index("seq").openCursor(IDBKeyRange.only(he)).onsuccess=function(le){var we=le.target.result;if(we){var Oe=we.value.digestSeq.split("::")[0];n.push(Oe),d.delete(we.primaryKey),we.continue()}else j()}}})}function mr(e,t,r){try{return{txn:e.transaction(t,r)}}catch(n){return{error:n}}}var jn=new Ue;function Ci(e,t,r,n,i,f){for(var S,j,W,X,ne,fe,Se,he,d=t.docs,ee=0,le=d.length;ee<le;ee++){var we=d[ee];we._id&&yn(we._id)||(we=d[ee]=Qs(we,r.new_edits,e)).error&&!Se&&(Se=we)}if(Se)return f(Se);var Oe=!1,be=0,ke=new Array(d.length),Me=new b,He=!1;function yt(){Oe=!0,At()}function At(){!he||!Oe||(he.docCount+=be,fe.put(he))}function xt(){He||(jn.notify(n._meta.name),f(null,ke))}function Ft($e,Xe,rt,ht,it,mt,ft,Ze){$e.metadata.winningRev=Xe,$e.metadata.deleted=rt;var dt=$e.data;if(dt._id=$e.metadata.id,dt._rev=$e.metadata.rev,ht&&(dt._deleted=!0),dt._attachments&&Object.keys(dt._attachments).length)return function($e,Xe,rt,ht,it,mt){var Ze=0,dt=Object.keys($e.data._attachments);function St(){Ze===dt.length&&Ie($e,Xe,rt,ht,it,mt)}function Wt(){Ze++,St()}dt.forEach(function(Ut){var Nt=$e.data._attachments[Ut];if(Nt.stub)Ze++,St();else{var zt=Nt.data;delete Nt.data,Nt.revpos=parseInt(Xe,10),function($e,Xe,rt){X.count($e).onsuccess=function(it){if(it.target.result)return rt();X.put({digest:$e,body:Xe}).onsuccess=rt}}(Nt.digest,zt,Wt)}})}($e,Xe,rt,it,ft,Ze);be+=mt,At(),Ie($e,Xe,rt,it,ft,Ze)}function Ie($e,Xe,rt,ht,it,mt){var ft=$e.data,Ze=$e.metadata;function dt(Nt){var zt=$e.stemmedRevs||[];ht&&n.auto_compaction&&(zt=zt.concat(function(e){var t=[];return Xr(e.rev_tree,function(r,n,i,f,d){"available"===d.status&&!r&&(t.push(n+"-"+i),d.status="missing")}),t}($e.metadata))),zt&&zt.length&&ss(zt,$e.metadata.id,S),Ze.seq=Nt.target.result;var er=wi(Ze,Xe,rt);j.put(er).onsuccess=Wt}function Wt(){ke[it]={ok:!0,id:Ze.id,rev:Ze.rev},Me.set($e.metadata.id,$e.metadata),function($e,Xe,rt){var ht=0,it=Object.keys($e.data._attachments||{});if(!it.length)return rt();function mt(){++ht===it.length&&rt()}function ft(dt){var Wt=ne.put({seq:Xe,digestSeq:$e.data._attachments[dt].digest+"::"+Xe});Wt.onsuccess=mt,Wt.onerror=function(Ut){Ut.preventDefault(),Ut.stopPropagation(),mt()}}for(var Ze=0;Ze<it.length;Ze++)ft(it[Ze])}($e,Ze.seq,mt)}ft._doc_id_rev=Ze.id+"::"+Ze.rev,delete ft._id,delete ft._rev;var Ut=W.put(ft);Ut.onsuccess=dt,Ut.onerror=function(Nt){Nt.preventDefault(),Nt.stopPropagation(),W.index("_doc_id_rev").getKey(ft._doc_id_rev).onsuccess=function(nn){W.put(ft,nn.target.result).onsuccess=dt}}}!function(e,t,r){if(!e.length)return r();var i,n=0;function f(){n++,e.length===n&&(i?r(i):r())}e.forEach(function(d){var S=d.data&&d.data._attachments?Object.keys(d.data._attachments):[],j=0;if(!S.length)return f();function W(ne){i=ne,++j===S.length&&f()}for(var X in d.data._attachments)d.data._attachments.hasOwnProperty(X)&&Zs(d.data._attachments[X],t,W)})}(d,n._meta.blobSupport?"blob":"base64",function($e){if($e)return f($e);!function(){var Xe=mr(i,[Zt,Xt,Dr,Vr,_n,rr],"readwrite");if(Xe.error)return f(Xe.error);(S=Xe.txn).onabort=jr(f),S.ontimeout=jr(f),S.oncomplete=xt,j=S.objectStore(Zt),W=S.objectStore(Xt),X=S.objectStore(Dr),ne=S.objectStore(_n),(fe=S.objectStore(rr)).get(rr).onsuccess=function(rt){he=rt.target.result,At()},function($e){var Xe=[];if(d.forEach(function(mt){mt.data&&mt.data._attachments&&Object.keys(mt.data._attachments).forEach(function(ft){var Ze=mt.data._attachments[ft];Ze.stub&&Xe.push(Ze.digest)})}),!Xe.length)return $e();var ht,rt=0;Xe.forEach(function(mt){!function($e,Xe){X.get($e).onsuccess=function(ht){if(ht.target.result)Xe();else{var it=Fe(ue,"unknown stub attachment with digest "+$e);it.status=412,Xe(it)}}}(mt,function(ft){ft&&!ht&&(ht=ft),++rt===Xe.length&&$e(ht)})})}(function(rt){if(rt)return He=!0,f(rt);!function(){if(d.length)for(var $e=0,ht=0,it=d.length;ht<it;ht++){var mt=d[ht];mt._id&&yn(mt._id)?Xe():j.get(mt.metadata.id).onsuccess=rt}function Xe(){++$e===d.length&&Nn(e.revs_limit,d,n,Me,S,ke,Ft,r,yt)}function rt(Ze){var dt=bn(Ze.target.result);dt&&Me.set(dt.id,dt),Xe()}}()})}()})}function Un(e,t,r,n,i){var d,S,j;function W(Se){S=Se.target.result,d&&i(d,S,j)}function X(Se){d=Se.target.result,S&&i(d,S,j)}function fe(Se){var he=Se.target.result;if(!he)return i();i([he.key],[he.value],he)}-1===n&&(n=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&n>1&&!r?(j={continue:function(){if(!d.length)return i();var he,Se=d[d.length-1];if(t&&t.upper)try{he=IDBKeyRange.bound(Se,t.upper,!0,t.upperOpen)}catch(ee){if("DataError"===ee.name&&0===ee.code)return i()}else he=IDBKeyRange.lowerBound(Se,!0);d=null,S=null,e.getAll(t=he,n).onsuccess=W,e.getAllKeys(t,n).onsuccess=X}},e.getAll(t,n).onsuccess=W,e.getAllKeys(t,n).onsuccess=X):r?e.openCursor(t,"prev").onsuccess=fe:e.openCursor(t).onsuccess=fe}var Di=!1,Oi=[];function ro(){Di||!Oi.length||(Di=!0,Oi.shift()())}function no(e,t,r,n){if((e=ur(e)).continuous){var i=r+":"+_i();return jn.addListener(r,i,t,e),jn.notify(r),{cancel:function(){jn.removeListener(r,i)}}}var f=e.doc_ids&&new E(e.doc_ids);e.since=e.since||0;var d=e.since,S="limit"in e?e.limit:-1;0===S&&(S=1);var fe,Se,he,ee,j=[],W=0,X=function(e){var t={},r=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(i){i.doc||(i.doc={});var f=r&&function(e,t,r){try{return!e(t,r)}catch(i){var n="Filter function threw: "+i.toString();return Fe(G,n)}}(e.filter,i.doc,t);if("object"==typeof f)return f;if(f)return!1;if(e.include_docs){if(!e.attachments)for(var d in i.doc._attachments)i.doc._attachments.hasOwnProperty(d)&&(i.doc._attachments[d].stub=!0)}else delete i.doc;return!0}}(e),ne=new b;function we(Ke,yt,ct,At){return ct.seq!==yt?At():ct.winningRev===Ke._rev?At(ct,Ke):void(ee.get(Ke._id+"::"+ct.winningRev).onsuccess=function(Et){At(ct,Si(Et.target.result))})}function be(){e.complete(null,{results:j,last_seq:d})}var Me=[Zt,Xt];e.attachments&&Me.push(Dr);var He=mr(n,Me,"readonly");if(He.error)return e.complete(He.error);(fe=He.txn).onabort=jr(e.complete),fe.oncomplete=function(){!e.continuous&&e.attachments?Ai(j).then(be):be()},Se=fe.objectStore(Xt),he=fe.objectStore(Zt),ee=Se.index("_doc_id_rev"),Un(Se,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,S,function(Ke,yt,ct){if(ct&&Ke.length){var At=new Array(Ke.length),Bt=new Array(Ke.length),Ot=0;yt.forEach(function(Ft,Ie){!function(Ke,yt,ct){if(f&&!f.has(Ke._id))return ct();var At=ne.get(Ke._id);if(At)return we(Ke,yt,At,ct);he.get(Ke._id).onsuccess=function(Bt){At=bn(Bt.target.result),ne.set(Ke._id,At),we(Ke,yt,At,ct)}}(Si(Ft),Ke[Ie],function(Ye,$e){Bt[Ie]=Ye,At[Ie]=$e,++Ot===Ke.length&&function(){for(var Ft=[],Ie=0,xe=At.length;Ie<xe&&W!==S;Ie++){var Ne=At[Ie];Ne&&Ft.push(xt(Bt[Ie],Ne))}Promise.all(Ft).then(function($e){for(var Xe=0,rt=$e.length;Xe<rt;Xe++)$e[Xe]&&e.onChange($e[Xe])}).catch(e.complete),W!==S&&ct.continue()}()})})}function xt(Ft,Ie){var xe=e.processChange(Ie,Ft,e);d=xe.seq=Ft.seq;var Ne=X(xe);return"object"==typeof Ne?Promise.reject(Ne):Ne?(W++,e.return_docs&&j.push(xe),e.attachments&&e.include_docs?new Promise(function(Ye){eo(Ie,e,fe,function(){Ai([xe],e.binary).then(function(){Ye(xe)})})}):Promise.resolve(xe)):Promise.resolve()}})}var Pi,ei=new b,as=new b;function io(e,t){var r=this;!function(e,t,r){Oi.push(function(){e(function(f,d){(function(e,t,r,n){try{e(t,r)}catch(i){n.emit("error",i)}})(t,f,d,r),Di=!1,I()(function(){ro()})})}),ro()}(function(n){!function(e,t,r){var n=t.name,i=null;function d(he,ee){var le=he.objectStore(Zt);le.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),le.openCursor().onsuccess=function(we){var Oe=we.target.result;if(Oe){var be=Oe.value,ke=Wr(be);be.deletedOrLocal=ke?"1":"0",le.put(be),Oe.continue()}else ee()}}function j(he,ee){var le=he.objectStore(Vr),we=he.objectStore(Zt),Oe=he.objectStore(Xt);we.openCursor().onsuccess=function(ke){var Me=ke.target.result;if(Me){var He=Me.value,We=He.id,Ke=yn(We),yt=un(He);if(Ke){var ct=We+"::"+yt,At=We+"::",Bt=We+"::~",xt=Oe.index("_doc_id_rev"),Et=IDBKeyRange.bound(At,Bt,!1,!1),Ot=xt.openCursor(Et);Ot.onsuccess=function(Ft){if(Ot=Ft.target.result){var Ie=Ot.value;Ie._doc_id_rev===ct&&le.put(Ie),Oe.delete(Ot.primaryKey),Ot.continue()}else we.delete(Me.primaryKey),Me.continue()}}else Me.continue()}else ee&&ee()}}function X(he,ee){var le=he.objectStore(Xt),we=he.objectStore(Dr),Oe=he.objectStore(_n);we.count().onsuccess=function(ke){if(!ke.target.result)return ee();le.openCursor().onsuccess=function(He){var We=He.target.result;if(!We)return ee();for(var Ke=We.value,yt=We.primaryKey,ct=Object.keys(Ke._attachments||{}),At={},Bt=0;Bt<ct.length;Bt++)At[Ke._attachments[ct[Bt]].digest]=!0;var Et=Object.keys(At);for(Bt=0;Bt<Et.length;Bt++)Oe.put({seq:yt,digestSeq:Et[Bt]+"::"+yt});We.continue()}}}function ne(he){var le=he.objectStore(Xt),we=he.objectStore(Zt);we.openCursor().onsuccess=function(be){var Ke,yt,ct,At,ke=be.target.result;if(ke){var Me=function(be){return be.data?bn(be):(be.deleted="1"===be.deletedOrLocal,be)}(ke.value);if(Me.winningRev=Me.winningRev||un(Me),Me.seq)return We();Ke=Me.id+"::",yt=Me.id+"::\uffff",ct=le.index("_doc_id_rev").openCursor(IDBKeyRange.bound(Ke,yt)),At=0,ct.onsuccess=function(Bt){var xt=Bt.target.result;if(!xt)return Me.seq=At,We();var Et=xt.primaryKey;Et>At&&(At=Et),xt.continue()}}function We(){var Ke=wi(Me,Me.winningRev,Me.deleted);we.put(Ke).onsuccess=function(){ke.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=an(function(he){he(null,e._meta.instanceId)}),e._bulkDocs=function(ee,le,we){Ci(t,ee,le,e,i,we)},e._get=function(ee,le,we){var Oe,be,ke,Me=le.ctx;if(!Me){var He=mr(i,[Zt,Xt,Dr],"readonly");if(He.error)return we(He.error);Me=He.txn}function We(){we(ke,{doc:Oe,metadata:be,ctx:Me})}Me.objectStore(Zt).get(ee).onsuccess=function(Ke){if(!(be=bn(Ke.target.result)))return ke=Fe(a,"missing"),We();var yt;if(le.rev)yt=le.latest?function(e,t){for(var n,r=t.rev_tree.slice();n=r.pop();){var i=n.pos,f=n.ids,d=f[0],S=f[1],j=f[2],W=0===j.length,X=n.history?n.history.slice():[];if(X.push({id:d,pos:i,opts:S}),W)for(var ne=0,fe=X.length;ne<fe;ne++){var Se=X[ne];if(Se.pos+"-"+Se.id===e)return i+"-"+d}for(var ee=0,le=j.length;ee<le;ee++)r.push({pos:i+1,ids:j[ee],history:X})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(le.rev,be):le.rev;else if(yt=be.winningRev,Wr(be))return ke=Fe(a,"deleted"),We();var At=Me.objectStore(Xt),Bt=be.id+"::"+yt;At.index("_doc_id_rev").get(Bt).onsuccess=function(xt){if((Oe=xt.target.result)&&(Oe=Si(Oe)),!Oe)return ke=Fe(a,"missing"),We();We()}}},e._getAttachment=function(he,ee,le,we,Oe){var be;if(we.ctx)be=we.ctx;else{var ke=mr(i,[Zt,Xt,Dr],"readonly");if(ke.error)return Oe(ke.error);be=ke.txn}var Me=le.digest,He=le.content_type;be.objectStore(Dr).get(Me).onsuccess=function(We){is(We.target.result.body,He,we.binary,function(yt){Oe(null,yt)})}},e._info=function(ee){var le,we,Oe=mr(i,[rr,Xt],"readonly");if(Oe.error)return ee(Oe.error);var be=Oe.txn;be.objectStore(rr).get(rr).onsuccess=function(ke){we=ke.target.result.docCount},be.objectStore(Xt).openCursor(null,"prev").onsuccess=function(ke){var Me=ke.target.result;le=Me?Me.key:0},be.oncomplete=function(){ee(null,{doc_count:we,update_seq:le,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(ee,le){!function(e,t,r){var X,ne,d="keys"in e&&e.keys,S=e.skip||0,j="number"==typeof e.limit?e.limit:-1;if(!d&&(X=function(e,t,r,n,i){try{if(e&&t)return i?IDBKeyRange.bound(t,e,!r,!1):IDBKeyRange.bound(e,t,!1,!r);if(e)return i?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return i?IDBKeyRange.lowerBound(t,!r):IDBKeyRange.upperBound(t,!r);if(n)return IDBKeyRange.only(n)}catch(f){return{error:f}}return null}("startkey"in e&&e.startkey,"endkey"in e&&e.endkey,!1!==e.inclusive_end,"key"in e&&e.key,e.descending),(ne=X&&X.error)&&("DataError"!==ne.name||0!==ne.code)))return r(Fe(ie,ne.name));var fe=[Zt,Xt,rr];e.attachments&&fe.push(Dr);var Se=mr(t,fe,"readonly");if(Se.error)return r(Se.error);var he=Se.txn;he.oncomplete=function(){e.attachments?Ai(be,e.binary).then(Bt):Bt()},he.onabort=jr(r);var ke,Me,Ot,ee=he.objectStore(Zt),le=he.objectStore(Xt),we=he.objectStore(rr),Oe=le.index("_doc_id_rev"),be=[];function Ke(Et,Ot){var Ft={id:Ot.id,key:Ot.id,value:{rev:Et}};Ot.deleted?d&&(be.push(Ft),Ft.value.deleted=!0,Ft.doc=null):S--<=0&&(be.push(Ft),e.include_docs&&function(Et,Ot,Ft){Oe.get(Et.id+"::"+Ft).onsuccess=function(Ne){if(Ot.doc=Si(Ne.target.result)||{},e.conflicts){var Ye=es(Et);Ye.length&&(Ot.doc._conflicts=Ye)}eo(Ot.doc,e,he)}}(Ot,Ft,Et))}function yt(Et){for(var Ot=0,Ft=Et.length;Ot<Ft&&be.length!==j;Ot++){var Ie=Et[Ot];if(Ie.error&&d)be.push(Ie);else{var xe=bn(Ie);Ke(xe.winningRev,xe)}}}function ct(Et,Ot,Ft){!Ft||(yt(Ot),be.length<j&&Ft.continue())}function Bt(){var Et={total_rows:ke,offset:e.skip,rows:be};e.update_seq&&void 0!==Me&&(Et.update_seq=Me),r(null,Et)}if(we.get(rr).onsuccess=function(Et){ke=Et.target.result.docCount},e.update_seq&&(Ot=function(Et){Et.target.result&&Et.target.result.length>0&&(Me=Et.target.result[0])},le.openCursor(null,"prev").onsuccess=function(Ie){var xe=Ie.target.result,Ne=void 0;return xe&&xe.key&&(Ne=xe.key),Ot({target:{result:[Ne]}})}),!ne&&0!==j){if(d)return function(e,t,r){var n=new Array(e.length),i=0;e.forEach(function(f,d){t.get(f).onsuccess=function(S){n[d]=S.target.result?S.target.result:{key:f,error:"not_found"},++i===e.length&&r(e,n,{})}})}(e.keys,ee,ct);if(-1===j)return function(e,t,r){if("function"!=typeof e.getAll){var n=[];e.openCursor(t).onsuccess=function(f){var d=f.target.result;d?(n.push(d.value),d.continue()):r({target:{result:n}})}}else e.getAll(t).onsuccess=r}(ee,X,function(Et){var Ot=Et.target.result;e.descending&&(Ot=Ot.reverse()),yt(Ot)});Un(ee,X,e.descending,j+S,ct)}}(ee,i,le)},e._changes=function(ee){return no(ee,e,n,i)},e._close=function(he){i.close(),ei.delete(n),he()},e._getRevisionTree=function(he,ee){var le=mr(i,[Zt],"readonly");if(le.error)return ee(le.error);le.txn.objectStore(Zt).get(he).onsuccess=function(be){var ke=bn(be.target.result);ke?ee(null,ke.rev_tree):ee(Fe(a))}},e._doCompaction=function(he,ee,le){var Oe=mr(i,[Zt,Xt,Dr,_n],"readwrite");if(Oe.error)return le(Oe.error);var be=Oe.txn;be.objectStore(Zt).get(he).onsuccess=function(Me){var He=bn(Me.target.result);Xr(He.rev_tree,function(yt,ct,At,Bt,xt){-1!==ee.indexOf(ct+"-"+At)&&(xt.status="missing")}),ss(ee,he,be);var We=He.winningRev,Ke=He.deleted;be.objectStore(Zt).put(wi(He,We,Ke))},be.onabort=jr(le),be.oncomplete=function(){le()}},e._getLocal=function(he,ee){var le=mr(i,[Vr],"readonly");if(le.error)return ee(le.error);var Oe=le.txn.objectStore(Vr).get(he);Oe.onerror=jr(ee),Oe.onsuccess=function(be){var ke=be.target.result;ke?(delete ke._doc_id_rev,ee(null,ke)):ee(Fe(a))}},e._putLocal=function(he,ee,le){"function"==typeof ee&&(le=ee,ee={}),delete he._revisions;var we=he._rev,Oe=he._id;he._rev=we?"0-"+(parseInt(we.split("-")[1],10)+1):"0-1";var ke,be=ee.ctx;if(!be){var Me=mr(i,[Vr],"readwrite");if(Me.error)return le(Me.error);(be=Me.txn).onerror=jr(le),be.oncomplete=function(){ke&&le(null,ke)}}var We,He=be.objectStore(Vr);we?(We=He.get(Oe)).onsuccess=function(Ke){var yt=Ke.target.result;yt&&yt._rev===we?He.put(he).onsuccess=function(){ke={ok:!0,id:he._id,rev:he._rev},ee.ctx&&le(null,ke)}:le(Fe(v))}:((We=He.add(he)).onerror=function(Ke){le(Fe(v)),Ke.preventDefault(),Ke.stopPropagation()},We.onsuccess=function(){ke={ok:!0,id:he._id,rev:he._rev},ee.ctx&&le(null,ke)})},e._removeLocal=function(he,ee,le){"function"==typeof ee&&(le=ee,ee={});var we=ee.ctx;if(!we){var Oe=mr(i,[Vr],"readwrite");if(Oe.error)return le(Oe.error);(we=Oe.txn).oncomplete=function(){be&&le(null,be)}}var be,ke=he._id,Me=we.objectStore(Vr),He=Me.get(ke);He.onerror=jr(le),He.onsuccess=function(We){var Ke=We.target.result;Ke&&Ke._rev===he._rev?(Me.delete(ke),be={ok:!0,id:ke,rev:"0-0"},ee.ctx&&le(null,be)):le(Fe(a))}},e._destroy=function(he,ee){jn.removeAllListeners(n);var le=as.get(n);le&&le.result&&(le.result.close(),ei.delete(n));var we=indexedDB.deleteDatabase(n);we.onsuccess=function(){as.delete(n),se()&&n in localStorage&&delete localStorage[n],ee(null,{ok:!0})},we.onerror=jr(ee)};var fe=ei.get(n);if(fe)return i=fe.idb,e._meta=fe.global,I()(function(){r(null,e)});var Se=indexedDB.open(n,5);as.set(n,Se),Se.onupgradeneeded=function(he){var ee=he.target.result;if(he.oldVersion<1)return function(he){var ee=he.createObjectStore(Zt,{keyPath:"id"});he.createObjectStore(Xt,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),he.createObjectStore(Dr,{keyPath:"digest"}),he.createObjectStore(rr,{keyPath:"id",autoIncrement:!1}),he.createObjectStore(ns),ee.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),he.createObjectStore(Vr,{keyPath:"_id"});var le=he.createObjectStore(_n,{autoIncrement:!0});le.createIndex("seq","seq"),le.createIndex("digestSeq","digestSeq",{unique:!0})}(ee);var le=he.currentTarget.transaction;he.oldVersion<3&&function(he){he.createObjectStore(Vr,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(ee),he.oldVersion<4&&function(he){var ee=he.createObjectStore(_n,{autoIncrement:!0});ee.createIndex("seq","seq"),ee.createIndex("digestSeq","digestSeq",{unique:!0})}(ee);var we=[d,j,X,ne],Oe=he.oldVersion;!function be(){var ke=we[Oe-1];Oe++,ke&&ke(le,be)}()},Se.onsuccess=function(he){(i=he.target.result).onversionchange=function(){i.close(),ei.delete(n)},i.onabort=function(We){tt("error","Database has a global failure",We.target.error),i.close(),ei.delete(n)};var we,Oe,be,ke,ee=i.transaction([rr,ns,Zt],"readwrite"),le=!1;function Me(){void 0===be||!le||(e._meta={name:n,instanceId:ke,blobSupport:be},ei.set(n,{idb:i,global:e._meta}),r(null,e))}function He(){if(void 0!==Oe&&void 0!==we){var We=n+"_id";We in we?ke=we[We]:we[We]=ke=_i(),we.docCount=Oe,ee.objectStore(rr).put(we)}}ee.objectStore(rr).get(rr).onsuccess=function(We){we=We.target.result||{id:rr},He()},function(e,t){e.objectStore(Zt).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(n){Oe=n.target.result,He()}}(ee),Pi||(Pi=function(e){return new Promise(function(t){var r=dr([""]),n=e.objectStore(ns).put(r,"key");n.onsuccess=function(){var i=navigator.userAgent.match(/Chrome\/(\d+)/),f=navigator.userAgent.match(/Edge\//);t(f||!i||parseInt(i[1],10)>=43)},n.onerror=e.onabort=function(i){i.preventDefault(),i.stopPropagation(),t(!1)}}).catch(function(){return!1})}(ee)),Pi.then(function(We){be=We,Me()}),ee.oncomplete=function(){le=!0,Me()},ee.onabort=jr(r)},Se.onerror=function(he){var ee=he.target.error&&he.target.error.message;ee?-1!==ee.indexOf("stored database is a higher version")&&(ee=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):ee="Failed to open indexedDB, are you in private browsing mode?",tt("error",ee),r(Fe(ie,ee))}}(r,e,n)},t,r.constructor)}io.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch{return!1}};const so=function(e){e.adapter("idb",io,!0)};function cs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function En(e,t,r){return t&&cs(e.prototype,t),r&&cs(e,r),e}var Ii=c(2559),ti=c.n(Ii),oo=c(8624),cr=c.n(oo),ao=c(4966),ta=c.n(ao),ra=c(1452),na=c.n(ra),ia=c(9456),sa=c.n(ia);function kt(e){var t=e.split("-"),r="RxDB";return t.forEach(function(n){r+=lo(n)}),r+="Plugin",new Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { "+r+" } from 'rxdb/plugins/"+e+"';\n            addRxPlugin("+r+");\n        ")}function ri(e){return"string"!=typeof e&&(e=JSON.stringify(e)),na().hash("rxdb-specific-hash-salt"+e)}var ni=0;function Kr(){var e=(new Date).getTime();return e<=ni&&(e=ni+1),ni=e,e}function zn(){return new Promise(function(e){return setTimeout(e,0)})}function Na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){return setTimeout(t,e)})}Promise.resolve(!0);var qr=Promise.resolve(!1),co=Promise.resolve(null),wn=Promise.resolve();function lo(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)}function lt(e){for(;"."===e.charAt(0);)e=e.substr(1);for(;"."===e.slice(-1);)e=e.slice(0,-1);return e}function ca(e){if(!e)throw new Error("ensureNotFalsy() is falsy");return e}function Ti(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return e;if(!t&&Array.isArray(e))return e.sort(function(n,i){return"string"==typeof n&&"string"==typeof i?n.localeCompare(i):"object"==typeof n?1:-1}).map(function(n){return Ti(n,t)});if("object"==typeof e&&!Array.isArray(e)){if(e instanceof RegExp)return e;var r={};return Object.keys(e).sort(function(n,i){return n.localeCompare(i)}).forEach(function(n){r[n]=Ti(e[n],t)}),r}return e}function la(e,t){return t instanceof RegExp?t.toString():t}function fo(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",r="abcdefghijklmnopqrstuvwxyz",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}function Wn(e){var t={db:e};return"string"==typeof e&&(t={adapter:e,db:void 0}),t}var Or=function(e){return e&&ta()(e,!1)};function jt(e){return Object.assign({},e)}function Ri(e){var t={};for(var r in e)if(e.hasOwnProperty(r))if("object"==typeof e[r]){var n=Ri(e[r]);for(var i in n)!n.hasOwnProperty(i)||(t[r+"."+i]=n[i])}else t[r]=e[r];return t}function cn(e){return function(e){var t=e.split("-");return{height:parseInt(t[0],10),hash:t[1]}}(e).height}function xr(e,t,r){return Object.defineProperty(e,t,{get:function(){return r}}),r}function Kn(e){return!(!e.includes("/")&&!e.includes("\\"))}function ii(e,t){var r=e.get(t);if(!r)throw new Error("missing value from map "+t);return r}sa()();var xi_toString=function(t){return"undefined"!=typeof Buffer&&t instanceof Buffer?zn().then(function(){return t.toString()}):new Promise(function(r){var n=new FileReader;n.addEventListener("loadend",function(f){r(f.target.result)}),"[object Uint8Array]"===Object.prototype.toString.call(t)&&(t=new Blob([t])),n.readAsText(t)})};function $r(e,t){return($r=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n})(e,t)}function fs(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$r(e,t)}function Sn(e){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(e)}function mo(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function An(e,t,r){return(An=mo()?Reflect.construct:function(i,f,d){var S=[null];S.push.apply(S,f);var W=new(Function.bind.apply(i,S));return d&&$r(W,d.prototype),W}).apply(null,arguments)}function Cn(e){var t="function"==typeof Map?new Map:void 0;return Cn=function(n){if(null===n||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(n))return n;if("function"!=typeof n)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return An(n,arguments,Sn(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),$r(i,n)},Cn(e)}var nr={isDevMode:function(){return!1},deepFreezeWhenDevMode:function(t){return t},validatePassword:function(t){throw kt("encryption")},tunnelErrorMessage:function(t){return"RxDB Error-Code "+t+".\n        - To find out what this means, use the dev-mode-plugin https://pubkey.github.io/rxdb/custom-build.html#dev-mode\n        - Or search for this code https://github.com/pubkey/rxdb/search?q="+t+"\n        "}};function si(e,t,r){return"RxError ("+t+"):\n"+e+"\n"+function(e){var t="";return 0===Object.keys(e).length||(t+="Given parameters: {\n",t+=Object.keys(e).map(function(r){var n="[object Object]";try{n=JSON.stringify(e[r],function(i,f){return void 0===f?null:f},2)}catch{}return r+":"+n}).join("\n"),t+="}"),t}(r)}var $n=function(e){function t(n,i){var f,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},S=si(i,n,d);return(f=e.call(this,S)||this).code=n,f.message=S,f.parameters=d,f.rxdb=!0,f}return fs(t,e),t.prototype.toString=function(){return this.message},En(t,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}]),t}(Cn(Error)),Dn=function(e){function t(n,i){var f,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},S=si(i,n,d);return(f=e.call(this,S)||this).code=n,f.message=S,f.parameters=d,f.rxdb=!0,f}return fs(t,e),t.prototype.toString=function(){return this.message},En(t,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}]),t}(Cn(TypeError));function Ve(e,t){return new $n(e,nr.tunnelErrorMessage(e),t)}function Rt(e,t){return new Dn(e,nr.tunnelErrorMessage(e),t)}var br={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],postDestroyRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],createRxQuery:[],preQueryMatcher:[],preSortComparator:[],prePrepareQuery:[],preWriteToStorageInstance:[],postReadFromInstance:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[]};function Yt(e,t){br[e].forEach(function(r){return r(t)})}function ki(e,t){return Promise.all(br[e].map(function(r){return r(t)}))}var nt=c(5861),vo=c(7757),je=c.n(vo),Hn=c(1135),Lt=c(4004),ps=c(1884),va="_rxdb_internal";function en(e){return On.apply(this,arguments)}function On(){return(On=(0,nt.Z)(je().mark(function e(t){var r;return je().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return r=t.prepareQuery({selector:{}}),d.next=3,t.query(r);case 3:return d.abrupt("return",d.sent.documents);case 6:case"end":return d.stop()}},e)}))).apply(this,arguments)}function oi(e,t){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,nt.Z)(je().mark(function e(t,r){var i;return je().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,t.findDocumentsById([r],!1);case 2:if(!(i=d.sent.get(r))){d.next=8;break}return d.abrupt("return",i);case 8:return d.abrupt("return",null);case 9:case"end":return d.stop()}},e)}))).apply(this,arguments)}function gs(e,t){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,nt.Z)(je().mark(function e(t,r){var n,f;return je().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,t.bulkWrite([r]);case 2:if(!((n=S.sent).error.size>0)){S.next=8;break}throw n.error.values().next().value;case 8:return f=n.success.values().next().value,S.abrupt("return",f);case 10:case"end":return S.stop()}},e)}))).apply(this,arguments)}function Ni(e,t){return _s.apply(this,arguments)}function _s(){return(_s=(0,nt.Z)(je().mark(function e(t,r){var i;return je().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,t.findLocalDocumentsById([r]);case 2:if(i=d.sent.get(r)){d.next=8;break}return d.abrupt("return",null);case 8:return d.abrupt("return",i);case 9:case"end":return d.stop()}},e)}))).apply(this,arguments)}function ci(e,t,r,n){var i,d;if("DELETE"!==t.change.operation)if(n){var f={collection:n,doc:t.change.doc};Yt("postReadFromInstance",f),i=n._crypter.decrypt(i=f.doc)}else i=t.change.doc;if("INSERT"!==t.change.operation)if(n){var S={collection:n,doc:t.change.previous};Yt("postReadFromInstance",S),d=n._crypter.decrypt(d=S.doc)}else d=t.change.previous;return{eventId:t.eventId,documentId:t.documentId,databaseToken:r.token,collectionName:n?n.name:void 0,startTime:t.startTime,endTime:t.endTime,isLocal:e,operation:t.change.operation,documentData:nr.deepFreezeWhenDevMode(i),previousDocumentData:nr.deepFreezeWhenDevMode(d)}}function bs(e,t){return ji.apply(this,arguments)}function ji(){return ji=(0,nt.Z)(je().mark(function e(t,r){var n,i,d,S=arguments;return je().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:n=S.length>2&&void 0!==S[2]&&S[2],i={previous:r.previous?In(t,jt(r.previous)):void 0,document:In(t,jt(r.document))};case 2:return W.prev=3,W.next=6,t.database.lockedRun(function(){return gs(t.storageInstance,i)});case 6:return d=Ui(t,W.sent),W.abrupt("return",d);case 11:return W.prev=11,W.t0=W.catch(3),W.delegateYield(je().mark(function X(){var ne,fe,Se;return je().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(fe=(ne=W.t0).documentId,!n||409!==ne.status){ee.next=11;break}return ee.next=5,t.database.lockedRun(function(){return oi(t.storageInstance,fe)});case 5:if(Se=ee.sent){ee.next=8;break}throw Ve("SNH",{args:{writeRow:r}});case 8:i.previous=Se,ee.next=16;break;case 11:if(409!==ne.status){ee.next=15;break}throw Ve("COL19",{collection:t.name,id:fe,pouchDbError:ne,data:r});case 15:throw ne;case 16:case"end":return ee.stop()}},X)})(),"t1",14);case 14:W.next=2;break;case 16:case"end":return W.stop()}},e,null,[[3,11]])})),ji.apply(this,arguments)}function In(e,t){nr.isDevMode()&&e.schema.fillPrimaryKey(t),t=e._crypter.encrypt(t);var r={collection:e,doc:t};return Yt("preWriteToStorageInstance",r),r.doc}function Ui(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={collection:e,doc:t};return Yt("postReadFromInstance",n),r?n.doc:e._crypter.decrypt(n.doc)}function Qn(e,t){var r=e.schema.fillObjectWithDefaults(t);return e.schema.fillPrimaryKey(r)}function Es(e){return e+"-local"}function zi(e,t,r,n){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,nt.Z)(je().mark(function e(t,r,n,i){var f;return je().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return n.broadcastChannel=r.broadcastChannel,W.next=3,Promise.all([r.storage.createStorageInstance(n),r.storage.createKeyObjectStorageInstance({databaseName:r.name,collectionName:Es(t),options:i,idleQueue:r.idleQueue,broadcastChannel:r.broadcastChannel})]);case 3:return W.abrupt("return",{storageInstance:(f=W.sent)[0],localDocumentsStore:f[1]});case 7:case"end":return W.stop()}},e)}))).apply(this,arguments)}function Vi(e,t){var r;return{version:e,type:"object",primaryKey:t,properties:(r={},r[t]={type:"string"},r),required:[t]}}function fr(e,t){var r=t;return r=lt(r="properties."+(r=r.replace(/\./g,".properties."))),cr().get(e,r)}var e,ir={get _data(){if(this.isInstanceOfRxDocument)return this._dataSync$.getValue()},get primaryPath(){if(this.isInstanceOfRxDocument)return this.collection.schema.primaryPath},get primary(){var e=this;if(e.isInstanceOfRxDocument)return e._data[e.primaryPath]},get revision(){if(this.isInstanceOfRxDocument)return this._data._rev},get deleted$(){if(this.isInstanceOfRxDocument)return this._isDeleted$.asObservable()},get deleted(){if(this.isInstanceOfRxDocument)return this._isDeleted$.getValue()},get $(){return this._dataSync$.asObservable().pipe((0,Lt.U)(function(t){return nr.deepFreezeWhenDevMode(t)}))},_handleChangeEvent:function(t){if(t.documentId===this.primary){var n=cn(((e=t).documentData?e.documentData:e.previousDocumentData)._rev);if(!(cn(this._data._rev)>n))switch(t.operation){case"INSERT":break;case"UPDATE":this._dataSync$.next(t.documentData);break;case"DELETE":this.collection._docCache.delete(this.primary),this._isDeleted$.next(!0)}}var e},$emit:function(t){return this.collection.$emit(t)},get$:function(t){if(t.includes(".item."))throw Ve("DOC1",{path:t});if(t===this.primaryPath)throw Ve("DOC2");if(this.collection.schema.finalFields.includes(t))throw Ve("DOC3",{path:t});if(!fr(this.collection.schema.jsonSchema,t))throw Ve("DOC4",{path:t});return this._dataSync$.pipe((0,Lt.U)(function(n){return cr().get(n,t)}),(0,ps.x)())},populate:function(t){var r=fr(this.collection.schema.jsonSchema,t),n=this.get(t);if(!n)return co;if(!r)throw Ve("DOC5",{path:t});if(!r.ref)throw Ve("DOC6",{path:t,schemaObj:r});var i=this.collection.database.collections[r.ref];if(!i)throw Ve("DOC7",{ref:r.ref,path:t,schemaObj:r});return"array"===r.type?i.findByIds(n).then(function(f){var d=f.values();return Array.from(d)}):i.findOne(n).exec()},get:function(t){if(this._data){var r=cr().get(this._data,t);return"object"!=typeof r||Array.isArray(r)?nr.deepFreezeWhenDevMode(r):(r=Or(r),Ss(this.collection.schema,r,t,this),r)}},toJSON:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t)return nr.deepFreezeWhenDevMode(this._data);var r=jt(this._data);return delete r._rev,delete r._attachments,nr.deepFreezeWhenDevMode(r)},set:function(t,r){if(!this._isTemporary)throw Rt("DOC16",{objPath:t,value:r});if("string"!=typeof t)throw Rt("DOC15",{objPath:t,value:r});if(!Object.is(this.get(t),r)){var n=t.split(".");n.pop();var i=n.join(".");if(void 0===cr().get(this._data,i))throw Ve("DOC10",{childpath:t,rootPath:i});return cr().set(this._data,t,r),this}},update:function(t){throw kt("update")},putAttachment:function(){throw kt("attachments")},getAttachment:function(){throw kt("attachments")},allAttachments:function(){throw kt("attachments")},get allAttachments$(){throw kt("attachments")},atomicUpdate:function(t){var r=this;return new Promise(function(n,i){r._atomicQueue=r._atomicQueue.then((0,nt.Z)(je().mark(function f(){var d,S,j;return je().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:d=!1;case 1:if(d){X.next=24;break}return S=r._dataSync$.getValue(),X.prev=3,X.next=6,t(Or(r._dataSync$.getValue()),r);case 6:return j=X.sent,r.collection&&(j=r.collection.schema.fillObjectWithDefaults(j)),X.next=10,r._saveData(j,S);case 10:d=!0,X.next=22;break;case 13:if(X.prev=13,X.t0=X.catch(3),!(e=X.t0).parameters||!e.parameters.pouchDbError||409!==e.parameters.pouchDbError.status){X.next=20;break}return X.next=18,zn();case 18:X.next=22;break;case 20:return i(X.t0),X.abrupt("return");case 22:X.next=1;break;case 24:n(r);case 25:case"end":return X.stop()}var e},f,null,[[3,13]])})))})},atomicPatch:function(t){return this.atomicUpdate(function(r){return Object.entries(t).forEach(function(n){r[n[0]]=n[1]}),r})},_saveData:(e=(0,nt.Z)(je().mark(function r(n,i){return je().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(n=n,!this._isDeleted$.getValue()){d.next=3;break}throw Ve("DOC11",{id:this.primary,document:this});case 3:return this.collection.schema.validateChange(i,n),d.next=6,this.collection._runHooks("pre","save",n,this);case 6:return this.collection.schema.validate(n),d.next=9,bs(this.collection,{previous:i,document:n});case 9:return d.abrupt("return",this.collection._runHooks("post","save",n,this));case 10:case"end":return d.stop()}},r,this)})),function(r,n){return e.apply(this,arguments)}),save:function(){var t=this;if(!this._isTemporary)throw Ve("DOC17",{id:this.primary,document:this});return this.collection.insert(this).then(function(){return t._isTemporary=!1,t.collection._docCache.set(t.primary,t),t._dataSync$.next(t._data),!0})},remove:function(){var t=this;if(this.deleted)return Promise.reject(Ve("DOC13",{document:this,id:this.primary}));var r=jt(this._data);return this.collection._runHooks("pre","remove",r,this).then(function(){return r._deleted=!0,Kr(),bs(t.collection,{previous:t._data,document:r})}).then(function(){return t.collection._runHooks("post","remove",r,t)}).then(function(){return t})},destroy:function(){throw Ve("DOC14")}};function ws(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ir,t=function(n,i){this.collection=n,this._isTemporary=!1,this._dataSync$=new Hn.X(i),this._isDeleted$=new Hn.X(!1),this._atomicQueue=wn,this.isInstanceOfRxDocument=!0};return t.prototype=e,t}function Ss(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!==t){var i=fr(e.jsonSchema,r);void 0!==i&&(i.properties&&(i=i.properties),Object.keys(i).forEach(function(f){var d=lt(r+"."+f);t.__defineGetter__(f,function(){var S=n||this;if(S.get&&"function"==typeof S.get)return S.get(d)}),Object.defineProperty(t,f+"$",{get:function(){return(n||this).get$(d)},enumerable:!1,configurable:!1}),Object.defineProperty(t,f+"_",{get:function(){return(n||this).populate(d)},enumerable:!1,configurable:!1}),t.__defineSetter__(f,function(S){return(n||this).set(d,S)})}))}}function K(e,t,r){if(r[t.schema.primaryPath]&&r[t.schema.primaryPath].startsWith("_design"))return null;var n=new e(t,r);return Yt("createRxDocument",n),n}function C(e){return void 0!==e&&!!e.isInstanceOfRxDocument}var g=function(){function e(r){this.jsonSchema=r,this.indexes=function(e){return(e.indexes||[]).map(function(t){return Array.isArray(t)?t:[t]})}(this.jsonSchema),this.primaryPath=H(this.jsonSchema.primaryKey),this.finalFields=function(e){var t=Object.keys(e.properties).filter(function(n){return e.properties[n].final}),r=H(e.primaryKey);return t.push(r),"string"!=typeof e.primaryKey&&e.primaryKey.fields.forEach(function(n){return t.push(n)}),t}(this.jsonSchema),this.jsonSchema.required=this.jsonSchema.required.concat(this.finalFields).filter(function(n){return!n.includes(".")}).filter(function(n,i,f){return f.indexOf(n)===i})}var t=e.prototype;return t.validateChange=function(n,i){var f=this;this.finalFields.forEach(function(d){if(!ti()(n[d],i[d]))throw Ve("DOC9",{dataBefore:n,dataAfter:i,fieldName:d,schema:f.jsonSchema})})},t.validate=function(n,i){throw kt("validate")},t.fillObjectWithDefaults=function(n){return n=jt(n),Object.entries(this.defaultValues).filter(function(i){var f=i[0];return!n.hasOwnProperty(f)||void 0===n[f]}).forEach(function(i){return n[i[0]]=i[1]}),n},t.getDocumentPrototype=function(){var n={};return Ss(this,n,""),xr(this,"getDocumentPrototype",function(){return n}),n},t.getPrimaryOfDocumentData=function(n){return ce(this.jsonSchema,n)},t.fillPrimaryKey=function(n){var i=jt(n),f=ce(this.jsonSchema,n),d=n[this.primaryPath];if(d&&d!==f)throw Ve("DOC19",{args:{documentData:n,existingPrimary:d,newPrimary:f},schema:this.jsonSchema});return i[this.primaryPath]=f,i},En(e,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"normalized",get:function(){return xr(this,"normalized",function(e){var t=Ti(Or(e));return e.indexes&&(t.indexes=Array.from(e.indexes)),t}(this.jsonSchema))}},{key:"topLevelFields",get:function(){return Object.keys(this.normalized.properties)}},{key:"defaultValues",get:function(){var n={};return Object.entries(this.normalized.properties).filter(function(i){return i[1].hasOwnProperty("default")}).forEach(function(i){return n[i[0]]=i[1].default}),xr(this,"defaultValues",n)}},{key:"crypt",get:function(){return!!(this.jsonSchema.encrypted&&this.jsonSchema.encrypted.length>0||this.jsonSchema.attachments&&this.jsonSchema.attachments.encrypted)}},{key:"encryptedPaths",get:function(){return this.jsonSchema.encrypted||[]}},{key:"hash",get:function(){return xr(this,"hash",ri(this.normalized))}}]),e}();function H(e){return"string"==typeof e?e:e.key}function ce(e,t){if("string"==typeof e.primaryKey)return t[e.primaryKey];var r=e.primaryKey;return r.fields.map(function(n){var i=cr().get(t,n);if(void 0===i)throw Ve("DOC18",{args:{field:n,documentData:t}});return i}).join(r.separator)}function o(e){return(e=Or(e)).additionalProperties=!1,e.hasOwnProperty("keyCompression")||(e.keyCompression=!1),e.indexes=e.indexes||[],e.required=e.required||[],e.encrypted=e.encrypted||[],e.properties._rev={type:"string",minLength:1},e.properties._attachments={type:"object"},e.properties._deleted={type:"boolean"},e.version=e.version||0,e}function m(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&Yt("preCreateRxSchema",e);var r=new g(o(e));return Yt("createRxSchema",r),r}var V=function(){function e(r,n){this.password=r,this.schema=n}var t=e.prototype;return t._encryptString=function(n){throw kt("encryption")},t._decryptString=function(n){throw kt("encryption")},t.encrypt=function(n){var i=this;if(!this.password)return n;var f=(n=jt(n))._attachments;delete n._attachments;var d=Or(n);return f&&(d._attachments=f),this.schema.encryptedPaths.forEach(function(S){var j=cr().get(d,S);if(void 0!==j){var W=JSON.stringify(j),X=i._encryptString(W);cr().set(d,S,X)}}),d},t.decrypt=function(n){var i=this;if(!this.password)return n;var f=(n=jt(n))._attachments;delete n._attachments;var d=Or(n);return f&&(d._attachments=f),this.schema.encryptedPaths.forEach(function(S){var j=cr().get(d,S);if(void 0!==j){var W=i._decryptString(j),X=JSON.parse(W);cr().set(d,S,X)}}),d},e}();function re(e,t){return new V(e,t)}var oe=c(3905),ye=c(6451),Te=c(5577),ze=c(9300),Qe=c(7579),at=c(6063);class _t extends Qe.x{constructor(t=1/0,r=1/0,n=at.l){super(),this._bufferSize=t,this._windowTime=r,this._timestampProvider=n,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=r===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,r)}next(t){const{isStopped:r,_buffer:n,_infiniteTimeWindow:i,_timestampProvider:f,_windowTime:d}=this;r||(n.push(t),!i&&n.push(f.now()+d)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const r=this._innerSubscribe(t),{_infiniteTimeWindow:n,_buffer:i}=this,f=i.slice();for(let d=0;d<f.length&&!t.closed;d+=n?1:2)t.next(f[d]);return this._checkFinalizedStatuses(t),r}_trimBuffer(){const{_bufferSize:t,_timestampProvider:r,_buffer:n,_infiniteTimeWindow:i}=this,f=(i?1:2)*t;if(t<1/0&&f<n.length&&n.splice(0,n.length-f),!i){const d=r.now();let S=0;for(let j=1;j<n.length&&n[j]<=d;j+=2)S=j;S&&n.splice(0,S+1)}}}var ut=c(3099);function gt(e,t,r){var n,i;let f,d=!1;return e&&"object"==typeof e?(f=null!==(n=e.bufferSize)&&void 0!==n?n:1/0,t=null!==(i=e.windowTime)&&void 0!==i?i:1/0,d=!!e.refCount,r=e.scheduler):f=e??1/0,(0,ut.B)({connector:()=>new _t(f,t,r),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:d})}var bt=c(8505),Vt=new WeakMap,$t=new WeakMap;function sr(e){if(!$t.has(e)){var t=ws(function(e){if(!Vt.has(e)){var t=e.schema.getDocumentPrototype(),r=function(e){var t={};return Object.entries(e.methods).forEach(function(r){t[r[0]]=r[1]}),t}(e),i={};[t,r,ir].forEach(function(f){Object.getOwnPropertyNames(f).forEach(function(S){var j=Object.getOwnPropertyDescriptor(f,S),W=!0;(S.startsWith("_")||S.endsWith("_")||S.startsWith("$")||S.endsWith("$"))&&(W=!1),"function"==typeof j.value?Object.defineProperty(i,S,{get:function(){return j.value.bind(this)},enumerable:W,configurable:!1}):(j.enumerable=W,j.configurable=!1,j.writable&&(j.writable=!1),Object.defineProperty(i,S,j))})}),Vt.set(e,i)}return Vt.get(e)}(e));$t.set(e,t)}return $t.get(e)}function ln(e,t){var r=t[e.schema.primaryPath],n=e._docCache.get(r);if(n)return n;var i=K(sr(e),e,nr.deepFreezeWhenDevMode(t));return e._docCache.set(r,i),e._runHooksSync("post","create",t,i),Yt("postCreateRxDocument",i),i}var Hr=function(e){e.previousResults.unshift(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},As=function(e){e.previousResults.push(e.changeEvent.doc),e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,e.changeEvent.doc)},Zn=function(e){var t=e.previousResults.shift();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},hn=function(e){var t=e.previousResults.pop();e.keyDocumentMap&&t&&e.keyDocumentMap.delete(t[e.queryParams.primaryKey])},pt=function(e){e.keyDocumentMap&&e.keyDocumentMap.delete(e.changeEvent.id);for(var t=e.queryParams.primaryKey,r=e.previousResults,n=0;n<r.length;n++)if(r[n][t]===e.changeEvent.id){r.splice(n,1);break}},Gr=function(e){var t=e.changeEvent.id,r=e.changeEvent.doc;if(e.keyDocumentMap){if(e.keyDocumentMap.has(t))return;e.keyDocumentMap.set(t,r)}else if(e.previousResults.find(function(i){return i[e.queryParams.primaryKey]===t}))return;!function(e,t,r,n){var i=e,f=i.length-1,d=0,S=0;if(0===i.length)return i.push(t),i;for(;d<=f;)r(i[S=d+(f-d>>1)],t)<=0?d=S+1:f=S-1;r(i[S],t)<=0&&S++,i.splice(S,0,t)}(e.previousResults,r,e.queryParams.sortComparator)},ba=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],Ua={doNothing:function(e){},insertFirst:Hr,insertLast:As,removeFirstItem:Zn,removeLastItem:hn,removeFirstInsertLast:function(e){Zn(e),As(e)},removeLastInsertFirst:function(e){hn(e),Hr(e)},removeFirstInsertFirst:function(e){Zn(e),Hr(e)},removeLastInsertLast:function(e){hn(e),As(e)},removeExisting:pt,replaceExisting:function(e){for(var t=e.changeEvent.doc,r=e.queryParams.primaryKey,n=e.previousResults,i=0;i<n.length;i++)if(n[i][r]===e.changeEvent.id){n[i]=t,e.keyDocumentMap&&e.keyDocumentMap.set(e.changeEvent.id,t);break}},alwaysWrong:function(e){var t={_id:"wrongHuman"+(new Date).getTime()};e.previousResults.length=0,e.previousResults.push(t),e.keyDocumentMap&&(e.keyDocumentMap.clear(),e.keyDocumentMap.set(t._id,t))},insertAtSortPosition:Gr,removeExistingAndInsertAtSortPosition:function(e){pt(e),Gr(e)},runFullQueryAgain:function(e){throw new Error("Action runFullQueryAgain must be implemented by yourself")},unknownAction:function(e){throw new Error("Action unknownAction should never be called")}};function Ds(e){return e?"1":"0"}function Ju(e,t){for(var r=[],n=0,i=e.length;n<i;n+=t)r.push(e.substring(n,n+t));return r}function Wa(e){return e.charCodeAt(0)-40}!function(e){void 0===e&&(e=6);for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=r.length,i=0;i<e;i++)r.charAt(Math.floor(Math.random()*n))}(4);var Os="UNKNOWN";function Ka(e){return e[e.length-1]}var Ga,$a=function(e){return!!e.queryParams.limit},$l={0:function(e){return"INSERT"===e.changeEvent.operation},1:function(e){return"UPDATE"===e.changeEvent.operation},2:function(e){return"DELETE"===e.changeEvent.operation},3:$a,4:function(e){return 1===e.queryParams.limit},5:function(e){return!!(e.queryParams.skip&&e.queryParams.skip>0)},6:function(e){return 0===e.previousResults.length},7:function(e){return e.changeEvent.previous===Os},8:function(e){return $a(e)&&e.previousResults.length>=e.queryParams.limit},9:function(e){var t=e.previousResults[0];return!(!t||t[e.queryParams.primaryKey]!==e.changeEvent.id)},10:function(e){var t=Ka(e.previousResults);return!(!t||t[e.queryParams.primaryKey]!==e.changeEvent.id)},11:function(e){var t=e.queryParams.sortFields,r=e.changeEvent.previous,n=e.changeEvent.doc;if(!n)return!1;if(!r||r===Os)return!0;for(var i=0;i<t.length;i++){var f=t[i];if(cr().get(r,f)!==cr().get(n,f))return!0}return!1},12:function(e){var t=e.changeEvent.id;if(e.keyDocumentMap)return e.keyDocumentMap.has(t);for(var n=e.queryParams.primaryKey,i=e.previousResults,f=0;f<i.length;f++)if(i[f][n]===t)return!0;return!1},13:function(e){var t=e.changeEvent.previous;if(!t||t===Os)return!1;var r=e.previousResults[0];return!!r&&(r[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,r)<0)},14:function(e){var t=e.changeEvent.previous;if(!t||t===Os)return!1;var r=Ka(e.previousResults);return!!r&&(r[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,r)>0)},15:function(e){var t=e.changeEvent.doc;if(!t)return!1;var r=e.previousResults[0];return!!r&&(r[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,r)<0)},16:function(e){var t=e.changeEvent.doc;if(!t)return!1;var r=Ka(e.previousResults);return!!r&&(r[e.queryParams.primaryKey]===e.changeEvent.id||e.queryParams.sortComparator(t,r)>0)},17:function(e){var t=e.changeEvent.previous;return!(!t||t===Os)&&e.queryParams.queryMatcher(t)},18:function(e){var t=e.changeEvent.doc;return!!t&&e.queryParams.queryMatcher(t)}};var Zl=function(e){return function(e,t,r){for(var n=e,i=e.l;;){if("number"==typeof(n=n[Ds(t[i](r))])||"string"==typeof n)return n;i=n.l}}((Ga||(Ga=function(e){for(var t=new Map,n=2+2*parseInt(e.charAt(0)+e.charAt(1),10),f=Ju(e.substring(2,n),2),d=0;d<f.length;d++){var j=(S=f[d]).charAt(0),W=Wa(S.charAt(1));t.set(j,W)}var ne=Ju(e.substring(n,e.length-3),4);for(d=0;d<ne.length;d++){j=(S=ne[d]).charAt(0);var S,fe=S.charAt(1),Se=S.charAt(2),he=Wa(S.charAt(3));if(!t.has(fe))throw new Error("missing node with id "+fe);if(!t.has(Se))throw new Error("missing node with id "+Se);var ee=t.get(fe),le=t.get(Se);t.set(j,{l:he,0:ee,1:le})}var Oe=e.slice(-3),be=Oe.charAt(0),ke=Oe.charAt(1);return{l:Wa(Oe.charAt(2)),0:t.get(be),1:t.get(ke)}}("14a2b0c/d1e,f+g5h.i4j*k-l)m(n6ohk1pdf1qef1rin-sjn-ton-ugn-vmn-whn-xkn-yln-zdf5{ef5|wx5}df7~dz7\x7fef7\xa1bk7\xa2e{7\xa3g|7\xa4ry7\xa5dp7\xa6gk7\xa7eq7\xa8gt7\xa9ac7\xaamv7\xabgu7\xacnm7\xadiy7\xaenw7\xaf\xa4s8\xb0\xab\xa68\xb1\xack8\xb2\xaam8\xb3\xaev8\xb4\xabn8\xb5\xacn8\xb6vm8\xb7xv8\xb8mn8\xb9\xadj8\xba\xaem8\xbbxm8\xbc\xad\xb93\xbd}~3\xbe\xa9\xb03\xbf\x7f\xa23\xc0\xa1\xa33\xc1m\xb13\xc2\xae\xba3\xc3m\xba3\xc4\xa9\xb43\xc5b\xae3\xc6m\xb53\xc7m\xbb3\xc8x\xbb3\xc9kn3\xcam\xb83\xcb\xbcj6\xcc\xc2m6\xcd\xc6\xc36\xce\xc8m6\xcfnm6\xd0\xca\xc76\xd1\xcc\xce,\xd2\xcd\xd0,\xd3\xc5\xc9,\xd4\xb2\xb6,\xd5\xb3\xb7,\xd6\xaen,\xd7\xba\xbb,\xd8mf9\xd9\xcb\xc19\xdaym9\xdbm\xcf9\xdc\xd1\xd29\xddz{2\xdepq2\xdf\xbd\xbf2\xe0\xbe\xc02\xe1\xa5\xa72\xe2\xb0\xa82\xe3\xc4\xd32\xe4\xb4\xd62\xe5\xddn0\xe6\xden0\xe7\xd8\xdb0\xe8\xd9\xdc0\xe9\xdfn0\xea\xe0\xe30\xeb\xb2\xd40\xec\xaf\xd50\xed\xe1n0\xee\xe2\xe40\xef\xb9\xd70\xf0\xe7v/\xf1\xe5\xe6/\xf2\xe7\xeb/\xf3\xe8\xec/\xf4\xe9\xed/\xf5\xea\xee/\xf6\xday/\xf7\xf2m(\xf8\xf3\xef(\xf9\xf6y(\xfa\xf7\xf8:\xfb\xf4\xf5:\xfcm\xf9:\xfd\xf0\xf14\xfe\xfa\xfb4\xff\xfe\xfd*\u0100\xfcm*\xff\u0100.")),Ga),$l,e)};function Jl(e,t){return t.sort&&0!==t.sort.length?t.sort.map(function(r){return Object.keys(r)[0]}):[e]}var Qa=new WeakMap;function ql(e,t){if(!e.collection.database.eventReduce)return{runFullQueryAgain:!0};var r=function(e){if(Qa.has(e))return Qa.get(e);var t=e.collection,r=e.getPreparedQuery(),n=t.schema.primaryPath,i=t.storageInstance.getSortComparator(r),d=t.storageInstance.getQueryMatcher(r),j={primaryKey:e.collection.schema.primaryPath,skip:r.skip,limit:r.limit,sortFields:Jl(n,e.mangoQuery),sortComparator:function(X,ne){var fe={docA:X,docB:ne,rxQuery:e};return Yt("preSortComparator",fe),i(fe.docA,fe.docB)},queryMatcher:function(X){var ne={doc:X,rxQuery:e};return Yt("preQueryMatcher",ne),d(ne.doc)}};return Qa.set(e,j),j}(e),n=e._resultsData.slice(),i=e._resultsDataMap,f=!1,d=t.find(function(S){var j=function(e){switch(e.operation){case"INSERT":return{operation:e.operation,id:e.documentId,doc:e.documentData,previous:null};case"UPDATE":return{operation:e.operation,id:e.documentId,doc:nr.deepFreezeWhenDevMode(e.documentData),previous:e.previousDocumentData?e.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:e.operation,id:e.documentId,doc:null,previous:e.previousDocumentData}}}(S),X=function(e){var t=Zl(e);return ba[t]}({queryParams:r,changeEvent:j,previousResults:n,keyDocumentMap:i});return"runFullQueryAgain"===X||("doNothing"!==X?(f=!0,function(e,t,r,n,i){(0,Ua[e])({queryParams:t,changeEvent:r,previousResults:n,keyDocumentMap:i})}(X,r,j,n,i),!1):void 0)});return d?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:f,newResults:n}}var ef=function(){function e(){this._map=new Map}return e.prototype.getByQuery=function(n){var i=n.toString();return this._map.has(i)||this._map.set(i,n),this._map.get(i)},e}();function tf(){return new ef}function _c(e,t){t.uncached=!0;var r=t.toString();e._map.delete(r)}function rf(e){return e.refCount$.observers.length}var bc=(100,3e4,function(n,i){if(!(i._map.size<100)){for(var f=Kr()-3e4,d=[],j=0,W=Array.from(i._map.values());j<W.length;j++){var X=W[j];if(!(rf(X)>0)){if(0===X._lastEnsureEqual&&X._creationTime<f){_c(i,X);continue}d.push(X)}}var ne=d.length-100;ne<=0||d.sort(function(he,ee){return he._lastEnsureEqual-ee._lastEnsureEqual}).slice(0,ne).forEach(function(he){return _c(i,he)})}}),Za=new WeakSet;var cf=0,wa=function(){function e(r,n,i){this.id=++cf,this._execOverDatabaseCount=0,this._creationTime=Kr(),this._lastEnsureEqual=0,this.other={},this.uncached=!1,this.refCount$=new Hn.X(null),this._latestChangeEvent=-1,this._resultsData=null,this._resultsDataMap=new Map,this._lastExecStart=0,this._lastExecEnd=0,this._resultsDocs$=new Hn.X(null),this._ensureEqualQueue=qr,this.op=r,this.mangoQuery=n,this.collection=i,n||(n={selector:{}})}var t=e.prototype;return t._setResultData=function(n){var i=this,f=function(e,t){return t.map(function(r){return ln(e,r)})}(this.collection,n),d=this.collection.schema.primaryPath;return this._resultsDataMap=new Map,this._resultsData=f.map(function(S){var j=S._dataSync$.getValue();return i._resultsDataMap.set(j[d],j),j}),this._resultsDocs$.next(f),f},t._execOverDatabase=function(){var i,n=this;switch(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=Kr(),this.op){case"find":i=this.collection._queryStorageInstance(this);break;case"findOne":i=this.collection._queryStorageInstance(this,1);break;default:throw Ve("QU1",{collection:this.collection.name,op:this.op})}return i.then(function(f){return n._lastExecEnd=Kr(),f})},t.exec=function(n){var i=this;if(n&&"findOne"!==this.op)throw Ve("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Xa(this).then(function(){return(0,oe.z)(i.$)}).then(function(f){if(!f&&n)throw Ve("QU10",{collection:i.collection.name,query:i.mangoQuery,op:i.op});return f})},t.toString=function(){var n=Ti({op:this.op,query:this.mangoQuery,other:this.other},!0),i=JSON.stringify(n,la);return this.toString=function(){return i},i},t.getPreparedQuery=function(){var n={rxQuery:this,mangoQuery:Or(this.mangoQuery)};Yt("prePrepareQuery",n);var i=this.collection.storageInstance.prepareQuery(n.mangoQuery);return this.getPreparedQuery=function(){return i},i},t.doesDocumentDataMatch=function(n){return!n._deleted&&this.queryMatcher(In(this.collection,n))},t.remove=function(){var n;return this.exec().then(function(i){return n=i,Array.isArray(i)?Promise.all(i.map(function(f){return f.remove()})):i.remove()}).then(function(){return n})},t.update=function(n){throw kt("update")},t.where=function(n){throw kt("query-builder")},t.sort=function(n){throw kt("query-builder")},t.skip=function(n){throw kt("query-builder")},t.limit=function(n){throw kt("query-builder")},En(e,[{key:"$",get:function(){var n=this;if(!this._$){var i=this._resultsDocs$.pipe((0,Te.z)(function(d){return Xa(n).then(function(S){return!S&&d})}),(0,ze.h)(function(d){return!!d}),(0,Lt.U)(function(d){return d.slice(0)}),(0,Lt.U)(function(d){return"findOne"===n.op?0===d.length?null:d[0]:d}),gt({bufferSize:1,refCount:!0})).asObservable(),f=this.collection.$.pipe((0,bt.b)(function(){return Xa(n)}),(0,ze.h)(function(){return!1}));this._$=(0,ye.T)(i,f,this.refCount$.pipe((0,ze.h)(function(){return!1})))}return this._$}},{key:"queryMatcher",get:function(){return xr(this,"queryMatcher",this.collection.storageInstance.getQueryMatcher(this.getPreparedQuery()))}},{key:"asRxQuery",get:function(){return this}}]),e}();function Ec(e){return e.collection._queryCache.getByQuery(e)}function Ja(e,t,r){if(t&&"object"!=typeof t)throw Rt("QU7",{queryObj:t});if(Array.isArray(t))throw Rt("QU8",{queryObj:t});Yt("preCreateRxQuery",{op:e,queryObj:t,collection:r});var n=new wa(e,t,r);return Yt("createRxQuery",n=Ec(n)),function(e){Za.has(e)||(Za.add(e),zn().then(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return"object"==typeof window&&window.requestIdleCallback?new Promise(function(t){return window.requestIdleCallback(t,{timeout:e})}):Na(0)}(200)}).then(function(){e.destroyed||e.cacheReplacementPolicy(e,e._queryCache),Za.delete(e)}))}(r),n}function wc(e){return e._latestChangeEvent>=e.asRxQuery.collection._changeEventBuffer.counter}function Xa(e){return e.collection.database.destroyed||wc(e)?qr:(e._ensureEqualQueue=e._ensureEqualQueue.then(function(){return function(e){if(e._lastEnsureEqual=Kr(),e.collection.database.destroyed||wc(e))return qr;var t=!1,r=!1;if(-1===e._latestChangeEvent&&(r=!0),!r){var n=e.asRxQuery.collection._changeEventBuffer.getFrom(e._latestChangeEvent+1);if(null===n)r=!0;else{e._latestChangeEvent=e.asRxQuery.collection._changeEventBuffer.counter,n=n.filter(function(S){return!S.startTime||e._lastExecStart<S.startTime&&(!S.endTime||e._lastExecEnd<S.endTime)});var i=e.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(n),f=ql(e,i);f.runFullQueryAgain?r=!0:f.changed&&(t=!0,e._setResultData(f.newResults))}}if(r){var d=e.collection._changeEventBuffer.counter;return e._execOverDatabase().then(function(S){return e._latestChangeEvent=d,ti()(S,e._resultsData)||(t=!0,e._setResultData(S)),t})}return t}(e)}),e._ensureEqualQueue)}var df=c(8675),hf=function(){function e(){this._map=new Map,this._map=new Map}var t=e.prototype;return t.get=function(n){return this._map.get(n)},t.set=function(n,i){return this._map.set(n,i)},t.delete=function(n){return this._map.delete(n)},e}();function pf(){return new hf}var mf=function(){function e(r){var n=this;this.subs=[],this.limit=100,this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.collection=r,this.subs.push(this.collection.$.pipe((0,ze.h)(function(i){return!i.isLocal})).subscribe(function(i){return n._handleChangeEvent(i)}))}var t=e.prototype;return t._handleChangeEvent=function(n){for(this.counter++,this.buffer.push(n),this.eventCounterMap.set(n,this.counter);this.buffer.length>this.limit;)this.buffer.shift()},t.getArrayIndexByPointer=function(n){var f=this.eventCounterMap.get(this.buffer[0]);return n<f?null:n-f},t.getFrom=function(n){var i=[],f=this.getArrayIndexByPointer(n);if(null===f)return null;for(;;){var d=this.buffer[f];if(f++,!d)return i;i.push(d)}},t.runFrom=function(n,i){var f=this.getFrom(n);if(null===f)throw new Error("out of bounds");f.forEach(function(d){return i(d)})},t.reduceByLastOfDoc=function(n){return n.slice(0)},t.hasChangeWithRevision=function(n){for(var i=this.buffer.length;i>0;){i--;var f=this.buffer[i];if(f.documentData&&f.documentData._rev===n)return!0}return!1},t.destroy=function(){this.subs.forEach(function(n){return n.unsubscribe()})},e}();function vf(e){return new mf(e)}var Sc=["pre","post"],Ac=["insert","save","remove","create"],Cc=!1,Sa=function(){function e(r,n,i,f,d){var S=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},j=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},W=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},X=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},ne=arguments.length>9&&void 0!==arguments[9]?arguments[9]:{},fe=arguments.length>10&&void 0!==arguments[10]?arguments[10]:bc,Se=arguments.length>11&&void 0!==arguments[11]?arguments[11]:{};this._isInMemory=!1,this.destroyed=!1,this._atomicUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._repStates=new Set,this._docCache=pf(),this._queryCache=tf(),this._crypter={},this._observable$={},this._changeEventBuffer={},this.database=r,this.name=n,this.schema=i,this.storageInstance=f,this.localDocumentsStore=d,this.instanceCreationOptions=S,this.migrationStrategies=j,this.methods=W,this.attachments=X,this.options=ne,this.cacheReplacementPolicy=fe,this.statics=Se,gf(this.asRxCollection)}var t=e.prototype;return t.prepare=function(){var r=(0,nt.Z)(je().mark(function i(f){var S,j,d=this;return je().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:this._crypter=re(this.database.password,this.schema),this._observable$=this.database.$.pipe((0,ze.h)(function(ne){return ne.collectionName===d.name})),this._changeEventBuffer=vf(this.asRxCollection),S=this.storageInstance.changeStream().pipe((0,Lt.U)(function(ne){return ci(!1,ne,d.database,d)})).subscribe(function(ne){d.$emit(ne)}),this._subs.push(S),j=this.localDocumentsStore.changeStream().pipe((0,Lt.U)(function(ne){return ci(!0,ne,d.database,d)})).subscribe(function(ne){return d.$emit(ne)}),this._subs.push(j),this._subs.push(this._observable$.pipe((0,ze.h)(function(ne){return!ne.isLocal})).subscribe(function(ne){var fe=d._docCache.get(ne.documentId);fe&&fe._handleChangeEvent(ne)}));case 8:case"end":return X.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.migrationNeeded=function(){throw kt("migration")},t.getDataMigrator=function(){throw kt("migration")},t.migrate=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getDataMigrator().migrate(n)},t.migratePromise=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this.getDataMigrator().migratePromise(n)},t._queryStorageInstance=function(){var r=(0,nt.Z)(je().mark(function i(f,d){var j,W,ne,S=this,fe=arguments;return je().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return j=fe.length>2&&void 0!==fe[2]&&fe[2],W=f.getPreparedQuery(),d&&(W.limit=d),he.next=5,this.database.lockedRun(function(){return S.storageInstance.query(W)});case 5:return ne=he.sent.documents.map(function(ee){return Ui(S,ee,j)}),he.abrupt("return",ne);case 8:case"end":return he.stop()}},i,this)}));return function(i,f){return r.apply(this,arguments)}}(),t.$emit=function(n){return this.database.$emit(n)},t.insert=function(){var r=(0,nt.Z)(je().mark(function i(f){var d,S,j,W;return je().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(d=null,!C(f)){ne.next=6;break}if((d=f)._isTemporary){ne.next=5;break}throw Ve("COL1",{data:f});case 5:f=d.toJSON();case 6:return S=Qn(this,f),j=d,ne.next=10,this._runHooks("pre","insert",S);case 10:return this.schema.validate(S),ne.next=13,bs(this,{document:S});case 13:return W=ne.sent,d?d._dataSync$.next(W):j=ln(this,W),ne.next=17,this._runHooks("post","insert",S,j);case 17:return ne.abrupt("return",j);case 18:case"end":return ne.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.bulkInsert=function(){var r=(0,nt.Z)(je().mark(function i(f){var S,j,W,X,ne,fe,Se,d=this;return je().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(0!==f.length){ee.next=2;break}return ee.abrupt("return",{success:[],error:[]});case 2:return S=f.map(function(le){return Qn(d,le)}),ee.next=5,Promise.all(S.map(function(le){return d._runHooks("pre","insert",le).then(function(){return d.schema.validate(le),le})}));case 5:return W=(j=ee.sent).map(function(le){return{document:In(d,le)}}),X=new Map,j.forEach(function(le){X.set(le[d.schema.primaryPath],le)}),ee.next=11,this.database.lockedRun(function(){return d.storageInstance.bulkWrite(W)});case 11:return ne=ee.sent,fe=Array.from(ne.success.entries()),Se=fe.map(function(le){var Oe=le[1],be=ii(X,le[0]);return be._rev=Oe._rev,ln(d,be)}),ee.next=16,Promise.all(Se.map(function(le){return d._runHooks("post","insert",X.get(le.primary),le)}));case 16:return ee.abrupt("return",{success:Se,error:Array.from(ne.error.values())});case 17:case"end":return ee.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.bulkRemove=function(){var r=(0,nt.Z)(je().mark(function i(f){var S,j,W,X,ne,fe,Se,d=this;return je().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(0!==f.length){ee.next=2;break}return ee.abrupt("return",{success:[],error:[]});case 2:return ee.next=4,this.findByIds(f);case 4:return S=ee.sent,j=[],W=new Map,Array.from(S.values()).forEach(function(le){var we=Or(le.toJSON(!0));j.push(we),W.set(le.primary,we)}),ee.next=10,Promise.all(j.map(function(le){return d._runHooks("pre","remove",le,S.get(le[d.schema.primaryPath]))}));case 10:return X=j.map(function(le){var we=jt(le);return we._deleted=!0,{previous:In(d,le),document:In(d,we)}}),ee.next=13,this.database.lockedRun(function(){return d.storageInstance.bulkWrite(X)});case 13:return ne=ee.sent,fe=Array.from(ne.success.keys()),ee.next=17,Promise.all(fe.map(function(le){return d._runHooks("post","remove",W.get(le),S.get(le))}));case 17:return Se=fe.map(function(le){return S.get(le)}),ee.abrupt("return",{success:Se,error:Array.from(ne.error.values())});case 19:case"end":return ee.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.upsert=function(n){var i=this,f=Qn(this,n),d=f[this.schema.primaryPath];if(!d)throw Ve("COL3",{primaryPath:this.schema.primaryPath,data:f,schema:this.schema.jsonSchema});return this.findOne(d).exec().then(function(S){return S&&!S.deleted?(f._rev=S._rev,S.atomicUpdate(function(){return f}).then(function(){return S})):i.insert(n)})},t.atomicUpsert=function(n){var S,i=this,f=Qn(this,n),d=f[this.schema.primaryPath];if(!d)throw Ve("COL4",{data:n});return S=(S=this._atomicUpsertQueues.has(d)?this._atomicUpsertQueues.get(d):wn).then(function(){return function(e,t,r){var n=e._docCache.get(t);return n?Promise.resolve({doc:n,inserted:!1}):e.findOne(t).exec().then(function(i){return i?{doc:i,inserted:!1}:e.insert(r).then(function(f){return{doc:f,inserted:!0}})})}(i,d,f)}).then(function(j){return j.inserted?j.doc:function(e,t){return e.atomicUpdate(function(r){return t._rev=r._rev,r._data=t,r._data}).then(function(){return e})}(j.doc,f).then(function(){return zn()}).then(function(){return zn()}).then(function(){return zn()}).then(function(){return j.doc})}),this._atomicUpsertQueues.set(d,S),S},t.find=function(n){if("string"==typeof n)throw Ve("COL5",{queryObj:n});return n||(n={selector:{}}),Ja("find",n,this)},t.findOne=function(n){var i;if("string"==typeof n){var f;i=Ja("findOne",{selector:(f={},f[this.schema.primaryPath]=n,f)},this)}else{if(n||(n={selector:{}}),n.limit)throw Ve("QU6");i=Ja("findOne",n,this)}if("number"==typeof n||Array.isArray(n))throw Rt("COL6",{queryObj:n});return i},t.findByIds=function(){var r=(0,nt.Z)(je().mark(function i(f){var S,j,d=this;return je().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:if(S=new Map,j=[],f.forEach(function(fe){var Se=d._docCache.get(fe);Se?S.set(fe,Se):j.push(fe)}),!(j.length>0)){ne.next=8;break}return ne.next=6,this.storageInstance.findDocumentsById(j,!1);case 6:Array.from(ne.sent.values()).forEach(function(fe){fe=Ui(d,fe);var Se=ln(d,fe);S.set(Se.primary,Se)});case 8:return ne.abrupt("return",S);case 9:case"end":return ne.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.findByIds$=function(n){var i=this,f=null,d=-1,S=this.findByIds(n).then(function(j){d=i._changeEventBuffer.counter,f=j});return this.$.pipe((0,df.O)(null),(0,Te.z)(function(j){return S.then(function(){return j})}),(0,Te.z)(function(){var j=(0,nt.Z)(je().mark(function W(X){var ne,fe;return je().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(ne=ca(f),null!==(fe=i._changeEventBuffer.getFrom(d+1))){ee.next=10;break}return ee.next=5,i.findByIds(n);case 5:d=i._changeEventBuffer.counter,Array.from(ee.sent.entries()).forEach(function(le){return ne.set(le[0],le[1])}),ee.next=11;break;case 10:fe.filter(function(le){return n.includes(le.documentId)}).forEach(function(le){var we=le.operation;"INSERT"===we||"UPDATE"===we?ne.set(le.documentId,i._docCache.get(le.documentId)):ne.delete(le.documentId)});case 11:return ee.abrupt("return",ne);case 12:case"end":return ee.stop()}},W)}));return function(W){return j.apply(this,arguments)}}()),(0,ze.h)(function(j){return!!j}),gt({bufferSize:1,refCount:!0}))},t.exportJSON=function(){throw kt("json-dump")},t.importJSON=function(n){throw kt("json-dump")},t.syncCouchDB=function(n){throw kt("replication")},t.syncGraphQL=function(n){throw kt("replication-graphql")},t.inMemory=function(){throw kt("in-memory")},t.addHook=function(n,i,f){var d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"!=typeof f)throw Rt("COL7",{key:i,when:n});if(!Sc.includes(n))throw Rt("COL8",{key:i,when:n});if(!Ac.includes(i))throw Ve("COL9",{key:i});if("post"===n&&"create"===i&&!0===d)throw Ve("COL10",{when:n,key:i,parallel:d});var S=f.bind(this),j=d?"parallel":"series";this.hooks[i]=this.hooks[i]||{},this.hooks[i][n]=this.hooks[i][n]||{series:[],parallel:[]},this.hooks[i][n][j].push(S)},t.getHooks=function(n,i){try{return this.hooks[i][n]}catch{return{series:[],parallel:[]}}},t._runHooks=function(n,i,f,d){var S=this.getHooks(n,i);return S?function(e,t){return e.reduce(function(r,n){return r.then(n)},Promise.resolve(void 0))}(S.series.map(function(W){return function(){return W(f,d)}})).then(function(){return Promise.all(S.parallel.map(function(W){return W(f,d)}))}):wn},t._runHooksSync=function(n,i,f,d){var S=this.getHooks(n,i);!S||S.series.forEach(function(j){return j(f,d)})},t.newDocument=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n=this.schema.fillObjectWithDefaults(n);var i=K(sr(this),this,n);return i._isTemporary=!0,this._runHooksSync("post","create",n,i),i},t.destroy=function(){var n=this;return this.destroyed?qr:(this._onDestroyCall&&this._onDestroyCall(),this._subs.forEach(function(i){return i.unsubscribe()}),this._changeEventBuffer&&this._changeEventBuffer.destroy(),Array.from(this._repStates).forEach(function(i){return i.cancel()}),Promise.all([this.storageInstance.close(),this.localDocumentsStore.close()]).then(function(){return delete n.database.collections[n.name],n.destroyed=!0,ki("postDestroyRxCollection",n).then(function(){return!0})}))},t.remove=function(){return this.database.removeCollection(this.name)},En(e,[{key:"$",get:function(){return this._observable$}},{key:"insert$",get:function(){return this.$.pipe((0,ze.h)(function(n){return"INSERT"===n.operation}))}},{key:"update$",get:function(){return this.$.pipe((0,ze.h)(function(n){return"UPDATE"===n.operation}))}},{key:"remove$",get:function(){return this.$.pipe((0,ze.h)(function(n){return"DELETE"===n.operation}))}},{key:"onDestroy",get:function(){var n=this;return this._onDestroy||(this._onDestroy=new Promise(function(i){return n._onDestroyCall=i})),this._onDestroy}},{key:"asRxCollection",get:function(){return this}}]),e}();function gf(e){if(!Cc){Cc=!0;var t=Object.getPrototypeOf(e);Ac.forEach(function(r){Sc.map(function(n){var i=n+lo(r);t[i]=function(f,d){return this.addHook(n,r,f,d)}})})}}function bf(e,t){var r=e.database,n=e.name,i=e.schema,f=e.instanceCreationOptions,d=void 0===f?{}:f,S=e.migrationStrategies,j=void 0===S?{}:S,W=e.autoMigrate,X=void 0===W||W,ne=e.statics,fe=void 0===ne?{}:ne,Se=e.methods,he=void 0===Se?{}:Se,ee=e.attachments,le=void 0===ee?{}:ee,we=e.options,Oe=void 0===we?{}:we,be=e.cacheReplacementPolicy,ke=void 0===be?bc:be;nr.isDevMode()&&Object.keys(he).filter(function(He){return i.topLevelFields.includes(He)}).forEach(function(He){throw Ve("COL18",{funName:He})});var Me={databaseName:r.name,collectionName:n,schema:i.jsonSchema,options:d,idleQueue:r.idleQueue};return Yt("preCreateRxStorageInstance",Me),zi(n,r,Me,d).then(function(He){var We=new Sa(r,n,i,He.storageInstance,He.localDocumentsStore,d,j,he,le,Oe,ke,fe);return We.prepare(t).then(function(){Object.entries(fe).forEach(function(yt){var At=yt[1];Object.defineProperty(We,yt[0],{get:function(){return At.bind(We)}})});var Ke=wn;return X&&0!==We.schema.version&&(Ke=We.migratePromise()),Ke}).then(function(){return Yt("createRxCollection",We),We}).catch(function(Ke){return Promise.all([He.storageInstance.close(),He.localDocumentsStore.close()]).then(function(){return Promise.reject(Ke)})})})}var qa=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this._parallels=t||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function eu(e,t){if(t){if(t._timeoutObj&&clearTimeout(t._timeoutObj),e._pHM.has(t)){var r=e._pHM.get(t);e._hPM.delete(r),e._pHM.delete(t)}e._iC.delete(t)}}function tu(e){e._tryIR||0===e._iC.size||(e._tryIR=!0,setTimeout(function(){e.isIdle()?setTimeout(function(){e.isIdle()?(function(e){0!==e._iC.size&&(e._iC.values().next().value._manRes(),setTimeout(function(){return tu(e)},0))}(e),e._tryIR=!1):e._tryIR=!1},0):e._tryIR=!1},0))}qa.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,tu(this)},wrapCall:function(t){var n,r=this;this.lock();try{n=t()}catch(i){throw this.unlock(),i}return n.then&&"function"==typeof n.then?n.then(function(i){return r.unlock(),i}).catch(function(i){throw r.unlock(),i}):(this.unlock(),n)},requestIdlePromise:function(t){var r=this;t=t||{};var n,i=new Promise(function(S){return n=S});if(i._manRes=function(){eu(r,i),n()},t.timeout){var d=setTimeout(function(){i._manRes()},t.timeout);i._timeoutObj=d}return this._iC.add(i),tu(this),i},cancelIdlePromise:function(t){eu(this,t)},requestIdleCallback:function(t,r){var n=this._lHN++,i=this.requestIdlePromise(r);return this._hPM.set(n,i),this._pHM.set(i,n),i.then(function(){return t()}),n},cancelIdleCallback:function(t){var r=this._hPM.get(t);this.cancelIdlePromise(r)},clear:function(){var t=this;this._iC.forEach(function(r){return eu(t,r)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}},Promise.resolve(!1);var Ki=Promise.resolve();function Dc(e){return e||(e=0),new Promise(function(t){return setTimeout(t,e)})}function ru(){return Math.random().toString(36).substring(2)}var Oc=0,nu=0;function Aa(){var e=(new Date).getTime();return e===Oc?1e3*e+ ++nu:(Oc=e,nu=0,1e3*e)}var Ca="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);const Mf={create:function(e){var t={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(r){t.messagesCallback&&t.messagesCallback(r.data)},t},close:function(e){e.bc.close(),e.subFns=[]},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){try{return e.bc.postMessage(t,!1),Ki}catch(r){return Promise.reject(r)}},canBeUsed:function(){if(Ca&&"undefined"==typeof window)return!1;if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function(){return 150},microSeconds:Aa};var iu=function(){function e(t){this.ttl=t,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(t){return this.set.has(t)},e.prototype.add=function(t){var r=this;this.timeMap.set(t,Pc()),this.set.add(t),setTimeout(function(){!function(e){for(var t=Pc()-e.ttl,r=e.set[Symbol.iterator]();;){var n=r.next().value;if(!n)return;if(!(e.timeMap.get(n)<t))return;e.timeMap.delete(n),e.set.delete(n)}}(r)},0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}();function Pc(){return(new Date).getTime()}function su(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return void 0===t.webWorkerSupport&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),void 0===t.node.useFastPath&&(t.node.useFastPath=!0),t}var pn="messages";function Ic(){if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB;if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB;if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function Tc(e){e.closed||Rc(e).then(function(){return Dc(e.options.idb.fallbackInterval)}).then(function(){return Tc(e)})}function Rc(e){return e.closed||!e.messagesCallback?Ki:function(e,t){var r=e.transaction(pn).objectStore(pn),n=[];return new Promise(function(f){(function(){try{var f=IDBKeyRange.bound(t+1,1/0);return r.openCursor(f)}catch{return r.openCursor()}}()).onsuccess=function(d){var S=d.target.result;S?S.value.id<t+1?S.continue(t+1):(n.push(S.value),S.continue()):f(n)}})}(e.db,e.lastCursorId).then(function(t){var r=t.filter(function(n){return!!n}).map(function(n){return n.id>e.lastCursorId&&(e.lastCursorId=n.id),n}).filter(function(n){return function(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}(n,e)}).sort(function(n,i){return n.time-i.time});return r.forEach(function(n){e.messagesCallback&&(e.eMIs.add(n.id),e.messagesCallback(n.data))}),Ki})}const Yf={create:function(e,t){return t=su(t),function(e){var n=Ic().open("pubkey.broadcast-channel-0-"+e,1);return n.onupgradeneeded=function(f){f.target.result.createObjectStore(pn,{keyPath:"id",autoIncrement:!0})},new Promise(function(f,d){n.onerror=function(S){return d(S)},n.onsuccess=function(){f(n.result)}})}(e).then(function(r){var n={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:ru(),eMIs:new iu(2*t.idb.ttl),writeBlockPromise:Ki,messagesCallback:null,readQueuePromises:[],db:r};return r.onclose=function(){n.closed=!0,t.idb.onclose&&t.idb.onclose()},Tc(n),n})},close:function(e){e.closed=!0,e.db.close()},onMessage:function(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t,Rc(e)},postMessage:function(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return function(e,t,r){var i={uuid:t,time:(new Date).getTime(),data:r},f=e.transaction([pn],"readwrite");return new Promise(function(d,S){f.oncomplete=function(){return d()},f.onerror=function(W){return S(W)},f.objectStore(pn).add(i)})}(e.db,e.uuid,t)}).then(function(){0===Math.floor(11*Math.random()+0)&&function(e,t){(function(e,t){var r=(new Date).getTime()-t,n=e.transaction(pn).objectStore(pn),i=[];return new Promise(function(f){n.openCursor().onsuccess=function(d){var S=d.target.result;if(S){var j=S.value;if(!(j.time<r))return void f(i);i.push(j),S.continue()}else f(i)}})})(e,t).then(function(r){return Promise.all(r.map(function(n){return function(e,t){var r=e.transaction([pn],"readwrite").objectStore(pn).delete(t);return new Promise(function(n){r.onsuccess=function(){return n()}})}(e,n.id)}))})}(e.db,e.options.idb.ttl)}),e.writeBlockPromise},canBeUsed:function(){return!Ca&&!!Ic()},type:"idb",averageResponseTime:function(e){return 2*e.idb.fallbackInterval},microSeconds:Aa};function Mc(){var e;if("undefined"==typeof window)return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function xc(e){return"pubkey.broadcastChannel-"+e}function kc(){if(Ca)return!1;var e=Mc();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}const ad={create:function(e,t){if(t=su(t),!kc())throw new Error("BroadcastChannel: localstorage cannot be used");var r=ru(),n=new iu(t.localstorage.removeTimeout),i={channelName:e,uuid:r,eMIs:n};return i.listener=function(e,t){var r=xc(e),n=function(f){f.key===r&&t(JSON.parse(f.newValue))};return window.addEventListener("storage",n),n}(e,function(f){!i.messagesCallback||f.uuid!==r&&(!f.token||n.has(f.token)||f.data.time&&f.data.time<i.messagesCallbackTime||(n.add(f.token),i.messagesCallback(f.data)))}),i},close:function(e){!function(e){window.removeEventListener("storage",e)}(e.listener)},onMessage:function(e,t,r){e.messagesCallbackTime=r,e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(r){Dc().then(function(){var n=xc(e.channelName),i={token:ru(),time:(new Date).getTime(),data:t,uuid:e.uuid},f=JSON.stringify(i);Mc().setItem(n,f);var d=document.createEvent("Event");d.initEvent("storage",!0,!0),d.key=n,d.newValue=f,window.dispatchEvent(d),r()})})},canBeUsed:kc,type:"localstorage",averageResponseTime:function(){var t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?240:120},microSeconds:Aa};var ud=Aa,ou=new Set;const vd={create:function(e){var t={name:e,messagesCallback:null};return ou.add(t),t},close:function(e){ou.delete(e)},onMessage:function(e,t){e.messagesCallback=t},postMessage:function(e,t){return new Promise(function(r){return setTimeout(function(){Array.from(ou).filter(function(i){return i.name===e.name}).filter(function(i){return i!==e}).filter(function(i){return!!i.messagesCallback}).forEach(function(i){return i.messagesCallback(t)}),r()},5)})},canBeUsed:function(){return!0},type:"simulate",averageResponseTime:function(){return 5},microSeconds:ud};var Lc=[Mf,Yf,ad],au=function(t,r){this.name=t,this.options=su(r),this.method=function(e){var t=[].concat(e.methods,Lc).filter(Boolean);if(e.type){if("simulate"===e.type)return vd;var r=t.find(function(i){return i.type===e.type});if(r)return r;throw new Error("method-type "+e.type+" not found")}!e.webWorkerSupport&&!Ca&&(t=t.filter(function(i){return"idb"!==i.type}));var n=t.find(function(i){return i.canBeUsed()});if(n)return n;throw new Error("No useable method found in "+JSON.stringify(Lc.map(function(i){return i.type})))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,function(e){var t=e.method.create(e.name,e.options);!function(e){return!(!e||"function"!=typeof e.then)}(t)?e._state=t:(e._prepP=t,t.then(function(r){e._state=r}))}(this)};function Bc(e,t,r){var i={time:e.method.microSeconds(),type:t,data:r};return(e._prepP?e._prepP:Ki).then(function(){var d=e.method.postMessage(e._state,i);return e._uMP.add(d),d.catch().then(function(){return e._uMP.delete(d)}),d})}function Fc(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function Nc(e,t,r){e._addEL[t].push(r),function(e){if(!e._iL&&Fc(e)){var t=function(i){e._addEL[i.type].forEach(function(f){i.time>=f.time&&f.fn(i.data)})},r=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,r)}):(e._iL=!0,e.method.onMessage(e._state,t,r))}}(e)}function jc(e,t,r){e._addEL[t]=e._addEL[t].filter(function(n){return n!==r}),function(e){if(e._iL&&!Fc(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}(e)}au._pubkey=!0,au.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed");return Bc(this,"message",t)},postInternal:function(t){return Bc(this,"internal",t)},set onmessage(e){var r={time:this.method.microSeconds(),fn:e};jc(this,"message",this._onML),e&&"function"==typeof e?(this._onML=r,Nc(this,"message",r)):this._onML=null},addEventListener:function(t,r){Nc(this,t,{time:this.method.microSeconds(),fn:r})},removeEventListener:function(t,r){jc(this,t,this._addEL[t].find(function(i){return i.fn===r}))},close:function(){var t=this;if(!this.closed){this.closed=!0;var r=this._prepP?this._prepP:Ki;return this._onML=null,this._addEL.message=[],r.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(n){return n()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var cu=new Set,Da=function(){function e(r,n,i,f,d){var S=arguments.length>5&&void 0!==arguments[5]&&arguments[5],j=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},W=arguments.length>7?arguments[7]:void 0,X=arguments.length>8?arguments[8]:void 0,ne=arguments.length>9?arguments[9]:void 0,fe=arguments.length>10?arguments[10]:void 0;this.token=fo(10),this._subs=[],this.destroyed=!1,this.subject=new Qe.x,this.observable$=this.subject.asObservable(),this.broadcastChannel$=new Qe.x,this.name=r,this.storage=n,this.instanceCreationOptions=i,this.password=f,this.multiInstance=d,this.eventReduce=S,this.options=j,this.idleQueue=W,this.internalStore=X,this.localDocumentsStore=ne,this.broadcastChannel=fe,this.collections={}}var t=e.prototype;return t.dangerousRemoveCollectionInfo=function(){var r=(0,nt.Z)(je().mark(function i(){var d;return je().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,en(this.internalStore);case 2:return d=j.sent.map(function(W){var X=jt(W);return X._deleted=!0,{previous:W,document:X}}),j.next=6,this.internalStore.bulkWrite(d);case 6:case"end":return j.stop()}},i,this)}));return function(){return r.apply(this,arguments)}}(),t.$emit=function(n){this.subject.next(n),n.databaseToken===this.token&&function(e,t){if(e.destroyed)return qr;e.multiInstance&&!function(e){return!(!e.collectionName||"_"!==e.collectionName.charAt(0))}(t)&&e.broadcastChannel&&e.broadcastChannel.postMessage({cE:t,storageToken:e.storageToken}).then(function(){return!0})}(this,n)},t.removeCollectionDoc=function(){var r=(0,nt.Z)(je().mark(function i(f,d){var j,W,X,S=this;return je().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return j=Oa(f,d),fe.next=3,oi(this.internalStore,j);case 3:if(W=fe.sent){fe.next=6;break}throw Ve("SNH",{name:f,schema:d});case 6:return(X=jt(W))._deleted=!0,fe.next=10,this.lockedRun(function(){return S.internalStore.bulkWrite([{document:X,previous:W}])});case 10:case"end":return fe.stop()}},i,this)}));return function(i,f){return r.apply(this,arguments)}}(),t.addCollections=function(){var r=(0,nt.Z)(je().mark(function i(f){var j,W,ne,fe,d=this;return je().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,this.lockedRun(function(){return d.internalStore.findDocumentsById(Object.keys(f).map(function(ee){return Oa(ee,f[ee].schema)}),!1)});case 2:return j={},Array.from(he.sent.entries()).forEach(function(ee){j[ee[0]]=ee[1]}),W={},he.next=8,Promise.all(Object.entries(f).map(function(ee){var le=ee[0],we=ee[1],Oe=le,be=j[Oa(le,f[Oe].schema)],ke=jt(we);ke.name=Oe;var Me=m(we.schema);if(W[Oe]=Me.hash,ke.schema=Me,ke.database=d,Me.crypt&&!d.password)throw Ve("DB7",{name:le});if(d.collections[le])throw Ve("DB3",{name:le});if(be&&be.schemaHash!==W[Oe])throw Ve("DB6",{name:le,previousSchemaHash:be.schemaHash,schemaHash:W[Oe]});var He=jt(we);return He.database=d,He.name=le,Yt("preCreateRxCollection",He),bf(ke,!!be)}));case 8:if(ne=[],fe={},he.sent.forEach(function(ee){var le=ee.name;fe[le]=ee;var we=Oa(le,f[le].schema);j[we]||ne.push({document:{collectionName:we,schemaHash:W[le],schema:ee.schema.normalized,version:ee.schema.version,_attachments:{}}}),d.collections[le]=ee,d[le]||Object.defineProperty(d,le,{get:function(){return d.collections[le]}})}),!(ne.length>0)){he.next=15;break}return he.next=15,this.lockedRun(function(){return d.internalStore.bulkWrite(ne)});case 15:return he.abrupt("return",fe);case 16:case"end":return he.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.removeCollection=function(n){var i=this,f=wn;return this.collections[n]&&(f=this.collections[n].destroy()),f.then(function(){return function(e,t){return du.apply(this,arguments)}(i,n)}).then(function(d){return Promise.all(d.map(function(S){return zi(n,i,{databaseName:i.name,collectionName:n,idleQueue:i.idleQueue,schema:Vi(S,"collectionName"),options:i.instanceCreationOptions},{})}))}).then(function(d){return Promise.all(d.map(function(S){return i.lockedRun(function(){return Promise.all([S.storageInstance.remove(),S.localDocumentsStore.remove()])})}))}).then(function(){})},t.lockedRun=function(n){return this.idleQueue.wrapCall(n)},t.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},t.exportJSON=function(){throw kt("json-dump")},t.importJSON=function(n){throw kt("json-dump")},t.server=function(n){throw kt("server")},t.backup=function(n){throw kt("backup")},t.leaderElector=function(){throw kt("leader-election")},t.isLeader=function(){throw kt("leader-election")},t.waitForLeadership=function(){throw kt("leader-election")},t.migrationStates=function(){throw kt("migration")},t.destroy=function(){var n=this;return this.destroyed||(Yt("preDestroyRxDatabase",this),this.destroyed=!0,this._subs.map(function(i){return i.unsubscribe()}),"pseudoInstance"===this.name)?qr:this.requestIdlePromise().then(function(){return Promise.all(Object.keys(n.collections).map(function(i){return n.collections[i]}).map(function(i){return i.destroy()}))}).then(function(){return n.internalStore.close()}).then(function(){return n.localDocumentsStore.close()}).then(function(){return n.broadcastChannel?n.broadcastChannel.close():null}).then(function(){return cu.delete(n.name)}).then(function(){return!0})},t.remove=function(){var n=this;return this.destroy().then(function(){return function(e,t){return mu.apply(this,arguments)}(n.name,n.storage)})},En(e,[{key:"$",get:function(){return this.observable$}}]),e}();function wd(e){return fu.apply(this,arguments)}function fu(){return fu=(0,nt.Z)(je().mark(function e(t){var r,n,i;return je().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return r="storageToken",d.next=3,Ni(t.localDocumentsStore,r);case 3:if(n=d.sent){d.next=11;break}return i=fo(10),d.next=8,t.localDocumentsStore.bulkWrite([{document:{_id:r,value:i,_attachments:{}}}]);case 8:return d.abrupt("return",i);case 11:return d.abrupt("return",n.value);case 12:case"end":return d.stop()}},e)})),fu.apply(this,arguments)}function Oa(e,t){return e+"-"+t.version}function du(){return du=(0,nt.Z)(je().mark(function e(t,r){var i;return je().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,t.lockedRun(function(){return en(t.internalStore)});case 2:return i=d.sent.filter(function(S){return S.collectionName.split("-")[0]===r}),d.abrupt("return",Promise.all(i.map(function(S){var j=jt(S);return j._deleted=!0,t.lockedRun(function(){return gs(t.internalStore,{previous:S,document:j})})})).then(function(){return i.map(function(S){return S.version})}));case 5:case"end":return d.stop()}},e)})),du.apply(this,arguments)}function Cd(e){if(!e.broadcastChannel)throw Ve("SNH",{args:{rxDatabase:e}});e.broadcastChannel.addEventListener("message",function(t){t.storageToken===e.storageToken&&t.cE.databaseToken!==e.token&&e.broadcastChannel$.next(t.cE)}),e._subs.push(e.broadcastChannel$.subscribe(function(t){e.$emit(t)}))}function Uc(e,t,r,n,i){return hu.apply(this,arguments)}function hu(){return hu=(0,nt.Z)(je().mark(function e(t,r,n,i,f){var d;return je().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,t.createStorageInstance({databaseName:r,collectionName:va,schema:Vi(0,"collectionName"),options:n,idleQueue:i,broadcastChannel:f});case 2:return d=W.sent,W.next=5,t.createKeyObjectStorageInstance({databaseName:r,collectionName:"",options:n,idleQueue:i,broadcastChannel:f});case 5:return W.abrupt("return",{internalStore:d,localDocumentsStore:W.sent});case 7:case"end":return W.stop()}},e)})),hu.apply(this,arguments)}function pu(){return pu=(0,nt.Z)(je().mark(function e(t){var r;return je().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return r=t.localDocumentsStore.changeStream().subscribe(function(f){t.$emit(ci(!0,f,t))}),t._subs.push(r),i.next=4,wd(t);case 4:t.storageToken=i.sent,t.multiInstance&&Cd(t);case 6:case"end":return i.stop()}},e)})),pu.apply(this,arguments)}function mu(){return mu=(0,nt.Z)(je().mark(function e(t,r){var n,i,f;return je().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return n=new qa,S.next=3,Uc(r,t,{},n);case 3:return i=S.sent,S.next=6,en(i.internalStore);case 6:return f=S.sent,S.next=9,Promise.all(f.map(function(){var j=(0,nt.Z)(je().mark(function W(X){var fe,Se,he,ee,le,we,Oe,be;return je().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return fe=X.schema,Se=X.collectionName.split("-"),he=Se[0],ee=parseInt(Se[1],10),le=H(fe.primaryKey),Me.next=8,Promise.all([r.createStorageInstance({databaseName:t,collectionName:he,schema:Vi(ee,le),options:{},idleQueue:n}),r.createKeyObjectStorageInstance({databaseName:t,collectionName:Es(he),options:{},idleQueue:n})]);case 8:return Oe=(we=Me.sent)[0],be=we[1],Me.next=13,Promise.all([Oe.remove(),be.remove()]);case 13:case"end":return Me.stop()}},W)}));return function(W){return j.apply(this,arguments)}}()));case 9:return S.abrupt("return",Promise.all([i.internalStore.remove(),i.localDocumentsStore.remove()]));case 10:case"end":return S.stop()}},e)})),mu.apply(this,arguments)}var Id={RxSchema:g.prototype,Crypter:V.prototype,RxDocument:ir,RxQuery:wa.prototype,RxCollection:Sa.prototype,RxDatabase:Da.prototype},vu=new Set;function go(e){if(Yt("preAddRxPlugin",{plugin:e,plugins:vu}),!vu.has(e)){if(vu.add(e),!e.rxdb)throw Rt("PL1",{plugin:e});e.prototypes&&Object.entries(e.prototypes).forEach(function(t){return(0,t[1])(Id[t[0]])}),e.overwritable&&Object.assign(nr,e.overwritable),e.hooks&&Object.entries(e.hooks).forEach(function(t){return br[t[0]].push(t[1])})}}var gu,yu,_u,zc={UT1:"given name is no string or empty",UT2:"collection- and database-names must match the regex to be compatible with couchdb databases.\n    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/\n    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'",UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",PL1:"Given plugin is not RxDB plugin. Pouchdb plugins must be added via addPouchPlugin()",PL2:"You tried importy a RxDB plugin to pouchdb. Use addRxPlugin() instead.",P1:"PouchDB.getBatch: limit must be > 2",P2:"bulkWrite() cannot be called with an empty array",P3:"bulkAddRevisions cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU7:"query must be an object",QU8:"query cannot be an array",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase.[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://pubkey.github.io/rxdb/questions-answers.html#cant-change-the-schema",DB7:"RxDatabase.addCollections(): schema encrypted but no password given",DB8:"RxDatabase.create(): A RxDatabase with the same name and adapter already exists.\nMake sure to use this combination only once or set ignoreDuplicate to true if you do this intentional",DB9:"RxDatabase.create(): Adapter not added. Use RxDB.plugin(require('pouchdb-adapter-[adaptername]');",DB10:"RxDatabase.create(): To use leveldown-adapters, you have to add the leveldb-plugin. Use RxDB.plugin(require('pouchdb-adapter-leveldb'));",DB11:"RxDatabase.create(): Invalid db-name, folder-paths must not have an ending slash",COL1:"RxDocument.insert() You cannot insert an existing document",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.atomicUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL19:"Document document update conflict, when changing a document you must work on the previous revision",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): cant save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",AT1:"to use attachments, please define this in your schema",EN1:"password is no string",EN2:"validatePassword: min-length of password not complied",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ cant use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not useable on local documents",LD7:"Local document already exists",RC1:"Replication: already added",RC2:"RxCollection.syncCouchDB() query must be from the same RxCollection",RC3:"RxCollection.syncCouchDB() Do not use a collection's pouchdb as remote, use the collection instead",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await inital replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await inital replication if multiInstance because the replication might run on another instance",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",DEV1:"dev-mode added multiple times, this is likely because you have mixed up the import from the the plugins/core and the full RxDB",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",IM1:"InMemory: Memory-Adapter must be added. Use addPouchPlugin(require('pouchdb-adapter-memory'));",IM2:"inMemoryCollection.sync(): Do not replicate with the in-memory instance. Replicate with the parent instead",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"cannot find sub schema by key",SNH:"This should never happen"},xd=new(ws(ir));function Wc(){if(!_u){var t=Object.getOwnPropertyNames(xd),r=Object.getOwnPropertyNames(ir);_u=[].concat(t,r,["deleted","synced"])}return _u}function Ld(e){return function r(n,i){"object"==typeof n&&Object.keys(n).forEach(function(f){n.properties||function(n,i,f){if("string"==typeof n&&"object"==typeof i&&!Array.isArray(i)&&function(e){if(""!==e&&"_deleted"!==e){if(["properties","language"].includes(e))throw Ve("SC23",{fieldName:e});var t="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",r=new RegExp(t);if(!e.match(r))throw Ve("SC1",{regex:t,fieldName:e})}}(n),i.hasOwnProperty("item")&&"array"!==i.type)throw Ve("SC2",{fieldName:n});if(i.hasOwnProperty("required")&&"boolean"==typeof i.required)throw Ve("SC24",{fieldName:n});if(i.hasOwnProperty("ref"))if(Array.isArray(i.type)){if(i.type.length>2||!i.type.includes("string")||!i.type.includes("null"))throw Ve("SC4",{fieldName:n})}else switch(i.type){case"string":break;case"array":if(!i.items||!i.items.type||"string"!==i.items.type)throw Ve("SC3",{fieldName:n});break;default:throw Ve("SC4",{fieldName:n})}var d=f.split(".").length>=2;if(d){if(i.primary)throw Ve("SC6",{path:f,primary:i.primary});if(i.default)throw Ve("SC7",{path:f})}if(!d&&"_"===n.charAt(0)){if("_deleted"===n)return;throw Ve("SC8",{fieldName:n})}}(f,n[f],i);var d=i;"properties"!==f&&(d=d+"."+f),r(n[f],d)})}(e,""),!0}function Vc(e){for(var t=e.split("."),r="",n=0;n<t.length;n+=1)r=r.concat("[]"!==t[n]?".properties.".concat(t[n]):".items");return lt(r)}function bu(e){!e||Object.entries(e).forEach(function(t){var r=t[0],n=t[1];if("string"!=typeof r)throw Rt("COL14",{name:r});if(r.startsWith("_"))throw Rt("COL15",{name:r});if("function"!=typeof n)throw Rt("COL16",{name:r,type:typeof r});if(function(){if(!gu){var e=new Sa,t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));gu=[].concat(t,r)}return gu}().includes(r)||Wc().includes(r))throw Ve("COL17",{name:r})})}var Kc="^[a-z][_$a-z0-9\\-]*$",zd=new RegExp(Kc);function $c(e){if("string"!=typeof e||0===e.length)throw Rt("UT1",{name:e});if(Kn(e))return!0;if(!e.match(zd))throw Ve("UT2",{regex:Kc,givenName:e});return!0}var Vd=c(4949),Kd=c.n(Vd),Hc="dev-mode",Hd={name:Hc,rxdb:!0,overwritable:{isDevMode:function(){return!0},deepFreezeWhenDevMode:function(e){return e&&Kd()(e)},tunnelErrorMessage:function(t){if(!zc[t])throw console.error("RxDB: Error-Code not known: "+t),new Error("Error-Code "+t+" not known, contact the maintainer");return zc[t]}},hooks:{preAddRxPlugin:function(t){if(t.plugin.name===Hc)throw Ve("DEV1",{plugins:t.plugins})},preCreateRxSchema:function(e){if(!e.primaryKey)throw Ve("SC30",{schema:e});if(!e.hasOwnProperty("properties"))throw Ve("SC29",{schema:e});if(e.properties._rev)throw Ve("SC10",{schema:e});if(!e.hasOwnProperty("version")||"number"!=typeof e.version||e.version<0)throw Ve("SC11",{version:e.version});if(Ld(e),function(e){if(!e.primaryKey)throw Ve("SC30",{schema:e});function t(d){if(!d)throw Ve("SC33",{schema:e});var S=d.type;if(!S||!["string","number","integer"].includes(S))throw Ve("SC32",{schema:e,args:{schemaPart:d}})}if("string"==typeof e.primaryKey)t(e.properties[e.primaryKey]);else{var i=e.primaryKey;t(fr(e,i.key)),i.fields.forEach(function(d){t(fr(e,d))})}}(e),Object.keys(e.properties).forEach(function(t){var r=e.properties[t];if(t===e.primaryKey){if(e.indexes&&e.indexes.includes(t))throw Ve("SC13",{value:r,schema:e});if(r.unique)throw Ve("SC14",{value:r,schema:e});if(e.encrypted&&e.encrypted.includes(t))throw Ve("SC15",{value:r,schema:e});if("string"!==r.type)throw Ve("SC16",{value:r,schema:e})}if(Wc().includes(t))throw Ve("SC17",{key:t,schema:e})}),e.indexes){if(!Array.isArray(e.indexes))throw Ve("SC18",{indexes:e.indexes,schema:e});e.indexes.forEach(function(t){if("string"!=typeof t&&!Array.isArray(t))throw Ve("SC19",{index:t,schema:e});if(Array.isArray(t))for(var r=0;r<t.length;r+=1)if("string"!=typeof t[r])throw Ve("SC20",{index:t,schema:e})})}if(Object.keys(e).includes("compoundIndexes"))throw Ve("SC25",{schema:e});Object.keys(Ri(e)).map(function(t){var r=t.split(".");return r.pop(),r.join(".")}).filter(function(t){return""!==t}).filter(function(t,r,n){return n.indexOf(t)===r}).filter(function(t){return!!cr().get(e,t).index}).forEach(function(t){throw Ve("SC26",{index:lt(t=(t=t.replace("properties.","")).replace(/\.properties\./g,".")),schema:e})}),(e.indexes||[]).reduce(function(t,r){return Array.isArray(r)?t.concat(r):t.push(r),t},[]).filter(function(t,r,n){return n.indexOf(t)===r}).map(function(t){var r=Vc(t),n=cr().get(e,r);if(!n||"object"!=typeof n)throw Ve("SC21",{index:t,schema:e});return{indexPath:t,schemaObj:n}}).filter(function(t){return"string"!==t.schemaObj.type&&"integer"!==t.schemaObj.type&&"number"!==t.schemaObj.type}).forEach(function(t){throw Ve("SC22",{key:t.indexPath,type:t.schemaObj.type,schema:e})}),Object.keys(Ri(e)).map(function(t){var r=t.split(".");return r.pop(),r.join(".")}).filter(function(t){return""!==t&&"attachments"!==t}).filter(function(t,r,n){return n.indexOf(t)===r}).filter(function(t){return!!cr().get(e,t).encrypted}).forEach(function(t){throw Ve("SC27",{index:lt(t=(t=t.replace("properties.","")).replace(/\.properties\./g,".")),schema:e})}),e.encrypted&&e.encrypted.forEach(function(t){var r=Vc(t),n=cr().get(e,r);if(!n||"object"!=typeof n)throw Ve("SC28",{field:t,schema:e})})},preCreateRxDatabase:function(t){!function(e){if($c(e.name),Kn(e.name)&&(e.name.endsWith("/")||e.name.endsWith("\\")))throw Ve("DB11",{name:e.name})}(t)},preCreateRxCollection:function(t){if(function(e){if(function(){if(!yu){var e=new Da("pseudoInstance","memory"),t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));yu=[].concat(t,r),e.destroy()}return yu}().includes(e.name))throw Ve("DB5",{name:e.name});$c(e.name)}(t),"_"===t.name.charAt(0))throw Ve("DB2",{name:t.name});if(!t.schema)throw Ve("DB4",{name:t.name,args:t})},preCreateRxQuery:function(t){!function(e){if("[object Object]"!==Object.prototype.toString.call(e.queryObj))throw Rt("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj});var r=["selector","limit","skip","sort"];Object.keys(e.queryObj).forEach(function(n){if(!r.includes(n))throw Rt("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj,key:n})})}(t)},createRxCollection:function(t){bu(t.statics),bu(t.methods),bu(t.attachments),t.schema&&t.migrationStrategies&&function(e,t){if("object"!=typeof t||Array.isArray(t))throw Rt("COL11",{schema:e});var r=function(e){var r=0;return new Array(e.version?e.version:0).fill(0).map(function(){return r++})}(e);if(r.length!==Object.keys(t).length)throw Ve("COL12",{have:Object.keys(t),should:r});r.map(function(n){return{v:n,s:t[n+1]}}).filter(function(n){return"function"!=typeof n.s}).forEach(function(n){throw Rt("COL13",{version:n.v,type:typeof n,schema:e})})}(t.schema,t.migrationStrategies)}}},Gd=c(7466),Gc=c.n(Gd),Qd=c(4384),Jd=function(t){return function(e,t){return Gc().encrypt(e,t).toString()}(t,this.password)},Xd=function(t){var r=function(e,t){return Gc().decrypt(e,t).toString(Qd)}(t,this.password);return r};function Eu(){return Eu=(0,nt.Z)(je().mark(function e(t){var r,n,i,f;return je().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(t.password){S.next=2;break}return S.abrupt("return",qr);case 2:return r=ri(t.password),n="pwHash",S.next=6,Ni(t.localDocumentsStore,n);case 6:if(i=S.sent){S.next=14;break}return f={_id:n,value:r,_attachments:{}},S.next=11,t.localDocumentsStore.bulkWrite([{document:f}]);case 11:case 20:return S.abrupt("return",!0);case 14:if(r===i.value){S.next=20;break}return S.next=17,t.destroy();case 17:throw Ve("DB1",{passwordHash:ri(t.password),existingPasswordHash:i.value});case 21:case"end":return S.stop()}},e)})),Eu.apply(this,arguments)}var th={Crypter:function(t){t._encryptString=Jd,t._decryptString=Xd}},rh={validatePassword:function(t){if(t&&"string"!=typeof t)throw Rt("EN1",{password:t});if(t&&t.length<8)throw Ve("EN2",{minPassLength:8,password:t})}},nh={name:"encryption",rxdb:!0,prototypes:th,overwritable:rh,hooks:{createRxDatabase:function(t){return function(e){return Eu.apply(this,arguments)}(t)}}},ih=("undefined"!=typeof AbortController&&AbortController,fetch),Pa=Headers;function Sr(e,t){if(e===t)return 0;e=$i(e),t=$i(t);var r=Au(e),n=Au(t);if(r-n!=0)return r-n;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var r=Math.min(e.length,t.length),n=0;n<r;n++){var i=Sr(e[n],t[n]);if(0!==i)return i}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var r=Object.keys(e),n=Object.keys(t),i=Math.min(r.length,n.length),f=0;f<i;f++){var d=Sr(r[f],n[f]);if(0!==d||0!==(d=Sr(e[r[f]],t[n[f]])))return d}return r.length===n.length?0:r.length>n.length?1:-1}(e,t)}function $i(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var r=e.length;e=new Array(r);for(var n=0;n<r;n++)e[n]=$i(t[n])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var i in e={},t)if(t.hasOwnProperty(i)){var f=t[i];void 0!==f&&(e[i]=$i(f))}}}return e}function mn(e){return Au(e=$i(e))+""+function(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),r=parseInt(t[1],10),n=e<0,i=n?"0":"2",d=function(e,t,r){var n=function(e,t,r){for(var n="",i=3-e.length;n.length<i;)n+="0";return n}(e);return n+e}(((n?-r:r)- -324).toString());i+=""+d;var S=Math.abs(parseFloat(t[0]));n&&(S=10-S);var j=S.toFixed(20);return i+""+j.replace(/\.?0+$/,"")}(e);case"string":return e.replace(/\u0002/g,"\x02\x02").replace(/\u0001/g,"\x01\x02").replace(/\u0000/g,"\x01\x01");case"object":var t=Array.isArray(e),r=t?e:Object.keys(e),n=-1,i=r.length,f="";if(t)for(;++n<i;)f+=mn(r[n]);else for(;++n<i;){var d=r[n];f+=mn(d)+mn(e[d])}return f}return""}(e)+"\0"}function uh(e,t){var n,r=t;if("1"===e[t])n=0,t++;else{var f="0"===e[t];t++;var d="",S=e.substring(t,t+3),j=parseInt(S,10)+-324;for(f&&(j=-j),t+=3;;){var W=e[t];if("\0"===W)break;d+=W,t++}n=1===(d=d.split(".")).length?parseInt(d,10):parseFloat(d[0]+"."+d[1]),f&&(n-=10),0!==j&&(n=parseFloat(n+"e"+j))}return{num:n,length:t-r}}function ch(e,t){var r=e.pop();if(t.length){var n=t[t.length-1];r===n.element&&(t.pop(),n=t[t.length-1]);var i=n.element,f=n.index;Array.isArray(i)?i.push(r):f===e.length-2?i[e.pop()]=r:e.push(r)}}function Au(e){var r=["boolean","number","string","object"].indexOf(typeof e);return~r?null===e?1:Array.isArray(e)?5:r<3?r+2:r+3:Array.isArray(e)?5:void 0}function Cu(e,t){for(var r=e,n=0,i=t.length;n<i&&(r=r[t[n]]);n++);return r}function mh(e,t,r){for(var n=0,i=t.length;n<i-1;n++){var f=t[n];e=e[f]=e[f]||{}}e[t[i-1]]=r}function Du(e,t){return e<t?-1:e>t?1:0}function yo(e){for(var t=[],r="",n=0,i=e.length;n<i;n++){var f=e[n];"."===f?n>0&&"\\"===e[n-1]?r=r.substring(0,r.length-1)+".":(t.push(r),r=""):r+=f}return t.push(r),t}var vh=["$or","$nor","$not"];function Yc(e){return vh.indexOf(e)>-1}function Qr(e){return Object.keys(e)[0]}function Ou(e){return e[Qr(e)]}function _o(e){var t={};return e.forEach(function(r){Object.keys(r).forEach(function(n){var i=r[n];if("object"!=typeof i&&(i={$eq:i}),Yc(n))t[n]=i instanceof Array?i.map(function(d){return _o([d])}):_o([i]);else{var f=t[n]=t[n]||{};Object.keys(i).forEach(function(d){var S=i[d];return"$gt"===d||"$gte"===d?function(e,t,r){void 0===r.$eq&&(void 0!==r.$gte?"$gte"===e?t>r.$gte&&(r.$gte=t):t>=r.$gte&&(delete r.$gte,r.$gt=t):void 0!==r.$gt?"$gte"===e?t>r.$gt&&(delete r.$gt,r.$gte=t):t>r.$gt&&(r.$gt=t):r[e]=t)}(d,S,f):"$lt"===d||"$lte"===d?function(e,t,r){void 0===r.$eq&&(void 0!==r.$lte?"$lte"===e?t<r.$lte&&(r.$lte=t):t<=r.$lte&&(delete r.$lte,r.$lt=t):void 0!==r.$lt?"$lte"===e?t<r.$lt&&(delete r.$lt,r.$lte=t):t<r.$lt&&(r.$lt=t):r[e]=t)}(d,S,f):"$ne"===d?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(S,f):"$eq"===d?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(S,f):void(f[d]=S)})}})}),t}function Jc(e){for(var t in e){if(Array.isArray(e))for(var r in e)e[r].$and&&(e[r]=_o(e[r].$and));var n=e[t];"object"==typeof n&&Jc(n)}return e}function Xc(e,t){for(var r in e){"$and"===r&&(t=!0);var n=e[r];"object"==typeof n&&(t=Xc(n,t))}return t}function Pu(e){var t=ur(e),r=!1;Xc(t,!1)&&("$and"in(t=Jc(t))&&(t=_o(t.$and)),r=!0),["$or","$nor"].forEach(function(S){S in t&&t[S].forEach(function(j){for(var W=Object.keys(j),X=0;X<W.length;X++){var ne=W[X],fe=j[ne];("object"!=typeof fe||null===fe)&&(j[ne]={$eq:fe})}})}),"$not"in t&&(t.$not=_o([t.$not]));for(var n=Object.keys(t),i=0;i<n.length;i++){var f=n[i],d=t[f];"object"!=typeof d||null===d?d={$eq:d}:"$ne"in d&&!r&&(d.$ne=[d.$ne]),t[f]=d}return t}function Ia(e,t,r){if(e=e.filter(function(d){return Ps(d.doc,t.selector,r)}),t.sort){var n=function(e){function t(r){return e.map(function(n){var f=yo(Qr(n));return Cu(r,f)})}return function(r,n){var d=Sr(t(r.doc),t(n.doc));return 0!==d?d:Du(r.doc._id,n.doc._id)}}(t.sort);e=e.sort(n),"string"!=typeof t.sort[0]&&"desc"===Ou(t.sort[0])&&(e=e.reverse())}if("limit"in t||"skip"in t){var i=t.skip||0;e=e.slice(i,("limit"in t?t.limit:e.length)+i)}return e}function Ps(e,t,r){return r.every(function(n){var i=t[n],f=yo(n),d=Cu(e,f);return Yc(n)?function(e,t,r){return"$or"===e?t.some(function(n){return Ps(r,n,Object.keys(n))}):"$not"===e?!Ps(r,t,Object.keys(t)):!t.find(function(n){return Ps(r,n,Object.keys(n))})}(n,i,e):Iu(i,e,f,d)})}function Iu(e,t,r,n){return!e||("object"==typeof e?Object.keys(e).every(function(i){return function(e,t,r,n,i){if(!el[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return el[e](t,r,n,i)}(i,t,e[i],r,n)}):e===n)}function bo(e){return null!=e}function Hi(e){return void 0!==e}function qc(e,t){return t.some(function(r){return e instanceof Array?e.indexOf(r)>-1:e===r})}var el={$elemMatch:function(e,t,r,n){return!(!Array.isArray(n)||0===n.length)&&n.some("object"==typeof n[0]?function(i){return Ps(i,t,Object.keys(t))}:function(i){return Iu(t,e,r,i)})},$allMatch:function(e,t,r,n){return!(!Array.isArray(n)||0===n.length)&&n.every("object"==typeof n[0]?function(i){return Ps(i,t,Object.keys(t))}:function(i){return Iu(t,e,r,i)})},$eq:function(e,t,r,n){return Hi(n)&&0===Sr(n,t)},$gte:function(e,t,r,n){return Hi(n)&&Sr(n,t)>=0},$gt:function(e,t,r,n){return Hi(n)&&Sr(n,t)>0},$lte:function(e,t,r,n){return Hi(n)&&Sr(n,t)<=0},$lt:function(e,t,r,n){return Hi(n)&&Sr(n,t)<0},$exists:function(e,t,r,n){return t?Hi(n):!Hi(n)},$mod:function(e,t,r,n){return bo(n)&&function(e,t){var r=t[0],n=t[1];if(0===r)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(r,10)!==r)throw new Error("Divisor is not an integer");if(parseInt(n,10)!==n)throw new Error("Modulus is not an integer");return parseInt(e,10)===e&&e%r===n}(n,t)},$ne:function(e,t,r,n){return t.every(function(i){return 0!==Sr(n,i)})},$in:function(e,t,r,n){return bo(n)&&qc(n,t)},$nin:function(e,t,r,n){return bo(n)&&!qc(n,t)},$size:function(e,t,r,n){return bo(n)&&function(e,t){return e.length===t}(n,t)},$all:function(e,t,r,n){return Array.isArray(n)&&function(e,t){return t.every(function(r){return e.indexOf(r)>-1})}(n,t)},$regex:function(e,t,r,n){return bo(n)&&function(e,t){return new RegExp(t).test(e)}(n,t)},$type:function(e,t,r,n){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}throw new Error(t+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}(n,t)}};function Mh(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter)return t(new Error('selector invalid for filter "'+("string"==typeof e.filter?e.filter:"function")+'"'));t()}function xh(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=gi(e.view):e.filter=gi(e.filter))}function kh(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!pr(e.db)}function Lh(e,t){var r=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var n=Fe(G,"`view` filter parameter not found or invalid.");return r(n)}var i=Bn(t.view);e.db.get("_design/"+i[0],function(d,S){if(e.isCancelled)return r(null,{status:"cancelled"});if(d)return r(Je(d));var j=S&&S.views&&S.views[i[1]]&&S.views[i[1]].map;if(!j)return r(Fe(a,S.views?"missing json key: "+i[1]:"missing json key: views"));t.filter=function(e){return yi(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{})}(j),e.doChanges(t)})}else if(t.selector)t.filter=function(d){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=Ia([{doc:e}],{selector:t=Pu(t)},Object.keys(t));return n&&1===n.length}(d,t.selector)},e.doChanges(t);else{var f=Bn(t.filter);e.db.get("_design/"+f[0],function(d,S){if(e.isCancelled)return r(null,{status:"cancelled"});if(d)return r(Je(d));var j=S&&S.filters&&S.filters[f[1]];if(!j)return r(Fe(a,S&&S.filters?"missing json key: "+f[1]:"missing json key: filters"));t.filter=function(e){return yi('"use strict";\nreturn '+e+";",{})}(j),e.doChanges(t)})}}function Eo(e,t,r){qe().call(this);var n=this;this.db=e;var i=(t=t?ur(t):{}).complete=Mn(function(S,j){S?function(e,t){return"listenerCount"in e?e.listenerCount(t):qe().listenerCount(e,t)}(n,"error")>0&&n.emit("error",S):n.emit("complete",j),n.removeAllListeners(),e.removeListener("destroyed",f)});function f(){n.cancel()}r&&(n.on("complete",function(S){r(null,S)}),n.on("error",r)),e.once("destroyed",f),t.onChange=function(S,j,W){n.isCancelled||function(e,t,r,n){try{e.emit("change",t,r,n)}catch(i){tt("error",'Error in .on("change", function):',i)}}(n,S,j,W)};var d=new Promise(function(S,j){t.complete=function(W,X){W?j(W):S(X)}});n.once("cancel",function(){e.removeListener("destroyed",f),t.complete(null,{status:"cancelled"})}),this.then=d.then.bind(d),this.catch=d.catch.bind(d),this.then(function(S){i(null,S)},i),e.taskqueue.isReady?n.validateChanges(t):e.taskqueue.addTask(function(S){S?t.complete(S):n.isCancelled?n.emit("cancel"):n.validateChanges(t)})}function jh(e,t,r){var n=[{rev:e._rev}];"all_docs"===r.style&&(n=qi(t.rev_tree).map(function(f){return{rev:f.rev}}));var i={id:t.id,changes:n,doc:e};return Wr(t,e._rev)&&(i.deleted=!0),r.conflicts&&(i.doc._conflicts=es(t),i.doc._conflicts.length||delete i.doc._conflicts),i}function tl(e,t){return e<t?-1:e>t?1:0}function Tu(e,t){return function(r,n){r||n[0]&&n[0].error?((r=r||n[0]).docId=t,e(r)):e(null,n.length?n[0]:n)}}function zh(e,t){var r=tl(e._id,t._id);return 0!==r?r:tl(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function rl(e){var t=e._compactionQueue[0],r=t.opts,n=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(i){i&&i.last_seq&&(r.last_seq=i.last_seq),e._compact(r,function(f,d){f?n(f):n(null,d),I()(function(){e._compactionQueue.shift(),e._compactionQueue.length&&rl(e)})})})}function Gt(){for(var e in qe().call(this),Gt.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function wo(){this.isReady=!1,this.failed=!1,this.queue=[]}function wt(e,t){if(!(this instanceof wt))return new wt(e,t);var r=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=ur(t),r.auto_compaction=t.auto_compaction,r.prefix=wt.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var i=function(e,t){var r=e.match(/([a-z-]*):\/\/(.*)/);if(r)return{name:/https?/.test(r[1])?r[1]+"://"+r[2]:r[2],adapter:r[1]};var n=wt.adapters,i=wt.preferredAdapters,f=wt.prefix,d=t.adapter;if(!d)for(var S=0;S<i.length&&"idb"===(d=i[S])&&"websql"in n&&se()&&localStorage["_pouch__websqldb_"+f+e];++S)tt("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var j=n[d];return{name:j&&"use_prefix"in j&&!j.use_prefix?e:f+e,adapter:d}}((t.prefix||"")+e,t);if(t.name=i.name,t.adapter=t.adapter||i.adapter,r.name=e,r._adapter=t.adapter,wt.emit("debug",["adapter","Picked adapter: ",t.adapter]),!wt.adapters[t.adapter]||!wt.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);Gt.call(r),r.taskqueue=new wo,r.adapter=t.adapter,wt.adapters[t.adapter].call(r,t,function(f){if(f)return r.taskqueue.fail(f);(function(e){function t(n){e.removeListener("closed",r),n||e.constructor.emit("destroyed",e.name)}function r(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",r),e.constructor.emit("ref",e)})(r),r.emit("created",r),wt.emit("created",r.name),r.taskqueue.ready(r)})}P()(Eo,qe()),Eo.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Eo.prototype.validateChanges=function(e){var t=e.complete,r=this;wt._changesFilterPlugin?wt._changesFilterPlugin.validate(e,function(n){if(n)return t(n);r.doChanges(e)}):r.doChanges(e)},Eo.prototype.doChanges=function(e){var t=this,r=e.complete;if("live"in(e=ur(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=jh,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(wt._changesFilterPlugin){if(wt._changesFilterPlugin.normalize(e),wt._changesFilterPlugin.shouldFilter(this,e))return wt._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach(function(f){f in e&&tt("warn",'The "'+f+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=r;var n=this.db._changes(e);if(n&&"function"==typeof n.cancel){var i=t.cancel;t.cancel=M()(function(f){n.cancel(),i.apply(this,f)})}}else this.db.info().then(function(f){t.isCancelled?r(null,{status:"cancelled"}):(e.since=f.update_seq,t.doChanges(e))},r)},P()(Gt,qe()),Gt.prototype.post=qt("post",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e))return r(Fe(J));this.bulkDocs({docs:[e]},t,Tu(r,e._id))}),Gt.prototype.put=qt("put",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"object"!=typeof e||Array.isArray(e))return r(Fe(J));if(Ls(e._id),yn(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,r):this._putLocal(e,r);var d,S,W,X,n=this;function f(d){"function"==typeof n._put&&!1!==t.new_edits?n._put(e,t,d):n.bulkDocs({docs:[e]},t,Tu(d,e._id))}t.force&&e._rev?(S=(d=e._rev.split("-"))[1],W=parseInt(d[0],10)+1,X=Ns(),e._revisions={start:W,ids:[X,S]},e._rev=W+"-"+X,t.new_edits=!1,f(function(d){r(d,d?null:{ok:!0,id:e._id,rev:e._rev})})):f(r)}),Gt.prototype.putAttachment=qt("putAttachment",function(e,t,r,n,i){var f=this;function d(S){var j="_rev"in S?parseInt(S._rev,10):0;return S._attachments=S._attachments||{},S._attachments[t]={content_type:i,data:n,revpos:++j},f.put(S)}return"function"==typeof i&&(i=n,n=r,r=null),void 0===i&&(i=n,n=r,r=null),i||tt("warn","Attachment",t,"on document",e,"is missing content_type"),f.get(e).then(function(S){if(S._rev!==r)throw Fe(v);return d(S)},function(S){if(S.reason===a.message)return d({_id:e});throw S})}),Gt.prototype.removeAttachment=qt("removeAttachment",function(e,t,r,n){var i=this;i.get(e,function(f,d){if(f)n(f);else{if(d._rev===r)return d._attachments?(delete d._attachments[t],0===Object.keys(d._attachments).length&&delete d._attachments,void i.put(d,n)):n();n(Fe(v))}})}),Gt.prototype.remove=qt("remove",function(e,t,r,n){var i;"string"==typeof t?(i={_id:e,_rev:t},"function"==typeof r&&(n=r,r={})):(i=e,"function"==typeof t?(n=t,r={}):(n=r,r=t)),(r=r||{}).was_delete=!0;var f={_id:i._id,_rev:i._rev||r.rev,_deleted:!0};if(yn(f._id)&&"function"==typeof this._removeLocal)return this._removeLocal(i,n);this.bulkDocs({docs:[f]},r,Tu(n,f._id))}),Gt.prototype.revsDiff=qt("revsDiff",function(e,t,r){"function"==typeof t&&(r=t,t={});var n=Object.keys(e);if(!n.length)return r(null,{});var i=0,f=new b;function d(j,W){f.has(j)||f.set(j,{missing:[]}),f.get(j).missing.push(W)}n.map(function(j){this._getRevisionTree(j,function(W,X){if(W&&404===W.status&&"missing"===W.message)f.set(j,{missing:e[j]});else{if(W)return r(W);!function(j,W){var X=e[j].slice(0);Xr(W,function(ne,fe,Se,he,ee){var le=fe+"-"+Se,we=X.indexOf(le);-1!==we&&(X.splice(we,1),"available"!==ee.status&&d(j,le))}),X.forEach(function(ne){d(j,ne)})}(j,X)}if(++i===n.length){var ne={};return f.forEach(function(fe,Se){ne[Se]=fe}),r(null,ne)}})},this)}),Gt.prototype.bulkGet=qt("bulkGet",function(e,t){De(this,e,t)}),Gt.prototype.compactDocument=qt("compactDocument",function(e,t,r){var n=this;this._getRevisionTree(e,function(i,f){if(i)return r(i);var d=function(e){var t={},r=[];return Xr(e,function(n,i,f,d){var S=i+"-"+f;return n&&(t[S]=0),void 0!==d&&r.push({from:d,to:S}),S}),r.reverse(),r.forEach(function(n){t[n.from]=void 0===t[n.from]?1+t[n.to]:Math.min(t[n.from],1+t[n.to])}),t}(f),S=[],j=[];Object.keys(d).forEach(function(W){d[W]>t&&S.push(W)}),Xr(f,function(W,X,ne,fe,Se){var he=X+"-"+ne;"available"===Se.status&&-1!==S.indexOf(he)&&j.push(he)}),n._doCompaction(e,j,r)})}),Gt.prototype.compact=qt("compact",function(e,t){"function"==typeof e&&(t=e,e={});var r=this;e=e||{},r._compactionQueue=r._compactionQueue||[],r._compactionQueue.push({opts:e,callback:t}),1===r._compactionQueue.length&&rl(r)}),Gt.prototype._compact=function(e,t){var r=this,i=[];r.changes({return_docs:!1,last_seq:e.last_seq||0}).on("change",function(S){i.push(r.compactDocument(S.id,0))}).on("complete",function(S){var j=S.last_seq;Promise.all(i).then(function(){return qn(r,"_local/compaction",function(X){return(!X.last_seq||X.last_seq<j)&&(X.last_seq=j,X)})}).then(function(){t(null,{ok:!0})}).catch(t)}).on("error",t)},Gt.prototype.get=qt("get",function(e,t,r){if("function"==typeof t&&(r=t,t={}),"string"!=typeof e)return r(Fe(h));if(yn(e)&&"function"==typeof this._getLocal)return this._getLocal(e,r);var n=[],i=this;function f(){var j=[],W=n.length;if(!W)return r(null,j);n.forEach(function(X){i.get(e,{rev:X,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},function(ne,fe){if(ne)j.push({missing:X});else{for(var Se,he=0,ee=j.length;he<ee;he++)if(j[he].ok&&j[he].ok._rev===fe._rev){Se=!0;break}Se||j.push({ok:fe})}--W||r(null,j)})})}if(!t.open_revs)return this._get(e,t,function(j,W){if(j)return j.docId=e,r(j);var X=W.doc,ne=W.metadata,fe=W.ctx;if(t.conflicts){var Se=es(ne);Se.length&&(X._conflicts=Se)}if(Wr(ne,X._rev)&&(X._deleted=!0),t.revs||t.revs_info){for(var he=X._rev.split("-"),ee=parseInt(he[0],10),le=he[1],we=Us(ne.rev_tree),Oe=null,be=0;be<we.length;be++){var ke=we[be],Me=ke.ids.map(function(xt){return xt.id}).indexOf(le);(Me===ee-1||!Oe&&-1!==Me)&&(Oe=ke)}if(!Oe)return(j=new Error("invalid rev tree")).docId=e,r(j);var We=Oe.ids.map(function(xt){return xt.id}).indexOf(X._rev.split("-")[1])+1;if(Oe.ids.splice(We,Oe.ids.length-We),Oe.ids.reverse(),t.revs&&(X._revisions={start:Oe.pos+Oe.ids.length-1,ids:Oe.ids.map(function(xt){return xt.id})}),t.revs_info){var yt=Oe.pos+Oe.ids.length;X._revs_info=Oe.ids.map(function(xt){return{rev:--yt+"-"+xt.id,status:xt.opts.status}})}}if(t.attachments&&X._attachments){var ct=X._attachments,At=Object.keys(ct).length;if(0===At)return r(null,X);Object.keys(ct).forEach(function(xt){this._getAttachment(X._id,xt,ct[xt],{rev:X._rev,binary:t.binary,ctx:fe},function(Et,Ot){var Ft=X._attachments[xt];Ft.data=Ot,delete Ft.stub,delete Ft.length,--At||r(null,X)})},i)}else{if(X._attachments)for(var Bt in X._attachments)X._attachments.hasOwnProperty(Bt)&&(X._attachments[Bt].stub=!0);r(null,X)}});if("all"===t.open_revs)this._getRevisionTree(e,function(j,W){if(j)return r(j);n=qi(W).map(function(X){return X.rev}),f()});else{if(!Array.isArray(t.open_revs))return r(Fe(_e,"function_clause"));n=t.open_revs;for(var d=0;d<n.length;d++){var S=n[d];if("string"!=typeof S||!/^\d+-/.test(S))return r(Fe(ge))}f()}}),Gt.prototype.getAttachment=qt("getAttachment",function(e,t,r,n){var i=this;r instanceof Function&&(n=r,r={}),this._get(e,r,function(f,d){return f?n(f):d.doc._attachments&&d.doc._attachments[t]?(r.ctx=d.ctx,r.binary=!0,void i._getAttachment(e,t,d.doc._attachments[t],r,n)):n(Fe(a))})}),Gt.prototype.allDocs=qt("allDocs",function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var r=["startkey","endkey","key"].filter(function(n){return n in e})[0];if(r)return void t(Fe(z,"Query parameter `"+r+"` is not compatible with multi-get"));if(!pr(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)}),Gt.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new Eo(this,e,t)},Gt.prototype.close=qt("close",function(e){return this._closed=!0,this.emit("closed"),this._close(e)}),Gt.prototype.info=qt("info",function(e){var t=this;this._info(function(r,n){if(r)return e(r);n.db_name=n.db_name||t.name,n.auto_compaction=!(!t.auto_compaction||pr(t)),n.adapter=t.adapter,e(null,n)})}),Gt.prototype.id=qt("id",function(e){return this._id(e)}),Gt.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Gt.prototype.bulkDocs=qt("bulkDocs",function(e,t,r){if("function"==typeof t&&(r=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return r(Fe(u));for(var n=0;n<e.docs.length;++n)if("object"!=typeof e.docs[n]||Array.isArray(e.docs[n]))return r(Fe(J));var i;if(e.docs.forEach(function(S){S._attachments&&Object.keys(S._attachments).forEach(function(j){i=i||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(j),S._attachments[j].content_type||tt("warn","Attachment",j,"on document",S._id,"is missing content_type")})}),i)return r(Fe(G,i));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var f=this;!t.new_edits&&!pr(f)&&e.docs.sort(zh),function(e){for(var t=0;t<e.length;t++){var r=e[t];if(r._deleted)delete r._attachments;else if(r._attachments)for(var n=Object.keys(r._attachments),i=0;i<n.length;i++){var f=n[i];r._attachments[f]=zr(r._attachments[f],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var d=e.docs.map(function(S){return S._id});return this._bulkDocs(e,t,function(S,j){if(S)return r(S);if(t.new_edits||(j=j.filter(function(ne){return ne.error})),!pr(f))for(var W=0,X=j.length;W<X;W++)j[W].id=j[W].id||d[W];r(null,j)})}),Gt.prototype.registerDependentDatabase=qt("registerDependentDatabase",function(e,t){var r=new this.constructor(e,this.__opts);qn(this,"_local/_pouch_dependentDbs",function(i){return i.dependentDbs=i.dependentDbs||{},!i.dependentDbs[e]&&(i.dependentDbs[e]=!0,i)}).then(function(){t(null,{db:r})}).catch(t)}),Gt.prototype.destroy=qt("destroy",function(e,t){"function"==typeof e&&(t=e,e={});var r=this,n=!("use_prefix"in r)||r.use_prefix;function i(){r._destroy(e,function(f,d){if(f)return t(f);r._destroyed=!0,r.emit("destroyed"),t(null,d||{ok:!0})})}if(pr(r))return i();r.get("_local/_pouch_dependentDbs",function(f,d){if(f)return 404!==f.status?t(f):i();var j=r.constructor,W=Object.keys(d.dependentDbs).map(function(X){var ne=n?X.replace(new RegExp("^"+j.prefix),""):X;return new j(ne,r.__opts).destroy()});Promise.all(W).then(i,t)})}),wo.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},wo.prototype.fail=function(e){this.failed=e,this.execute()},wo.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},wo.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},P()(wt,Gt),wt.adapters={},wt.preferredAdapters=[],wt.prefix="_pouch_";var nl=new(qe());(function(e){Object.keys(qe().prototype).forEach(function(r){"function"==typeof qe().prototype[r]&&(e[r]=nl[r].bind(nl))});var t=e._destructionListeners=new b;e.on("ref",function(n){t.has(n.name)||t.set(n.name,[]),t.get(n.name).push(n)}),e.on("unref",function(n){if(t.has(n.name)){var i=t.get(n.name),f=i.indexOf(n);f<0||(i.splice(f,1),i.length>1?t.set(n.name,i):t.delete(n.name))}}),e.on("destroyed",function(n){if(t.has(n)){var i=t.get(n);t.delete(n),i.forEach(function(f){f.emit("destroyed",!0)})}})})(wt),wt.adapter=function(e,t,r){t.valid()&&(wt.adapters[e]=t,r&&wt.preferredAdapters.push(e))},wt.plugin=function(e){if("function"==typeof e)e(wt);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){wt.prototype[t]=e[t]})}return this.__defaults&&(wt.__defaults=Cr({},this.__defaults)),wt},wt.defaults=function(e){function t(r,n){if(!(this instanceof t))return new t(r,n);n=n||{},r&&"object"==typeof r&&(r=(n=r).name,delete n.name),n=Cr({},t.__defaults,n),wt.call(this,r,n)}return P()(t,wt),t.preferredAdapters=wt.preferredAdapters.slice(),Object.keys(wt).forEach(function(r){r in t||(t[r]=wt[r])}),t.__defaults=Cr({},this.__defaults,e),t},wt.fetch=function(e,t){return ih(e,t)},wt.plugin(function(e){e._changesFilterPlugin={validate:Mh,normalize:xh,shouldFilter:kh,filter:Lh}}),wt.version="7.2.2";const Ta=wt;function Gi(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Gi)}catch{}}function Ru(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Ru)}catch{}}function Mu(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Mu)}catch{}}function il(e,t){return t&&e.then(function(r){I()(function(){t(null,r)})},function(r){I()(function(){t(r)})}),e}function xu(e,t){return function(){var r=arguments,n=this;return e.add(function(){return t.apply(n,r)})}}function sl(e){var t=new E(e),r=new Array(t.size),n=-1;return t.forEach(function(i){r[++n]=i}),r}function ku(e){var t=new Array(e.size),r=-1;return e.forEach(function(n,i){t[++r]=i}),t}function So(){this.promise=new Promise(function(e){e()})}function ol(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function al(e,t,r,n,i,f){var S,d=function(e,t){return ol(e)+ol(t)+"undefined"}(r,n);if(!i&&(S=e._cachedViews=e._cachedViews||{})[d])return S[d];var j=e.info().then(function(W){var X=W.db_name+"-mrview-"+(i?"temp":gn(d));return qn(e,"_local/"+f,function(fe){fe.views=fe.views||{};var Se=t;-1===Se.indexOf("/")&&(Se=t+"/"+t);var he=fe.views[Se]=fe.views[Se]||{};if(!he[X])return he[X]=!0,fe}).then(function(){return e.registerDependentDatabase(X).then(function(fe){var Se=fe.db;Se.auto_compaction=!0;var he={name:X,db:Se,sourceDB:e,adapter:e.adapter,mapFun:r,reduceFun:n};return he.db.get("_local/lastSeq").catch(function(ee){if(404!==ee.status)throw ee}).then(function(ee){return he.seq=ee?ee.seq:0,S&&he.db.once("destroyed",function(){delete S[d]}),he})})})});return S&&(S[d]=j),j}P()(Gi,Error),P()(Ru,Error),P()(Mu,Error),So.prototype.add=function(e){return this.promise=this.promise.catch(function(){}).then(function(){return e()}),this.promise},So.prototype.finish=function(){return this.promise};var ul={},cl=new So;function Lu(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function fl(e,t){try{e.emit("error",t)}catch{tt("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),tt("error",t)}}function dl(e){return(e=ur(e)).index||(e.index={}),["type","name","ddoc"].forEach(function(t){e.index[t]&&(e[t]=e.index[t],delete e.index[t])}),e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function Ao(e,t,r,n){var i,f;r.headers=new Pa({"Content-type":"application/json"}),e.fetch(t,r).then(function(d){return i=d.status,f=d.ok,d.json()}).then(function(d){if(f)n(null,d);else{d.status=i;var S=Je(d);n(S)}}).catch(n)}function tp(e,t,r){t=dl(t),Ao(e,"_index",{method:"POST",body:JSON.stringify(t)},r)}function rp(e,t,r){Ao(e,"_find",{method:"POST",body:JSON.stringify(t)},r)}function np(e,t,r){Ao(e,"_explain",{method:"POST",body:JSON.stringify(t)},r)}function ip(e,t){Ao(e,"_index",{method:"GET"},t)}function sp(e,t,r){var n=t.ddoc,f=t.name;return n?f?void Ao(e,"_index/"+[n,t.type||"json",f].map(encodeURIComponent).join("/"),{method:"DELETE"},r):r(new Error("you must provide an index's name")):r(new Error("you must provide an index's ddoc"))}function hl(e){return function(){for(var t=arguments.length,r=new Array(t),n=-1;++n<t;)r[n]=arguments[n];return e.call(this,r)}}function Co(e){return hl(function(t){var r=t.pop(),n=e.apply(this,t);return function(e,t){e.then(function(r){I()(function(){t(null,r)})},function(r){I()(function(){t(r)})})}(n,r),n})}var Bu=hl(function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e[r];Array.isArray(i)?t=t.concat(Bu.apply(null,i)):t.push(i)}return t});function Fu(e){for(var t={},r=0,n=e.length;r<n;r++)t=Cr(t,e[r]);return t}function pl(e,t){for(var r=0,n=Math.min(e.length,t.length);r<n;r++)if(e[r]!==t[r])return!1;return!0}function ml(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}var wp=function(e,t,r,n){function i(Ie,xe,Ne){try{xe(Ne)}catch(Ye){fl(Ie,Ye)}}function f(Ie,xe,Ne,Ye,$e){try{return{output:xe(Ne,Ye,$e)}}catch(Xe){return fl(Ie,Xe),{error:Xe}}}function d(Ie,xe){var Ne=Sr(Ie.key,xe.key);return 0!==Ne?Ne:Sr(Ie.value,xe.value)}function S(Ie,xe,Ne){return Ne=Ne||0,"number"==typeof xe?Ie.slice(Ne,xe+Ne):Ne>0?Ie.slice(Ne):Ie}function j(Ie){var xe=Ie.value;return xe&&"object"==typeof xe&&xe._id||Ie.id}function X(Ie){return function(xe){return Ie.include_docs&&Ie.attachments&&Ie.binary&&function(Ie){Ie.rows.forEach(function(xe){var Ne=xe.doc&&xe.doc._attachments;!Ne||Object.keys(Ne).forEach(function(Ye){var $e=Ne[Ye];Ne[Ye].data=Be($e.data,$e.content_type)})})}(xe),xe}}function ne(Ie,xe,Ne,Ye){var $e=xe[Ie];void 0!==$e&&(Ye&&($e=encodeURIComponent(JSON.stringify($e))),Ne.push(Ie+"="+$e))}function fe(Ie){if(void 0!==Ie){var xe=Number(Ie);return isNaN(xe)||xe!==parseInt(Ie,10)?Ie:xe}}function ee(Ie,xe){var Ne=Ie.descending?"endkey":"startkey",Ye=Ie.descending?"startkey":"endkey";if(void 0!==Ie[Ne]&&void 0!==Ie[Ye]&&Sr(Ie[Ne],Ie[Ye])>0)throw new Gi("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(xe.reduce&&!1!==Ie.reduce){if(Ie.include_docs)throw new Gi("{include_docs:true} is invalid for reduce");if(Ie.keys&&Ie.keys.length>1&&!Ie.group&&!Ie.group_level)throw new Gi("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function($e){var Xe=function(Ie){if(Ie){if("number"!=typeof Ie)return new Gi('Invalid value for integer: "'+Ie+'"');if(Ie<0)return new Gi('Invalid value for positive integer: "'+Ie+'"')}}(Ie[$e]);if(Xe)throw Xe})}function be(Ie){return function(xe){if(404===xe.status)return Ie;throw xe}}function He(Ie){var xe="string"==typeof Ie?Ie:Ie.name,Ne=ul[xe];return Ne||(Ne=ul[xe]=new So),Ne}function We(Ie){return xu(He(Ie),function(){return function(Ie){var xe,Ne;var $e=t(Ie.mapFun,function(dt,St){var Wt={id:Ne._id,key:$i(dt)};null!=St&&(Wt.value=$i(St)),xe.push(Wt)}),Xe=Ie.seq||0;function rt(dt,St){return function(){return function(Ie,xe,Ne){var Ye="_local/lastSeq";return Ie.db.get(Ye).catch(be({_id:Ye,seq:0})).then(function($e){var Xe=ku(xe);return Promise.all(Xe.map(function(rt){return function(Ie,xe,Ne){var Ye="_local/doc_"+Ie,$e={_id:Ye,keys:[]},Xe=Ne.get(Ie),rt=Xe[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(Xe[1])?Promise.resolve($e):xe.db.get(Ye).catch(be($e))).then(function(Ze){return function(Ze){return Ze.keys.length?xe.db.allDocs({keys:Ze.keys,include_docs:!0}):Promise.resolve({rows:[]})}(Ze).then(function(dt){return function(Ze,dt){for(var St=[],Wt=new E,Ut=0,Nt=dt.rows.length;Ut<Nt;Ut++){var er=dt.rows[Ut].doc;if(er&&(St.push(er),Wt.add(er._id),er._deleted=!rt.has(er._id),!er._deleted)){var nn=rt.get(er._id);"value"in nn&&(er.value=nn.value)}}var Yr=ku(rt);return Yr.forEach(function(Ro){if(!Wt.has(Ro)){var Mo={_id:Ro},Fl=rt.get(Ro);"value"in Fl&&(Mo.value=Fl.value),St.push(Mo)}}),Ze.keys=sl(Yr.concat(Ze.keys)),St.push(Ze),St}(Ze,dt)})})}(rt,Ie,xe)})).then(function(rt){var ht=Jn(rt);return $e.seq=Ne,ht.push($e),Ie.db.bulkDocs({docs:ht})})})}(Ie,dt,St)}}var ht=new So;function it(){return Ie.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:Xe,limit:50}).then(mt)}function mt(dt){var St=dt.results;if(St.length){var Wt=function(dt){for(var St=new b,Wt=0,Ut=dt.length;Wt<Ut;Wt++){var Nt=dt[Wt];if("_"!==Nt.doc._id[0]){xe=[],(Ne=Nt.doc)._deleted||i(Ie.sourceDB,$e,Ne),xe.sort(d);var zt=Ze(xe);St.set(Nt.doc._id,[zt,Nt.changes])}Xe=Nt.seq}return St}(St);if(ht.add(rt(Wt,Xe)),!(St.length<50))return it()}}function Ze(dt){for(var Wt,St=new b,Ut=0,Nt=dt.length;Ut<Nt;Ut++){var zt=dt[Ut],er=[zt.key,zt.id];Ut>0&&0===Sr(zt.key,Wt)&&er.push(Ut),St.set(mn(er),zt),Wt=zt.key}return St}return it().then(function(){return ht.finish()}).then(function(){Ie.seq=Xe})}(Ie)})()}function ct(Ie,xe){return xu(He(Ie),function(){return function(Ie,xe){var Ne,Ye=Ie.reduceFun&&!1!==xe.reduce,$e=xe.skip||0;function Xe(Ut){return Ut.include_docs=!0,Ie.db.allDocs(Ut).then(function(Nt){return Ne=Nt.total_rows,Nt.rows.map(function(zt){if("value"in zt.doc&&"object"==typeof zt.doc.value&&null!==zt.doc.value){var er=Object.keys(zt.doc.value).sort(),nn=["id","key","value"];if(!(er<nn||er>nn))return zt.doc.value}var Yr=function(e){for(var t=[],r=[],n=0;;){var i=e[n++];if("\0"!==i)switch(i){case"1":t.push(null);break;case"2":t.push("1"===e[n]),n++;break;case"3":var f=uh(e,n);t.push(f.num),n+=f.length;break;case"4":for(var d="";;){var S=e[n];if("\0"===S)break;d+=S,n++}d=d.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"\x01").replace(/\u0002\u0002/g,"\x02"),t.push(d);break;case"5":var j={element:[],index:t.length};t.push(j.element),r.push(j);break;case"6":var W={element:{},index:t.length};t.push(W.element),r.push(W);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}else{if(1===t.length)return t.pop();ch(t,r)}}}(zt.doc._id);return{key:Yr[0],id:Yr[1],value:"value"in zt.doc?zt.doc.value:null}})})}function rt(Ut){var Nt;if(Nt=Ye?function(Ie,xe,Ne){0===Ne.group_level&&delete Ne.group_level;var Ye=Ne.group||Ne.group_level,$e=r(Ie.reduceFun),Xe=[],rt=isNaN(Ne.group_level)?Number.POSITIVE_INFINITY:Ne.group_level;xe.forEach(function(Ze){var dt=Xe[Xe.length-1],St=Ye?Ze.key:null;if(Ye&&Array.isArray(St)&&(St=St.slice(0,rt)),dt&&0===Sr(dt.groupKey,St))return dt.keys.push([Ze.key,Ze.id]),void dt.values.push(Ze.value);Xe.push({keys:[[Ze.key,Ze.id]],values:[Ze.value],groupKey:St})}),xe=[];for(var ht=0,it=Xe.length;ht<it;ht++){var mt=Xe[ht],ft=f(Ie.sourceDB,$e,mt.keys,mt.values,!1);if(ft.error&&ft.error instanceof Mu)throw ft.error;xe.push({value:ft.error?null:ft.output,key:mt.groupKey})}return{rows:S(xe,Ne.limit,Ne.skip)}}(Ie,Ut,xe):{total_rows:Ne,offset:$e,rows:Ut},xe.update_seq&&(Nt.update_seq=Ie.seq),xe.include_docs){var zt=sl(Ut.map(j));return Ie.sourceDB.allDocs({keys:zt,include_docs:!0,conflicts:xe.conflicts,attachments:xe.attachments,binary:xe.binary}).then(function(er){var nn=new b;return er.rows.forEach(function(Yr){nn.set(Yr.id,Yr.doc)}),Ut.forEach(function(Yr){var Ro=j(Yr),Mo=nn.get(Ro);Mo&&(Yr.doc=Mo)}),Nt})}return Nt}if(void 0!==xe.keys&&!xe.keys.length&&(xe.limit=0,delete xe.keys),void 0!==xe.keys){var it=xe.keys.map(function(Ut){var Nt={startkey:mn([Ut]),endkey:mn([Ut,{}])};return xe.update_seq&&(Nt.update_seq=!0),Xe(Nt)});return Promise.all(it).then(Jn).then(rt)}var ft,Ze,mt={descending:xe.descending};if(xe.update_seq&&(mt.update_seq=!0),"start_key"in xe&&(ft=xe.start_key),"startkey"in xe&&(ft=xe.startkey),"end_key"in xe&&(Ze=xe.end_key),"endkey"in xe&&(Ze=xe.endkey),void 0!==ft&&(mt.startkey=mn(xe.descending?[ft,{}]:[ft])),void 0!==Ze){var dt=!1!==xe.inclusive_end;xe.descending&&(dt=!dt),mt.endkey=mn(dt?[Ze,{}]:[Ze])}if(void 0!==xe.key){var St=mn([xe.key]),Wt=mn([xe.key,{}]);mt.descending?(mt.endkey=St,mt.startkey=Wt):(mt.startkey=St,mt.endkey=Wt)}return Ye||("number"==typeof xe.limit&&(mt.limit=xe.limit),mt.skip=$e),Xe(mt).then(rt)}(Ie,xe)})()}var Ft=function(e){return M()(function(t){var r=t.pop(),n=e.apply(this,t);return"function"==typeof r&&il(n,r),n})}(function(){var Ie=this;return"function"==typeof Ie._viewCleanup?function(Ie){return new Promise(function(xe,Ne){Ie._viewCleanup(function(Ye,$e){if(Ye)return Ne(Ye);xe($e)})})}(Ie):pr(Ie)?function(Ie){return Ie.fetch("_view_cleanup",{headers:new Pa({"Content-Type":"application/json"}),method:"POST"}).then(function(xe){return xe.json()})}(Ie):function(Ie){return Ie.get("_local/"+e).then(function(xe){var Ne=new b;Object.keys(xe.views).forEach(function($e){var Xe=Lu($e),rt="_design/"+Xe[0],ht=Xe[1],it=Ne.get(rt);it||(it=new E,Ne.set(rt,it)),it.add(ht)});var Ye={keys:ku(Ne),include_docs:!0};return Ie.allDocs(Ye).then(function($e){var Xe={};$e.rows.forEach(function(it){var mt=it.key.substring(8);Ne.get(it.key).forEach(function(ft){var Ze=mt+"/"+ft;xe.views[Ze]||(Ze=ft);var dt=Object.keys(xe.views[Ze]),St=it.doc&&it.doc.views&&it.doc.views[ft];dt.forEach(function(Wt){Xe[Wt]=Xe[Wt]||St})})});var ht=Object.keys(Xe).filter(function(it){return!Xe[it]}).map(function(it){return xu(He(it),function(){return new Ie.constructor(it,Ie.__opts).destroy()})()});return Promise.all(ht).then(function(){return{ok:!0}})})},be({ok:!0}))}(Ie)});return{query:function(Ie,xe,Ne){var Ye=this;"function"==typeof xe&&(Ne=xe,xe={}),xe=xe?function(Ie){return Ie.group_level=fe(Ie.group_level),Ie.limit=fe(Ie.limit),Ie.skip=fe(Ie.skip),Ie}(xe):{},"function"==typeof Ie&&(Ie={map:Ie});var $e=Promise.resolve().then(function(){return function(Ie,xe,Ne){if("function"==typeof Ie._query)return function(Ie,xe,Ne){return new Promise(function(Ye,$e){Ie._query(xe,Ne,function(Xe,rt){if(Xe)return $e(Xe);Ye(rt)})})}(Ie,xe,Ne);if(pr(Ie))return function(Ie,xe,Ne){var $e,rt,ht,Ye=[],Xe="GET";if(ne("reduce",Ne,Ye),ne("include_docs",Ne,Ye),ne("attachments",Ne,Ye),ne("limit",Ne,Ye),ne("descending",Ne,Ye),ne("group",Ne,Ye),ne("group_level",Ne,Ye),ne("skip",Ne,Ye),ne("stale",Ne,Ye),ne("conflicts",Ne,Ye),ne("startkey",Ne,Ye,!0),ne("start_key",Ne,Ye,!0),ne("endkey",Ne,Ye,!0),ne("end_key",Ne,Ye,!0),ne("inclusive_end",Ne,Ye),ne("key",Ne,Ye,!0),ne("update_seq",Ne,Ye),Ye=""===(Ye=Ye.join("&"))?"":"?"+Ye,void 0!==Ne.keys){var mt="keys="+encodeURIComponent(JSON.stringify(Ne.keys));mt.length+Ye.length+1<=2e3?Ye+=("?"===Ye[0]?"&":"?")+mt:(Xe="POST","string"==typeof xe?$e={keys:Ne.keys}:xe.keys=Ne.keys)}if("string"==typeof xe){var ft=Lu(xe);return Ie.fetch("_design/"+ft[0]+"/_view/"+ft[1]+Ye,{headers:new Pa({"Content-Type":"application/json"}),method:Xe,body:JSON.stringify($e)}).then(function(Ze){return rt=Ze.ok,ht=Ze.status,Ze.json()}).then(function(Ze){if(!rt)throw Ze.status=ht,Je(Ze);return Ze.rows.forEach(function(dt){if(dt.value&&dt.value.error&&"builtin_reduce_error"===dt.value.error)throw new Error(dt.reason)}),Ze}).then(X(Ne))}return $e=$e||{},Object.keys(xe).forEach(function(Ze){$e[Ze]=Array.isArray(xe[Ze])?xe[Ze]:xe[Ze].toString()}),Ie.fetch("_temp_view"+Ye,{headers:new Pa({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify($e)}).then(function(Ze){return rt=Ze.ok,ht=Ze.status,Ze.json()}).then(function(Ze){if(!rt)throw Ze.status=ht,Je(Ze);return Ze}).then(X(Ne))}(Ie,xe,Ne);if("string"!=typeof xe)return ee(Ne,xe),cl.add(function(){return al(Ie,"temp_view/temp_view",xe.map,xe.reduce,!0,e).then(function(it){return function(e,t){return e.then(function(r){return t().then(function(){return r})},function(r){return t().then(function(){throw r})})}(We(it).then(function(){return ct(it,Ne)}),function(){return it.db.destroy()})})}),cl.finish();var Ye=xe,$e=Lu(Ye),rt=$e[1];return Ie.get("_design/"+$e[0]).then(function(ht){var it=ht.views&&ht.views[rt];if(!it)throw new Ru("ddoc "+ht._id+" has no view named "+rt);return n(ht,rt),ee(Ne,it),al(Ie,Ye,it.map,it.reduce,!1,e).then(function(ft){return"ok"===Ne.stale||"update_after"===Ne.stale?("update_after"===Ne.stale&&I()(function(){We(ft)}),ct(ft,Ne)):We(ft).then(function(){return ct(ft,Ne)})})})}(Ye,Ie,xe)});return il($e,Ne),$e},viewCleanup:Ft}}("indexes",function(e,t){return function(e,t){var r=function(e){for(var t=0,r=e.length;t<r;t++)if(-1!==e[t].indexOf("."))return!1;return!0}(e),n=1===e.length;return r?n?function(e,t){return function(r){t(r[e])}}(e[0],t):function(e,t){return function(r){for(var n=[],i=0,f=e.length;i<f;i++)n.push(r[e[i]]);t(n)}}(e,t):n?function(e,t){var r=yo(e);return function(n){for(var i=n,f=0,d=r.length;f<d;f++)if(void 0===(i=i[r[f]]))return;t(i)}}(e[0],t):function(e,t){return function(r){for(var n=[],i=0,f=e.length;i<f;i++){for(var d=yo(e[i]),S=r,j=0,W=d.length;j<W;j++)if(void 0===(S=S[d[j]]))return;n.push(S)}t(n)}}(e,t)}(Object.keys(e.fields),t)},function(){throw new Error("reduce not supported")},function(e,t){var r=e.views[t];if(!r.map||!r.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")});function Nu(e){return e._customFindAbstractMapper||wp}function vl(e){return e.fields=e.fields.map(function(t){if("string"==typeof t){var r={};return r[t]="asc",r}return t}),e}function Cp(e,t){for(var r=[],n=0;n<t.def.fields.length;n++){var i=Qr(t.def.fields[n]);r.push(e[i])}return r}function gl(e){return e.allDocs({startkey:"_design/",endkey:"_design/\uffff",include_docs:!0}).then(function(t){var r={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return r.indexes=Bu(r.indexes,t.rows.filter(function(n){return"query"===n.doc.language}).map(function(n){return(void 0!==n.doc.views?Object.keys(n.doc.views):[]).map(function(f){return{ddoc:n.id,name:f,type:"json",def:vl(n.doc.views[f].options.def)}})})),r.indexes.sort(function(n,i){return Du(n.name,i.name)}),r.total_rows=r.indexes.length,r})}var ju={"\uffff":{}};const xp={queryOpts:{limit:0,startkey:ju,endkey:null},inMemoryFields:[]};function kp(e,t){for(var r=e.def.fields.map(Qr),n=0,i=r.length;n<i;n++)if(t===r[n])return!0;return!1}function Lp(e,t){return"$eq"!==Qr(e[t])}function yl(e,t){var r=t.def.fields.map(Qr);return e.slice().sort(function(n,i){var f=r.indexOf(n),d=r.indexOf(i);return-1===f&&(f=Number.MAX_VALUE),-1===d&&(d=Number.MAX_VALUE),Du(f,d)})}function Np(e,t,r,n){var i=Bu(e,function(e,t,r){for(var n=!1,i=0,f=(r=yl(r,e)).length;i<f;i++){var d=r[i];if(n||!kp(e,d))return r.slice(i);i<f-1&&Lp(t,d)&&(n=!0)}return[]}(t,r,n),function(e){var t=[];return Object.keys(e).forEach(function(r){Object.keys(e[r]).forEach(function(i){"$ne"===i&&t.push(r)})}),t}(r));return yl(function(e){for(var t={},r=0;r<e.length;r++)t["$"+e[r]]=!0;return Object.keys(t).map(function(n){return n.substring(1)})}(i),t)}var Up=["$eq","$gt","$gte","$lt","$lte"];function _l(e){return-1===Up.indexOf(e)}function Wp(e,t,r,n){var i=e.def.fields.map(Qr);return!!function(e,t,r){if(t){var n=function(e,t){return!(e.length>t.length)&&pl(e,t)}(t,e),i=pl(r,e);return n&&i}return function(e,t){e=e.slice();for(var r=0,n=t.length;r<n;r++){var i=t[r];if(!e.length)break;var f=e.indexOf(i);if(-1===f)return!1;e.splice(f,1)}return!0}(r,e)}(i,t,r)&&function(e,t){var n=t[e[0]];return void 0===n||!(1===Object.keys(n).length&&"$ne"===Qr(n))}(i,n)}function Gp(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function Xp(e,t){var r=e.selector,n=e.sort;if(function(e){return Object.keys(e).map(function(r){return e[r]}).some(function(r){return"object"==typeof r&&0===Object.keys(r).length})}(r))return Cr({},xp,{index:t[0]});var i=function(e,t){var i,r=Object.keys(e),n=t?t.map(Qr):[];return i=r.length>=n.length?r:n,0===n.length?{fields:i}:{fields:i=i.sort(function(f,d){var S=n.indexOf(f);-1===S&&(S=Number.MAX_VALUE);var j=n.indexOf(d);return-1===j&&(j=Number.MAX_VALUE),S<j?-1:S>j?1:0}),sortOrder:t.map(Qr)}}(r,n),f=i.fields,S=function(e,t,r,n,i){var f=function(e,t,r,n){return n.filter(function(i){return Wp(i,r,t,e)})}(e,t,r,n);if(0===f.length){if(i)throw{error:"no_usable_index",message:"There is no index available for this selector."};var d=n[0];return d.defaultUsed=!0,d}if(1===f.length&&!i)return f[0];var S=function(e){for(var t={},r=0,n=e.length;r<n;r++)t[e[r]]=!0;return t}(t);if(i){var W="_design/"+i[0],X=2===i.length&&i[1],ne=f.find(function(fe){return!!(X&&fe.ddoc===W&&X===fe.name||fe.ddoc===W)});if(!ne)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return ne}return function(e,t){for(var r=null,n=-1,i=0,f=e.length;i<f;i++){var d=e[i],S=t(d);S>n&&(n=S,r=d)}return r}(f,function(fe){for(var Se=fe.def.fields.map(Qr),he=0,ee=0,le=Se.length;ee<le;ee++)S[Se[ee]]&&he++;return he})}(r,f,i.sortOrder,t,e.use_index),j=function(e,t){return t.defaultUsed?function(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}(e):1===t.def.fields.length?function(e,t){var d,r=Qr(t.def.fields[0]),n=e[r]||{},i=[];return Object.keys(n).forEach(function(S){_l(S)&&i.push(r);var W=function(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}return{startkey:null}}(S,n[S]);d=d?Fu([d,W]):W}),{queryOpts:d,inMemoryFields:i}}(e,t):function(e,t){var d,S,r=t.def.fields.map(Qr),n=[],i=[],f=[];function j(yt){!1!==d&&i.push(null),!1!==S&&f.push(ju),n=r.slice(yt)}for(var W=0,X=r.length;W<X;W++){var fe=e[r[W]];if(!fe||!Object.keys(fe).length){j(W);break}if(Object.keys(fe).some(_l)){j(W);break}if(W>0){var Se="$gt"in fe||"$gte"in fe||"$lt"in fe||"$lte"in fe,he=Object.keys(e[r[W-1]]),ee=ml(he,["$eq"]),le=ml(he,Object.keys(fe));if(Se&&!ee&&!le){j(W);break}}for(var Oe=Object.keys(fe),be=null,ke=0;ke<Oe.length;ke++){var Me=Oe[ke],We=Gp(Me,fe[Me]);be=be?Fu([be,We]):We}i.push("startkey"in be?be.startkey:null),f.push("endkey"in be?be.endkey:ju),"inclusive_start"in be&&(d=be.inclusive_start),"inclusive_end"in be&&(S=be.inclusive_end)}var Ke={startkey:i,endkey:f};return void 0!==d&&(Ke.inclusive_start=d),void 0!==S&&(Ke.inclusive_end=S),{queryOpts:Ke,inMemoryFields:n}}(e,t)}(r,S);return{queryOpts:j.queryOpts,index:S,inMemoryFields:Np(j.inMemoryFields,S,r,f)}}function bl(e,t,r){return t.selector&&(t.selector=Pu(t.selector)),t.sort&&(t.sort=function(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(t){if("string"==typeof t){var r={};return r[t]="asc",r}return t})}(t.sort)),t.use_index&&(t.use_index=function(e){var t=[];return"string"==typeof e?t.push(e):t=e,t.map(function(r){return r.replace("_design/","")})}(t.use_index)),function(e){if("object"!=typeof e.selector)throw new Error("you must provide a selector when you find()")}(t),gl(e).then(function(n){e.constructor.emit("debug",["find","planning query",t]);var i=Xp(t,n.indexes);e.constructor.emit("debug",["find","query plan",i]);var f=i.index;!function(e,t){if(t.defaultUsed&&e.sort){var r=e.sort.filter(function(n){return"_id"!==Object.keys(n)[0]}).map(function(n){return Object.keys(n)[0]});if(r.length>0)throw new Error('Cannot sort on field(s) "'+r.join(",")+'" when using the default index')}}(t,f);var d=Cr({include_docs:!0,reduce:!1,indexes_count:n.total_rows},i.queryOpts);return"startkey"in d&&"endkey"in d&&Sr(d.startkey,d.endkey)>0?{docs:[]}:(t.sort&&"string"!=typeof t.sort[0]&&"desc"===Ou(t.sort[0])&&(d.descending=!0,d=function(e){var t=ur(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}(d)),i.inMemoryFields.length||("limit"in t&&(d.limit=t.limit),"skip"in t&&(d.skip=t.skip)),r?Promise.resolve(i,d):Promise.resolve().then(function(){if("_all_docs"===f.name)return function(e,t){var r=ur(t);return r.descending?("endkey"in r&&"string"!=typeof r.endkey&&(r.endkey=""),"startkey"in r&&"string"!=typeof r.startkey&&(r.limit=0)):("startkey"in r&&"string"!=typeof r.startkey&&(r.startkey=""),"endkey"in r&&"string"!=typeof r.endkey&&(r.limit=0)),"key"in r&&"string"!=typeof r.key&&(r.limit=0),r.limit>0&&r.indexes_count&&(r.original_limit=r.limit,r.limit+=r.indexes_count),e.allDocs(r).then(function(n){return n.rows=n.rows.filter(function(i){return!/^_design\//.test(i.id)}),r.original_limit&&(r.limit=r.original_limit),n.rows=n.rows.slice(0,r.limit),n})}(e,d);var j=function(e){return e.ddoc.substring(8)+"/"+e.name}(f);return Nu(e).query.call(e,j,d)}).then(function(j){!1===d.inclusive_start&&(j.rows=function(e,t,r){for(var n=r.def.fields,i=0,f=e.length;i<f;i++){var S=Cp(e[i].doc,r);if(1===n.length)S=S[0];else for(;S.length>t.length;)S.pop();if(Math.abs(Sr(S,t))>0)break}return i>0?e.slice(i):e}(j.rows,d.startkey,f)),i.inMemoryFields.length&&(j.rows=Ia(j.rows,t,i.inMemoryFields));var W={docs:j.rows.map(function(X){var ne=X.doc;return t.fields?function(e,t){for(var r={},n=0,i=t.length;n<i;n++){var f=yo(t[n]),d=Cu(e,f);void 0!==d&&mh(r,f,d)}return r}(ne,t.fields):ne})};return f.defaultUsed&&(W.warning="No matching index found, create an index to optimize query time."),W}))})}var nm=Co(function(e,t){var n,r=ur((t=dl(t)).index);function i(){return n||(n=gn(JSON.stringify(t)))}t.index=vl(t.index),function(e){var t=e.fields.filter(function(r){return"asc"===Ou(r)});if(0!==t.length&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}(t.index);var f=t.name||"idx-"+i(),d=t.ddoc||"idx-"+i(),S="_design/"+d,j=!1,W=!1;return e.constructor.emit("debug",["find","creating index",S]),qn(e,S,function(ne){return ne._rev&&"query"!==ne.language&&(j=!0),ne.language="query",ne.views=ne.views||{},!(W=!!ne.views[f])&&(ne.views[f]={map:{fields:Fu(t.index.fields)},reduce:"_count",options:{def:r}},ne)}).then(function(){if(j)throw new Error('invalid language for ddoc with id "'+S+'" (should be "query")')}).then(function(){var ne=d+"/"+f;return Nu(e).query.call(e,ne,{limit:0,reduce:!1}).then(function(){return{id:S,name:f,result:W?"exists":"created"}})})}),im=Co(bl),sm=Co(function(e,t){return bl(e,t,!0).then(function(r){return{dbname:e.name,index:r.index,selector:t.selector,range:{start_key:r.queryOpts.startkey,end_key:r.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}})}),om=Co(gl),am=Co(function(e,t){if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");var r=t.ddoc,n=t.name;return qn(e,r,function(f){return 1===Object.keys(f.views).length&&f.views[n]?{_id:r,_deleted:!0}:(delete f.views[n],f)}).then(function(){return Nu(e).viewCleanup.apply(e)}).then(function(){return{ok:!0}})}),Is={};Is.createIndex=an(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to create"));(pr(this)?tp:nm)(this,e,t)}),Is.find=an(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to find()"));(pr(this)?rp:im)(this,e,t)}),Is.explain=an(function(e,t){if(void 0===t&&(t=e,e=void 0),"object"!=typeof e)return t(new Error("you must provide search parameters to explain()"));(pr(this)?np:sm)(this,e,t)}),Is.getIndexes=an(function(e){(pr(this)?ip:om)(this,e)}),Is.deleteIndex=an(function(e,t){if("object"!=typeof e)return t(new Error("you must provide an index to delete"));(pr(this)?sp:am)(this,e,t)});const um=Is;var El=!1,wl=new Map;function Sl(e){var t=[e.name,e.adapter].join("|"),r=wl.get(t);return r||(r={subject:new Qe.x,obliviousSet:new iu(6e4)},wl.set(t,r)),r}var cm=0;function Al(e){if(e.rxdb)throw Rt("PL2",{plugin:e});"object"==typeof e&&e.default&&(e=e.default),Ta.plugin(e)}Al(um),function(){if(!El){El=!0;var e=Ta.prototype.bulkDocs,t=function(){var r=(0,nt.Z)(je().mark(function n(i,f,d){var j,W,X,ne,fe,Se,ee,S=this;return je().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:if(j=Kr(),W=cm++,"function"==typeof f&&(d=f,f={}),f||(f={}),Array.isArray(i)?X=i:void 0===i?X=[]:(X=i.docs,i.hasOwnProperty("new_edits")&&(f.new_edits=i.new_edits)),0!==X.length){we.next=7;break}throw Ve("SNH",{args:{body:i,options:f}});case 7:if(ne=new Map,!f.hasOwnProperty("new_edits")||!1!==f.new_edits){we.next=18;break}return fe=X.map(function(Oe){return Oe._id}),we.next=12,this.changes({live:!1,since:0,doc_ids:fe,style:"all_docs"});case 12:return Se=we.sent,we.next=15,Promise.all(Se.results.map(function(){var Oe=(0,nt.Z)(je().mark(function be(ke){return je().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:return We.next=2,S.get(ke.id,{rev:ke.changes[0].rev,deleted:"ok",revs:!!f.set_new_edit_as_latest_revision,style:"all_docs"});case 2:return We.abrupt("return",We.sent);case 4:case"end":return We.stop()}},be)}));return function(be){return Oe.apply(this,arguments)}}()));case 15:we.sent.forEach(function(Oe){return ne.set(Oe._id,Oe)}),f.set_new_edit_as_latest_revision&&X.forEach(function(Oe){var ke=ne.get(Oe._id);if(ke){var Me=Oe._rev.split("-"),He=parseInt(Me[0],10),We=Me[1];Oe._revisions={start:He,ids:ke._revisions.ids},Oe._revisions.ids.unshift(We),delete ke._revisions}});case 18:return(ee=jt(f)).isDeeper=!0,we.abrupt("return",e.call(this,X,ee,function(Oe,be){if(Oe){if(!d)throw Oe;d(Oe)}else{if(!f.isDeeper){var ke=Kr(),Me={emitId:W,writeDocs:X,writeOptions:f,writeResult:be,previousDocs:ne,startTime:j,endTime:ke};Sl(S).subject.next(Me)}if(!d)return be;d(null,be)}}));case 21:case"end":return we.stop()}},n,this)}));return function(i,f,d){return r.apply(this,arguments)}}();Ta.plugin({bulkDocs:t})}}();var Do=Ta,Ts=new Set,Ma="_local/",Cl="_design/";function Dl(e){return new Promise(function(t){on(e,function(r){t("md5-"+r)})})}function Ol(e,t){return"_id"===e||t[e]||((t=jt(t))[e]=t._id,delete t._id),t}function vn(e,t){var r=Ol(e,t);return delete(r=jt(r))._revisions,r._attachments={},t._attachments&&Object.entries(t._attachments).forEach(function(n){var f=n[1];r._attachments[n[0]]=f.data?{data:f.data,type:f.type?f.type:f.content_type}:{digest:f.digest,type:f.type?f.type:f.content_type,length:f.length}}),r}function Pl(e,t){var r=Uu(e,t);return(r=jt(r))._attachments={},t._attachments&&Object.entries(t._attachments).forEach(function(n){var f=n[1];r._attachments[n[0]]=f.data?{data:f.data,content_type:f.type}:{digest:f.digest,content_type:f.type,length:f.length,stub:!0}}),r}function Uu(e,t){if("_id"===e)return t;var r=t[e],n=jt(t);return delete n[e],n._id=r,n}function dm(e){return e.substring(Ma.length)}function Il(e,t,r){if(!t)throw new Error("primary missing !!");return(e?"local":"non-local")+"|"+t+"|"+r}function hm(e,t){if(!t)throw Ve("SNH",{args:{pouchDoc:t}});var r=t._id,n=vn(e,t),i=cn(n._rev);return t._deleted?{operation:"DELETE",id:r,doc:null,previous:n}:1===i?{operation:"INSERT",id:r,doc:n,previous:null}:{operation:"UPDATE",id:r,doc:n,previous:"UNKNOWN"}}function zu(e,t){if("_id"===t)return e;if(Array.isArray(e))return e.map(function(n){return zu(n,t)});if("object"==typeof e){var r={};return Object.entries(e).forEach(function(n){var i=n[0],f=n[1];i===t?r._id=f:r[i]=i.startsWith("$")?zu(f,t):f}),r}return e}function Oo(e){return Wu.apply(this,arguments)}function Wu(){return Wu=(0,nt.Z)(je().mark(function e(t){var r;return je().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(t){i.next=2;break}return i.abrupt("return",{});case 2:return r={},i.next=5,Promise.all(Object.entries(t).map(function(){var f=(0,nt.Z)(je().mark(function d(S){var j,W,X,ne;return je().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(j=S[0],(W=S[1]).type){ee.next=3;break}throw Ve("SNH",{args:{obj:W}});case 3:if(!W.data){ee.next=15;break}return X=W,ee.next=7,Dl(X.data);case 7:return ne=ee.sent,ee.next=10,xi_toString(X.data);case 10:r[j]={digest:ne,length:ee.sent.length,type:X.type},ee.next=16;break;case 15:r[j]=W;case 16:case"end":return ee.stop()}},d)}));return function(d){return f.apply(this,arguments)}}()));case 5:return i.abrupt("return",r);case 6:case"end":return i.stop()}},e)})),Wu.apply(this,arguments)}var pm=function(){function e(r,n,i,f,d){var S=this;this.changes$=new Qe.x,this.subs=[],this.databaseName=r,this.collectionName=n,this.schema=i,this.internals=f,this.options=d,Ts.add(this),this.primaryPath=H(this.schema.primaryKey);var j=Sl(this.internals.pouch);this.emittedEventIds=j.obliviousSet;var W=j.subject.subscribe(function(){var X=(0,nt.Z)(je().mark(function ne(fe){var Se,he;return je().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:if(!fe.writeOptions.hasOwnProperty("new_edits")||fe.writeOptions.new_edits){le.next=4;break}return le.next=3,Promise.all(fe.writeDocs.map(function(){var we=(0,nt.Z)(je().mark(function Oe(be){var ke,Me,He;return je().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:return ke=be._id,be=vn(S.primaryPath,be),Ke.next=4,Oo(be._attachments);case 4:if(be._attachments=Ke.sent,(Me=fe.previousDocs.get(ke))&&(Me=vn(S.primaryPath,Me)),!(Me&&cn(Me._rev)>cn(be._rev))){Ke.next=9;break}return Ke.abrupt("return");case 9:if(Me||!be._deleted){Ke.next=11;break}return Ke.abrupt("return");case 11:if(!(Me&&Me._deleted&&be._deleted)){Ke.next=13;break}return Ke.abrupt("return");case 13:if(Me&&!Me._deleted||be._deleted){Ke.next=17;break}He={operation:"INSERT",doc:be,id:ke,previous:null},Ke.next=27;break;case 17:if(!be._deleted||!Me||Me._deleted){Ke.next=22;break}Me._rev=be._rev,He={operation:"DELETE",doc:null,id:ke,previous:Me},Ke.next=27;break;case 22:if(!Me){Ke.next=26;break}He={operation:"UPDATE",doc:be,id:ke,previous:Me},Ke.next=27;break;case 26:throw Ve("SNH",{args:{writeDoc:be}});case 27:S.addEventToChangeStream(He,fe.startTime,fe.endTime);case 28:case"end":return Ke.stop()}},Oe)}));return function(Oe){return we.apply(this,arguments)}}()));case 3:case 9:return le.abrupt("return");case 4:if(fe.writeOptions.custom){le.next=10;break}return Se=new Map,fe.writeDocs.forEach(function(we){return Se.set(we._id,we)}),le.next=9,Promise.all(fe.writeResult.map(function(){var we=(0,nt.Z)(je().mark(function Oe(be){var ke,Me,He;return je().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:if(!(ke=be.id).startsWith(Cl)&&!ke.startsWith(Ma)){Ke.next=3;break}return Ke.abrupt("return");case 3:return Me=ii(Se,be.id),Ke.next=6,Oo(Me._attachments);case 6:Me._attachments=Ke.sent,(Me=jt(Me))._rev=be.rev,He=hm(S.primaryPath,Me),S.addEventToChangeStream(He);case 11:case"end":return Ke.stop()}},Oe)}));return function(Oe){return we.apply(this,arguments)}}()));case 10:return he=fe.writeOptions.custom.writeRowById,le.next=13,Promise.all(fe.writeResult.map(function(){var we=(0,nt.Z)(je().mark(function Oe(be){var ke,Me,He,We,Ke;return je().wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:if(!be.error){ct.next=2;break}return ct.abrupt("return");case 2:return Me=ii(he,ke=be.id),He=vn(S.primaryPath,Me.document),ct.next=7,Oo(He._attachments);case 7:if(He._attachments=ct.sent,He._rev=be.rev,Me.previous&&!Me.previous._deleted){ct.next=13;break}We={operation:"INSERT",doc:He,id:ke,previous:null},ct.next=23;break;case 13:if(!Me.document._deleted){ct.next=22;break}return Ke=vn(S.primaryPath,Me.previous),ct.next=17,Oo(Ke._attachments);case 17:Ke._attachments=ct.sent,Ke._rev=be.rev,We={operation:"DELETE",doc:null,id:be.id,previous:Ke},ct.next=23;break;case 22:We={operation:"UPDATE",doc:He,id:be.id,previous:Me.previous};case 23:Me.document._deleted&&(!Me.previous||Me.previous._deleted)||S.addEventToChangeStream(We,fe.startTime,fe.endTime);case 24:case"end":return ct.stop()}},Oe)}));return function(Oe){return we.apply(this,arguments)}}()));case 13:case"end":return le.stop()}},ne)}));return function(ne){return X.apply(this,arguments)}}());this.subs.push(W)}var t=e.prototype;return t.addEventToChangeStream=function(n,i,f){var d="DELETE"===n.operation?n.previous:n.doc,j=d[H(this.schema.primaryKey)],W=Il(!1,j,d._rev);this.emittedEventIds.has(W)||(this.emittedEventIds.add(W),this.changes$.next({eventId:W,documentId:j,change:n,startTime:i,endTime:f}))},t.close=function(){return this.subs.forEach(function(n){return n.unsubscribe()}),Ts.delete(this),wn},t.remove=function(){var r=(0,nt.Z)(je().mark(function i(){return je().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return this.subs.forEach(function(S){return S.unsubscribe()}),Ts.delete(this),d.next=4,this.internals.pouch.destroy();case 4:case"end":return d.stop()}},i,this)}));return function(){return r.apply(this,arguments)}}(),t.getSortComparator=function(n){var i,f=this,d=H(this.schema.primaryKey),S=n.sort?n.sort:[(i={},i[d]="asc",i)],j=Object.keys(n.selector).filter(function(X){return!X.startsWith("$")});return function(ne,fe){if(ne[d]===fe[d])throw Ve("SNH",{args:{a:ne,b:fe},primaryPath:d});var Se=[ne,fe].map(function(ee){return{doc:Uu(f.primaryPath,ee)}}),he=Ia(Se,{selector:{},sort:S},j);if(2!==he.length)throw Ve("SNH",{query:n,primaryPath:f.primaryPath,args:{rows:Se,sortedRows:he}});return he[0].doc._id===Se[0].doc._id?-1:1}},t.getQueryMatcher=function(n){var i=this,f=Pu(n.selector);return function(j){var ne=Ia([{doc:Uu(i.primaryPath,j)}],{selector:f},Object.keys(n.selector));return ne&&1===ne.length}},t.prepareQuery=function(n){var i=this,f=H(this.schema.primaryKey),d=n;if(d.sort&&d.sort.forEach(function(j){var W=Object.keys(j)[0],X=["$gt","$gte","$lt","$lte"];if(!d.selector[W]||!Object.keys(d.selector[W]).some(function(Se){return X.includes(Se)})){var fe=fr(i.schema,W);if(!fe)throw Ve("QU5",{query:d,key:W});switch(d.selector[W]||(d.selector[W]={}),fe.type){case"number":case"integer":d.selector[W].$gt=-1e28;break;case"string":"string"!=typeof d.selector[W]&&(d.selector[W].$gt="");break;default:d.selector[W].$gt=null}}}),d.selector[f]&&d.selector[f].$regex)throw Ve("QU4",{path:f,query:n});if(d.sort){var S=d.sort.map(function(j){var W,X=Object.keys(j)[0],ne=Object.values(j)[0];return(W={})[X===f?"_id":X]=ne,W});d.sort=S}return Object.entries(d.selector).forEach(function(j){var W=j[0],X=j[1];"object"==typeof X&&null!==X&&!Array.isArray(X)&&0===Object.keys(X).length&&delete d.selector[W]}),d.selector=zu(d.selector,this.primaryPath),d},t.bulkAddRevisions=function(){var r=(0,nt.Z)(je().mark(function i(f){var S,d=this;return je().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(0!==f.length){W.next=2;break}throw Ve("P3",{args:{documents:f}});case 2:return S=f.map(function(X){return Pl(d.primaryPath,X)}),W.next=5,this.internals.pouch.bulkDocs(S,{new_edits:!1,set_new_edit_as_latest_revision:!0});case 5:case"end":return W.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.bulkWrite=function(){var r=(0,nt.Z)(je().mark(function i(f){var S,j,W,X,d=this;return je().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(0!==f.length){fe.next=2;break}throw Ve("P2",{args:{documentWrites:f}});case 2:return S=new Map,j=f.map(function(Se){S.set(Se.document[d.primaryPath],Se);var ee=Pl(d.primaryPath,Se.document);return Se.previous&&(ee._rev=Se.previous._rev),ee}),fe.next=6,this.internals.pouch.bulkDocs(j,{custom:{writeRowById:S}});case 6:return W=fe.sent,X={success:new Map,error:new Map},fe.next=10,Promise.all(W.map(function(){var Se=(0,nt.Z)(je().mark(function he(ee){var le,Oe;return je().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:if(le=ii(S,ee.id),!ee.error){ke.next=6;break}X.error.set(ee.id,{isError:!0,status:409,documentId:ee.id,writeRow:le}),ke.next=18;break;case 6:if(Oe=jt(le.document),(Oe=Ol(d.primaryPath,Oe))._rev=ee.rev,Oe._attachments={},le.document._attachments){ke.next=14;break}le.document._attachments={},ke.next=17;break;case 14:return ke.next=16,Oo(le.document._attachments);case 16:Oe._attachments=ke.sent;case 17:X.success.set(ee.id,Oe);case 18:case"end":return ke.stop()}},he)}));return function(he){return Se.apply(this,arguments)}}()));case 10:return fe.abrupt("return",X);case 11:case"end":return fe.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.query=function(){var r=(0,nt.Z)(je().mark(function i(f){var j,d=this;return je().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,this.internals.pouch.find(f);case 2:return j={documents:X.sent.docs.map(function(ne){return vn(d.primaryPath,ne)})},X.abrupt("return",j);case 5:case"end":return X.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.getAttachmentData=function(){var r=(0,nt.Z)(je().mark(function i(f,d){return je().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this.internals.pouch.getAttachment(f,d);case 2:return W.abrupt("return",W.sent);case 4:case"end":return W.stop()}},i,this)}));return function(i,f){return r.apply(this,arguments)}}(),t.findDocumentsById=function(){var r=(0,nt.Z)(je().mark(function i(f,d){var j,W,X,ne,S=this;return je().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:if(!d){Se.next=8;break}return Se.next=3,this.internals.pouch.changes({live:!1,since:0,doc_ids:f,style:"all_docs"});case 3:return j=Se.sent,W=new Map,Se.next=7,Promise.all(j.results.map(function(){var he=(0,nt.Z)(je().mark(function ee(le){var Oe;return je().wrap(function(ke){for(;;)switch(ke.prev=ke.next){case 0:return ke.next=2,S.internals.pouch.get(le.id,{rev:le.changes[0].rev,deleted:"ok",style:"all_docs"});case 2:Oe=vn(S.primaryPath,ke.sent),W.set(le.id,Oe);case 5:case"end":return ke.stop()}},ee)}));return function(ee){return he.apply(this,arguments)}}()));case 7:return Se.abrupt("return",W);case 8:return Se.next=10,this.internals.pouch.allDocs({include_docs:!0,keys:f});case 10:return X=Se.sent,ne=new Map,X.rows.filter(function(he){return!!he.doc}).forEach(function(he){var ee=he.doc;ee=vn(S.primaryPath,ee),ne.set(he.id,ee)}),Se.abrupt("return",ne);case 14:case"end":return Se.stop()}},i,this)}));return function(i,f){return r.apply(this,arguments)}}(),t.changeStream=function(){return this.changes$.asObservable()},t.getChangedDocuments=function(){var r=(0,nt.Z)(je().mark(function i(f){var d,S,j;return je().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return d={live:!1,limit:f.limit,include_docs:!1,since:f.sinceSequence,descending:"before"===f.direction},ne.next=3,this.internals.pouch.changes(d);case 3:return j=(S=ne.sent).results.filter(function(fe){return!fe.id.startsWith(Cl)}).map(function(fe){return{id:fe.id,sequence:fe.seq}}),ne.abrupt("return",{changedDocuments:j,lastSequence:S.last_seq});case 7:case"end":return ne.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),e}(),mm=function(){function e(r,n,i,f){this.changes$=new Qe.x,this.databaseName=r,this.collectionName=n,this.internals=i,this.options=f,Ts.add(this)}var t=e.prototype;return t.close=function(){return Ts.delete(this),wn},t.remove=function(){var r=(0,nt.Z)(je().mark(function i(){return je().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return Ts.delete(this),d.next=3,this.internals.pouch.destroy();case 3:case"end":return d.stop()}},i,this)}));return function(){return r.apply(this,arguments)}}(),t.bulkWrite=function(){var r=(0,nt.Z)(je().mark(function i(f){var S,j,W,X,ne,fe,d=this;return je().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(0!==f.length){he.next=2;break}throw Ve("P2",{args:{documentWrites:f}});case 2:return S=new Map,j=f.map(function(ee){S.set(ee.document._id,ee);var le=jt(ee.document);return le._id=Ma+le._id,ee.previous&&(le._rev=ee.previous._rev),le}),W=Kr(),he.next=7,this.internals.pouch.bulkDocs(j);case 7:return X=he.sent,ne=Kr(),fe={success:new Map,error:new Map},X.forEach(function(ee){ee.id=dm(ee.id);var le=ii(S,ee.id);if(ee.error)fe.error.set(ee.id,{isError:!0,status:409,documentId:ee.id,writeRow:le});else{var be,Oe=jt(le.document);if(Oe._rev=ee.rev,Oe._attachments={},fe.success.set(ee.id,Oe),le.previous)if(le.document._deleted){var ke=jt(le.previous);ke._rev=ee.rev,be={operation:"DELETE",doc:null,id:ee.id,previous:ke}}else be={operation:"UPDATE",doc:Oe,id:ee.id,previous:le.previous};else be={operation:"INSERT",doc:Oe,id:ee.id,previous:null};if(!le.document._deleted||le.previous&&!le.previous._deleted){var Me="DELETE"===be.operation?be.previous:be.doc,He=Il(!0,Me._id,Me._rev?Me._rev:"");d.changes$.next({eventId:He,documentId:ee.id,change:be,startTime:W,endTime:ne})}}}),he.abrupt("return",fe);case 12:case"end":return he.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.findLocalDocumentsById=function(){var r=(0,nt.Z)(je().mark(function i(f){var S,d=this;return je().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return S=new Map,W.next=3,Promise.all(f.map(function(){var X=(0,nt.Z)(je().mark(function ne(fe){var Se,he;return je().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return Se=Ma+fe,le.prev=1,le.next=4,d.internals.pouch.get(Se);case 4:(he=le.sent)._id=fe,S.set(fe,he),le.next=11;break;case 9:le.prev=9,le.t0=le.catch(1);case 11:case"end":return le.stop()}},ne,null,[[1,9]])}));return function(ne){return X.apply(this,arguments)}}()));case 3:return W.abrupt("return",S);case 4:case"end":return W.stop()}},i)}));return function(i){return r.apply(this,arguments)}}(),t.changeStream=function(){return this.changes$.asObservable()},e}(),vm=function(){function e(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.name="pouchdb",this.adapter=r,this.pouchSettings=n,gm(r)}var t=e.prototype;return t.hash=function(n){return Dl(n)},t.createPouch=function(){var r=(0,nt.Z)(je().mark(function i(f,d){var S,j,W;return je().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return S={location:f,adapter:Wn(this.adapter),settings:d},j=Object.assign({},S.adapter,this.pouchSettings,S.settings),W=new Do(S.location,j),ne.abrupt("return",W);case 4:case"end":return ne.stop()}},i,this)}));return function(i,f){return r.apply(this,arguments)}}(),t.createStorageInstance=function(){var r=(0,nt.Z)(je().mark(function i(f){var d,S;return je().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return d=Tl(f.databaseName,f.collectionName,f.schema.version),W.next=3,this.createPouch(d,f.options);case 3:return S=W.sent,W.next=6,ym(S,f.schema);case 6:return W.abrupt("return",new pm(f.databaseName,f.collectionName,f.schema,{pouch:S},f.options));case 7:case"end":return W.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),t.createKeyObjectStorageInstance=function(){var r=(0,nt.Z)(je().mark(function i(f){var d,S;return je().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return(d=jt(f.options)).auto_compaction=!1,d.revs_limit=1,S=Tl(f.databaseName,f.collectionName,0),X.next=6,this.createPouch(S,f.options);case 6:return X.abrupt("return",new mm(f.databaseName,f.collectionName,{pouch:X.sent},f.options));case 8:case"end":return X.stop()}},i,this)}));return function(i){return r.apply(this,arguments)}}(),e}();function gm(e){if("string"==typeof e){if(!Do.adapters||!Do.adapters[e])throw Ve("DB9",{adapter:e})}else if(function(e){if(!e||"function"!=typeof e.super_)throw Ve("UT4",{adapter:e})}(e),!Do.adapters||!Do.adapters.leveldb)throw Ve("DB10",{adapter:e})}function ym(e,t){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,nt.Z)(je().mark(function e(t,r){var n,f;return je().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(r.indexes){S.next=2;break}return S.abrupt("return");case 2:return n=H(r.primaryKey),S.next=5,t.getIndexes();case 5:return f=new Set(S.sent.indexes.map(function(j){return j.name})),S.next=9,Promise.all(r.indexes.map(function(){var j=(0,nt.Z)(je().mark(function W(X){var ne,fe;return je().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(ne=(ne=Array.isArray(X)?X:[X]).map(function(ee){return ee===n?"_id":ee}),fe="idx-rxdb-index-"+ne.join(","),!f.has(fe)){he.next=5;break}return he.abrupt("return");case 5:return he.abrupt("return",t.createIndex({name:fe,ddoc:fe,index:{fields:ne}}));case 6:case"end":return he.stop()}},W)}));return function(W){return j.apply(this,arguments)}}()));case 9:case"end":return S.stop()}},e)})),Vu.apply(this,arguments)}function Tl(e,t,r){var n=e+"-rxdb-"+r+"-";if(t.includes("/")){var i=t.split("/"),f=i.pop();return i.join("/")+"/"+n+f}return n+t}function _m(e,t){if(!e)throw new Error("adapter missing");return new vm(e,t)}var bm=["__proto__","constructor","prototype"];function Po(e,t){Object.keys(t).forEach(function(r){bm.includes(r)||(void 0===e[r]?e[r]=t[r]:Io(t[r])?Po(e[r],t[r]):e[r]=t[r])})}function Io(e){return"[object Object]"===e.toString()}var xa=function(){function e(r){if(this.options={},this._conditions={},this._fields={},r){var n=this;r.selector&&n.find(r.selector),r.limit&&n.limit(r.limit),r.skip&&n.skip(r.skip),r.sort&&r.sort.forEach(function(i){return n.sort(i)})}}var t=e.prototype;return t.where=function(n,i){if(!arguments.length)return this;var f=typeof arguments[0];if("string"===f)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"===f&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw Rt("MQ1",{path:arguments[0]})},t.equals=function(n){return this._ensurePath("equals"),this._conditions[this._path]=n,this},t.eq=function(n){return this._ensurePath("eq"),this._conditions[this._path]=n,this},t.or=function(n){var i=this._conditions.$or||(this._conditions.$or=[]);return Array.isArray(n)||(n=[n]),i.push.apply(i,n),this},t.nor=function(n){var i=this._conditions.$nor||(this._conditions.$nor=[]);return Array.isArray(n)||(n=[n]),i.push.apply(i,n),this},t.and=function(n){var i=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(n)||(n=[n]),i.push.apply(i,n),this},t.mod=function(n,i){var f,d;1===arguments.length?(this._ensurePath("mod"),f=arguments[0],d=this._path):2!==arguments.length||Array.isArray(arguments[1])?3===arguments.length?(f=arguments.slice(1),d=arguments[0]):(f=arguments[1],d=arguments[0]):(this._ensurePath("mod"),f=arguments.slice(),d=this._path);var S=this._conditions[d]||(this._conditions[d]={});return S.$mod=f,this},t.exists=function(n,i){var f,d;0===arguments.length?(this._ensurePath("exists"),f=this._path,d=!0):1===arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),f=this._path,d=arguments[0]):(f=arguments[0],d=!0):2===arguments.length&&(f=arguments[0],d=arguments[1]);var S=this._conditions[f]||(this._conditions[f]={});return S.$exists=d,this},t.elemMatch=function(n,i){if(null===arguments[0])throw Rt("MQ2");var f,d,S;if("function"==typeof arguments[0])this._ensurePath("elemMatch"),d=this._path,f=arguments[0];else if(Io(arguments[0]))this._ensurePath("elemMatch"),d=this._path,S=arguments[0];else if("function"==typeof arguments[1])d=arguments[0],f=arguments[1];else{if(!arguments[1]||!Io(arguments[1]))throw Rt("MQ2");d=arguments[0],S=arguments[1]}f&&(f(S=new e),S=S._conditions);var j=this._conditions[d]||(this._conditions[d]={});return j.$elemMatch=S,this},t.sort=function(n){var i=this;if(!n)return this;var f,d=typeof n;if(Array.isArray(n)){f=n.length;for(var S=0;S<n.length;++S)wm(this.options,n[S][0],n[S][1]);return this}if(1===arguments.length&&"string"===d){f=(n=n.split(/\s+/)).length;for(var j=0;j<f;++j){var W=n[j];if(W){var X="-"===W[0]?-1:1;-1===X&&(W=W.substring(1)),xl(this.options,W,X)}}return this}if(Io(n)){var ne=Object.keys(n);return ne.forEach(function(fe){return xl(i.options,fe,n[fe])}),this}throw Rt("MQ3",{args:arguments})},t.merge=function(n){if(!n)return this;if(!kl(n))throw Rt("MQ4",{source:n});return n instanceof e?(n._conditions&&Po(this._conditions,n._conditions),n._fields&&(this._fields||(this._fields={}),Po(this._fields,n._fields)),n.options&&(this.options||(this.options={}),Po(this.options,n.options)),n._distinct&&(this._distinct=n._distinct),this):(Po(this._conditions,n),this)},t.find=function(n){return kl(n)&&this.merge(n),this},t._ensurePath=function(n){if(!this._path)throw Ve("MQ5",{method:n})},t.toJSON=function(){var n={selector:this._conditions};return this.options.skip&&(n.skip=this.options.skip),this.options.limit&&(n.limit=this.options.limit),this.options.sort&&(n.sort=function(e){return Object.entries(e).map(function(t){var r;return(r={})[t[0]]=1===t[1]?"asc":"desc",r})}(this.options.sort)),{query:n,path:this._path}},e}(),Rl=["limit","skip","maxScan","batchSize","comment"];Rl.forEach(function(e){xa.prototype[e]=function(t){return this.options[e]=t,this}});var Ml=["gt","gte","lt","lte","ne","in","nin","all","regex","size"];function xl(e,t,r){if(Array.isArray(e.sort))throw Rt("MQ6",{opts:e,field:t,value:r});if(r&&r.$meta)(e.sort||(e.sort={}))[t]={$meta:r.$meta};else{var i=String(r||1).toLowerCase();if(!/^(?:ascending|asc|descending|desc|1|-1)$/.test(i))throw Array.isArray(r)&&(r="["+r+"]"),Rt("MQ7",{field:t,value:r});var f=e.sort||(e.sort={}),d=r.toString().replace("asc","1").replace("ascending","1").replace("desc","-1").replace("descending","-1");f[t]=parseInt(d,10)}}function wm(e,t,r){if(e.sort=e.sort||[],!Array.isArray(e.sort))throw Rt("MQ8",{opts:e,field:t,value:r});e.sort.push([t,r])}function kl(e){return e instanceof xa||Io(e)}Ml.forEach(function(e){xa.prototype[e]=function(){var t,r;1===arguments.length?(this._ensurePath(e),r=arguments[0],t=this._path):(r=arguments[1],t=arguments[0]);var n=null===this._conditions[t]||"object"==typeof this._conditions[t]?this._conditions[t]:this._conditions[t]={};return n["$"+e]=r,this}});var Ku="queryBuilderPath";function $u(e,t){e[t]=function(r){return function(e,t,r){var n=function(e){return new xa(e)}(Or(e.mangoQuery));e.other[Ku]&&(n._path=e.other[Ku]),n[t](r);var i=n.toJSON(),f=new wa(e.op,i.query,e.collection);return i.path&&(f.other[Ku]=i.path),Ec(f)}(this,t,r)}}var Cm={name:"query-builder",rxdb:!0,prototypes:{RxQuery:function(t){["where","equals","eq","or","nor","and","mod","exists","elemMatch","sort"].forEach(function(r){$u(t,r)}),Rl.forEach(function(r){$u(t,r)}),Ml.forEach(function(r){$u(t,r)})}}},Dm=c(9790),Om=c.n(Dm);function Pm(e){var t=this._data,r=Om()(t,e);return this._saveData(r,t)}function Im(e){return this.exec().then(function(t){return t?Array.isArray(t)?Promise.all(t.map(function(r){return r.update(e)})).then(function(){return t}):t.update(e).then(function(){return t}):null})}var Rm={RxDocument:function(t){t.update=Pm},RxQuery:function(t){t.update=Im}},Mm={name:"update",rxdb:!0,prototypes:Rm},xm=c(8167),km=c.n(xm),Hu=new Map;function Gu(e){var t=e.hash;if(!Hu.has(t)){var r=km()(e.jsonSchema);Hu.set(t,r)}return Hu.get(t)}var La,Lm=function(t){var r=Gu(this);if(r(t))return t;throw Ve("VD2",{errors:r.errors,obj:t,schema:this.jsonSchema})},Nm={RxSchema:function(t){t._getValidator=Gu,t.validate=Lm}},jm={createRxSchema:function(t){"object"==typeof window&&window.requestIdleCallback&&window.requestIdleCallback(function(){Gu(t)})}},Um={name:"validate",rxdb:!0,prototypes:Nm,hooks:jm},Qt=c(3900),rn=c(2843),fi=c(9646),ka=c(9770),Yn=c(2076),To=c(4128),zm=new Uint8Array(16);function Wm(){if(!La&&!(La="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return La(zm)}const Vm=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,$m=function(e){return"string"==typeof e&&Vm.test(e)};for(var Ar=[],Qu=0;Qu<256;++Qu)Ar.push((Qu+256).toString(16).substr(1));const Zm=function(e,t,r){var n=(e=e||{}).random||(e.rng||Wm)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(Ar[e[t+0]]+Ar[e[t+1]]+Ar[e[t+2]]+Ar[e[t+3]]+"-"+Ar[e[t+4]]+Ar[e[t+5]]+"-"+Ar[e[t+6]]+Ar[e[t+7]]+"-"+Ar[e[t+8]]+Ar[e[t+9]]+"-"+Ar[e[t+10]]+Ar[e[t+11]]+Ar[e[t+12]]+Ar[e[t+13]]+Ar[e[t+14]]+Ar[e[t+15]]).toLowerCase();if(!$m(r))throw TypeError("Stringified UUID is invalid");return r}(n)};let Ym=(()=>{class e{constructor(){this.isInitialized=!1}initialize(r){this.isInitialized?console.warn("PermissionsService already initialized"):(this.collection=r,this.isInitialized=!0)}requestPermissions(r){return(0,ka.P)(()=>this.isInitialized&&this.collection?(0,Yn.D)(this.collection.bulkInsert(r)).pipe((0,Lt.U)(({success:n})=>!!n)):(0,rn._)(()=>new Error("PermissionsService not initialized")))}hasPermission(r){return(0,ka.P)(()=>{if(!this.isInitialized||!this.collection)return(0,rn._)(()=>new Error("PermissionsService not initialized"));const n=this.collection.findOne({selector:{id:`${r.appId}:${r.kind}:${r.mode}:${r.target}`}});return(0,Yn.D)(n.exec()).pipe((0,Lt.U)(i=>!!i))})}}return e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=l.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Zr=c(899);class Jm{constructor(t,r,n){this.appId=t,this.collection=r,this.acl=n}insert(t){return this.requestPermission(Zr.R.Write).pipe((0,Qt.w)(()=>this.collection.insert(t)),(0,Lt.U)(r=>r.toJSON()))}upsert(t){return this.requestPermission(Zr.R.Write).pipe((0,Qt.w)(()=>this.collection.upsert(t)),(0,Lt.U)(r=>r.toJSON()))}findOne(t){return this.requestPermission(Zr.R.Read).pipe((0,Qt.w)(()=>this.collection.findOne(t).exec()),(0,Lt.U)(r=>r?r.toJSON():null))}find(t){return this.requestPermission(Zr.R.Read).pipe((0,Qt.w)(()=>this.collection.find(t).exec()),(0,Lt.U)(r=>r.map(n=>n.toJSON())))}observe(t){return this.requestPermission(Zr.R.Read).pipe((0,Qt.w)(()=>this.collection.find(t).$),(0,Lt.U)(r=>r.map(n=>n.toJSON())))}observeOne(t){return this.observe(t).pipe((0,Lt.U)(r=>r.length>0?r[0]:null))}update(t,r){return this.requestPermission(Zr.R.Write).pipe((0,Qt.w)(()=>this.collection.find(t).update(r)),(0,Lt.U)(n=>n.map(i=>i.toJSON())))}remove(t){return this.requestPermission(Zr.R.Write).pipe((0,Qt.w)(()=>this.collection.find(t).remove()),(0,Lt.U)(r=>r.map(n=>n.toJSON())))}putAttachment(t,r,n=!1){return this.requestPermission(Zr.R.Write).pipe((0,Qt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Qt.w)(i=>i?i.putAttachment(r,n):(0,rn._)(()=>new Error("No document found for id "+t))),(0,Lt.U)(i=>i.id))}getAttachment(t,r){return this.requestPermission(Zr.R.Read).pipe((0,Qt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Qt.w)(n=>n?(0,fi.of)(n.getAttachment(r)):(0,rn._)(()=>new Error("No document found for id "+t))),(0,Qt.w)(n=>n?(0,Yn.D)(n.getData()).pipe((0,Lt.U)(i=>({id:n.id,data:i,type:n.type}))):(0,rn._)(()=>new Error("No attachment found for id "+r))))}getAllAttachments(t){return this.requestPermission(Zr.R.Read).pipe((0,Qt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Qt.w)(r=>r?(0,fi.of)(r.allAttachments()):(0,rn._)(()=>new Error("No document found for id "+t))),(0,Qt.w)(r=>(0,To.D)(r.map(n=>(0,Yn.D)(n.getData()).pipe((0,Lt.U)(i=>({id:n.id,data:i,type:n.type})))))))}removeAttachment(t,r){return this.requestPermission(Zr.R.Write).pipe((0,Qt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Qt.w)(n=>{if(!n)return(0,rn._)(()=>new Error("No document found for id "+t));const i=n.getAttachment(r);return i?i.remove():(0,rn._)(()=>new Error("No attachment found for id "+r))}))}observeAttachments(t){return this.requestPermission(Zr.R.Read).pipe((0,Qt.w)(()=>this.collection.findOne({selector:{id:t}}).exec()),(0,Qt.w)(r=>r?r.allAttachments$:(0,rn._)(()=>new Error("No document found for id "+t))),(0,Qt.w)(r=>(0,To.D)(r.map(n=>(0,Yn.D)(n.getData()).pipe((0,Lt.U)(i=>({id:n.id,data:i,type:n.type})))))))}requestPermission(t){return this.acl.hasPermission({appId:this.appId,kind:Zr.k.Collection,mode:t,target:this.collection.name}).pipe((0,Qt.w)(r=>r?(0,fi.of)(r):(0,rn._)(()=>new Error(`No permission to perform action ${t} on ${this.collection.name} with appId ${this.appId}`))))}}Al(_),go(Hd),go(Um),go(nh),go(Cm),go(Mm);const Ll=new l.InjectionToken("ENTITY_MANAGER_BASE_COLLECTIONS_TOKEN"),Bl=new l.InjectionToken("ENTITY_MANAGER_INITIAL_DATA_TOKEN");let Xm=(()=>{class e{constructor(r,n,i){this.acl=r,this.baseCollections=n,this.initialData=i,this.initialize$=new _t(0)}setupDatabase(r,n){return this.createDatabase(r,n).pipe((0,Qt.w)(i=>this.addBaseCollections(i)),(0,bt.b)(i=>this.acl.initialize(i.applicationpermissions)),(0,Qt.w)(i=>this.addInitialData(i)),(0,bt.b)(()=>this.initialize$.next()),(0,Lt.U)(()=>{}))}isDatabaseCreated(){return void 0!==this._dbInstance}getRepository(r,n){if(!this._dbInstance)return(0,rn._)(()=>new Error("Database not initialized"));const i=this._dbInstance.collections[r];if(!i)return(0,rn._)(()=>new Error("Collection not initialized"));const f=new Jm(n,i,this.acl);return(0,fi.of)(f)}createDatabase(r,n){return(0,ka.P)(()=>(0,Yn.D)(function(e){var Se,t=e.storage,r=e.instanceCreationOptions,n=e.name,i=e.password,f=e.multiInstance,d=void 0===f||f,S=e.eventReduce,j=void 0!==S&&S,W=e.ignoreDuplicate,X=void 0!==W&&W,ne=e.options,fe=void 0===ne?{}:ne;Yt("preCreateRxDatabase",{storage:t,instanceCreationOptions:r,name:n,password:i,multiInstance:d,eventReduce:j,ignoreDuplicate:X,options:fe}),i&&nr.validatePassword(i),X||function(e){if(cu.has(e))throw Ve("DB8",{name:e,link:"https://pubkey.github.io/rxdb/rx-database.html#ignoreduplicate"})}(n),cu.add(n),d&&(Se=new au("RxDB:"+n+":socket"));var he=new qa;return Uc(t,n,r,he,Se).then(function(ee){var le=new Da(n,t,r,i,d,j,fe,he,ee.internalStore,ee.localDocumentsStore,Se);return function(e){return pu.apply(this,arguments)}(le).then(function(){return ki("createRxDatabase",le)}).then(function(){return le})})}({name:r,password:n,storage:_m("idb")})).pipe((0,bt.b)(i=>this._dbInstance=i)))}addBaseCollections(r){const n=this.baseCollections.reduce((i,f)=>Object.assign(i,{[f.name]:f.creator}),{});return(0,ka.P)(()=>(0,Yn.D)(r.addCollections(n)).pipe((0,bt.b)(i=>{Object.values(i).forEach(f=>{f.preInsert(d=>{const S=(new Date).toISOString();d.id=d.id||Zm(),d.createdAt=d.createdAt||S,d.updatedAt=d.updatedAt||S},!1),f.preSave((d,S)=>{const j=(new Date).toISOString();d.createdAt=S.createdAt||j,d.updatedAt=j},!1)})})))}addInitialData(r){return(0,To.D)(this.initialData.map(n=>{const i=r[n.name],f=!("upsert"in n)||n.upsert;return(0,To.D)(n.data.map(d=>(f?(0,fi.of)(!0):(0,Yn.D)(i.findOne({selector:{id:d.id}}).exec()).pipe((0,Lt.U)(j=>!j))).pipe((0,Qt.w)(j=>j?(0,Yn.D)(i.upsert(d)).pipe((0,Qt.w)(()=>{if("userapplications"!==n.name)return(0,fi.of)(void 0);const W=(d.additionalProperties?.permissions||[]).map(X=>({...X,appId:d.id,id:`${d.id}:${X.kind}:${X.mode}:${X.target}`}));return W.length?(0,To.D)(W.map(X=>r.applicationpermissions.upsert(X))):(0,fi.of)(void 0)})):(0,fi.of)(void 0)))))}))}}return e.\u0275fac=function(r){return new(r||e)(l.\u0275\u0275inject(Ym),l.\u0275\u0275inject(Ll),l.\u0275\u0275inject(Bl))},e.\u0275prov=l.\u0275\u0275defineInjectable({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},43:(ae,N,c)=>{c.d(N,{T:()=>T});var _=c(1457),O=c(1375),M=c(1135),B=c(3900),x=c(4128),U=c(8505),R=c(2843),D=c(9841),E=c(7777);let T=(()=>{class P{constructor(I,w){this.document=I,this.entityManager=w,this.customizationSettings$=new M.X(void 0),this.entityManager.initialize$.pipe((0,B.w)(()=>(0,x.D)([this.entityManager.getRepository("userpreferences","com.central-factory.settings")])),(0,U.b)(([y])=>{this.userPreferencesRepository=y,this.subscribeToDataChanges()})).subscribe()}setCustomizationSettings(I,w){return this.userPreferencesRepository?this.userPreferencesRepository.upsert({id:"settings.customization"+(w?`.${w}`:""),key:"settings.customization",value:I,avatar:w}):(0,R._)(()=>new Error("Repositories not initialized"))}subscribeToDataChanges(){if(!this.userPreferencesRepository)throw new Error("Repositories not initialized");this.customizationSettings$.pipe((0,U.b)(I=>{!I||I.theme&&this.loadThemeFromUrl(I.theme.path)})).subscribe(),(0,D.a)([this.userPreferencesRepository.observeOne({selector:{key:"userAvatars.selectedAvatar"}}),this.userPreferencesRepository.observe({selector:{key:"settings.customization"}})]).pipe((0,U.b)(([I,w])=>{if(w.length<=0)return;const y=w.find(u=>u.avatar===I?.value)||w[0];this.customizationSettings$.next(y.value)})).subscribe()}loadThemeFromUrl(I){if(this.activeThemeLinkElem&&this.activeThemeLinkElem?.href.endsWith(I))return;const y=this.document.getElementsByTagName("head")[0],u=this.document.createElement("link");u.rel="stylesheet",u.href=I,y.appendChild(u),this.activeThemeLinkElem&&y.removeChild(this.activeThemeLinkElem),this.activeThemeLinkElem=u}}return P.\u0275fac=function(I){return new(I||P)(E.\u0275\u0275inject(_.DOCUMENT),E.\u0275\u0275inject(O.v2))},P.\u0275prov=E.\u0275\u0275defineInjectable({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},4438:(ae,N,c)=>{c.d(N,{O:()=>O});var _=c(7777);let O=(()=>{class M{}return M.\u0275fac=function(x){return new(x||M)},M.\u0275mod=_.\u0275\u0275defineNgModule({type:M}),M.\u0275inj=_.\u0275\u0275defineInjector({}),M})()},1894:(ae,N,c)=>{c.d(N,{t:()=>O});var _=c(7777);let O=(()=>{class M{constructor(){this.separators={el:"__",mod:"--",val:"-"},this.ignoreValues=!1,this.modCase="kebab"}setMods(x,U,R,D,E,b){Object.keys(R).forEach(T=>{if(D[T]){if(R[T]===D[T])return;b.removeClass(E.nativeElement,this.generateClass(x,U,T,D[T]))}R[T]&&b.addClass(E.nativeElement,this.generateClass(x,U,T,R[T]))}),Object.keys(D).forEach(T=>{!(T in R)&&D[T]&&b.removeClass(E.nativeElement,this.generateClass(x,U,T,D[T]))})}generateClass(x,U,R,D){this.ignoreValues&&(D=!!D),"string"!=typeof D&&"boolean"!=typeof D&&(D=!!D);let E=x;return U&&(E+=this.separators.el+U),R&&(R=this.modNameHandler(R),E+=this.separators.mod+R,"boolean"!=typeof D&&null!=D&&(E+=this.separators.val+D)),E}parseMods(x){if("string"==typeof x&&(x=x.split(/\s+/)),Array.isArray(x)){const U=x;x={},U.forEach(R=>{x[R]=!0})}else if("object"!=typeof x)return{};return x}modNameHandler(x){switch(this.modCase){case"kebab":return x?x.replace(/[A-Z]/g,function(U){return"-"+U.toLowerCase()}).replace(/$\-/,""):"";case"snake":return x?x.replace(/[A-Z]/g,function(U){return"_"+U.toLowerCase()}).replace(/$\-/,""):"";default:return x}}}return M.\u0275fac=function(x){return new(x||M)},M.\u0275prov=_.\u0275\u0275defineInjectable({token:M,factory:M.\u0275fac,providedIn:"root"}),M})()},1623:(ae,N,c)=>{c.d(N,{G:()=>M});var _=c(7777),O=c(1894);let M=(()=>{class B{constructor(U,R,D,E){this.bemService=E,this.name=D,this.element=U,this.renderer=R,R.addClass(U.nativeElement,this.bemService.generateClass(D))}ngOnChanges(){if(JSON.stringify(this.cfMod)!==this._modSerialized){this._modSerialized=JSON.stringify(this.cfMod);let U=this.cfMod;const{renderer:R,element:D,name:E}=this;U=this.bemService.parseMods(U),this.bemService.setMods(E,"",U,this._mods||{},D,R),this._mods=this._mods===U?Object.assign({},U):U}}}return B.\u0275fac=function(U){return new(U||B)(_.\u0275\u0275directiveInject(_.ElementRef),_.\u0275\u0275directiveInject(_.Renderer2),_.\u0275\u0275injectAttribute("cfBlock"),_.\u0275\u0275directiveInject(O.t))},B.\u0275dir=_.\u0275\u0275defineDirective({type:B,selectors:[["","cfBlock",""]],inputs:{cfMod:"cfMod"},features:[_.\u0275\u0275NgOnChangesFeature]}),B})()},3454:(ae,N,c)=>{c.d(N,{e:()=>B});var _=c(7777),O=c(1894),M=c(1623);let B=(()=>{class x{constructor(R,D,E,b,T){this.bemService=T,this.blockName=b.name,this.name=E,this.element=R,this.renderer=D,D.addClass(R.nativeElement,this.bemService.generateClass(b.name,E))}ngOnChanges(){if(JSON.stringify(this.cfMod)!==this._modSerialized){this._modSerialized=JSON.stringify(this.cfMod);let R=this.cfMod;const{renderer:D,element:E,blockName:b,name:T}=this;R=this.bemService.parseMods(R),this.bemService.setMods(b,T,R,this._mods||{},E,D),this._mods=this._mods===R?Object.assign({},R):R}}}return x.\u0275fac=function(R){return new(R||x)(_.\u0275\u0275directiveInject(_.ElementRef),_.\u0275\u0275directiveInject(_.Renderer2),_.\u0275\u0275injectAttribute("cfElem"),_.\u0275\u0275directiveInject(M.G),_.\u0275\u0275directiveInject(O.t))},x.\u0275dir=_.\u0275\u0275defineDirective({type:x,selectors:[["","cfElem",""]],inputs:{cfMod:"cfMod"},features:[_.\u0275\u0275NgOnChangesFeature]}),x})()},7967:(ae,N,c)=>{c.d(N,{I:()=>O});var _=c(7777);let O=(()=>{class M{}return M.\u0275fac=function(x){return new(x||M)},M.\u0275dir=_.\u0275\u0275defineDirective({type:M,selectors:[["","cfMod",""]]}),M})()},5183:(ae,N,c)=>{c.d(N,{L:()=>R});var _=c(1457),O=c(7777);function B(D,E){if(1&D){const b=O.\u0275\u0275getCurrentView();O.\u0275\u0275elementStart(0,"div",2),O.\u0275\u0275listener("click",function(){return O.\u0275\u0275restoreView(b),O.\u0275\u0275nextContext()._onBackdropClicked()}),O.\u0275\u0275elementEnd()}if(2&D){const b=O.\u0275\u0275nextContext();O.\u0275\u0275property("ngClass",b.backdropClass)}}const x=[[["cf-sidebar"],["","cf-sidebar",""]],[["","cf-sidebar-content",""]]],U=["cf-sidebar,[cf-sidebar]","[cf-sidebar-content]"];let R=(()=>{class D{constructor(b,T){this._ref=b,this.animate=!0,this.allowSidebarBackdropControl=!0,this.showBackdrop=!1,this.showBackdropChange=new O.EventEmitter,this.backdropClick=new O.EventEmitter,this._sidebars=[],this._isBrowser=(0,_.isPlatformBrowser)(T)}ngAfterContentInit(){!this._isBrowser||this._onToggle()}ngOnChanges(b){!this._isBrowser||b.showBackdrop&&this.showBackdropChange.emit(b.showBackdrop.currentValue)}ngOnDestroy(){!this._isBrowser||this._unsubscribe()}_addSidebar(b){this._sidebars.push(b),this._subscribe(b)}_removeSidebar(b){const T=this._sidebars.indexOf(b);-1!==T&&this._sidebars.splice(T,1)}_getContentStyle(){let b=0,T=0,P=0,L=0,I="",w="",y="";for(const u of this._sidebars)if(u._isModeSlide&&u.opened&&(I=`translate${u._isLeftOrRight?"X":"Y"}(${u._isLeftOrTop?"":"-"}${u._isLeftOrRight?u._width:u._height}px)`),u._isModePush&&u.opened||u.dock){let a=0;switch(u._isModeSlide&&u.opened?u._isLeftOrRight?y="100%":w="100%":a=u._isDocked||u._isModeOver&&u.dock?u._dockedSize:u._isLeftOrRight?u._width:u._height,u.position){case"left":b=Math.max(b,a);break;case"right":T=Math.max(T,a);break;case"top":P=Math.max(P,a);break;case"bottom":L=Math.max(L,a)}}return{padding:`${P}px ${T}px ${L}px ${b}px`,webkitTransform:I,transform:I,height:w,width:y}}_onBackdropClicked(){let b=!1;for(const T of this._sidebars)T.opened&&T.showBackdrop&&T.closeOnClickBackdrop&&(T.close(),b=!0);b&&this.backdropClick.emit()}_subscribe(b){b.openStart.subscribe(()=>this._onToggle()),b.sidebarOpen.subscribe(()=>this._markForCheck()),b.closeStart.subscribe(()=>this._onToggle()),b.sidebarClose.subscribe(()=>this._markForCheck()),b.modeChange.subscribe(()=>this._markForCheck()),b.positionChange.subscribe(()=>this._markForCheck()),b._onRerender.subscribe(()=>this._markForCheck())}_unsubscribe(){for(const b of this._sidebars)b.openStart.unsubscribe(),b.sidebarOpen.unsubscribe(),b.closeStart.unsubscribe(),b.sidebarClose.unsubscribe(),b.modeChange.unsubscribe(),b.positionChange.unsubscribe(),b._onRerender.unsubscribe()}_onToggle(){if(this._sidebars.length>0&&this.allowSidebarBackdropControl){const b=this._sidebars.some(T=>T.opened&&T.showBackdrop);this.showBackdrop=b,this.showBackdropChange.emit(b)}setTimeout(()=>{this._markForCheck()})}_markForCheck(){this._ref.markForCheck()}}return D.\u0275fac=function(b){return new(b||D)(O.\u0275\u0275directiveInject(O.ChangeDetectorRef),O.\u0275\u0275directiveInject(O.PLATFORM_ID))},D.\u0275cmp=O.\u0275\u0275defineComponent({type:D,selectors:[["cf-sidebar-container"]],inputs:{animate:"animate",allowSidebarBackdropControl:"allowSidebarBackdropControl",showBackdrop:"showBackdrop",contentClass:"contentClass",backdropClass:"backdropClass"},outputs:{showBackdropChange:"showBackdropChange",backdropClick:"backdropClick"},features:[O.\u0275\u0275NgOnChangesFeature],ngContentSelectors:U,decls:4,vars:5,consts:[["aria-hidden","true","class","cf-sidebar__backdrop",3,"ngClass","click",4,"ngIf"],[1,"cf-sidebar__content",3,"ngClass","ngStyle"],["aria-hidden","true",1,"cf-sidebar__backdrop",3,"ngClass","click"]],template:function(b,T){1&b&&(O.\u0275\u0275projectionDef(x),O.\u0275\u0275template(0,B,1,1,"div",0),O.\u0275\u0275projection(1),O.\u0275\u0275elementStart(2,"div",1),O.\u0275\u0275projection(3,1),O.\u0275\u0275elementEnd()),2&b&&(O.\u0275\u0275property("ngIf",T.showBackdrop),O.\u0275\u0275advance(2),O.\u0275\u0275classProp("cf-sidebar__content--animate",T.animate),O.\u0275\u0275property("ngClass",T.contentClass)("ngStyle",T._getContentStyle()))},directives:[_.NgIf,_.NgClass,_.NgStyle],encapsulation:2,changeDetection:0}),D})()},6111:(ae,N,c)=>{c.d(N,{k:()=>R});var _=c(1457),l=c(7777),B=c(5183);const x=["sidebar"],U=["*"];let R=(()=>{class D{constructor(b,T,P){if(this._container=b,this._ref=T,this.opened=!1,this.openedChange=new l.EventEmitter,this.mode="over",this.dock=!1,this.dockedSize="0px",this.position="start",this.animate=!0,this.autoCollapseOnInit=!0,this.trapFocus=!1,this.autoFocus=!0,this.showBackdrop=!1,this.closeOnClickBackdrop=!1,this.closeOnClickOutside=!1,this.keyClose=!1,this.keyCode=27,this.contentInit=new l.EventEmitter,this.openStart=new l.EventEmitter,this.sidebarOpen=new l.EventEmitter,this.closeStart=new l.EventEmitter,this.sidebarClose=new l.EventEmitter,this.transitionEnd=new l.EventEmitter,this.modeChange=new l.EventEmitter,this.positionChange=new l.EventEmitter,this._onRerender=new l.EventEmitter,this._focusableElementsString="a[href], area[href], input:not([disabled]), select:not([disabled]),textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], [contenteditable]",this._tabIndexAttr="__tabindex__",this._tabIndexIndicatorAttr="__ngsidebar-tabindex__",this._clickEvent="click",this._onClickOutsideAttached=!1,this._onKeyDownAttached=!1,this._onResizeAttached=!1,!this._container)throw new Error("<cf-sidebar> must be inside a <cf-sidebar-container>. See https://github.com/arkon/ng-sidebar#usage for more info.");this._isBrowser=(0,_.isPlatformBrowser)(P),this._isBrowser&&"undefined"!=typeof window&&"undefined"!=typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!("onclick"in window)&&(this._clickEvent="touchstart"),this._normalizePosition(),this.open=this.open.bind(this),this._onTransitionEnd=this._onTransitionEnd.bind(this),this._onFocusTrap=this._onFocusTrap.bind(this),this._onClickOutside=this._onClickOutside.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._collapse=this._collapse.bind(this)}ngOnInit(){!this._isBrowser||(this.animate&&(this._shouldAnimate=!0,this.animate=!1),this._container._addSidebar(this),this.autoCollapseOnInit&&this._collapse())}ngAfterContentInit(){this.contentInit.emit()}ngOnChanges(b){!this._isBrowser||(b.animate&&this._shouldAnimate&&(this._shouldAnimate=b.animate.currentValue),b.closeOnClickOutside&&(b.closeOnClickOutside.currentValue?this._initCloseClickListener():this._destroyCloseClickListener()),b.keyClose&&(b.keyClose.currentValue?this._initCloseKeyDownListener():this._destroyCloseKeyDownListener()),b.position&&(this._normalizePosition(),setTimeout(()=>{this.positionChange.emit(b.position.currentValue)})),b.mode&&setTimeout(()=>{this.modeChange.emit(b.mode.currentValue)}),b.dock&&this.triggerRerender(),b.opened&&(this._shouldAnimate&&(this.animate=!0,this._shouldAnimate=!1),b.opened.currentValue?this.open():this.close()),(b.autoCollapseHeight||b.autoCollapseWidth)&&this._initCollapseListeners())}ngOnDestroy(){!this._isBrowser||(this._destroyCloseListeners(),this._destroyCollapseListeners(),this._container._removeSidebar(this))}open(){!this._isBrowser||(this.opened=!0,this.openedChange.emit(!0),this.openStart.emit(),this._ref.detectChanges(),setTimeout(()=>{this.animate&&!this._isModeSlide?this._elSidebar.nativeElement.addEventListener("transitionend",this._onTransitionEnd):(this._setFocused(),this._initCloseListeners(),this.opened&&this.sidebarOpen.emit())}))}close(){!this._isBrowser||(this.opened=!1,this.openedChange.emit(!1),this.closeStart.emit(),this._ref.detectChanges(),setTimeout(()=>{this.animate&&!this._isModeSlide?this._elSidebar.nativeElement.addEventListener("transitionend",this._onTransitionEnd):(this._setFocused(),this._destroyCloseListeners(),this.opened||this.sidebarClose.emit())}))}triggerRerender(){!this._isBrowser||setTimeout(()=>{this._onRerender.emit()})}_getStyle(){let b="";if(!this.opened){const T="translate"+(this._isLeftOrRight?"X":"Y");b=`${T}(${(this._isLeftOrTop?"-":"")+"100%"})`,this.dock&&this._dockedSize>0&&(!this._isModeSlide||!this.opened)&&(b+=` ${T}(${this._isLeftOrTop?"+":"-"}${this.dockedSize})`)}return{webkitTransform:b,transform:b}}_onTransitionEnd(b){b.target===this._elSidebar.nativeElement&&b.propertyName.endsWith("transform")&&(this._setFocused(),this.opened?(this._initCloseListeners(),this.sidebarOpen.emit()):(this._destroyCloseListeners(),this.sidebarClose.emit()),this.transitionEnd.emit(),this._elSidebar.nativeElement.removeEventListener("transitionend",this._onTransitionEnd))}get _shouldTrapFocus(){return this.opened&&this.trapFocus}_focusFirstItem(){this._focusableElements&&this._focusableElements.length>0&&this._focusableElements[0].focus()}_onFocusTrap(b){this._shouldTrapFocus&&!this._elSidebar.nativeElement.contains(b.target)&&this._focusFirstItem()}_setFocused(){if(this._focusableElements=Array.from(this._elSidebar.nativeElement.querySelectorAll(this._focusableElementsString)),this.opened){this._focusedBeforeOpen=document.activeElement;for(const b of this._focusableElements){const T=b.getAttribute(this._tabIndexAttr),P=null!==b.getAttribute(this._tabIndexIndicatorAttr);null!==T?(b.setAttribute("tabindex",T),b.removeAttribute(this._tabIndexAttr)):P&&(b.removeAttribute("tabindex"),b.removeAttribute(this._tabIndexIndicatorAttr))}this.autoFocus&&this._focusFirstItem(),document.addEventListener("focus",this._onFocusTrap,!0)}else{for(const b of this._focusableElements){const T=b.getAttribute("tabindex");b.setAttribute("tabindex","-1"),b.setAttribute(this._tabIndexIndicatorAttr,""),null!==T&&b.setAttribute(this._tabIndexAttr,T)}document.removeEventListener("focus",this._onFocusTrap,!0),this._focusedBeforeOpen&&this.autoFocus&&this._isModeOver&&(this._focusedBeforeOpen.focus(),this._focusedBeforeOpen=null)}}_initCloseListeners(){this._initCloseClickListener(),this._initCloseKeyDownListener()}_initCloseClickListener(){setTimeout(()=>{this.opened&&this.closeOnClickOutside&&!this._onClickOutsideAttached&&(document.addEventListener(this._clickEvent,this._onClickOutside),this._onClickOutsideAttached=!0)})}_initCloseKeyDownListener(){setTimeout(()=>{this.opened&&this.keyClose&&!this._onKeyDownAttached&&(document.addEventListener("keydown",this._onKeyDown),this._onKeyDownAttached=!0)})}_destroyCloseListeners(){this._destroyCloseClickListener(),this._destroyCloseKeyDownListener()}_destroyCloseClickListener(){this._onClickOutsideAttached&&(document.removeEventListener(this._clickEvent,this._onClickOutside),this._onClickOutsideAttached=!1)}_destroyCloseKeyDownListener(){this._onKeyDownAttached&&(document.removeEventListener("keydown",this._onKeyDown),this._onKeyDownAttached=!1)}_onClickOutside(b){this._onClickOutsideAttached&&this._elSidebar&&!this._elSidebar.nativeElement.contains(b.target)&&this.close()}_onKeyDown(b){(b=b||window.event).keyCode===this.keyCode&&this.close()}_initCollapseListeners(){(this.autoCollapseHeight||this.autoCollapseWidth)&&setTimeout(()=>{this._onResizeAttached||(window.addEventListener("resize",this._collapse),this._onResizeAttached=!0)})}_destroyCollapseListeners(){this._onResizeAttached&&(window.removeEventListener("resize",this._collapse),this._onResizeAttached=!1)}_collapse(){const b=window.innerHeight,T=window.innerWidth;this.autoCollapseHeight&&(b<=this.autoCollapseHeight&&this.opened?(this._wasCollapsed=!0,this.close()):b>this.autoCollapseHeight&&this._wasCollapsed&&(this.open(),this._wasCollapsed=!1)),this.autoCollapseWidth&&(T<=this.autoCollapseWidth&&this.opened?(this._wasCollapsed=!0,this.close()):T>this.autoCollapseWidth&&this._wasCollapsed&&(this.open(),this._wasCollapsed=!1))}get _height(){return this._elSidebar.nativeElement?this._isDocked?this._dockedSize:this._elSidebar.nativeElement.offsetHeight:0}get _width(){return this._elSidebar.nativeElement?this._isDocked?this._dockedSize:this._elSidebar.nativeElement.offsetWidth:0}get _dockedSize(){return parseFloat(this.dockedSize)}get _isModeOver(){return"over"===this.mode}get _isModePush(){return"push"===this.mode}get _isModeSlide(){return"slide"===this.mode}get _isDocked(){return!(!this.dock||!this.dockedSize||this.opened)}get _isLeftOrTop(){return"left"===this.position||"top"===this.position}get _isLeftOrRight(){return"left"===this.position||"right"===this.position}get _isInert(){return!this.opened&&!this.dock}_normalizePosition(){const b=(()=>{let D="ltr";return"undefined"!=typeof window&&(D=window.getComputedStyle?window.getComputedStyle(document.body,null).getPropertyValue("direction"):document.body.currentStyle.direction),"ltr"===D})();"start"===this.position?this.position=b?"left":"right":"end"===this.position&&(this.position=b?"right":"left")}}return D.\u0275fac=function(b){return new(b||D)(l.\u0275\u0275directiveInject(B.L,8),l.\u0275\u0275directiveInject(l.ChangeDetectorRef),l.\u0275\u0275directiveInject(l.PLATFORM_ID))},D.\u0275cmp=l.\u0275\u0275defineComponent({type:D,selectors:[["cf-sidebar"]],viewQuery:function(b,T){if(1&b&&l.\u0275\u0275viewQuery(x,5),2&b){let P;l.\u0275\u0275queryRefresh(P=l.\u0275\u0275loadQuery())&&(T._elSidebar=P.first)}},inputs:{opened:"opened",mode:"mode",dock:"dock",dockedSize:"dockedSize",position:"position",animate:"animate",autoCollapseHeight:"autoCollapseHeight",autoCollapseWidth:"autoCollapseWidth",autoCollapseOnInit:"autoCollapseOnInit",sidebarClass:"sidebarClass",ariaLabel:"ariaLabel",trapFocus:"trapFocus",autoFocus:"autoFocus",showBackdrop:"showBackdrop",closeOnClickBackdrop:"closeOnClickBackdrop",closeOnClickOutside:"closeOnClickOutside",keyClose:"keyClose",keyCode:"keyCode"},outputs:{openedChange:"openedChange",contentInit:"contentInit",openStart:"openStart",sidebarOpen:"sidebarOpen",closeStart:"closeStart",sidebarClose:"sidebarClose",transitionEnd:"transitionEnd",modeChange:"modeChange",positionChange:"positionChange",_onRerender:"_onRerender"},features:[l.\u0275\u0275NgOnChangesFeature],ngContentSelectors:U,decls:3,vars:15,consts:[["role","complementary",3,"ngClass","ngStyle"],["sidebar",""]],template:function(b,T){1&b&&(l.\u0275\u0275projectionDef(),l.\u0275\u0275elementStart(0,"aside",0,1),l.\u0275\u0275projection(2),l.\u0275\u0275elementEnd()),2&b&&(l.\u0275\u0275classMapInterpolate3("cf-sidebar cf-sidebar--",T.opened?"opened":"closed"," cf-sidebar--",T.position," cf-sidebar--",T.mode,""),l.\u0275\u0275classProp("cf-sidebar--docked",T._isDocked)("cf-sidebar--inert",T._isInert)("cf-sidebar--animate",T.animate),l.\u0275\u0275property("ngClass",T.sidebarClass)("ngStyle",T._getStyle()),l.\u0275\u0275attribute("aria-hidden",!T.opened)("aria-label",T.ariaLabel))},directives:[_.NgClass,_.NgStyle],encapsulation:2,changeDetection:0}),D})()},5687:(ae,N,c)=>{c.d(N,{l:()=>B});var _=c(1457),O=c(7777);let B=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=O.\u0275\u0275defineNgModule({type:x}),x.\u0275inj=O.\u0275\u0275defineInjector({imports:[[_.CommonModule]]}),x})()},5028:(ae,N,c)=>{c.d(N,{M6:()=>L,Kb:()=>w});var _=c(1457),O=c(7777),B=c(9646),x=c(2843),U=c(4004),R=c(8505),D=c(262),E=c(8746),b=c(3099),T=c(7191);const P=new O.InjectionToken("SERVER_URL");let L=(()=>{class y{constructor(a,v,h,q){this.loader=a,this.platformId=v,this.serverUrl=h,this._document=q,this.iconsByUrl=new Map,this.iconsLoadingByUrl=new Map,this.document=this._document}addSvg(a,v){if(!this.iconsByUrl.has(a)){const h=this.document.createElement("DIV");h.innerHTML=v;const q=h.querySelector("svg");this.iconsByUrl.set(a,q)}}loadSvg(a,v=a){if(this.serverUrl&&null===a.match(/^(http(s)?):/)&&(v=a=this.serverUrl+a),this.iconsByUrl.has(v))return(0,B.of)(this.iconsByUrl.get(v));if(this.iconsLoadingByUrl.has(v))return this.iconsLoadingByUrl.get(v);const h=this.loader.getSvg(a).pipe((0,U.U)(q=>{const de=this.document.createElement("DIV");return de.innerHTML=q,de.querySelector("svg")}),(0,R.b)(q=>this.iconsByUrl.set(v,q)),(0,D.K)(q=>(console.error(q),(0,x._)(q))),(0,E.x)(()=>this.iconsLoadingByUrl.delete(v)),(0,b.B)());return this.iconsLoadingByUrl.set(v,h),h}getSvgByName(a){return this.iconsByUrl.has(a)?(0,B.of)(this.iconsByUrl.get(a)):this.iconsLoadingByUrl.has(a)?this.iconsLoadingByUrl.get(a):(0,x._)(`No svg with name '${a}' has been loaded`)}unloadSvg(a){this.iconsByUrl.has(a)&&this.iconsByUrl.delete(a)}}return y.\u0275fac=function(a){return new(a||y)(O.\u0275\u0275inject(T.S),O.\u0275\u0275inject(O.PLATFORM_ID),O.\u0275\u0275inject(P,8),O.\u0275\u0275inject(_.DOCUMENT,8))},y.\u0275prov=O.\u0275\u0275defineInjectable({token:y,factory:y.\u0275fac}),y})();const w={provide:L,deps:[[new O.Optional,new O.SkipSelf,L],T.S,[O.PLATFORM_ID],[new O.Optional,P],[new O.Optional,_.DOCUMENT]],useFactory:function(y,u,a,v,h){return y||new L(u,a,v,h)}}},9750:(ae,N,c)=>{c.d(N,{b:()=>x});var _=c(7777),O=c(5028);const M=["*"];class B{constructor(){this.loaded=!1}}let x=(()=>{class U{constructor(D,E,b,T,P){this.element=D,this.differs=E,this.renderer=b,this.iconReg=T,this.cdr=P,this.stretch=!1,this.applyClass=!1,this.helper=new B,this._svgStyle=null}set svgStyle(D){this._svgStyle=D,!this.helper.differ&&D&&(this.helper.differ=this.differs.find(D).create())}ngOnInit(){this.init()}ngOnDestroy(){this.destroy()}ngOnChanges(D){const E=this.element.nativeElement.firstChild;(D.src||D.name)&&(this.helper.loaded&&this.destroy(),this.init()),D.stretch&&this.stylize(),D.applyClass&&(this.applyClass?this.setClass(E,null,this.klass):this.setClass(E,this.klass,null)),D.svgClass&&this.setClass(E,D.svgClass.previousValue,D.svgClass.currentValue),D.klass&&(this.setClass(this.element.nativeElement,D.klass.previousValue,D.klass.currentValue),this.setClass(E,D.klass.previousValue,this.applyClass?D.klass.currentValue:null)),D.viewBox&&(this.helper.loaded&&this.destroy(),this.init()),D.svgAriaLabel&&this.doAria(D.svgAriaLabel.currentValue)}ngDoCheck(){if(this.helper.svg&&this.helper.differ){const D=this.helper.differ.diff(this._svgStyle);D&&this.applyChanges(D)}}init(){if(this.name){const D=this.iconReg.getSvgByName(this.name);D&&(this.helper.icnSub=D.subscribe(E=>this.initSvg(E)))}else if(this.src){const D=this.iconReg.loadSvg(this.src);D&&(this.helper.icnSub=D.subscribe(E=>this.initSvg(E)))}else this.element.nativeElement.innerHTML="",this.cdr.markForCheck()}initSvg(D){!this.helper.loaded&&D&&(this.setSvg(D),this.resetDiffer())}destroy(){this.helper.icnSub&&this.helper.icnSub.unsubscribe(),this.helper=new B}resetDiffer(){this._svgStyle&&!this.helper.differ&&(this.helper.differ=this.differs.find(this._svgStyle).create())}setSvg(D){if(!this.helper.loaded&&D){this.helper.svg=D;const E=D.cloneNode(!0),b=this.element.nativeElement;if(b.innerHTML="",this.renderer.appendChild(b,E),this.helper.loaded=!0,this.copyNgContentAttribute(b,E),this.klass&&this.applyClass&&this.setClass(b.firstChild,null,this.klass),this.svgClass&&this.setClass(b.firstChild,null,this.svgClass),this.viewBox)if("auto"===this.viewBox){const T=E.getAttribute("width"),P=E.getAttribute("height");P&&T&&(this.renderer.setAttribute(E,"viewBox",`0 0 ${T} ${P}`),this.renderer.removeAttribute(E,"width"),this.renderer.removeAttribute(E,"height"))}else""!==this.viewBox&&(this.renderer.setAttribute(E,"viewBox",this.viewBox),this.renderer.removeAttribute(E,"width"),this.renderer.removeAttribute(E,"height"));this.stylize(),void 0===this.svgAriaLabel&&b.firstChild.hasAttribute("aria-label")||this.doAria(this.svgAriaLabel||""),this.cdr.markForCheck()}}copyNgContentAttribute(D,E){const b=D.attributes,T=b.length;for(let P=0;P<T;P+=1){const L=b.item(P);if(L&&L.name.startsWith("_ngcontent")){this.setNgContentAttribute(E,L.name);break}}}setNgContentAttribute(D,E){this.renderer.setAttribute(D,E,"");const b=D.childNodes.length;for(let T=0;T<b;T+=1){const P=D.childNodes[T];P instanceof Element&&this.setNgContentAttribute(P,E)}}stylize(){if(this.helper.svg){const D=this.element.nativeElement.firstChild;!0===this.stretch?this.renderer.setAttribute(D,"preserveAspectRatio","none"):!1===this.stretch&&this.renderer.removeAttribute(D,"preserveAspectRatio")}}applyChanges(D){D.forEachRemovedItem(E=>this.setStyle(E.key,null)),D.forEachAddedItem(E=>this.setStyle(E.key,E.currentValue)),D.forEachChangedItem(E=>this.setStyle(E.key,E.currentValue))}setStyle(D,E){const[b,T]=D.split("."),P=this.element.nativeElement.firstChild;null!==(E=null!==E&&T?`${E}${T}`:E)?this.renderer.setStyle(P,b,E):this.renderer.removeStyle(P,b)}setClass(D,E,b){if(D){if(E){const T=(Array.isArray(E)?E:E.split(" ")).filter(P=>P);for(const P of T)this.renderer.removeClass(D,P)}if(b){const T=(Array.isArray(b)?b:b.split(" ")).filter(P=>P);for(const P of T)this.renderer.addClass(D,P)}}}doAria(D){const E=this.element.nativeElement.firstChild;E&&(""===D?(this.renderer.setAttribute(E,"aria-hidden","true"),this.renderer.removeAttribute(E,"aria-label")):(this.renderer.removeAttribute(E,"aria-hidden"),this.renderer.setAttribute(E,"aria-label",D)))}}return U.\u0275fac=function(D){return new(D||U)(_.\u0275\u0275directiveInject(_.ElementRef),_.\u0275\u0275directiveInject(_.KeyValueDiffers),_.\u0275\u0275directiveInject(_.Renderer2),_.\u0275\u0275directiveInject(O.M6),_.\u0275\u0275directiveInject(_.ChangeDetectorRef))},U.\u0275cmp=_.\u0275\u0275defineComponent({type:U,selectors:[["cf-svg-icon"]],inputs:{src:"src",name:"name",stretch:"stretch",applyClass:"applyClass",svgClass:"svgClass",klass:["class","klass"],viewBox:"viewBox",svgAriaLabel:"svgAriaLabel",svgStyle:"svgStyle"},features:[_.\u0275\u0275NgOnChangesFeature],ngContentSelectors:M,decls:1,vars:0,template:function(D,E){1&D&&(_.\u0275\u0275projectionDef(),_.\u0275\u0275projection(0))},encapsulation:2}),U})()},2051:(ae,N,c)=>{c.d(N,{Y:()=>U});var _=c(1457),O=c(7777),B=c(5028),x=c(7191);let U=(()=>{class R{static forRoot(E={}){return{ngModule:R,providers:[B.Kb,E.loader||{provide:x.S,useClass:x.o}]}}}return R.\u0275fac=function(E){return new(E||R)},R.\u0275mod=O.\u0275\u0275defineNgModule({type:R}),R.\u0275inj=O.\u0275\u0275defineInjector({imports:[[_.CommonModule]]}),R})()},7191:(ae,N,c)=>{c.d(N,{S:()=>B,o:()=>x});var _=c(9283),O=c(7777);class B{}let x=(()=>{class U extends B{constructor(D){super(),this.http=D}getSvg(D){return this.http.get(D,{responseType:"text"})}}return U.\u0275fac=function(D){return new(D||U)(O.\u0275\u0275inject(_.HttpClient))},U.\u0275prov=O.\u0275\u0275defineInjectable({token:U,factory:U.\u0275fac}),U})()},1611:ae=>{ae.exports=function(c){return function(){var _=arguments.length;if(_){for(var l=[],O=-1;++O<_;)l[O]=arguments[O];return c.call(this,l)}return c.call(this,[])}}},5834:(ae,N,c)=>{var _=c(5203),l=c(5685),O=l(_("String.prototype.indexOf"));ae.exports=function(B,x){var U=_(B,!!x);return"function"==typeof U&&O(B,".prototype.")>-1?l(U):U}},5685:(ae,N,c)=>{var _=c(4444),l=c(5203),O=l("%Function.prototype.apply%"),M=l("%Function.prototype.call%"),B=l("%Reflect.apply%",!0)||_.call(M,O),x=l("%Object.getOwnPropertyDescriptor%",!0),U=l("%Object.defineProperty%",!0),R=l("%Math.max%");if(U)try{U({},"a",{value:1})}catch{U=null}ae.exports=function(b){var T=B(_,M,arguments);if(x&&U){var P=x(T,"length");P.configurable&&U(T,"length",{value:1+R(0,b.length-(arguments.length-1))})}return T};var D=function(){return B(_,O,arguments)};U?U(ae.exports,"apply",{value:D}):ae.exports.apply=D},7466:function(ae,N,c){var _;ae.exports=(_=c(7585),c(8319),c(9493),c(7865),c(3057),function(){var l=_,M=l.lib.BlockCipher,B=l.algo,x=[],U=[],R=[],D=[],E=[],b=[],T=[],P=[],L=[],I=[];!function(){for(var u=[],a=0;a<256;a++)u[a]=a<128?a<<1:a<<1^283;var v=0,h=0;for(a=0;a<256;a++){var q=h^h<<1^h<<2^h<<3^h<<4;x[v]=q=q>>>8^255&q^99,U[q]=v;var pe,de=u[v],Ce=u[de],_e=u[Ce];R[v]=(pe=257*u[q]^16843008*q)<<24|pe>>>8,D[v]=pe<<16|pe>>>16,E[v]=pe<<8|pe>>>24,b[v]=pe,T[q]=(pe=16843009*_e^65537*Ce^257*de^16843008*v)<<24|pe>>>8,P[q]=pe<<16|pe>>>16,L[q]=pe<<8|pe>>>24,I[q]=pe,v?(v=de^u[u[u[_e^de]]],h^=u[u[h]]):v=h=1}}();var w=[0,1,2,4,8,16,32,64,128,27,54],y=B.AES=M.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var a=this._keyPriorReset=this._key,v=a.words,h=a.sigBytes/4,de=4*((this._nRounds=h+6)+1),Ce=this._keySchedule=[],_e=0;_e<de;_e++)_e<h?Ce[_e]=v[_e]:(u=Ce[_e-1],_e%h?h>6&&_e%h==4&&(u=x[u>>>24]<<24|x[u>>>16&255]<<16|x[u>>>8&255]<<8|x[255&u]):(u=x[(u=u<<8|u>>>24)>>>24]<<24|x[u>>>16&255]<<16|x[u>>>8&255]<<8|x[255&u],u^=w[_e/h|0]<<24),Ce[_e]=Ce[_e-h]^u);for(var pe=this._invKeySchedule=[],Q=0;Q<de;Q++){if(_e=de-Q,Q%4)var u=Ce[_e];else u=Ce[_e-4];pe[Q]=Q<4||_e<=4?u:T[x[u>>>24]]^P[x[u>>>16&255]]^L[x[u>>>8&255]]^I[x[255&u]]}}},encryptBlock:function(u,a){this._doCryptBlock(u,a,this._keySchedule,R,D,E,b,x)},decryptBlock:function(u,a){var v=u[a+1];u[a+1]=u[a+3],u[a+3]=v,this._doCryptBlock(u,a,this._invKeySchedule,T,P,L,I,U),v=u[a+1],u[a+1]=u[a+3],u[a+3]=v},_doCryptBlock:function(u,a,v,h,q,de,Ce,_e){for(var pe=this._nRounds,Q=u[a]^v[0],z=u[a+1]^v[1],Y=u[a+2]^v[2],G=u[a+3]^v[3],J=4,$=1;$<pe;$++){var ie=h[Q>>>24]^q[z>>>16&255]^de[Y>>>8&255]^Ce[255&G]^v[J++],Ee=h[z>>>24]^q[Y>>>16&255]^de[G>>>8&255]^Ce[255&Q]^v[J++],Le=h[Y>>>24]^q[G>>>16&255]^de[Q>>>8&255]^Ce[255&z]^v[J++],me=h[G>>>24]^q[Q>>>16&255]^de[z>>>8&255]^Ce[255&Y]^v[J++];Q=ie,z=Ee,Y=Le,G=me}ie=(_e[Q>>>24]<<24|_e[z>>>16&255]<<16|_e[Y>>>8&255]<<8|_e[255&G])^v[J++],Ee=(_e[z>>>24]<<24|_e[Y>>>16&255]<<16|_e[G>>>8&255]<<8|_e[255&Q])^v[J++],Le=(_e[Y>>>24]<<24|_e[G>>>16&255]<<16|_e[Q>>>8&255]<<8|_e[255&z])^v[J++],me=(_e[G>>>24]<<24|_e[Q>>>16&255]<<16|_e[z>>>8&255]<<8|_e[255&Y])^v[J++],u[a]=ie,u[a+1]=Ee,u[a+2]=Le,u[a+3]=me},keySize:8});l.AES=M._createHelper(y)}(),_.AES)},3057:function(ae,N,c){var O,M,B,x,U,R,E,T,P,I,w,y,a,h,de,Ce,pe,Q,_;ae.exports=(_=c(7585),c(7865),void(_.lib.Cipher||(O=_,M=O.lib,B=M.Base,x=M.WordArray,U=M.BufferedBlockAlgorithm,R=O.enc,E=R.Base64,T=O.algo.EvpKDF,P=M.Cipher=U.extend({cfg:B.extend(),createEncryptor:function(z,Y){return this.create(this._ENC_XFORM_MODE,z,Y)},createDecryptor:function(z,Y){return this.create(this._DEC_XFORM_MODE,z,Y)},init:function(z,Y,G){this.cfg=this.cfg.extend(G),this._xformMode=z,this._key=Y,this.reset()},reset:function(){U.reset.call(this),this._doReset()},process:function(z){return this._append(z),this._process()},finalize:function(z){return z&&this._append(z),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function z(Y){return"string"==typeof Y?Q:Ce}return function(Y){return{encrypt:function(G,J,$){return z(J).encrypt(Y,G,J,$)},decrypt:function(G,J,$){return z(J).decrypt(Y,G,J,$)}}}}()}),M.StreamCipher=P.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),I=O.mode={},w=M.BlockCipherMode=B.extend({createEncryptor:function(z,Y){return this.Encryptor.create(z,Y)},createDecryptor:function(z,Y){return this.Decryptor.create(z,Y)},init:function(z,Y){this._cipher=z,this._iv=Y}}),y=I.CBC=function(){var z=w.extend();function Y(G,J,$){var ie,Ee=this._iv;Ee?(ie=Ee,this._iv=undefined):ie=this._prevBlock;for(var Le=0;Le<$;Le++)G[J+Le]^=ie[Le]}return z.Encryptor=z.extend({processBlock:function(G,J){var $=this._cipher,ie=$.blockSize;Y.call(this,G,J,ie),$.encryptBlock(G,J),this._prevBlock=G.slice(J,J+ie)}}),z.Decryptor=z.extend({processBlock:function(G,J){var $=this._cipher,ie=$.blockSize,Ee=G.slice(J,J+ie);$.decryptBlock(G,J),Y.call(this,G,J,ie),this._prevBlock=Ee}}),z}(),a=(O.pad={}).Pkcs7={pad:function(z,Y){for(var G=4*Y,J=G-z.sigBytes%G,$=J<<24|J<<16|J<<8|J,ie=[],Ee=0;Ee<J;Ee+=4)ie.push($);var Le=x.create(ie,J);z.concat(Le)},unpad:function(z){z.sigBytes-=255&z.words[z.sigBytes-1>>>2]}},M.BlockCipher=P.extend({cfg:P.cfg.extend({mode:y,padding:a}),reset:function(){var z;P.reset.call(this);var Y=this.cfg,G=Y.iv,J=Y.mode;this._xformMode==this._ENC_XFORM_MODE?z=J.createEncryptor:(z=J.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==z?this._mode.init(this,G&&G.words):(this._mode=z.call(J,this,G&&G.words),this._mode.__creator=z)},_doProcessBlock:function(z,Y){this._mode.processBlock(z,Y)},_doFinalize:function(){var z,Y=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Y.pad(this._data,this.blockSize),z=this._process(!0)):(z=this._process(!0),Y.unpad(z)),z},blockSize:4}),h=M.CipherParams=B.extend({init:function(z){this.mixIn(z)},toString:function(z){return(z||this.formatter).stringify(this)}}),de=(O.format={}).OpenSSL={stringify:function(z){var G=z.ciphertext,J=z.salt;return(J?x.create([1398893684,1701076831]).concat(J).concat(G):G).toString(E)},parse:function(z){var Y,G=E.parse(z),J=G.words;return 1398893684==J[0]&&1701076831==J[1]&&(Y=x.create(J.slice(2,4)),J.splice(0,4),G.sigBytes-=16),h.create({ciphertext:G,salt:Y})}},Ce=M.SerializableCipher=B.extend({cfg:B.extend({format:de}),encrypt:function(z,Y,G,J){J=this.cfg.extend(J);var $=z.createEncryptor(G,J),ie=$.finalize(Y),Ee=$.cfg;return h.create({ciphertext:ie,key:G,iv:Ee.iv,algorithm:z,mode:Ee.mode,padding:Ee.padding,blockSize:z.blockSize,formatter:J.format})},decrypt:function(z,Y,G,J){return J=this.cfg.extend(J),Y=this._parse(Y,J.format),z.createDecryptor(G,J).finalize(Y.ciphertext)},_parse:function(z,Y){return"string"==typeof z?Y.parse(z,this):z}}),pe=(O.kdf={}).OpenSSL={execute:function(z,Y,G,J){J||(J=x.random(8));var $=T.create({keySize:Y+G}).compute(z,J),ie=x.create($.words.slice(Y),4*G);return $.sigBytes=4*Y,h.create({key:$,iv:ie,salt:J})}},Q=M.PasswordBasedCipher=Ce.extend({cfg:Ce.cfg.extend({kdf:pe}),encrypt:function(z,Y,G,J){var $=(J=this.cfg.extend(J)).kdf.execute(G,z.keySize,z.ivSize);J.iv=$.iv;var ie=Ce.encrypt.call(this,z,Y,$.key,J);return ie.mixIn($),ie},decrypt:function(z,Y,G,J){J=this.cfg.extend(J),Y=this._parse(Y,J.format);var $=J.kdf.execute(G,z.keySize,z.ivSize,Y.salt);return J.iv=$.iv,Ce.decrypt.call(this,z,Y,$.key,J)}}))))},7585:function(ae,N,c){var _;ae.exports=(_=_||function(l,O){var M;if("undefined"!=typeof window&&window.crypto&&(M=window.crypto),"undefined"!=typeof self&&self.crypto&&(M=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(M=globalThis.crypto),!M&&"undefined"!=typeof window&&window.msCrypto&&(M=window.msCrypto),!M&&"undefined"!=typeof global&&global.crypto&&(M=global.crypto),!M)try{M=c(2480)}catch{}var B=function(){if(M){if("function"==typeof M.getRandomValues)try{return M.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof M.randomBytes)try{return M.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},x=Object.create||function(){function u(){}return function(a){var v;return u.prototype=a,v=new u,u.prototype=null,v}}(),U={},R=U.lib={},D=R.Base={extend:function(u){var a=x(this);return u&&a.mixIn(u),(!a.hasOwnProperty("init")||this.init===a.init)&&(a.init=function(){a.$super.init.apply(this,arguments)}),a.init.prototype=a,a.$super=this,a},create:function(){var u=this.extend();return u.init.apply(u,arguments),u},init:function(){},mixIn:function(u){for(var a in u)u.hasOwnProperty(a)&&(this[a]=u[a]);u.hasOwnProperty("toString")&&(this.toString=u.toString)},clone:function(){return this.init.prototype.extend(this)}},E=R.WordArray=D.extend({init:function(u,a){u=this.words=u||[],this.sigBytes=null!=a?a:4*u.length},toString:function(u){return(u||T).stringify(this)},concat:function(u){var a=this.words,v=u.words,h=this.sigBytes,q=u.sigBytes;if(this.clamp(),h%4)for(var de=0;de<q;de++)a[h+de>>>2]|=(v[de>>>2]>>>24-de%4*8&255)<<24-(h+de)%4*8;else for(var _e=0;_e<q;_e+=4)a[h+_e>>>2]=v[_e>>>2];return this.sigBytes+=q,this},clamp:function(){var u=this.words,a=this.sigBytes;u[a>>>2]&=4294967295<<32-a%4*8,u.length=l.ceil(a/4)},clone:function(){var u=D.clone.call(this);return u.words=this.words.slice(0),u},random:function(u){for(var a=[],v=0;v<u;v+=4)a.push(B());return new E.init(a,u)}}),b=U.enc={},T=b.Hex={stringify:function(u){for(var a=u.words,v=u.sigBytes,h=[],q=0;q<v;q++){var de=a[q>>>2]>>>24-q%4*8&255;h.push((de>>>4).toString(16)),h.push((15&de).toString(16))}return h.join("")},parse:function(u){for(var a=u.length,v=[],h=0;h<a;h+=2)v[h>>>3]|=parseInt(u.substr(h,2),16)<<24-h%8*4;return new E.init(v,a/2)}},P=b.Latin1={stringify:function(u){for(var a=u.words,v=u.sigBytes,h=[],q=0;q<v;q++)h.push(String.fromCharCode(a[q>>>2]>>>24-q%4*8&255));return h.join("")},parse:function(u){for(var a=u.length,v=[],h=0;h<a;h++)v[h>>>2]|=(255&u.charCodeAt(h))<<24-h%4*8;return new E.init(v,a)}},L=b.Utf8={stringify:function(u){try{return decodeURIComponent(escape(P.stringify(u)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(u){return P.parse(unescape(encodeURIComponent(u)))}},I=R.BufferedBlockAlgorithm=D.extend({reset:function(){this._data=new E.init,this._nDataBytes=0},_append:function(u){"string"==typeof u&&(u=L.parse(u)),this._data.concat(u),this._nDataBytes+=u.sigBytes},_process:function(u){var a,v=this._data,h=v.words,q=v.sigBytes,de=this.blockSize,_e=q/(4*de),pe=(_e=u?l.ceil(_e):l.max((0|_e)-this._minBufferSize,0))*de,Q=l.min(4*pe,q);if(pe){for(var z=0;z<pe;z+=de)this._doProcessBlock(h,z);a=h.splice(0,pe),v.sigBytes-=Q}return new E.init(a,Q)},clone:function(){var u=D.clone.call(this);return u._data=this._data.clone(),u},_minBufferSize:0}),y=(R.Hasher=I.extend({cfg:D.extend(),init:function(u){this.cfg=this.cfg.extend(u),this.reset()},reset:function(){I.reset.call(this),this._doReset()},update:function(u){return this._append(u),this._process(),this},finalize:function(u){return u&&this._append(u),this._doFinalize()},blockSize:16,_createHelper:function(u){return function(a,v){return new u.init(v).finalize(a)}},_createHmacHelper:function(u){return function(a,v){return new y.HMAC.init(u,v).finalize(a)}}}),U.algo={});return U}(Math),_)},8319:function(ae,N,c){var _,M;ae.exports=(_=c(7585),M=_.lib.WordArray,_.enc.Base64={stringify:function(R){var D=R.words,E=R.sigBytes,b=this._map;R.clamp();for(var T=[],P=0;P<E;P+=3)for(var y=(D[P>>>2]>>>24-P%4*8&255)<<16|(D[P+1>>>2]>>>24-(P+1)%4*8&255)<<8|D[P+2>>>2]>>>24-(P+2)%4*8&255,u=0;u<4&&P+.75*u<E;u++)T.push(b.charAt(y>>>6*(3-u)&63));var a=b.charAt(64);if(a)for(;T.length%4;)T.push(a);return T.join("")},parse:function(R){var D=R.length,E=this._map,b=this._reverseMap;if(!b){b=this._reverseMap=[];for(var T=0;T<E.length;T++)b[E.charCodeAt(T)]=T}var P=E.charAt(64);if(P){var L=R.indexOf(P);-1!==L&&(D=L)}return function(R,D,E){for(var b=[],T=0,P=0;P<D;P++)if(P%4){var L=E[R.charCodeAt(P-1)]<<P%4*2,I=E[R.charCodeAt(P)]>>>6-P%4*2;b[T>>>2]|=(L|I)<<24-T%4*8,T++}return M.create(b,T)}(R,D,b)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},_.enc.Base64)},4384:function(ae,N,c){ae.exports=c(7585).enc.Utf8},7865:function(ae,N,c){var l,O,M,B,x,R,_;ae.exports=(_=c(7585),c(5162),c(3764),B=(O=(l=_).lib).WordArray,R=(x=l.algo).EvpKDF=(M=O.Base).extend({cfg:M.extend({keySize:4,hasher:x.MD5,iterations:1}),init:function(D){this.cfg=this.cfg.extend(D)},compute:function(D,E){for(var b,T=this.cfg,P=T.hasher.create(),L=B.create(),I=L.words,w=T.keySize,y=T.iterations;I.length<w;){b&&P.update(b),b=P.update(D).finalize(E),P.reset();for(var u=1;u<y;u++)b=P.finalize(b),P.reset();L.concat(b)}return L.sigBytes=4*w,L}}),l.EvpKDF=function(D,E,b){return R.create(b).compute(D,E)},_.EvpKDF)},3764:function(ae,N,c){var _,x;ae.exports=(_=c(7585),x=_.enc.Utf8,void(_.algo.HMAC=_.lib.Base.extend({init:function(D,E){D=this._hasher=new D.init,"string"==typeof E&&(E=x.parse(E));var b=D.blockSize,T=4*b;E.sigBytes>T&&(E=D.finalize(E)),E.clamp();for(var P=this._oKey=E.clone(),L=this._iKey=E.clone(),I=P.words,w=L.words,y=0;y<b;y++)I[y]^=1549556828,w[y]^=909522486;P.sigBytes=L.sigBytes=T,this.reset()},reset:function(){var D=this._hasher;D.reset(),D.update(this._iKey)},update:function(D){return this._hasher.update(D),this},finalize:function(D){var E=this._hasher,b=E.finalize(D);return E.reset(),E.finalize(this._oKey.clone().concat(b))}})))},9493:function(ae,N,c){var _;ae.exports=(_=c(7585),function(l){var O=_,M=O.lib,B=M.WordArray,x=M.Hasher,U=O.algo,R=[];!function(){for(var L=0;L<64;L++)R[L]=4294967296*l.abs(l.sin(L+1))|0}();var D=U.MD5=x.extend({_doReset:function(){this._hash=new B.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(L,I){for(var w=0;w<16;w++){var y=I+w,u=L[y];L[y]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var a=this._hash.words,v=L[I+0],h=L[I+1],q=L[I+2],de=L[I+3],Ce=L[I+4],_e=L[I+5],pe=L[I+6],Q=L[I+7],z=L[I+8],Y=L[I+9],G=L[I+10],J=L[I+11],$=L[I+12],ie=L[I+13],Ee=L[I+14],Le=L[I+15],me=a[0],ge=a[1],te=a[2],ue=a[3];me=E(me,ge,te,ue,v,7,R[0]),ue=E(ue,me,ge,te,h,12,R[1]),te=E(te,ue,me,ge,q,17,R[2]),ge=E(ge,te,ue,me,de,22,R[3]),me=E(me,ge,te,ue,Ce,7,R[4]),ue=E(ue,me,ge,te,_e,12,R[5]),te=E(te,ue,me,ge,pe,17,R[6]),ge=E(ge,te,ue,me,Q,22,R[7]),me=E(me,ge,te,ue,z,7,R[8]),ue=E(ue,me,ge,te,Y,12,R[9]),te=E(te,ue,me,ge,G,17,R[10]),ge=E(ge,te,ue,me,J,22,R[11]),me=E(me,ge,te,ue,$,7,R[12]),ue=E(ue,me,ge,te,ie,12,R[13]),te=E(te,ue,me,ge,Ee,17,R[14]),me=b(me,ge=E(ge,te,ue,me,Le,22,R[15]),te,ue,h,5,R[16]),ue=b(ue,me,ge,te,pe,9,R[17]),te=b(te,ue,me,ge,J,14,R[18]),ge=b(ge,te,ue,me,v,20,R[19]),me=b(me,ge,te,ue,_e,5,R[20]),ue=b(ue,me,ge,te,G,9,R[21]),te=b(te,ue,me,ge,Le,14,R[22]),ge=b(ge,te,ue,me,Ce,20,R[23]),me=b(me,ge,te,ue,Y,5,R[24]),ue=b(ue,me,ge,te,Ee,9,R[25]),te=b(te,ue,me,ge,de,14,R[26]),ge=b(ge,te,ue,me,z,20,R[27]),me=b(me,ge,te,ue,ie,5,R[28]),ue=b(ue,me,ge,te,q,9,R[29]),te=b(te,ue,me,ge,Q,14,R[30]),me=T(me,ge=b(ge,te,ue,me,$,20,R[31]),te,ue,_e,4,R[32]),ue=T(ue,me,ge,te,z,11,R[33]),te=T(te,ue,me,ge,J,16,R[34]),ge=T(ge,te,ue,me,Ee,23,R[35]),me=T(me,ge,te,ue,h,4,R[36]),ue=T(ue,me,ge,te,Ce,11,R[37]),te=T(te,ue,me,ge,Q,16,R[38]),ge=T(ge,te,ue,me,G,23,R[39]),me=T(me,ge,te,ue,ie,4,R[40]),ue=T(ue,me,ge,te,v,11,R[41]),te=T(te,ue,me,ge,de,16,R[42]),ge=T(ge,te,ue,me,pe,23,R[43]),me=T(me,ge,te,ue,Y,4,R[44]),ue=T(ue,me,ge,te,$,11,R[45]),te=T(te,ue,me,ge,Le,16,R[46]),me=P(me,ge=T(ge,te,ue,me,q,23,R[47]),te,ue,v,6,R[48]),ue=P(ue,me,ge,te,Q,10,R[49]),te=P(te,ue,me,ge,Ee,15,R[50]),ge=P(ge,te,ue,me,_e,21,R[51]),me=P(me,ge,te,ue,$,6,R[52]),ue=P(ue,me,ge,te,de,10,R[53]),te=P(te,ue,me,ge,G,15,R[54]),ge=P(ge,te,ue,me,h,21,R[55]),me=P(me,ge,te,ue,z,6,R[56]),ue=P(ue,me,ge,te,Le,10,R[57]),te=P(te,ue,me,ge,pe,15,R[58]),ge=P(ge,te,ue,me,ie,21,R[59]),me=P(me,ge,te,ue,Ce,6,R[60]),ue=P(ue,me,ge,te,J,10,R[61]),te=P(te,ue,me,ge,q,15,R[62]),ge=P(ge,te,ue,me,Y,21,R[63]),a[0]=a[0]+me|0,a[1]=a[1]+ge|0,a[2]=a[2]+te|0,a[3]=a[3]+ue|0},_doFinalize:function(){var L=this._data,I=L.words,w=8*this._nDataBytes,y=8*L.sigBytes;I[y>>>5]|=128<<24-y%32;var u=l.floor(w/4294967296),a=w;I[15+(y+64>>>9<<4)]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),I[14+(y+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),L.sigBytes=4*(I.length+1),this._process();for(var v=this._hash,h=v.words,q=0;q<4;q++){var de=h[q];h[q]=16711935&(de<<8|de>>>24)|4278255360&(de<<24|de>>>8)}return v},clone:function(){var L=x.clone.call(this);return L._hash=this._hash.clone(),L}});function E(L,I,w,y,u,a,v){var h=L+(I&w|~I&y)+u+v;return(h<<a|h>>>32-a)+I}function b(L,I,w,y,u,a,v){var h=L+(I&y|w&~y)+u+v;return(h<<a|h>>>32-a)+I}function T(L,I,w,y,u,a,v){var h=L+(I^w^y)+u+v;return(h<<a|h>>>32-a)+I}function P(L,I,w,y,u,a,v){var h=L+(w^(I|~y))+u+v;return(h<<a|h>>>32-a)+I}O.MD5=x._createHelper(D),O.HmacMD5=x._createHmacHelper(D)}(Math),_.MD5)},5162:function(ae,N,c){var l,O,M,B,U,R,_;ae.exports=(_=c(7585),M=(O=(l=_).lib).WordArray,U=[],R=l.algo.SHA1=(B=O.Hasher).extend({_doReset:function(){this._hash=new M.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(D,E){for(var b=this._hash.words,T=b[0],P=b[1],L=b[2],I=b[3],w=b[4],y=0;y<80;y++){if(y<16)U[y]=0|D[E+y];else{var u=U[y-3]^U[y-8]^U[y-14]^U[y-16];U[y]=u<<1|u>>>31}var a=(T<<5|T>>>27)+w+U[y];a+=y<20?1518500249+(P&L|~P&I):y<40?1859775393+(P^L^I):y<60?(P&L|P&I|L&I)-1894007588:(P^L^I)-899497514,w=I,I=L,L=P<<30|P>>>2,P=T,T=a}b[0]=b[0]+T|0,b[1]=b[1]+P|0,b[2]=b[2]+L|0,b[3]=b[3]+I|0,b[4]=b[4]+w|0},_doFinalize:function(){var D=this._data,E=D.words,b=8*this._nDataBytes,T=8*D.sigBytes;return E[T>>>5]|=128<<24-T%32,E[14+(T+64>>>9<<4)]=Math.floor(b/4294967296),E[15+(T+64>>>9<<4)]=b,D.sigBytes=4*E.length,this._process(),this._hash},clone:function(){var D=B.clone.call(this);return D._hash=this._hash.clone(),D}}),l.SHA1=B._createHelper(R),l.HmacSHA1=B._createHmacHelper(R),_.SHA1)},6952:(ae,N,c)=>{var _=c(1356),l=c(3407),O=c(2e3),M=c(2342),B=c(9235),x=c(2374),U=Date.prototype.getTime;function D(T){return null==T}function E(T){return!(!T||"object"!=typeof T||"number"!=typeof T.length||"function"!=typeof T.copy||"function"!=typeof T.slice||T.length>0&&"number"!=typeof T[0])}ae.exports=function R(T,P,L){var I=L||{};return!!(I.strict?O(T,P):T===P)||(!T||!P||"object"!=typeof T&&"object"!=typeof P?I.strict?O(T,P):T==P:function(T,P,L){var I,w;if(typeof T!=typeof P||D(T)||D(P)||T.prototype!==P.prototype||l(T)!==l(P))return!1;var y=M(T),u=M(P);if(y!==u)return!1;if(y||u)return T.source===P.source&&B(T)===B(P);if(x(T)&&x(P))return U.call(T)===U.call(P);var a=E(T),v=E(P);if(a!==v)return!1;if(a||v){if(T.length!==P.length)return!1;for(I=0;I<T.length;I++)if(T[I]!==P[I])return!1;return!0}if(typeof T!=typeof P)return!1;try{var h=_(T),q=_(P)}catch{return!1}if(h.length!==q.length)return!1;for(h.sort(),q.sort(),I=h.length-1;I>=0;I--)if(h[I]!=q[I])return!1;for(I=h.length-1;I>=0;I--)if(!R(T[w=h[I]],P[w],L))return!1;return!0}(T,P,I))}},4949:ae=>{ae.exports=function N(c){return Object.freeze(c),Object.getOwnPropertyNames(c).forEach(function(_){c.hasOwnProperty(_)&&null!==c[_]&&("object"==typeof c[_]||"function"==typeof c[_])&&!Object.isFrozen(c[_])&&N(c[_])}),c}},2358:(ae,N,c)=>{var _=c(1356),l="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),O=Object.prototype.toString,M=Array.prototype.concat,B=Object.defineProperty,R=B&&function(){var b={};try{for(var T in B(b,"x",{enumerable:!1,value:b}),b)return!1;return b.x===b}catch{return!1}}(),D=function(b,T,P,L){T in b&&(!function(b){return"function"==typeof b&&"[object Function]"===O.call(b)}(L)||!L())||(R?B(b,T,{configurable:!0,enumerable:!1,value:P,writable:!0}):b[T]=P)},E=function(b,T){var P=arguments.length>2?arguments[2]:{},L=_(T);l&&(L=M.call(L,Object.getOwnPropertySymbols(T)));for(var I=0;I<L.length;I+=1)D(b,L[I],T[L[I]],P[L[I]])};E.supportsDescriptors=!!R,ae.exports=E},9069:ae=>{var _,N="object"==typeof Reflect?Reflect:null,c=N&&"function"==typeof N.apply?N.apply:function(v,h,q){return Function.prototype.apply.call(v,h,q)};_=N&&"function"==typeof N.ownKeys?N.ownKeys:Object.getOwnPropertySymbols?function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:function(v){return Object.getOwnPropertyNames(v)};var O=Number.isNaN||function(v){return v!=v};function M(){M.init.call(this)}ae.exports=M,ae.exports.once=function(a,v){return new Promise(function(h,q){function de(_e){a.removeListener(v,Ce),q(_e)}function Ce(){"function"==typeof a.removeListener&&a.removeListener("error",de),h([].slice.call(arguments))}u(a,v,Ce,{once:!0}),"error"!==v&&function(a,v,h){"function"==typeof a.on&&u(a,"error",v,{once:!0})}(a,de)})},M.EventEmitter=M,M.prototype._events=void 0,M.prototype._eventsCount=0,M.prototype._maxListeners=void 0;var B=10;function x(a){if("function"!=typeof a)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof a)}function U(a){return void 0===a._maxListeners?M.defaultMaxListeners:a._maxListeners}function R(a,v,h,q){var de,Ce,_e;if(x(h),void 0===(Ce=a._events)?(Ce=a._events=Object.create(null),a._eventsCount=0):(void 0!==Ce.newListener&&(a.emit("newListener",v,h.listener?h.listener:h),Ce=a._events),_e=Ce[v]),void 0===_e)_e=Ce[v]=h,++a._eventsCount;else if("function"==typeof _e?_e=Ce[v]=q?[h,_e]:[_e,h]:q?_e.unshift(h):_e.push(h),(de=U(a))>0&&_e.length>de&&!_e.warned){_e.warned=!0;var pe=new Error("Possible EventEmitter memory leak detected. "+_e.length+" "+String(v)+" listeners added. Use emitter.setMaxListeners() to increase limit");pe.name="MaxListenersExceededWarning",pe.emitter=a,pe.type=v,pe.count=_e.length,function(a){console&&console.warn&&console.warn(a)}(pe)}return a}function D(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function E(a,v,h){var q={fired:!1,wrapFn:void 0,target:a,type:v,listener:h},de=D.bind(q);return de.listener=h,q.wrapFn=de,de}function b(a,v,h){var q=a._events;if(void 0===q)return[];var de=q[v];return void 0===de?[]:"function"==typeof de?h?[de.listener||de]:[de]:h?function(a){for(var v=new Array(a.length),h=0;h<v.length;++h)v[h]=a[h].listener||a[h];return v}(de):P(de,de.length)}function T(a){var v=this._events;if(void 0!==v){var h=v[a];if("function"==typeof h)return 1;if(void 0!==h)return h.length}return 0}function P(a,v){for(var h=new Array(v),q=0;q<v;++q)h[q]=a[q];return h}function u(a,v,h,q){if("function"==typeof a.on)q.once?a.once(v,h):a.on(v,h);else{if("function"!=typeof a.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof a);a.addEventListener(v,function de(Ce){q.once&&a.removeEventListener(v,de),h(Ce)})}}Object.defineProperty(M,"defaultMaxListeners",{enumerable:!0,get:function(){return B},set:function(a){if("number"!=typeof a||a<0||O(a))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+a+".");B=a}}),M.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},M.prototype.setMaxListeners=function(v){if("number"!=typeof v||v<0||O(v))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+v+".");return this._maxListeners=v,this},M.prototype.getMaxListeners=function(){return U(this)},M.prototype.emit=function(v){for(var h=[],q=1;q<arguments.length;q++)h.push(arguments[q]);var de="error"===v,Ce=this._events;if(void 0!==Ce)de=de&&void 0===Ce.error;else if(!de)return!1;if(de){var _e;if(h.length>0&&(_e=h[0]),_e instanceof Error)throw _e;var pe=new Error("Unhandled error."+(_e?" ("+_e.message+")":""));throw pe.context=_e,pe}var Q=Ce[v];if(void 0===Q)return!1;if("function"==typeof Q)c(Q,this,h);else{var z=Q.length,Y=P(Q,z);for(q=0;q<z;++q)c(Y[q],this,h)}return!0},M.prototype.on=M.prototype.addListener=function(v,h){return R(this,v,h,!1)},M.prototype.prependListener=function(v,h){return R(this,v,h,!0)},M.prototype.once=function(v,h){return x(h),this.on(v,E(this,v,h)),this},M.prototype.prependOnceListener=function(v,h){return x(h),this.prependListener(v,E(this,v,h)),this},M.prototype.off=M.prototype.removeListener=function(v,h){var q,de,Ce,_e,pe;if(x(h),void 0===(de=this._events))return this;if(void 0===(q=de[v]))return this;if(q===h||q.listener===h)0==--this._eventsCount?this._events=Object.create(null):(delete de[v],de.removeListener&&this.emit("removeListener",v,q.listener||h));else if("function"!=typeof q){for(Ce=-1,_e=q.length-1;_e>=0;_e--)if(q[_e]===h||q[_e].listener===h){pe=q[_e].listener,Ce=_e;break}if(Ce<0)return this;0===Ce?q.shift():function(a,v){for(;v+1<a.length;v++)a[v]=a[v+1];a.pop()}(q,Ce),1===q.length&&(de[v]=q[0]),void 0!==de.removeListener&&this.emit("removeListener",v,pe||h)}return this},M.prototype.removeAllListeners=function(v){var h,q,de;if(void 0===(q=this._events))return this;if(void 0===q.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==q[v]&&(0==--this._eventsCount?this._events=Object.create(null):delete q[v]),this;if(0===arguments.length){var _e,Ce=Object.keys(q);for(de=0;de<Ce.length;++de)"removeListener"!==(_e=Ce[de])&&this.removeAllListeners(_e);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(h=q[v]))this.removeListener(v,h);else if(void 0!==h)for(de=h.length-1;de>=0;de--)this.removeListener(v,h[de]);return this},M.prototype.listeners=function(v){return b(this,v,!0)},M.prototype.rawListeners=function(v){return b(this,v,!1)},M.listenerCount=function(a,v){return"function"==typeof a.listenerCount?a.listenerCount(v):T.call(a,v)},M.prototype.listenerCount=T,M.prototype.eventNames=function(){return this._eventsCount>0?_(this._events):[]}},2559:ae=>{ae.exports=function N(c,_){if(c===_)return!0;if(c&&_&&"object"==typeof c&&"object"==typeof _){if(c.constructor!==_.constructor)return!1;var l,O,M;if(Array.isArray(c)){if((l=c.length)!=_.length)return!1;for(O=l;0!=O--;)if(!N(c[O],_[O]))return!1;return!0}if(c.constructor===RegExp)return c.source===_.source&&c.flags===_.flags;if(c.valueOf!==Object.prototype.valueOf)return c.valueOf()===_.valueOf();if(c.toString!==Object.prototype.toString)return c.toString()===_.toString();if((l=(M=Object.keys(c)).length)!==Object.keys(_).length)return!1;for(O=l;0!=O--;)if(!Object.prototype.hasOwnProperty.call(_,M[O]))return!1;for(O=l;0!=O--;){var B=M[O];if(!N(c[B],_[B]))return!1}return!0}return c!=c&&_!=_}},9076:ae=>{var N=Object.prototype.hasOwnProperty,c=Object.prototype.toString;ae.exports=function(l,O,M){if("[object Function]"!==c.call(O))throw new TypeError("iterator must be a function");var B=l.length;if(B===+B)for(var x=0;x<B;x++)O.call(M,l[x],x,l);else for(var U in l)N.call(l,U)&&O.call(M,l[U],U,l)}},3457:ae=>{var N="Function.prototype.bind called on incompatible ",c=Array.prototype.slice,_=Object.prototype.toString,l="[object Function]";ae.exports=function(M){var B=this;if("function"!=typeof B||_.call(B)!==l)throw new TypeError(N+B);for(var U,x=c.call(arguments,1),R=function(){if(this instanceof U){var P=B.apply(this,x.concat(c.call(arguments)));return Object(P)===P?P:this}return B.apply(M,x.concat(c.call(arguments)))},D=Math.max(0,B.length-x.length),E=[],b=0;b<D;b++)E.push("$"+b);if(U=Function("binder","return function ("+E.join(",")+"){ return binder.apply(this,arguments); }")(R),B.prototype){var T=function(){};T.prototype=B.prototype,U.prototype=new T,T.prototype=null}return U}},4444:(ae,N,c)=>{var _=c(3457);ae.exports=Function.prototype.bind||_},1227:(ae,N,c)=>{for(var _=c(6788),l=c(7549),O=/[\{\[]/,M=/[\}\]]/,B=["do","if","in","for","let","new","try","var","case","else","enum","eval","null","this","true","void","with","await","break","catch","class","const","false","super","throw","while","yield","delete","export","import","public","return","static","switch","typeof","default","extends","finally","package","private","continue","debugger","function","arguments","interface","protected","implements","instanceof","NaN","undefined"],x={},U=0;U<B.length;U++)x[B[U]]=!0;var R=function(b){return l(b)&&!x.hasOwnProperty(b)},D={s:function(b){return""+b},d:function(b){return""+Number(b)},o:function(b){return JSON.stringify(b)}},E=function(){var b=[],T=0,P={},L=function(y){for(var u="";u.length<2*T;)u+="  ";b.push(u+y)},I=function(y){return M.test(y.trim()[0])&&O.test(y[y.length-1])?(T--,L(y),void T++):O.test(y[y.length-1])?(L(y),void T++):M.test(y.trim()[0])?(T--,void L(y)):void L(y)},w=function(y){if(!y)return w;if(1===arguments.length&&y.indexOf("\n")>-1)for(var u=y.trim().split("\n"),a=0;a<u.length;a++)I(u[a].trim());else I(_.format.apply(_,arguments));return w};return w.scope={},w.formats=D,w.sym=function(y){return(!y||!R(y))&&(y="tmp"),P[y]||(P[y]=0),y+(P[y]++||"")},w.property=function(y,u){return 1===arguments.length&&(u=y,y=""),l(u+="")?y?y+"."+u:u:y?y+"["+JSON.stringify(u)+"]":JSON.stringify(u)},w.toString=function(){return b.join("\n")},w.toFunction=function(y){y||(y={});var u="return ("+w.toString()+")";Object.keys(w.scope).forEach(function(h){y[h]||(y[h]=w.scope[h])});var a=Object.keys(y).map(function(h){return h}),v=a.map(function(h){return y[h]});return Function.apply(null,a.concat(u)).apply(null,v)},arguments.length&&w.apply(null,arguments),w};E.formats=D,ae.exports=E},2562:(ae,N,c)=>{var _=c(7549),l=function(O,M){return _(M)?O+"."+M:O+"["+JSON.stringify(M)+"]"};l.valid=_,l.property=function(O){return _(O)?O:JSON.stringify(O)},ae.exports=l},5203:(ae,N,c)=>{var _,l=SyntaxError,O=Function,M=TypeError,B=function(pe){try{return O('"use strict"; return ('+pe+").constructor;")()}catch{}},x=Object.getOwnPropertyDescriptor;if(x)try{x({},"")}catch{x=null}var U=function(){throw new M},R=x?function(){try{return U}catch{try{return x(arguments,"callee").get}catch{return U}}}():U,D=c(2969)(),E=Object.getPrototypeOf||function(pe){return pe.__proto__},b={},T="undefined"==typeof Uint8Array?_:E(Uint8Array),P={"%AggregateError%":"undefined"==typeof AggregateError?_:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?_:ArrayBuffer,"%ArrayIteratorPrototype%":D?E([][Symbol.iterator]()):_,"%AsyncFromSyncIteratorPrototype%":_,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":"undefined"==typeof Atomics?_:Atomics,"%BigInt%":"undefined"==typeof BigInt?_:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?_:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?_:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?_:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?_:FinalizationRegistry,"%Function%":O,"%GeneratorFunction%":b,"%Int8Array%":"undefined"==typeof Int8Array?_:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?_:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?_:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":D?E(E([][Symbol.iterator]())):_,"%JSON%":"object"==typeof JSON?JSON:_,"%Map%":"undefined"==typeof Map?_:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&D?E((new Map)[Symbol.iterator]()):_,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?_:Promise,"%Proxy%":"undefined"==typeof Proxy?_:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?_:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?_:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&D?E((new Set)[Symbol.iterator]()):_,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?_:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":D?E(""[Symbol.iterator]()):_,"%Symbol%":D?Symbol:_,"%SyntaxError%":l,"%ThrowTypeError%":R,"%TypedArray%":T,"%TypeError%":M,"%Uint8Array%":"undefined"==typeof Uint8Array?_:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?_:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?_:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?_:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?_:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?_:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?_:WeakSet},L=function pe(Q){var z;if("%AsyncFunction%"===Q)z=B("async function () {}");else if("%GeneratorFunction%"===Q)z=B("function* () {}");else if("%AsyncGeneratorFunction%"===Q)z=B("async function* () {}");else if("%AsyncGenerator%"===Q){var Y=pe("%AsyncGeneratorFunction%");Y&&(z=Y.prototype)}else if("%AsyncIteratorPrototype%"===Q){var G=pe("%AsyncGenerator%");G&&(z=E(G.prototype))}return P[Q]=z,z},I={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},w=c(4444),y=c(3164),u=w.call(Function.call,Array.prototype.concat),a=w.call(Function.apply,Array.prototype.splice),v=w.call(Function.call,String.prototype.replace),h=w.call(Function.call,String.prototype.slice),q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,de=/\\(\\)?/g,Ce=function(Q){var z=h(Q,0,1),Y=h(Q,-1);if("%"===z&&"%"!==Y)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===Y&&"%"!==z)throw new l("invalid intrinsic syntax, expected opening `%`");var G=[];return v(Q,q,function(J,$,ie,Ee){G[G.length]=ie?v(Ee,de,"$1"):$||J}),G},_e=function(Q,z){var G,Y=Q;if(y(I,Y)&&(Y="%"+(G=I[Y])[0]+"%"),y(P,Y)){var J=P[Y];if(J===b&&(J=L(Y)),void 0===J&&!z)throw new M("intrinsic "+Q+" exists, but is not available. Please file an issue!");return{alias:G,name:Y,value:J}}throw new l("intrinsic "+Q+" does not exist!")};ae.exports=function(Q,z){if("string"!=typeof Q||0===Q.length)throw new M("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof z)throw new M('"allowMissing" argument must be a boolean');var Y=Ce(Q),G=Y.length>0?Y[0]:"",J=_e("%"+G+"%",z),$=J.name,ie=J.value,Ee=!1,Le=J.alias;Le&&(G=Le[0],a(Y,u([0,1],Le)));for(var me=1,ge=!0;me<Y.length;me+=1){var te=Y[me],ue=h(te,0,1),Re=h(te,-1);if(('"'===ue||"'"===ue||"`"===ue||'"'===Re||"'"===Re||"`"===Re)&&ue!==Re)throw new l("property names with quotes must have matching quotes");if(("constructor"===te||!ge)&&(Ee=!0),y(P,$="%"+(G+="."+te)+"%"))ie=P[$];else if(null!=ie){if(!(te in ie)){if(!z)throw new M("base intrinsic for "+Q+" exists, but the property is not available.");return}if(x&&me+1>=Y.length){var Fe=x(ie,te);ie=(ge=!!Fe)&&"get"in Fe&&!("originalValue"in Fe.get)?Fe.get:ie[te]}else ge=y(ie,te),ie=ie[te];ge&&!Ee&&(P[$]=ie)}}return ie}},2969:(ae,N,c)=>{var _="undefined"!=typeof Symbol&&Symbol,l=c(1983);ae.exports=function(){return"function"==typeof _&&"function"==typeof Symbol&&"symbol"==typeof _("foo")&&"symbol"==typeof Symbol("bar")&&l()}},1983:ae=>{ae.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var c={},_=Symbol("test"),l=Object(_);if("string"==typeof _||"[object Symbol]"!==Object.prototype.toString.call(_)||"[object Symbol]"!==Object.prototype.toString.call(l))return!1;for(_ in c[_]=42,c)return!1;if("function"==typeof Object.keys&&0!==Object.keys(c).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(c).length)return!1;var M=Object.getOwnPropertySymbols(c);if(1!==M.length||M[0]!==_||!Object.prototype.propertyIsEnumerable.call(c,_))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var B=Object.getOwnPropertyDescriptor(c,_);if(42!==B.value||!0!==B.enumerable)return!1}return!0}},6259:(ae,N,c)=>{var _=c(1983);ae.exports=function(){return _()&&!!Symbol.toStringTag}},3164:(ae,N,c)=>{var _=c(4444);ae.exports=_.call(Function.call,Object.prototype.hasOwnProperty)},3894:ae=>{ae.exports="function"==typeof Object.create?function(c,_){_&&(c.super_=_,c.prototype=Object.create(_.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:function(c,_){if(_){c.super_=_;var l=function(){};l.prototype=_.prototype,c.prototype=new l,c.prototype.constructor=c}}},3407:(ae,N,c)=>{var _=c(6259)(),O=c(5834)("Object.prototype.toString"),M=function(R){return!(_&&R&&"object"==typeof R&&Symbol.toStringTag in R)&&"[object Arguments]"===O(R)},B=function(R){return!!M(R)||null!==R&&"object"==typeof R&&"number"==typeof R.length&&R.length>=0&&"[object Array]"!==O(R)&&"[object Function]"===O(R.callee)},x=function(){return M(arguments)}();M.isLegacyArguments=B,ae.exports=x?M:B},2374:(ae,N,c)=>{var _=Date.prototype.getDay,O=Object.prototype.toString,B=c(6259)();ae.exports=function(U){return"object"==typeof U&&null!==U&&(B?function(U){try{return _.call(U),!0}catch{return!1}}(U):"[object Date]"===O.call(U))}},9456:ae=>{ae.exports=function(){return"undefined"!=typeof window&&"object"==typeof window.process&&"renderer"===window.process.type||"undefined"!=typeof process&&"object"==typeof process.versions&&!!process.versions.electron||"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}},110:(ae,N,c)=>{var U,_=Object.prototype.toString,l=Function.prototype.toString,O=/^\s*(?:function)?\*/,M=c(6259)(),B=Object.getPrototypeOf;ae.exports=function(D){if("function"!=typeof D)return!1;if(O.test(l.call(D)))return!0;if(!M)return"[object GeneratorFunction]"===_.call(D);if(!B)return!1;if(void 0===U){var b=function(){if(!M)return!1;try{return Function("return function*() {}")()}catch{}}();U=!!b&&B(b)}return B(D)===U}},1570:ae=>{var N=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,c=/\/\d{1,3}(?=%|$)/,_=/\//,l=/%.*$/,O=/([^0-9a-f:/%])/i,M=/([0-9a-f]{5,}|:{3,}|[^:]:$|^:[^:]|\/$)/i;function B(R){if(!N.test(R))return!1;var D=R.split(".");if(4!==D.length||"0"===D[0][0]&&D[0].length>1||"0"===D[1][0]&&D[1].length>1||"0"===D[2][0]&&D[2].length>1||"0"===D[3][0]&&D[3].length>1)return!1;var E=Number(D[0]),b=Number(D[1]),T=Number(D[2]),P=Number(D[3]);return E>=0&&E<256&&b>=0&&b<256&&T>=0&&T<256&&P>=0&&P<256}function x(R){var D=R.replace(c,""),E=R.length!==D.length;if(E||!E&&_.test(R))return!1;var b=D.replace(l,""),T=b.lastIndexOf(":");if(-1===T)return!1;var I=B(b.substring(T+1))?b.substring(0,T+1)+"1234:5678":b;if(O.test(I)||M.test(I))return!1;var w=I.split("::");if(w.length>2)return!1;if(2===w.length){var y=""===w[0]?[]:w[0].split(":"),u=""===w[1]?[]:w[1].split(":");if(8-(y.length+u.length)<=0)return!1}else if(8!==I.split(":").length)return!1;return!0}function U(R){return B(R)||x(R)}ae.exports=function(D){if(D||(D={}),4===D.version)return B;if(6===D.version)return x;if(null==D.version)return U;throw new Error("Unknown version: "+D.version)},ae.exports.__all_regexes__=[N,c,_,l,O,M]},1367:(ae,N,c)=>{var _=c(1570),l=/\s/,O=/^[a-zA-Z0-9.-]+$/,M=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/,B=/^\+[0-9][0-9 ]{5,27}[0-9]$/,x=/ {2}/,U=/ /g;N["date-time"]=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}[tT ]\d{2}:\d{2}:\d{2}(?:\.\d+|)([zZ]|[+-]\d{2}:\d{2})$/,N.date=/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-[0-9]{2}$/,N.time=/^\d{2}:\d{2}:\d{2}$/,N.email=function(R){return-1!==R.indexOf("@")&&!l.test(R)},N["ip-address"]=N.ipv4=_({version:4}),N.ipv6=_({version:6}),N.uri=/^[a-zA-Z][a-zA-Z0-9+\-.]*:[^\s]*$/,N.color=/(#?([0-9A-Fa-f]{3,6})\b)|(aqua)|(black)|(blue)|(fuchsia)|(gray)|(green)|(lime)|(maroon)|(navy)|(olive)|(orange)|(purple)|(red)|(silver)|(teal)|(white)|(yellow)|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/,N.hostname=function(R){if(!O.test(R))return!1;for(var D=R.split("."),E=0;E<D.length;E++)if(!M.test(D[E]))return!1;return!0},N.alpha=/^[a-zA-Z]+$/,N.alphanumeric=/^[a-zA-Z0-9]+$/,N.style=/.:\s*[^;]/g,N.phone=function(R){if(!B.test(R)||x.test(R))return!1;var D=R.substring(1).replace(U,"").length;return D>=7&&D<=15},N["utc-millisec"]=/^[0-9]{1,15}\.?[0-9]{0,15}$/},8167:(ae,N,c)=>{var _=c(2562),l=c(1227),O=c(6936),M=c(1995),B=c(1367),U={any:function(){return"true"},null:function(T){return T+" === null"},boolean:function(T){return"typeof "+T+' === "boolean"'},array:function(T){return"Array.isArray("+T+")"},object:function(T){return"typeof "+T+' === "object" && '+T+" && !Array.isArray("+T+")"},number:function(T){return"typeof "+T+' === "number" && isFinite('+T+")"},integer:function(T){return"typeof "+T+' === "number" && (Math.floor('+T+") === "+T+" || "+T+" > 9007199254740992 || "+T+" < -9007199254740992)"},string:function(T){return"typeof "+T+' === "string"'}},R=function(T,P){P=Math.min(-1===P?T.length:P,T.length);for(var L=[],I=0;I<P;I++)L.push("object"==typeof T[I]?JSON.stringify(T[I]):T[I]);for(I=1;I<L.length;I++)if(L.indexOf(L[I])!==I)return!1;return!0},D=function(T,P){var I=(0|P)!==P?Math.pow(10,P.toString().split(".").pop().length):1;return!(I>1?((0|T)!==T?Math.pow(10,T.toString().split(".").pop().length):1)>I||Math.round(I*T)%(I*P):T%P)},E=function(T,P,L){return L>-1&&P.length>L||T.test(P)},b=function(T,P,L,I,w){var y=w?M(B,w.formats):B,u={unique:R,formats:y,isMultipleOf:D,testLimitedRegex:E},a=!!w&&!!w.verbose,v=!(!w||void 0===w.greedy)&&w.greedy,h={},q=[],de=function(J){var $=J+(h[J]=(h[J]||0)+1);return q.push($),$},Ce=function(J){var $=JSON.stringify(J);try{for(var ie=/\[([^\[\]"]+)\]/;ie.test($);)$=$.replace(ie,Ee);return $}catch{return JSON.stringify(J)}function Ee(Le,me){if(-1===q.indexOf(me))throw new Error("Unreplaceable");return'." + '+me+' + "'}},_e={},pe=function(J){if(_e[J])return _e[J];var $=de("pattern");return u[$]=new RegExp(J),_e[J]=$,$},Q=["i","j","k","l","m","n","o","p","q","r","s","t","u","v","x","y","z"],z=function(){var J=Q.shift();return Q.push(J+J[0]),q.push(J),J},Y=function(J,$,ie,Ee,Le){var me=$.properties,ge=$.type,te=!1;Array.isArray($.items)&&(me={},$.items.forEach(function(Ct,Dt){me[Dt]=Ct}),ge="array",te=!0);var ue=0,Re=function(Ct,Dt,Kt){G("errors++"),!0===ie&&(G("if (validate.errors === null) validate.errors = []"),a?G("validate.errors.push({field:%s,message:%s,value:%s,type:%s,schemaPath:%s})",Ce(Dt||J),JSON.stringify(Ct),Kt||J,JSON.stringify(ge),JSON.stringify(Le)):G("validate.errors.push({field:%s,message:%s})",Ce(Dt||J),JSON.stringify(Ct)))};!0===$.required?(ue++,G("if (%s === undefined) {",J),Re("is required"),G("} else {")):(ue++,G("if (%s !== undefined) {",J));var Fe=[].concat(ge).map(function(Ct){if(Ct&&!U.hasOwnProperty(Ct))throw new Error("Unknown type: "+Ct);return U[Ct||"any"](J)}).join(" || ")||"true";if("true"!==Fe&&(ue++,G("if (!(%s)) {",Fe),Re("is the wrong type"),G("} else {")),te)if(!1===$.additionalItems)G("if (%s.length > %d) {",J,$.items.length),Re("has additional items"),G("}");else if($.additionalItems){var Je=z();G("for (var %s = %d; %s < %s.length; %s++) {",Je,$.items.length,Je,J,Je),Y(J+"["+Je+"]",$.additionalItems,ie,Ee,Le.concat("additionalItems")),G("}")}if($.format&&y[$.format]){"string"!==ge&&B[$.format]&&G("if (%s) {",U.string(J));var st=de("format");u[st]=y[$.format],"function"==typeof u[st]?G("if (!%s(%s)) {",st,J):G("if (!testLimitedRegex(%s, %s, %d)) {",st,J,void 0===$.maxLength?-1:$.maxLength),Re("must be "+$.format+" format"),G("}"),"string"!==ge&&B[$.format]&&G("}")}if(Array.isArray($.required)&&(st=de("missing"),G("var %s = 0",st),G("if ((%s)) {","object"!==ge?U.object(J):"true"),$.required.map(function(Dt){var Kt=_(J,Dt);G("if (%s === undefined) {",Kt),Re("is required",Kt),G("%s++",st),G("}")}),G("}"),v||(G("if (%s === 0) {",st),ue++)),$.uniqueItems&&("array"!==ge&&G("if (%s) {",U.array(J)),G("if (!(unique(%s, %d))) {",J,$.maxItems||-1),Re("must be unique"),G("}"),"array"!==ge&&G("}")),$.enum){var vt=$.enum.some(function(Ct){return"object"==typeof Ct});G("if (%s) {",$.enum.map(vt?function(Ct){return"JSON.stringify("+J+") !== JSON.stringify("+JSON.stringify(Ct)+")"}:function(Ct){return J+" !== "+JSON.stringify(Ct)}).join(" && ")||"false"),Re("must be an enum value"),G("}")}if($.dependencies&&("object"!==ge&&G("if (%s) {",U.object(J)),Object.keys($.dependencies).forEach(function(Ct){var Dt=$.dependencies[Ct];"string"==typeof Dt&&(Dt=[Dt]),Array.isArray(Dt)&&(G("if (%s !== undefined && !(%s)) {",_(J,Ct),Dt.map(function(Br){return _(J,Br)+" !== undefined"}).join(" && ")||"true"),Re("dependencies not set"),G("}")),"object"==typeof Dt&&(G("if (%s !== undefined) {",_(J,Ct)),Y(J,Dt,ie,Ee,Le.concat(["dependencies",Ct])),G("}"))}),"object"!==ge&&G("}")),$.additionalProperties||!1===$.additionalProperties){"object"!==ge&&G("if (%s) {",U.object(J)),Je=z();var It=de("keys"),ar=Object.keys(me||{}).map(function(Dt){return It+"["+Je+"] !== "+JSON.stringify(Dt)}).concat(Object.keys($.patternProperties||{}).map(function(Dt){return"!"+pe(Dt)+".test("+It+"["+Je+"])"})).join(" && ")||"true";G("var %s = Object.keys(%s)",It,J)("for (var %s = 0; %s < %s.length; %s++) {",Je,Je,It,Je)("if (%s) {",ar),!1===$.additionalProperties?(Ee&&G("delete %s",J+"["+It+"["+Je+"]]"),Re("has additional properties",null,JSON.stringify(J+".")+" + "+It+"["+Je+"]")):Y(J+"["+It+"["+Je+"]]",$.additionalProperties,ie,Ee,Le.concat(["additionalProperties"])),G("}")("}"),"object"!==ge&&G("}")}if($.$ref){var tr=function(T,P,L){var I=function(h){return h&&h.id===L?h:"object"==typeof h&&h?Object.keys(h).reduce(function(q,de){return q||I(h[de])},null):null},w=I(T);if(w)return w;L=(L=L.replace(/^#/,"")).replace(/\/$/,"");try{return O.get(T,decodeURI(L))}catch{var u,y=L.indexOf("#");if(0!==y)if(-1===y)u=P[L];else{u=P[L.slice(0,y)];var v=L.slice(y).replace(/^#/,"");try{return O.get(u,v)}catch{}}else u=P[L];return u||null}}(L,w&&w.schemas||{},$.$ref);if(tr){var dr=P[$.$ref];dr||(P[$.$ref]=function(Kt){return dr(Kt)},dr=b(tr,P,L,!1,w)),st=de("ref"),u[st]=dr,G("if (!(%s(%s))) {",st,J),Re("referenced schema does not match"),G("}")}}if($.not){var Jt=de("prev");G("var %s = errors",Jt),Y(J,$.not,!1,Ee,Le.concat("not")),G("if (%s === errors) {",Jt),Re("negative schema matches"),G("} else {")("errors = %s",Jt)("}")}if($.items&&!te&&("array"!==ge&&G("if (%s) {",U.array(J)),Je=z(),G("for (var %s = 0; %s < %s.length; %s++) {",Je,Je,J,Je),Y(J+"["+Je+"]",$.items,ie,Ee,Le.concat("items")),G("}"),"array"!==ge&&G("}")),$.patternProperties&&("object"!==ge&&G("if (%s) {",U.object(J)),It=de("keys"),Je=z(),G("var %s = Object.keys(%s)",It,J)("for (var %s = 0; %s < %s.length; %s++) {",Je,Je,It,Je),Object.keys($.patternProperties).forEach(function(Kt){var Br=pe(Kt);G("if (%s.test(%s)) {",Br,It+"["+Je+"]"),Y(J+"["+It+"["+Je+"]]",$.patternProperties[Kt],ie,Ee,Le.concat(["patternProperties",Kt])),G("}")}),G("}"),"object"!==ge&&G("}")),$.pattern){var Jr=pe($.pattern);"string"!==ge&&G("if (%s) {",U.string(J)),G("if (!(testLimitedRegex(%s, %s, %d))) {",Jr,J,void 0===$.maxLength?-1:$.maxLength),Re("pattern mismatch"),G("}"),"string"!==ge&&G("}")}if($.allOf&&$.allOf.forEach(function(Ct,Dt){Y(J,Ct,ie,Ee,Le.concat(["allOf",Dt]))}),$.anyOf&&$.anyOf.length&&(Jt=de("prev"),$.anyOf.forEach(function(Dt,Kt){0===Kt?G("var %s = errors",Jt):G("if (errors !== %s) {",Jt)("errors = %s",Jt),Y(J,Dt,!1,!1,Le)}),$.anyOf.forEach(function(Dt,Kt){Kt&&G("}")}),G("if (%s !== errors) {",Jt),Re("no schemas match"),G("}")),$.oneOf&&$.oneOf.length){Jt=de("prev");var Be=de("passes");G("var %s = errors",Jt)("var %s = 0",Be),$.oneOf.forEach(function(Dt,Kt){Y(J,Dt,!1,!1,Le),G("if (%s === errors) {",Jt)("%s++",Be)("} else {")("errors = %s",Jt)("}")}),G("if (%s !== 1) {",Be),Re("no (or more than one) schemas match"),G("}")}for(void 0!==$.multipleOf&&("number"!==ge&&"integer"!==ge&&G("if (%s) {",U.number(J)),G("if (!isMultipleOf(%s, %d)) {",J,$.multipleOf),Re("has a remainder"),G("}"),"number"!==ge&&"integer"!==ge&&G("}")),void 0!==$.maxProperties&&("object"!==ge&&G("if (%s) {",U.object(J)),G("if (Object.keys(%s).length > %d) {",J,$.maxProperties),Re("has more properties than allowed"),G("}"),"object"!==ge&&G("}")),void 0!==$.minProperties&&("object"!==ge&&G("if (%s) {",U.object(J)),G("if (Object.keys(%s).length < %d) {",J,$.minProperties),Re("has less properties than allowed"),G("}"),"object"!==ge&&G("}")),void 0!==$.maxItems&&("array"!==ge&&G("if (%s) {",U.array(J)),G("if (%s.length > %d) {",J,$.maxItems),Re("has more items than allowed"),G("}"),"array"!==ge&&G("}")),void 0!==$.minItems&&("array"!==ge&&G("if (%s) {",U.array(J)),G("if (%s.length < %d) {",J,$.minItems),Re("has less items than allowed"),G("}"),"array"!==ge&&G("}")),void 0!==$.maxLength&&("string"!==ge&&G("if (%s) {",U.string(J)),G("if (%s.length > %d) {",J,$.maxLength),Re("has longer length than allowed"),G("}"),"string"!==ge&&G("}")),void 0!==$.minLength&&("string"!==ge&&G("if (%s) {",U.string(J)),G("if (%s.length < %d) {",J,$.minLength),Re("has less length than allowed"),G("}"),"string"!==ge&&G("}")),void 0!==$.minimum&&("number"!==ge&&"integer"!==ge&&G("if (%s) {",U.number(J)),G("if (%s %s %d) {",J,$.exclusiveMinimum?"<=":"<",$.minimum),Re("is less than minimum"),G("}"),"number"!==ge&&"integer"!==ge&&G("}")),void 0!==$.maximum&&("number"!==ge&&"integer"!==ge&&G("if (%s) {",U.number(J)),G("if (%s %s %d) {",J,$.exclusiveMaximum?">=":">",$.maximum),Re("is more than maximum"),G("}"),"number"!==ge&&"integer"!==ge&&G("}")),me&&Object.keys(me).forEach(function(Ct){Array.isArray(ge)&&-1!==ge.indexOf("null")&&G("if (%s !== null) {",J),Y(_(J,Ct),me[Ct],ie,Ee,Le.concat(te?Ct:["properties",Ct])),Array.isArray(ge)&&-1!==ge.indexOf("null")&&G("}")});ue--;)G("}")},G=l("function validate(data) {")("if (data === undefined) data = null")("validate.errors = null")("var errors = 0");return Y("data",T,I,w&&w.filter,[]),G("return errors === 0")("}"),(G=G.toFunction(u)).errors=null,Object.defineProperty&&Object.defineProperty(G,"error",{get:function(){return G.errors?G.errors.map(function(J){return J.field+" "+J.message}).join("\n"):""}}),G.toJSON=function(){return T},G};ae.exports=function(T,P){return"string"==typeof T&&(T=JSON.parse(T)),b(T,{},T,!0,P)},ae.exports.filter=function(T,P){var L=ae.exports(T,M(P,{filter:!0}));return function(I){return L(I),I}}},7549:ae=>{ae.exports=function(c){return/^[$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc][$A-Z\_a-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc0-9\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u0669\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u06f0-\u06f9\u0711\u0730-\u074a\u07a6-\u07b0\u07c0-\u07c9\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09cb-\u09cd\u09d7\u09e2\u09e3\u09e6-\u09ef\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d3e-\u0d44\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d62\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0e50-\u0e59\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f3e\u0f3f\u0f71-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102b-\u103e\u1040-\u1049\u1056-\u1059\u105e-\u1060\u1062-\u1064\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4-\u17d3\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u18a9\u1920-\u192b\u1930-\u193b\u1946-\u194f\u19b0-\u19c0\u19c8\u19c9\u19d0-\u19d9\u1a17-\u1a1b\u1a55-\u1a5e\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b00-\u1b04\u1b34-\u1b44\u1b50-\u1b59\u1b6b-\u1b73\u1b80-\u1b82\u1ba1-\u1bad\u1bb0-\u1bb9\u1be6-\u1bf3\u1c24-\u1c37\u1c40-\u1c49\u1c50-\u1c59\u1cd0-\u1cd2\u1cd4-\u1ce8\u1ced\u1cf2-\u1cf4\u1dc0-\u1de6\u1dfc-\u1dff\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua620-\ua629\ua66f\ua674-\ua67d\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua823-\ua827\ua880\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8e0-\ua8f1\ua900-\ua909\ua926-\ua92d\ua947-\ua953\ua980-\ua983\ua9b3-\ua9c0\ua9d0-\ua9d9\uaa29-\uaa36\uaa43\uaa4c\uaa4d\uaa50-\uaa59\uaa7b\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaeb-\uaaef\uaaf5\uaaf6\uabe3-\uabea\uabec\uabed\uabf0-\uabf9\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]*$/.test(c)}},2342:(ae,N,c)=>{var O,M,B,x,_=c(5834),l=c(6259)();if(l){O=_("Object.prototype.hasOwnProperty"),M=_("RegExp.prototype.exec"),B={};var U=function(){throw B};x={toString:U,valueOf:U},"symbol"==typeof Symbol.toPrimitive&&(x[Symbol.toPrimitive]=U)}var R=_("Object.prototype.toString"),D=Object.getOwnPropertyDescriptor;ae.exports=l?function(T){if(!T||"object"!=typeof T)return!1;var P=D(T,"lastIndex");if(!P||!O(P,"value"))return!1;try{M(T,x)}catch(I){return I===B}}:function(T){return!(!T||"object"!=typeof T&&"function"!=typeof T)&&"[object RegExp]"===R(T)}},597:(ae,N,c)=>{var _=c(9076),l=c(7029),O=c(5834),M=O("Object.prototype.toString"),B=c(6259)(),x="undefined"==typeof globalThis?global:globalThis,U=l(),R=O("Array.prototype.indexOf",!0)||function(I,w){for(var y=0;y<I.length;y+=1)if(I[y]===w)return y;return-1},D=O("String.prototype.slice"),E={},b=c(8555),T=Object.getPrototypeOf;B&&b&&T&&_(U,function(L){var I=new x[L];if(Symbol.toStringTag in I){var w=T(I),y=b(w,Symbol.toStringTag);if(!y){var u=T(w);y=b(u,Symbol.toStringTag)}E[L]=y.get}}),ae.exports=function(I){if(!I||"object"!=typeof I)return!1;if(!B||!(Symbol.toStringTag in I)){var w=D(M(I),8,-1);return R(U,w)>-1}return!!b&&function(I){var w=!1;return _(E,function(y,u){if(!w)try{w=y.call(I)===u}catch{}}),w}(I)}},6936:(ae,N)=>{var c=/~/,_=/~[01]/g;function l(D){switch(D){case"~1":return"/";case"~0":return"~"}throw new Error("Invalid tilde escape: "+D)}function O(D){return c.test(D)?D.replace(_,l):D}function B(D){if("string"==typeof D){if(""===(D=D.split("/"))[0])return D;throw new Error("Invalid JSON pointer.")}if(Array.isArray(D)){for(const E of D)if("string"!=typeof E&&"number"!=typeof E)throw new Error("Invalid JSON pointer. Must be of type string or number.");return D}throw new Error("Invalid JSON pointer.")}function x(D,E){if("object"!=typeof D)throw new Error("Invalid input object.");var b=(E=B(E)).length;if(1===b)return D;for(var T=1;T<b;){if(D=D[O(E[T++])],b===T)return D;if("object"!=typeof D)return}}function U(D,E,b){if("object"!=typeof D)throw new Error("Invalid input object.");if(0===(E=B(E)).length)throw new Error("Invalid JSON pointer for set.");return function(D,E,b){for(var T,P,L=1,I=E.length;L<I;){if("constructor"===E[L]||"prototype"===E[L]||"__proto__"===E[L])return D;if(T=O(E[L++]),P=I>L,void 0===D[T]&&(Array.isArray(D)&&"-"===T&&(T=D.length),P&&(D[T]=""!==E[L]&&E[L]<1/0||"-"===E[L]?[]:{})),!P)break;D=D[T]}var w=D[T];return void 0===b?delete D[T]:D[T]=b,w}(D,E,b)}N.get=x,N.set=U,N.compile=function(D){var E=B(D);return{get:function(b){return x(b,E)},set:function(b,T){return U(b,E,T)}}}},9790:(ae,N,c)=>{function _(pe){return pe&&"object"==typeof pe&&"default"in pe?pe.default:pe}var l=_(c(8309)),O=_(c(6952)),M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(pe){return typeof pe}:function(pe){return pe&&"function"==typeof Symbol&&pe.constructor===Symbol&&pe!==Symbol.prototype?"symbol":typeof pe},B=Object.assign||function(pe){for(var Q=1;Q<arguments.length;Q++){var z=arguments[Q];for(var Y in z)Object.prototype.hasOwnProperty.call(z,Y)&&(pe[Y]=z[Y])}return pe},E=function(pe,Q){Object.keys(pe).forEach(function(z){Q(pe[z],z)})},T=function(pe){return!!("undefined"!=typeof Uint8Array&&pe instanceof Uint8Array||pe&&pe.$Uint8ArrayPolyfill)},P_each=E,L=function(Q){return Array.isArray(Q)&&!T(Q)},I=function(Q){return L(Q)||u(Q)},y=function(Q){return/^[0-9]+$/.test(Q)},u=function(pe){return!(!pe||"number"==typeof pe||"string"==typeof pe||"boolean"==typeof pe||L(pe)||null===pe||pe instanceof RegExp||"function"==typeof pe||pe instanceof Date||T(pe))},a=function(pe){var Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof pe&&Q.field&&(pe+=" for field '"+Q.field+"'");var z=new Error(pe);return z.name="ModifyJsError",z},v_each=E,q=function(Q,z,Y){if(Y=Y||{},!u(z))throw a("Modifier must be an object");var J,G=function(Q,z){if(!u(Q))return!1;var Y=void 0;return P_each(Q,function(G,J){var $="$"===J.substr(0,1);if(void 0===Y)Y=$;else if(Y!==$)throw new Error("Inconsistent operator: "+JSON.stringify(Q))}),!!Y}(z=l(z));if(G?(J=l(Q),v_each(z,function($,ie){var Ee=_e[ie];if(!Ee)throw a("Invalid modifier specified "+ie);v_each($,function(Le,me){if(""===me)throw a("An empty update path is not valid.");var ge=me.split(".");if(!function(pe,Q){return pe.every(function(z){return Q&&Q(z)||z})}(ge))throw a("The update path '"+me+"' contains an empty field name, which is not allowed.");var te=de(J,ge,{noCreate:Ce[ie],forbidArray:"$rename"===ie,arrayIndices:Y.arrayIndices}),ue=ge.pop();Ee(te,ue,Le,me,J)})})):J=z,Y.returnInsteadOfReplacing)return J;v_each(Object.keys(Q),function($){"_id"!==$&&delete Q[$]}),v_each(J,function($,ie){Q[ie]=$})},de=function(Q,z,Y){Y=Y||{};for(var G=!1,J=0;J<z.length;J++){var $=J===z.length-1,ie=z[J];if(!I(Q)){if(Y.noCreate)return;var Le=a("cannot use the part '"+ie+"' to traverse "+Q);throw Le.setPropertyError=!0,Le}if(Q instanceof Array){if(Y.forbidArray)return null;if("$"===ie){if(G)throw a("Too many positional (i.e. '$') elements");if(!Y.arrayIndices||!Y.arrayIndices.length)throw a("The positional operator did not find the match needed from the query");ie=Y.arrayIndices[0],G=!0}else{if(!y(ie)){if(Y.noCreate)return;throw a("can't append to array using string field name ["+ie+"]")}ie=parseInt(ie)}if($&&(z[J]=ie),Y.noCreate&&ie>=Q.length)return;for(;Q.length<ie;)Q.push(null);if(!$)if(Q.length===ie)Q.push({});else if("object"!==M(Q[ie]))throw a("can't modify field '"+z[J+1]+"' of list value "+JSON.stringify(Q[ie]))}else if(!(ie in Q)){if(Y.noCreate)return;$||(Q[ie]={})}if($)return Q;Q=Q[ie]}},Ce={$unset:!0,$pop:!0,$rename:!0,$pull:!0,$pullAll:!0},_e={$currentDate:function(Q,z,Y){if("object"===(void 0===Y?"undefined":M(Y))&&Y.hasOwnProperty("$type")){if("date"!==Y.$type)throw a("Minimongo does currently only support the date type in $currentDate modifiers",{field:z})}else if(!0!==Y)throw a("Invalid $currentDate modifier",{field:z});Q[z]=new Date},$min:function(Q,z,Y){if("number"!=typeof Y)throw a("Modifier $min allowed for numbers only",{field:z});if(z in Q){if("number"!=typeof Q[z])throw a("Cannot apply $min modifier to non-number",{field:z});Q[z]>Y&&(Q[z]=Y)}else Q[z]=Y},$max:function(Q,z,Y){if("number"!=typeof Y)throw a("Modifier $max allowed for numbers only",{field:z});if(z in Q){if("number"!=typeof Q[z])throw a("Cannot apply $max modifier to non-number",{field:z});Q[z]<Y&&(Q[z]=Y)}else Q[z]=Y},$inc:function(Q,z,Y){if("number"!=typeof Y)throw a("Modifier $inc allowed for numbers only",{field:z});if(z in Q){if("number"!=typeof Q[z])throw a("Cannot apply $inc modifier to non-number",{field:z});Q[z]+=Y}else Q[z]=Y},$set:function(Q,z,Y){var G,pe;if("object"!==(void 0===(pe=Q)?"undefined":M(pe))||null===pe)throw(G=a("Cannot set property on non-object field",{field:z})).setPropertyError=!0,G;if(null===Q)throw(G=a("Cannot set property on null",{field:z})).setPropertyError=!0,G;Q[z]=Y},$setOnInsert:function(Q,z,Y){},$unset:function(Q,z,Y){void 0!==Q&&(Q instanceof Array?z in Q&&(Q[z]=null):delete Q[z])},$push:function(Q,z,Y){if(void 0===Q[z]&&(Q[z]=[]),!(Q[z]instanceof Array))throw a("Cannot apply $push modifier to non-array",{field:z});if(Y&&Y.$each){var G=Y.$each;if(!(G instanceof Array))throw a("$each must be an array",{field:z});var J=void 0;if("$position"in Y){if("number"!=typeof Y.$position)throw a("$position must be a numeric value",{field:z});if(Y.$position<0)throw a("$position in $push must be zero or positive",{field:z});J=Y.$position}var $=void 0;if("$slice"in Y){if("number"!=typeof Y.$slice)throw a("$slice must be a numeric value",{field:z});if(Y.$slice>0)throw a("$slice in $push must be zero or negative",{field:z});$=Y.$slice}if(Y.$sort)throw a("$sort in $push not implemented yet");if(void 0===J)for(var Ee=0;Ee<G.length;Ee++)Q[z].push(G[Ee]);else{var Le=[J,0];for(Ee=0;Ee<G.length;Ee++)Le.push(G[Ee]);Array.prototype.splice.apply(Q[z],Le)}void 0!==$&&(Q[z]=0===$?[]:Q[z].slice($))}else Q[z].push(Y)},$pushAll:function(Q,z,Y){if(!("object"===(void 0===Y?"undefined":M(Y))&&Y instanceof Array))throw a("Modifier $pushAll/pullAll allowed for arrays only");var G=Q[z];if(void 0===G)Q[z]=Y;else{if(!(G instanceof Array))throw a("Cannot apply $pushAll modifier to non-array",{field:z});for(var J=0;J<Y.length;J++)G.push(Y[J])}},$addToSet:function(Q,z,Y){var G=!1;"object"===(void 0===Y?"undefined":M(Y))&&"$each"===Object.keys(Y)[0]&&(G=!0);var $=G?Y.$each:[Y],ie=Q[z];if(void 0===ie)Q[z]=$;else{if(!(ie instanceof Array))throw a("Cannot apply $addToSet modifier to non-array",{field:z});v_each($,function(Ee){for(var Le=0;Le<ie.length;Le++)if(O(Ee,ie[Le]))return;ie.push(Ee)})}},$pop:function(Q,z,Y){if(void 0!==Q){var G=Q[z];if(void 0!==G){if(!(G instanceof Array))throw a("Cannot apply $pop modifier to non-array",{field:z});"number"==typeof Y&&Y<0?G.splice(0,1):G.pop()}}},$pull:function(Q,z,Y){if(void 0!==Q){var G=Q[z];if(void 0!==G)throw G instanceof Array?a("$pull not implemented yet"):a("Cannot apply $pull/pullAll modifier to non-array",{field:z})}},$pullAll:function(Q,z,Y){if(!("object"===(void 0===Y?"undefined":M(Y))&&Y instanceof Array))throw a("Modifier $pushAll/pullAll allowed for arrays only",{field:z});if(void 0!==Q){var G=Q[z];if(void 0!==G){if(!(G instanceof Array))throw a("Cannot apply $pull/pullAll modifier to non-array",{field:z});for(var J=[],$=0;$<G.length;$++){for(var ie=!1,Ee=0;Ee<Y.length;Ee++)if(O(G[$],Y[Ee])){ie=!0;break}ie||J.push(G[$])}Q[z]=J}}},$rename:function(Q,z,Y,G,J){if(G===Y)throw a("$rename source must differ from target",{field:z});if(null===Q)throw a("$rename source field invalid",{field:z});if("string"!=typeof Y)throw a("$rename target must be a string",{field:z});if(Y.indexOf("\0")>-1)throw a("The 'to' field for $rename cannot contain an embedded null byte",{field:z});if(void 0!==Q){var $=Q[z];delete Q[z];var ie=Y.split("."),Ee=de(J,ie,{forbidArray:!0});if(null===Ee)throw a("$rename target field invalid",{field:z});Ee[ie.pop()]=$}},$bit:function(Q,z,Y){throw a("$bit is not supported",{field:z})}};ae.exports=function(pe,Q,z){if(!z||!z.each)return q(pe,Q,B({},z,{returnInsteadOfReplacing:!0}))}},8309:ae=>{var N=function(){"use strict";function c(E,b){return null!=b&&E instanceof b}var _,l,O;try{_=Map}catch{_=function(){}}try{l=Set}catch{l=function(){}}try{O=Promise}catch{O=function(){}}function M(E,b,T,P,L){"object"==typeof b&&(T=b.depth,P=b.prototype,L=b.includeNonEnumerable,b=b.circular);var I=[],w=[],y="undefined"!=typeof Buffer;return void 0===b&&(b=!0),void 0===T&&(T=1/0),function u(a,v){if(null===a)return null;if(0===v)return a;var h,q;if("object"!=typeof a)return a;if(c(a,_))h=new _;else if(c(a,l))h=new l;else if(c(a,O))h=new O(function(J,$){a.then(function(ie){J(u(ie,v-1))},function(ie){$(u(ie,v-1))})});else if(M.__isArray(a))h=[];else if(M.__isRegExp(a))h=new RegExp(a.source,D(a)),a.lastIndex&&(h.lastIndex=a.lastIndex);else if(M.__isDate(a))h=new Date(a.getTime());else{if(y&&Buffer.isBuffer(a))return h=Buffer.allocUnsafe?Buffer.allocUnsafe(a.length):new Buffer(a.length),a.copy(h),h;c(a,Error)?h=Object.create(a):void 0===P?(q=Object.getPrototypeOf(a),h=Object.create(q)):(h=Object.create(P),q=P)}if(b){var de=I.indexOf(a);if(-1!=de)return w[de];I.push(a),w.push(h)}for(var Ce in c(a,_)&&a.forEach(function(J,$){var ie=u($,v-1),Ee=u(J,v-1);h.set(ie,Ee)}),c(a,l)&&a.forEach(function(J){var $=u(J,v-1);h.add($)}),a){var _e;q&&(_e=Object.getOwnPropertyDescriptor(q,Ce)),(!_e||null!=_e.set)&&(h[Ce]=u(a[Ce],v-1))}if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(a);for(Ce=0;Ce<pe.length;Ce++){var Q=pe[Ce];(z=Object.getOwnPropertyDescriptor(a,Q))&&!z.enumerable&&!L||(h[Q]=u(a[Q],v-1),z.enumerable||Object.defineProperty(h,Q,{enumerable:!1}))}}if(L){var Y=Object.getOwnPropertyNames(a);for(Ce=0;Ce<Y.length;Ce++){var z,G=Y[Ce];(z=Object.getOwnPropertyDescriptor(a,G))&&z.enumerable||(h[G]=u(a[G],v-1),Object.defineProperty(h,G,{enumerable:!1}))}}return h}(E,T)}function B(E){return Object.prototype.toString.call(E)}function D(E){var b="";return E.global&&(b+="g"),E.ignoreCase&&(b+="i"),E.multiline&&(b+="m"),b}return M.clonePrototype=function(b){if(null===b)return null;var T=function(){};return T.prototype=b,new T},M.__objToStr=B,M.__isDate=function(E){return"object"==typeof E&&"[object Date]"===B(E)},M.__isArray=function(E){return"object"==typeof E&&"[object Array]"===B(E)},M.__isRegExp=function(E){return"object"==typeof E&&"[object RegExp]"===B(E)},M.__getRegExpFlags=D,M}();ae.exports&&(ae.exports=N)},1175:ae=>{var N=function(c){return c!=c};ae.exports=function(_,l){return 0===_&&0===l?1/_==1/l:!!(_===l||N(_)&&N(l))}},2e3:(ae,N,c)=>{var _=c(2358),l=c(5685),O=c(1175),M=c(6305),B=c(3859),x=l(M(),Object);_(x,{getPolyfill:M,implementation:O,shim:B}),ae.exports=x},6305:(ae,N,c)=>{var _=c(1175);ae.exports=function(){return"function"==typeof Object.is?Object.is:_}},3859:(ae,N,c)=>{var _=c(6305),l=c(2358);ae.exports=function(){var M=_();return l(Object,{is:M},{is:function(){return Object.is!==M}}),M}},2450:(ae,N,c)=>{var _;if(!Object.keys){var l=Object.prototype.hasOwnProperty,O=Object.prototype.toString,M=c(9978),B=Object.prototype.propertyIsEnumerable,x=!B.call({toString:null},"toString"),U=B.call(function(){},"prototype"),R=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],D=function(P){var L=P.constructor;return L&&L.prototype===P},E={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},b=function(){if("undefined"==typeof window)return!1;for(var P in window)try{if(!E["$"+P]&&l.call(window,P)&&null!==window[P]&&"object"==typeof window[P])try{D(window[P])}catch{return!0}}catch{return!0}return!1}();_=function(L){var I=null!==L&&"object"==typeof L,w="[object Function]"===O.call(L),y=M(L),u=I&&"[object String]"===O.call(L),a=[];if(!I&&!w&&!y)throw new TypeError("Object.keys called on a non-object");var v=U&&w;if(u&&L.length>0&&!l.call(L,0))for(var h=0;h<L.length;++h)a.push(String(h));if(y&&L.length>0)for(var q=0;q<L.length;++q)a.push(String(q));else for(var de in L)(!v||"prototype"!==de)&&l.call(L,de)&&a.push(String(de));if(x)for(var Ce=function(P){if("undefined"==typeof window||!b)return D(P);try{return D(P)}catch{return!1}}(L),_e=0;_e<R.length;++_e)(!Ce||"constructor"!==R[_e])&&l.call(L,R[_e])&&a.push(R[_e]);return a}}ae.exports=_},1356:(ae,N,c)=>{var _=Array.prototype.slice,l=c(9978),O=Object.keys,M=O?function(U){return O(U)}:c(2450),B=Object.keys;M.shim=function(){if(Object.keys){var U=function(){var R=Object.keys(arguments);return R&&R.length===arguments.length}(1,2);U||(Object.keys=function(D){return l(D)?B(_.call(D)):B(D)})}else Object.keys=M;return Object.keys||M},ae.exports=M},9978:ae=>{var N=Object.prototype.toString;ae.exports=function(_){var l=N.call(_),O="[object Arguments]"===l;return O||(O="[object Array]"!==l&&null!==_&&"object"==typeof _&&"number"==typeof _.length&&_.length>=0&&"[object Function]"===N.call(_.callee)),O}},8624:function(ae,N){var c,_,l;!function(O,M){"use strict";"object"==typeof ae.exports?ae.exports=M():(_=[],void 0!==(l="function"==typeof(c=M)?c.apply(N,_):c)&&(ae.exports=l))}(0,function(){"use strict";var O=Object.prototype.toString;function M(P,L){return null!=P&&Object.prototype.hasOwnProperty.call(P,L)}function B(P){if(!P||R(P)&&0===P.length)return!0;if("string"!=typeof P){for(var L in P)if(M(P,L))return!1;return!0}return!1}function x(P){return O.call(P)}var R=Array.isArray||function(P){return"[object Array]"===O.call(P)};function E(P){var L=parseInt(P);return L.toString()===P?L:P}function b(P){var I,y,L=function(a){return Object.keys(L).reduce(function(v,h){return"create"===h||"function"==typeof L[h]&&(v[h]=L[h].bind(L,a)),v},{})};function w(a,v){if(I(a,v))return a[v]}function u(a,v,h,q){if("number"==typeof v&&(v=[v]),!v||0===v.length)return a;if("string"==typeof v)return u(a,v.split(".").map(E),h,q);var de=v[0],Ce=y(a,de);return 1===v.length?((void 0===Ce||!q)&&(a[de]=h),Ce):(void 0===Ce&&(a[de]="number"==typeof v[1]?[]:{}),u(a[de],v.slice(1),h,q))}return I=(P=P||{}).includeInheritedProps?function(){return!0}:function(a,v){return"number"==typeof v&&Array.isArray(a)||M(a,v)},y=P.includeInheritedProps?function(a,v){"string"!=typeof v&&"number"!=typeof v&&(v=String(v));var h=w(a,v);if("__proto__"===v||"prototype"===v||"constructor"===v&&"function"==typeof h)throw new Error("For security reasons, object's magic properties cannot be set");return h}:function(a,v){return w(a,v)},L.has=function(a,v){if("number"==typeof v?v=[v]:"string"==typeof v&&(v=v.split(".")),!v||0===v.length)return!!a;for(var h=0;h<v.length;h++){var q=E(v[h]);if(!("number"==typeof q&&R(a)&&q<a.length||(P.includeInheritedProps?q in Object(a):M(a,q))))return!1;a=a[q]}return!0},L.ensureExists=function(a,v,h){return u(a,v,h,!0)},L.set=function(a,v,h,q){return u(a,v,h,q)},L.insert=function(a,v,h,q){var de=L.get(a,v);q=~~q,R(de)||L.set(a,v,de=[]),de.splice(q,0,h)},L.empty=function(a,v){var h,q;if(!B(v)&&null!=a&&(h=L.get(a,v))){if("string"==typeof h)return L.set(a,v,"");if(function(P){return"boolean"==typeof P||"[object Boolean]"===x(P)}(h))return L.set(a,v,!1);if("number"==typeof h)return L.set(a,v,0);if(R(h))h.length=0;else{if(!function(P){return"object"==typeof P&&"[object Object]"===x(P)}(h))return L.set(a,v,null);for(q in h)I(h,q)&&delete h[q]}}},L.push=function(a,v){var h=L.get(a,v);R(h)||L.set(a,v,h=[]),h.push.apply(h,Array.prototype.slice.call(arguments,2))},L.coalesce=function(a,v,h){for(var q,de=0,Ce=v.length;de<Ce;de++)if(void 0!==(q=L.get(a,v[de])))return q;return h},L.get=function(a,v,h){if("number"==typeof v&&(v=[v]),!v||0===v.length)return a;if(null==a)return h;if("string"==typeof v)return L.get(a,v.split("."),h);var q=E(v[0]),de=y(a,q);return void 0===de?h:1===v.length?de:L.get(a[q],v.slice(1),h)},L.del=function(v,h){if("number"==typeof h&&(h=[h]),null==v||B(h))return v;if("string"==typeof h)return L.del(v,h.split("."));var q=E(h[0]);return y(v,q),I(v,q)?1!==h.length?L.del(v[q],h.slice(1)):(R(v)?v.splice(q,1):delete v[q],v):v},L}var T=b();return T.create=b,T.withInheritedProps=b({includeInheritedProps:!0}),T})},3625:ae=>{ae.exports=function(N){"use strict";var _=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function O(w,y){var u=w[0],a=w[1],v=w[2],h=w[3];a=((a+=((v=((v+=((h=((h+=((u=((u+=(a&v|~a&h)+y[0]-680876936|0)<<7|u>>>25)+a|0)&a|~u&v)+y[1]-389564586|0)<<12|h>>>20)+u|0)&u|~h&a)+y[2]+606105819|0)<<17|v>>>15)+h|0)&h|~v&u)+y[3]-1044525330|0)<<22|a>>>10)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a&v|~a&h)+y[4]-176418897|0)<<7|u>>>25)+a|0)&a|~u&v)+y[5]+1200080426|0)<<12|h>>>20)+u|0)&u|~h&a)+y[6]-1473231341|0)<<17|v>>>15)+h|0)&h|~v&u)+y[7]-45705983|0)<<22|a>>>10)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a&v|~a&h)+y[8]+1770035416|0)<<7|u>>>25)+a|0)&a|~u&v)+y[9]-1958414417|0)<<12|h>>>20)+u|0)&u|~h&a)+y[10]-42063|0)<<17|v>>>15)+h|0)&h|~v&u)+y[11]-1990404162|0)<<22|a>>>10)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a&v|~a&h)+y[12]+1804603682|0)<<7|u>>>25)+a|0)&a|~u&v)+y[13]-40341101|0)<<12|h>>>20)+u|0)&u|~h&a)+y[14]-1502002290|0)<<17|v>>>15)+h|0)&h|~v&u)+y[15]+1236535329|0)<<22|a>>>10)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a&h|v&~h)+y[1]-165796510|0)<<5|u>>>27)+a|0)&v|a&~v)+y[6]-1069501632|0)<<9|h>>>23)+u|0)&a|u&~a)+y[11]+643717713|0)<<14|v>>>18)+h|0)&u|h&~u)+y[0]-373897302|0)<<20|a>>>12)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a&h|v&~h)+y[5]-701558691|0)<<5|u>>>27)+a|0)&v|a&~v)+y[10]+38016083|0)<<9|h>>>23)+u|0)&a|u&~a)+y[15]-660478335|0)<<14|v>>>18)+h|0)&u|h&~u)+y[4]-405537848|0)<<20|a>>>12)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a&h|v&~h)+y[9]+568446438|0)<<5|u>>>27)+a|0)&v|a&~v)+y[14]-1019803690|0)<<9|h>>>23)+u|0)&a|u&~a)+y[3]-187363961|0)<<14|v>>>18)+h|0)&u|h&~u)+y[8]+1163531501|0)<<20|a>>>12)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a&h|v&~h)+y[13]-1444681467|0)<<5|u>>>27)+a|0)&v|a&~v)+y[2]-51403784|0)<<9|h>>>23)+u|0)&a|u&~a)+y[7]+1735328473|0)<<14|v>>>18)+h|0)&u|h&~u)+y[12]-1926607734|0)<<20|a>>>12)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a^v^h)+y[5]-378558|0)<<4|u>>>28)+a|0)^a^v)+y[8]-2022574463|0)<<11|h>>>21)+u|0)^u^a)+y[11]+1839030562|0)<<16|v>>>16)+h|0)^h^u)+y[14]-35309556|0)<<23|a>>>9)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a^v^h)+y[1]-1530992060|0)<<4|u>>>28)+a|0)^a^v)+y[4]+1272893353|0)<<11|h>>>21)+u|0)^u^a)+y[7]-155497632|0)<<16|v>>>16)+h|0)^h^u)+y[10]-1094730640|0)<<23|a>>>9)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a^v^h)+y[13]+681279174|0)<<4|u>>>28)+a|0)^a^v)+y[0]-358537222|0)<<11|h>>>21)+u|0)^u^a)+y[3]-722521979|0)<<16|v>>>16)+h|0)^h^u)+y[6]+76029189|0)<<23|a>>>9)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a^v^h)+y[9]-640364487|0)<<4|u>>>28)+a|0)^a^v)+y[12]-421815835|0)<<11|h>>>21)+u|0)^u^a)+y[15]+530742520|0)<<16|v>>>16)+h|0)^h^u)+y[2]-995338651|0)<<23|a>>>9)+v|0,a=((a+=((h=((h+=(a^((u=((u+=(v^(a|~h))+y[0]-198630844|0)<<6|u>>>26)+a|0)|~v))+y[7]+1126891415|0)<<10|h>>>22)+u|0)^((v=((v+=(u^(h|~a))+y[14]-1416354905|0)<<15|v>>>17)+h|0)|~u))+y[5]-57434055|0)<<21|a>>>11)+v|0,a=((a+=((h=((h+=(a^((u=((u+=(v^(a|~h))+y[12]+1700485571|0)<<6|u>>>26)+a|0)|~v))+y[3]-1894986606|0)<<10|h>>>22)+u|0)^((v=((v+=(u^(h|~a))+y[10]-1051523|0)<<15|v>>>17)+h|0)|~u))+y[1]-2054922799|0)<<21|a>>>11)+v|0,a=((a+=((h=((h+=(a^((u=((u+=(v^(a|~h))+y[8]+1873313359|0)<<6|u>>>26)+a|0)|~v))+y[15]-30611744|0)<<10|h>>>22)+u|0)^((v=((v+=(u^(h|~a))+y[6]-1560198380|0)<<15|v>>>17)+h|0)|~u))+y[13]+1309151649|0)<<21|a>>>11)+v|0,a=((a+=((h=((h+=(a^((u=((u+=(v^(a|~h))+y[4]-145523070|0)<<6|u>>>26)+a|0)|~v))+y[11]-1120210379|0)<<10|h>>>22)+u|0)^((v=((v+=(u^(h|~a))+y[2]+718787259|0)<<15|v>>>17)+h|0)|~u))+y[9]-343485551|0)<<21|a>>>11)+v|0,w[0]=u+w[0]|0,w[1]=a+w[1]|0,w[2]=v+w[2]|0,w[3]=h+w[3]|0}function M(w){var u,y=[];for(u=0;u<64;u+=4)y[u>>2]=w.charCodeAt(u)+(w.charCodeAt(u+1)<<8)+(w.charCodeAt(u+2)<<16)+(w.charCodeAt(u+3)<<24);return y}function B(w){var u,y=[];for(u=0;u<64;u+=4)y[u>>2]=w[u]+(w[u+1]<<8)+(w[u+2]<<16)+(w[u+3]<<24);return y}function x(w){var a,v,h,q,de,Ce,y=w.length,u=[1732584193,-271733879,-1732584194,271733878];for(a=64;a<=y;a+=64)O(u,M(w.substring(a-64,a)));for(v=(w=w.substring(a-64)).length,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<v;a+=1)h[a>>2]|=w.charCodeAt(a)<<(a%4<<3);if(h[a>>2]|=128<<(a%4<<3),a>55)for(O(u,h),a=0;a<16;a+=1)h[a]=0;return q=(q=8*y).toString(16).match(/(.*?)(.{0,8})$/),de=parseInt(q[2],16),Ce=parseInt(q[1],16)||0,h[14]=de,h[15]=Ce,O(u,h),u}function R(w){var u,y="";for(u=0;u<4;u+=1)y+=_[w>>8*u+4&15]+_[w>>8*u&15];return y}function D(w){var y;for(y=0;y<w.length;y+=1)w[y]=R(w[y]);return w.join("")}function E(w){return/[\u0080-\uFFFF]/.test(w)&&(w=unescape(encodeURIComponent(w))),w}function L(w){var a,y=[],u=w.length;for(a=0;a<u-1;a+=2)y.push(parseInt(w.substr(a,2),16));return String.fromCharCode.apply(String,y)}function I(){this.reset()}return D(x("hello")),"undefined"!=typeof ArrayBuffer&&!ArrayBuffer.prototype.slice&&function(){function w(y,u){return(y=0|y||0)<0?Math.max(y+u,0):Math.min(y,u)}ArrayBuffer.prototype.slice=function(y,u){var q,de,Ce,_e,a=this.byteLength,v=w(y,a),h=a;return undefined!==u&&(h=w(u,a)),v>h?new ArrayBuffer(0):(q=h-v,de=new ArrayBuffer(q),Ce=new Uint8Array(de),_e=new Uint8Array(this,v,q),Ce.set(_e),de)}}(),I.prototype.append=function(w){return this.appendBinary(E(w)),this},I.prototype.appendBinary=function(w){this._buff+=w,this._length+=w.length;var u,y=this._buff.length;for(u=64;u<=y;u+=64)O(this._hash,M(this._buff.substring(u-64,u)));return this._buff=this._buff.substring(u-64),this},I.prototype.end=function(w){var a,h,y=this._buff,u=y.length,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(a=0;a<u;a+=1)v[a>>2]|=y.charCodeAt(a)<<(a%4<<3);return this._finish(v,u),h=D(this._hash),w&&(h=L(h)),this.reset(),h},I.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},I.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},I.prototype.setState=function(w){return this._buff=w.buff,this._length=w.length,this._hash=w.hash,this},I.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},I.prototype._finish=function(w,y){var a,v,h,u=y;if(w[u>>2]|=128<<(u%4<<3),u>55)for(O(this._hash,w),u=0;u<16;u+=1)w[u]=0;a=(a=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),v=parseInt(a[2],16),h=parseInt(a[1],16)||0,w[14]=v,w[15]=h,O(this._hash,w)},I.hash=function(w,y){return I.hashBinary(E(w),y)},I.hashBinary=function(w,y){var a=D(x(w));return y?L(a):a},(I.ArrayBuffer=function(){this.reset()}).prototype.append=function(w){var a,y=function(w,y,u){var a=new Uint8Array(w.byteLength+y.byteLength);return a.set(new Uint8Array(w)),a.set(new Uint8Array(y),w.byteLength),u?a:a.buffer}(this._buff.buffer,w,!0),u=y.length;for(this._length+=w.byteLength,a=64;a<=u;a+=64)O(this._hash,B(y.subarray(a-64,a)));return this._buff=a-64<u?new Uint8Array(y.buffer.slice(a-64)):new Uint8Array(0),this},I.ArrayBuffer.prototype.end=function(w){var v,h,y=this._buff,u=y.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(v=0;v<u;v+=1)a[v>>2]|=y[v]<<(v%4<<3);return this._finish(a,u),h=D(this._hash),w&&(h=L(h)),this.reset(),h},I.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},I.ArrayBuffer.prototype.getState=function(){var w=I.prototype.getState.call(this);return w.buff=function(w){return String.fromCharCode.apply(null,new Uint8Array(w))}(w.buff),w},I.ArrayBuffer.prototype.setState=function(w){return w.buff=function(w,y){var h,u=w.length,a=new ArrayBuffer(u),v=new Uint8Array(a);for(h=0;h<u;h+=1)v[h]=w.charCodeAt(h);return y?v:a}(w.buff,!0),I.prototype.setState.call(this,w)},I.ArrayBuffer.prototype.destroy=I.prototype.destroy,I.ArrayBuffer.prototype._finish=I.prototype._finish,I.ArrayBuffer.hash=function(w,y){var a=D(function(w){var a,v,h,q,de,Ce,y=w.length,u=[1732584193,-271733879,-1732584194,271733878];for(a=64;a<=y;a+=64)O(u,B(w.subarray(a-64,a)));for(v=(w=a-64<y?w.subarray(a-64):new Uint8Array(0)).length,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<v;a+=1)h[a>>2]|=w[a]<<(a%4<<3);if(h[a>>2]|=128<<(a%4<<3),a>55)for(O(u,h),a=0;a<16;a+=1)h[a]=0;return q=(q=8*y).toString(16).match(/(.*?)(.{0,8})$/),de=parseInt(q[2],16),Ce=parseInt(q[1],16)||0,h[14]=de,h[15]=Ce,O(u,h),u}(new Uint8Array(w)));return y?L(a):a},I}()},2302:(ae,N,c)=>{var l,O,_=[c(4703),c(3328),c(6139),c(5675),c(1767),c(3259)],M=-1,B=[],x=!1;function U(){!l||!O||(l=!1,O.length?B=O.concat(B):M=-1,B.length&&R())}function R(){if(!l){x=!1,l=!0;for(var L=B.length,I=setTimeout(U);L;){for(O=B,B=[];O&&++M<L;)O[M].run();M=-1,L=B.length}O=null,M=-1,l=!1,clearTimeout(I)}}for(var D,E=-1,b=_.length;++E<b;)if(_[E]&&_[E].test&&_[E].test()){D=_[E].install(R);break}function T(L,I){this.fun=L,this.array=I}T.prototype.run=function(){var L=this.fun,I=this.array;switch(I.length){case 0:return L();case 1:return L(I[0]);case 2:return L(I[0],I[1]);case 3:return L(I[0],I[1],I[2]);default:return L.apply(null,I)}},ae.exports=function(L){var I=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)I[w-1]=arguments[w];B.push(new T(L,I)),!x&&!l&&(x=!0,D())}},5675:(ae,N)=>{N.test=function(){return!global.setImmediate&&void 0!==global.MessageChannel},N.install=function(c){var _=new global.MessageChannel;return _.port1.onmessage=c,function(){_.port2.postMessage(0)}}},6139:(ae,N)=>{var c=global.MutationObserver||global.WebKitMutationObserver;N.test=function(){return c},N.install=function(_){var l=0,O=new c(_),M=global.document.createTextNode("");return O.observe(M,{characterData:!0}),function(){M.data=l=++l%2}}},3328:(ae,N)=>{N.test=function(){return"function"==typeof global.queueMicrotask},N.install=function(c){return function(){global.queueMicrotask(c)}}},1767:(ae,N)=>{N.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")},N.install=function(c){return function(){var _=global.document.createElement("script");return _.onreadystatechange=function(){c(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},global.document.documentElement.appendChild(_),c}}},3259:(ae,N)=>{N.test=function(){return!0},N.install=function(c){return function(){setTimeout(c,0)}}},2448:(ae,N)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;const c=[];for(let O=0;O<256;++O)c.push((O+256).toString(16).substr(1));N.default=function(O,M){const B=M||0;return(c[O[B+0]]+c[O[B+1]]+c[O[B+2]]+c[O[B+3]]+"-"+c[O[B+4]]+c[O[B+5]]+"-"+c[O[B+6]]+c[O[B+7]]+"-"+c[O[B+8]]+c[O[B+9]]+"-"+c[O[B+10]]+c[O[B+11]]+c[O[B+12]]+c[O[B+13]]+c[O[B+14]]+c[O[B+15]]).toLowerCase()}},3306:(ae,N,c)=>{Object.defineProperty(N,"v1",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(N,"v3",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(N,"v4",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(N,"v5",{enumerable:!0,get:function(){return B.default}});var l=x(c(9110)),O=x(c(8693)),M=x(c(491)),B=x(c(8518));function x(U){return U&&U.__esModule?U:{default:U}}},872:(ae,N)=>{function l(P){return 14+(P+64>>>9<<4)+1}function B(P,L){const I=(65535&P)+(65535&L);return(P>>16)+(L>>16)+(I>>16)<<16|65535&I}function U(P,L,I,w,y,u){return B(function(P,L){return P<<L|P>>>32-L}(B(B(L,P),B(w,u)),y),I)}function R(P,L,I,w,y,u,a){return U(L&I|~L&w,P,L,y,u,a)}function D(P,L,I,w,y,u,a){return U(L&w|I&~w,P,L,y,u,a)}function E(P,L,I,w,y,u,a){return U(L^I^w,P,L,y,u,a)}function b(P,L,I,w,y,u,a){return U(I^(L|~w),P,L,y,u,a)}Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0,N.default=function(P){if("string"==typeof P){const L=unescape(encodeURIComponent(P));P=new Uint8Array(L.length);for(let I=0;I<L.length;++I)P[I]=L.charCodeAt(I)}return function(P){const L=[],I=32*P.length,w="0123456789abcdef";for(let y=0;y<I;y+=8){const u=P[y>>5]>>>y%32&255,a=parseInt(w.charAt(u>>>4&15)+w.charAt(15&u),16);L.push(a)}return L}(function(P,L){P[L>>5]|=128<<L%32,P[l(L)-1]=L;let I=1732584193,w=-271733879,y=-1732584194,u=271733878;for(let a=0;a<P.length;a+=16){const v=I,h=w,q=y,de=u;I=R(I,w,y,u,P[a],7,-680876936),u=R(u,I,w,y,P[a+1],12,-389564586),y=R(y,u,I,w,P[a+2],17,606105819),w=R(w,y,u,I,P[a+3],22,-1044525330),I=R(I,w,y,u,P[a+4],7,-176418897),u=R(u,I,w,y,P[a+5],12,1200080426),y=R(y,u,I,w,P[a+6],17,-1473231341),w=R(w,y,u,I,P[a+7],22,-45705983),I=R(I,w,y,u,P[a+8],7,1770035416),u=R(u,I,w,y,P[a+9],12,-1958414417),y=R(y,u,I,w,P[a+10],17,-42063),w=R(w,y,u,I,P[a+11],22,-1990404162),I=R(I,w,y,u,P[a+12],7,1804603682),u=R(u,I,w,y,P[a+13],12,-40341101),y=R(y,u,I,w,P[a+14],17,-1502002290),w=R(w,y,u,I,P[a+15],22,1236535329),I=D(I,w,y,u,P[a+1],5,-165796510),u=D(u,I,w,y,P[a+6],9,-1069501632),y=D(y,u,I,w,P[a+11],14,643717713),w=D(w,y,u,I,P[a],20,-373897302),I=D(I,w,y,u,P[a+5],5,-701558691),u=D(u,I,w,y,P[a+10],9,38016083),y=D(y,u,I,w,P[a+15],14,-660478335),w=D(w,y,u,I,P[a+4],20,-405537848),I=D(I,w,y,u,P[a+9],5,568446438),u=D(u,I,w,y,P[a+14],9,-1019803690),y=D(y,u,I,w,P[a+3],14,-187363961),w=D(w,y,u,I,P[a+8],20,1163531501),I=D(I,w,y,u,P[a+13],5,-1444681467),u=D(u,I,w,y,P[a+2],9,-51403784),y=D(y,u,I,w,P[a+7],14,1735328473),w=D(w,y,u,I,P[a+12],20,-1926607734),I=E(I,w,y,u,P[a+5],4,-378558),u=E(u,I,w,y,P[a+8],11,-2022574463),y=E(y,u,I,w,P[a+11],16,1839030562),w=E(w,y,u,I,P[a+14],23,-35309556),I=E(I,w,y,u,P[a+1],4,-1530992060),u=E(u,I,w,y,P[a+4],11,1272893353),y=E(y,u,I,w,P[a+7],16,-155497632),w=E(w,y,u,I,P[a+10],23,-1094730640),I=E(I,w,y,u,P[a+13],4,681279174),u=E(u,I,w,y,P[a],11,-358537222),y=E(y,u,I,w,P[a+3],16,-722521979),w=E(w,y,u,I,P[a+6],23,76029189),I=E(I,w,y,u,P[a+9],4,-640364487),u=E(u,I,w,y,P[a+12],11,-421815835),y=E(y,u,I,w,P[a+15],16,530742520),w=E(w,y,u,I,P[a+2],23,-995338651),I=b(I,w,y,u,P[a],6,-198630844),u=b(u,I,w,y,P[a+7],10,1126891415),y=b(y,u,I,w,P[a+14],15,-1416354905),w=b(w,y,u,I,P[a+5],21,-57434055),I=b(I,w,y,u,P[a+12],6,1700485571),u=b(u,I,w,y,P[a+3],10,-1894986606),y=b(y,u,I,w,P[a+10],15,-1051523),w=b(w,y,u,I,P[a+1],21,-2054922799),I=b(I,w,y,u,P[a+8],6,1873313359),u=b(u,I,w,y,P[a+15],10,-30611744),y=b(y,u,I,w,P[a+6],15,-1560198380),w=b(w,y,u,I,P[a+13],21,1309151649),I=b(I,w,y,u,P[a+4],6,-145523070),u=b(u,I,w,y,P[a+11],10,-1120210379),y=b(y,u,I,w,P[a+2],15,718787259),w=b(w,y,u,I,P[a+9],21,-343485551),I=B(I,v),w=B(w,h),y=B(y,q),u=B(u,de)}return[I,w,y,u]}(function(P){if(0===P.length)return[];const L=8*P.length,I=new Uint32Array(l(L));for(let w=0;w<L;w+=8)I[w>>5]|=(255&P[w/8])<<w%32;return I}(P),8*P.length))}},5468:(ae,N)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=function(){if(!c)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(_)};const c="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),_=new Uint8Array(16)},209:(ae,N)=>{function c(M,B,x,U){switch(M){case 0:return B&x^~B&U;case 1:case 3:return B^x^U;case 2:return B&x^B&U^x&U}}function _(M,B){return M<<B|M>>>32-B}Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0,N.default=function(M){const B=[1518500249,1859775393,2400959708,3395469782],x=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof M){const E=unescape(encodeURIComponent(M));M=[];for(let b=0;b<E.length;++b)M.push(E.charCodeAt(b))}M.push(128);const R=Math.ceil((M.length/4+2)/16),D=new Array(R);for(let E=0;E<R;++E){const b=new Uint32Array(16);for(let T=0;T<16;++T)b[T]=M[64*E+4*T]<<24|M[64*E+4*T+1]<<16|M[64*E+4*T+2]<<8|M[64*E+4*T+3];D[E]=b}D[R-1][14]=8*(M.length-1)/Math.pow(2,32),D[R-1][14]=Math.floor(D[R-1][14]),D[R-1][15]=8*(M.length-1)&4294967295;for(let E=0;E<R;++E){const b=new Uint32Array(80);for(let y=0;y<16;++y)b[y]=D[E][y];for(let y=16;y<80;++y)b[y]=_(b[y-3]^b[y-8]^b[y-14]^b[y-16],1);let T=x[0],P=x[1],L=x[2],I=x[3],w=x[4];for(let y=0;y<80;++y){const u=Math.floor(y/20),a=_(T,5)+c(u,P,L,I)+w+B[u]+b[y]>>>0;w=I,I=L,L=_(P,30)>>>0,P=T,T=a}x[0]=x[0]+T>>>0,x[1]=x[1]+P>>>0,x[2]=x[2]+L>>>0,x[3]=x[3]+I>>>0,x[4]=x[4]+w>>>0}return[x[0]>>24&255,x[0]>>16&255,x[0]>>8&255,255&x[0],x[1]>>24&255,x[1]>>16&255,x[1]>>8&255,255&x[1],x[2]>>24&255,x[2]>>16&255,x[2]>>8&255,255&x[2],x[3]>>24&255,x[3]>>16&255,x[3]>>8&255,255&x[3],x[4]>>24&255,x[4]>>16&255,x[4]>>8&255,255&x[4]]}},9110:(ae,N,c)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;var _=O(c(5468)),l=O(c(2448));function O(E){return E&&E.__esModule?E:{default:E}}let M,B,x=0,U=0;N.default=function(E,b,T){let P=b&&T||0;const L=b||[];let I=(E=E||{}).node||M,w=void 0!==E.clockseq?E.clockseq:B;if(null==I||null==w){const q=E.random||(E.rng||_.default)();null==I&&(I=M=[1|q[0],q[1],q[2],q[3],q[4],q[5]]),null==w&&(w=B=16383&(q[6]<<8|q[7]))}let y=void 0!==E.msecs?E.msecs:Date.now(),u=void 0!==E.nsecs?E.nsecs:U+1;const a=y-x+(u-U)/1e4;if(a<0&&void 0===E.clockseq&&(w=w+1&16383),(a<0||y>x)&&void 0===E.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");x=y,U=u,B=w,y+=122192928e5;const v=(1e4*(268435455&y)+u)%4294967296;L[P++]=v>>>24&255,L[P++]=v>>>16&255,L[P++]=v>>>8&255,L[P++]=255&v;const h=y/4294967296*1e4&268435455;L[P++]=h>>>8&255,L[P++]=255&h,L[P++]=h>>>24&15|16,L[P++]=h>>>16&255,L[P++]=w>>>8|128,L[P++]=255&w;for(let q=0;q<6;++q)L[P+q]=I[q];return b||(0,l.default)(L)}},8693:(ae,N,c)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;var _=O(c(1657)),l=O(c(872));function O(x){return x&&x.__esModule?x:{default:x}}var B=(0,_.default)("v3",48,l.default);N.default=B},1657:(ae,N,c)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=function(R,D,E){function b(T,P,L,I){const w=L&&I||0;if("string"==typeof T&&(T=function(R){R=unescape(encodeURIComponent(R));const D=[];for(let E=0;E<R.length;++E)D.push(R.charCodeAt(E));return D}(T)),"string"==typeof P&&(P=function(R){const D=[];return R.replace(/[a-fA-F0-9]{2}/g,function(E){D.push(parseInt(E,16))}),D}(P)),!Array.isArray(T))throw TypeError("value must be an array of bytes");if(!Array.isArray(P)||16!==P.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");const y=E(P.concat(T));if(y[6]=15&y[6]|D,y[8]=63&y[8]|128,L)for(let u=0;u<16;++u)L[w+u]=y[u];return L||(0,_.default)(y)}try{b.name=R}catch{}return b.DNS=B,b.URL=x,b},N.URL=N.DNS=void 0;var R,_=(R=c(2448))&&R.__esModule?R:{default:R};const B="6ba7b810-9dad-11d1-80b4-00c04fd430c8";N.DNS=B;const x="6ba7b811-9dad-11d1-80b4-00c04fd430c8";N.URL=x},491:(ae,N,c)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;var _=O(c(5468)),l=O(c(2448));function O(x){return x&&x.__esModule?x:{default:x}}N.default=function(x,U,R){"string"==typeof x&&(U="binary"===x?new Uint8Array(16):null,x=null);const D=(x=x||{}).random||(x.rng||_.default)();if(D[6]=15&D[6]|64,D[8]=63&D[8]|128,U){const E=R||0;for(let b=0;b<16;++b)U[E+b]=D[b];return U}return(0,l.default)(D)}},8518:(ae,N,c)=>{Object.defineProperty(N,"__esModule",{value:!0}),N.default=void 0;var _=O(c(1657)),l=O(c(209));function O(x){return x&&x.__esModule?x:{default:x}}var B=(0,_.default)("v5",80,l.default);N.default=B},7854:ae=>{var N=function(c){"use strict";var O,_=Object.prototype,l=_.hasOwnProperty,M="function"==typeof Symbol?Symbol:{},B=M.iterator||"@@iterator",x=M.asyncIterator||"@@asyncIterator",U=M.toStringTag||"@@toStringTag";function R($,ie,Ee){return Object.defineProperty($,ie,{value:Ee,enumerable:!0,configurable:!0,writable:!0}),$[ie]}try{R({},"")}catch{R=function(ie,Ee,Le){return ie[Ee]=Le}}function D($,ie,Ee,Le){var ge=Object.create((ie&&ie.prototype instanceof w?ie:w).prototype),te=new Y(Le||[]);return ge._invoke=function($,ie,Ee){var Le=b;return function(ge,te){if(Le===P)throw new Error("Generator is already running");if(Le===L){if("throw"===ge)throw te;return J()}for(Ee.method=ge,Ee.arg=te;;){var ue=Ee.delegate;if(ue){var Re=pe(ue,Ee);if(Re){if(Re===I)continue;return Re}}if("next"===Ee.method)Ee.sent=Ee._sent=Ee.arg;else if("throw"===Ee.method){if(Le===b)throw Le=L,Ee.arg;Ee.dispatchException(Ee.arg)}else"return"===Ee.method&&Ee.abrupt("return",Ee.arg);Le=P;var Fe=E($,ie,Ee);if("normal"===Fe.type){if(Le=Ee.done?L:T,Fe.arg===I)continue;return{value:Fe.arg,done:Ee.done}}"throw"===Fe.type&&(Le=L,Ee.method="throw",Ee.arg=Fe.arg)}}}($,Ee,te),ge}function E($,ie,Ee){try{return{type:"normal",arg:$.call(ie,Ee)}}catch(Le){return{type:"throw",arg:Le}}}c.wrap=D;var b="suspendedStart",T="suspendedYield",P="executing",L="completed",I={};function w(){}function y(){}function u(){}var a={};R(a,B,function(){return this});var v=Object.getPrototypeOf,h=v&&v(v(G([])));h&&h!==_&&l.call(h,B)&&(a=h);var q=u.prototype=w.prototype=Object.create(a);function de($){["next","throw","return"].forEach(function(ie){R($,ie,function(Ee){return this._invoke(ie,Ee)})})}function Ce($,ie){function Ee(ge,te,ue,Re){var Fe=E($[ge],$,te);if("throw"!==Fe.type){var Je=Fe.arg,st=Je.value;return st&&"object"==typeof st&&l.call(st,"__await")?ie.resolve(st.__await).then(function(qe){Ee("next",qe,ue,Re)},function(qe){Ee("throw",qe,ue,Re)}):ie.resolve(st).then(function(qe){Je.value=qe,ue(Je)},function(qe){return Ee("throw",qe,ue,Re)})}Re(Fe.arg)}var Le;this._invoke=function(ge,te){function ue(){return new ie(function(Re,Fe){Ee(ge,te,Re,Fe)})}return Le=Le?Le.then(ue,ue):ue()}}function pe($,ie){var Ee=$.iterator[ie.method];if(Ee===O){if(ie.delegate=null,"throw"===ie.method){if($.iterator.return&&(ie.method="return",ie.arg=O,pe($,ie),"throw"===ie.method))return I;ie.method="throw",ie.arg=new TypeError("The iterator does not provide a 'throw' method")}return I}var Le=E(Ee,$.iterator,ie.arg);if("throw"===Le.type)return ie.method="throw",ie.arg=Le.arg,ie.delegate=null,I;var me=Le.arg;return me?me.done?(ie[$.resultName]=me.value,ie.next=$.nextLoc,"return"!==ie.method&&(ie.method="next",ie.arg=O),ie.delegate=null,I):me:(ie.method="throw",ie.arg=new TypeError("iterator result is not an object"),ie.delegate=null,I)}function Q($){var ie={tryLoc:$[0]};1 in $&&(ie.catchLoc=$[1]),2 in $&&(ie.finallyLoc=$[2],ie.afterLoc=$[3]),this.tryEntries.push(ie)}function z($){var ie=$.completion||{};ie.type="normal",delete ie.arg,$.completion=ie}function Y($){this.tryEntries=[{tryLoc:"root"}],$.forEach(Q,this),this.reset(!0)}function G($){if($){var ie=$[B];if(ie)return ie.call($);if("function"==typeof $.next)return $;if(!isNaN($.length)){var Ee=-1,Le=function me(){for(;++Ee<$.length;)if(l.call($,Ee))return me.value=$[Ee],me.done=!1,me;return me.value=O,me.done=!0,me};return Le.next=Le}}return{next:J}}function J(){return{value:O,done:!0}}return y.prototype=u,R(q,"constructor",u),R(u,"constructor",y),y.displayName=R(u,U,"GeneratorFunction"),c.isGeneratorFunction=function($){var ie="function"==typeof $&&$.constructor;return!!ie&&(ie===y||"GeneratorFunction"===(ie.displayName||ie.name))},c.mark=function($){return Object.setPrototypeOf?Object.setPrototypeOf($,u):($.__proto__=u,R($,U,"GeneratorFunction")),$.prototype=Object.create(q),$},c.awrap=function($){return{__await:$}},de(Ce.prototype),R(Ce.prototype,x,function(){return this}),c.AsyncIterator=Ce,c.async=function($,ie,Ee,Le,me){void 0===me&&(me=Promise);var ge=new Ce(D($,ie,Ee,Le),me);return c.isGeneratorFunction(ie)?ge:ge.next().then(function(te){return te.done?te.value:ge.next()})},de(q),R(q,U,"Generator"),R(q,B,function(){return this}),R(q,"toString",function(){return"[object Generator]"}),c.keys=function($){var ie=[];for(var Ee in $)ie.push(Ee);return ie.reverse(),function Le(){for(;ie.length;){var me=ie.pop();if(me in $)return Le.value=me,Le.done=!1,Le}return Le.done=!0,Le}},c.values=G,Y.prototype={constructor:Y,reset:function($){if(this.prev=0,this.next=0,this.sent=this._sent=O,this.done=!1,this.delegate=null,this.method="next",this.arg=O,this.tryEntries.forEach(z),!$)for(var ie in this)"t"===ie.charAt(0)&&l.call(this,ie)&&!isNaN(+ie.slice(1))&&(this[ie]=O)},stop:function(){this.done=!0;var ie=this.tryEntries[0].completion;if("throw"===ie.type)throw ie.arg;return this.rval},dispatchException:function($){if(this.done)throw $;var ie=this;function Ee(Re,Fe){return ge.type="throw",ge.arg=$,ie.next=Re,Fe&&(ie.method="next",ie.arg=O),!!Fe}for(var Le=this.tryEntries.length-1;Le>=0;--Le){var me=this.tryEntries[Le],ge=me.completion;if("root"===me.tryLoc)return Ee("end");if(me.tryLoc<=this.prev){var te=l.call(me,"catchLoc"),ue=l.call(me,"finallyLoc");if(te&&ue){if(this.prev<me.catchLoc)return Ee(me.catchLoc,!0);if(this.prev<me.finallyLoc)return Ee(me.finallyLoc)}else if(te){if(this.prev<me.catchLoc)return Ee(me.catchLoc,!0)}else{if(!ue)throw new Error("try statement without catch or finally");if(this.prev<me.finallyLoc)return Ee(me.finallyLoc)}}}},abrupt:function($,ie){for(var Ee=this.tryEntries.length-1;Ee>=0;--Ee){var Le=this.tryEntries[Ee];if(Le.tryLoc<=this.prev&&l.call(Le,"finallyLoc")&&this.prev<Le.finallyLoc){var me=Le;break}}me&&("break"===$||"continue"===$)&&me.tryLoc<=ie&&ie<=me.finallyLoc&&(me=null);var ge=me?me.completion:{};return ge.type=$,ge.arg=ie,me?(this.method="next",this.next=me.finallyLoc,I):this.complete(ge)},complete:function($,ie){if("throw"===$.type)throw $.arg;return"break"===$.type||"continue"===$.type?this.next=$.arg:"return"===$.type?(this.rval=this.arg=$.arg,this.method="return",this.next="end"):"normal"===$.type&&ie&&(this.next=ie),I},finish:function($){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var Ee=this.tryEntries[ie];if(Ee.finallyLoc===$)return this.complete(Ee.completion,Ee.afterLoc),z(Ee),I}},catch:function($){for(var ie=this.tryEntries.length-1;ie>=0;--ie){var Ee=this.tryEntries[ie];if(Ee.tryLoc===$){var Le=Ee.completion;if("throw"===Le.type){var me=Le.arg;z(Ee)}return me}}throw new Error("illegal catch attempt")},delegateYield:function($,ie,Ee){return this.delegate={iterator:G($),resultName:ie,nextLoc:Ee},"next"===this.method&&(this.arg=O),I}},c}(ae.exports);try{regeneratorRuntime=N}catch{"object"==typeof globalThis?globalThis.regeneratorRuntime=N:Function("r","regeneratorRuntime = r")(N)}},4468:ae=>{var N=Object,c=TypeError;ae.exports=function(){if(null!=this&&this!==N(this))throw new c("RegExp.prototype.flags getter called on non-object");var l="";return this.global&&(l+="g"),this.ignoreCase&&(l+="i"),this.multiline&&(l+="m"),this.dotAll&&(l+="s"),this.unicode&&(l+="u"),this.sticky&&(l+="y"),l}},9235:(ae,N,c)=>{var _=c(2358),l=c(5685),O=c(4468),M=c(6343),B=c(1956),x=l(O);_(x,{getPolyfill:M,implementation:O,shim:B}),ae.exports=x},6343:(ae,N,c)=>{var _=c(4468),l=c(2358).supportsDescriptors,O=Object.getOwnPropertyDescriptor,M=TypeError;ae.exports=function(){if(!l)throw new M("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var x=O(RegExp.prototype,"flags");if(x&&"function"==typeof x.get&&"boolean"==typeof/a/.dotAll)return x.get}return _}},1956:(ae,N,c)=>{var _=c(2358).supportsDescriptors,l=c(6343),O=Object.getOwnPropertyDescriptor,M=Object.defineProperty,B=TypeError,x=Object.getPrototypeOf,U=/a/;ae.exports=function(){if(!_||!x)throw new B("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var D=l(),E=x(U),b=O(E,"flags");return(!b||b.get!==D)&&M(E,"flags",{configurable:!0,enumerable:!1,get:D}),D}},4966:ae=>{var N=function(){"use strict";function c(E,b){return null!=b&&E instanceof b}var _,l,O;try{_=Map}catch{_=function(){}}try{l=Set}catch{l=function(){}}try{O=Promise}catch{O=function(){}}function M(E,b,T,P,L){"object"==typeof b&&(T=b.depth,P=b.prototype,L=b.includeNonEnumerable,b=b.circular);var I=[],w=[],y="undefined"!=typeof Buffer;return void 0===b&&(b=!0),void 0===T&&(T=1/0),function u(a,v){if(null===a)return null;if(0===v)return a;var h,q;if("object"!=typeof a)return a;if(c(a,_))h=new _;else if(c(a,l))h=new l;else if(c(a,O))h=new O(function(J,$){a.then(function(ie){J(u(ie,v-1))},function(ie){$(u(ie,v-1))})});else if(M.__isArray(a))h=[];else if(M.__isRegExp(a))h=new RegExp(a.source,D(a)),a.lastIndex&&(h.lastIndex=a.lastIndex);else if(M.__isDate(a))h=new Date(a.getTime());else{if(y&&Buffer.isBuffer(a))return h=Buffer.allocUnsafe?Buffer.allocUnsafe(a.length):new Buffer(a.length),a.copy(h),h;c(a,Error)?h=Object.create(a):void 0===P?(q=Object.getPrototypeOf(a),h=Object.create(q)):(h=Object.create(P),q=P)}if(b){var de=I.indexOf(a);if(-1!=de)return w[de];I.push(a),w.push(h)}for(var Ce in c(a,_)&&a.forEach(function(J,$){var ie=u($,v-1),Ee=u(J,v-1);h.set(ie,Ee)}),c(a,l)&&a.forEach(function(J){var $=u(J,v-1);h.add($)}),a){var _e;q&&(_e=Object.getOwnPropertyDescriptor(q,Ce)),(!_e||null!=_e.set)&&(h[Ce]=u(a[Ce],v-1))}if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(a);for(Ce=0;Ce<pe.length;Ce++){var Q=pe[Ce];(z=Object.getOwnPropertyDescriptor(a,Q))&&!z.enumerable&&!L||(h[Q]=u(a[Q],v-1),z.enumerable||Object.defineProperty(h,Q,{enumerable:!1}))}}if(L){var Y=Object.getOwnPropertyNames(a);for(Ce=0;Ce<Y.length;Ce++){var z,G=Y[Ce];(z=Object.getOwnPropertyDescriptor(a,G))&&z.enumerable||(h[G]=u(a[G],v-1),Object.defineProperty(h,G,{enumerable:!1}))}}return h}(E,T)}function B(E){return Object.prototype.toString.call(E)}function D(E){var b="";return E.global&&(b+="g"),E.ignoreCase&&(b+="i"),E.multiline&&(b+="m"),b}return M.clonePrototype=function(b){if(null===b)return null;var T=function(){};return T.prototype=b,new T},M.__objToStr=B,M.__isDate=function(E){return"object"==typeof E&&"[object Date]"===B(E)},M.__isArray=function(E){return"object"==typeof E&&"[object Array]"===B(E)},M.__isRegExp=function(E){return"object"==typeof E&&"[object RegExp]"===B(E)},M.__getRegExpFlags=D,M}();ae.exports&&(ae.exports=N)},1135:(ae,N,c)=>{c.d(N,{X:()=>l});var _=c(7579);class l extends _.x{constructor(M){super(),this._value=M}get value(){return this.getValue()}_subscribe(M){const B=super._subscribe(M);return!B.closed&&M.next(this._value),B}getValue(){const{hasError:M,thrownError:B,_value:x}=this;if(M)throw B;return this._throwIfClosed(),x}next(M){super.next(this._value=M)}}},8306:(ae,N,c)=>{c.d(N,{y:()=>E});var _=c(930),l=c(727),O=c(8822),M=c(4671);var U=c(2416),R=c(576),D=c(2806);let E=(()=>{class L{constructor(w){w&&(this._subscribe=w)}lift(w){const y=new L;return y.source=this,y.operator=w,y}subscribe(w,y,u){const a=function(L){return L&&L instanceof _.Lv||function(L){return L&&(0,R.m)(L.next)&&(0,R.m)(L.error)&&(0,R.m)(L.complete)}(L)&&(0,l.Nn)(L)}(w)?w:new _.Hp(w,y,u);return(0,D.x)(()=>{const{operator:v,source:h}=this;a.add(v?v.call(a,h):h?this._subscribe(a):this._trySubscribe(a))}),a}_trySubscribe(w){try{return this._subscribe(w)}catch(y){w.error(y)}}forEach(w,y){return new(y=b(y))((u,a)=>{const v=new _.Hp({next:h=>{try{w(h)}catch(q){a(q),v.unsubscribe()}},error:a,complete:u});this.subscribe(v)})}_subscribe(w){var y;return null===(y=this.source)||void 0===y?void 0:y.subscribe(w)}[O.L](){return this}pipe(...w){return function(L){return 0===L.length?M.y:1===L.length?L[0]:function(w){return L.reduce((y,u)=>u(y),w)}}(w)(this)}toPromise(w){return new(w=b(w))((y,u)=>{let a;this.subscribe(v=>a=v,v=>u(v),()=>y(a))})}}return L.create=I=>new L(I),L})();function b(L){var I;return null!==(I=L??U.v.Promise)&&void 0!==I?I:Promise}},7579:(ae,N,c)=>{c.d(N,{x:()=>U});var _=c(8306),l=c(727);const M=(0,c(3888).d)(D=>function(){D(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var B=c(8737),x=c(2806);let U=(()=>{class D extends _.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(b){const T=new R(this,this);return T.operator=b,T}_throwIfClosed(){if(this.closed)throw new M}next(b){(0,x.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const T=this.observers.slice();for(const P of T)P.next(b)}})}error(b){(0,x.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=b;const{observers:T}=this;for(;T.length;)T.shift().error(b)}})}complete(){(0,x.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:b}=this;for(;b.length;)b.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var b;return(null===(b=this.observers)||void 0===b?void 0:b.length)>0}_trySubscribe(b){return this._throwIfClosed(),super._trySubscribe(b)}_subscribe(b){return this._throwIfClosed(),this._checkFinalizedStatuses(b),this._innerSubscribe(b)}_innerSubscribe(b){const{hasError:T,isStopped:P,observers:L}=this;return T||P?l.Lc:(L.push(b),new l.w0(()=>(0,B.P)(L,b)))}_checkFinalizedStatuses(b){const{hasError:T,thrownError:P,isStopped:L}=this;T?b.error(P):L&&b.complete()}asObservable(){const b=new _.y;return b.source=this,b}}return D.create=(E,b)=>new R(E,b),D})();class R extends U{constructor(E,b){super(),this.destination=E,this.source=b}next(E){var b,T;null===(T=null===(b=this.destination)||void 0===b?void 0:b.next)||void 0===T||T.call(b,E)}error(E){var b,T;null===(T=null===(b=this.destination)||void 0===b?void 0:b.error)||void 0===T||T.call(b,E)}complete(){var E,b;null===(b=null===(E=this.destination)||void 0===E?void 0:E.complete)||void 0===b||b.call(E)}_subscribe(E){var b,T;return null!==(T=null===(b=this.source)||void 0===b?void 0:b.subscribe(E))&&void 0!==T?T:l.Lc}}},930:(ae,N,c)=>{c.d(N,{Hp:()=>P,Lv:()=>T});var _=c(576),l=c(727),O=c(2416),M=c(7849),B=c(5032);const x=D("C",void 0,void 0);function D(u,a,v){return{kind:u,value:a,error:v}}var E=c(3410),b=c(2806);class T extends l.w0{constructor(a){super(),this.isStopped=!1,a?(this.destination=a,(0,l.Nn)(a)&&a.add(this)):this.destination=y}static create(a,v,h){return new P(a,v,h)}next(a){this.isStopped?w(D("N",a,void 0),this):this._next(a)}error(a){this.isStopped?w(D("E",void 0,a),this):(this.isStopped=!0,this._error(a))}complete(){this.isStopped?w(x,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(a){this.destination.next(a)}_error(a){try{this.destination.error(a)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class P extends T{constructor(a,v,h){let q;if(super(),(0,_.m)(a))q=a;else if(a){let de;({next:q,error:v,complete:h}=a),this&&O.v.useDeprecatedNextContext?(de=Object.create(a),de.unsubscribe=()=>this.unsubscribe()):de=a,q=null==q?void 0:q.bind(de),v=null==v?void 0:v.bind(de),h=null==h?void 0:h.bind(de)}this.destination={next:q?L(q):B.Z,error:L(v??I),complete:h?L(h):B.Z}}}function L(u,a){return(...v)=>{try{u(...v)}catch(h){O.v.useDeprecatedSynchronousErrorHandling?(0,b.O)(h):(0,M.h)(h)}}}function I(u){throw u}function w(u,a){const{onStoppedNotification:v}=O.v;v&&E.z.setTimeout(()=>v(u,a))}const y={closed:!0,next:B.Z,error:I,complete:B.Z}},727:(ae,N,c)=>{c.d(N,{Lc:()=>x,w0:()=>B,Nn:()=>U});var _=c(576);const O=(0,c(3888).d)(D=>function(b){D(this),this.message=b?`${b.length} errors occurred during unsubscription:\n${b.map((T,P)=>`${P+1}) ${T.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=b});var M=c(8737);class B{constructor(E){this.initialTeardown=E,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let E;if(!this.closed){this.closed=!0;const{_parentage:b}=this;if(b)if(this._parentage=null,Array.isArray(b))for(const L of b)L.remove(this);else b.remove(this);const{initialTeardown:T}=this;if((0,_.m)(T))try{T()}catch(L){E=L instanceof O?L.errors:[L]}const{_teardowns:P}=this;if(P){this._teardowns=null;for(const L of P)try{R(L)}catch(I){E=E??[],I instanceof O?E=[...E,...I.errors]:E.push(I)}}if(E)throw new O(E)}}add(E){var b;if(E&&E!==this)if(this.closed)R(E);else{if(E instanceof B){if(E.closed||E._hasParent(this))return;E._addParent(this)}(this._teardowns=null!==(b=this._teardowns)&&void 0!==b?b:[]).push(E)}}_hasParent(E){const{_parentage:b}=this;return b===E||Array.isArray(b)&&b.includes(E)}_addParent(E){const{_parentage:b}=this;this._parentage=Array.isArray(b)?(b.push(E),b):b?[b,E]:E}_removeParent(E){const{_parentage:b}=this;b===E?this._parentage=null:Array.isArray(b)&&(0,M.P)(b,E)}remove(E){const{_teardowns:b}=this;b&&(0,M.P)(b,E),E instanceof B&&E._removeParent(this)}}B.EMPTY=(()=>{const D=new B;return D.closed=!0,D})();const x=B.EMPTY;function U(D){return D instanceof B||D&&"closed"in D&&(0,_.m)(D.remove)&&(0,_.m)(D.add)&&(0,_.m)(D.unsubscribe)}function R(D){(0,_.m)(D)?D():D.unsubscribe()}},2416:(ae,N,c)=>{c.d(N,{v:()=>_});const _={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3905:(ae,N,c)=>{c.d(N,{z:()=>O});var _=c(6805),l=c(930);function O(M,B){const x="object"==typeof B;return new Promise((U,R)=>{const D=new l.Hp({next:E=>{U(E),D.unsubscribe()},error:R,complete:()=>{x?U(B.defaultValue):R(new _.K)}});M.subscribe(D)})}},9841:(ae,N,c)=>{c.d(N,{a:()=>E});var _=c(8306),l=c(4742),O=c(2076),M=c(4671),B=c(3268),x=c(3269),U=c(1810),R=c(5403),D=c(9672);function E(...P){const L=(0,x.yG)(P),I=(0,x.jO)(P),{args:w,keys:y}=(0,l.D)(P);if(0===w.length)return(0,O.D)([],L);const u=new _.y(function(P,L,I=M.y){return w=>{T(L,()=>{const{length:y}=P,u=new Array(y);let a=y,v=y;for(let h=0;h<y;h++)T(L,()=>{const q=(0,O.D)(P[h],L);let de=!1;q.subscribe(new R.Q(w,Ce=>{u[h]=Ce,de||(de=!0,v--),v||w.next(I(u.slice()))},()=>{--a||w.complete()}))},w)},w)}}(w,L,y?a=>(0,U.n)(y,a):M.y));return I?u.pipe((0,B.Z)(I)):u}function T(P,L,I){P?(0,D.f)(I,P,L):L()}},7272:(ae,N,c)=>{c.d(N,{z:()=>B});var _=c(8189),O=c(3269),M=c(2076);function B(...x){return(0,_.J)(1)((0,M.D)(x,(0,O.yG)(x)))}},9770:(ae,N,c)=>{c.d(N,{P:()=>O});var _=c(8306),l=c(8421);function O(M){return new _.y(B=>{(0,l.Xf)(M()).subscribe(B)})}},515:(ae,N,c)=>{c.d(N,{E:()=>l});const l=new(c(8306).y)(B=>B.complete())},4128:(ae,N,c)=>{c.d(N,{D:()=>R});var _=c(8306),l=c(4742),O=c(8421),M=c(3269),B=c(5403),x=c(3268),U=c(1810);function R(...D){const E=(0,M.jO)(D),{args:b,keys:T}=(0,l.D)(D),P=new _.y(L=>{const{length:I}=b;if(!I)return void L.complete();const w=new Array(I);let y=I,u=I;for(let a=0;a<I;a++){let v=!1;(0,O.Xf)(b[a]).subscribe(new B.Q(L,h=>{v||(v=!0,u--),w[a]=h},()=>y--,void 0,()=>{(!y||!v)&&(u||L.next(T?(0,U.n)(T,w):w),L.complete())}))}});return E?P.pipe((0,x.Z)(E)):P}},2076:(ae,N,c)=>{c.d(N,{D:()=>Ce});var _=c(8421),l=c(9672),O=c(4482),M=c(5403);function B(_e,pe=0){return(0,O.e)((Q,z)=>{Q.subscribe(new M.Q(z,Y=>(0,l.f)(z,_e,()=>z.next(Y),pe),()=>(0,l.f)(z,_e,()=>z.complete(),pe),Y=>(0,l.f)(z,_e,()=>z.error(Y),pe)))})}function x(_e,pe=0){return(0,O.e)((Q,z)=>{z.add(_e.schedule(()=>Q.subscribe(z),pe))})}var D=c(8306),b=c(2202),T=c(576);function L(_e,pe){if(!_e)throw new Error("Iterable cannot be null");return new D.y(Q=>{(0,l.f)(Q,pe,()=>{const z=_e[Symbol.asyncIterator]();(0,l.f)(Q,pe,()=>{z.next().then(Y=>{Y.done?Q.complete():Q.next(Y.value)})},0,!0)})})}var I=c(3670),w=c(8239),y=c(1144),u=c(6495),a=c(2206),v=c(4532),h=c(3260);function Ce(_e,pe){return pe?function(_e,pe){if(null!=_e){if((0,I.c)(_e))return function(_e,pe){return(0,_.Xf)(_e).pipe(x(pe),B(pe))}(_e,pe);if((0,y.z)(_e))return function(_e,pe){return new D.y(Q=>{let z=0;return pe.schedule(function(){z===_e.length?Q.complete():(Q.next(_e[z++]),Q.closed||this.schedule())})})}(_e,pe);if((0,w.t)(_e))return function(_e,pe){return(0,_.Xf)(_e).pipe(x(pe),B(pe))}(_e,pe);if((0,a.D)(_e))return L(_e,pe);if((0,u.T)(_e))return function(_e,pe){return new D.y(Q=>{let z;return(0,l.f)(Q,pe,()=>{z=_e[b.h](),(0,l.f)(Q,pe,()=>{let Y,G;try{({value:Y,done:G}=z.next())}catch(J){return void Q.error(J)}G?Q.complete():Q.next(Y)},0,!0)}),()=>(0,T.m)(null==z?void 0:z.return)&&z.return()})}(_e,pe);if((0,h.L)(_e))return function(_e,pe){return L((0,h.Q)(_e),pe)}(_e,pe)}throw(0,v.z)(_e)}(_e,pe):(0,_.Xf)(_e)}},4968:(ae,N,c)=>{c.d(N,{R:()=>E});var _=c(8421),l=c(8306),O=c(5577),M=c(1144),B=c(576),x=c(3268);const U=["addListener","removeListener"],R=["addEventListener","removeEventListener"],D=["on","off"];function E(I,w,y,u){if((0,B.m)(y)&&(u=y,y=void 0),u)return E(I,w,y).pipe((0,x.Z)(u));const[a,v]=function(I){return(0,B.m)(I.addEventListener)&&(0,B.m)(I.removeEventListener)}(I)?R.map(h=>q=>I[h](w,q,y)):function(I){return(0,B.m)(I.addListener)&&(0,B.m)(I.removeListener)}(I)?U.map(b(I,w)):function(I){return(0,B.m)(I.on)&&(0,B.m)(I.off)}(I)?D.map(b(I,w)):[];if(!a&&(0,M.z)(I))return(0,O.z)(h=>E(h,w,y))((0,_.Xf)(I));if(!a)throw new TypeError("Invalid event target");return new l.y(h=>{const q=(...de)=>h.next(1<de.length?de:de[0]);return a(q),()=>v(q)})}function b(I,w){return y=>u=>I[y](w,u)}},8421:(ae,N,c)=>{c.d(N,{Xf:()=>P});var _=c(655),l=c(1144),O=c(8239),M=c(8306),B=c(3670),x=c(2206),U=c(4532),R=c(6495),D=c(3260),E=c(576),b=c(7849),T=c(8822);function P(h){if(h instanceof M.y)return h;if(null!=h){if((0,B.c)(h))return function(h){return new M.y(q=>{const de=h[T.L]();if((0,E.m)(de.subscribe))return de.subscribe(q);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(h);if((0,l.z)(h))return function(h){return new M.y(q=>{for(let de=0;de<h.length&&!q.closed;de++)q.next(h[de]);q.complete()})}(h);if((0,O.t)(h))return function(h){return new M.y(q=>{h.then(de=>{q.closed||(q.next(de),q.complete())},de=>q.error(de)).then(null,b.h)})}(h);if((0,x.D)(h))return u(h);if((0,R.T)(h))return function(h){return new M.y(q=>{for(const de of h)if(q.next(de),q.closed)return;q.complete()})}(h);if((0,D.L)(h))return function(h){return u((0,D.Q)(h))}(h)}throw(0,U.z)(h)}function u(h){return new M.y(q=>{(function(h,q){var de,Ce,_e,pe;return(0,_.mG)(this,void 0,void 0,function*(){try{for(de=(0,_.KL)(h);!(Ce=yield de.next()).done;)if(q.next(Ce.value),q.closed)return}catch(Q){_e={error:Q}}finally{try{Ce&&!Ce.done&&(pe=de.return)&&(yield pe.call(de))}finally{if(_e)throw _e.error}}q.complete()})})(h,q).catch(de=>q.error(de))})}},6451:(ae,N,c)=>{c.d(N,{T:()=>x});var _=c(8189),l=c(8421),O=c(515),M=c(3269),B=c(2076);function x(...U){const R=(0,M.yG)(U),D=(0,M._6)(U,1/0),E=U;return E.length?1===E.length?(0,l.Xf)(E[0]):(0,_.J)(D)((0,B.D)(E,R)):O.E}},9646:(ae,N,c)=>{c.d(N,{of:()=>O});var _=c(3269),l=c(2076);function O(...M){const B=(0,_.yG)(M);return(0,l.D)(M,B)}},2843:(ae,N,c)=>{c.d(N,{_:()=>O});var _=c(8306),l=c(576);function O(M,B){const x=(0,l.m)(M)?M:()=>M,U=R=>R.error(x());return new _.y(B?R=>B.schedule(U,0,R):U)}},5963:(ae,N,c)=>{c.d(N,{H:()=>B});var _=c(8306),l=c(4986),O=c(3532);function B(x=0,U,R=l.P){let D=-1;return null!=U&&((0,O.K)(U)?R=U:D=U),new _.y(E=>{let b=function(x){return x instanceof Date&&!isNaN(x)}(x)?+x-R.now():x;b<0&&(b=0);let T=0;return R.schedule(function(){E.closed||(E.next(T++),0<=D?this.schedule(void 0,D):E.complete())},b)})}},5403:(ae,N,c)=>{c.d(N,{Q:()=>l});var _=c(930);class l extends _.Lv{constructor(M,B,x,U,R){super(M),this.onFinalize=R,this._next=B?function(D){try{B(D)}catch(E){M.error(E)}}:super._next,this._error=U?function(D){try{U(D)}catch(E){M.error(E)}finally{this.unsubscribe()}}:super._error,this._complete=x?function(){try{x()}catch(D){M.error(D)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var M;const{closed:B}=this;super.unsubscribe(),!B&&(null===(M=this.onFinalize)||void 0===M||M.call(this))}}},3601:(ae,N,c)=>{c.d(N,{e:()=>U});var _=c(4986),l=c(4482),O=c(8421),M=c(5403),x=c(5963);function U(R,D=_.P){return function(R){return(0,l.e)((D,E)=>{let b=!1,T=null,P=null,L=!1;const I=()=>{if(null==P||P.unsubscribe(),P=null,b){b=!1;const y=T;T=null,E.next(y)}L&&E.complete()},w=()=>{P=null,L&&E.complete()};D.subscribe(new M.Q(E,y=>{b=!0,T=y,P||(0,O.Xf)(R()).subscribe(P=new M.Q(E,I,w))},()=>{L=!0,(!b||!P||P.closed)&&E.complete()}))})}(()=>(0,x.H)(R,D))}},262:(ae,N,c)=>{c.d(N,{K:()=>M});var _=c(8421),l=c(5403),O=c(4482);function M(B){return(0,O.e)((x,U)=>{let E,R=null,D=!1;R=x.subscribe(new l.Q(U,void 0,void 0,b=>{E=(0,_.Xf)(B(b,M(B)(x))),R?(R.unsubscribe(),R=null,E.subscribe(U)):D=!0})),D&&(R.unsubscribe(),R=null,E.subscribe(U))})}},1884:(ae,N,c)=>{c.d(N,{x:()=>M});var _=c(4671),l=c(4482),O=c(5403);function M(x,U=_.y){return x=x??B,(0,l.e)((R,D)=>{let E,b=!0;R.subscribe(new O.Q(D,T=>{const P=U(T);(b||!x(E,P))&&(b=!1,E=P,D.next(T))}))})}function B(x,U){return x===U}},9300:(ae,N,c)=>{c.d(N,{h:()=>O});var _=c(4482),l=c(5403);function O(M,B){return(0,_.e)((x,U)=>{let R=0;x.subscribe(new l.Q(U,D=>M.call(B,D,R++)&&U.next(D)))})}},8746:(ae,N,c)=>{c.d(N,{x:()=>l});var _=c(4482);function l(O){return(0,_.e)((M,B)=>{try{M.subscribe(B)}finally{B.add(O)}})}},4004:(ae,N,c)=>{c.d(N,{U:()=>O});var _=c(4482),l=c(5403);function O(M,B){return(0,_.e)((x,U)=>{let R=0;x.subscribe(new l.Q(U,D=>{U.next(M.call(B,D,R++))}))})}},8189:(ae,N,c)=>{c.d(N,{J:()=>O});var _=c(5577),l=c(4671);function O(M=1/0){return(0,_.z)(l.y,M)}},5577:(ae,N,c)=>{c.d(N,{z:()=>R});var _=c(4004),l=c(8421),O=c(4482),B=(c(9672),c(5403)),U=c(576);function R(D,E,b=1/0){return(0,U.m)(E)?R((T,P)=>(0,_.U)((L,I)=>E(T,L,P,I))((0,l.Xf)(D(T,P))),b):("number"==typeof E&&(b=E),(0,O.e)((T,P)=>function(D,E,b,T,P,L,I,w){const y=[];let u=0,a=0,v=!1;const h=()=>{v&&!y.length&&!u&&E.complete()},q=Ce=>u<T?de(Ce):y.push(Ce),de=Ce=>{u++;let _e=!1;(0,l.Xf)(b(Ce,a++)).subscribe(new B.Q(E,pe=>{E.next(pe)},()=>{_e=!0},void 0,()=>{if(_e)try{for(u--;y.length&&u<T;){const pe=y.shift();de(pe)}h()}catch(pe){E.error(pe)}}))};return D.subscribe(new B.Q(E,q,()=>{v=!0,h()})),()=>{}}(T,P,D,b)))}},3099:(ae,N,c)=>{c.d(N,{B:()=>x});var _=c(2076),l=c(5698),O=c(7579),M=c(930),B=c(4482);function x(R={}){const{connector:D=(()=>new O.x),resetOnError:E=!0,resetOnComplete:b=!0,resetOnRefCountZero:T=!0}=R;return P=>{let L=null,I=null,w=null,y=0,u=!1,a=!1;const v=()=>{null==I||I.unsubscribe(),I=null},h=()=>{v(),L=w=null,u=a=!1},q=()=>{const de=L;h(),null==de||de.unsubscribe()};return(0,B.e)((de,Ce)=>{y++,!a&&!u&&v();const _e=w=w??D();Ce.add(()=>{y--,0===y&&!a&&!u&&(I=U(q,T))}),_e.subscribe(Ce),L||(L=new M.Hp({next:pe=>_e.next(pe),error:pe=>{a=!0,v(),I=U(h,E,pe),_e.error(pe)},complete:()=>{u=!0,v(),I=U(h,b),_e.complete()}}),(0,_.D)(de).subscribe(L))})(P)}}function U(R,D,...E){return!0===D?(R(),null):!1===D?null:D(...E).pipe((0,l.q)(1)).subscribe(()=>R())}},8675:(ae,N,c)=>{c.d(N,{O:()=>M});var _=c(7272),l=c(3269),O=c(4482);function M(...B){const x=(0,l.yG)(B);return(0,O.e)((U,R)=>{(x?(0,_.z)(B,U,x):(0,_.z)(B,U)).subscribe(R)})}},3900:(ae,N,c)=>{c.d(N,{w:()=>M});var _=c(8421),l=c(4482),O=c(5403);function M(B,x){return(0,l.e)((U,R)=>{let D=null,E=0,b=!1;const T=()=>b&&!D&&R.complete();U.subscribe(new O.Q(R,P=>{null==D||D.unsubscribe();let L=0;const I=E++;(0,_.Xf)(B(P,I)).subscribe(D=new O.Q(R,w=>R.next(x?x(P,w,I,L++):w),()=>{D=null,T()}))},()=>{b=!0,T()}))})}},5698:(ae,N,c)=>{c.d(N,{q:()=>M});var _=c(515),l=c(4482),O=c(5403);function M(B){return B<=0?()=>_.E:(0,l.e)((x,U)=>{let R=0;x.subscribe(new O.Q(U,D=>{++R<=B&&(U.next(D),B<=R&&U.complete())}))})}},2722:(ae,N,c)=>{c.d(N,{R:()=>B});var _=c(4482),l=c(5403),O=c(8421),M=c(5032);function B(x){return(0,_.e)((U,R)=>{(0,O.Xf)(x).subscribe(new l.Q(R,()=>R.complete(),M.Z)),!R.closed&&U.subscribe(R)})}},8505:(ae,N,c)=>{c.d(N,{b:()=>B});var _=c(576),l=c(4482),O=c(5403),M=c(4671);function B(x,U,R){const D=(0,_.m)(x)||U||R?{next:x,error:U,complete:R}:x;return D?(0,l.e)((E,b)=>{var T;null===(T=D.subscribe)||void 0===T||T.call(D);let P=!0;E.subscribe(new O.Q(b,L=>{var I;null===(I=D.next)||void 0===I||I.call(D,L),b.next(L)},()=>{var L;P=!1,null===(L=D.complete)||void 0===L||L.call(D),b.complete()},L=>{var I;P=!1,null===(I=D.error)||void 0===I||I.call(D,L),b.error(L)},()=>{var L,I;P&&(null===(L=D.unsubscribe)||void 0===L||L.call(D)),null===(I=D.finalize)||void 0===I||I.call(D)}))}):M.y}},4408:(ae,N,c)=>{c.d(N,{o:()=>B});var _=c(727);class l extends _.w0{constructor(U,R){super()}schedule(U,R=0){return this}}const O={setInterval(...x){const{delegate:U}=O;return((null==U?void 0:U.setInterval)||setInterval)(...x)},clearInterval(x){const{delegate:U}=O;return((null==U?void 0:U.clearInterval)||clearInterval)(x)},delegate:void 0};var M=c(8737);class B extends l{constructor(U,R){super(U,R),this.scheduler=U,this.work=R,this.pending=!1}schedule(U,R=0){if(this.closed)return this;this.state=U;const D=this.id,E=this.scheduler;return null!=D&&(this.id=this.recycleAsyncId(E,D,R)),this.pending=!0,this.delay=R,this.id=this.id||this.requestAsyncId(E,this.id,R),this}requestAsyncId(U,R,D=0){return O.setInterval(U.flush.bind(U,this),D)}recycleAsyncId(U,R,D=0){if(null!=D&&this.delay===D&&!1===this.pending)return R;O.clearInterval(R)}execute(U,R){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const D=this._execute(U,R);if(D)return D;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(U,R){let E,D=!1;try{this.work(U)}catch(b){D=!0,E=b||new Error("Scheduled action threw falsy error")}if(D)return this.unsubscribe(),E}unsubscribe(){if(!this.closed){const{id:U,scheduler:R}=this,{actions:D}=R;this.work=this.state=this.scheduler=null,this.pending=!1,(0,M.P)(D,this),null!=U&&(this.id=this.recycleAsyncId(R,U,null)),this.delay=null,super.unsubscribe()}}}},7565:(ae,N,c)=>{c.d(N,{v:()=>O});var _=c(6063);class l{constructor(B,x=l.now){this.schedulerActionCtor=B,this.now=x}schedule(B,x=0,U){return new this.schedulerActionCtor(this,B).schedule(U,x)}}l.now=_.l.now;class O extends l{constructor(B,x=l.now){super(B,x),this.actions=[],this._active=!1,this._scheduled=void 0}flush(B){const{actions:x}=this;if(this._active)return void x.push(B);let U;this._active=!0;do{if(U=B.execute(B.state,B.delay))break}while(B=x.shift());if(this._active=!1,U){for(;B=x.shift();)B.unsubscribe();throw U}}}},6406:(ae,N,c)=>{c.d(N,{Z:()=>U});var _=c(4408),l=c(727);const O={schedule(D){let E=requestAnimationFrame,b=cancelAnimationFrame;const{delegate:T}=O;T&&(E=T.requestAnimationFrame,b=T.cancelAnimationFrame);const P=E(L=>{b=void 0,D(L)});return new l.w0(()=>null==b?void 0:b(P))},requestAnimationFrame(...D){const{delegate:E}=O;return((null==E?void 0:E.requestAnimationFrame)||requestAnimationFrame)(...D)},cancelAnimationFrame(...D){const{delegate:E}=O;return((null==E?void 0:E.cancelAnimationFrame)||cancelAnimationFrame)(...D)},delegate:void 0};var B=c(7565);const U=new class extends B.v{flush(E){this._active=!0;const b=this._scheduled;this._scheduled=void 0;const{actions:T}=this;let P;E=E||T.shift();do{if(P=E.execute(E.state,E.delay))break}while((E=T[0])&&E.id===b&&T.shift());if(this._active=!1,P){for(;(E=T[0])&&E.id===b&&T.shift();)E.unsubscribe();throw P}}}(class extends _.o{constructor(E,b){super(E,b),this.scheduler=E,this.work=b}requestAsyncId(E,b,T=0){return null!==T&&T>0?super.requestAsyncId(E,b,T):(E.actions.push(this),E._scheduled||(E._scheduled=O.requestAnimationFrame(()=>E.flush(void 0))))}recycleAsyncId(E,b,T=0){if(null!=T&&T>0||null==T&&this.delay>0)return super.recycleAsyncId(E,b,T);E.actions.some(P=>P.id===b)||(O.cancelAnimationFrame(b),E._scheduled=void 0)}})},3101:(ae,N,c)=>{c.d(N,{E:()=>L});var _=c(4408);let O,l=1;const M={};function B(w){return w in M&&(delete M[w],!0)}const x={setImmediate(w){const y=l++;return M[y]=!0,O||(O=Promise.resolve()),O.then(()=>B(y)&&w()),y},clearImmediate(w){B(w)}},{setImmediate:R,clearImmediate:D}=x,E={setImmediate(...w){const{delegate:y}=E;return((null==y?void 0:y.setImmediate)||R)(...w)},clearImmediate(w){const{delegate:y}=E;return((null==y?void 0:y.clearImmediate)||D)(w)},delegate:void 0};var T=c(7565);const L=new class extends T.v{flush(y){this._active=!0;const u=this._scheduled;this._scheduled=void 0;const{actions:a}=this;let v;y=y||a.shift();do{if(v=y.execute(y.state,y.delay))break}while((y=a[0])&&y.id===u&&a.shift());if(this._active=!1,v){for(;(y=a[0])&&y.id===u&&a.shift();)y.unsubscribe();throw v}}}(class extends _.o{constructor(y,u){super(y,u),this.scheduler=y,this.work=u}requestAsyncId(y,u,a=0){return null!==a&&a>0?super.requestAsyncId(y,u,a):(y.actions.push(this),y._scheduled||(y._scheduled=E.setImmediate(y.flush.bind(y,void 0))))}recycleAsyncId(y,u,a=0){if(null!=a&&a>0||null==a&&this.delay>0)return super.recycleAsyncId(y,u,a);y.actions.some(v=>v.id===u)||(E.clearImmediate(u),y._scheduled=void 0)}})},4986:(ae,N,c)=>{c.d(N,{z:()=>O,P:()=>M});var _=c(4408);const O=new(c(7565).v)(_.o),M=O},6063:(ae,N,c)=>{c.d(N,{l:()=>_});const _={now:()=>(_.delegate||Date).now(),delegate:void 0}},3410:(ae,N,c)=>{c.d(N,{z:()=>_});const _={setTimeout(...l){const{delegate:O}=_;return((null==O?void 0:O.setTimeout)||setTimeout)(...l)},clearTimeout(l){const{delegate:O}=_;return((null==O?void 0:O.clearTimeout)||clearTimeout)(l)},delegate:void 0}},2202:(ae,N,c)=>{c.d(N,{h:()=>l});const l="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},8822:(ae,N,c)=>{c.d(N,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(ae,N,c)=>{c.d(N,{K:()=>l});const l=(0,c(3888).d)(O=>function(){O(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(ae,N,c)=>{c.d(N,{jO:()=>M,yG:()=>B,_6:()=>x});var _=c(576),l=c(3532);function O(U){return U[U.length-1]}function M(U){return(0,_.m)(O(U))?U.pop():void 0}function B(U){return(0,l.K)(O(U))?U.pop():void 0}function x(U,R){return"number"==typeof O(U)?U.pop():R}},4742:(ae,N,c)=>{c.d(N,{D:()=>B});const{isArray:_}=Array,{getPrototypeOf:l,prototype:O,keys:M}=Object;function B(U){if(1===U.length){const R=U[0];if(_(R))return{args:R,keys:null};if(function(U){return U&&"object"==typeof U&&l(U)===O}(R)){const D=M(R);return{args:D.map(E=>R[E]),keys:D}}}return{args:U,keys:null}}},8737:(ae,N,c)=>{function _(l,O){if(l){const M=l.indexOf(O);0<=M&&l.splice(M,1)}}c.d(N,{P:()=>_})},3888:(ae,N,c)=>{function _(l){const M=l(B=>{Error.call(B),B.stack=(new Error).stack});return M.prototype=Object.create(Error.prototype),M.prototype.constructor=M,M}c.d(N,{d:()=>_})},1810:(ae,N,c)=>{function _(l,O){return l.reduce((M,B,x)=>(M[B]=O[x],M),{})}c.d(N,{n:()=>_})},2806:(ae,N,c)=>{c.d(N,{x:()=>O,O:()=>M});var _=c(2416);let l=null;function O(B){if(_.v.useDeprecatedSynchronousErrorHandling){const x=!l;if(x&&(l={errorThrown:!1,error:null}),B(),x){const{errorThrown:U,error:R}=l;if(l=null,U)throw R}}else B()}function M(B){_.v.useDeprecatedSynchronousErrorHandling&&l&&(l.errorThrown=!0,l.error=B)}},9672:(ae,N,c)=>{function _(l,O,M,B=0,x=!1){const U=O.schedule(function(){M(),x?l.add(this.schedule(null,B)):this.unsubscribe()},B);if(l.add(U),!x)return U}c.d(N,{f:()=>_})},4671:(ae,N,c)=>{function _(l){return l}c.d(N,{y:()=>_})},1144:(ae,N,c)=>{c.d(N,{z:()=>_});const _=l=>l&&"number"==typeof l.length&&"function"!=typeof l},2206:(ae,N,c)=>{c.d(N,{D:()=>l});var _=c(576);function l(O){return Symbol.asyncIterator&&(0,_.m)(null==O?void 0:O[Symbol.asyncIterator])}},576:(ae,N,c)=>{function _(l){return"function"==typeof l}c.d(N,{m:()=>_})},3670:(ae,N,c)=>{c.d(N,{c:()=>O});var _=c(8822),l=c(576);function O(M){return(0,l.m)(M[_.L])}},6495:(ae,N,c)=>{c.d(N,{T:()=>O});var _=c(2202),l=c(576);function O(M){return(0,l.m)(null==M?void 0:M[_.h])}},8239:(ae,N,c)=>{c.d(N,{t:()=>l});var _=c(576);function l(O){return(0,_.m)(null==O?void 0:O.then)}},3260:(ae,N,c)=>{c.d(N,{Q:()=>O,L:()=>M});var _=c(655),l=c(576);function O(B){return(0,_.FC)(this,arguments,function*(){const U=B.getReader();try{for(;;){const{value:R,done:D}=yield(0,_.qq)(U.read());if(D)return yield(0,_.qq)(void 0);yield yield(0,_.qq)(R)}}finally{U.releaseLock()}})}function M(B){return(0,l.m)(null==B?void 0:B.getReader)}},3532:(ae,N,c)=>{c.d(N,{K:()=>l});var _=c(576);function l(O){return O&&(0,_.m)(O.schedule)}},4482:(ae,N,c)=>{c.d(N,{A:()=>l,e:()=>O});var _=c(576);function l(M){return(0,_.m)(null==M?void 0:M.lift)}function O(M){return B=>{if(l(B))return B.lift(function(x){try{return M(x,this)}catch(U){this.error(U)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(ae,N,c)=>{c.d(N,{Z:()=>M});var _=c(4004);const{isArray:l}=Array;function M(B){return(0,_.U)(x=>function(B,x){return l(x)?B(...x):B(x)}(B,x))}},5032:(ae,N,c)=>{function _(){}c.d(N,{Z:()=>_})},7849:(ae,N,c)=>{c.d(N,{h:()=>O});var _=c(2416),l=c(3410);function O(M){l.z.setTimeout(()=>{const{onUnhandledError:B}=_.v;if(!B)throw M;B(M)})}},4532:(ae,N,c)=>{function _(l){return new TypeError(`You provided ${null!==l&&"object"==typeof l?"an invalid object":`'${l}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}c.d(N,{z:()=>_})},1452:ae=>{ae.exports=function(N){"use strict";var _=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function O(w,y){var u=w[0],a=w[1],v=w[2],h=w[3];a=((a+=((v=((v+=((h=((h+=((u=((u+=(a&v|~a&h)+y[0]-680876936|0)<<7|u>>>25)+a|0)&a|~u&v)+y[1]-389564586|0)<<12|h>>>20)+u|0)&u|~h&a)+y[2]+606105819|0)<<17|v>>>15)+h|0)&h|~v&u)+y[3]-1044525330|0)<<22|a>>>10)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a&v|~a&h)+y[4]-176418897|0)<<7|u>>>25)+a|0)&a|~u&v)+y[5]+1200080426|0)<<12|h>>>20)+u|0)&u|~h&a)+y[6]-1473231341|0)<<17|v>>>15)+h|0)&h|~v&u)+y[7]-45705983|0)<<22|a>>>10)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a&v|~a&h)+y[8]+1770035416|0)<<7|u>>>25)+a|0)&a|~u&v)+y[9]-1958414417|0)<<12|h>>>20)+u|0)&u|~h&a)+y[10]-42063|0)<<17|v>>>15)+h|0)&h|~v&u)+y[11]-1990404162|0)<<22|a>>>10)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a&v|~a&h)+y[12]+1804603682|0)<<7|u>>>25)+a|0)&a|~u&v)+y[13]-40341101|0)<<12|h>>>20)+u|0)&u|~h&a)+y[14]-1502002290|0)<<17|v>>>15)+h|0)&h|~v&u)+y[15]+1236535329|0)<<22|a>>>10)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a&h|v&~h)+y[1]-165796510|0)<<5|u>>>27)+a|0)&v|a&~v)+y[6]-1069501632|0)<<9|h>>>23)+u|0)&a|u&~a)+y[11]+643717713|0)<<14|v>>>18)+h|0)&u|h&~u)+y[0]-373897302|0)<<20|a>>>12)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a&h|v&~h)+y[5]-701558691|0)<<5|u>>>27)+a|0)&v|a&~v)+y[10]+38016083|0)<<9|h>>>23)+u|0)&a|u&~a)+y[15]-660478335|0)<<14|v>>>18)+h|0)&u|h&~u)+y[4]-405537848|0)<<20|a>>>12)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a&h|v&~h)+y[9]+568446438|0)<<5|u>>>27)+a|0)&v|a&~v)+y[14]-1019803690|0)<<9|h>>>23)+u|0)&a|u&~a)+y[3]-187363961|0)<<14|v>>>18)+h|0)&u|h&~u)+y[8]+1163531501|0)<<20|a>>>12)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a&h|v&~h)+y[13]-1444681467|0)<<5|u>>>27)+a|0)&v|a&~v)+y[2]-51403784|0)<<9|h>>>23)+u|0)&a|u&~a)+y[7]+1735328473|0)<<14|v>>>18)+h|0)&u|h&~u)+y[12]-1926607734|0)<<20|a>>>12)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a^v^h)+y[5]-378558|0)<<4|u>>>28)+a|0)^a^v)+y[8]-2022574463|0)<<11|h>>>21)+u|0)^u^a)+y[11]+1839030562|0)<<16|v>>>16)+h|0)^h^u)+y[14]-35309556|0)<<23|a>>>9)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a^v^h)+y[1]-1530992060|0)<<4|u>>>28)+a|0)^a^v)+y[4]+1272893353|0)<<11|h>>>21)+u|0)^u^a)+y[7]-155497632|0)<<16|v>>>16)+h|0)^h^u)+y[10]-1094730640|0)<<23|a>>>9)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a^v^h)+y[13]+681279174|0)<<4|u>>>28)+a|0)^a^v)+y[0]-358537222|0)<<11|h>>>21)+u|0)^u^a)+y[3]-722521979|0)<<16|v>>>16)+h|0)^h^u)+y[6]+76029189|0)<<23|a>>>9)+v|0,a=((a+=((v=((v+=((h=((h+=((u=((u+=(a^v^h)+y[9]-640364487|0)<<4|u>>>28)+a|0)^a^v)+y[12]-421815835|0)<<11|h>>>21)+u|0)^u^a)+y[15]+530742520|0)<<16|v>>>16)+h|0)^h^u)+y[2]-995338651|0)<<23|a>>>9)+v|0,a=((a+=((h=((h+=(a^((u=((u+=(v^(a|~h))+y[0]-198630844|0)<<6|u>>>26)+a|0)|~v))+y[7]+1126891415|0)<<10|h>>>22)+u|0)^((v=((v+=(u^(h|~a))+y[14]-1416354905|0)<<15|v>>>17)+h|0)|~u))+y[5]-57434055|0)<<21|a>>>11)+v|0,a=((a+=((h=((h+=(a^((u=((u+=(v^(a|~h))+y[12]+1700485571|0)<<6|u>>>26)+a|0)|~v))+y[3]-1894986606|0)<<10|h>>>22)+u|0)^((v=((v+=(u^(h|~a))+y[10]-1051523|0)<<15|v>>>17)+h|0)|~u))+y[1]-2054922799|0)<<21|a>>>11)+v|0,a=((a+=((h=((h+=(a^((u=((u+=(v^(a|~h))+y[8]+1873313359|0)<<6|u>>>26)+a|0)|~v))+y[15]-30611744|0)<<10|h>>>22)+u|0)^((v=((v+=(u^(h|~a))+y[6]-1560198380|0)<<15|v>>>17)+h|0)|~u))+y[13]+1309151649|0)<<21|a>>>11)+v|0,a=((a+=((h=((h+=(a^((u=((u+=(v^(a|~h))+y[4]-145523070|0)<<6|u>>>26)+a|0)|~v))+y[11]-1120210379|0)<<10|h>>>22)+u|0)^((v=((v+=(u^(h|~a))+y[2]+718787259|0)<<15|v>>>17)+h|0)|~u))+y[9]-343485551|0)<<21|a>>>11)+v|0,w[0]=u+w[0]|0,w[1]=a+w[1]|0,w[2]=v+w[2]|0,w[3]=h+w[3]|0}function M(w){var u,y=[];for(u=0;u<64;u+=4)y[u>>2]=w.charCodeAt(u)+(w.charCodeAt(u+1)<<8)+(w.charCodeAt(u+2)<<16)+(w.charCodeAt(u+3)<<24);return y}function B(w){var u,y=[];for(u=0;u<64;u+=4)y[u>>2]=w[u]+(w[u+1]<<8)+(w[u+2]<<16)+(w[u+3]<<24);return y}function x(w){var a,v,h,q,de,Ce,y=w.length,u=[1732584193,-271733879,-1732584194,271733878];for(a=64;a<=y;a+=64)O(u,M(w.substring(a-64,a)));for(v=(w=w.substring(a-64)).length,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<v;a+=1)h[a>>2]|=w.charCodeAt(a)<<(a%4<<3);if(h[a>>2]|=128<<(a%4<<3),a>55)for(O(u,h),a=0;a<16;a+=1)h[a]=0;return q=(q=8*y).toString(16).match(/(.*?)(.{0,8})$/),de=parseInt(q[2],16),Ce=parseInt(q[1],16)||0,h[14]=de,h[15]=Ce,O(u,h),u}function R(w){var u,y="";for(u=0;u<4;u+=1)y+=_[w>>8*u+4&15]+_[w>>8*u&15];return y}function D(w){var y;for(y=0;y<w.length;y+=1)w[y]=R(w[y]);return w.join("")}function E(w){return/[\u0080-\uFFFF]/.test(w)&&(w=unescape(encodeURIComponent(w))),w}function L(w){var a,y=[],u=w.length;for(a=0;a<u-1;a+=2)y.push(parseInt(w.substr(a,2),16));return String.fromCharCode.apply(String,y)}function I(){this.reset()}return D(x("hello")),"undefined"!=typeof ArrayBuffer&&!ArrayBuffer.prototype.slice&&function(){function w(y,u){return(y=0|y||0)<0?Math.max(y+u,0):Math.min(y,u)}ArrayBuffer.prototype.slice=function(y,u){var q,de,Ce,_e,a=this.byteLength,v=w(y,a),h=a;return undefined!==u&&(h=w(u,a)),v>h?new ArrayBuffer(0):(q=h-v,de=new ArrayBuffer(q),Ce=new Uint8Array(de),_e=new Uint8Array(this,v,q),Ce.set(_e),de)}}(),I.prototype.append=function(w){return this.appendBinary(E(w)),this},I.prototype.appendBinary=function(w){this._buff+=w,this._length+=w.length;var u,y=this._buff.length;for(u=64;u<=y;u+=64)O(this._hash,M(this._buff.substring(u-64,u)));return this._buff=this._buff.substring(u-64),this},I.prototype.end=function(w){var a,h,y=this._buff,u=y.length,v=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(a=0;a<u;a+=1)v[a>>2]|=y.charCodeAt(a)<<(a%4<<3);return this._finish(v,u),h=D(this._hash),w&&(h=L(h)),this.reset(),h},I.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},I.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},I.prototype.setState=function(w){return this._buff=w.buff,this._length=w.length,this._hash=w.hash,this},I.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},I.prototype._finish=function(w,y){var a,v,h,u=y;if(w[u>>2]|=128<<(u%4<<3),u>55)for(O(this._hash,w),u=0;u<16;u+=1)w[u]=0;a=(a=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),v=parseInt(a[2],16),h=parseInt(a[1],16)||0,w[14]=v,w[15]=h,O(this._hash,w)},I.hash=function(w,y){return I.hashBinary(E(w),y)},I.hashBinary=function(w,y){var a=D(x(w));return y?L(a):a},(I.ArrayBuffer=function(){this.reset()}).prototype.append=function(w){var a,y=function(w,y,u){var a=new Uint8Array(w.byteLength+y.byteLength);return a.set(new Uint8Array(w)),a.set(new Uint8Array(y),w.byteLength),u?a:a.buffer}(this._buff.buffer,w,!0),u=y.length;for(this._length+=w.byteLength,a=64;a<=u;a+=64)O(this._hash,B(y.subarray(a-64,a)));return this._buff=a-64<u?new Uint8Array(y.buffer.slice(a-64)):new Uint8Array(0),this},I.ArrayBuffer.prototype.end=function(w){var v,h,y=this._buff,u=y.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(v=0;v<u;v+=1)a[v>>2]|=y[v]<<(v%4<<3);return this._finish(a,u),h=D(this._hash),w&&(h=L(h)),this.reset(),h},I.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},I.ArrayBuffer.prototype.getState=function(){var w=I.prototype.getState.call(this);return w.buff=function(w){return String.fromCharCode.apply(null,new Uint8Array(w))}(w.buff),w},I.ArrayBuffer.prototype.setState=function(w){return w.buff=function(w,y){var h,u=w.length,a=new ArrayBuffer(u),v=new Uint8Array(a);for(h=0;h<u;h+=1)v[h]=w.charCodeAt(h);return y?v:a}(w.buff,!0),I.prototype.setState.call(this,w)},I.ArrayBuffer.prototype.destroy=I.prototype.destroy,I.ArrayBuffer.prototype._finish=I.prototype._finish,I.ArrayBuffer.hash=function(w,y){var a=D(function(w){var a,v,h,q,de,Ce,y=w.length,u=[1732584193,-271733879,-1732584194,271733878];for(a=64;a<=y;a+=64)O(u,B(w.subarray(a-64,a)));for(v=(w=a-64<y?w.subarray(a-64):new Uint8Array(0)).length,h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<v;a+=1)h[a>>2]|=w[a]<<(a%4<<3);if(h[a>>2]|=128<<(a%4<<3),a>55)for(O(u,h),a=0;a<16;a+=1)h[a]=0;return q=(q=8*y).toString(16).match(/(.*?)(.{0,8})$/),de=parseInt(q[2],16),Ce=parseInt(q[1],16)||0,h[14]=de,h[15]=Ce,O(u,h),u}(new Uint8Array(w)));return y?L(a):a},I}()},1451:ae=>{ae.exports=function(c){return c&&"object"==typeof c&&"function"==typeof c.copy&&"function"==typeof c.fill&&"function"==typeof c.readUInt8}},8791:(ae,N,c)=>{var _=c(3407),l=c(110),O=c(2031),M=c(597);function B(Be){return Be.call.bind(Be)}var x="undefined"!=typeof BigInt,U="undefined"!=typeof Symbol,R=B(Object.prototype.toString),D=B(Number.prototype.valueOf),E=B(String.prototype.valueOf),b=B(Boolean.prototype.valueOf);if(x)var T=B(BigInt.prototype.valueOf);if(U)var P=B(Symbol.prototype.valueOf);function L(Be,Ct){if("object"!=typeof Be)return!1;try{return Ct(Be),!0}catch{return!1}}function z(Be){return"[object Map]"===R(Be)}function G(Be){return"[object Set]"===R(Be)}function $(Be){return"[object WeakMap]"===R(Be)}function Ee(Be){return"[object WeakSet]"===R(Be)}function me(Be){return"[object ArrayBuffer]"===R(Be)}function ge(Be){return"undefined"!=typeof ArrayBuffer&&(me.working?me(Be):Be instanceof ArrayBuffer)}function te(Be){return"[object DataView]"===R(Be)}function ue(Be){return"undefined"!=typeof DataView&&(te.working?te(Be):Be instanceof DataView)}N.isArgumentsObject=_,N.isGeneratorFunction=l,N.isTypedArray=M,N.isPromise=function(Be){return"undefined"!=typeof Promise&&Be instanceof Promise||null!==Be&&"object"==typeof Be&&"function"==typeof Be.then&&"function"==typeof Be.catch},N.isArrayBufferView=function(Be){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(Be):M(Be)||ue(Be)},N.isUint8Array=function(Be){return"Uint8Array"===O(Be)},N.isUint8ClampedArray=function(Be){return"Uint8ClampedArray"===O(Be)},N.isUint16Array=function(Be){return"Uint16Array"===O(Be)},N.isUint32Array=function(Be){return"Uint32Array"===O(Be)},N.isInt8Array=function(Be){return"Int8Array"===O(Be)},N.isInt16Array=function(Be){return"Int16Array"===O(Be)},N.isInt32Array=function(Be){return"Int32Array"===O(Be)},N.isFloat32Array=function(Be){return"Float32Array"===O(Be)},N.isFloat64Array=function(Be){return"Float64Array"===O(Be)},N.isBigInt64Array=function(Be){return"BigInt64Array"===O(Be)},N.isBigUint64Array=function(Be){return"BigUint64Array"===O(Be)},z.working="undefined"!=typeof Map&&z(new Map),N.isMap=function(Be){return"undefined"!=typeof Map&&(z.working?z(Be):Be instanceof Map)},G.working="undefined"!=typeof Set&&G(new Set),N.isSet=function(Be){return"undefined"!=typeof Set&&(G.working?G(Be):Be instanceof Set)},$.working="undefined"!=typeof WeakMap&&$(new WeakMap),N.isWeakMap=function(Be){return"undefined"!=typeof WeakMap&&($.working?$(Be):Be instanceof WeakMap)},Ee.working="undefined"!=typeof WeakSet&&Ee(new WeakSet),N.isWeakSet=function(Be){return Ee(Be)},me.working="undefined"!=typeof ArrayBuffer&&me(new ArrayBuffer),N.isArrayBuffer=ge,te.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&te(new DataView(new ArrayBuffer(1),0,1)),N.isDataView=ue;var Re="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function Fe(Be){return"[object SharedArrayBuffer]"===R(Be)}function Je(Be){return void 0!==Re&&(void 0===Fe.working&&(Fe.working=Fe(new Re)),Fe.working?Fe(Be):Be instanceof Re)}function gr(Be){return L(Be,D)}function Lr(Be){return L(Be,E)}function ar(Be){return L(Be,b)}function tr(Be){return x&&L(Be,T)}function dr(Be){return U&&L(Be,P)}N.isSharedArrayBuffer=Je,N.isAsyncFunction=function(Be){return"[object AsyncFunction]"===R(Be)},N.isMapIterator=function(Be){return"[object Map Iterator]"===R(Be)},N.isSetIterator=function(Be){return"[object Set Iterator]"===R(Be)},N.isGeneratorObject=function(Be){return"[object Generator]"===R(Be)},N.isWebAssemblyCompiledModule=function(Be){return"[object WebAssembly.Module]"===R(Be)},N.isNumberObject=gr,N.isStringObject=Lr,N.isBooleanObject=ar,N.isBigIntObject=tr,N.isSymbolObject=dr,N.isBoxedPrimitive=function(Be){return gr(Be)||Lr(Be)||ar(Be)||tr(Be)||dr(Be)},N.isAnyArrayBuffer=function(Be){return"undefined"!=typeof Uint8Array&&(ge(Be)||Je(Be))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Be){Object.defineProperty(N,Be,{enumerable:!1,value:function(){throw new Error(Be+" is not supported in userland")}})})},6788:(ae,N,c)=>{var _=Object.getOwnPropertyDescriptors||function(ue){for(var Re=Object.keys(ue),Fe={},Je=0;Je<Re.length;Je++)Fe[Re[Je]]=Object.getOwnPropertyDescriptor(ue,Re[Je]);return Fe},l=/%[sdj%]/g;N.format=function(te){if(!h(te)){for(var ue=[],Re=0;Re<arguments.length;Re++)ue.push(x(arguments[Re]));return ue.join(" ")}Re=1;for(var Fe=arguments,Je=Fe.length,st=String(te).replace(l,function(vt){if("%%"===vt)return"%";if(Re>=Je)return vt;switch(vt){case"%s":return String(Fe[Re++]);case"%d":return Number(Fe[Re++]);case"%j":try{return JSON.stringify(Fe[Re++])}catch{return"[Circular]"}default:return vt}}),qe=Fe[Re];Re<Je;qe=Fe[++Re])u(qe)||!_e(qe)?st+=" "+qe:st+=" "+x(qe);return st},N.deprecate=function(te,ue){if("undefined"!=typeof process&&!0===process.noDeprecation)return te;if("undefined"==typeof process)return function(){return N.deprecate(te,ue).apply(this,arguments)};var Re=!1;return function(){if(!Re){if(process.throwDeprecation)throw new Error(ue);process.traceDeprecation?console.trace(ue):console.error(ue),Re=!0}return te.apply(this,arguments)}};var O={},M=/^$/;if(process.env.NODE_DEBUG){var B=process.env.NODE_DEBUG;B=B.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),M=new RegExp("^"+B+"$","i")}function x(te,ue){var Re={seen:[],stylize:R};return arguments.length>=3&&(Re.depth=arguments[2]),arguments.length>=4&&(Re.colors=arguments[3]),y(ue)?Re.showHidden=ue:ue&&N._extend(Re,ue),de(Re.showHidden)&&(Re.showHidden=!1),de(Re.depth)&&(Re.depth=2),de(Re.colors)&&(Re.colors=!1),de(Re.customInspect)&&(Re.customInspect=!0),Re.colors&&(Re.stylize=U),E(Re,te,Re.depth)}function U(te,ue){var Re=x.styles[ue];return Re?"\x1b["+x.colors[Re][0]+"m"+te+"\x1b["+x.colors[Re][1]+"m":te}function R(te,ue){return te}function E(te,ue,Re){if(te.customInspect&&ue&&z(ue.inspect)&&ue.inspect!==N.inspect&&(!ue.constructor||ue.constructor.prototype!==ue)){var Fe=ue.inspect(Re,te);return h(Fe)||(Fe=E(te,Fe,Re)),Fe}var Je=function(te,ue){if(de(ue))return te.stylize("undefined","undefined");if(h(ue)){var Re="'"+JSON.stringify(ue).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return te.stylize(Re,"string")}return v(ue)?te.stylize(""+ue,"number"):y(ue)?te.stylize(""+ue,"boolean"):u(ue)?te.stylize("null","null"):void 0}(te,ue);if(Je)return Je;var st=Object.keys(ue),qe=function(te){var ue={};return te.forEach(function(Re,Fe){ue[Re]=!0}),ue}(st);if(te.showHidden&&(st=Object.getOwnPropertyNames(ue)),Q(ue)&&(st.indexOf("message")>=0||st.indexOf("description")>=0))return T(ue);if(0===st.length){if(z(ue))return te.stylize("[Function"+(ue.name?": "+ue.name:"")+"]","special");if(Ce(ue))return te.stylize(RegExp.prototype.toString.call(ue),"regexp");if(pe(ue))return te.stylize(Date.prototype.toString.call(ue),"date");if(Q(ue))return T(ue)}var ar,Pt="",It=!1,gr=["{","}"];return w(ue)&&(It=!0,gr=["[","]"]),z(ue)&&(Pt=" [Function"+(ue.name?": "+ue.name:"")+"]"),Ce(ue)&&(Pt=" "+RegExp.prototype.toString.call(ue)),pe(ue)&&(Pt=" "+Date.prototype.toUTCString.call(ue)),Q(ue)&&(Pt=" "+T(ue)),0!==st.length||It&&0!=ue.length?Re<0?Ce(ue)?te.stylize(RegExp.prototype.toString.call(ue),"regexp"):te.stylize("[Object]","special"):(te.seen.push(ue),ar=It?function(te,ue,Re,Fe,Je){for(var st=[],qe=0,vt=ue.length;qe<vt;++qe)Ee(ue,String(qe))?st.push(L(te,ue,Re,Fe,String(qe),!0)):st.push("");return Je.forEach(function(Pt){Pt.match(/^\d+$/)||st.push(L(te,ue,Re,Fe,Pt,!0))}),st}(te,ue,Re,qe,st):st.map(function(tr){return L(te,ue,Re,qe,tr,It)}),te.seen.pop(),function(te,ue,Re){var Je=te.reduce(function(st,qe){return qe.indexOf("\n"),st+qe.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Je>60?Re[0]+(""===ue?"":ue+"\n ")+" "+te.join(",\n  ")+" "+Re[1]:Re[0]+ue+" "+te.join(", ")+" "+Re[1]}(ar,Pt,gr)):gr[0]+Pt+gr[1]}function T(te){return"["+Error.prototype.toString.call(te)+"]"}function L(te,ue,Re,Fe,Je,st){var qe,vt,Pt;if((Pt=Object.getOwnPropertyDescriptor(ue,Je)||{value:ue[Je]}).get?vt=te.stylize(Pt.set?"[Getter/Setter]":"[Getter]","special"):Pt.set&&(vt=te.stylize("[Setter]","special")),Ee(Fe,Je)||(qe="["+Je+"]"),vt||(te.seen.indexOf(Pt.value)<0?(vt=u(Re)?E(te,Pt.value,null):E(te,Pt.value,Re-1)).indexOf("\n")>-1&&(vt=st?vt.split("\n").map(function(It){return"  "+It}).join("\n").substr(2):"\n"+vt.split("\n").map(function(It){return"   "+It}).join("\n")):vt=te.stylize("[Circular]","special")),de(qe)){if(st&&Je.match(/^\d+$/))return vt;(qe=JSON.stringify(""+Je)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(qe=qe.substr(1,qe.length-2),qe=te.stylize(qe,"name")):(qe=qe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),qe=te.stylize(qe,"string"))}return qe+": "+vt}function w(te){return Array.isArray(te)}function y(te){return"boolean"==typeof te}function u(te){return null===te}function v(te){return"number"==typeof te}function h(te){return"string"==typeof te}function de(te){return void 0===te}function Ce(te){return _e(te)&&"[object RegExp]"===G(te)}function _e(te){return"object"==typeof te&&null!==te}function pe(te){return _e(te)&&"[object Date]"===G(te)}function Q(te){return _e(te)&&("[object Error]"===G(te)||te instanceof Error)}function z(te){return"function"==typeof te}function G(te){return Object.prototype.toString.call(te)}function J(te){return te<10?"0"+te.toString(10):te.toString(10)}N.debuglog=function(te){if(te=te.toUpperCase(),!O[te])if(M.test(te)){var ue=process.pid;O[te]=function(){var Re=N.format.apply(N,arguments);console.error("%s %d: %s",te,ue,Re)}}else O[te]=function(){};return O[te]},N.inspect=x,x.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},x.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},N.types=c(8791),N.isArray=w,N.isBoolean=y,N.isNull=u,N.isNullOrUndefined=function(te){return null==te},N.isNumber=v,N.isString=h,N.isSymbol=function(te){return"symbol"==typeof te},N.isUndefined=de,N.isRegExp=Ce,N.types.isRegExp=Ce,N.isObject=_e,N.isDate=pe,N.types.isDate=pe,N.isError=Q,N.types.isNativeError=Q,N.isFunction=z,N.isPrimitive=function(te){return null===te||"boolean"==typeof te||"number"==typeof te||"string"==typeof te||"symbol"==typeof te||void 0===te},N.isBuffer=c(1451);var $=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ie(){var te=new Date,ue=[J(te.getHours()),J(te.getMinutes()),J(te.getSeconds())].join(":");return[te.getDate(),$[te.getMonth()],ue].join(" ")}function Ee(te,ue){return Object.prototype.hasOwnProperty.call(te,ue)}N.log=function(){console.log("%s - %s",ie(),N.format.apply(N,arguments))},N.inherits=c(3894),N._extend=function(te,ue){if(!ue||!_e(ue))return te;for(var Re=Object.keys(ue),Fe=Re.length;Fe--;)te[Re[Fe]]=ue[Re[Fe]];return te};var Le="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function me(te,ue){if(!te){var Re=new Error("Promise was rejected with a falsy value");Re.reason=te,te=Re}return ue(te)}N.promisify=function(ue){if("function"!=typeof ue)throw new TypeError('The "original" argument must be of type Function');if(Le&&ue[Le]){var Re;if("function"!=typeof(Re=ue[Le]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Re,Le,{value:Re,enumerable:!1,writable:!1,configurable:!0}),Re}function Re(){for(var Fe,Je,st=new Promise(function(Pt,It){Fe=Pt,Je=It}),qe=[],vt=0;vt<arguments.length;vt++)qe.push(arguments[vt]);qe.push(function(Pt,It){Pt?Je(Pt):Fe(It)});try{ue.apply(this,qe)}catch(Pt){Je(Pt)}return st}return Object.setPrototypeOf(Re,Object.getPrototypeOf(ue)),Le&&Object.defineProperty(Re,Le,{value:Re,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Re,_(ue))},N.promisify.custom=Le,N.callbackify=function(te){if("function"!=typeof te)throw new TypeError('The "original" argument must be of type Function');function ue(){for(var Re=[],Fe=0;Fe<arguments.length;Fe++)Re.push(arguments[Fe]);var Je=Re.pop();if("function"!=typeof Je)throw new TypeError("The last argument must be of type Function");var st=this,qe=function(){return Je.apply(st,arguments)};te.apply(this,Re).then(function(vt){process.nextTick(qe.bind(null,null,vt))},function(vt){process.nextTick(me.bind(null,vt,qe))})}return Object.setPrototypeOf(ue,Object.getPrototypeOf(te)),Object.defineProperties(ue,_(te)),ue}},2899:(ae,N)=>{function c(_,l,O){var M=O[O.length-1];_===M.element&&(O.pop(),M=O[O.length-1]);var B=M.element,x=M.index;Array.isArray(B)?B.push(_):x===l.length-2?B[l.pop()]=_:l.push(_)}N.stringify=function(l){var O=[];O.push({obj:l});for(var B,x,R,D,b,T,P,L,I,M="";B=O.pop();)if(x=B.obj,M+=B.prefix||"",R=B.val||"")M+=R;else if("object"!=typeof x)M+=void 0===x?null:JSON.stringify(x);else if(null===x)M+="null";else if(Array.isArray(x)){for(O.push({val:"]"}),D=x.length-1;D>=0;D--)O.push({obj:x[D],prefix:0===D?"":","});O.push({val:"["})}else{for(T in b=[],x)x.hasOwnProperty(T)&&b.push(T);for(O.push({val:"}"}),D=b.length-1;D>=0;D--)L=x[P=b[D]],I=D>0?",":"",I+=JSON.stringify(P)+":",O.push({obj:L,prefix:I});O.push({val:"{"})}return M},N.parse=function(_){for(var B,x,U,R,D,E,b,T,P,l=[],O=[],M=0;;)if("}"!==(B=_[M++])&&"]"!==B&&void 0!==B)switch(B){case" ":case"\t":case"\n":case":":case",":break;case"n":M+=3,c(null,l,O);break;case"t":M+=3,c(!0,l,O);break;case"f":M+=4,c(!1,l,O);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(x="",M--;;){if(U=_[M++],!/[\d\.\-e\+]/.test(U)){M--;break}x+=U}c(parseFloat(x),l,O);break;case'"':for(R="",D=void 0,E=0;'"'!==(b=_[M++])||"\\"===D&&E%2==1;)R+=b,"\\"===(D=b)?E++:E=0;c(JSON.parse('"'+R+'"'),l,O);break;case"[":l.push((T={element:[],index:l.length}).element),O.push(T);break;case"{":l.push((P={element:{},index:l.length}).element),O.push(P);break;default:throw new Error("unexpectedly reached end of input: "+B)}else{if(1===l.length)return l.pop();c(l.pop(),l,O)}}},2031:(ae,N,c)=>{var _=c(9076),l=c(7029),O=c(5834),M=O("Object.prototype.toString"),B=c(6259)(),x="undefined"==typeof globalThis?global:globalThis,U=l(),R=O("String.prototype.slice"),D={},E=c(8555),b=Object.getPrototypeOf;B&&E&&b&&_(U,function(L){if("function"==typeof x[L]){var I=new x[L];if(Symbol.toStringTag in I){var w=b(I),y=E(w,Symbol.toStringTag);if(!y){var u=b(w);y=E(u,Symbol.toStringTag)}D[L]=y.get}}});var P=c(597);ae.exports=function(I){return!!P(I)&&(B&&Symbol.toStringTag in I?function(I){var w=!1;return _(D,function(y,u){if(!w)try{var a=y.call(I);a===u&&(w=a)}catch{}}),w}(I):R(M(I),8,-1))}},1995:ae=>{ae.exports=function(){for(var _={},l=0;l<arguments.length;l++){var O=arguments[l];for(var M in O)N.call(O,M)&&(_[M]=O[M])}return _};var N=Object.prototype.hasOwnProperty},7757:(ae,N,c)=>{ae.exports=c(7854)},655:(ae,N,c)=>{function R(Q,z,Y,G){return new(Y||(Y=Promise))(function($,ie){function Ee(ge){try{me(G.next(ge))}catch(te){ie(te)}}function Le(ge){try{me(G.throw(ge))}catch(te){ie(te)}}function me(ge){ge.done?$(ge.value):function($){return $ instanceof Y?$:new Y(function(ie){ie($)})}(ge.value).then(Ee,Le)}me((G=G.apply(Q,z||[])).next())})}function y(Q){return this instanceof y?(this.v=Q,this):new y(Q)}function u(Q,z,Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var J,G=Y.apply(Q,z||[]),$=[];return J={},ie("next"),ie("throw"),ie("return"),J[Symbol.asyncIterator]=function(){return this},J;function ie(ue){G[ue]&&(J[ue]=function(Re){return new Promise(function(Fe,Je){$.push([ue,Re,Fe,Je])>1||Ee(ue,Re)})})}function Ee(ue,Re){try{!function(ue){ue.value instanceof y?Promise.resolve(ue.value.v).then(me,ge):te($[0][2],ue)}(G[ue](Re))}catch(Fe){te($[0][3],Fe)}}function me(ue){Ee("next",ue)}function ge(ue){Ee("throw",ue)}function te(ue,Re){ue(Re),$.shift(),$.length&&Ee($[0][0],$[0][1])}}function v(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y,z=Q[Symbol.asyncIterator];return z?z.call(Q):(Q=function(Q){var z="function"==typeof Symbol&&Symbol.iterator,Y=z&&Q[z],G=0;if(Y)return Y.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&G>=Q.length&&(Q=void 0),{value:Q&&Q[G++],done:!Q}}};throw new TypeError(z?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),Y={},G("next"),G("throw"),G("return"),Y[Symbol.asyncIterator]=function(){return this},Y);function G($){Y[$]=Q[$]&&function(ie){return new Promise(function(Ee,Le){!function($,ie,Ee,Le){Promise.resolve(Le).then(function(me){$({value:me,done:Ee})},ie)}(Ee,Le,(ie=Q[$](ie)).done,ie.value)})}}}c.d(N,{mG:()=>R,qq:()=>y,FC:()=>u,KL:()=>v})},2480:()=>{},4703:()=>{},7029:ae=>{var N=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],c="undefined"==typeof globalThis?global:globalThis;ae.exports=function(){for(var l=[],O=0;O<N.length;O++)"function"==typeof c[N[O]]&&(l[l.length]=N[O]);return l}},8555:(ae,N,c)=>{var l=c(5203)("%Object.getOwnPropertyDescriptor%",!0);if(l)try{l([],"length")}catch{l=null}ae.exports=l},8753:(ae,N,c)=>{c.d(N,{Zt:()=>ws,Hk:()=>Wi,Wj:()=>Ui,_t:()=>Ss});var _=c(7777),l=c(1457);function O(K){return null!=K&&"false"!=`${K}`}function M(K,C=0){return function(K){return!isNaN(parseFloat(K))&&!isNaN(Number(K))}(K)?Number(K):C}function R(K){return K instanceof _.ElementRef?K.nativeElement:K}var E=c(7579),b=c(9646),T=c(8306),P=c(4968),L=c(6406),w=(c(3101),c(3601)),y=c(9300);let u;try{u="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch{u=!1}let Ce,J,a=(()=>{class K{constructor(g){this._platformId=g,this.isBrowser=this._platformId?(0,l.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!u)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return K.\u0275fac=function(g){return new(g||K)(_.\u0275\u0275inject(_.PLATFORM_ID))},K.\u0275prov=_.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();function pe(K){return function(){if(null==Ce&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ce=!0}))}finally{Ce=Ce||!1}return Ce}()?K:!!K.capture}function ie(K){if(function(){if(null==J){const K="undefined"!=typeof document?document.head:null;J=!(!K||!K.createShadowRoot&&!K.attachShadow)}return J}()){const C=K.getRootNode?K.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&C instanceof ShadowRoot)return C}return null}function Le(K){return K.composedPath?K.composedPath()[0]:K.target}let qe=(()=>{class K{constructor(g,F,H){this._ngZone=g,this._platform=F,this._scrolled=new E.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=H}register(g){this.scrollContainers.has(g)||this.scrollContainers.set(g,g.elementScrolled().subscribe(()=>this._scrolled.next(g)))}deregister(g){const F=this.scrollContainers.get(g);F&&(F.unsubscribe(),this.scrollContainers.delete(g))}scrolled(g=20){return this._platform.isBrowser?new T.y(F=>{this._globalSubscription||this._addGlobalListener();const H=g>0?this._scrolled.pipe((0,w.e)(g)).subscribe(F):this._scrolled.subscribe(F);return this._scrolledCount++,()=>{H.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,b.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((g,F)=>this.deregister(F)),this._scrolled.complete()}ancestorScrolled(g,F){const H=this.getAncestorScrollContainers(g);return this.scrolled(F).pipe((0,y.h)(ce=>!ce||H.indexOf(ce)>-1))}getAncestorScrollContainers(g){const F=[];return this.scrollContainers.forEach((H,ce)=>{this._scrollableContainsElement(ce,g)&&F.push(ce)}),F}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(g,F){let H=R(F),ce=g.getElementRef().nativeElement;do{if(H==ce)return!0}while(H=H.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const g=this._getWindow();return(0,P.R)(g.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return K.\u0275fac=function(g){return new(g||K)(_.\u0275\u0275inject(_.NgZone),_.\u0275\u0275inject(a),_.\u0275\u0275inject(l.DOCUMENT,8))},K.\u0275prov=_.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),It=(()=>{class K{constructor(g,F,H){this._platform=g,this._change=new E.x,this._changeListener=ce=>{this._change.next(ce)},this._document=H,F.runOutsideAngular(()=>{if(g.isBrowser){const ce=this._getWindow();ce.addEventListener("resize",this._changeListener),ce.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const g=this._getWindow();g.removeEventListener("resize",this._changeListener),g.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const g={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),g}getViewportRect(){const g=this.getViewportScrollPosition(),{width:F,height:H}=this.getViewportSize();return{top:g.top,left:g.left,bottom:g.top+H,right:g.left+F,height:H,width:F}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const g=this._document,F=this._getWindow(),H=g.documentElement,ce=H.getBoundingClientRect();return{top:-ce.top||g.body.scrollTop||F.scrollY||H.scrollTop||0,left:-ce.left||g.body.scrollLeft||F.scrollX||H.scrollLeft||0}}change(g=20){return g>0?this._change.pipe((0,w.e)(g)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const g=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:g.innerWidth,height:g.innerHeight}:{width:0,height:0}}}return K.\u0275fac=function(g){return new(g||K)(_.\u0275\u0275inject(a),_.\u0275\u0275inject(_.NgZone),_.\u0275\u0275inject(l.DOCUMENT,8))},K.\u0275prov=_.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac,providedIn:"root"}),K})(),Jt=(()=>{class K{}return K.\u0275fac=function(g){return new(g||K)},K.\u0275mod=_.\u0275\u0275defineNgModule({type:K}),K.\u0275inj=_.\u0275\u0275defineInjector({}),K})();var da=c(4986),ha=c(5963),Wn=c(727),ls=c(6451),Or=c(2722),jt=c(8675),ho=c(4004),Vn=c(5698),Ri=c(8505),po=c(3900);const cn=new _.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,_.inject)(l.DOCUMENT)}});let xr=(()=>{class K{constructor(g){if(this.value="ltr",this.change=new _.EventEmitter,g){const H=g.documentElement?g.documentElement.dir:null,ce=(g.body?g.body.dir:null)||H;this.value="ltr"===ce||"rtl"===ce?ce:"ltr"}}ngOnDestroy(){this.change.complete()}}return K.\u0275fac=function(g){return new(g||K)(_.\u0275\u0275inject(cn,8))},K.\u0275prov=_.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();function xi(K,C,g){for(let F in C)if(C.hasOwnProperty(F)){const H=C[F];H?K.setProperty(F,H,g?.has(F)?"important":""):K.removeProperty(F)}return K}function $r(K,C){const g=C?"":"none";xi(K.style,{"touch-action":C?"":"none","-webkit-user-drag":C?"":"none","-webkit-tap-highlight-color":C?"":"transparent","user-select":g,"-ms-user-select":g,"-webkit-user-select":g,"-moz-user-select":g})}function fs(K,C,g){xi(K.style,{position:C?"":"fixed",top:C?"":"0",opacity:C?"":"0",left:C?"":"-999em"},g)}function Sn(K,C){return C&&"none"!=C?K+" "+C:K}function ds(K){const C=K.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(K)*C}function An(K,C){return K.getPropertyValue(C).split(",").map(F=>F.trim())}function Cn(K){const C=K.getBoundingClientRect();return{top:C.top,right:C.right,bottom:C.bottom,left:C.left,width:C.width,height:C.height,x:C.x,y:C.y}}function nr(K,C,g){const{top:F,bottom:H,left:ce,right:Pe}=K;return g>=F&&g<=H&&C>=ce&&C<=Pe}function lr(K,C,g){K.top+=C,K.bottom=K.top+K.height,K.left+=g,K.right=K.left+K.width}function si(K,C,g,F){const{top:H,right:ce,bottom:Pe,left:p,width:s,height:o}=K,m=s*C,k=o*C;return F>H-k&&F<Pe+k&&g>p-m&&g<ce+m}class $n{constructor(C,g){this._document=C,this._viewportRuler=g,this.positions=new Map}clear(){this.positions.clear()}cache(C){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),C.forEach(g=>{this.positions.set(g,{scrollPosition:{top:g.scrollTop,left:g.scrollLeft},clientRect:Cn(g)})})}handleScroll(C){const g=Le(C),F=this.positions.get(g);if(!F)return null;const H=F.scrollPosition;let ce,Pe;if(g===this._document){const o=this._viewportRuler.getViewportScrollPosition();ce=o.top,Pe=o.left}else ce=g.scrollTop,Pe=g.scrollLeft;const p=H.top-ce,s=H.left-Pe;return this.positions.forEach((o,m)=>{o.clientRect&&g!==m&&g.contains(m)&&lr(o.clientRect,p,s)}),H.top=ce,H.left=Pe,{top:p,left:s}}}function Dn(K){const C=K.cloneNode(!0),g=C.querySelectorAll("[id]"),F=K.nodeName.toLowerCase();C.removeAttribute("id");for(let H=0;H<g.length;H++)g[H].removeAttribute("id");return"canvas"===F?br(K,C):("input"===F||"select"===F||"textarea"===F)&&hs(K,C),Ve("canvas",K,C,br),Ve("input, textarea, select",K,C,hs),C}function Ve(K,C,g,F){const H=C.querySelectorAll(K);if(H.length){const ce=g.querySelectorAll(K);for(let Pe=0;Pe<H.length;Pe++)F(H[Pe],ce[Pe])}}let Rt=0;function hs(K,C){"file"!==C.type&&(C.value=K.value),"radio"===C.type&&C.name&&(C.name=`mat-clone-${C.name}-${Rt++}`)}function br(K,C){const g=C.getContext("2d");if(g)try{g.drawImage(K,0,0)}catch{}}const Yt=pe({passive:!0}),ki=pe({passive:!1}),nt=new Set(["position"]);class vo{constructor(C,g,F,H,ce,Pe){this._config=g,this._document=F,this._ngZone=H,this._viewportRuler=ce,this._dragDropRegistry=Pe,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new E.x,this._pointerMoveSubscription=Wn.w0.EMPTY,this._pointerUpSubscription=Wn.w0.EMPTY,this._scrollSubscription=Wn.w0.EMPTY,this._resizeSubscription=Wn.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new E.x,this.started=new E.x,this.released=new E.x,this.ended=new E.x,this.entered=new E.x,this.exited=new E.x,this.dropped=new E.x,this.moved=this._moveEvents,this._pointerDown=p=>{if(this.beforeStarted.next(),this._handles.length){const s=this._handles.find(o=>p.target&&(p.target===o||o.contains(p.target)));s&&!this._disabledHandles.has(s)&&!this.disabled&&this._initializeDragSequence(s,p)}else this.disabled||this._initializeDragSequence(this._rootElement,p)},this._pointerMove=p=>{const s=this._getPointerPositionOnPage(p);if(!this._hasStartedDragging){if(Math.abs(s.x-this._pickupPositionOnPage.x)+Math.abs(s.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const re=Date.now()>=this._dragStartTime+this._getDragStartDelay(p),oe=this._dropContainer;if(!re)return void this._endDragSequence(p);(!oe||!oe.isDragging()&&!oe.isReceiving())&&(p.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(p)))}return}this._boundaryElement&&(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()),p.preventDefault();const o=this._getConstrainedPointerPosition(s);if(this._hasMoved=!0,this._lastKnownPointerPosition=s,this._updatePointerDirectionDelta(o),this._dropContainer)this._updateActiveDropContainer(o,s);else{const m=this._activeTransform;m.x=o.x-this._pickupPositionOnPage.x+this._passiveTransform.x,m.y=o.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(m.x,m.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:o,event:p,distance:this._getDragDistance(o),delta:this._pointerDirectionDelta})})},this._pointerUp=p=>{this._endDragSequence(p)},this.withRootElement(C).withParent(g.parentDragRef||null),this._parentPositions=new $n(F,ce),Pe.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(C){const g=O(C);g!==this._disabled&&(this._disabled=g,this._toggleNativeDragInteractions(),this._handles.forEach(F=>$r(F,g)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(C){this._handles=C.map(F=>R(F)),this._handles.forEach(F=>$r(F,this.disabled)),this._toggleNativeDragInteractions();const g=new Set;return this._disabledHandles.forEach(F=>{this._handles.indexOf(F)>-1&&g.add(F)}),this._disabledHandles=g,this}withPreviewTemplate(C){return this._previewTemplate=C,this}withPlaceholderTemplate(C){return this._placeholderTemplate=C,this}withRootElement(C){const g=R(C);return g!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{g.addEventListener("mousedown",this._pointerDown,ki),g.addEventListener("touchstart",this._pointerDown,Yt)}),this._initialTransform=void 0,this._rootElement=g),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(C){return this._boundaryElement=C?R(C):null,this._resizeSubscription.unsubscribe(),C&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(C){return this._parentDragRef=C,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(C){!this._disabledHandles.has(C)&&this._handles.indexOf(C)>-1&&(this._disabledHandles.add(C),$r(C,!0))}enableHandle(C){this._disabledHandles.has(C)&&(this._disabledHandles.delete(C),$r(C,this.disabled))}withDirection(C){return this._direction=C,this}_withDropContainer(C){this._dropContainer=C}getFreeDragPosition(){const C=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:C.x,y:C.y}}setFreeDragPosition(C){return this._activeTransform={x:0,y:0},this._passiveTransform.x=C.x,this._passiveTransform.y=C.y,this._dropContainer||this._applyRootElementTransform(C.x,C.y),this}withPreviewContainer(C){return this._previewContainer=C,this}_sortFromLastPointerPosition(){const C=this._lastKnownPointerPosition;C&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(C),C)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(C){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(C),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const g=this._getPointerPositionOnPage(C);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(g),dropPoint:g})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(C){Lt(C)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const g=this._dropContainer;if(g){const F=this._rootElement,H=F.parentNode,ce=this._placeholder=this._createPlaceholderElement(),Pe=this._anchor=this._anchor||this._document.createComment(""),p=this._getShadowRoot();H.insertBefore(Pe,F),this._initialTransform=F.style.transform||"",this._preview=this._createPreviewElement(),fs(F,!1,nt),this._document.body.appendChild(H.replaceChild(ce,F)),this._getPreviewInsertionPoint(H,p).appendChild(this._preview),this.started.next({source:this}),g.start(),this._initialContainer=g,this._initialIndex=g.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(g?g.getScrollableParents():[])}_initializeDragSequence(C,g){this._parentDragRef&&g.stopPropagation();const F=this.isDragging(),H=Lt(g),ce=!H&&0!==g.button,Pe=this._rootElement,p=Le(g),s=!H&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),o=H?function(K){const C=K.touches&&K.touches[0]||K.changedTouches&&K.changedTouches[0];return!(!C||-1!==C.identifier||null!=C.radiusX&&1!==C.radiusX||null!=C.radiusY&&1!==C.radiusY)}(g):0===(K=g).offsetX&&0===K.offsetY;var K;if(p&&p.draggable&&"mousedown"===g.type&&g.preventDefault(),F||ce||s||o)return;if(this._handles.length){const V=Pe.style;this._rootElementTapHighlight=V.webkitTapHighlightColor||"",V.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(V=>this._updateOnScroll(V)),this._boundaryElement&&(this._boundaryRect=Cn(this._boundaryElement));const m=this._previewTemplate;this._pickupPositionInElement=m&&m.template&&!m.matchSize?{x:0,y:0}:this._getPointerPositionInElement(C,g);const k=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(g);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:k.x,y:k.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,g)}_cleanupDragArtifacts(C){fs(this._rootElement,!0,nt),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const g=this._dropContainer,F=g.getItemIndex(this),H=this._getPointerPositionOnPage(C),ce=this._getDragDistance(H),Pe=g._isOverContainer(H.x,H.y);this.ended.next({source:this,distance:ce,dropPoint:H}),this.dropped.next({item:this,currentIndex:F,previousIndex:this._initialIndex,container:g,previousContainer:this._initialContainer,isPointerOverContainer:Pe,distance:ce,dropPoint:H}),g.drop(this,F,this._initialIndex,this._initialContainer,Pe,ce,H),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:C,y:g},{x:F,y:H}){let ce=this._initialContainer._getSiblingContainerFromPosition(this,C,g);!ce&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(C,g)&&(ce=this._initialContainer),ce&&ce!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=ce,this._dropContainer.enter(this,C,g,ce===this._initialContainer&&ce.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:ce,currentIndex:ce.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(F,H),this._dropContainer._sortItem(this,C,g,this._pointerDirectionDelta),this._applyPreviewTransform(C-this._pickupPositionInElement.x,g-this._pickupPositionInElement.y))}_createPreviewElement(){const C=this._previewTemplate,g=this.previewClass,F=C?C.template:null;let H;if(F&&C){const ce=C.matchSize?this._rootElement.getBoundingClientRect():null,Pe=C.viewContainer.createEmbeddedView(F,C.context);Pe.detectChanges(),H=ps(Pe,this._document),this._previewRef=Pe,C.matchSize?Gn(H,ce):H.style.transform=je(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const ce=this._rootElement;H=Dn(ce),Gn(H,ce.getBoundingClientRect()),this._initialTransform&&(H.style.transform=this._initialTransform)}return xi(H.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},nt),$r(H,!1),H.classList.add("cdk-drag-preview"),H.setAttribute("dir",this._direction),g&&(Array.isArray(g)?g.forEach(ce=>H.classList.add(ce)):H.classList.add(g)),H}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const C=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(C.left,C.top);const g=function(K){const C=getComputedStyle(K),g=An(C,"transition-property"),F=g.find(p=>"transform"===p||"all"===p);if(!F)return 0;const H=g.indexOf(F),ce=An(C,"transition-duration"),Pe=An(C,"transition-delay");return ds(ce[H])+ds(Pe[H])}(this._preview);return 0===g?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(F=>{const H=Pe=>{(!Pe||Le(Pe)===this._preview&&"transform"===Pe.propertyName)&&(this._preview?.removeEventListener("transitionend",H),F(),clearTimeout(ce))},ce=setTimeout(H,1.5*g);this._preview.addEventListener("transitionend",H)}))}_createPlaceholderElement(){const C=this._placeholderTemplate,g=C?C.template:null;let F;return g?(this._placeholderRef=C.viewContainer.createEmbeddedView(g,C.context),this._placeholderRef.detectChanges(),F=ps(this._placeholderRef,this._document)):F=Dn(this._rootElement),F.classList.add("cdk-drag-placeholder"),F}_getPointerPositionInElement(C,g){const F=this._rootElement.getBoundingClientRect(),H=C===this._rootElement?null:C,ce=H?H.getBoundingClientRect():F,Pe=Lt(g)?g.targetTouches[0]:g,p=this._getViewportScrollPosition();return{x:ce.left-F.left+(Pe.pageX-ce.left-p.left),y:ce.top-F.top+(Pe.pageY-ce.top-p.top)}}_getPointerPositionOnPage(C){const g=this._getViewportScrollPosition(),F=Lt(C)?C.touches[0]||C.changedTouches[0]||{pageX:0,pageY:0}:C,H=F.pageX-g.left,ce=F.pageY-g.top;if(this._ownerSVGElement){const Pe=this._ownerSVGElement.getScreenCTM();if(Pe){const p=this._ownerSVGElement.createSVGPoint();return p.x=H,p.y=ce,p.matrixTransform(Pe.inverse())}}return{x:H,y:ce}}_getConstrainedPointerPosition(C){const g=this._dropContainer?this._dropContainer.lockAxis:null;let{x:F,y:H}=this.constrainPosition?this.constrainPosition(C,this):C;if("x"===this.lockAxis||"x"===g?H=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===g)&&(F=this._pickupPositionOnPage.x),this._boundaryRect){const{x:ce,y:Pe}=this._pickupPositionInElement,p=this._boundaryRect,s=this._previewRect,o=p.top+Pe,m=p.bottom-(s.height-Pe);F=Hn(F,p.left+ce,p.right-(s.width-ce)),H=Hn(H,o,m)}return{x:F,y:H}}_updatePointerDirectionDelta(C){const{x:g,y:F}=C,H=this._pointerDirectionDelta,ce=this._pointerPositionAtLastDirectionChange,Pe=Math.abs(g-ce.x),p=Math.abs(F-ce.y);return Pe>this._config.pointerDirectionChangeThreshold&&(H.x=g>ce.x?1:-1,ce.x=g),p>this._config.pointerDirectionChangeThreshold&&(H.y=F>ce.y?1:-1,ce.y=F),H}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const C=this._handles.length>0||!this.isDragging();C!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=C,$r(this._rootElement,C))}_removeRootElementListeners(C){C.removeEventListener("mousedown",this._pointerDown,ki),C.removeEventListener("touchstart",this._pointerDown,Yt)}_applyRootElementTransform(C,g){const F=je(C,g),H=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=H.transform&&"none"!=H.transform?H.transform:""),H.transform=Sn(F,this._initialTransform)}_applyPreviewTransform(C,g){const F=this._previewTemplate?.template?void 0:this._initialTransform,H=je(C,g);this._preview.style.transform=Sn(H,F)}_getDragDistance(C){const g=this._pickupPositionOnPage;return g?{x:C.x-g.x,y:C.y-g.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:C,y:g}=this._passiveTransform;if(0===C&&0===g||this.isDragging()||!this._boundaryElement)return;const F=this._boundaryElement.getBoundingClientRect(),H=this._rootElement.getBoundingClientRect();if(0===F.width&&0===F.height||0===H.width&&0===H.height)return;const ce=F.left-H.left,Pe=H.right-F.right,p=F.top-H.top,s=H.bottom-F.bottom;F.width>H.width?(ce>0&&(C+=ce),Pe>0&&(C-=Pe)):C=0,F.height>H.height?(p>0&&(g+=p),s>0&&(g-=s)):g=0,(C!==this._passiveTransform.x||g!==this._passiveTransform.y)&&this.setFreeDragPosition({y:g,x:C})}_getDragStartDelay(C){const g=this.dragStartDelay;return"number"==typeof g?g:Lt(C)?g.touch:g?g.mouse:0}_updateOnScroll(C){const g=this._parentPositions.handleScroll(C);if(g){const F=Le(C);this._boundaryRect&&F!==this._boundaryElement&&F.contains(this._boundaryElement)&&lr(this._boundaryRect,g.top,g.left),this._pickupPositionOnPage.x+=g.left,this._pickupPositionOnPage.y+=g.top,this._dropContainer||(this._activeTransform.x-=g.left,this._activeTransform.y-=g.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const C=this._parentPositions.positions.get(this._document);return C?C.scrollPosition:this._viewportRuler.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=ie(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(C,g){const F=this._previewContainer||"global";if("parent"===F)return C;if("global"===F){const H=this._document;return g||H.fullscreenElement||H.webkitFullscreenElement||H.mozFullScreenElement||H.msFullscreenElement||H.body}return R(F)}}function je(K,C){return`translate3d(${Math.round(K)}px, ${Math.round(C)}px, 0)`}function Hn(K,C,g){return Math.max(C,Math.min(g,K))}function Lt(K){return"t"===K.type[0]}function ps(K,C){const g=K.rootNodes;if(1===g.length&&g[0].nodeType===C.ELEMENT_NODE)return g[0];const F=C.createElement("div");return g.forEach(H=>F.appendChild(H)),F}function Gn(K,C){K.style.width=`${C.width}px`,K.style.height=`${C.height}px`,K.style.transform=je(C.left,C.top)}function en(K,C){return Math.max(0,Math.min(C,K))}class Bi{constructor(C,g,F,H,ce){this._dragDropRegistry=g,this._ngZone=H,this._viewportRuler=ce,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new E.x,this.entered=new E.x,this.exited=new E.x,this.dropped=new E.x,this.sorted=new E.x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Wn.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new E.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function(K=0,C=da.z){return K<0&&(K=0),(0,ha.H)(K,K,C)}(0,L.Z).pipe((0,Or.R)(this._stopScrollTimers)).subscribe(()=>{const Pe=this._scrollNode,p=this.autoScrollStep;1===this._verticalScrollDirection?Pe.scrollBy(0,-p):2===this._verticalScrollDirection&&Pe.scrollBy(0,p),1===this._horizontalScrollDirection?Pe.scrollBy(-p,0):2===this._horizontalScrollDirection&&Pe.scrollBy(p,0)})},this.element=R(C),this._document=F,this.withScrollableParents([this.element]),g.registerDropContainer(this),this._parentPositions=new $n(F,ce)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(C,g,F,H){let ce;this._draggingStarted(),null==H?(ce=this.sortingDisabled?this._draggables.indexOf(C):-1,-1===ce&&(ce=this._getItemIndexFromPointerPosition(C,g,F))):ce=H;const Pe=this._activeDraggables,p=Pe.indexOf(C),s=C.getPlaceholderElement();let o=Pe[ce];if(o===C&&(o=Pe[ce+1]),p>-1&&Pe.splice(p,1),o&&!this._dragDropRegistry.isDragging(o)){const m=o.getRootElement();m.parentElement.insertBefore(s,m),Pe.splice(ce,0,C)}else if(this._shouldEnterAsFirstChild(g,F)){const m=Pe[0].getRootElement();m.parentNode.insertBefore(s,m),Pe.unshift(C)}else R(this.element).appendChild(s),Pe.push(C);s.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:C,container:this,currentIndex:this.getItemIndex(C)})}exit(C){this._reset(),this.exited.next({item:C,container:this})}drop(C,g,F,H,ce,Pe,p){this._reset(),this.dropped.next({item:C,currentIndex:g,previousIndex:F,container:this,previousContainer:H,isPointerOverContainer:ce,distance:Pe,dropPoint:p})}withItems(C){const g=this._draggables;return this._draggables=C,C.forEach(F=>F._withDropContainer(this)),this.isDragging()&&(g.filter(H=>H.isDragging()).every(H=>-1===C.indexOf(H))?this._reset():this._cacheItems()),this}withDirection(C){return this._direction=C,this}connectedTo(C){return this._siblings=C.slice(),this}withOrientation(C){return this._orientation=C,this}withScrollableParents(C){const g=R(this.element);return this._scrollableElements=-1===C.indexOf(g)?[g,...C]:C.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(C){return this._isDragging?("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(F=>F.drag===C):this._draggables.indexOf(C)}isReceiving(){return this._activeSiblings.size>0}_sortItem(C,g,F,H){if(this.sortingDisabled||!this._clientRect||!si(this._clientRect,.05,g,F))return;const ce=this._itemPositions,Pe=this._getItemIndexFromPointerPosition(C,g,F,H);if(-1===Pe&&ce.length>0)return;const p="horizontal"===this._orientation,s=ce.findIndex(Te=>Te.drag===C),o=ce[Pe],k=o.clientRect,V=s>Pe?1:-1,re=this._getItemOffsetPx(ce[s].clientRect,k,V),oe=this._getSiblingOffsetPx(s,ce,V),ye=ce.slice();(function(K,C,g){const F=en(C,K.length-1),H=en(g,K.length-1);if(F===H)return;const ce=K[F],Pe=H<F?-1:1;for(let p=F;p!==H;p+=Pe)K[p]=K[p+Pe];K[H]=ce})(ce,s,Pe),this.sorted.next({previousIndex:s,currentIndex:Pe,container:this,item:C}),ce.forEach((Te,ze)=>{if(ye[ze]===Te)return;const Qe=Te.drag===C,at=Qe?re:oe,_t=Qe?C.getPlaceholderElement():Te.drag.getRootElement();Te.offset+=at,p?(_t.style.transform=Sn(`translate3d(${Math.round(Te.offset)}px, 0, 0)`,Te.initialTransform),lr(Te.clientRect,0,at)):(_t.style.transform=Sn(`translate3d(0, ${Math.round(Te.offset)}px, 0)`,Te.initialTransform),lr(Te.clientRect,at,0))}),this._previousSwap.overlaps=nr(k,g,F),this._previousSwap.drag=o.drag,this._previousSwap.delta=p?H.x:H.y}_startScrollingIfNecessary(C,g){if(this.autoScrollDisabled)return;let F,H=0,ce=0;if(this._parentPositions.positions.forEach((Pe,p)=>{p===this._document||!Pe.clientRect||F||si(Pe.clientRect,.05,C,g)&&([H,ce]=function(K,C,g,F){const H=vs(C,F),ce=ai(C,g);let Pe=0,p=0;if(H){const s=K.scrollTop;1===H?s>0&&(Pe=1):K.scrollHeight-s>K.clientHeight&&(Pe=2)}if(ce){const s=K.scrollLeft;1===ce?s>0&&(p=1):K.scrollWidth-s>K.clientWidth&&(p=2)}return[Pe,p]}(p,Pe.clientRect,C,g),(H||ce)&&(F=p))}),!H&&!ce){const{width:Pe,height:p}=this._viewportRuler.getViewportSize(),s={width:Pe,height:p,top:0,right:Pe,bottom:p,left:0};H=vs(s,g),ce=ai(s,C),F=window}F&&(H!==this._verticalScrollDirection||ce!==this._horizontalScrollDirection||F!==this._scrollNode)&&(this._verticalScrollDirection=H,this._horizontalScrollDirection=ce,this._scrollNode=F,(H||ce)&&F?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const C=R(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=C.msScrollSnapType||C.scrollSnapType||"",C.scrollSnapType=C.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const C=R(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(C).clientRect}_cacheItemPositions(){const C="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(g=>{const F=g.getVisibleElement();return{drag:g,offset:0,initialTransform:F.style.transform||"",clientRect:Cn(F)}}).sort((g,F)=>C?g.clientRect.left-F.clientRect.left:g.clientRect.top-F.clientRect.top)}_reset(){this._isDragging=!1;const C=R(this.element).style;C.scrollSnapType=C.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(g=>{const F=g.getRootElement();if(F){const H=this._itemPositions.find(ce=>ce.drag===g)?.initialTransform;F.style.transform=H||""}}),this._siblings.forEach(g=>g._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(C,g,F){const H="horizontal"===this._orientation,ce=g[C].clientRect,Pe=g[C+-1*F];let p=ce[H?"width":"height"]*F;if(Pe){const s=H?"left":"top",o=H?"right":"bottom";-1===F?p-=Pe.clientRect[s]-ce[o]:p+=ce[s]-Pe.clientRect[o]}return p}_getItemOffsetPx(C,g,F){const H="horizontal"===this._orientation;let ce=H?g.left-C.left:g.top-C.top;return-1===F&&(ce+=H?g.width-C.width:g.height-C.height),ce}_shouldEnterAsFirstChild(C,g){if(!this._activeDraggables.length)return!1;const F=this._itemPositions,H="horizontal"===this._orientation;if(F[0].drag!==this._activeDraggables[0]){const Pe=F[F.length-1].clientRect;return H?C>=Pe.right:g>=Pe.bottom}{const Pe=F[0].clientRect;return H?C<=Pe.left:g<=Pe.top}}_getItemIndexFromPointerPosition(C,g,F,H){const ce="horizontal"===this._orientation,Pe=this._itemPositions.findIndex(({drag:p,clientRect:s})=>{if(p===C)return!1;if(H){const o=ce?H.x:H.y;if(p===this._previousSwap.drag&&this._previousSwap.overlaps&&o===this._previousSwap.delta)return!1}return ce?g>=Math.floor(s.left)&&g<Math.floor(s.right):F>=Math.floor(s.top)&&F<Math.floor(s.bottom)});return-1!==Pe&&this.sortPredicate(Pe,C,this)?Pe:-1}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(C,g){return null!=this._clientRect&&nr(this._clientRect,C,g)}_getSiblingContainerFromPosition(C,g,F){return this._siblings.find(H=>H._canReceive(C,g,F))}_canReceive(C,g,F){if(!this._clientRect||!nr(this._clientRect,g,F)||!this.enterPredicate(C,this))return!1;const H=this._getShadowRoot().elementFromPoint(g,F);if(!H)return!1;const ce=R(this.element);return H===ce||ce.contains(H)}_startReceiving(C,g){const F=this._activeSiblings;!F.has(C)&&g.every(H=>this.enterPredicate(H,this)||this._draggables.indexOf(H)>-1)&&(F.add(C),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(C){this._activeSiblings.delete(C),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(C=>{if(this.isDragging()){const g=this._parentPositions.handleScroll(C);g&&(this._itemPositions.forEach(({clientRect:F})=>{lr(F,g.top,g.left)}),this._itemPositions.forEach(({drag:F})=>{this._dragDropRegistry.isDragging(F)&&F._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const C=ie(R(this.element));this._cachedShadowRoot=C||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const C=this._activeDraggables.filter(g=>g.isDragging());this._siblings.forEach(g=>g._startReceiving(this,C))}}function vs(K,C){const{top:g,bottom:F,height:H}=K,ce=.05*H;return C>=g-ce&&C<=g+ce?1:C>=F-ce&&C<=F+ce?2:0}function ai(K,C){const{left:g,right:F,width:H}=K,ce=.05*H;return C>=g-ce&&C<=g+ce?1:C>=F-ce&&C<=F+ce?2:0}const Pn=pe({passive:!1,capture:!0});let gs=(()=>{class K{constructor(g,F){this._ngZone=g,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=H=>H.isDragging(),this.pointerMove=new E.x,this.pointerUp=new E.x,this.scroll=new E.x,this._preventDefaultWhileDragging=H=>{this._activeDragInstances.length>0&&H.preventDefault()},this._persistentTouchmoveListener=H=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&H.preventDefault(),this.pointerMove.next(H))},this._document=F}registerDropContainer(g){this._dropInstances.has(g)||this._dropInstances.add(g)}registerDragItem(g){this._dragInstances.add(g),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Pn)})}removeDropContainer(g){this._dropInstances.delete(g)}removeDragItem(g){this._dragInstances.delete(g),this.stopDragging(g),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Pn)}startDragging(g,F){if(!(this._activeDragInstances.indexOf(g)>-1)&&(this._activeDragInstances.push(g),1===this._activeDragInstances.length)){const H=F.type.startsWith("touch");this._globalListeners.set(H?"touchend":"mouseup",{handler:ce=>this.pointerUp.next(ce),options:!0}).set("scroll",{handler:ce=>this.scroll.next(ce),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Pn}),H||this._globalListeners.set("mousemove",{handler:ce=>this.pointerMove.next(ce),options:Pn}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((ce,Pe)=>{this._document.addEventListener(Pe,ce.handler,ce.options)})})}}stopDragging(g){const F=this._activeDragInstances.indexOf(g);F>-1&&(this._activeDragInstances.splice(F,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(g){return this._activeDragInstances.indexOf(g)>-1}scrolled(g){const F=[this.scroll];return g&&g!==this._document&&F.push(new T.y(H=>this._ngZone.runOutsideAngular(()=>{const Pe=p=>{this._activeDragInstances.length&&H.next(p)};return g.addEventListener("scroll",Pe,!0),()=>{g.removeEventListener("scroll",Pe,!0)}}))),(0,ls.T)(...F)}ngOnDestroy(){this._dragInstances.forEach(g=>this.removeDragItem(g)),this._dropInstances.forEach(g=>this.removeDropContainer(g)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((g,F)=>{this._document.removeEventListener(F,g.handler,g.options)}),this._globalListeners.clear()}}return K.\u0275fac=function(g){return new(g||K)(_.\u0275\u0275inject(_.NgZone),_.\u0275\u0275inject(l.DOCUMENT))},K.\u0275prov=_.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();const Fi={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let ys=(()=>{class K{constructor(g,F,H,ce){this._document=g,this._ngZone=F,this._viewportRuler=H,this._dragDropRegistry=ce}createDrag(g,F=Fi){return new vo(g,F,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(g){return new Bi(g,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return K.\u0275fac=function(g){return new(g||K)(_.\u0275\u0275inject(l.DOCUMENT),_.\u0275\u0275inject(_.NgZone),_.\u0275\u0275inject(It),_.\u0275\u0275inject(gs))},K.\u0275prov=_.\u0275\u0275defineInjectable({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();const ui=new _.InjectionToken("CDK_DRAG_PARENT"),Ni=new _.InjectionToken("CdkDropListGroup"),ci=new _.InjectionToken("CDK_DRAG_CONFIG");let ji=0;const In=new _.InjectionToken("CdkDropList");let Ui=(()=>{class K{constructor(g,F,H,ce,Pe,p,s){this.element=g,this._changeDetectorRef=H,this._scrollDispatcher=ce,this._dir=Pe,this._group=p,this._destroyed=new E.x,this.connectedTo=[],this.id="cdk-drop-list-"+ji++,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new _.EventEmitter,this.entered=new _.EventEmitter,this.exited=new _.EventEmitter,this.sorted=new _.EventEmitter,this._unsortedItems=new Set,this._dropListRef=F.createDropList(g),this._dropListRef.data=this,s&&this._assignDefaults(s),this._dropListRef.enterPredicate=(o,m)=>this.enterPredicate(o.data,m.data),this._dropListRef.sortPredicate=(o,m,k)=>this.sortPredicate(o,m.data,k.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),K._dropLists.push(this),p&&p._items.add(this)}get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(g){this._dropListRef.disabled=this._disabled=O(g)}addItem(g){this._unsortedItems.add(g),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(g){this._unsortedItems.delete(g),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((g,F)=>g._dragRef.getVisibleElement().compareDocumentPosition(F._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){const g=K._dropLists.indexOf(this);g>-1&&K._dropLists.splice(g,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(g){this._dir&&this._dir.change.pipe((0,jt.O)(this._dir.value),(0,Or.R)(this._destroyed)).subscribe(F=>g.withDirection(F)),g.beforeStarted.subscribe(()=>{const F=function(K){return Array.isArray(K)?K:[K]}(this.connectedTo).map(H=>"string"==typeof H?K._dropLists.find(Pe=>Pe.id===H):H);if(this._group&&this._group._items.forEach(H=>{-1===F.indexOf(H)&&F.push(H)}),!this._scrollableParentsResolved){const H=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(ce=>ce.getElementRef().nativeElement);this._dropListRef.withScrollableParents(H),this._scrollableParentsResolved=!0}g.disabled=this.disabled,g.lockAxis=this.lockAxis,g.sortingDisabled=O(this.sortingDisabled),g.autoScrollDisabled=O(this.autoScrollDisabled),g.autoScrollStep=M(this.autoScrollStep,2),g.connectedTo(F.filter(H=>H&&H!==this).map(H=>H._dropListRef)).withOrientation(this.orientation)})}_handleEvents(g){g.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),g.entered.subscribe(F=>{this.entered.emit({container:this,item:F.item.data,currentIndex:F.currentIndex})}),g.exited.subscribe(F=>{this.exited.emit({container:this,item:F.item.data}),this._changeDetectorRef.markForCheck()}),g.sorted.subscribe(F=>{this.sorted.emit({previousIndex:F.previousIndex,currentIndex:F.currentIndex,container:this,item:F.item.data})}),g.dropped.subscribe(F=>{this.dropped.emit({previousIndex:F.previousIndex,currentIndex:F.currentIndex,previousContainer:F.previousContainer.data,container:F.container.data,item:F.item.data,isPointerOverContainer:F.isPointerOverContainer,distance:F.distance,dropPoint:F.dropPoint}),this._changeDetectorRef.markForCheck()})}_assignDefaults(g){const{lockAxis:F,draggingDisabled:H,sortingDisabled:ce,listAutoScrollDisabled:Pe,listOrientation:p}=g;this.disabled=H??!1,this.sortingDisabled=ce??!1,this.autoScrollDisabled=Pe??!1,this.orientation=p||"vertical",F&&(this.lockAxis=F)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(g=>g._dragRef))}}return K._dropLists=[],K.\u0275fac=function(g){return new(g||K)(_.\u0275\u0275directiveInject(_.ElementRef),_.\u0275\u0275directiveInject(ys),_.\u0275\u0275directiveInject(_.ChangeDetectorRef),_.\u0275\u0275directiveInject(qe),_.\u0275\u0275directiveInject(xr,8),_.\u0275\u0275directiveInject(Ni,12),_.\u0275\u0275directiveInject(ci,8))},K.\u0275dir=_.\u0275\u0275defineDirective({type:K,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(g,F){2&g&&(_.\u0275\u0275attribute("id",F.id),_.\u0275\u0275classProp("cdk-drop-list-disabled",F.disabled)("cdk-drop-list-dragging",F._dropListRef.isDragging())("cdk-drop-list-receiving",F._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],data:["cdkDropListData","data"],orientation:["cdkDropListOrientation","orientation"],id:"id",lockAxis:["cdkDropListLockAxis","lockAxis"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[_.\u0275\u0275ProvidersFeature([{provide:Ni,useValue:void 0},{provide:In,useExisting:K}])]}),K})();const Qn=new _.InjectionToken("CdkDragHandle"),zi=new _.InjectionToken("CdkDragPlaceholder");let Wi=(()=>{class K{constructor(g){this.templateRef=g}}return K.\u0275fac=function(g){return new(g||K)(_.\u0275\u0275directiveInject(_.TemplateRef))},K.\u0275dir=_.\u0275\u0275defineDirective({type:K,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"},features:[_.\u0275\u0275ProvidersFeature([{provide:zi,useExisting:K}])]}),K})();const Vi=new _.InjectionToken("CdkDragPreview");let ws=(()=>{class K{constructor(g,F,H,ce,Pe,p,s,o,m,k,V){this.element=g,this.dropContainer=F,this._ngZone=ce,this._viewContainerRef=Pe,this._dir=s,this._changeDetectorRef=m,this._selfHandle=k,this._parentDrag=V,this._destroyed=new E.x,this.started=new _.EventEmitter,this.released=new _.EventEmitter,this.ended=new _.EventEmitter,this.entered=new _.EventEmitter,this.exited=new _.EventEmitter,this.dropped=new _.EventEmitter,this.moved=new T.y(re=>{const oe=this._dragRef.moved.pipe((0,ho.U)(ye=>({source:this,pointerPosition:ye.pointerPosition,event:ye.event,delta:ye.delta,distance:ye.distance}))).subscribe(re);return()=>{oe.unsubscribe()}}),this._dragRef=o.createDrag(g,{dragStartThreshold:p&&null!=p.dragStartThreshold?p.dragStartThreshold:5,pointerDirectionChangeThreshold:p&&null!=p.pointerDirectionChangeThreshold?p.pointerDirectionChangeThreshold:5,zIndex:p?.zIndex}),this._dragRef.data=this,K._dragInstances.push(this),p&&this._assignDefaults(p),F&&(this._dragRef._withDropContainer(F._dropListRef),F.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(g){this._disabled=O(g),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe((0,Vn.q)(1),(0,Or.R)(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(g){const F=g.rootElementSelector,H=g.freeDragPosition;F&&!F.firstChange&&this._updateRootElement(),H&&!H.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const g=K._dragInstances.indexOf(this);g>-1&&K._dragInstances.splice(g,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const g=this.element.nativeElement;let F=g;this.rootElementSelector&&(F=void 0!==g.closest?g.closest(this.rootElementSelector):g.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(F||g)}_getBoundaryElement(){const g=this.boundaryElement;return g?"string"==typeof g?this.element.nativeElement.closest(g):R(g):null}_syncInputs(g){g.beforeStarted.subscribe(()=>{if(!g.isDragging()){const F=this._dir,H=this.dragStartDelay,ce=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,Pe=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;g.disabled=this.disabled,g.lockAxis=this.lockAxis,g.dragStartDelay="object"==typeof H&&H?H:M(H),g.constrainPosition=this.constrainPosition,g.previewClass=this.previewClass,g.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(ce).withPreviewTemplate(Pe).withPreviewContainer(this.previewContainer||"global"),F&&g.withDirection(F.value)}}),g.beforeStarted.pipe((0,Vn.q)(1)).subscribe(()=>{if(this._parentDrag)return void g.withParent(this._parentDrag._dragRef);let F=this.element.nativeElement.parentElement;for(;F;){if(F.classList.contains("cdk-drag")){g.withParent(K._dragInstances.find(H=>H.element.nativeElement===F)?._dragRef||null);break}F=F.parentElement}})}_handleEvents(g){g.started.subscribe(()=>{this.started.emit({source:this}),this._changeDetectorRef.markForCheck()}),g.released.subscribe(()=>{this.released.emit({source:this})}),g.ended.subscribe(F=>{this.ended.emit({source:this,distance:F.distance,dropPoint:F.dropPoint}),this._changeDetectorRef.markForCheck()}),g.entered.subscribe(F=>{this.entered.emit({container:F.container.data,item:this,currentIndex:F.currentIndex})}),g.exited.subscribe(F=>{this.exited.emit({container:F.container.data,item:this})}),g.dropped.subscribe(F=>{this.dropped.emit({previousIndex:F.previousIndex,currentIndex:F.currentIndex,previousContainer:F.previousContainer.data,container:F.container.data,isPointerOverContainer:F.isPointerOverContainer,item:this,distance:F.distance,dropPoint:F.dropPoint})})}_assignDefaults(g){const{lockAxis:F,dragStartDelay:H,constrainPosition:ce,previewClass:Pe,boundaryElement:p,draggingDisabled:s,rootElementSelector:o,previewContainer:m}=g;this.disabled=s??!1,this.dragStartDelay=H||0,F&&(this.lockAxis=F),ce&&(this.constrainPosition=ce),Pe&&(this.previewClass=Pe),p&&(this.boundaryElement=p),o&&(this.rootElementSelector=o),m&&(this.previewContainer=m)}_setupHandlesListener(){this._handles.changes.pipe((0,jt.O)(this._handles),(0,Ri.b)(g=>{const F=g.filter(H=>H._parentDrag===this).map(H=>H.element);this._selfHandle&&this.rootElementSelector&&F.push(this.element),this._dragRef.withHandles(F)}),(0,po.w)(g=>(0,ls.T)(...g.map(F=>F._stateChanges.pipe((0,jt.O)(F))))),(0,Or.R)(this._destroyed)).subscribe(g=>{const F=this._dragRef,H=g.element.nativeElement;g.disabled?F.disableHandle(H):F.enableHandle(H)})}}return K._dragInstances=[],K.\u0275fac=function(g){return new(g||K)(_.\u0275\u0275directiveInject(_.ElementRef),_.\u0275\u0275directiveInject(In,12),_.\u0275\u0275directiveInject(l.DOCUMENT),_.\u0275\u0275directiveInject(_.NgZone),_.\u0275\u0275directiveInject(_.ViewContainerRef),_.\u0275\u0275directiveInject(ci,8),_.\u0275\u0275directiveInject(xr,8),_.\u0275\u0275directiveInject(ys),_.\u0275\u0275directiveInject(_.ChangeDetectorRef),_.\u0275\u0275directiveInject(Qn,10),_.\u0275\u0275directiveInject(ui,12))},K.\u0275dir=_.\u0275\u0275defineDirective({type:K,selectors:[["","cdkDrag",""]],contentQueries:function(g,F,H){if(1&g&&(_.\u0275\u0275contentQuery(H,Vi,5),_.\u0275\u0275contentQuery(H,zi,5),_.\u0275\u0275contentQuery(H,Qn,5)),2&g){let ce;_.\u0275\u0275queryRefresh(ce=_.\u0275\u0275loadQuery())&&(F._previewTemplate=ce.first),_.\u0275\u0275queryRefresh(ce=_.\u0275\u0275loadQuery())&&(F._placeholderTemplate=ce.first),_.\u0275\u0275queryRefresh(ce=_.\u0275\u0275loadQuery())&&(F._handles=ce)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(g,F){2&g&&_.\u0275\u0275classProp("cdk-drag-disabled",F.disabled)("cdk-drag-dragging",F._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[_.\u0275\u0275ProvidersFeature([{provide:ui,useExisting:K}]),_.\u0275\u0275NgOnChangesFeature]}),K})(),Ss=(()=>{class K{}return K.\u0275fac=function(g){return new(g||K)},K.\u0275mod=_.\u0275\u0275defineNgModule({type:K}),K.\u0275inj=_.\u0275\u0275defineInjector({providers:[ys],imports:[Jt]}),K})()},1481:(ae,N,c)=>{c.d(N,{b2:()=>tr,H7:()=>zr,q6:()=>Lr,se:()=>J});var _=c(1457),l=c(7777);class O extends _.\u0275DomAdapter{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class M extends O{static makeCurrent(){(0,_.\u0275setRootDomAdapter)(new M)}onAndCancel(ve,se,Ae){return ve.addEventListener(se,Ae,!1),()=>{ve.removeEventListener(se,Ae,!1)}}dispatchEvent(ve,se){ve.dispatchEvent(se)}remove(ve){ve.parentNode&&ve.parentNode.removeChild(ve)}createElement(ve,se){return(se=se||this.getDefaultDocument()).createElement(ve)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ve){return ve.nodeType===Node.ELEMENT_NODE}isShadowRoot(ve){return ve instanceof DocumentFragment}getGlobalEventTarget(ve,se){return"window"===se?window:"document"===se?ve:"body"===se?ve.body:null}getBaseHref(ve){const se=(B=B||document.querySelector("base"),B?B.getAttribute("href"):null);return null==se?null:function(De){U=U||document.createElement("a"),U.setAttribute("href",De);const ve=U.pathname;return"/"===ve.charAt(0)?ve:`/${ve}`}(se)}resetBaseElement(){B=null}getUserAgent(){return window.navigator.userAgent}getCookie(ve){return(0,_.\u0275parseCookieValue)(document.cookie,ve)}}let U,B=null;const D=new l.InjectionToken("TRANSITION_ID"),b=[{provide:l.APP_INITIALIZER,useFactory:function(De,ve,se){return()=>{se.get(l.ApplicationInitStatus).donePromise.then(()=>{const Ae=(0,_.\u0275getDOM)(),Ue=ve.querySelectorAll(`style[ng-transition="${De}"]`);for(let tt=0;tt<Ue.length;tt++)Ae.remove(Ue[tt])})}},deps:[D,_.DOCUMENT,l.Injector],multi:!0}];class T{static init(){(0,l.setTestabilityGetter)(new T)}addToWindow(ve){l.\u0275global.getAngularTestability=(Ae,Ue=!0)=>{const tt=ve.findTestabilityInTree(Ae,Ue);if(null==tt)throw new Error("Could not find testability for element.");return tt},l.\u0275global.getAllAngularTestabilities=()=>ve.getAllTestabilities(),l.\u0275global.getAllAngularRootElements=()=>ve.getAllRootElements(),l.\u0275global.frameworkStabilizers||(l.\u0275global.frameworkStabilizers=[]),l.\u0275global.frameworkStabilizers.push(Ae=>{const Ue=l.\u0275global.getAllAngularTestabilities();let tt=Ue.length,Tt=!1;const _r=function(hr){Tt=Tt||hr,tt--,0==tt&&Ae(Tt)};Ue.forEach(function(hr){hr.whenStable(_r)})})}findTestabilityInTree(ve,se,Ae){return null==se?null:ve.getTestability(se)??(Ae?(0,_.\u0275getDOM)().isShadowRoot(se)?this.findTestabilityInTree(ve,se.host,!0):this.findTestabilityInTree(ve,se.parentElement,!0):null)}}let P=(()=>{class De{build(){return new XMLHttpRequest}}return De.\u0275fac=function(se){return new(se||De)},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})();const L=new l.InjectionToken("EventManagerPlugins");let I=(()=>{class De{constructor(se,Ae){this._zone=Ae,this._eventNameToPlugin=new Map,se.forEach(Ue=>Ue.manager=this),this._plugins=se.slice().reverse()}addEventListener(se,Ae,Ue){return this._findPluginFor(Ae).addEventListener(se,Ae,Ue)}addGlobalEventListener(se,Ae,Ue){return this._findPluginFor(Ae).addGlobalEventListener(se,Ae,Ue)}getZone(){return this._zone}_findPluginFor(se){const Ae=this._eventNameToPlugin.get(se);if(Ae)return Ae;const Ue=this._plugins;for(let tt=0;tt<Ue.length;tt++){const Tt=Ue[tt];if(Tt.supports(se))return this._eventNameToPlugin.set(se,Tt),Tt}throw new Error(`No event manager plugin found for event ${se}`)}}return De.\u0275fac=function(se){return new(se||De)(l.\u0275\u0275inject(L),l.\u0275\u0275inject(l.NgZone))},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})();class w{constructor(ve){this._doc=ve}addGlobalEventListener(ve,se,Ae){const Ue=(0,_.\u0275getDOM)().getGlobalEventTarget(this._doc,ve);if(!Ue)throw new Error(`Unsupported event target ${Ue} for event ${se}`);return this.addEventListener(Ue,se,Ae)}}let y=(()=>{class De{constructor(){this._stylesSet=new Set}addStyles(se){const Ae=new Set;se.forEach(Ue=>{this._stylesSet.has(Ue)||(this._stylesSet.add(Ue),Ae.add(Ue))}),this.onStylesAdded(Ae)}onStylesAdded(se){}getAllStyles(){return Array.from(this._stylesSet)}}return De.\u0275fac=function(se){return new(se||De)},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})(),u=(()=>{class De extends y{constructor(se){super(),this._doc=se,this._hostNodes=new Map,this._hostNodes.set(se.head,[])}_addStylesToHost(se,Ae,Ue){se.forEach(tt=>{const Tt=this._doc.createElement("style");Tt.textContent=tt,Ue.push(Ae.appendChild(Tt))})}addHost(se){const Ae=[];this._addStylesToHost(this._stylesSet,se,Ae),this._hostNodes.set(se,Ae)}removeHost(se){const Ae=this._hostNodes.get(se);Ae&&Ae.forEach(a),this._hostNodes.delete(se)}onStylesAdded(se){this._hostNodes.forEach((Ae,Ue)=>{this._addStylesToHost(se,Ue,Ae)})}ngOnDestroy(){this._hostNodes.forEach(se=>se.forEach(a))}}return De.\u0275fac=function(se){return new(se||De)(l.\u0275\u0275inject(_.DOCUMENT))},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})();function a(De){(0,_.\u0275getDOM)().remove(De)}const v={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},h=/%COMP%/g;function z(De,ve,se){for(let Ae=0;Ae<ve.length;Ae++){let Ue=ve[Ae];Array.isArray(Ue)?z(De,Ue,se):(Ue=Ue.replace(h,De),se.push(Ue))}return se}function Y(De){return ve=>{if("__ngUnwrap__"===ve)return De;!1===De(ve)&&(ve.preventDefault(),ve.returnValue=!1)}}let J=(()=>{class De{constructor(se,Ae,Ue){this.eventManager=se,this.sharedStylesHost=Ae,this.appId=Ue,this.rendererByCompId=new Map,this.defaultRenderer=new $(se)}createRenderer(se,Ae){if(!se||!Ae)return this.defaultRenderer;switch(Ae.encapsulation){case l.ViewEncapsulation.Emulated:{let Ue=this.rendererByCompId.get(Ae.id);return Ue||(Ue=new Le(this.eventManager,this.sharedStylesHost,Ae,this.appId),this.rendererByCompId.set(Ae.id,Ue)),Ue.applyToHost(se),Ue}case 1:case l.ViewEncapsulation.ShadowDom:return new me(this.eventManager,this.sharedStylesHost,se,Ae);default:if(!this.rendererByCompId.has(Ae.id)){const Ue=z(Ae.id,Ae.styles,[]);this.sharedStylesHost.addStyles(Ue),this.rendererByCompId.set(Ae.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return De.\u0275fac=function(se){return new(se||De)(l.\u0275\u0275inject(I),l.\u0275\u0275inject(u),l.\u0275\u0275inject(l.APP_ID))},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})();class ${constructor(ve){this.eventManager=ve,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ve,se){return se?document.createElementNS(v[se]||se,ve):document.createElement(ve)}createComment(ve){return document.createComment(ve)}createText(ve){return document.createTextNode(ve)}appendChild(ve,se){ve.appendChild(se)}insertBefore(ve,se,Ae){ve&&ve.insertBefore(se,Ae)}removeChild(ve,se){ve&&ve.removeChild(se)}selectRootElement(ve,se){let Ae="string"==typeof ve?document.querySelector(ve):ve;if(!Ae)throw new Error(`The selector "${ve}" did not match any elements`);return se||(Ae.textContent=""),Ae}parentNode(ve){return ve.parentNode}nextSibling(ve){return ve.nextSibling}setAttribute(ve,se,Ae,Ue){if(Ue){se=Ue+":"+se;const tt=v[Ue];tt?ve.setAttributeNS(tt,se,Ae):ve.setAttribute(se,Ae)}else ve.setAttribute(se,Ae)}removeAttribute(ve,se,Ae){if(Ae){const Ue=v[Ae];Ue?ve.removeAttributeNS(Ue,se):ve.removeAttribute(`${Ae}:${se}`)}else ve.removeAttribute(se)}addClass(ve,se){ve.classList.add(se)}removeClass(ve,se){ve.classList.remove(se)}setStyle(ve,se,Ae,Ue){Ue&(l.RendererStyleFlags2.DashCase|l.RendererStyleFlags2.Important)?ve.style.setProperty(se,Ae,Ue&l.RendererStyleFlags2.Important?"important":""):ve.style[se]=Ae}removeStyle(ve,se,Ae){Ae&l.RendererStyleFlags2.DashCase?ve.style.removeProperty(se):ve.style[se]=""}setProperty(ve,se,Ae){ve[se]=Ae}setValue(ve,se){ve.nodeValue=se}listen(ve,se,Ae){return"string"==typeof ve?this.eventManager.addGlobalEventListener(ve,se,Y(Ae)):this.eventManager.addEventListener(ve,se,Y(Ae))}}class Le extends ${constructor(ve,se,Ae,Ue){super(ve),this.component=Ae;const tt=z(Ue+"-"+Ae.id,Ae.styles,[]);se.addStyles(tt),this.contentAttr="_ngcontent-%COMP%".replace(h,Ue+"-"+Ae.id),this.hostAttr="_nghost-%COMP%".replace(h,Ue+"-"+Ae.id)}applyToHost(ve){super.setAttribute(ve,this.hostAttr,"")}createElement(ve,se){const Ae=super.createElement(ve,se);return super.setAttribute(Ae,this.contentAttr,""),Ae}}class me extends ${constructor(ve,se,Ae,Ue){super(ve),this.sharedStylesHost=se,this.hostEl=Ae,this.shadowRoot=Ae.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const tt=z(Ue.id,Ue.styles,[]);for(let Tt=0;Tt<tt.length;Tt++){const _r=document.createElement("style");_r.textContent=tt[Tt],this.shadowRoot.appendChild(_r)}}nodeOrShadowRoot(ve){return ve===this.hostEl?this.shadowRoot:ve}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ve,se){return super.appendChild(this.nodeOrShadowRoot(ve),se)}insertBefore(ve,se,Ae){return super.insertBefore(this.nodeOrShadowRoot(ve),se,Ae)}removeChild(ve,se){return super.removeChild(this.nodeOrShadowRoot(ve),se)}parentNode(ve){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ve)))}}let ge=(()=>{class De extends w{constructor(se){super(se)}supports(se){return!0}addEventListener(se,Ae,Ue){return se.addEventListener(Ae,Ue,!1),()=>this.removeEventListener(se,Ae,Ue)}removeEventListener(se,Ae,Ue){return se.removeEventListener(Ae,Ue)}}return De.\u0275fac=function(se){return new(se||De)(l.\u0275\u0275inject(_.DOCUMENT))},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})();const te=["alt","control","meta","shift"],Re={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fe={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Je={alt:De=>De.altKey,control:De=>De.ctrlKey,meta:De=>De.metaKey,shift:De=>De.shiftKey};let st=(()=>{class De extends w{constructor(se){super(se)}supports(se){return null!=De.parseEventName(se)}addEventListener(se,Ae,Ue){const tt=De.parseEventName(Ae),Tt=De.eventCallback(tt.fullKey,Ue,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.\u0275getDOM)().onAndCancel(se,tt.domEventName,Tt))}static parseEventName(se){const Ae=se.toLowerCase().split("."),Ue=Ae.shift();if(0===Ae.length||"keydown"!==Ue&&"keyup"!==Ue)return null;const tt=De._normalizeKey(Ae.pop());let Tt="";if(te.forEach(hr=>{const Ln=Ae.indexOf(hr);Ln>-1&&(Ae.splice(Ln,1),Tt+=hr+".")}),Tt+=tt,0!=Ae.length||0===tt.length)return null;const _r={};return _r.domEventName=Ue,_r.fullKey=Tt,_r}static getEventFullKey(se){let Ae="",Ue=function(De){let ve=De.key;if(null==ve){if(ve=De.keyIdentifier,null==ve)return"Unidentified";ve.startsWith("U+")&&(ve=String.fromCharCode(parseInt(ve.substring(2),16)),3===De.location&&Fe.hasOwnProperty(ve)&&(ve=Fe[ve]))}return Re[ve]||ve}(se);return Ue=Ue.toLowerCase()," "===Ue?Ue="space":"."===Ue&&(Ue="dot"),te.forEach(tt=>{tt!=Ue&&Je[tt](se)&&(Ae+=tt+".")}),Ae+=Ue,Ae}static eventCallback(se,Ae,Ue){return tt=>{De.getEventFullKey(tt)===se&&Ue.runGuarded(()=>Ae(tt))}}static _normalizeKey(se){return"esc"===se?"escape":se}}return De.\u0275fac=function(se){return new(se||De)(l.\u0275\u0275inject(_.DOCUMENT))},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:De.\u0275fac}),De})();const Lr=(0,l.createPlatformFactory)(l.platformCore,"browser",[{provide:l.PLATFORM_ID,useValue:_.\u0275PLATFORM_BROWSER_ID},{provide:l.PLATFORM_INITIALIZER,useValue:function(){M.makeCurrent(),T.init()},multi:!0},{provide:_.DOCUMENT,useFactory:function(){return(0,l.\u0275setDocument)(document),document},deps:[]}]),ar=[{provide:l.\u0275INJECTOR_SCOPE,useValue:"root"},{provide:l.ErrorHandler,useFactory:function(){return new l.ErrorHandler},deps:[]},{provide:L,useClass:ge,multi:!0,deps:[_.DOCUMENT,l.NgZone,l.PLATFORM_ID]},{provide:L,useClass:st,multi:!0,deps:[_.DOCUMENT]},{provide:J,useClass:J,deps:[I,u,l.APP_ID]},{provide:l.RendererFactory2,useExisting:J},{provide:y,useExisting:u},{provide:u,useClass:u,deps:[_.DOCUMENT]},{provide:l.Testability,useClass:l.Testability,deps:[l.NgZone]},{provide:I,useClass:I,deps:[L,l.NgZone]},{provide:_.XhrFactory,useClass:P,deps:[]}];let tr=(()=>{class De{constructor(se){if(se)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(se){return{ngModule:De,providers:[{provide:l.APP_ID,useValue:se.appId},{provide:D,useExisting:l.APP_ID},b]}}}return De.\u0275fac=function(se){return new(se||De)(l.\u0275\u0275inject(De,12))},De.\u0275mod=l.\u0275\u0275defineNgModule({type:De}),De.\u0275inj=l.\u0275\u0275defineInjector({providers:ar,imports:[_.CommonModule,l.ApplicationModule]}),De})();"undefined"!=typeof window&&window;let zr=(()=>{class De{}return De.\u0275fac=function(se){return new(se||De)},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:function(se){let Ae=null;return Ae=se?new(se||De):l.\u0275\u0275inject(kn),Ae},providedIn:"root"}),De})(),kn=(()=>{class De extends zr{constructor(se){super(),this._doc=se}sanitize(se,Ae){if(null==Ae)return null;switch(se){case l.SecurityContext.NONE:return Ae;case l.SecurityContext.HTML:return(0,l.\u0275allowSanitizationBypassAndThrow)(Ae,"HTML")?(0,l.\u0275unwrapSafeValue)(Ae):(0,l.\u0275_sanitizeHtml)(this._doc,String(Ae)).toString();case l.SecurityContext.STYLE:return(0,l.\u0275allowSanitizationBypassAndThrow)(Ae,"Style")?(0,l.\u0275unwrapSafeValue)(Ae):Ae;case l.SecurityContext.SCRIPT:if((0,l.\u0275allowSanitizationBypassAndThrow)(Ae,"Script"))return(0,l.\u0275unwrapSafeValue)(Ae);throw new Error("unsafe value used in a script context");case l.SecurityContext.URL:return(0,l.\u0275getSanitizationBypassType)(Ae),(0,l.\u0275allowSanitizationBypassAndThrow)(Ae,"URL")?(0,l.\u0275unwrapSafeValue)(Ae):(0,l.\u0275_sanitizeUrl)(String(Ae));case l.SecurityContext.RESOURCE_URL:if((0,l.\u0275allowSanitizationBypassAndThrow)(Ae,"ResourceURL"))return(0,l.\u0275unwrapSafeValue)(Ae);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${se} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(se){return(0,l.\u0275bypassSanitizationTrustHtml)(se)}bypassSecurityTrustStyle(se){return(0,l.\u0275bypassSanitizationTrustStyle)(se)}bypassSecurityTrustScript(se){return(0,l.\u0275bypassSanitizationTrustScript)(se)}bypassSecurityTrustUrl(se){return(0,l.\u0275bypassSanitizationTrustUrl)(se)}bypassSecurityTrustResourceUrl(se){return(0,l.\u0275bypassSanitizationTrustResourceUrl)(se)}}return De.\u0275fac=function(se){return new(se||De)(l.\u0275\u0275inject(_.DOCUMENT))},De.\u0275prov=l.\u0275\u0275defineInjectable({token:De,factory:function(se){let Ae=null;return Ae=se?new se:function(De){return new kn(De.get(_.DOCUMENT))}(l.\u0275\u0275inject(l.Injector)),Ae},providedIn:"root"}),De})()},5861:(ae,N,c)=>{function _(O,M,B,x,U,R,D){try{var E=O[R](D),b=E.value}catch(T){return void B(T)}E.done?M(b):Promise.resolve(b).then(x,U)}function l(O){return function(){var M=this,B=arguments;return new Promise(function(x,U){var R=O.apply(M,B);function D(b){_(R,x,U,D,E,"next",b)}function E(b){_(R,x,U,D,E,"throw",b)}D(void 0)})}}c.d(N,{Z:()=>l})}}]);