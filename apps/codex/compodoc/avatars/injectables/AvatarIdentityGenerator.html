<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>@central-factory/metaverse documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css" media="(prefers-color-scheme: dark)">
        <link rel="stylesheet" href="../styles/postmark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">@central-factory/metaverse documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Injectables</li>
  <li >AvatarIdentityGenerator</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>libs/avatars/src/lib/data/generators/avatar-identity.generator.ts</code>
        </p>





            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#generate" >generate</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#generateBirthDate" >generateBirthDate</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#generateBirthPlace" >generateBirthPlace</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#generateCulture" >generateCulture</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#generateFamilyName" >generateFamilyName</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#generateGivenName" >generateGivenName</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#generateMainProfession" >generateMainProfession</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#generateReligion" >generateReligion</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#generateSecondaryProfession" >generateSecondaryProfession</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>


            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generate"></a>
                    <span class="name">
                        <span ><b>generate</b></span>
                        <a href="#generate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>generate(preset: <a href="../undefineds/Avatar.html" target="_self">Partial&lt;Avatar&gt;</a>, undefined: World)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="17"
                            class="link-to-prism">libs/avatars/src/lib/data/generators/avatar-identity.generator.ts:17</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>preset</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Avatar" target="_self" >Partial&lt;Avatar&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>{}</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>
                                            <code>World</code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#AvatarIdentity" target="_self" >AvatarIdentity</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateBirthDate"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>generateBirthDate</b></span>
                        <a href="#generateBirthDate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>generateBirthDate(preset: <a href="../undefineds/Avatar.html" target="_self">Partial&lt;Avatar&gt;</a>, archetype?: <a href="../undefineds/Avatar.html" target="_self">Partial&lt;Avatar&gt;</a>, parents?: <a href="../undefineds/Avatar.html" target="_self">Avatar[]</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="98"
                            class="link-to-prism">libs/avatars/src/lib/data/generators/avatar-identity.generator.ts:98</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>preset</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Avatar" target="_self" >Partial&lt;Avatar&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>archetype</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Avatar" target="_self" >Partial&lt;Avatar&gt;</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                                <tr>
                                    <td>parents</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Avatar" target="_self" >Avatar[]</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateBirthPlace"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>generateBirthPlace</b></span>
                        <a href="#generateBirthPlace"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>generateBirthPlace(preset: <a href="../undefineds/Avatar.html" target="_self">Partial&lt;Avatar&gt;</a>, burgs: Burg[])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="123"
                            class="link-to-prism">libs/avatars/src/lib/data/generators/avatar-identity.generator.ts:123</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>preset</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Avatar" target="_self" >Partial&lt;Avatar&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>burgs</td>
                                    <td>
                                            <code>Burg[]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>number | undefined</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateCulture"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>generateCulture</b></span>
                        <a href="#generateCulture"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>generateCulture(preset: <a href="../undefineds/Avatar.html" target="_self">Partial&lt;Avatar&gt;</a>, burg?: Burg, world?: World)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="137"
                            class="link-to-prism">libs/avatars/src/lib/data/generators/avatar-identity.generator.ts:137</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>preset</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Avatar" target="_self" >Partial&lt;Avatar&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>burg</td>
                                    <td>
                                            <code>Burg</code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                                <tr>
                                    <td>world</td>
                                    <td>
                                            <code>World</code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>number | undefined</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateFamilyName"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>generateFamilyName</b></span>
                        <a href="#generateFamilyName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>generateFamilyName(preset: <a href="../undefineds/Avatar.html" target="_self">Partial&lt;Avatar&gt;</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="89"
                            class="link-to-prism">libs/avatars/src/lib/data/generators/avatar-identity.generator.ts:89</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>preset</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Avatar" target="_self" >Partial&lt;Avatar&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateGivenName"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>generateGivenName</b></span>
                        <a href="#generateGivenName"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>generateGivenName(preset: <a href="../undefineds/Avatar.html" target="_self">Partial&lt;Avatar&gt;</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="80"
                            class="link-to-prism">libs/avatars/src/lib/data/generators/avatar-identity.generator.ts:80</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>preset</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Avatar" target="_self" >Partial&lt;Avatar&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateMainProfession"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>generateMainProfession</b></span>
                        <a href="#generateMainProfession"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>generateMainProfession(preset: <a href="../undefineds/Avatar.html" target="_self">Partial&lt;Avatar&gt;</a>, archetype?: <a href="../undefineds/Avatar.html" target="_self">Partial&lt;Avatar&gt;</a>, parents: <a href="../undefineds/Avatar.html" target="_self">Avatar[]</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="161"
                            class="link-to-prism">libs/avatars/src/lib/data/generators/avatar-identity.generator.ts:161</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>preset</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Avatar" target="_self" >Partial&lt;Avatar&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>archetype</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Avatar" target="_self" >Partial&lt;Avatar&gt;</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>parents</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Avatar" target="_self" >Avatar[]</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>[]</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateReligion"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>generateReligion</b></span>
                        <a href="#generateReligion"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>generateReligion(preset: <a href="../undefineds/Avatar.html" target="_self">Partial&lt;Avatar&gt;</a>, burgCell?: MapCell, world?: World)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="149"
                            class="link-to-prism">libs/avatars/src/lib/data/generators/avatar-identity.generator.ts:149</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>preset</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Avatar" target="_self" >Partial&lt;Avatar&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>burgCell</td>
                                    <td>
                                            <code>MapCell</code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                                <tr>
                                    <td>world</td>
                                    <td>
                                            <code>World</code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>number | undefined</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="generateSecondaryProfession"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>generateSecondaryProfession</b></span>
                        <a href="#generateSecondaryProfession"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>generateSecondaryProfession(preset: <a href="../undefineds/Avatar.html" target="_self">Partial&lt;Avatar&gt;</a>, archetype?: <a href="../undefineds/Avatar.html" target="_self">Partial&lt;Avatar&gt;</a>, parents: <a href="../undefineds/Avatar.html" target="_self">Avatar[]</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="174"
                            class="link-to-prism">libs/avatars/src/lib/data/generators/avatar-identity.generator.ts:174</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>preset</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Avatar" target="_self" >Partial&lt;Avatar&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>archetype</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Avatar" target="_self" >Partial&lt;Avatar&gt;</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>parents</td>
                                    <td>
                                                <code><a href="../miscellaneous/typealiases.html#Avatar" target="_self" >Avatar[]</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>[]</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Injectable } from &#x27;@angular/core&#x27;;
import { Burg, MapCell } from &#x27;@central-factory/worlds/models/fmg-map&#x27;;
import { World } from &#x27;@central-factory/worlds/models/world&#x27;;
import faker from &#x27;@faker-js/faker/locale/en_US&#x27;;
import {
  Avatar,
  AvatarIdentity,
  AvatarRelationshipKind,
  BodyType,
} from &#x27;../../models/avatar&#x27;;
import { professions } from &#x27;../demo/professions.data&#x27;;

@Injectable({
  providedIn: &#x27;root&#x27;,
})
export class AvatarIdentityGenerator {
  generate(
    preset: Partial&lt;Avatar&gt; &#x3D; {},
    { map, archetypes, avatars }: World
  ): AvatarIdentity {
    const { burgs, cells } &#x3D; map.cells;

    const gender &#x3D;
      preset.identity?.gender ||
      preset.appearance?.body?.type ||
      faker.random.arrayElement(Object.values(BodyType));

    const birthPlace &#x3D;
      preset.identity?.birthPlace || this.generateBirthPlace(preset, burgs);
    const burg &#x3D; burgs.find((b) &#x3D;&gt; b.i &#x3D;&#x3D;&#x3D; birthPlace) || burgs[0];
    const burgCell &#x3D; cells.find((cell) &#x3D;&gt; cell.i &#x3D;&#x3D;&#x3D; burg.cell);

    const archetype &#x3D; archetypes?.find(
      (archetype) &#x3D;&gt; archetype.id &#x3D;&#x3D;&#x3D; preset.identity?.archetype
    );

    const relationships &#x3D; preset.relationships || [];

    const parents &#x3D; relationships
      .filter(
        (relationship) &#x3D;&gt; relationship.kind &#x3D;&#x3D;&#x3D; AvatarRelationshipKind.Parent
      )
      .map((relationship) &#x3D;&gt;
        avatars?.find((avatar) &#x3D;&gt; avatar.id &#x3D;&#x3D;&#x3D; relationship.avatar)
      ) as Avatar[];

    Object.assign(preset, {
      identity: {
        ...preset.identity,
        gender,
        birthPlace,
      },
    });

    return {
      archetype: archetype?.id,
      icon: archetype?.identity?.icon,
      givenName: this.generateGivenName(preset),
      familyName: this.generateFamilyName(preset),
      gender,
      birthDate: this.generateBirthDate(preset, archetype, parents),
      birthPlace: birthPlace,
      culture: this.generateCulture(preset, burg, {
        map,
        archetypes,
      }),
      religion: this.generateReligion(preset, burgCell, {
        map,
        archetypes,
      }),
      mainProfession: this.generateMainProfession(preset, archetype, parents),
      secondaryProfession: this.generateSecondaryProfession(
        preset,
        archetype,
        parents
      ),
    };
  }

  private generateGivenName(preset: Partial&lt;Avatar&gt;): string {
    return (
      preset.identity?.givenName ||
      faker.name.firstName(
        preset.identity?.gender || preset.appearance?.body?.type
      )
    );
  }

  private generateFamilyName(preset: Partial&lt;Avatar&gt;): string {
    return (
      preset.identity?.familyName ||
      faker.name.lastName(
        preset.identity?.gender || preset.appearance?.body?.type
      )
    );
  }

  private generateBirthDate(
    preset: Partial&lt;Avatar&gt;,
    archetype?: Partial&lt;Avatar&gt;,
    parents?: Avatar[]
  ): string {
    parents &#x3D; parents || [];

    let birthDate: Date | undefined;

    if (parents.length &gt; 0) {
      birthDate &#x3D; new Date(parents[0].identity?.birthDate || &#x27;&#x27;);
      const parentYearsWhenBorn &#x3D; faker.datatype.number({ min: 20, max: 30 });
      birthDate.setFullYear(birthDate.getFullYear() + parentYearsWhenBorn);
    }

    return (
      preset.identity?.birthDate ||
      archetype?.identity?.birthDate ||
      birthDate?.toISOString() ||
      faker.date
        .between(&#x27;2020-01-01T00:00:00.000Z&#x27;, &#x27;2022-01-01T00:00:00.000Z&#x27;)
        .toISOString()
    );
  }

  private generateBirthPlace(
    preset: Partial&lt;Avatar&gt;,
    burgs: Burg[]
  ): number | undefined {
    const burgId &#x3D;
      preset.identity?.birthPlace ||
      preset.location?.burg ||
      burgs[Math.floor(Math.random() * burgs.length)].i;
    const burg &#x3D;
      burgs.find((b) &#x3D;&gt; b.i &#x3D;&#x3D;&#x3D; burgId) || faker.random.arrayElement(burgs);

    return burg.i;
  }

  private generateCulture(
    preset: Partial&lt;Avatar&gt;,
    burg?: Burg,
    world?: World
  ): number | undefined {
    return (
      preset.identity?.culture ||
      burg?.culture ||
      faker.random.arrayElement(world?.map.cells.cultures).i
    );
  }

  private generateReligion(
    preset: Partial&lt;Avatar&gt;,
    burgCell?: MapCell,
    world?: World
  ): number | undefined {
    return (
      preset.identity?.religion ||
      burgCell?.religion ||
      faker.random.arrayElement(world?.map.cells.religions).i
    );
  }

  private generateMainProfession(
    preset: Partial&lt;Avatar&gt;,
    archetype?: Partial&lt;Avatar&gt;,
    parents: Avatar[] &#x3D; []
  ): string {
    return (
      preset.identity?.mainProfession ||
      archetype?.identity?.mainProfession ||
      faker.random.arrayElement(parents)?.identity?.mainProfession ||
      faker.random.arrayElement(professions).id
    );
  }

  private generateSecondaryProfession(
    preset: Partial&lt;Avatar&gt;,
    archetype?: Partial&lt;Avatar&gt;,
    parents: Avatar[] &#x3D; []
  ): string {
    return (
      preset.identity?.secondaryProfession ||
      archetype?.identity?.secondaryProfession ||
      faker.random.arrayElement(parents)?.identity?.secondaryProfession ||
      faker.random.arrayElement(professions).id
    );
  }
}
</code></pre>
    </div>

</div>












                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'AvatarIdentityGenerator.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
